webpackJsonp([0],[,,function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(4),i=n(96),a=n(6),s=n(628),l=n(629),c=n(630),p=n(631),d=n(632),u=n(633),f=n(634),h=n(635),g=n(636),m=n(637),v=n(638),b=n(639),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(){function BasicModalServices(e){this.modal=e}return BasicModalServices.prototype.prompt=function(e,t,n,r,i,a){var s=new f.a(e,t,n,r,!1,i,a),l=new o.b(s,void 0,f.a),c={context:l.keyboard(27).toJSON()};return this.modal.open(f.b,c).result},BasicModalServices.prototype.promptPrefixed=function(e,t,n,r,i,a,s){var l=new h.a(e,t,n,r,!1,i,a,s),c=new o.b(l,void 0,h.a),p={context:c.keyboard(27).toJSON()};return this.modal.open(h.b,p).result},BasicModalServices.prototype.promptProperties=function(e,t,n){var r=new g.a(e,t,n),i=new o.b(r,void 0,g.a),a={context:i.keyboard(27).toJSON()};return this.modal.open(g.b,a).result},BasicModalServices.prototype.confirm=function(e,t,n){var r=n||"warning",i=new p.a(e,t,r),a=new o.b(i,void 0,p.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(p.b,s).result},BasicModalServices.prototype.confirmCheck=function(e,t,n,r){var i=r||"warning",a=new c.a(e,t,n,i),s=new o.b(a,void 0,c.a),l={context:s.keyboard(27).toJSON()};return this.modal.open(c.b,l).result},BasicModalServices.prototype.alert=function(e,t,n,r){var i=n||"info",a=new l.a(e,t,i,r),s=new o.b(a,void 0,l.a),c={context:s.keyboard(27).toJSON()};return this.modal.open(l.b,c).result},BasicModalServices.prototype.alertCheck=function(e,t,n,r,i){var a=r||"info",l=new s.a(e,t,n,a,i),c=new o.b(l,void 0,s.a),p={context:c.keyboard(27).toJSON()};return this.modal.open(s.b,p).result},BasicModalServices.prototype.alertCheckWarning=function(e,t,n){return this.alertCheck(e,t,"Don't show this again","warning").then(function(e){e&&i.a.setCookie(n,"false",3650,a.a.getLoggedUser().getIri())})},BasicModalServices.prototype.select=function(e,t,n,r){var i=r||"info",a=new b.a(e,t,n,i),s=new o.b(a,void 0,b.a),l={context:s.keyboard(27).toJSON()};return this.modal.open(b.b,l).result},BasicModalServices.prototype.downloadLink=function(e,t,n,r){var i=new d.a(e,t,n,r),a=new o.b(i,void 0,d.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(d.b,s).result},BasicModalServices.prototype.selectFile=function(e,t,n,r,i){var a=new u.a(e,t,n,r,i),s=new o.b(a,void 0,u.a),l={context:s.keyboard(27).toJSON()};return this.modal.open(u.b,l).result},BasicModalServices.prototype.selectResource=function(e,t,n,r){var i=new v.a(e,t,n,r),a=new o.b(i,void 0,v.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(v.b,s).result},BasicModalServices.prototype.selectCustomForm=function(e,t,n){var r=new m.a(e,t,n),i=new o.b(r,void 0,m.a),a={context:i.keyboard(27).toJSON()};return this.modal.open(m.b,a).result},BasicModalServices=y([n.i(r.g)(),x("design:paramtypes",[o.c])],BasicModalServices)}()},function(e,t,n){"use strict";n.d(t,"m",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return r}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"n",function(){return b}),n.d(t,"o",function(){return y});var r,o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(){function ARTNode(){this.tripleGraphs=[]}return ARTNode.prototype.isResource=function(){return!1},ARTNode.prototype.isURIResource=function(){return!1},ARTNode.prototype.isLiteral=function(){return!1},ARTNode.prototype.isBNode=function(){return!1},ARTNode.prototype.equals=function(e){return this.getNominalValue()==e.getNominalValue()},ARTNode.prototype.setTripleGraphs=function(e){this.tripleGraphs=e},ARTNode.prototype.addTripleGraphs=function(e){for(var t=0;t<e.length;t++)this.addTripleGraph(e[t])},ARTNode.prototype.addTripleGraph=function(e){for(var t=0;t<this.tripleGraphs.length;t++)if(e.getURI()==this.tripleGraphs[t].getURI())return;this.tripleGraphs.push(e)},ARTNode.prototype.getTripleGraphs=function(){return this.tripleGraphs},ARTNode.prototype.setAdditionalProperty=function(e,t){this[e]=t},ARTNode.prototype.deleteAdditionalProperty=function(e){delete this[e]},ARTNode.prototype.getAdditionalProperty=function(e){return this[e]},ARTNode}(),a=function(e){function ARTResource(t,n){var o=e.call(this)||this;return o.role=r.mention,o.graphs=[],o.nature=[],o.show=t,null!=n&&(o.role=n),o}return o(ARTResource,e),ARTResource.prototype.isResource=function(){return!0},ARTResource.prototype.setShow=function(e){this.show=e},ARTResource.prototype.getShow=function(){return null!=this.show?this.show:this.getNominalValue()},ARTResource.prototype.setRole=function(e){this.role=e},ARTResource.prototype.getRole=function(){return this.role},ARTResource.prototype.addNature=function(e,t){var n=this.nature.find(function(t){return t.role==e});null!=n?n.graphs.push(t):this.nature.push({role:e,graphs:[t]})},ARTResource.prototype.setNature=function(e){this.nature=e},ARTResource.prototype.getNature=function(){return this.nature},ARTResource.prototype.setGraphs=function(e){this.graphs=e},ARTResource.prototype.addGraphs=function(e){for(var t=0;t<e.length;t++)this.addGraph(e[t])},ARTResource.prototype.addGraph=function(e){for(var t=0;t<this.graphs.length;t++)if(e.getURI()==this.graphs[t].getURI())return;this.graphs.push(e)},ARTResource.prototype.getGraphs=function(){return this.graphs},ARTResource.prototype.isDeprecated=function(){return this.getAdditionalProperty(d.DEPRECATED)},ARTResource}(i),s=function(e){function ARTURIResource(t,n,r){var o=e.call(this,n,r)||this;return t.startsWith("<")&&t.endsWith(">")&&(t=t.substring(1,t.length-1)),o.uri=t,o}return o(ARTURIResource,e),ARTURIResource.prototype.setURI=function(e){this.uri=e},ARTURIResource.prototype.getURI=function(){return this.uri},ARTURIResource.prototype.isURIResource=function(){return!0},ARTURIResource.prototype.getBaseURI=function(){return this.uri.lastIndexOf("#")>-1?this.uri.substring(0,this.uri.lastIndexOf("#")+1):this.uri.substring(0,this.uri.lastIndexOf("/")+1)},ARTURIResource.prototype.getLocalName=function(){return this.uri.lastIndexOf("#")>-1?this.uri.substring(this.uri.lastIndexOf("#")+1):this.uri.substring(this.uri.lastIndexOf("/")+1)},ARTURIResource.prototype.getNominalValue=function(){return this.uri},ARTURIResource.prototype.toNT=function(){return"<"+this.uri+">"},ARTURIResource.prototype.clone=function(){for(var e=new ARTURIResource(this.uri,this.show,this.role),t=Object.getOwnPropertyNames(this),n=0;n<t.length;n++)e[t[n]]=this[t[n]];return e},ARTURIResource}(a),l=function(e){function ARTBNode(t,n,r){var o=e.call(this,n,r)||this;return o.id=t,o}return o(ARTBNode,e),ARTBNode.prototype.setId=function(e){this.id=e},ARTBNode.prototype.getId=function(){return this.id},ARTBNode.prototype.isBNode=function(){return!0},ARTBNode.prototype.getNominalValue=function(){return this.id},ARTBNode.prototype.toNT=function(){return this.getNominalValue()},ARTBNode.prototype.clone=function(){for(var e=new ARTBNode(this.id,this.show,this.role),t=Object.getOwnPropertyNames(this),n=0;n<t.length;n++)e[t[n]]=this[t[n]];return e},ARTBNode}(a),c=function(e){function ARTLiteral(t,n,r){var o=e.call(this)||this;return o.value=t,o.datatype=n,o.lang=r,o}return o(ARTLiteral,e),ARTLiteral.prototype.setValue=function(e){this.value=e},ARTLiteral.prototype.getValue=function(){return this.value},ARTLiteral.prototype.setDatatype=function(e){this.datatype=e},ARTLiteral.prototype.getDatatype=function(){return this.datatype},ARTLiteral.prototype.setLang=function(e){this.lang=e},ARTLiteral.prototype.getLang=function(){return this.lang},ARTLiteral.prototype.isLiteral=function(){return!0},ARTLiteral.prototype.isTypedLiteral=function(){return null!=this.datatype},ARTLiteral.prototype.getNominalValue=function(){return this.toNT()},ARTLiteral.prototype.getShow=function(){return this.value},ARTLiteral.prototype.toNT=function(){var e=JSON.stringify(this.value);return null!=this.lang&&this.lang.length>0?e+="@"+this.lang:null!=this.datatype&&""!=this.datatype&&(e+="^^<"+this.datatype+">"),e},ARTLiteral.prototype.clone=function(){for(var e=new ARTLiteral(this.value),t=Object.getOwnPropertyNames(this),n=0;n<t.length;n++)e[t[n]]=this[t[n]];return e},ARTLiteral}(i),p=function(){function ARTPredicateObjects(e,t){this.predicate=e,this.objects=t}return ARTPredicateObjects.prototype.getPredicate=function(){return this.predicate},ARTPredicateObjects.prototype.getObjects=function(){return this.objects},ARTPredicateObjects}(),d=function(){function ResAttribute(){}return ResAttribute.SHOW="show",ResAttribute.QNAME="qname",ResAttribute.ROLE="role",ResAttribute.EXPLICIT="explicit",ResAttribute.MORE="more",ResAttribute.NUM_INST="numInst",ResAttribute.HAS_CUSTOM_RANGE="hasCustomRange",ResAttribute.RESOURCE_POSITION="resourcePosition",ResAttribute.ACCESS_METHOD="accessMethod",ResAttribute.LANG="lang",ResAttribute.GRAPHS="graphs",ResAttribute.MEMBERS="members",ResAttribute.INDEX="index",ResAttribute.IN_SCHEME="inScheme",ResAttribute.NATURE="nature",ResAttribute.SCHEMES="schemes",ResAttribute.TRIPLE_SCOPE="tripleScope",ResAttribute.SHOW_INTERPR="show_interpretation",ResAttribute.DEPRECATED="deprecated",ResAttribute.SELECTED="selected",ResAttribute.NEW="new",ResAttribute.NOT_REIFIED="notReified",ResAttribute.IS_IMAGE="isImage",ResAttribute}();!function(e){e.annotationProperty="annotationProperty",e.cls="cls",e.concept="concept",e.conceptScheme="conceptScheme",e.dataRange="dataRange",e.datatypeProperty="datatypeProperty",e.individual="individual",e.mention="mention",e.objectProperty="objectProperty",e.ontology="ontology",e.ontologyProperty="ontologyProperty",e.property="property",e.undetermined="undetermined",e.xLabel="xLabel",e.skosCollection="skosCollection",e.skosOrderedCollection="skosOrderedCollection",e.limeLexicon="limeLexicon",e.ontolexLexicalEntry="ontolexLexicalEntry",e.ontolexLexicalSense="ontolexLexicalSense",e.ontolexForm="ontolexForm"}(r||(r={}));var u;!function(e){e.bnode="bnode",e.literal="literal",e.resource="resource",e.undetermined="undetermined",e.uri="uri"}(u||(u={}));var f,h=function(){function ResourcePosition(){}return ResourcePosition.prototype.isLocal=function(){return!1},ResourcePosition.prototype.isRemote=function(){return!1},ResourcePosition.prototype.isUnknown=function(){return!1},ResourcePosition.deserialize=function(e){return e.startsWith(f.local)?new g(e.substring(e.indexOf(":")+1)):e.startsWith(f.remote)?new m(e.substring(e.indexOf(":")+1)):new v},ResourcePosition}(),g=function(e){function LocalResourcePosition(t){var n=e.call(this)||this;return n.position=f.local,n.project=t,n}return o(LocalResourcePosition,e),LocalResourcePosition.prototype.isLocal=function(){return!0},LocalResourcePosition.prototype.serialize=function(){return this.position+":"+this.project},LocalResourcePosition}(h),m=function(e){function RemoteResourcePosition(t){var n=e.call(this)||this;return n.position=f.remote,n.datasetMetadata=new s(t),n}return o(RemoteResourcePosition,e),RemoteResourcePosition.prototype.isRemote=function(){return!0},RemoteResourcePosition.prototype.serialize=function(){return this.position+":"+this.datasetMetadata.getURI()},RemoteResourcePosition}(h),v=function(e){function UnknownResourcePosition(){var t=e.call(this)||this;return t.position=f.unknown,t}return o(UnknownResourcePosition,e),UnknownResourcePosition.prototype.isUnknown=function(){return!0},UnknownResourcePosition.prototype.serialize=function(){return this.position+":"},UnknownResourcePosition}(h);!function(e){e.local="local",e.remote="remote",e.unknown="unknown"}(f||(f={}));var b;!function(e){e.local="local",e.staged="staged",e.del_staged="del_staged",e.imported="imported",e.inferred="inferred"}(b||(b={}));var y;!function(){function ResourceNature(){}}();!function(e){e.descr="descr",e.ope="ope"}(y||(y={}))},,,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(32),o=n(7),i=function(){function VBContext(){}return VBContext.getWorkingProjectCtx=function(e){return null!=e?e:this.workingProjectCtx},VBContext.setWorkingProject=function(e){this.workingProjectCtx=new a,this.workingProjectCtx.setProject(e)},VBContext.getWorkingProject=function(){return null!=this.workingProjectCtx?this.workingProjectCtx.getProject():null},VBContext.removeWorkingProject=function(){this.workingProjectCtx=null,o.a.resetNavbarTheme()},VBContext.setContextVersion=function(e){this.workingProjectCtx.setContextVersion(e)},VBContext.getContextVersion=function(){return null!=this.workingProjectCtx?this.workingProjectCtx.getContextVersion():null},VBContext.removeContextVersion=function(){this.workingProjectCtx.setContextVersion(null)},VBContext.setProjectChanged=function(e){this.projectChanged=e},VBContext.resetProjectChanged=function(){this.projectChanged=!1},VBContext.isProjectChanged=function(){return this.projectChanged},VBContext.setPrefixMappings=function(e){this.workingProjectCtx.setPrefixMappings(e)},VBContext.getPrefixMappings=function(){return this.workingProjectCtx.getPrefixMappings()},VBContext.setLoggedUser=function(e){this.loggedUser=e},VBContext.getLoggedUser=function(){return this.loggedUser},VBContext.removeLoggedUser=function(){this.loggedUser=null},VBContext.isLoggedIn=function(){return null!=this.loggedUser},VBContext.setProjectUserBinding=function(e){this.workingProjectCtx.setProjectUserBinding(e)},VBContext.getProjectUserBinding=function(){return this.workingProjectCtx.getProjectUserBinding()},VBContext.getSystemSettings=function(){return this.systemSettings},VBContext.resetContext=function(){this.workingProjectCtx=null,this.loggedUser=null},VBContext.systemSettings=new r.b,VBContext}(),a=function(){function ProjectContext(e){this.project=e,this.preferences=new r.c,this.settings=new r.d}return ProjectContext.prototype.setProject=function(e){this.project=e},ProjectContext.prototype.getProject=function(){return this.project},ProjectContext.prototype.setPrefixMappings=function(e){this.prefixMappings=e},ProjectContext.prototype.getPrefixMappings=function(){return this.prefixMappings},ProjectContext.prototype.setContextVersion=function(e){this.ctxVersion=e},ProjectContext.prototype.getContextVersion=function(){return this.ctxVersion},ProjectContext.prototype.setProjectUserBinding=function(e){this.puBinging=e},ProjectContext.prototype.getProjectUserBinding=function(){return this.puBinging},ProjectContext.prototype.getProjectPreferences=function(){return this.preferences},ProjectContext.prototype.getProjectSettings=function(){return this.settings},ProjectContext}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r});var r,o=n(3),i=n(11),a=n(6),s=function(){function UIUtils(){}return UIUtils.startLoadingDiv=function(e){UIUtils.pendingBlockingDiv.push(e),setInterval(function(){-1!=UIUtils.pendingBlockingDiv.indexOf(e)&&(e.style.display="block")},500)},UIUtils.stopLoadingDiv=function(e){UIUtils.pendingBlockingDiv.splice(UIUtils.pendingBlockingDiv.indexOf(e)),e.style.display="none"},UIUtils.stopAllLoadingDiv=function(){for(var e=0;e<UIUtils.pendingBlockingDiv.length;e++)UIUtils.pendingBlockingDiv[e].style.display="none";UIUtils.pendingBlockingDiv=[]},UIUtils.getImageSrc=function(e){var t;if(e instanceof o.e){var n=e.getRole(),r=e.getAdditionalProperty(o.a.DEPRECATED),s=e.getAdditionalProperty(o.a.EXPLICIT)||void 0==e.getAdditionalProperty(o.a.EXPLICIT);if(n==o.c.annotationProperty)t=this.propAnnotationImgSrc,s?r&&(t=this.propAnnotationDeprecatedImgSrc):(t=this.propAnnotationImportedImgSrc,r&&(t=this.propAnnotationImportedDeprecatedImgSrc));else if(n==o.c.cls)t=this.classImgSrc,s?r&&(t=this.classDeprecatedImgSrc):(t=this.classImportedImgSrc,r&&(t=this.classImportedDeprecatedImgSrc));else if(n==o.c.concept)t=this.conceptImgSrc,s?r&&(t=this.conceptDeprecatedImgSrc):(t=this.conceptImportedImgSrc,r&&(t=this.conceptImportedDeprecatedImgSrc));else if(n==o.c.conceptScheme)t=this.conceptSchemeImgSrc,s?r&&(t=this.conceptSchemeDeprecatedImgSrc):(t=this.conceptSchemeImportedImgSrc,r&&(t=this.conceptSchemeImportedDeprecatedImgSrc));else if(n==o.c.dataRange)t=this.datatypeImgSrc,s?r&&(t=this.datatypeDeprecatedImgSrc):(t=this.datatypeImportedImgSrc,r&&(t=this.datatypeImportedDeprecatedImgSrc));else if(n==o.c.datatypeProperty)t=this.propDatatypeImgSrc,s?r&&(t=this.propDatatypeDeprecatedImgSrc):(t=this.propDatatypeImportedImgSrc,r&&(t=this.propDatatypeImportedDeprecatedImgSrc));else if(n==o.c.individual)t=this.individualImgSrc,null!=e.getAdditionalProperty(o.a.LANG)?t=this.getFlagImgSrc(e.getAdditionalProperty(o.a.LANG)):s?r&&(t=this.individualDeprecatedImgSrc):(t=this.individualImportedImgSrc,r&&(t=this.individualImportedDeprecatedImgSrc));else if(n==o.c.limeLexicon)t=this.lexiconImgSrc,s?r&&(t=this.lexiconDeprecatedImgSrc):(t=this.lexiconImportedImgSrc,r&&(t=this.lexiconImportedDeprecatedImgSrc));else if(n==o.c.mention)t=this.mentionImgSrc,e instanceof o.b&&e.getURI().startsWith(a.a.getWorkingProject().getBaseURI())&&(t=this.untypedIndividualImgSrc),null!=e.getAdditionalProperty(o.a.LANG)&&(t=this.getFlagImgSrc(e.getAdditionalProperty(o.a.LANG)));else if(n==o.c.objectProperty)t=this.propObjectImgSrc,s?r&&(t=this.propObjectDeprecatedImgSrc):(t=this.propObjectImportedImgSrc,r&&(t=this.propObjectImportedDeprecatedImgSrc));else if(n==o.c.ontolexForm)t=this.lexicalFormImgSrc,s?r&&(t=this.lexicalFormDeprecatedImgSrc):(t=this.lexicalFormImportedImgSrc,r&&(t=this.lexicalFormImportedDeprecatedImgSrc));else if(n==o.c.ontolexLexicalEntry)t=this.lexicEntryImgSrc,s?r&&(t=this.lexicEntryDeprecatedImgSrc):(t=this.lexicEntryImportedImgSrc,r&&(t=this.lexicEntryImportedDeprecatedImgSrc));else if(n==o.c.ontolexLexicalSense)t=this.lexicSenseImgSrc,s?r&&(t=this.lexicSenseDeprecatedImgSrc):(t=this.lexicSenseImportedImgSrc,r&&(t=this.lexicSenseImportedDeprecatedImgSrc));else if(n==o.c.ontology)t=this.ontologyImgSrc;else if(n==o.c.ontologyProperty)t=this.propOntologyImgSrc,s?r&&(t=this.propOntologyDeprecatedImgSrc):(t=this.propOntologyImportedImgSrc,r&&(t=this.propOntologyImportedDeprecatedImgSrc));else if(n==o.c.property)t=this.propImgSrc,s?r&&(t=this.propDeprecatedImgSrc):(t=this.propImportedImgSrc,r&&(t=this.propImportedDeprecatedImgSrc));else if(n==o.c.skosCollection)t=this.collectionImgSrc,s?r&&(t=this.collectionDeprecatedImgSrc):(t=this.collectionImportedImgSrc,r&&(t=this.collectionImportedDeprecatedImgSrc));else if(n==o.c.skosOrderedCollection)t=this.orderedCollectionImgSrc,s?r&&(t=this.orderedCollectionDeprecatedImgSrc):(t=this.orderedCollectionImportedImgSrc,r&&(t=this.orderedCollectionImportedDeprecatedImgSrc));else if(n==o.c.xLabel){var l=e.getAdditionalProperty(o.a.LANG);null!=l?t=this.getFlagImgSrc(l):(t=this.xLabelImgSrc,s?r&&(t=this.xLabelDeprecatedImgSrc):(t=this.xLabelImportedImgSrc,r&&(t=this.xLabelImportedDeprecatedImgSrc)))}else t=this.individualImgSrc}else if(e instanceof o.f){var l=e.getLang(),c=e.getDatatype();null!=l?t=this.getFlagImgSrc(l):null!=c&&(t=c==i.j.language.getURI()?this.getFlagImgSrc(e.getValue()):this.getDatatypeImgSrc(c))}return t},UIUtils.getRoleImageSrc=function(e){return e==o.c.concept?this.conceptImgSrc:e==o.c.conceptScheme?this.conceptSchemeImgSrc:e==o.c.cls?this.classImgSrc:e==o.c.individual?this.individualImgSrc:e==o.c.skosCollection?this.collectionImgSrc:e==o.c.skosOrderedCollection?this.orderedCollectionImgSrc:e==o.c.property?this.propImgSrc:e==o.c.annotationProperty?this.propAnnotationImgSrc:e==o.c.datatypeProperty?this.propDatatypeImgSrc:e==o.c.objectProperty?this.propObjectImgSrc:e==o.c.ontologyProperty?this.propOntologyImgSrc:e==o.c.xLabel?this.xLabelImgSrc:this.individualImgSrc},UIUtils.getActionImageSrc=function(e,t){return n(2384)("./"+e+"_"+t+".png")},UIUtils.getFlagImgSrc=function(e){e=e.toLowerCase();return null!=e&&-1!=this.availableFlagLang.indexOf(e)?n(2383)("./flag_"+e+".png"):n(790)},UIUtils.getDatatypeImgSrc=function(e){return n(e==i.j.dateTime.getURI()||e==i.j.dateTimeStamp.getURI()?1693:e==i.j.date.getURI()?1692:e==i.j.time.getURI()?1736:e==i.i.xmlLiteral.getURI()||e==i.j.string.getURI()||e==i.j.normalizedString.getURI()?1735:e==i.j.boolean.getURI()?1670:e==i.c.rational.getURI()||e==i.c.real.getURI()||e==i.j.byte.getURI()||e==i.j.decimal.getURI()||e==i.j.double.getURI()||e==i.j.float.getURI()||e==i.j.int.getURI()||e==i.j.integer.getURI()||e==i.j.long.getURI()||e==i.j.negativeInteger.getURI()||e==i.j.nonNegativeInteger.getURI()||e==i.j.nonPositiveInteger.getURI()||e==i.j.positiveInteger.getURI()||e==i.j.short.getURI()||e==i.j.unsignedByte.getURI()||e==i.j.unsignedInt.getURI()||e==i.j.unsignedLong.getURI()||e==i.j.unsignedShort.getURI()?1711:1737)},UIUtils.resetNavbarTheme=function(){UIUtils.changeNavbarTheme()},UIUtils.changeNavbarTheme=function(e){void 0===e&&(e=0);var t=UIUtils.themes[0];UIUtils.themes.forEach(function(n){if(n.id==e)return void(t=n)});for(var n,r=document.all?"rules":"cssRules",o=document.styleSheets,i=0;i<o.length;i++)if(null!=o.item(i).href&&o.item(i).href.includes("app.")&&o.item(i).href.endsWith(".css")){n=o.item(i);break}for(var a=n[r],s=0;s<a.length;s++){var l=a.item(s);l instanceof CSSStyleRule&&l.selectorText.includes(".navbar-default")&&(".navbar-default"==l.selectorText||".navbar-default .navbar-collapse, .navbar-default .navbar-form"==l.selectorText||".navbar-default .navbar-brand"==l.selectorText||".navbar-default .navbar-brand:hover, .navbar-default .navbar-brand:focus"==l.selectorText||".navbar-default .navbar-nav > li > a"==l.selectorText||".navbar-default .navbar-toggle"==l.selectorText?l.style.backgroundColor=t.mainColor:".navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus"!=l.selectorText&&".navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus"!=l.selectorText&&".navbar-default .navbar-link:hover"!=l.selectorText&&".navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus"!=l.selectorText&&".navbar-default .navbar-nav .open .dropdown-menu > li > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus"!=l.selectorText&&".navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus"!=l.selectorText&&".navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus"!=l.selectorText||(l.style.backgroundColor=t.altColor))}},UIUtils.setFullSizeModal=function(e){e.nativeElement.parentElement.style.setProperty("flex","1")},UIUtils.pendingBlockingDiv=[],UIUtils.blockDivFullScreen=document.getElementById("blockDivFullScreen"),UIUtils.availableFlagLang=["ar","be","bg","bn","cs","da","de","el","en","en-gb","en-us","es","et","fa","fr","fi","ga","hi","hr","hu","hy","id","it","ja","ka","km","ko","kz","lt","lv","nl","no","pl","pt","ro","ru","sk","sl","sq","sr","sv","th","tr","uk","vi","zh"],UIUtils.classImgSrc=n(213),UIUtils.classImportedImgSrc=n(1674),UIUtils.classDeprecatedImgSrc=n(1673),UIUtils.classImportedDeprecatedImgSrc=n(1675),UIUtils.classDefVocImgSrc=n(1671),UIUtils.classDefVocDeprecatedImgSrc=n(1672),UIUtils.individualImgSrc=n(1694),UIUtils.individualImportedImgSrc=n(1696),UIUtils.individualDeprecatedImgSrc=n(1695),UIUtils.individualImportedDeprecatedImgSrc=n(1697),UIUtils.conceptImgSrc=n(1680),UIUtils.conceptImportedImgSrc=n(1686),UIUtils.conceptDeprecatedImgSrc=n(1685),UIUtils.conceptImportedDeprecatedImgSrc=n(1687),UIUtils.conceptSchemeImgSrc=n(1681),UIUtils.conceptSchemeImportedImgSrc=n(1683),UIUtils.conceptSchemeDeprecatedImgSrc=n(1682),UIUtils.conceptSchemeImportedDeprecatedImgSrc=n(1684),UIUtils.collectionImgSrc=n(1676),UIUtils.collectionImportedImgSrc=n(1678),UIUtils.collectionDeprecatedImgSrc=n(1677),UIUtils.collectionImportedDeprecatedImgSrc=n(1679),UIUtils.datatypeImgSrc=n(1688),UIUtils.datatypeImportedImgSrc=n(1690),UIUtils.datatypeDeprecatedImgSrc=n(1689),UIUtils.datatypeImportedDeprecatedImgSrc=n(1691),UIUtils.lexiconImgSrc=n(1706),UIUtils.lexiconImportedImgSrc=n(1708),UIUtils.lexiconDeprecatedImgSrc=n(1707),UIUtils.lexiconImportedDeprecatedImgSrc=n(1709),UIUtils.lexicEntryImgSrc=n(1698),UIUtils.lexicEntryImportedImgSrc=n(1700),UIUtils.lexicEntryDeprecatedImgSrc=n(1699),UIUtils.lexicEntryImportedDeprecatedImgSrc=n(1701),UIUtils.lexicSenseImgSrc=n(1712),UIUtils.lexicSenseImportedImgSrc=n(1714),UIUtils.lexicSenseDeprecatedImgSrc=n(1713),UIUtils.lexicSenseImportedDeprecatedImgSrc=n(1715),UIUtils.lexicalFormImgSrc=n(1702),UIUtils.lexicalFormImportedImgSrc=n(1704),UIUtils.lexicalFormDeprecatedImgSrc=n(1703),UIUtils.lexicalFormImportedDeprecatedImgSrc=n(1705),UIUtils.orderedCollectionImgSrc=n(1716),UIUtils.orderedCollectionImportedImgSrc=n(1718),UIUtils.orderedCollectionDeprecatedImgSrc=n(1717),UIUtils.orderedCollectionImportedDeprecatedImgSrc=n(1719),UIUtils.xLabelImgSrc=n(1739),UIUtils.xLabelImportedImgSrc=n(1741),UIUtils.xLabelDeprecatedImgSrc=n(1740),UIUtils.xLabelImportedDeprecatedImgSrc=n(1742),UIUtils.ontologyImgSrc=n(64),UIUtils.propImgSrc=n(275),UIUtils.propImportedImgSrc=n(1733),UIUtils.propDeprecatedImgSrc=n(1732),UIUtils.propImportedDeprecatedImgSrc=n(1734),UIUtils.propObjectImgSrc=n(276),UIUtils.propObjectImportedImgSrc=n(1727),UIUtils.propObjectDeprecatedImgSrc=n(1726),UIUtils.propObjectImportedDeprecatedImgSrc=n(1728),UIUtils.propDatatypeImgSrc=n(813),UIUtils.propDatatypeImportedImgSrc=n(1724),UIUtils.propDatatypeDeprecatedImgSrc=n(1723),UIUtils.propDatatypeImportedDeprecatedImgSrc=n(1725),UIUtils.propAnnotationImgSrc=n(376),UIUtils.propAnnotationImportedImgSrc=n(1721),UIUtils.propAnnotationDeprecatedImgSrc=n(1720),UIUtils.propAnnotationImportedDeprecatedImgSrc=n(1722),UIUtils.propOntologyImgSrc=n(814),UIUtils.propOntologyImportedImgSrc=n(1730),UIUtils.propOntologyDeprecatedImgSrc=n(1729),UIUtils.propOntologyImportedDeprecatedImgSrc=n(1731),UIUtils.mentionImgSrc=n(1710),UIUtils.untypedIndividualImgSrc=n(1738),UIUtils.themes=[{id:0,mainColor:"#1e4387",altColor:"#7486ab"},{id:1,mainColor:"#283e4a",altColor:"#7aa2b8"},{id:2,mainColor:"#1da1f2",altColor:"#75c6f7"},{id:3,mainColor:"#367c36",altColor:"#5cb85c"},{id:4,mainColor:"#5f5f5f",altColor:"#b3b3b3"},{id:5,mainColor:"#cc181e",altColor:"#ec5f64"},{id:6,mainColor:"#6f5499",altColor:"#a08cc0"}],UIUtils}();!function(){function Theme(){}}();!function(e){e.clsIndTree="clsIndTree",e.dataPanel="dataPanel",e.addPropValue="addPropValue"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return b});var r=n(0),o=n(153),i=n(46),a=n(41),s=(n.n(a),n(1)),l=(n.n(s),n(1085)),c=n(7),p=n(3),d=n(47),u=n(6),f=n(2),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function HttpManager(e,t,r){this.http=e,this.router=t,this.basicModals=r,this.serverpath="semanticturkey",this.groupId="it.uniroma2.art.semanticturkey",this.artifactId="st-core-services",this.defaultRequestOptions=new b({errorAlertOpt:{show:!0,exceptionsToSkip:[]}}),n(1611);var o=window.st_protocol,i=o||location.protocol;i.endsWith(":")||(i+=":"),this.serverhost=i+"//";var a=window.st_host,s=a||location.hostname;this.serverhost+=s;var l=window.st_port,c=l||location.port;this.serverhost+=":"+c;var p=window.st_path;null!=p&&(this.serverhost+="/"+p)}return HttpManager.prototype.doGet=function(e,t,n,r){var i=this;r=this.defaultRequestOptions.merge(r);var a=this.getRequestBaseUrl(e,t);a+=this.getParametersForUrl(n),a+=this.getContextParametersForUrl(r);var s=new o.a;s.append("Accept",l.a.ContentType.applicationJson);var c=new o.b({headers:s,withCredentials:!0});return this.http.get(a,c).map(function(e){return i.handleJsonXmlResponse(e)}).map(function(e){return i.handleOkOrErrorResponse(e)}).catch(function(e){return i.handleError(e,r.errorAlertOpt)})},HttpManager.prototype.doPost=function(e,t,n,r){var i=this;r=this.defaultRequestOptions.merge(r);var a=this.getRequestBaseUrl(e,t);a+=this.getContextParametersForUrl(r);var s=this.getPostData(n),c=new o.a;c.append("Content-Type","application/x-www-form-urlencoded"),c.append("Accept",l.a.ContentType.applicationJson);var p=new o.b({headers:c,withCredentials:!0});return this.http.post(a,s,p).map(function(e){return i.handleJsonXmlResponse(e)}).map(function(e){return i.handleOkOrErrorResponse(e)}).catch(function(e){return i.handleError(e,r.errorAlertOpt)})},HttpManager.prototype.uploadFile=function(e,t,n,r){var i=this;r=this.defaultRequestOptions.merge(r);var a=this.getRequestBaseUrl(e,t);a+=this.getContextParametersForUrl(r);var s=new FormData;for(var c in n){var d=n[c];null!=d&&(d instanceof p.b||d instanceof p.d||d instanceof p.f?s.append(c,d.toNT()):s.append(c,d))}var u=new o.a;u.append("Accept",l.a.ContentType.applicationJson);var f=new o.b({headers:u,withCredentials:!0});return this.http.post(a,s,f).map(function(e){return i.handleJsonXmlResponse(e)}).map(function(e){return i.handleOkOrErrorResponse(e)}).catch(function(e){return i.handleError(e,r.errorAlertOpt)})},HttpManager.prototype.downloadFile=function(e,t,n,r,i){var a=this;i=this.defaultRequestOptions.merge(i);var s=this.getRequestBaseUrl(e,t);if(r){s+=this.getContextParametersForUrl(i);var l=this.getPostData(n),c=new o.a;c.append("Content-Type","application/x-www-form-urlencoded");var p=new o.b({headers:c,withCredentials:!0,responseType:o.c.ArrayBuffer});return this.http.post(s,l,p).map(function(e){return a.arrayBufferRespHandler(e)}).catch(function(e){return a.handleError(e,i.errorAlertOpt)})}s+=this.getParametersForUrl(n),s+=this.getContextParametersForUrl(i);var p=new o.b({headers:new o.a,withCredentials:!0,responseType:o.c.ArrayBuffer});return this.http.get(s,p).map(function(e){return a.arrayBufferRespHandler(e)}).catch(function(e){return a.handleError(e,i.errorAlertOpt)})},HttpManager.prototype.arrayBufferRespHandler=function(e){var t=e.arrayBuffer(),n=e.headers.get("content-type");if(n.includes(l.a.ContentType.applicationJson+";")){var r=String.fromCharCode.apply(String,new Uint8Array(t)),o=JSON.parse(r);if(l.a.isErrorResponse(o)){var i=new Error(l.a.getErrorResponseExceptionMessage(o));throw i.name=l.a.getErrorResponseExceptionName(o),i.stack=l.a.getErrorResponseExceptionStackTrace(o),i}var a=new Blob([t],{type:n});return a}var a=new Blob([t],{type:n});return a},HttpManager.prototype.getRequestBaseUrl=function(e,t){return this.serverhost+"/"+this.serverpath+"/"+this.groupId+"/"+this.artifactId+"/"+e+"/"+t+"?"},HttpManager.prototype.getContextParametersForUrl=function(e){var t,n,r="";return null!=e.ctxProject?t=e.ctxProject:null!=v.getContextProject()&&(t=v.getContextProject()),null!=t?n=null!=v.getConsumerProject()?v.getConsumerProject():u.a.getWorkingProject():t=u.a.getWorkingProject(),null!=t&&(r+="ctx_project="+encodeURIComponent(t.getName())+"&"),null!=n&&(r+="ctx_consumer="+encodeURIComponent(n.getName())+"&"),void 0!=v.getContextVersion()?r+="ctx_version="+encodeURIComponent(v.getContextVersion().versionId)+"&":void 0!=u.a.getContextVersion()&&(r+="ctx_version="+encodeURIComponent(u.a.getContextVersion().versionId)+"&"),void 0!=v.getSessionToken()&&(r+="ctx_token="+encodeURIComponent(v.getSessionToken())+"&"),v.getContextForce()&&(r+="ctx_force=true&"),r},HttpManager.prototype.getParametersForUrl=function(e){return this.getPostData(e)+"&"},HttpManager.prototype.getPostData=function(e){var t,n=[];for(var r in e)!function(){if(null==(t=e[r]))return"continue";if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++)t[i]instanceof p.b||t[i]instanceof p.d||t[i]instanceof p.f?o.push(t[i].toNT()):o.push(t[i]);n.push(encodeURIComponent(r)+"="+encodeURIComponent(o.join(",")))}else if(t instanceof Map){var a={};t.forEach(function(e,t){e instanceof p.b||e instanceof p.d||e instanceof p.f?a[t]=e.toNT():a[t]=e}),n.push(encodeURIComponent(r)+"="+encodeURIComponent(JSON.stringify(a)))}else t instanceof p.b||t instanceof p.d||t instanceof p.f?n.push(encodeURIComponent(r)+"="+encodeURIComponent(t.toNT())):t instanceof d.a?n.push(encodeURIComponent(r)+"="+encodeURIComponent(JSON.stringify(t))):n.push(encodeURIComponent(r)+"="+encodeURIComponent(t))}();return n.join("&")},HttpManager.prototype.handleJsonXmlResponse=function(e){if(-1!=e.headers.get("Content-Type").indexOf(l.a.ContentType.applicationXml)){return(new DOMParser).parseFromString(e.text(),l.a.ContentType.applicationXml)}if(-1!=e.headers.get("Content-Type").indexOf(l.a.ContentType.applicationJson))return e.json()},HttpManager.prototype.handleOkOrErrorResponse=function(e){if(l.a.isErrorResponse(e)){var t=new Error(l.a.getErrorResponseExceptionMessage(e));throw t.name=l.a.getErrorResponseExceptionName(e),t.stack=l.a.getErrorResponseExceptionStackTrace(e),t}return l.a.getResponseData(e)},HttpManager.prototype.handleError=function(e,t){var n=this,r=new Error;if(0!=e.status||e.ok||""!=e.statusText||3!=e.type||null!=e.url){if(401==e.status||403==e.status){r.name="UnauthorizedRequestError";var o=e._body,i="Unknown error response from the server. Error status: "+e.status;o instanceof ArrayBuffer?"text/plain"==e.headers.get("content-type")&&(i=String.fromCharCode.apply(String,new Uint8Array(o))):i=o,r.message=i,401==e.status?this.basicModals.alert("Error",i,"error").then(function(){u.a.resetContext(),v.resetContext(),c.a.resetNavbarTheme(),n.router.navigate(["/Home"])}):t.show&&v.isErrorInterceptionEnabled()&&this.basicModals.alert("Error",i,"error")}else if(500==e.status||404==e.status){var a=(null!=e.statusText?e.statusText:"Unknown response from the server")+" (status: "+e.status+")";r.name="ServerError",r.message=a,this.basicModals.alert("Error",a,"error",e._body)}else if(e instanceof Error){if(r=e,t.show&&(null==t.exceptionsToSkip||-1==t.exceptionsToSkip.indexOf(r.name))&&v.isErrorInterceptionEnabled()){var a=null!=r.message?r.message:"Unknown response from the server",l=r.stack?r.stack:r.name;this.basicModals.alert("Error",a,"error",l)}}else if(t.show&&(null==t.exceptionsToSkip||-1==t.exceptionsToSkip.indexOf(r.name))&&v.isErrorInterceptionEnabled()){r=e;var a=null!=r.message?r.message:"Unknown response from the server",l=r.stack?r.stack:r.name;this.basicModals.alert("Error",a,"error",l)}}else{var a="Connection with ST server ("+this.serverhost+") has failed; please check your internet connection";this.basicModals.alert("Error",a,"error"),r.name="ConnectionError",r.message=a}return c.a.stopAllLoadingDiv(),s.Observable.throw(r)},HttpManager=h([n.i(r.g)(),g("design:paramtypes",[o.d,i.c,f.a])],HttpManager)}(),v=function(){function HttpServiceContext(){}return HttpServiceContext.setContextProject=function(e){this.ctxProject=e},HttpServiceContext.getContextProject=function(){return this.ctxProject},HttpServiceContext.removeContextProject=function(){this.ctxProject=null},HttpServiceContext.setConsumerProject=function(e){this.ctxConsumer=e},HttpServiceContext.getConsumerProject=function(){return this.ctxConsumer},HttpServiceContext.removeConsumerProject=function(){this.ctxConsumer=null},HttpServiceContext.setContextVersion=function(e){this.ctxVersion=e},HttpServiceContext.getContextVersion=function(){return this.ctxVersion},HttpServiceContext.removeContextVersion=function(){this.ctxVersion=null},HttpServiceContext.setContextForce=function(e){this.ctxForce=e},HttpServiceContext.getContextForce=function(){return this.ctxForce},HttpServiceContext.initSessionToken=function(){if(null==this.sessionToken){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<16;n++){e+=t[Math.round(Math.random()*(t.length-1))]}this.sessionToken=e}},HttpServiceContext.getSessionToken=function(){return this.sessionToken},HttpServiceContext.removeSessionToken=function(){this.sessionToken=null},HttpServiceContext.isErrorInterceptionEnabled=function(){return this.interceptError},HttpServiceContext.enableErrorInterception=function(){this.interceptError=!0},HttpServiceContext.disableErrorInterception=function(){this.interceptError=!1},HttpServiceContext.resetContext=function(){this.ctxProject=null,this.ctxConsumer=null,this.ctxVersion=null,this.sessionToken=null,this.interceptError=!0},HttpServiceContext.interceptError=!0,HttpServiceContext}(),b=function(){function VBRequestOptions(e){var t=void 0===e?{}:e,n=t.errorAlertOpt,r=t.ctxProject;this.errorAlertOpt=null!=n?n:null,this.ctxProject=null!=r?r:null}return VBRequestOptions.prototype.merge=function(e){return new VBRequestOptions({errorAlertOpt:e&&null!=e.errorAlertOpt?e.errorAlertOpt:this.errorAlertOpt,ctxProject:e&&null!=e.ctxProject?e.ctxProject:this.ctxProject})},VBRequestOptions.getRequestOptions=function(e){return null!=e?new VBRequestOptions({ctxProject:e.getProject()}):null},VBRequestOptions}();(function(){function ErrorAlertOptions(){}})(),function(){function STRequestParams(){}}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r});var r,o=n(3),i=n(230),a=n(11),s=function(){function ResourceUtils(){}return ResourceUtils.sortResources=function(e,t){if(t==r.show){var n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});e.sort(function(e,t){return n.compare(e.getShow().toLowerCase(),t.getShow().toLowerCase())})}t==r.value&&e.sort(function(e,t){return e.getNominalValue().localeCompare(t.getNominalValue())})},ResourceUtils.containsNode=function(e,t){return-1!=this.indexOfNode(e,t)},ResourceUtils.indexOfNode=function(e,t){for(var n=0;n<e.length;n++)if(e[n].getNominalValue()==t.getNominalValue())return n;return-1},ResourceUtils.getRendering=function(e,t){if(e instanceof o.b){if(t)return e.getShow();var n=e.getAdditionalProperty(o.a.QNAME);return void 0!=n?n:e.getURI()}if(e instanceof o.d)return e.getShow();if(e instanceof o.f){var r=e.getValue(),a=e.getDatatype();return null!=a&&i.a.xsdNumericDatatypes.some(function(e){return e.getURI()==a})&&!isNaN(Number(r))?Number(r).toLocaleString():r}},ResourceUtils.parseNode=function(e){var t;try{t=ResourceUtils.parseURI(e)}catch(e){}if(null==t)try{t=ResourceUtils.parseLiteral(e)}catch(e){}if(null==t)try{t=ResourceUtils.parseBNode(e)}catch(e){}if(null==t)throw new Error("Not a legal N-Triples representation: "+e);return t},ResourceUtils.parseURI=function(e){if(e.startsWith("<")&&e.endsWith(">")){var t=e.substring(1,e.length-1);return t=decodeURI(t),new o.b(t)}throw new Error("Not a legal N-Triples URI: "+e)},ResourceUtils.parseLiteral=function(e){if(e.startsWith('"')){var t=this.findEndOfLabel(e);if(-1!=t){var n=e.indexOf("@",t),r=e.indexOf("^^",t);if(-1!=n&&-1!=r)throw new Error("Literals can not have both a language and a datatype");var i=e.substring(0,t+1);if(i=JSON.parse(i),-1!=n){var a=e.substring(n+1);return new o.f(i,null,a)}if(-1!=r){var s=e.substring(r+2),l=this.parseURI(s);return new o.f(i,l.getURI())}return new o.f(i)}}throw new Error("Not a legal N-Triples literal: "+e)},ResourceUtils.findEndOfLabel=function(e){for(var t=!1,n=1;n<e.length;n++){var r=e.charAt(n);if('"'==r&&!t)return n;"\\"!=r||t?t&&(t=!1):t=!0}return-1},ResourceUtils.parseBNode=function(e){if(e.startsWith("_:"))return new o.d(e);throw new Error("Not a legal N-Triples Blank Node: "+e)},ResourceUtils.isQName=function(e,t){var n=e.indexOf(":");if(-1!=n){if(e.includes(" "))return!1;for(var r=e.substring(0,n),o=0;o<t.length;o++)if(t[o].prefix==r)return!0}return!1},ResourceUtils.parseQName=function(e,t){var n=e.indexOf(":");if(-1==n)throw new Error("Not a legal N-Triples QName: "+e);for(var r=e.substring(0,n),i=e.substring(n+1),a=0;a<t.length;a++)if(t[a].prefix==r)return new o.b(t[a].namespace+i)},ResourceUtils.getQName=function(e,t){for(var n=0;n<t.length;n++)if(e.startsWith(t[n].namespace))return e.replace(t[n].namespace,t[n].prefix+":");return e},ResourceUtils.isResourceInStaging=function(e){return this.isResourceInStagingAdd(e)||this.isResourceInStagingRemove(e)},ResourceUtils.isResourceInStagingAdd=function(e){for(var t=e.getGraphs(),n=0;n<t.length;n++)if(t[n].getURI().startsWith(a.a.stagingAddGraph))return!0;return!1},ResourceUtils.isResourceInStagingRemove=function(e){for(var t=e.getGraphs(),n=0;n<t.length;n++)if(t[n].getURI().startsWith(a.a.stagingRemoveGraph))return!0;return!1},ResourceUtils.isTripleInStaging=function(e){return this.isTripleInStagingAdd(e)||this.isTripleInStagingRemove(e)},ResourceUtils.isTripleInStagingAdd=function(e){for(var t=e.getTripleGraphs(),n=0;n<t.length;n++)if(t[n].getURI().startsWith(a.a.stagingAddGraph))return!0;return!1},ResourceUtils.isTripleInStagingRemove=function(e){for(var t=e.getTripleGraphs(),n=0;n<t.length;n++)if(t[n].getURI().startsWith(a.a.stagingRemoveGraph))return!0;return!1},ResourceUtils.isTripleInferred=function(e){return ResourceUtils.containsNode(e.getTripleGraphs(),new o.b(a.a.inferenceGraph))},ResourceUtils.roleSubsumes=function(e,t,n){return e==t||(!(e!=o.c.undetermined||!n)||(e==o.c.property?t==o.c.objectProperty||t==o.c.datatypeProperty||t==o.c.annotationProperty||t==o.c.ontologyProperty:e==o.c.skosCollection&&t==o.c.skosOrderedCollection))},ResourceUtils.testIRI=function(e){return new RegExp("\\b(https?|ftp|file)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]").test(e)},ResourceUtils.convertRoleToClass=function(e,t){var n;return e==o.c.annotationProperty?n=a.c.annotationProperty:e==o.c.cls?n=t==a.b.uri?a.b.class:a.c.class:e==o.c.concept?n=t==a.f.uri?a.f.lexicalConcept:a.d.concept:e==o.c.conceptScheme?n=t==a.f.uri?a.f.conceptSet:a.d.conceptScheme:e==o.c.dataRange?n=a.c.dataRange:e==o.c.datatypeProperty?n=a.c.datatypeProperty:e==o.c.limeLexicon?n=a.h.lexicon:e==o.c.objectProperty?n=a.c.objectProperty:e==o.c.ontolexForm?n=a.f.form:e==o.c.ontolexLexicalEntry?n=a.f.lexicalEntry:e==o.c.ontolexLexicalSense?n=a.f.lexicalSense:e==o.c.ontology?n=a.c.ontology:e==o.c.ontologyProperty?n=a.c.ontologyProperty:e==o.c.property?n=a.i.property:e==o.c.skosCollection?n=a.d.collection:e==o.c.skosOrderedCollection?n=a.d.orderedCollection:e==o.c.xLabel&&(n=a.e.label),n},ResourceUtils.getResourceRoleLabel=function(e,t){if(e==o.c.cls)return"Class";if(e==o.c.xLabel)return"Skosxl Label";if(e==o.c.undetermined&&t)return"Any resource";var n=e.replace(/([a-z])([A-Z])/g,"$1 $2");return n.charAt(0).toLocaleUpperCase()+n.slice(1)},ResourceUtils}();!function(e){e.value="value",e.show="show"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"i",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"j",function(){return c}),n.d(t,"f",function(){return p}),n.d(t,"h",function(){return d}),n.d(t,"k",function(){return u}),n.d(t,"g",function(){return f}),n.d(t,"a",function(){return h});var r=n(3),o=function(){function RDF(){}return RDF.uri="http://www.w3.org/1999/02/22-rdf-syntax-ns",RDF.namespace=RDF.uri+"#",RDF.alt=new r.b(RDF.namespace+"Alt","rdf:Alt",r.c.cls),RDF.bag=new r.b(RDF.namespace+"Bag","rdf:Bag",r.c.cls),RDF.langString=new r.b(RDF.namespace+"langString","rdf:langString",r.c.cls),RDF.list=new r.b(RDF.namespace+"List","rdf:List",r.c.cls),RDF.property=new r.b(RDF.namespace+"Property","rdf:Property",r.c.cls),RDF.seq=new r.b(RDF.namespace+"Seq","rdf:Seq",r.c.cls),RDF.statement=new r.b(RDF.namespace+"Statement","rdf:Statement",r.c.cls),RDF.xmlLiteral=new r.b(RDF.namespace+"XMLLiteral","rdf:XMLLiteral",r.c.cls),RDF.first=new r.b(RDF.namespace+"first","rdf:first",r.c.property),RDF.object=new r.b(RDF.namespace+"object","rdf:object",r.c.property),RDF.predicate=new r.b(RDF.namespace+"predicate","rdf:predicate",r.c.property),RDF.rest=new r.b(RDF.namespace+"rest","rdf:rest",r.c.property),RDF.subject=new r.b(RDF.namespace+"subject","rdf:subject",r.c.property),RDF.type=new r.b(RDF.namespace+"type","rdf:type",r.c.property),RDF.value=new r.b(RDF.namespace+"value","rdf:value",r.c.property),RDF.nil=new r.b(RDF.namespace+"nil","rdf:nil",r.c.individual),RDF}(),i=function(){function RDFS(){}return RDFS.uri="http://www.w3.org/2000/01/rdf-schema",RDFS.namespace=RDFS.uri+"#",RDFS.class=new r.b(RDFS.namespace+"Class","rdfs:Class",r.c.cls),RDFS.container=new r.b(RDFS.namespace+"Container","rdfs:Container",r.c.cls),RDFS.containerMembershipProperty=new r.b(RDFS.namespace+"ContainerMembershipProperty","rdfs:ContainerMembershipProperty",r.c.cls),RDFS.datatype=new r.b(RDFS.namespace+"Datatype","rdfs:Datatype",r.c.cls),RDFS.literal=new r.b(RDFS.namespace+"Literal","rdfs:Literal",r.c.cls),RDFS.resource=new r.b(RDFS.namespace+"Resource","rdfs:Resource",r.c.cls),RDFS.comment=new r.b(RDFS.namespace+"comment","rdfs:comment",r.c.annotationProperty),RDFS.domain=new r.b(RDFS.namespace+"domain","rdfs:domain",r.c.property),RDFS.isDefinedBy=new r.b(RDFS.namespace+"isDefinedBy","rdfs:isDefinedBy",r.c.annotationProperty),RDFS.label=new r.b(RDFS.namespace+"label","rdfs:label",r.c.annotationProperty),RDFS.member=new r.b(RDFS.namespace+"member","rdfs:member",r.c.property),RDFS.range=new r.b(RDFS.namespace+"range","rdfs:range",r.c.property),RDFS.seeAlso=new r.b(RDFS.namespace+"seeAlso","rdfs:seeAlso",r.c.annotationProperty),RDFS.subClassOf=new r.b(RDFS.namespace+"subClassOf","rdfs:subClassOf",r.c.property),RDFS.subPropertyOf=new r.b(RDFS.namespace+"subPropertyOf","rdfs:subPropertyOf",r.c.property),RDFS}(),a=function(){function OWL(){}return OWL.uri="http://www.w3.org/2002/07/owl",OWL.namespace=OWL.uri+"#",OWL.allDifferent=new r.b(OWL.namespace+"AllDifferent","owl:AllDifferent",r.c.cls),OWL.annotationProperty=new r.b(OWL.namespace+"AnnotationProperty","owl:AnnotationProperty",r.c.cls),OWL.asymmetricProperty=new r.b(OWL.namespace+"AsymmetricProperty","owl:AsymmetricProperty",r.c.cls),OWL.class=new r.b(OWL.namespace+"Class","owl:Class",r.c.cls),OWL.datatypeProperty=new r.b(OWL.namespace+"DatatypeProperty","owl:DatatypeProperty",r.c.cls),OWL.deprecatedClass=new r.b(OWL.namespace+"DeprecatedClass","owl:DeprecatedClass",r.c.cls),OWL.deprecatedProperty=new r.b(OWL.namespace+"DeprecatedProperty","owl:DeprecatedProperty",r.c.cls),OWL.functionalProperty=new r.b(OWL.namespace+"FunctionalProperty","owl:FunctionalProperty",r.c.cls),OWL.inverseFunctionalProperty=new r.b(OWL.namespace+"InverseFunctionalProperty","owl:InverseFunctionalProperty",r.c.cls),OWL.irreflexiveProperty=new r.b(OWL.namespace+"IrreflexiveProperty","owl:IrreflexiveProperty",r.c.cls),OWL.objectProperty=new r.b(OWL.namespace+"ObjectProperty","owl:ObjectProperty",r.c.cls),OWL.ontology=new r.b(OWL.namespace+"Ontology","owl:Ontology",r.c.cls),OWL.ontologyProperty=new r.b(OWL.namespace+"OntologyProperty","owl:OntologyProperty",r.c.cls),OWL.reflexiveProperty=new r.b(OWL.namespace+"ReflexiveProperty","owl:ReflexiveProperty",r.c.cls),OWL.restriction=new r.b(OWL.namespace+"Restriction","owl:Restriction",r.c.cls),OWL.symmetricProperty=new r.b(OWL.namespace+"SymmetricProperty","owl:SymmetricProperty",r.c.cls),OWL.transitiveProperty=new r.b(OWL.namespace+"TransitiveProperty","owl:TransitiveProperty",r.c.cls),OWL.allValuesFrom=new r.b(OWL.namespace+"allValuesFrom","owl:allValuesFrom",r.c.property),OWL.backwardCompatibleWith=new r.b(OWL.namespace+"backwardCompatibleWith","owl:backwardCompatibleWith",r.c.ontologyProperty),OWL.cardinality=new r.b(OWL.namespace+"cardinality","owl:cardinality",r.c.property),OWL.differentFrom=new r.b(OWL.namespace+"differentFrom","owl:differentFrom",r.c.property),OWL.distinctMembers=new r.b(OWL.namespace+"distinctMembers","owl:distinctMembers",r.c.property),OWL.equivalentClass=new r.b(OWL.namespace+"equivalentClass","owl:equivalentClass",r.c.property),OWL.equivalentProperty=new r.b(OWL.namespace+"equivalentProperty","owl:equivalentProperty",r.c.property),OWL.imports=new r.b(OWL.namespace+"imports","owl:imports",r.c.ontologyProperty),OWL.incompatibleWith=new r.b(OWL.namespace+"incompatibleWith","owl:incompatibleWith",r.c.ontologyProperty),OWL.intersectionOf=new r.b(OWL.namespace+"intersectionOf","owl:intersectionOf",r.c.property),OWL.inverseOf=new r.b(OWL.namespace+"inverseOf","owl:inverseOf",r.c.property),OWL.maxCardinality=new r.b(OWL.namespace+"maxCardinality","owl:maxCardinality",r.c.property),OWL.minCardinality=new r.b(OWL.namespace+"minCardinality","owl:minCardinality",r.c.property),OWL.onDatatype=new r.b(OWL.namespace+"onDatatype","owl:onDatatype",r.c.property),OWL.onProperty=new r.b(OWL.namespace+"onProperty","owl:onProperty",r.c.property),OWL.priorVersion=new r.b(OWL.namespace+"priorVersion","owl:priorVersion",r.c.ontologyProperty),OWL.propertyChainAxiom=new r.b(OWL.namespace+"propertyChainAxiom","owl:propertyChainAxiom",r.c.property),OWL.propertyDisjointWith=new r.b(OWL.namespace+"propertyDisjointWith","owl:propertyDisjointWith",r.c.property),OWL.sameAs=new r.b(OWL.namespace+"sameAs","owl:sameAs",r.c.property),OWL.someValuesFrom=new r.b(OWL.namespace+"someValuesFrom","owl:someValuesFrom",r.c.property),OWL.versionInfo=new r.b(OWL.namespace+"versionInfo","owl:versionInfo",r.c.annotationProperty),OWL.withRestrictions=new r.b(OWL.namespace+"withRestrictions","owl:withRestrictions",r.c.property),OWL.rational=new r.b(OWL.namespace+"rational","owl:rational",r.c.dataRange),OWL.real=new r.b(OWL.namespace+"real","owl:real",r.c.dataRange),OWL.dataRange=new r.b(OWL.namespace+"DataRange","owl:DataRange",r.c.cls),OWL.nothing=new r.b(OWL.namespace+"Nothing","owl:Nothing",r.c.cls),OWL.thing=new r.b(OWL.namespace+"Thing","owl:Thing",r.c.cls),OWL.complementOf=new r.b(OWL.namespace+"complementOf","owl:complementOf",r.c.property),OWL.disjointWith=new r.b(OWL.namespace+"disjointWith","owl:disjointWith",r.c.property),OWL.hasValue=new r.b(OWL.namespace+"hasValue","owl:hasValue",r.c.property),OWL.oneOf=new r.b(OWL.namespace+"oneOf","owl:oneOf",r.c.property),OWL.unionOf=new r.b(OWL.namespace+"unionOf","owl:unionOf",r.c.property),OWL}(),s=function(){function SKOS(){}return SKOS.uri="http://www.w3.org/2004/02/skos/core",SKOS.namespace=SKOS.uri+"#",SKOS.collection=new r.b(SKOS.namespace+"Collection","skos:Collection",r.c.cls),SKOS.concept=new r.b(SKOS.namespace+"Concept","skos:Concept",r.c.cls),SKOS.conceptScheme=new r.b(SKOS.namespace+"ConceptScheme","skos:ConceptScheme",r.c.cls),SKOS.orderedCollection=new r.b(SKOS.namespace+"OrderedCollection","skos:OrderedCollection",r.c.cls),SKOS.altLabel=new r.b(SKOS.namespace+"altLabel","skos:altLabel",r.c.annotationProperty),SKOS.broadMatch=new r.b(SKOS.namespace+"broadMatch","skos:broadMatch",r.c.objectProperty),SKOS.broader=new r.b(SKOS.namespace+"broader","skos:broader",r.c.objectProperty),SKOS.broaderTransitive=new r.b(SKOS.namespace+"broaderTransitive","skos:broaderTransitive",r.c.objectProperty),SKOS.changeNote=new r.b(SKOS.namespace+"changeNote","skos:changeNote",r.c.annotationProperty),SKOS.closeMatch=new r.b(SKOS.namespace+"closeMatch","skos:closeMatch",r.c.objectProperty),SKOS.definition=new r.b(SKOS.namespace+"definition","skos:definition",r.c.annotationProperty),SKOS.editorialNote=new r.b(SKOS.namespace+"editorialNote","skos:editorialNote",r.c.annotationProperty),SKOS.exactMatch=new r.b(SKOS.namespace+"exactMatch","skos:exactMatch",r.c.objectProperty),SKOS.example=new r.b(SKOS.namespace+"example","skos:example",r.c.annotationProperty),SKOS.hasTopConcept=new r.b(SKOS.namespace+"hasTopConcept","skos:hasTopConcept",r.c.objectProperty),SKOS.hiddenLabel=new r.b(SKOS.namespace+"hiddenLabel","skos:hiddenLabel",r.c.annotationProperty),SKOS.historyNote=new r.b(SKOS.namespace+"historyNote","skos:historyNote",r.c.annotationProperty),SKOS.inScheme=new r.b(SKOS.namespace+"inScheme","skos:inScheme",r.c.objectProperty),SKOS.mappingRelation=new r.b(SKOS.namespace+"mappingRelation","skos:mappingRelation",r.c.objectProperty),SKOS.member=new r.b(SKOS.namespace+"member","skos:member",r.c.objectProperty),SKOS.memberList=new r.b(SKOS.namespace+"memberList","skos:memberList",r.c.objectProperty),SKOS.narrowMatch=new r.b(SKOS.namespace+"narrowMatch","skos:narrowMatch",r.c.objectProperty),SKOS.narrower=new r.b(SKOS.namespace+"narrower","skos:narrower",r.c.objectProperty),SKOS.narrowerTransitive=new r.b(SKOS.namespace+"narrowerTransitive","skos:narrowerTransitive",r.c.objectProperty),SKOS.notation=new r.b(SKOS.namespace+"notation","skos:notation",r.c.datatypeProperty),SKOS.note=new r.b(SKOS.namespace+"note","skos:note",r.c.annotationProperty),SKOS.prefLabel=new r.b(SKOS.namespace+"prefLabel","skos:prefLabel",r.c.annotationProperty),SKOS.related=new r.b(SKOS.namespace+"related","skos:related",r.c.objectProperty),SKOS.relatedMatch=new r.b(SKOS.namespace+"relatedMatch","skos:relatedMatch",r.c.objectProperty),SKOS.scopeNote=new r.b(SKOS.namespace+"scopeNote","skos:scopeNote",r.c.annotationProperty),SKOS.semanticRelation=new r.b(SKOS.namespace+"semanticRelation","skos:semanticRelation",r.c.objectProperty),SKOS.topConceptOf=new r.b(SKOS.namespace+"topConceptOf","skos:topConceptOf",r.c.objectProperty),SKOS}(),l=function(){function SKOSXL(){}return SKOSXL.uri="http://www.w3.org/2008/05/skos-xl",SKOSXL.namespace=SKOSXL.uri+"#",SKOSXL.label=new r.b(SKOSXL.namespace+"Label","skosxl:Label",r.c.cls),SKOSXL.altLabel=new r.b(SKOSXL.namespace+"altLabel","skosxl:altLabel",r.c.objectProperty),SKOSXL.hiddenLabel=new r.b(SKOSXL.namespace+"hiddenLabel","skosxl:hiddenLabel",r.c.objectProperty),SKOSXL.labelRelation=new r.b(SKOSXL.namespace+"labelRelation","skosxl:labelRelation",r.c.objectProperty),SKOSXL.literalForm=new r.b(SKOSXL.namespace+"literalForm","skosxl:literalForm",r.c.datatypeProperty),SKOSXL.prefLabel=new r.b(SKOSXL.namespace+"prefLabel","skosxl:prefLabel",r.c.objectProperty),SKOSXL}(),c=function(){function XmlSchema(){}return XmlSchema.uri="http://www.w3.org/2001/XMLSchema",XmlSchema.namespace=XmlSchema.uri+"#",XmlSchema.anyURI=new r.b(XmlSchema.namespace+"anyURI","xsd:anyURI"),XmlSchema.base64Binary=new r.b(XmlSchema.namespace+"base64Binary","xsd:base64Binary"),XmlSchema.boolean=new r.b(XmlSchema.namespace+"boolean","xsd:boolean"),XmlSchema.byte=new r.b(XmlSchema.namespace+"byte","xsd:byte"),XmlSchema.date=new r.b(XmlSchema.namespace+"date","xsd:date"),XmlSchema.dateTime=new r.b(XmlSchema.namespace+"dateTime","xsd:dateTime"),XmlSchema.dateTimeStamp=new r.b(XmlSchema.namespace+"dateTimeStamp","xsd:dateTimeStamp"),XmlSchema.dayTimeDuration=new r.b(XmlSchema.namespace+"dayTimeDuration","xsd:dayTimeDuration"),XmlSchema.decimal=new r.b(XmlSchema.namespace+"decimal","xsd:decimal"),XmlSchema.double=new r.b(XmlSchema.namespace+"double","xsd:double"),XmlSchema.duration=new r.b(XmlSchema.namespace+"duration","xsd:duration"),XmlSchema.ENTITIES=new r.b(XmlSchema.namespace+"ENTITIES","xsd:ENTITIES"),XmlSchema.ENTITY=new r.b(XmlSchema.namespace+"ENTITY","xsd:ENTITY"),XmlSchema.float=new r.b(XmlSchema.namespace+"float","xsd:float"),XmlSchema.gDay=new r.b(XmlSchema.namespace+"gDay","xsd:gDay"),XmlSchema.gMonth=new r.b(XmlSchema.namespace+"gMonth","xsd:gMonth"),XmlSchema.gMonthDay=new r.b(XmlSchema.namespace+"gMonthDay","xsd:gMonthDay"),XmlSchema.gYear=new r.b(XmlSchema.namespace+"gYear","xsd:gYear"),XmlSchema.gYearMonth=new r.b(XmlSchema.namespace+"gYearMonth","xsd:gYearMonth"),XmlSchema.hexBinary=new r.b(XmlSchema.namespace+"hexBinary","xsd:hexBinary"),XmlSchema.ID=new r.b(XmlSchema.namespace+"ID","xsd:ID"),XmlSchema.IDREF=new r.b(XmlSchema.namespace+"IDREF","xsd:IDREF"),XmlSchema.IDREFS=new r.b(XmlSchema.namespace+"IDREFS","xsd:IDREFS"),XmlSchema.int=new r.b(XmlSchema.namespace+"int","xsd:int"),XmlSchema.integer=new r.b(XmlSchema.namespace+"integer","xsd:integer"),XmlSchema.language=new r.b(XmlSchema.namespace+"language","xsd:language"),XmlSchema.long=new r.b(XmlSchema.namespace+"long","xsd:long"),XmlSchema.Name=new r.b(XmlSchema.namespace+"Name","xsd:Name"),XmlSchema.NCName=new r.b(XmlSchema.namespace+"NCName","xsd:NCName"),XmlSchema.negativeInteger=new r.b(XmlSchema.namespace+"negativeInteger","xsd:negativeInteger"),XmlSchema.NMTOKEN=new r.b(XmlSchema.namespace+"NMTOKEN","xsd:NMTOKEN"),XmlSchema.NMTOKENS=new r.b(XmlSchema.namespace+"NMTOKENS","xsd:NMTOKENS"),XmlSchema.nonNegativeInteger=new r.b(XmlSchema.namespace+"nonNegativeInteger","xsd:nonNegativeInteger"),XmlSchema.nonPositiveInteger=new r.b(XmlSchema.namespace+"nonPositiveInteger","xsd:nonPositiveInteger"),XmlSchema.normalizedString=new r.b(XmlSchema.namespace+"normalizedString","xsd:normalizedString"),XmlSchema.NOTATION=new r.b(XmlSchema.namespace+"NOTATION","xsd:NOTATION"),XmlSchema.positiveInteger=new r.b(XmlSchema.namespace+"positiveInteger","xsd:positiveInteger"),XmlSchema.QName=new r.b(XmlSchema.namespace+"QName","xsd:QName"),XmlSchema.short=new r.b(XmlSchema.namespace+"short","xsd:short"),XmlSchema.string=new r.b(XmlSchema.namespace+"string","xsd:string"),XmlSchema.time=new r.b(XmlSchema.namespace+"time","xsd:time"),XmlSchema.token=new r.b(XmlSchema.namespace+"token","xsd:token"),XmlSchema.unsignedByte=new r.b(XmlSchema.namespace+"unsignedByte","xsd:unsignedByte"),XmlSchema.unsignedInt=new r.b(XmlSchema.namespace+"unsignedInt","xsd:unsignedInt"),XmlSchema.unsignedLong=new r.b(XmlSchema.namespace+"unsignedLong","xsd:unsignedLong"),XmlSchema.unsignedShort=new r.b(XmlSchema.namespace+"unsignedShort","xsd:unsignedShort"),XmlSchema.yearMonthDuration=new r.b(XmlSchema.namespace+"yearMonthDuration","xsd:yearMonthDuration"),XmlSchema.maxExclusive=new r.b(XmlSchema.namespace+"maxExclusive","xsd:maxExclusive"),XmlSchema.maxInclusive=new r.b(XmlSchema.namespace+"maxInclusive","xsd:maxInclusive"),XmlSchema.minExclusive=new r.b(XmlSchema.namespace+"minExclusive","xsd:minExclusive"),XmlSchema.minInclusive=new r.b(XmlSchema.namespace+"minInclusive","xsd:minInclusive"),XmlSchema.pattern=new r.b(XmlSchema.namespace+"pattern","xsd:pattern"),XmlSchema}(),p=(function(){function DCT(){}DCT.uri="http://purl.org/dc/terms",DCT.namespace=DCT.uri+"/",DCT.created=new r.b(DCT.namespace+"created","dct:created",r.c.property),DCT.modified=new r.b(DCT.namespace+"modified","dct:modified",r.c.property)}(),function(){function OntoLex(){}return OntoLex.uri="http://www.w3.org/ns/lemon/ontolex",OntoLex.namespace=OntoLex.uri+"#",OntoLex.conceptSet=new r.b(OntoLex.namespace+"ConceptSet","ontolex:ConceptSet",r.c.cls),OntoLex.form=new r.b(OntoLex.namespace+"Form","ontolex:Form",r.c.cls),OntoLex.lexicalConcept=new r.b(OntoLex.namespace+"LexicalConcept","ontolex:LexicalConcept",r.c.cls),OntoLex.lexicalEntry=new r.b(OntoLex.namespace+"LexicalEntry","ontolex:LexicalEntry",r.c.cls),OntoLex.lexicalSense=new r.b(OntoLex.namespace+"LexicalSense","ontolex:LexicalSense",r.c.cls),OntoLex.canonicalForm=new r.b(OntoLex.namespace+"canonicalForm","ontolex:canonicalForm",r.c.objectProperty),OntoLex.denotes=new r.b(OntoLex.namespace+"denotes","ontolex:denotes",r.c.objectProperty),OntoLex.evokes=new r.b(OntoLex.namespace+"evokes","ontolex:evokes",r.c.objectProperty),OntoLex.isDenotedBy=new r.b(OntoLex.namespace+"isDenotedBy","ontolex:isDenotedBy",r.c.objectProperty),OntoLex.lexicalForm=new r.b(OntoLex.namespace+"lexicalForm","ontolex:LexicalForm",r.c.objectProperty),OntoLex.otherForm=new r.b(OntoLex.namespace+"otherForm","ontolex:otherForm",r.c.objectProperty),OntoLex.representation=new r.b(OntoLex.namespace+"representation","ontolex:representation",r.c.datatypeProperty),OntoLex.sense=new r.b(OntoLex.namespace+"sense","ontolex:sense",r.c.objectProperty),OntoLex}()),d=function(){function Lime(){}return Lime.uri="http://www.w3.org/ns/lemon/lime",Lime.namespace=Lime.uri+"#",Lime.lexicon=new r.b(Lime.namespace+"Lexicon","lime:Lexicon",r.c.cls),Lime}(),u=function(){function Decomp(){}return Decomp.uri="http://www.w3.org/ns/lemon/decomp",Decomp.namespace=Decomp.uri+"#",Decomp.component=new r.b(Decomp.namespace+"Component","decomp:Component",r.c.cls),Decomp.constituent=new r.b(Decomp.namespace+"constituent","decomp:constituent",r.c.objectProperty),Decomp.subterm=new r.b(Decomp.namespace+"subterm","decomp:subterm",r.c.objectProperty),Decomp}(),f=function(){function EDOAL(){}return EDOAL.uri="http://ns.inria.org/edoal/1.0/",EDOAL}(),h=function(){function SemanticTurkey(){}return SemanticTurkey.stagingAddGraph="http://semanticturkey.uniroma2.it/ns/validation#staging-add-graph/",SemanticTurkey.stagingRemoveGraph="http://semanticturkey.uniroma2.it/ns/validation#staging-remove-graph/",SemanticTurkey.inferenceGraph="http://semanticturkey/inference-graph",SemanticTurkey.standardDereferenciation="http://semanticturkey.uniroma2.it/ns/mdr#standardDereferenciation",SemanticTurkey.noDereferenciation="http://semanticturkey.uniroma2.it/ns/mdr#noDereferenciation",SemanticTurkey.noAggregation="http://semanticturkey.uniroma2.it/ns/mdr#noAggregation",SemanticTurkey}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(3),i=n(11),a=n(36),s=n(8),l=n(15),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function ResourcesServices(e,t){this.httpMgr=e,this.eventHandler=t,this.serviceName="Resources"}return ResourcesServices.prototype.updateTriple=function(e,t,n,r){var o=this,a={subject:e,property:t,value:n,newValue:r};return this.httpMgr.doPost(this.serviceName,"updateTriple",a).map(function(a){t.getURI()==i.b.subClassOf.getURI()?o.eventHandler.superClassUpdatedEvent.emit({child:e,oldParent:n,newParent:r}):t.getURI()==i.b.subPropertyOf.getURI()?o.eventHandler.superPropertyUpdatedEvent.emit({child:e,oldParent:n,newParent:r}):t.getURI()==i.d.broader.getURI()&&o.eventHandler.broaderUpdatedEvent.emit({child:e,oldParent:n,newParent:r})})},ResourcesServices.prototype.updateLexicalization=function(e,t,n,r){var o={subject:e,property:t,value:n,newValue:r};return this.httpMgr.doPost(this.serviceName,"updateLexicalization",o)},ResourcesServices.prototype.updatePredicateObject=function(e,t,n){var r={property:e,value:t,newValue:n};return this.httpMgr.doPost(this.serviceName,"updatePredicateObject",r)},ResourcesServices.prototype.removeValue=function(e,t,n){var r={subject:e,property:t,value:n};return this.httpMgr.doPost(this.serviceName,"removeValue",r)},ResourcesServices.prototype.removePredicateObject=function(e,t){var n={property:e,value:t};return this.httpMgr.doPost(this.serviceName,"removePredicateObject",n)},ResourcesServices.prototype.setDeprecated=function(e){var t=this,n={resource:e};return this.httpMgr.doPost(this.serviceName,"setDeprecated",n).map(function(n){return t.eventHandler.resourceDeprecatedEvent.emit(e),n})},ResourcesServices.prototype.addValue=function(e,t,n){var r={subject:e,property:t,value:n};return this.httpMgr.doPost(this.serviceName,"addValue",r)},ResourcesServices.prototype.getResourceDescription=function(e,t){var n={resource:e};return this.httpMgr.doGet(this.serviceName,"getResourceDescription",n,t).map(function(e){return a.a.createRDFResource(e)})},ResourcesServices.prototype.getOutgoingTriples=function(e,t){var n={resource:e,format:t};return this.httpMgr.doGet(this.serviceName,"getOutgoingTriples",n)},ResourcesServices.prototype.updateResourceTriplesDescription=function(e,t,n){var r={resource:e,triples:t,format:n};return this.httpMgr.doPost(this.serviceName,"updateResourceTriplesDescription",r)},ResourcesServices.prototype.getResourcesInfo=function(e){var t=e.map(function(e){return e.toNT()}),n={resources:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"getResourcesInfo",n).map(function(e){return a.a.createURIArray(e)})},ResourcesServices.prototype.getResourcePosition=function(e){var t={resource:e};return this.httpMgr.doGet(this.serviceName,"getResourcePosition",t).map(function(e){return o.i.deserialize(e)})},ResourcesServices.prototype.getResourcesPosition=function(e){var t=e.map(function(e){return e.toNT()}),n={resources:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"getResourcesPosition",n).map(function(e){var t={};for(var n in e)t[n]=o.i.deserialize(e[n].position);return t})},ResourcesServices=c([n.i(r.g)(),p("design:paramtypes",[s.a,l.a])],ResourcesServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(4),i=n(293),a=n(510),s=n(298),l=n(513),c=n(528),p=n(556),d=n(658),u=n(659),f=n(660),h=n(662),g=n(663),m=n(664),v=n(665),b=n(666),y=n(667),x=n(668),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(){function SharedModalServices(e){this.modal=e}return SharedModalServices.prototype.configurePlugin=function(e){var t=new m.a(e),n=new o.b(t,void 0,m.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(m.b,r).result},SharedModalServices.prototype.configureRemoteRepositoryAccess=function(){var e=new o.b,t={context:e.keyboard(27).toJSON()};return this.modal.open(v.a,t).result},SharedModalServices.prototype.selectRemoteRepository=function(e,t){var n=new b.a(e,t),r=new o.b(n,void 0,b.a),i={context:r.size("lg").keyboard(27).toJSON()};return this.modal.open(b.b,i).result},SharedModalServices.prototype.openResourceView=function(e,t,n){var r=new p.a(e,t,n),i=new o.b(r,void 0,p.a),a={context:i.size("lg").keyboard(27).toJSON()};return this.modal.open(p.b,a).result},SharedModalServices.prototype.selectLanguages=function(e,t,n,r){var i=new h.a(e,t,n,r),a=new o.b(i,void 0,h.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(h.b,s).result},SharedModalServices.prototype.selectConverter=function(e,t,n){var r=new f.a(e,t,n),i=new o.b(r,void 0,f.a),a={context:i.size("lg").keyboard(27).toJSON()};return this.modal.open(f.b,a).result},SharedModalServices.prototype.storeConfiguration=function(e,t,n,r){var i=new u.a(e,t,n,r),a=new o.b(i,void 0,u.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(u.b,s).result},SharedModalServices.prototype.loadConfiguration=function(e,t,n,r,i){var a=new d.a(e,t,n,r,i),s=new o.b(a,void 0,d.a),l={context:s.keyboard(27).toJSON()};return this.modal.open(d.b,l).result},SharedModalServices.prototype.pickResource=function(e,t,n){var r=new y.a(e,t,n),i=new o.b(r,void 0,y.a),a={context:i.keyboard(27).toJSON()};return this.modal.open(y.b,a).result},SharedModalServices.prototype.importOntology=function(e,t){var n=new s.a(e,t),r=new o.b(n,void 0,s.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(s.b,i).result},SharedModalServices.prototype.importFromDatasetCatalog=function(e){var t=new a.a(e),n=new o.b(t,void 0,a.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(a.b,r).result},SharedModalServices.prototype.selectUser=function(e,t,n){var r=new x.a(e,t,n),i=new o.b(r,void 0,x.a),a={context:i.keyboard(27).toJSON()};return this.modal.open(x.b,a).result},SharedModalServices.prototype.datasetCatalog=function(){var e=new i.a,t=new o.b(e,void 0,i.a),n={context:t.keyboard(27).dialogClass("modal-dialog modal-xl").toJSON()};return this.modal.open(i.b,n).result},SharedModalServices.prototype.prefixNamespace=function(e,t,n,r){var i=new l.a(e,t,n,r),a=new o.b(i,void 0,l.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(l.b,s).result},SharedModalServices.prototype.manchesterExpression=function(e,t){var n=new g.a(e,t),r=new o.b(n,void 0,g.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(g.b,i).result},SharedModalServices.prototype.changeProject=function(){var e=new o.b,t={context:e.size("lg").keyboard(27).toJSON()};this.modal.open(c.a,t)},SharedModalServices=C([n.i(r.g)(),R("design:paramtypes",[o.c])],SharedModalServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(4),i=n(640),a=n(641),s=n(642),l=n(643),c=n(644),p=n(645),d=n(646),u=n(311),f=n(647),h=n(648),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function BrowsingModalServices(e){this.modal=e}return BrowsingModalServices.prototype.browseClassTree=function(e,t,n){var r=new a.a(e,t,n),i=new o.b(r,void 0,a.a),s={context:i.keyboard(27).toJSON()};return this.modal.open(a.b,s).result},BrowsingModalServices.prototype.browseClassIndividualTree=function(e,t,n){var r=new i.a(e,t,n),a=new o.b(r,void 0,i.a),s={context:a.size("lg").keyboard(27).toJSON()};return this.modal.open(i.b,s).result},BrowsingModalServices.prototype.browseInstanceList=function(e,t){var n=new p.a(e,t),r=new o.b(n,void 0,p.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(p.b,i).result},BrowsingModalServices.prototype.browseConceptTree=function(e,t,n,r){var i=new l.a(e,t,n,r),a=new o.b(i,void 0,l.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(l.b,s).result},BrowsingModalServices.prototype.browseCollectionTree=function(e,t){var n=new s.a(e,t),r=new o.b(n,void 0,s.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(s.b,i).result},BrowsingModalServices.prototype.browseSchemeList=function(e,t){var n=new h.a(e,t),r=new o.b(n,void 0,h.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(h.b,i).result},BrowsingModalServices.prototype.browsePropertyTree=function(e,t,n,r,i){var a=new f.a(e,t,n,r,i),s=new o.b(a,void 0,f.a),l={context:s.keyboard(27).toJSON()};return this.modal.open(f.b,l).result},BrowsingModalServices.prototype.browseLexicalEntryList=function(e,t,n,r,i,a,s){var l=new d.a(e,t,n,r,i,a,s),c=new o.b(l,void 0,d.a),p={context:c.keyboard(27).toJSON()};return this.modal.open(d.b,p).result},BrowsingModalServices.prototype.browseLexiconList=function(e,t){var n=new u.a(e,t),r=new o.b(n,void 0,u.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(u.b,i).result},BrowsingModalServices.prototype.browseDatatypeList=function(e){var t=new c.a(e),n=new o.b(t,void 0,c.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(c.b,r).result},BrowsingModalServices=g([n.i(r.g)(),m("design:paramtypes",[o.c])],BrowsingModalServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(6),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function VBEventHandler(){this.topConceptCreatedEvent=new c("topConceptCreatedEvent"),this.narrowerCreatedEvent=new c("narrowerCreatedEvent"),this.broaderAddedEvent=new c("broaderAddedEvent"),this.conceptDeletedEvent=new c("conceptDeletedEvent"),this.conceptRemovedFromSchemeEvent=new c("conceptRemovedFromSchemeEvent"),this.conceptRemovedAsTopConceptEvent=new c("conceptRemovedAsTopConceptEvent"),this.broaderRemovedEvent=new c("broaderRemovedEvent"),this.broaderUpdatedEvent=new c("broaderConceptUpdatedEvent"),this.schemeCreatedEvent=new c("schemeCreatedEvent"),this.schemeDeletedEvent=new c("schemeDeletedEvent"),this.schemeChangedEvent=new c("schemeChangedEvent"),this.multischemeModeChangedEvent=new c("multischemeModeChangedEvent"),this.rootCollectionCreatedEvent=new c("rootCollectionCreatedEvent"),this.nestedCollectionCreatedEvent=new c("nestedCollectionCreatedEvent"),this.nestedCollectionAddedEvent=new c("nestedCollectionAddedEvent"),this.nestedCollectionAddedFirstEvent=new c("nestedCollectionAddedFirstEvent"),this.nestedCollectionAddedLastEvent=new c("nestedCollectionAddedLastEvent"),this.nestedCollectionAddedInPositionEvent=new c("nestedCollectionAddedInPositionEvent"),this.nestedCollectionRemovedEvent=new c("nestedCollectionRemovedEvent"),this.collectionDeletedEvent=new c("collectionDeletedEvent"),this.subClassCreatedEvent=new c("subClassCreatedEvent"),this.superClassAddedEvent=new c("superClassAddedEvent"),this.classDeletedEvent=new c("classDeletedEvent"),this.typeRemovedEvent=new c("typeRemovedEvent"),this.typeAddedEvent=new c("typeAddedEvent"),this.superClassRemovedEvent=new c("superClassRemovedEvent"),this.superClassUpdatedEvent=new c("superClassUpdatedEvent"),this.classFilterChangedEvent=new c("classFilterChangedEvent"),this.instanceCreatedEvent=new c("instanceCreatedEvent"),this.instanceDeletedEvent=new c("instanceDeletedEvent"),this.topPropertyCreatedEvent=new c("topPropertyCreatedEvent"),this.subPropertyCreatedEvent=new c("subPropertyCreatedEvent"),this.superPropertyAddedEvent=new c("superPropertyAddedEvent"),this.propertyDeletedEvent=new c("propertyDeletedEvent"),this.superPropertyRemovedEvent=new c("superPropertyRemovedEvent"),this.superPropertyUpdatedEvent=new c("superPropertyUpdatedEvent"),this.lexiconCreatedEvent=new c("lexiconCreatedEvent"),this.lexiconDeletedEvent=new c("lexiconDeletedEvent"),this.lexiconChangedEvent=new c("lexiconChangedEvent"),this.lexicalEntryCreatedEvent=new c("lexicalEntryCreatedEvent"),this.lexicalEntryDeletedEvent=new c("lexicalEntryDeletedEvent"),this.datatypeCreatedEvent=new c("datatypeCreatedEvent"),this.datatypeDeletedEvent=new c("datatypeDeletedEvent"),this.resViewModeChangedEvent=new c("resViewModeChangedEvent"),this.resViewTabSyncChangedEvent=new c("resViewTabSyncChangedEvent"),this.showDeprecatedChangedEvent=new c("showDeprecatedChangedEvent"),this.showFlagChangedEvent=new c("showFlagChangedEvent"),this.searchPrefsUpdatedEvent=new c("searchPrefsUpdatedEvent"),this.notificationStatusChangedEvent=new c("notificationStatusChangedEvent"),this.refreshDataBroadcastEvent=new c("refreshDataBroadcastEvent",!0),this.refreshTreeListEvent=new c("refreshTreeEvent"),this.resourceRenamedEvent=new c("resourceRenamedEvent"),this.resourceDeprecatedEvent=new c("resourceDeprecatedEvent"),this.resourceUpdatedEvent=new c("resourceUpdatedEvent"),this.collaborationSystemStatusChanged=new c("collaborationSystemStatusChanged")}return VBEventHandler.prototype.unsubscribeAll=function(e){for(var t=0;t<e.length;t++)e[t].unsubscribe()},VBEventHandler=a([n.i(r.g)(),s("design:paramtypes",[])],VBEventHandler)}(),c=function(e){function VBEventEmitter(t,n,r){var o=e.call(this,r)||this;return o.eventName=t,o.onlyIfProjectNotChanged=n,o}return i(VBEventEmitter,e),VBEventEmitter.prototype.emit=function(t){this.onlyIfProjectNotChanged&&o.a.isProjectChanged()||(console.log("[",this.eventName,"]",t),e.prototype.emit.call(this,t))},VBEventEmitter}(r.i)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(3),i=n(47),a=n(36),s=n(8),l=n(10),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function CustomFormsServices(e){this.httpMgr=e,this.serviceName="CustomForms"}return CustomFormsServices.prototype.getGraphObjectDescription=function(e,t){var n={predicate:e,resource:t};return this.httpMgr.doGet(this.serviceName,"getGraphObjectDescription",n).map(function(e){var t;return null!=e.properties&&(t=a.a.createPredicateObjectsList(e.properties)),t})},CustomFormsServices.prototype.removeReifiedResource=function(e,t,n){var r={subject:e,predicate:t,resource:n};return this.httpMgr.doPost(this.serviceName,"removeReifiedResource",r)},CustomFormsServices.prototype.updateReifiedResourceShow=function(e,t,n,r){var o={subject:e,predicate:t,reifiedNode:n,newValue:r};return this.httpMgr.doPost(this.serviceName,"updateReifiedResourceShow",o)},CustomFormsServices.prototype.isStandardReifiedDefinition=function(e,t){var n={definitionNode:e,predicate:t};return this.httpMgr.doGet(this.serviceName,"isStandardReifiedDefinition",n)},CustomFormsServices.prototype.getCustomFormRepresentation=function(e){var t={id:e},n=new s.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.coda.exception.parserexception.PRParserException"]}});return this.httpMgr.doGet(this.serviceName,"getCustomFormRepresentation",t,n).map(function(e){for(var t=[],n=[],r=0;r<e.length;r++)!function(r){var o=e[r].placeholderId,a="literal"==e[r].type?"literal":"uri",s=e[r].mandatory,c=e[r].userPrompt,p=e[r].converter.uri,d=new i.e(o,a,s,c,p);if("http://art.uniroma2.it/coda/contracts/langString"==p){var u=e[r].converter.arg.userPrompt,f=e[r].converter.arg.lang;null!=u?n.push({phIdEntry:o,userPromptArg:u}):null!=f&&d.setConverterArg({lang:f})}if("literal"==a){var h=e[r].datatype;void 0!=h&&d.setDatatype(h);var g=e[r].lang;void 0!=g&&d.setLang(g)}e[r].annotations.forEach(function(e){var t,n=e.name;if(n==i.d.DataOneOf){var r=[];e.value.forEach(function(e){r.push(l.a.parseLiteral(e))}),t={name:n,value:r}}else if(n==i.d.ObjectOneOf||n==i.d.RangeList){var o=[];e.value.forEach(function(e){o.push(l.a.parseURI(e))}),t={name:n,value:o}}else if(n==i.d.Range){var a=l.a.parseURI(e.value[0]);t={name:n,value:a}}else if(n==i.d.Foreign){var a=e.value[0];t={name:n,value:a}}else if(n==i.d.Role){var a=e.value;t={name:n,value:a}}else if(n==i.d.Collection){var s=e.min?e.min[0]:null,c=e.max?e.max[0]:null;t={name:n,min:s,max:c}}d.addAnnotation(t)}),t.push(d)}(r);for(var r=0;r<n.length;r++){for(var o=void 0,a=0;a<t.length;a++)t[a].getUserPrompt()==n[r].userPromptArg&&(o=t[a],o.setDependency(!0));for(var a=0;a<t.length;a++)n[r].phIdEntry==t[a].getPlaceholderId()&&t[a].setConverterArg({ph:o})}return t})},CustomFormsServices.prototype.getCustomFormConfigMap=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getCustomFormConfigMap",e).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],a=new o.b(r.resource,r.resource,o.c.individual),s=new i.b(r.formCollection.id);s.setLevel(r.formCollection.level),t.push(new i.f(s,a,r.replace))}return t.sort(function(e,t){return e.getResource().getURI()<t.getResource().getURI()?-1:e.getResource().getURI()>t.getResource().getURI()?1:0}),t})},CustomFormsServices.prototype.addFormsMapping=function(e,t,n){var r={formCollId:e,resource:t};return void 0!=n&&(r.replace=n),this.httpMgr.doGet(this.serviceName,"addFormsMapping",r)},CustomFormsServices.prototype.removeFormCollectionOfResource=function(e){var t={resource:e};return this.httpMgr.doGet(this.serviceName,"removeFormCollectionOfResource",t)},CustomFormsServices.prototype.updateReplace=function(e,t){var n={resource:e,replace:t};return this.httpMgr.doGet(this.serviceName,"updateReplace",n)},CustomFormsServices.prototype.getAllFormCollections=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getAllFormCollections",e).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=new i.b(e[n].id);r.setLevel(e[n].level),t.push(r)}return t.sort(function(e,t){return e.getId()<t.getId()?-1:e.getId()>t.getId()?1:0}),t})},CustomFormsServices.prototype.getFormCollection=function(e){var t={id:e};return this.httpMgr.doGet(this.serviceName,"getFormCollection",t).map(function(e){var t,n=e.id;t=new i.b(n);for(var r=[],o=0;o<e.forms.length;o++){var s=new i.c(e.forms[o].id);s.setLevel(e.forms[o].level),r.push(s)}r.sort(function(e,t){return e.getId()<t.getId()?-1:e.getId()>t.getId()?1:0}),t.setForms(r);var c=a.a.createURIArray(e.suggestions);return l.a.sortResources(c,l.b.value),t.setSuggestions(c),t})},CustomFormsServices.prototype.createFormCollection=function(e){var t={id:e};return this.httpMgr.doGet(this.serviceName,"createFormCollection",t)},CustomFormsServices.prototype.deleteFormCollection=function(e){var t={id:e};return this.httpMgr.doGet(this.serviceName,"deleteFormCollection",t)},CustomFormsServices.prototype.cloneFormCollection=function(e,t){var n={sourceId:e,targetId:t};return this.httpMgr.doGet(this.serviceName,"cloneFormCollection",n)},CustomFormsServices.prototype.exportFormCollection=function(e){var t={id:e};return this.httpMgr.downloadFile(this.serviceName,"exportFormCollection",t)},CustomFormsServices.prototype.importFormCollection=function(e,t){var n={inputFile:e};return null!=t&&(n.newId=t),this.httpMgr.uploadFile(this.serviceName,"importFormCollection",n)},CustomFormsServices.prototype.updateFromCollection=function(e,t,n){var r={formCollectionId:e,customFormIds:t,suggestions:n};return this.httpMgr.doPost(this.serviceName,"updateFromCollection",r)},CustomFormsServices.prototype.getAllCustomForms=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getAllCustomForms",e).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=new i.c(e[n].id);r.setLevel(e[n].level),t.push(r)}return t.sort(function(e,t){return e.getId()<t.getId()?-1:e.getId()>t.getId()?1:0}),t})},CustomFormsServices.prototype.getCustomConstructors=function(e){var t={resource:e};return this.httpMgr.doGet(this.serviceName,"getCustomConstructors",t).map(function(e){var t=[];if(e.forms){for(var n=0;n<e.forms.length;n++){var r=new i.c(e.forms[n].id);r.setName(e.forms[n].name),r.setType(e.forms[n].type),r.setDescription(e.forms[n].description),t.push(r)}t.sort(function(e,t){return e.getName()<t.getName()?-1:e.getName()>t.getName()?1:0})}return t})},CustomFormsServices.prototype.getCustomForm=function(e){var t=this,n={id:e};return this.httpMgr.doGet(this.serviceName,"getCustomForm",n).map(function(e){return t.parseCustomFormJson(e)})},CustomFormsServices.prototype.createCustomForm=function(e,t,n,r,o,i){var a={type:e,id:t,name:n,description:r,ref:o};return void 0!=i&&(a.showPropChain=i),this.httpMgr.doPost(this.serviceName,"createCustomForm",a)},CustomFormsServices.prototype.cloneCustomForm=function(e,t){var n={sourceId:e,targetId:t};return this.httpMgr.doGet(this.serviceName,"cloneCustomForm",n)},CustomFormsServices.prototype.exportCustomForm=function(e){var t={id:e};return this.httpMgr.downloadFile(this.serviceName,"exportCustomForm",t)},CustomFormsServices.prototype.importCustomForm=function(e,t){var n={inputFile:e};return null!=t&&(n.newId=t),this.httpMgr.uploadFile(this.serviceName,"importCustomForm",n)},CustomFormsServices.prototype.deleteCustomForm=function(e,t){var n={id:e};return void 0!=t&&(n.deleteEmptyColl=t),this.httpMgr.doGet(this.serviceName,"deleteCustomForm",n)},CustomFormsServices.prototype.isFormLinkedToCollection=function(e){var t={id:e};return this.httpMgr.doGet(this.serviceName,"isFormLinkedToCollection",t)},CustomFormsServices.prototype.updateCustomForm=function(e,t,n,r,o){var i={id:e,name:t,description:n,ref:r};return void 0!=o&&(i.showPropChain=o),this.httpMgr.doPost(this.serviceName,"updateCustomForm",i)},CustomFormsServices.prototype.updateCustomFormWithAnnotations=function(e,t,n){var r=this,o={cfId:e,prId:t,save:n};return this.httpMgr.doPost(this.serviceName,"updateCustomFormWithAnnotations",o).map(function(e){return r.parseCustomFormJson(e)})},CustomFormsServices.prototype.inferPearlAnnotations=function(e){var t={cfPearl:e};return this.httpMgr.doPost(this.serviceName,"inferPearlAnnotations",t)},CustomFormsServices.prototype.validateShowPropertyChain=function(e){var t={propChain:e};return this.httpMgr.doGet(this.serviceName,"validateShowPropertyChain",t).map(function(e){return a.a.createURIArray(e)})},CustomFormsServices.prototype.validatePearl=function(e,t){var n={pearl:e,formType:t};return this.httpMgr.doPost(this.serviceName,"validatePearl",n)},CustomFormsServices.prototype.getBrokenCustomForms=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getBrokenCustomForms",e).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push({id:e[n].id,type:e[n].type,level:e[n].level,file:e[n].file,reason:e[n].reason});return t.sort(function(e,t){return e.level==i.g.system?t.level==i.g.system?"FormsMapping"==e.type?"FormsMapping"==t.type?0:-1:"FormCollection"==e.type?"FormsMapping"==t.type?1:"CustomForm"==t.type?-1:0:"CustomForm"==t.type?0:1:-1:t.level==i.g.system?1:"FormsMapping"==e.type?"FormsMapping"==t.type?0:-1:"FormCollection"==e.type?"FormsMapping"==t.type?1:"CustomForm"==t.type?-1:0:"CustomForm"==t.type?0:1}),t})},CustomFormsServices.prototype.parseCustomFormJson=function(e){var t=e.id,n=new i.c(t),r=e.name;n.setName(r);var a="graph"==e.type?"graph":"node";n.setType(a);var s=e.description;n.setDescription(s);var l=e.ref;if(n.setRef(l),"graph"==a){var c=e.showPropertyChain,p=[];if(null!=c&&""!=c){c.split(",").forEach(function(e){p.push(new o.b(e,e,o.c.property))})}n.setShowPropertyChain(p)}return n},CustomFormsServices=c([n.i(r.g)(),p("design:paramtypes",[s.a])],CustomFormsServices)}();!function(){function CustomFormRepresentationRespRecord(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return u});var r,o=n(406),i=n.n(o),a=n(3),s=n(24),l=n(20),c=n(6),p=function(){function AuthorizationEvaluator(){}return AuthorizationEvaluator.initEvalutator=function(e){var t=this.tbox+this.jsPrologSupport;if(e.length>0){t+=e.join(". ")+"."}AuthorizationEvaluator.reset(),AuthorizationEvaluator.prologEngine=i.a.Parser.parse(t)},AuthorizationEvaluator.reset=function(){AuthorizationEvaluator.prologEngine=null,AuthorizationEvaluator.authCache={}},AuthorizationEvaluator.isAuthorized=function(e,t,n){var r=c.a.getLoggedUser();if(null==r)return!1;if(r.isAdmin())return!0;if(null!=n&&n.getAdditionalProperty(a.a.LANG)){if(!c.a.getProjectUserBinding().getLanguages().some(function(e){return e.toLowerCase()==n.getAdditionalProperty(a.a.LANG).toLowerCase()}))return!1}if(null==AuthorizationEvaluator.prologEngine)return!1;var o=this.actionAuthGoalMap[e];if(o.includes(AuthorizationEvaluator.resRole)){if(null==t)throw new Error("Cannot resolve the authorization goal: goal depends on resource role, but resource is undefined");o=o.replace(AuthorizationEvaluator.resRole,t.getRole())}var i=this.authCache[o];if(null!=i)return i;var s=this.evaulatePrologGoal(o);return this.authCache[o]=s,s},AuthorizationEvaluator.evaulatePrologGoal=function(e){var t=i.a.Parser.parseQuery(e);return i.a.Solver.query(AuthorizationEvaluator.prologEngine,t).next()},AuthorizationEvaluator.resRole="%resource_role%",AuthorizationEvaluator.authCache={},AuthorizationEvaluator.actionAuthGoalMap=(d={},d[l.a.administrationProjectManagement]='auth(pm(project,_), "CRUD").',d[l.a.administrationRoleManagement]='auth(rbac(_,_), "CRUD").',d[l.a.administrationUserGroupManagement]='auth(pm(project, group), "CU").',d[l.a.administrationUserRoleManagement]='auth(rbac(user,_), "CRUD").',d[l.a.alignmentAddAlignment]="auth(rdf("+AuthorizationEvaluator.resRole+', alignment), "C").',d[l.a.alignmentApplyAlignment]='auth(rdf(resource, alignment), "CUD").',d[l.a.alignmentLoadAlignment]='auth(rdf(resource, alignment), "R").',d[l.a.classesCreateClass]='auth(rdf(cls), "C").',d[l.a.classesCreateSubClass]='auth(rdf(cls), "C").',d[l.a.classesCreateClassAxiom]='auth(rdf(cls, taxonomy), "C").',d[l.a.classesCreateIndividual]='auth(rdf(individual), "C").',d[l.a.classesDeleteClass]='auth(rdf(cls), "D").',d[l.a.classesDeleteIndividual]='auth(rdf(individual), "D").',d[l.a.classesRead]='auth(rdf(cls), "R").',d[l.a.classesGetClassTaxonomy]='auth(rdf(cls, taxonomy), "R").',d[l.a.classesGetInstances]='auth(rdf(cls, instances), "R").',d[l.a.classesRemoveClassAxiom]='auth(rdf(cls, taxonomy), "D").',d[l.a.collaboration]='auth(pm(project, collaboration), "CRUD").',d[l.a.customFormCreateFormMapping]='auth(cform(form, mapping), "C").',d[l.a.customFormCreateCollection]='auth(cform(formCollection), "C").',d[l.a.customFormCreateForm]='auth(cform(formCollection), "C").',d[l.a.customFormDeleteFormMapping]='auth(cform(form, mapping), "D").',d[l.a.customFormDeleteCollection]='auth(cform(formCollection), "D").',d[l.a.customFormDeleteForm]='auth(cform(form), "D").',d[l.a.customFormGetFormMappings]='auth(cform(formCollection), "R").',d[l.a.customFormGetCollections]='auth(cform(formCollection), "R").',d[l.a.customFormGetForms]='auth(cform(form), "R").',d[l.a.customFormUpdateFormMapping]='auth(cform(form, mapping), "U").',d[l.a.customFormUpdateCollection]='auth(cform(formCollection), "U").',d[l.a.customFormUpdateForm]='auth(cform(form), "U").',d[l.a.customServiceCreate]='auth(customService(service), "C").',d[l.a.customServiceRead]='auth(customService(service), "R").',d[l.a.customServiceUpdate]='auth(customService(service), "U").',d[l.a.customServiceDelete]='auth(customService(service), "D").',d[l.a.customServiceOperationCreate]='auth(customService(service, operation), "C").',d[l.a.customServiceOperationUpdate]='auth(customService(service, operation), "U").',d[l.a.customServiceOperationDelete]='auth(customService(service, operation), "D").',d[l.a.datatypesCreateDatatype]='auth(rdf(datatype), "C").',d[l.a.datatypesDeleteDatatype]='auth(rdf(datatype), "D").',d[l.a.datatypesGetDatatype]='auth(rdf(datatype), "R").',d[l.a.datatypesDeleteDatatypeRestriction]='auth(rdf(datatype), "D").',d[l.a.datatypesRead]='auth(rdf(datatype), "R").',d[l.a.datatypesSetDatatypeRestriction]='auth(rdf(datatype), "C").',d[l.a.datasetMetadataExport]='auth(rdf(dataset, metadata), "CU").',d[l.a.datasetMetadataGetMetadata]='auth(rdf(dataset, metadata), "R").',d[l.a.exportExport]='auth(rdf, "R").',d[l.a.history]='auth(rdf, "R").',d[l.a.icvDanglingXLabel]='auth(rdf(xLabel), "R").',d[l.a.icvGenericConcept]='auth(rdf(concept), "R").',d[l.a.icvGenericResource]='auth(rdf(resource), "R").',d[l.a.individualsAddType]="auth(rdf("+AuthorizationEvaluator.resRole+'), "U").',d[l.a.individualsGetInstances]='auth(rdf(cls, instances), "R").',d[l.a.individualsRemoveType]="auth(rdf("+AuthorizationEvaluator.resRole+'), "D").',d[l.a.inputOutputClearData]='auth(rdf, "D").',d[l.a.inputOutputLoadData]='auth(rdf, "C").',d[l.a.invokableReporterCreate]='auth(invokableReporter(reporter), "C").',d[l.a.invokableReporterRead]='auth(invokableReporter(reporter), "R").',d[l.a.invokableReporterUpdate]='auth(invokableReporter(reporter), "U").',d[l.a.invokableReporterDelete]='auth(invokableReporter(reporter), "D").',d[l.a.invokableReporterSectionCreate]='auth(invokableReporter(reporter, section), "C").',d[l.a.invokableReporterSectionUpdate]='auth(invokableReporter(reporter, section), "U").',d[l.a.invokableReporterSectionDelete]='auth(invokableReporter(reporter, section), "D").',d[l.a.metadataAddImport]='auth(rdf(import), "C").',d[l.a.metadataChangeNsPrefixMapping]='auth(pm(project, prefixMapping), "U").',d[l.a.metadataReadImport]='auth(rdf(import), "R").',d[l.a.metadataRemoveImport]='auth(rdf(import), "D").',d[l.a.metadataRemoveNsPrefixMapping]='auth(pm(project, prefixMapping), "D").',d[l.a.metadataSetDefaultNs]='auth(pm(project, defnamespace), "U").',d[l.a.metadataSetNsPrefixMapping]='auth(pm(project, prefixMapping), "U").',d[l.a.metadataRegistryCreate]='auth(sys(metadataRegistry), "C").',d[l.a.metadataRegistryDelete]='auth(sys(metadataRegistry), "D").',d[l.a.metadataRegistryRead]='auth(sys(metadataRegistry), "R").',d[l.a.metadataRegistryUpdate]='auth(sys(metadataRegistry), "U").',d[l.a.ontManagerDeleteOntologyMirror]='auth(sys(ontologyMirror), "D").',d[l.a.ontManagerUpdateOntologyMirror]='auth(sys(ontologyMirror), "CU").',d[l.a.ontolexAddFormRepresentation]='auth(rdf(ontolexForm, formRepresentations), "C").',d[l.a.ontolexAddLexicalForm]='auth(rdf(ontolexLexicalEntry), "U").',d[l.a.ontolexAddLexicalization]="auth(rdf("+AuthorizationEvaluator.resRole+', lexicalization), "C").',d[l.a.ontolexAddSubterm]='auth(rdf(ontolexLexicalEntry, subterms), "C").',d[l.a.ontolexClearLexicalEntryConstituent]='auth(rdf(ontolexLexicalEntry, constituents), "D").',d[l.a.ontolexCreateLexicalEntry]='auth(rdf(ontolexLexicalEntry), "C").',d[l.a.ontolexCreateLexicon]='auth(rdf(limeLexicon), "C").',d[l.a.ontolexDeleteLexicalEntry]='auth(rdf(ontolexLexicalEntry), "D").',d[l.a.ontolexDeleteLexicon]='auth(rdf(limeLexicon), "D").',d[l.a.ontolexGetLexicalEntry]='auth(rdf(ontolexLexicalEntry), "R").',d[l.a.ontolexGetLexicon]='auth(rdf(limeLexicon), "R").',d[l.a.ontolexReadFormRepresentation]='auth(rdf(ontolexForm, formRepresentations), "R").',d[l.a.ontolexReadLexicalEntryConstituents]='auth(rdf(ontolexLexicalEntry, constituents), "R").',d[l.a.ontolexReadLexicaliForm]='auth(rdf(ontolexLexicalEntry, lexicalForms), "R").',d[l.a.ontolexReadSubterm]='auth(rdf(ontolexLexicalEntry, subterms), "R").',d[l.a.ontolexRemoveFormRepresentation]='auth(rdf(ontolexForm, formRepresentations), "U").',d[l.a.ontolexRemoveLexicalForm]='auth(rdf(ontolexLexicalEntry, lexicalForms), "D").',d[l.a.ontolexRemovePlainLexicalization]='auth(rdf(resource, lexicalization), "D").',d[l.a.ontolexRemoveReifiedLexicalization]="auth(rdf("+AuthorizationEvaluator.resRole+', lexicalization), "D").',d[l.a.ontolexRemoveSubterm]='auth(rdf(ontolexLexicalEntry, subterms), "D").',d[l.a.ontolexSetLexicalEntryConstituent]='auth(rdf(ontolexLexicalEntry, constituents), "C").',d[l.a.pluginsGetPlugins]='auth(sys(plugins), "R").',d[l.a.propertiesAddPropertyChainAxiom]='auth(rdf(property, taxonomy), "C").',d[l.a.propertiesAddPropertyDomain]='auth(rdf(property), "C").',d[l.a.propertiesAddPropertyRange]='auth(rdf(property), "C").',d[l.a.propertiesAddSuperProperty]='auth(rdf(property, taxonomy), "C").',d[l.a.propertiesAddDisjointProperty]='auth(rdf(property, taxonomy), "C").',d[l.a.propertiesAddEquivalentProperty]='auth(rdf(property, taxonomy), "C").',d[l.a.propertiesCreateProperty]='auth(rdf(property), "C").',d[l.a.propertiesCreateSubProperty]='auth(rdf(property), "C").',d[l.a.propertiesDeleteProperty]='auth(rdf(property), "D").',d[l.a.propertiesGetDomain]='auth(rdf(property, domain), "R").',d[l.a.propertiesGetPropertyTaxonomy]='auth(rdf(property, taxonomy), "R").',d[l.a.propertiesGetRange]='auth(rdf(property, range), "R").',d[l.a.propertiesRead]='auth(rdf(property), "D").',d[l.a.propertiesReadPropertyChainAxiom]='auth(rdf(property, taxonomy), "R").',d[l.a.propertiesRemovePropertyChainAxiom]='auth(rdf(property, taxonomy), "D").',d[l.a.propertiesRemovePropertyDomain]='auth(rdf(property), "D").',d[l.a.propertiesRemovePropertyRange]='auth(rdf(property), "D").',d[l.a.propertiesRemoveSuperProperty]='auth(rdf(property, taxonomy), "D").',d[l.a.propertiesRemoveDisjointProperty]='auth(rdf(property, taxonomy), "D").',d[l.a.propertiesRemoveEquivalentProperty]='auth(rdf(property, taxonomy), "D").',d[l.a.propertiesUpdatePropertyChainAxiom]='auth(rdf(property, taxonomy), "U").',d[l.a.refactorChangeResourceUri]="auth(rdf("+AuthorizationEvaluator.resRole+'), "U").',d[l.a.refactorMigrateToBaseUriGraph]='auth(rdf, "CRUD").',d[l.a.refactorMoveXLabelToResource]="auth(rdf("+AuthorizationEvaluator.resRole+', lexicalization), "CD").',d[l.a.refactorReplaceBaseUri]='auth(rdf, "CRUD").',d[l.a.refactorSkosToSkosxl]='auth(lexicalization, "CD").',d[l.a.refactorSkosxlToSkos]='auth(lexicalization, "CD").',d[l.a.refactorSpawnNewConceptFromLabel]='auth(rdf(concept), "C").',d[l.a.remoteAlignmentServiceSet]='auth(pm(project, alignmentService), "C").',d[l.a.remoteAlignmentServiceRead]='auth(pm(project, alignmentService), "R").',d[l.a.remoteAlignmentServiceRemove]='auth(pm(project, alignmentService), "D").',d[l.a.resourcesAddValue]="auth(rdf("+AuthorizationEvaluator.resRole+', values), "C").',d[l.a.resourcesRead]="auth(rdf("+AuthorizationEvaluator.resRole+'), "R").',d[l.a.resourcesReadLexicalizations]="auth(rdf("+AuthorizationEvaluator.resRole+', lexicalization), "R").',d[l.a.resourcesRemoveValue]="auth(rdf("+AuthorizationEvaluator.resRole+', values), "D").',d[l.a.resourcesRemovePredicateObject]='auth(rdf(resource, values), "D").',d[l.a.resourcesSetDeprecated]="auth(rdf("+AuthorizationEvaluator.resRole+'), "U").',d[l.a.resourcesUpdateLexicalization]="auth(rdf("+AuthorizationEvaluator.resRole+', lexicalization), "U").',d[l.a.resourcesUpdateTriple]="auth(rdf("+AuthorizationEvaluator.resRole+', values), "U").',d[l.a.resourcesUpdatePredicateObject]='auth(rdf(resource, values), "U").',d[l.a.resourcesUpdateResourceTriplesDescription]='auth(rdf(code), "U").',d[l.a.resourcesGetResourceTriplesDescription]='auth(rdf(code), "R").',d[l.a.resourcesGetResourcePosition]='auth(rdf(resource), "R").',d[l.a.resourceMetadataAssociationCreate]='auth(pm(resourceMetadata,association), "C").',d[l.a.resourceMetadataAssociationDelete]='auth(pm(resourceMetadata,association), "D").',d[l.a.resourceMetadataAssociationRead]='auth(pm(resourceMetadata,association), "R").',d[l.a.resourceMetadataPatternCreate]='auth(pm(resourceMetadata,pattern), "C").',d[l.a.resourceMetadataPatternDelete]='auth(pm(resourceMetadata,pattern), "D").',d[l.a.resourceMetadataPatternRead]='auth(pm(resourceMetadata,pattern), "R").',d[l.a.resourceMetadataPatternUpdate]='auth(pm(resourceMetadata,pattern), "U").',d[l.a.shaclClearShapes]='auth(shacl, "D").',d[l.a.shaclExportShapes]='auth(shacl, "R").',d[l.a.shaclLoadShapes]='auth(shacl, "CU").',d[l.a.shaclExtractCF]='auth(shacl, "R").',d[l.a.sheet2Rdf]='auth(rdf, "CRUD").',d[l.a.skosAddBroaderConcept]='auth(rdf(concept, taxonomy), "C").',d[l.a.skosAddConceptToScheme]='auth(rdf(concept, schemes), "C").',d[l.a.skosAddLexicalization]="auth(rdf("+AuthorizationEvaluator.resRole+', lexicalization), "C").',d[l.a.skosAddMultipleToScheme]='auth(rdf(concept, schemes), "C").',d[l.a.skosAddNote]="auth(rdf("+AuthorizationEvaluator.resRole+', notes), "C").',d[l.a.skosAddToCollection]='auth(rdf(skosCollection), "U").',d[l.a.skosAddTopConcept]='auth(rdf(concept, schemes), "C").',d[l.a.skosCreateCollection]='auth(rdf(skosCollection), "C").',d[l.a.skosCreateSubCollection]='auth(rdf(skosCollection), "C").',d[l.a.skosCreateNarrowerConcept]='auth(rdf(concept), "C").',d[l.a.skosCreateTopConcept]='auth(rdf(concept), "C").',d[l.a.skosCreateScheme]='auth(rdf(conceptScheme), "C").',d[l.a.skosDeleteCollection]='auth(rdf(skosCollection), "D").',d[l.a.skosDeleteConcept]='auth(rdf(concept), "D").',d[l.a.skosDeleteScheme]='auth(rdf(conceptScheme), "D").',d[l.a.skosGetCollectionTaxonomy]='auth(rdf(skosCollection, taxonomy), "R").',d[l.a.skosGetConceptTaxonomy]='auth(rdf(concept, taxonomy), "R").',d[l.a.skosGetSchemes]='auth(rdf(conceptScheme), "R").',d[l.a.skosReadSchemes]='auth(rdf(concept, schemes), "R").',d[l.a.skosRemoveBroaderConcept]='auth(rdf(concept, taxonomy), "D").',d[l.a.skosRemoveConceptFromScheme]='auth(rdf(concept, schemes), "D").',d[l.a.skosRemoveFromCollection]='auth(rdf(skosCollection), "U").',d[l.a.skosRemoveLexicalization]="auth(rdf("+AuthorizationEvaluator.resRole+', lexicalization), "D").',d[l.a.skosRemoveTopConcept]='auth(rdf(concept, schemes), "D").',d[l.a.sparqlEvaluateQuery]='auth(rdf(sparql), "R").',d[l.a.sparqlExecuteUpdate]='auth(rdf(sparql), "U").',d[l.a.validation]='auth(rdf, "V").',d[l.a.versionsCreateVersionDump]='auth(rdf(dataset, version), "C").',d[l.a.versionsGetVersions]='auth(rdf(dataset, version), "R").',d),AuthorizationEvaluator.tbox='\n        auth(TOPIC, CRUDVRequest) :-\n            chk_capability(TOPIC, CRUDV),\n            resolveCRUDV(CRUDVRequest, CRUDV).\n        \n        chk_capability(TOPIC, CRUDV) :-\n            capability(TOPIC, CRUDV).\n        \n        chk_capability(rdf(_), CRUDV) :-              \n            chk_capability(rdf, CRUDV).  \n        \n        chk_capability(rdf(_,_), CRUDV) :-          \n        chk_capability(rdf, CRUDV).\n        \n        chk_capability(rdf(Subject), CRUDV) :-\n            capability(rdf(AvailableSubject), CRUDV),\n            covered(Subject, AvailableSubject).  \n        \n        chk_capability(rdf(Subject,Scope), CRUDV) :-\n            capability(rdf(AvailableSubject,Scope), CRUDV),\n            covered(Subject, AvailableSubject).\n        \n        chk_capability(rdf(Subject,lexicalization(LANG)), CRUDV) :-\n            capability(rdf(AvailableSubject,lexicalization(LANGCOVERAGE)), CRUDV),\n            covered(Subject, AvailableSubject),\n            resolveLANG(LANG, LANGCOVERAGE).\n\n        chk_capability(rdf(SKOSELEMENT), CRUDV) :-\n            capability(rdf(skos), CRUDV),\n            vocabulary(SKOSELEMENT, skos).\n\t\n        chk_capability(rdf(SKOSELEMENT,_), CRUDV) :-\n            capability(rdf(skos), CRUDV),\n            vocabulary(SKOSELEMENT, skos).\n        \n        chk_capability(rdf(_,lexicalization(LANG)), CRUDV) :-\n            capability(rdf(lexicalization(LANGCOVERAGE)), CRUDV),\n            resolveLANG(LANG, LANGCOVERAGE).\n        \n        chk_capability(rdf(xLabel(LANG)), CRUDV) :-\n            capability(rdf(lexicalization(LANGCOVERAGE)), CRUDV),\n            resolveLANG(LANG, LANGCOVERAGE).\n        \n        chk_capability(rdf(xLabel(LANG),_), CRUDV) :-\n            capability(rdf(lexicalization(LANGCOVERAGE)), CRUDV),\n            resolveLANG(LANG, LANGCOVERAGE).\n        \n        chk_capability(rdf(_,lexicalization(_)), CRUDV) :-\n            capability(rdf(lexicalization), CRUDV).\n        \n        chk_capability(rdf(xLabel(_)), CRUDV) :-\n            capability(rdf(lexicalization), CRUDV).\n        \n        chk_capability(rdf(xLabel(_),_), CRUDV) :-\n            capability(rdf(lexicalization), CRUDV).\n        \n        chk_capability(rdf(_,lexicalization), CRUDV) :-\n            capability(rdf(lexicalization), CRUDV).\n\n        chk_capability(rdf(_,notes), CRUDV) :-\n            capability(rdf(notes), CRUDV).\n        \n        chk_capability(rdf(xLabel), CRUDV) :-\n            capability(rdf(lexicalization), CRUDV).\n        \n        chk_capability(rdf(xLabel,_), CRUDV) :-\n            capability(rdf(lexicalization), CRUDV).\n\n        chk_capability(rbac(_), CRUDV) :-\t\n            chk_capability(rbac, CRUDV).\t\n\n        chk_capability(rbac(_,_), CRUDV) :-\t\n            chk_capability(rbac, CRUDV).\n\n        resolveCRUDV(CRUDVRequest, CRUDV) :-\n            char_subset(CRUDVRequest, CRUDV).\n\n        resolveLANG(LANG, LANGCOVERAGE) :-\n            split_string(LANG,",","",LANGList),\n            split_string(LANGCOVERAGE,",","",LANGCOVERAGEList),\n                subset(LANGList, LANGCOVERAGEList).\n        \n        \n        covered(Subj,resource) :- role(Subj).\n        covered(objectProperty, property).\n        covered(datatypeProperty, property).\n        covered(annotationProperty, property).\n        covered(ontologyProperty, property).\n        covered(skosOrderedCollection, skosCollection).\n        covered(Role, Role).\n        \n        role(cls).\n        role(individual).\n        role(property).\n        role(objectProperty).\n        role(datatypeProperty).\n        role(annotationProperty).\n        role(ontologyProperty).\n        role(ontology).\n        role(dataRange).\n        role(concept).\n        role(conceptScheme).\n        role(xLabel).\n        role(xLabel(_)).\n        role(skosCollection).\n        role(skosOrderedCollection).\n\n        vocabulary(concept, skos).\n        vocabulary(conceptScheme, skos).\n        vocabulary(skosCollection, skos).\n        \n        getCapabilities(FACTLIST) :- findall(capability(A,CRUD),capability(A,CRUD),FACTLIST).    \n        ',AuthorizationEvaluator.jsPrologSupport="\n        char_subset(A,B) :-\n            subset(A,B).\n\n        subset([],_).\n \n        subset([H|R],L) :-\n            member(H,L),\n            subset(R,L).\n        \n        member(E,[E|_]).\n        member(E,[_|T]) :-\n        member(E,T).\n        ",AuthorizationEvaluator}();!function(e){e.C="C",e.R="R",e.U="U",e.D="D",e.V="V"}(r||(r={}));var d,u=function(){function ResourceViewAuthEvaluator(){}return ResourceViewAuthEvaluator.isAuthorized=function(e,t,n,r){return this.partitionEvaluationMap.get(e).get(t)(n,r)},ResourceViewAuthEvaluator.partitionEvaluationMap=new Map([[s.a.broaders,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.skosAddBroaderConcept,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.skosGetConceptTaxonomy,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.skosRemoveBroaderConcept,e,t)}]])],[s.a.classaxioms,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.classesCreateClassAxiom,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.classesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.classesRemoveClassAxiom,e,t)}]])],[s.a.constituents,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.ontolexSetLexicalEntryConstituent,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.ontolexReadLexicalEntryConstituents,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.ontolexClearLexicalEntryConstituent,e,t)}]])],[s.a.datatypeDefinitions,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.datatypesSetDatatypeRestriction,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.datatypesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.datatypesSetDatatypeRestriction,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.datatypesDeleteDatatypeRestriction,e,t)}]])],[s.a.denotations,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.ontolexAddLexicalization,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesReadLexicalizations,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.ontolexRemovePlainLexicalization,e,t)}]])],[s.a.disjointProperties,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.propertiesAddDisjointProperty,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.propertiesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.propertiesRemoveDisjointProperty,e,t)}]])],[s.a.domains,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.propertiesAddPropertyDomain,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.propertiesGetDomain,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.propertiesRemovePropertyDomain,e,t)}]])],[s.a.equivalentProperties,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.propertiesAddEquivalentProperty,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.propertiesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.propertiesRemoveEquivalentProperty,e,t)}]])],[s.a.evokedLexicalConcepts,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.resourcesAddValue,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.resourcesRemoveValue,e,t)}]])],[s.a.facets,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.resourcesAddValue,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.resourcesRemoveValue,e,t)}]])],[s.a.formBasedPreview,new Map([[r.C,function(e,t){return!1}],[r.R,function(e,t){return!0}],[r.U,function(e,t){return!1}],[r.D,function(e,t){return!1}]])],[s.a.formRepresentations,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.ontolexAddFormRepresentation,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.ontolexReadFormRepresentation,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.ontolexRemoveFormRepresentation,e,t)}]])],[s.a.imports,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.metadataAddImport,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.metadataReadImport,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.metadataRemoveImport,e,t)}]])],[s.a.labelRelations,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.resourcesAddValue,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.resourcesRemoveValue,e,t)}]])],[s.a.lexicalForms,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.ontolexAddLexicalForm,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.ontolexRemoveLexicalForm,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.ontolexRemoveLexicalForm,e,t)}]])],[s.a.lexicalSenses,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.ontolexAddLexicalization,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesReadLexicalizations,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.ontolexRemoveReifiedLexicalization,e,t)}]])],[s.a.lexicalizations,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.skosAddLexicalization,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesReadLexicalizations,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateLexicalization,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.skosRemoveLexicalization,e,t)}]])],[s.a.members,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.skosAddToCollection,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.skosGetCollectionTaxonomy,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.skosRemoveFromCollection,e,t)}]])],[s.a.membersOrdered,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.skosAddToCollection,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.skosGetCollectionTaxonomy,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.skosRemoveFromCollection,e,t)}]])],[s.a.notes,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.skosAddNote,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.resourcesRemoveValue,e,t)}]])],[s.a.properties,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.resourcesAddValue,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.resourcesRemoveValue,e,t)}]])],[s.a.ranges,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.propertiesAddPropertyRange,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.propertiesGetRange,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.propertiesRemovePropertyRange,e,t)}]])],[s.a.rdfsMembers,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.resourcesAddValue,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.resourcesRemoveValue,e,t)}]])],[s.a.schemes,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.skosAddConceptToScheme,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.skosReadSchemes,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.skosRemoveConceptFromScheme,e,t)}]])],[s.a.subPropertyChains,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.propertiesAddPropertyChainAxiom,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.propertiesReadPropertyChainAxiom,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.propertiesUpdatePropertyChainAxiom,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.propertiesRemovePropertyChainAxiom,e,t)}]])],[s.a.subterms,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.ontolexAddSubterm,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.ontolexReadSubterm,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.ontolexRemoveSubterm,e,t)}]])],[s.a.superproperties,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.propertiesAddSuperProperty,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.propertiesGetPropertyTaxonomy,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.propertiesRemoveSuperProperty,e,t)}]])],[s.a.topconceptof,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.skosAddTopConcept,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.skosReadSchemes,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.skosRemoveTopConcept,e,t)}]])],[s.a.types,new Map([[r.C,function(e,t){return p.isAuthorized(l.a.individualsAddType,e,t)}],[r.R,function(e,t){return p.isAuthorized(l.a.resourcesRead,e,t)}],[r.U,function(e,t){return p.isAuthorized(l.a.resourcesUpdateTriple,e,t)}],[r.D,function(e,t){return p.isAuthorized(l.a.individualsRemoveType,e,t)}]])]]),ResourceViewAuthEvaluator}()},function(e,t,n){e.exports=n.p+"assets/images/loading.gif"},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return l});var r,o=n(41),i=(n.n(o),n(11)),a=n(8),s=n(7);!function(e){e.administrationProjectManagement="administrationProjectManagement",e.administrationRoleManagement="administrationRoleManagement",e.administrationUserGroupManagement="administrationUserGroupManagement",e.administrationUserRoleManagement="administrationUserRoleManagement",e.alignmentAddAlignment="alignmentAddAlignment",e.alignmentApplyAlignment="alignmentApplyAlignment",e.alignmentLoadAlignment="alignmentLoadAlignment",e.classesCreateClass="classesCreateClass",e.classesCreateSubClass="classesCreateSubClass",e.classesCreateClassAxiom="classesCreateClassAxiom",e.classesCreateIndividual="classesCreateIndividual",e.classesDeleteClass="classesDeleteClass",e.classesDeleteIndividual="classesDeleteIndividual",e.classesGetClassTaxonomy="classesGetClassTaxonomy",e.classesGetInstances="classesGetInstances",e.classesRead="classesRead",e.classesRemoveClassAxiom="classesRemoveClassAxiom",e.collaboration="collaboration",e.customFormCreateCollection="customFormCreateCollection",e.customFormCreateForm="customFormCreateForm",e.customFormCreateFormMapping="customFormCreateFormMapping",e.customFormDeleteCollection="customFormDeleteCollection",e.customFormDeleteForm="customFormDeleteForm",e.customFormDeleteFormMapping="customFormDeleteFormMapping",e.customFormGetCollections="customFormGetCollections",e.customFormGetFormMappings="customFormGetFormMappings",e.customFormGetForms="customFormGetForms",e.customFormUpdateCollection="customFormUpdateCollection",e.customFormUpdateForm="customFormUpdateForm",e.customFormUpdateFormMapping="customFormUpdateFormMapping",e.customServiceCreate="customServiceCreate",e.customServiceDelete="customServiceDelete",e.customServiceRead="customServiceRead",e.customServiceUpdate="customServiceUpdate",e.customServiceOperationCreate="customServiceOperationCreate",e.customServiceOperationDelete="customServiceOperationDelete",e.customServiceOperationUpdate="customServiceOperationUpdate",e.datasetMetadataExport="datasetMetadataExport",e.datasetMetadataGetMetadata="datasetMetadataGetMetadata",e.datatypesCreateDatatype="datatypesCreateDatatype",e.datatypesDeleteDatatype="datatypesDeleteDatatype",e.datatypesGetDatatype="datatypesGetDatatype",e.datatypesDeleteDatatypeRestriction="datatypesDeleteDatatypeRestriction",e.datatypesRead="datatypesRead",e.datatypesSetDatatypeRestriction="setDatatypeRestriction",e.exportExport="exportExport",e.history="history",e.icvDanglingXLabel="icvDanglingXLabel",e.icvGenericConcept="icvGenericConcept",e.icvGenericResource="icvGenericResource",e.individualsAddType="individualsAddType",e.individualsGetInstances="individualsGetInstances",e.individualsRemoveType="individualsRemoveType",e.inputOutputClearData="inputOutputClearData",e.inputOutputLoadData="inputOutputLoadData",e.invokableReporterCreate="invokableReporterCreate",e.invokableReporterDelete="invokableReporterDelete",e.invokableReporterRead="invokableReporterRead",e.invokableReporterUpdate="invokableReporterUpdate",e.invokableReporterSectionCreate="invokableReporterSectionCreate",e.invokableReporterSectionDelete="invokableReporterSectionDelete",e.invokableReporterSectionUpdate="invokableReporterSectionUpdate",e.metadataAddImport="metadataAddImport",e.metadataChangeNsPrefixMapping="metadataChangeNsPrefixMapping",e.metadataReadImport="metadataReadImport",e.metadataRemoveImport="metadataRemoveImport",e.metadataRemoveNsPrefixMapping="metadataRemoveNsPrefixMapping",e.metadataSetDefaultNs="metadataSetDefaultNs",e.metadataSetNsPrefixMapping="metadataSetNsPrefixMapping",e.metadataRegistryCreate="metadataRegistryCreate",e.metadataRegistryDelete="metadataRegistryDelete",e.metadataRegistryRead="metadataRegistryRead",e.metadataRegistryUpdate="metadataRegistryUpdate",e.ontManagerDeleteOntologyMirror="ontManagerDeleteOntologyMirror",e.ontManagerUpdateOntologyMirror="ontManagerUpdateOntologyMirror",e.ontolexAddFormRepresentation="ontolexAddFormRepresentation",e.ontolexAddLexicalForm="ontolexAddLexicalForm",e.ontolexAddLexicalization="ontolexAddLexicalization",e.ontolexAddSubterm="ontolexAddSubterm",e.ontolexClearLexicalEntryConstituent="ontolexClearLexicalEntryConstituent",e.ontolexCreateLexicalEntry="ontolexCreateLexicalEntry",e.ontolexCreateLexicon="ontolexCreateLexicon",e.ontolexDeleteLexicalEntry="ontolexDeleteLexicalEntry",e.ontolexDeleteLexicon="ontolexDeleteLexicon",e.ontolexGetLexicalEntry="ontolexGetLexicalEntry",e.ontolexGetLexicon="ontolexGetLexicon",e.ontolexReadFormRepresentation="ontolexReadFormRepresentation",e.ontolexReadLexicaliForm="ontolexReadLexicaliForm",e.ontolexReadLexicalEntryConstituents="ontolexReadLexicalEntryConstituents",e.ontolexReadSubterm="ontolexReadSubterm",e.ontolexRemoveFormRepresentation="ontolexRemoveFormRepresentation",e.ontolexRemoveLexicalForm="ontolexRemoveLexicalForm",e.ontolexRemovePlainLexicalization="ontolexRemovePlainLexicalization",e.ontolexRemoveReifiedLexicalization="ontolexRemoveReifiedLexicalization",e.ontolexRemoveSubterm="ontolexRemoveSubterm",e.ontolexSetLexicalEntryConstituent="ontolexSetLexicalEntryConstituent",e.pluginsGetPlugins="pluginsGetPlugins",e.propertiesAddDisjointProperty="propertiesAddDisjointProperty",e.propertiesAddEquivalentProperty="propertiesAddEquivalentProperty",e.propertiesAddPropertyChainAxiom="propertiesAddPropertyChainAxiom",e.propertiesAddPropertyDomain="propertiesAddPropertyDomain",e.propertiesAddPropertyRange="propertiesAddPropertyRange",e.propertiesAddSuperProperty="propertiesAddSuperProperty",e.propertiesCreateProperty="propertiesCreateProperty",e.propertiesCreateSubProperty="propertiesCreateSubProperty",e.propertiesDeleteProperty="propertiesDeleteProperty",e.propertiesGetDomain="propertiesGetDomain",e.propertiesGetPropertyTaxonomy="propertiesGetPropertyTaxonomy",e.propertiesGetRange="propertiesGetRange",e.propertiesRead="propertiesRead",e.propertiesReadPropertyChainAxiom="propertiesReadPropertyChainAxiom",e.propertiesRemoveDisjointProperty="propertiesRemoveDisjointProperty",e.propertiesRemoveEquivalentProperty="propertiesRemoveEquivalentProperty",e.propertiesRemovePropertyChainAxiom="propertiesRemovePropertyChainAxiom",e.propertiesRemovePropertyDomain="propertiesRemovePropertyDomain",e.propertiesRemovePropertyRange="propertiesRemovePropertyRange",e.propertiesRemoveSuperProperty="propertiesRemoveSuperProperty",e.propertiesUpdatePropertyChainAxiom="propertiesUpdatePropertyChainAxiom",e.refactorChangeResourceUri="refactorChangeResourceUri",e.refactorMigrateToBaseUriGraph="refactorMigrateToBaseUriGraph",e.refactorMoveXLabelToResource="refactorMoveXLabelToResource",e.refactorReplaceBaseUri="refactorReplaceBaseUri",e.refactorSkosxlToSkos="refactorSkosxlToSkos",e.refactorSkosToSkosxl="refactorSkosToSkosxl",e.refactorSpawnNewConceptFromLabel="refactorSpawnNewConceptFromLabel",e.remoteAlignmentServiceSet="remoteAlignmentServiceSet",e.remoteAlignmentServiceRemove="remoteAlignmentServiceRemove",e.remoteAlignmentServiceRead="remoteAlignmentServiceRead",e.resourcesAddValue="resourcesAddValue",e.resourcesRead="resourcesRead",e.resourcesReadLexicalizations="resourcesReadLexicalizations",e.resourcesRemoveValue="resourcesRemoveValue",e.resourcesRemovePredicateObject="resourcesRemovePredicateObject",e.resourcesSetDeprecated="resourcesSetDeprecated",e.resourcesUpdateLexicalization="resourcesUpdateLexicalization",e.resourcesUpdateTriple="resourcesUpdateTriple",e.resourcesUpdatePredicateObject="resourcesUpdatePredicateObject",e.resourcesGetResourceTriplesDescription="resourcesGetResourceTriplesDescription",e.resourcesUpdateResourceTriplesDescription="resourcesUpdateResourceTriplesDescription",e.resourcesGetResourcePosition="resourcesGetResourcePosition",e.resourceMetadataAssociationCreate="resourceMetadataAssociationCreate",e.resourceMetadataAssociationRead="resourceMetadataAssociationRead",e.resourceMetadataAssociationDelete="resourceMetadataAssociationDelete",e.resourceMetadataPatternCreate="resourceMetadataPatternCreate",e.resourceMetadataPatternRead="resourceMetadataPatternRead",e.resourceMetadataPatternUpdate="resourceMetadataPatternUpdate",e.resourceMetadataPatternDelete="resourceMetadataPatternDelete",e.shaclClearShapes="shaclClearShapes",e.shaclExportShapes="shaclExportShapes",e.shaclLoadShapes="shaclLoadShapes",e.shaclExtractCF="shaclExtractCF",e.sheet2Rdf="sheet2Rdf",e.skosAddBroaderConcept="skosAddBroaderConcept",e.skosAddConceptToScheme="skosAddConceptToScheme",e.skosAddLexicalization="skosAddLexicalization",e.skosAddMultipleToScheme="skosAddMultipleToScheme",e.skosAddNote="skosAddNote",e.skosAddToCollection="skosAddToCollection",e.skosAddTopConcept="skosAddTopConcept",e.skosCreateCollection="skosCreateCollection",e.skosCreateSubCollection="skosCreateSubCollection",e.skosCreateNarrowerConcept="skosCreateNarrowerConcept",e.skosCreateScheme="skosCreateScheme",e.skosCreateTopConcept="skosCreateTopConcept",e.skosDeleteCollection="skosDeleteCollection",e.skosDeleteConcept="skosDeleteConcept",e.skosDeleteScheme="skosDeleteScheme",e.skosGetCollectionTaxonomy="skosGetCollectionTaxonomy",e.skosGetConceptTaxonomy="skosGetConceptTaxonomy",e.skosGetSchemes="skosGetSchemes",e.skosReadSchemes="skosReadSchemes",e.skosRemoveBroaderConcept="skosRemoveBroaderConcept",e.skosRemoveConceptFromScheme="skosRemoveConceptFromScheme",e.skosRemoveFromCollection="skosRemoveFromCollection",e.skosRemoveLexicalization="skosRemoveLexicalization",e.skosRemoveTopConcept="skosRemoveTopConcept",e.sparqlEvaluateQuery="sparqlEvaluateQuery",e.sparqlExecuteUpdate="sparqlExecuteUpdate",e.validation="validation",e.versionsCreateVersionDump="versionsCreateVersionDump",e.versionsGetVersions="versionsGetVersions"}(r||(r={}));var l=function(){function VBActionFunctions(e,t,n,l,c,p,d,u){var f=this;this.skosService=e,this.classesService=t,this.propertyService=n,this.ontolexService=l,this.datatypeService=c,this.resourceService=p,this.basicModals=d,this.creationModals=u,this.classesCreateClass=function(e){return o.Observable.create(function(t){f.creationModals.newResourceCf("Create a new class",e.metaClass).then(function(n){var r=i.c.thing;n.cls.getURI()==i.b.class.getURI()&&(r=i.b.resource),s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.classesService.createClass(n.uriResource,r,n.cls,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(){t.error(null)})})},this.classesCreateSubClass=function(e,t){return o.Observable.create(function(n){f.creationModals.newResourceCf("Create a subClass of "+t.getShow(),e.metaClass).then(function(r){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.classesService.createClass(r.uriResource,t,r.cls,r.cfValue).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})},function(){n.error(null)})})},this.classesDeleteClass=function(e,t){return o.Observable.create(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.classesService.deleteClass(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})})},this.skosCreateTopConcept=function(e){return o.Observable.create(function(t){f.creationModals.newConceptCf("Create new skos:Concept",null,e.schemes,e.metaClass,!0).then(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.createConcept(n.label,n.schemes,n.uriResource,null,n.cls,null,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)},function(r){r.name.endsWith("PrefAltLabelClashException")?f.basicModals.confirm("Warning",r.message+" Do you want to force the creation?","warning").then(function(r){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.createConcept(n.label,n.schemes,n.uriResource,null,n.cls,null,n.cfValue,!1).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(e){t.error(null)}):r.name.endsWith("BlacklistForbiddendException")&&f.basicModals.confirm("Warning",r.message+" Do you want to force the creation?","warning").then(function(r){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),a.c.setContextForce(!0),f.skosService.createConcept(n.label,n.schemes,n.uriResource,null,n.cls,null,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),a.c.setContextForce(!1),t.next(null)})},function(e){t.error(null)})})},function(){t.error(null)})})},this.skosCreateNarrowerConcept=function(e,t){return o.Observable.create(function(n){f.creationModals.newConceptCf("Create a skos:narrower",t,null,e.metaClass,!0).then(function(r){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.createConcept(r.label,r.schemes,r.uriResource,t,r.cls,r.broaderProp,r.cfValue).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)},function(o){o.name.endsWith("PrefAltLabelClashException")&&f.basicModals.confirm("Warning",o.message+" Do you want to force the creation?","warning").then(function(o){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.createConcept(r.label,r.schemes,r.uriResource,t,r.cls,r.broaderProp,r.cfValue,!1).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})},function(e){n.error(null)})})},function(e){n.error(null)})})},this.skosDeleteConcept=function(e,t){return o.Observable.create(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.deleteConcept(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})})},this.skosCreateScheme=function(e){return o.Observable.create(function(t){f.creationModals.newResourceWithLiteralCf("Create new "+e.metaClass.getShow(),e.metaClass,!0).then(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.createConceptScheme(n.literal,n.uriResource,n.cls,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)},function(r){r.name.endsWith("PrefAltLabelClashException")&&f.basicModals.confirm("Warning",r.message+" Do you want to force the creation?","warning").then(function(r){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.createConceptScheme(n.literal,n.uriResource,n.cls,n.cfValue,!1).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(e){t.error(null)})})},function(e){t.error(null)})})},this.skosDeleteScheme=function(e,t){return o.Observable.create(function(n){f.skosService.isSchemeEmpty(t).subscribe(function(r){r?(s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.deleteConceptScheme(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})):f.basicModals.confirm("Delete scheme","The scheme is not empty. Deleting it will produce dangling concepts. Are you sure to continue?","warning").then(function(r){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.deleteConceptScheme(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})},function(e){n.error(null)})})})},this.datatypesCreateDatatype=function(e){return o.Observable.create(function(t){f.creationModals.newResourceCf("Create a new datatype",i.b.datatype,!1).then(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.datatypeService.createDatatype(n.uriResource).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(e){t.error(null)})})},this.datatypesDeleteDatatype=function(e,t){return o.Observable.create(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.datatypeService.deleteDatatype(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})})},this.classesCreateIndividual=function(e){return o.Observable.create(function(t){f.creationModals.newResourceCf("Create a new instance of "+e.metaClass.getShow(),e.metaClass,!1).then(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.classesService.createInstance(n.uriResource,e.metaClass,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(e){t.error(null)})})},this.classesDeleteIndividual=function(e,t){return o.Observable.create(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.classesService.deleteInstance(t,e.metaClass).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})})},this.ontolexCreateLexicon=function(e){return o.Observable.create(function(t){f.creationModals.newLexiconCf("Create new lime:Lexicon").then(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.ontolexService.createLexicon(n.language,n.uriResource,n.title,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(e){t.error(null)})})},this.ontolexDeleteLexicon=function(e,t){return o.Observable.create(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.ontolexService.deleteLexicon(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})})},this.ontolexCreateLexicalEntry=function(e){return o.Observable.create(function(t){f.creationModals.newResourceWithLiteralCf("Create new ontolex:LexicalEntry",i.f.lexicalEntry,!0,"Canonical Form",e.lexicon.lang,{constrain:!0,locale:!0}).then(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.ontolexService.createLexicalEntry(n.literal,e.lexicon.res,n.uriResource,n.cls,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(e){t.error(null)})})},this.ontolexDeleteLexicalEntry=function(e,t){return o.Observable.create(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.ontolexService.deleteLexicalEntry(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})})},this.propertiesCreateProperty=function(e){return o.Observable.create(function(t){f.creationModals.newResourceCf("Create a new "+e.metaClass.getShow(),e.metaClass,!1).then(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.propertyService.createProperty(n.cls,n.uriResource,null,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(e){t.error(null)})})},this.propertiesCreateSubProperty=function(e,t){return o.Observable.create(function(n){f.creationModals.newResourceCf("Create subProperty of "+t.getShow(),e.metaClass,!1).then(function(r){f.propertyService.createProperty(r.cls,r.uriResource,t,r.cfValue).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})},function(e){n.error(null)})})},this.propertiesDeleteProperty=function(e,t){return o.Observable.create(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.propertyService.deleteProperty(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})})},this.skosCreateCollection=function(e){return o.Observable.create(function(t){f.creationModals.newResourceWithLiteralCf("Create new "+e.metaClass.getShow(),e.metaClass,!0).then(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.createCollection(e.metaClass,n.literal,n.uriResource,null,n.cls,n.cfValue).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)},function(r){r.name.endsWith("PrefAltLabelClashException")&&f.basicModals.confirm("Warning",r.message+" Do you want to force the creation?","warning").then(function(r){f.skosService.createCollection(e.metaClass,n.literal,n.uriResource,null,n.cls,n.cfValue,!1).subscribe(function(n){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),t.next(null)})},function(e){t.error(null)})})},function(e){t.error(null)})})},this.skosCreateSubCollection=function(e,t){return o.Observable.create(function(n){f.creationModals.newResourceWithLiteralCf("Create a nested "+e.metaClass.getShow(),e.metaClass,!0).then(function(r){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),f.skosService.createCollection(e.metaClass,r.literal,r.uriResource,t,r.cls,r.cfValue).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)},function(o){o.name.endsWith("PrefAltLabelClashException")&&f.basicModals.confirm("Warning",o.message+" Do you want to force the creation?","warning").then(function(o){f.skosService.createCollection(e.metaClass,r.literal,r.uriResource,t,r.cls,r.cfValue,!1).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})},function(e){n.error(null)})})},function(e){n.error(null)})})},this.skosDeleteCollection=function(e,t){return o.Observable.create(function(n){s.a.startLoadingDiv(e.loadingDivRef.nativeElement),e.metaClass.equals(i.d.collection)?f.skosService.deleteCollection(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)}):f.skosService.deleteOrderedCollection(t).subscribe(function(t){s.a.stopLoadingDiv(e.loadingDivRef.nativeElement),n.next(null)})})},this.resourcesSetDeprecated=function(e,t){return f.resourceService.setDeprecated(t)},this.actionsFunctionMap=new Map([[r.classesCreateClass,this.classesCreateClass],[r.classesCreateSubClass,this.classesCreateSubClass],[r.classesDeleteClass,this.classesDeleteClass],[r.skosCreateTopConcept,this.skosCreateTopConcept],[r.skosCreateNarrowerConcept,this.skosCreateNarrowerConcept],[r.skosDeleteConcept,this.skosDeleteConcept],[r.skosCreateScheme,this.skosCreateScheme],[r.skosDeleteScheme,this.skosDeleteScheme],[r.datatypesCreateDatatype,this.datatypesCreateDatatype],[r.datatypesDeleteDatatype,this.datatypesDeleteDatatype],[r.classesCreateIndividual,this.classesCreateIndividual],[r.classesDeleteIndividual,this.classesDeleteIndividual],[r.ontolexCreateLexicon,this.ontolexCreateLexicon],[r.ontolexDeleteLexicon,this.ontolexDeleteLexicon],[r.ontolexCreateLexicalEntry,this.ontolexCreateLexicalEntry],[r.ontolexDeleteLexicalEntry,this.ontolexDeleteLexicalEntry],[r.propertiesCreateProperty,this.propertiesCreateProperty],[r.propertiesCreateSubProperty,this.propertiesCreateSubProperty],[r.propertiesDeleteProperty,this.propertiesDeleteProperty],[r.skosCreateCollection,this.skosCreateCollection],[r.skosCreateSubCollection,this.skosCreateSubCollection],[r.skosDeleteCollection,this.skosDeleteCollection],[r.resourcesSetDeprecated,this.resourcesSetDeprecated]])}return VBActionFunctions.prototype.getFunction=function(e){return this.actionsFunctionMap.get(e)},VBActionFunctions}();!function(){function VBActionFunctionCtx(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(41),i=(n.n(o),n(3)),a=n(66),s=n(42),l=n(32),c=n(24),p=n(11),d=n(83),u=n(71),f=n(96),h=n(7),g=n(15),m=n(2),v=n(8),b=n(6),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(){function VBProperties(e,t,n,r){var o=this;this.prefService=e,this.adminService=t,this.basicModals=n,this.eventHandler=r,this.eventSubscriptions=[],this.eventSubscriptions.push(r.resourceRenamedEvent.subscribe(function(e){return o.onResourceRenamed(e.oldResource,e.newResource)}))}return VBProperties.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},VBProperties.prototype.initUserProjectPreferences=function(e){var t=this,n=[l.a.pref_active_schemes,l.a.pref_active_lexicon,l.a.pref_show_flags,l.a.pref_show_instances_number,l.a.pref_project_theme,l.a.pref_search_languages,l.a.pref_search_restrict_lang,l.a.pref_search_include_locales,l.a.pref_search_use_autocomplete,l.a.pref_class_tree_filter,l.a.pref_class_tree_root,l.a.pref_instance_list_visualization,l.a.pref_concept_tree_base_broader_prop,l.a.pref_concept_tree_broader_props,l.a.pref_concept_tree_narrower_props,l.a.pref_concept_tree_include_subprops,l.a.pref_concept_tree_sync_inverse,l.a.pref_concept_tree_visualization,l.a.pref_concept_tree_multischeme_mode,l.a.pref_concept_tree_safe_to_go_limit,l.a.pref_lex_entry_list_visualization,l.a.pref_lex_entry_list_index_lenght,l.a.pref_lex_entry_list_safe_to_go_limit,l.a.pref_editing_language,l.a.pref_filter_value_languages,l.a.pref_res_view_partition_filter,l.a.pref_res_view_default_concept_type,l.a.pref_graph_view_partition_filter,l.a.pref_hide_literal_graph_nodes,l.a.pref_notifications_status],r=this.prefService.getPUSettings(n,e.getProject()).map(function(n){var r=e.getProjectPreferences(),o=[],a=n[l.a.pref_active_schemes];if(null!=a)for(var s=a.split(","),d=0;d<s.length;d++)o.push(new i.b(s[d],null,i.c.conceptScheme));r.activeSchemes=o;var u,f=n[l.a.pref_active_lexicon];null!=f&&(u=new i.b(f,null,i.c.limeLexicon)),r.activeLexicon=u,r.showFlags="true"==n[l.a.pref_show_flags];var g=n[l.a.pref_project_theme];r.projectThemeId=g,h.a.changeNavbarTheme(g),r.editingLanguage=n[l.a.pref_editing_language];var m=n[l.a.pref_filter_value_languages];r.filterValueLang=null==m?{languages:[],enabled:!1}:JSON.parse(m);var v=new l.k,b=n[l.a.pref_res_view_default_concept_type];b in l.l&&(v.defaultConceptType=b);var y={},x=n[l.a.pref_res_view_partition_filter];null!=x&&(y=JSON.parse(x)),v.resViewPartitionFilter=y,r.resViewPreferences=v,t.initResourceViewPreferenceCookie(r);var C=n[l.a.pref_graph_view_partition_filter];if(null!=C)r.graphViewPartitionFilter=JSON.parse(C);else{var R={};for(var S in i.c)R[S]=[c.a.lexicalizations];r.graphViewPartitionFilter=R}r.hideLiteralGraphNodes="false"!=n[l.a.pref_hide_literal_graph_nodes];var P={rootClassUri:e.getProject().getModelType()==p.b.uri?p.b.resource.getURI():p.c.thing.getURI(),filter:{enabled:!0,map:{}},showInstancesNumber:!1},E=JSON.parse(n[l.a.pref_class_tree_filter]);null!=E&&(P.filter=E);var w=n[l.a.pref_class_tree_root];null!=w&&(P.rootClassUri=w),r.classTreePreferences=P;var I=n[l.a.pref_show_instances_number];if(null!=I)P.showInstancesNumber="true"==I;else{var A=e.getProject().getModelType();P.showInstancesNumber=A==p.b.uri||A==p.c.uri}var _=new l.m,L=n[l.a.pref_instance_list_visualization];L==l.h.searchBased&&(_.visualization=L),r.instanceListPreferences=_;var M=new l.n,k=n[l.a.pref_concept_tree_base_broader_prop];null!=k&&(M.baseBroaderUri=k);var O=n[l.a.pref_concept_tree_broader_props];null!=O&&(M.broaderProps=O.split(","));var N=n[l.a.pref_concept_tree_narrower_props];null!=N&&(M.narrowerProps=N.split(","));var T=n[l.a.pref_concept_tree_visualization];T==l.j.searchBased&&(M.visualization=T);var D=n[l.a.pref_concept_tree_multischeme_mode];null!=D&&D==l.i.and&&(M.multischemeMode=D);var j=n[l.a.pref_concept_tree_safe_to_go_limit];null!=j&&(M.safeToGoLimit=parseInt(j)),M.includeSubProps="false"!=n[l.a.pref_concept_tree_include_subprops],M.syncInverse="false"!=n[l.a.pref_concept_tree_sync_inverse],r.conceptTreePreferences=M;var F=new l.o,U=n[l.a.pref_lex_entry_list_visualization];U==l.g.searchBased&&(F.visualization=U);var V=n[l.a.pref_lex_entry_list_safe_to_go_limit];null!=V&&(F.safeToGoLimit=parseInt(V)),"2"==n[l.a.pref_lex_entry_list_index_lenght]&&(F.indexLength=2),r.lexEntryListPreferences=F;var G=new l.p,B=n[l.a.pref_search_languages];G.languages=null==B?[]:JSON.parse(B),G.restrictLang="true"==n[l.a.pref_search_restrict_lang],G.includeLocales="true"==n[l.a.pref_search_include_locales],G.useAutocompletion="true"==n[l.a.pref_search_use_autocomplete],r.searchSettings=G,t.initSearchSettingsCookie(r);var z=n[l.a.pref_notifications_status];null!=z&&z in l.q&&(r.notificationStatus=z)}),a=this.prefService.getPUSettings([l.a.pref_languages],e.getProject(),s.a.RENDERING_ENGINE_ID).map(function(t){e.getProjectPreferences().projectLanguagesPreference=t[l.a.pref_languages].split(",")});return o.Observable.forkJoin(r,a)},VBProperties.prototype.setActiveSchemes=function(e,t){e.getProjectPreferences().activeSchemes=null==t?[]:t,this.eventHandler.schemeChangedEvent.emit({schemes:t,project:e.getProject()}),this.prefService.setActiveSchemes(t,new v.b({ctxProject:e.getProject()})).subscribe()},VBProperties.prototype.setActiveLexicon=function(e,t){e.getProjectPreferences().activeLexicon=t,this.eventHandler.lexiconChangedEvent.emit({lexicon:t,project:e.getProject()});var n=null!=t?t.getURI():null;this.prefService.setPUSetting(l.a.pref_active_lexicon,n,e.getProject()).subscribe()},VBProperties.prototype.getShowFlags=function(){return null!=b.a.getWorkingProjectCtx()?b.a.getWorkingProjectCtx().getProjectPreferences().showFlags:b.a.getSystemSettings().showFlags},VBProperties.prototype.setShowFlags=function(e){b.a.getWorkingProjectCtx().getProjectPreferences().showFlags=e,this.eventHandler.showFlagChangedEvent.emit(e),this.prefService.setPUSetting(l.a.pref_show_flags,e+"").subscribe()},VBProperties.prototype.setProjectTheme=function(e){b.a.getWorkingProjectCtx().getProjectPreferences().projectThemeId=e,h.a.changeNavbarTheme(e);var t=0==e?null:e+"";this.prefService.setPUSetting(l.a.pref_project_theme,t).subscribe()},VBProperties.prototype.setLanguagesPreference=function(e){var t=0==e.length?null:e.join(",");this.prefService.setPUSetting(l.a.pref_languages,t,null,s.a.RENDERING_ENGINE_ID).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().projectLanguagesPreference=e},VBProperties.prototype.setEditingLanguage=function(e){this.prefService.setPUSetting(l.a.pref_editing_language,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().editingLanguage=e},VBProperties.prototype.setValueFilterLanguages=function(e){this.prefService.setPUSetting(l.a.pref_filter_value_languages,JSON.stringify(e)).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().filterValueLang=e},VBProperties.prototype.setNotificationStatus=function(e){this.prefService.setPUSetting(l.a.pref_notifications_status,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().notificationStatus=e,this.eventHandler.notificationStatusChangedEvent.emit()},VBProperties.prototype.setClassTreeFilter=function(e){this.prefService.setPUSetting(l.a.pref_class_tree_filter,JSON.stringify(e)).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().classTreePreferences.filter=e,this.eventHandler.classFilterChangedEvent.emit()},VBProperties.prototype.setClassTreeRoot=function(e){this.prefService.setPUSetting(l.a.pref_class_tree_root,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().classTreePreferences.rootClassUri=e},VBProperties.prototype.setShowInstancesNumber=function(e){b.a.getWorkingProjectCtx().getProjectPreferences().classTreePreferences.showInstancesNumber=e;var t=e?"true":null;this.prefService.setPUSetting(l.a.pref_show_instances_number,t).subscribe()},VBProperties.prototype.setInstanceListVisualization=function(e){this.prefService.setPUSetting(l.a.pref_instance_list_visualization,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().instanceListPreferences.visualization=e},VBProperties.prototype.setMultischemeMode=function(e){this.prefService.setPUSetting(l.a.pref_concept_tree_multischeme_mode,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.multischemeMode=e},VBProperties.prototype.setConceptTreeSafeToGoLimit=function(e){this.prefService.setPUSetting(l.a.pref_concept_tree_safe_to_go_limit,e+"").subscribe();var t=b.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences;t.safeToGoLimit=e,t.safeToGoMap={}},VBProperties.prototype.setConceptTreeBaseBroaderProp=function(e){this.prefService.setPUSetting(l.a.pref_concept_tree_base_broader_prop,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.baseBroaderUri=e},VBProperties.prototype.setConceptTreeBroaderProps=function(e){var t;e.length>0&&(t=e.join(",")),this.prefService.setPUSetting(l.a.pref_concept_tree_broader_props,t).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.broaderProps=e},VBProperties.prototype.setConceptTreeNarrowerProps=function(e){var t;e.length>0&&(t=e.join(",")),this.prefService.setPUSetting(l.a.pref_concept_tree_narrower_props,t).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.narrowerProps=e},VBProperties.prototype.setConceptTreeIncludeSubProps=function(e){this.prefService.setPUSetting(l.a.pref_concept_tree_include_subprops,e+"").subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.includeSubProps=e},VBProperties.prototype.setConceptTreeSyncInverse=function(e){this.prefService.setPUSetting(l.a.pref_concept_tree_sync_inverse,e+"").subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.syncInverse=e},VBProperties.prototype.setConceptTreeVisualization=function(e){this.prefService.setPUSetting(l.a.pref_concept_tree_visualization,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.visualization=e},VBProperties.prototype.setLexicalEntryListVisualization=function(e){this.prefService.setPUSetting(l.a.pref_lex_entry_list_visualization,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().lexEntryListPreferences.visualization=e},VBProperties.prototype.setLexicalEntryListSafeToGoLimit=function(e){this.prefService.setPUSetting(l.a.pref_concept_tree_safe_to_go_limit,e+"").subscribe();var t=b.a.getWorkingProjectCtx().getProjectPreferences().lexEntryListPreferences;t.safeToGoLimit=e,t.safeToGoMap={}},VBProperties.prototype.setLexicalEntryListIndexLenght=function(e){this.prefService.setPUSetting(l.a.pref_lex_entry_list_index_lenght,e+"").subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().lexEntryListPreferences.indexLength=e},VBProperties.prototype.setResourceViewConceptType=function(e){this.prefService.setPUSetting(l.a.pref_res_view_default_concept_type,e).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.defaultConceptType=e},VBProperties.prototype.setResourceViewPartitionFilter=function(e){var t=null!=e?JSON.stringify(e):null;this.prefService.setPUSetting(l.a.pref_res_view_partition_filter,t).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.resViewPartitionFilter=e},VBProperties.prototype.refreshResourceViewPartitionFilter=function(){return this.prefService.getPUSettings([l.a.pref_res_view_partition_filter]).map(function(e){var t,n=e[l.a.pref_res_view_partition_filter];null!=n&&(t=JSON.parse(n)),b.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.resViewPartitionFilter=t})},VBProperties.prototype.setGraphViewPartitionFilter=function(e){var t=null!=e?JSON.stringify(e):null;this.prefService.setPUSetting(l.a.pref_graph_view_partition_filter,t).subscribe(),b.a.getWorkingProjectCtx().getProjectPreferences().graphViewPartitionFilter=e},VBProperties.prototype.setHideLiteralGraphNodes=function(e){b.a.getWorkingProjectCtx().getProjectPreferences().hideLiteralGraphNodes=e,this.prefService.setPUSetting(l.a.pref_hide_literal_graph_nodes,e+"").subscribe()},VBProperties.prototype.initProjectUserBindings=function(e){return this.adminService.getProjectUserBinding(e.getProject().getName(),b.a.getLoggedUser().getEmail()).map(function(t){e.setProjectUserBinding(t)})},VBProperties.prototype.initStartupSystemSettings=function(){var e=this;this.prefService.getStartupSystemSettings().subscribe(function(t){b.a.getSystemSettings().experimentalFeaturesEnabled=t[l.a.setting_experimental_features_enabled],b.a.getSystemSettings().privacyStatementAvailable=t[l.a.privacy_statement_available],b.a.getSystemSettings().showFlags=t[l.a.pref_show_flags];try{var n=JSON.parse(t[l.a.setting_languages]);a.a.sortLanguages(n),a.a.setSystemLanguages(n)}catch(t){e.basicModals.alert("Error","Initialization of system languages has encountered a problem during parsing the 'languages' property. Please, report this to the system administrator.","error")}b.a.getSystemSettings().homeContent=t[l.a.setting_home_content]})},VBProperties.prototype.setExperimentalFeaturesEnabled=function(e){this.prefService.setSystemSetting(l.a.setting_experimental_features_enabled,e+"").subscribe(),b.a.getSystemSettings().experimentalFeaturesEnabled=e},VBProperties.prototype.setHomeContent=function(e){this.prefService.setSystemSetting(l.a.setting_home_content,e).subscribe(),b.a.getSystemSettings().homeContent=e},VBProperties.prototype.isPrivacyStatementAvailable=function(){return b.a.getSystemSettings().privacyStatementAvailable},VBProperties.prototype.initProjectSettings=function(e){var t=this,n=[l.a.setting_languages],r=e.getProjectSettings();return this.prefService.getProjectSettings(n,e.getProject()).map(function(e){var n=e[l.a.setting_languages];try{r.projectLanguagesSetting=JSON.parse(n),a.a.sortLanguages(r.projectLanguagesSetting)}catch(e){t.basicModals.alert("Error","Project setting initialization has encountered a problem during parsing languages settings. Default languages will be set for this project.","error"),r.projectLanguagesSetting=[{name:"German",tag:"de"},{name:"English",tag:"en"},{name:"Spanish",tag:"es"},{name:"French",tag:"fr"},{name:"Italian",tag:"it"}]}})},VBProperties.prototype.initResourceViewPreferenceCookie=function(e){var t=e.resViewPreferences,n=f.a.getCookie(f.a.RES_VIEW_INCLUDE_INFERENCE);null!=n&&(t.inference="true"==n);var r=f.a.getCookie(f.a.RES_VIEW_RENDERING);null!=r&&(t.rendering="false"!=r);var o=f.a.getCookie(f.a.RES_VIEW_MODE);o in l.e&&(t.mode=o);var i=f.a.getCookie(f.a.RES_VIEW_TAB_SYNCED);null!=i&&(t.syncTabs="true"==i);var a=f.a.getCookie(f.a.RES_VIEW_DISPLAY_IMG);null!=a&&(t.displayImg="true"==a)},VBProperties.prototype.setInferenceInResourceView=function(e){f.a.setCookie(f.a.RES_VIEW_INCLUDE_INFERENCE,e+"",3650),b.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.inference=e},VBProperties.prototype.setRenderingInResourceView=function(e){f.a.setCookie(f.a.RES_VIEW_RENDERING,e+"",3650),b.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.rendering=e},VBProperties.prototype.setResourceViewMode=function(e){f.a.setCookie(f.a.RES_VIEW_MODE,e,3650),b.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.mode=e},VBProperties.prototype.setResourceViewTabSync=function(e){f.a.setCookie(f.a.RES_VIEW_TAB_SYNCED,e+"",3650),b.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.syncTabs=e},VBProperties.prototype.setResourceViewDisplayImg=function(e){f.a.setCookie(f.a.RES_VIEW_DISPLAY_IMG,e+""),b.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.displayImg=e},VBProperties.prototype.setShowDeprecated=function(e){f.a.setCookie(f.a.SHOW_DEPRECATED,e+"",3650)},VBProperties.prototype.getShowDeprecated=function(){return"false"!=f.a.getCookie(f.a.SHOW_DEPRECATED)},VBProperties.prototype.initSearchSettingsCookie=function(e){var t=f.a.getCookie(f.a.SEARCH_STRING_MATCH_MODE);null!=t&&(e.searchSettings.stringMatchMode=t);var n=f.a.getCookie(f.a.SEARCH_USE_URI);null!=n&&(e.searchSettings.useURI="true"==n);var r=f.a.getCookie(f.a.SEARCH_USE_LOCAL_NAME);null!=r&&(e.searchSettings.useLocalName="true"==r);var o=f.a.getCookie(f.a.SEARCH_USE_NOTES);null!=o&&(e.searchSettings.useNotes="true"==o);var i=f.a.getCookie(f.a.SEARCH_CONCEPT_SCHEME_RESTRICTION);null!=i&&(e.searchSettings.restrictActiveScheme="true"==i);var a=f.a.getCookie(f.a.SEARCH_EXTEND_ALL_INDIVIDUALS);null!=i&&(e.searchSettings.extendToAllIndividuals="true"==a)},VBProperties.prototype.setSearchSettings=function(e,t){var n=e.getProjectPreferences();f.a.setCookie(f.a.SEARCH_STRING_MATCH_MODE,t.stringMatchMode,3650),f.a.setCookie(f.a.SEARCH_USE_URI,t.useURI+"",3650),f.a.setCookie(f.a.SEARCH_USE_LOCAL_NAME,t.useLocalName+"",3650),f.a.setCookie(f.a.SEARCH_USE_NOTES,t.useNotes+"",3650),f.a.setCookie(f.a.SEARCH_CONCEPT_SCHEME_RESTRICTION,t.restrictActiveScheme+"",3650),f.a.setCookie(f.a.SEARCH_EXTEND_ALL_INDIVIDUALS,t.extendToAllIndividuals+"",3650),n.searchSettings.languages!=t.languages&&this.prefService.setPUSetting(l.a.pref_search_languages,JSON.stringify(t.languages),e.getProject()).subscribe(),n.searchSettings.restrictLang!=t.restrictLang&&this.prefService.setPUSetting(l.a.pref_search_restrict_lang,t.restrictLang+"",e.getProject()).subscribe(),n.searchSettings.includeLocales!=t.includeLocales&&this.prefService.setPUSetting(l.a.pref_search_include_locales,t.includeLocales+"",e.getProject()).subscribe(),n.searchSettings.useAutocompletion!=t.useAutocompletion&&this.prefService.setPUSetting(l.a.pref_search_use_autocomplete,t.useAutocompletion+"",e.getProject()).subscribe(),n.searchSettings=t,this.eventHandler.searchPrefsUpdatedEvent.emit(e.getProject())},VBProperties.prototype.onResourceRenamed=function(e,t){for(var n=b.a.getWorkingProjectCtx().getProjectPreferences().activeSchemes,r=0;r<n.length;r++)if(n[r].getNominalValue()==e.getNominalValue()){n[r].setURI(t.getNominalValue()),this.setActiveSchemes(b.a.getWorkingProjectCtx(),n);break}},VBProperties=y([n.i(r.g)(),x("design:paramtypes",[u.a,d.a,m.a,g.a])],VBProperties)}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return m});var r,o=n(0),i=n(3),a=n(47),s=n(11),l=n(36),c=n(8),p=n(10),d=n(15),u=n(12),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function PropertyServices(e,t,n){this.httpMgr=e,this.eventHandler=t,this.resourceService=n,this.serviceName="Properties"}return PropertyServices.prototype.getTopProperties=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getTopProperties",t,e).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getTopRDFProperties=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getTopRDFProperties",t,e).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getTopObjectProperties=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getTopObjectProperties",t,e).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getTopDatatypeProperties=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getTopDatatypeProperties",t,e).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getTopAnnotationProperties=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getTopAnnotationProperties",t,e).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getTopOntologyProperties=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getTopOntologyProperties",t,e).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getSubProperties=function(e,t){var n={superProperty:e};return this.httpMgr.doGet(this.serviceName,"getSubProperties",n,t).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getPropertiesInfo=function(e,t){var n={propList:e};return this.httpMgr.doGet(this.serviceName,"getPropertiesInfo",n,t).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getRelevantPropertiesForResource=function(e,t){var n={res:e};return this.httpMgr.doGet(this.serviceName,"getRelevantPropertiesForResource",n,t).map(function(e){return l.a.createURIArray(e)})},PropertyServices.prototype.getRange=function(e){var t={property:e};return this.httpMgr.doGet(this.serviceName,"getRange",t).map(function(e){var t,n={ranges:null,formCollection:null};if(e.ranges){var r=e.ranges;if(t={},t.type=r.type,r.rangeCollection){for(var o={resources:null,dataRanges:null},s=[],c=[],p=0;p<r.rangeCollection.length;p++){var d=r.rangeCollection[p];if("string"==typeof d)s.push(new i.b(d,null,null));else if(null!=d.oneOf){var u=l.a.createLiteralArray(d.oneOf);c.push(u)}}s.length>0&&(o.resources=s),c.length>0&&(o.dataRanges=c),t.rangeCollection=o}n.ranges=t}var f;if(e.formCollection){var h=e.formCollection;f=new a.b(h.id);for(var g=[],p=0;p<h.forms.length;p++){var m=new a.c(h.forms[p].id);m.setName(h.forms[p].name),m.setType(h.forms[p].type),m.setDescription(h.forms[p].description),g.push(m)}g.sort(function(e,t){return e.getName()<t.getName()?-1:e.getName()>t.getName()?1:0}),f.setForms(g),n.formCollection=f}return n})},PropertyServices.prototype.createProperty=function(e,t,n,r){var o=this,a={propertyType:e,newProperty:t};return null!=n&&(a.superProperty=n),null!=r&&(a.customFormValue=r),this.httpMgr.doPost(this.serviceName,"createProperty",a).map(function(e){return l.a.createURI(e)}).flatMap(function(e){return o.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(i.a.NEW,!0),null!=n?o.eventHandler.subPropertyCreatedEvent.emit({subProperty:e,superProperty:n}):o.eventHandler.topPropertyCreatedEvent.emit(e),e})})},PropertyServices.prototype.deleteProperty=function(e){var t=this,n={property:e};return this.httpMgr.doPost(this.serviceName,"deleteProperty",n).map(function(n){return t.eventHandler.propertyDeletedEvent.emit(e),e})},PropertyServices.prototype.addSuperProperty=function(e,t,n,r){var o=this,i={property:e,superProperty:t};return null!=n&&(i.linkingPredicate=n),null!=r&&(i.inverse=r),this.httpMgr.doPost(this.serviceName,"addSuperProperty",i).map(function(n){if(!r){var i=e.clone();o.eventHandler.superPropertyAddedEvent.emit({subProperty:i,superProperty:t})}return n})},PropertyServices.prototype.removeSuperProperty=function(e,t,n){var r=this,o={property:e,superProperty:t};return this.httpMgr.doPost(this.serviceName,"removeSuperProperty",o).map(function(n){return r.eventHandler.superPropertyRemovedEvent.emit({property:e,superProperty:t}),n})},PropertyServices.prototype.addEquivalentProperty=function(e,t,n,r){var o={property:e,equivalentProperty:t};return null!=n&&(o.linkingPredicate=n),null!=r&&(o.inverse=r),this.httpMgr.doPost(this.serviceName,"addEquivalentProperty",o)},PropertyServices.prototype.removeEquivalentProperty=function(e,t,n){var r={property:e,equivalentProperty:t};return null!=n&&(r.linkingPredicate=n),this.httpMgr.doPost(this.serviceName,"removeEquivalentProperty",r)},PropertyServices.prototype.addPropertyDisjointWith=function(e,t,n,r){var o={property:e,disjointProperty:t};return null!=n&&(o.linkingPredicate=n),null!=r&&(o.inverse=r),this.httpMgr.doPost(this.serviceName,"addPropertyDisjointWith",o)},PropertyServices.prototype.removePropertyDisjointWith=function(e,t,n){var r={property:e,disjointProperty:t};return null!=n&&(r.linkingPredicate=n),this.httpMgr.doPost(this.serviceName,"removePropertyDisjointWith",r)},PropertyServices.prototype.addInverseProperty=function(e,t,n,r){var o={property:e,inverseProperty:t};return null!=n&&(o.linkingPredicate=n),null!=r&&(o.inverse=r),this.httpMgr.doPost(this.serviceName,"addInverseProperty",o)},PropertyServices.prototype.removeInverseProperty=function(e,t,n){var r={property:e,inverseProperty:t};return null!=n&&(r.linkingPredicate=n),this.httpMgr.doPost(this.serviceName,"removeInverseProperty",r)},PropertyServices.prototype.addPropertyDomain=function(e,t){var n={property:e,domain:t};return this.httpMgr.doPost(this.serviceName,"addPropertyDomain",n)},PropertyServices.prototype.removePropertyDomain=function(e,t){var n={property:e,domain:t};return this.httpMgr.doPost(this.serviceName,"removePropertyDomain",n)},PropertyServices.prototype.addPropertyRange=function(e,t){var n={property:e,range:t};return this.httpMgr.doPost(this.serviceName,"addPropertyRange",n)},PropertyServices.prototype.removePropertyRange=function(e,t){var n={property:e,range:t};return this.httpMgr.doPost(this.serviceName,"removePropertyRange",n)},PropertyServices.prototype.setDataRange=function(e,t,n){var r={property:e,literals:t};return null!=n&&(r.predicate=n),this.httpMgr.doPost(this.serviceName,"setDataRange",r)},PropertyServices.prototype.removeDataranges=function(e,t){var n={property:e,datarange:t};return this.httpMgr.doPost(this.serviceName,"removeDataranges",n)},PropertyServices.prototype.updateDataranges=function(e,t){var n={datarange:e,literals:t};return this.httpMgr.doPost(this.serviceName,"updateDataranges",n)},PropertyServices.prototype.getDatarangeLiterals=function(e){var t={datarange:e};return this.httpMgr.doGet(this.serviceName,"getDatarangeLiterals",t).map(function(e){return l.a.createLiteralArray(e)})},PropertyServices.prototype.getInverseProperties=function(e){var t={properties:e};return this.httpMgr.doGet(this.serviceName,"getInverseProperties",t).map(function(e){return l.a.createURIArray(e,["inverseOf"])})},PropertyServices.prototype.addPropertyChainAxiom=function(e,t,n){var r={property:e,chainedProperties:t};return null!=n&&(r.linkingPredicate=n),this.httpMgr.doPost(this.serviceName,"addPropertyChainAxiom",r)},PropertyServices.prototype.removePropertyChainAxiom=function(e,t,n){var r={property:e,chain:t};return null!=n&&(r.linkingPredicate=n),this.httpMgr.doPost(this.serviceName,"removePropertyChainAxiom",r)},PropertyServices.prototype.updatePropertyChainAxiom=function(e,t,n,r){var o={property:e,replacedChain:t,chainedProperties:n};return null!=r&&(o.linkingPredicate=r),this.httpMgr.doPost(this.serviceName,"updatePropertyChainAxiom",o)},PropertyServices=f([n.i(o.g)(),h("design:paramtypes",[c.a,d.a,u.a])],PropertyServices)}();!function(e){e.resource="resource",e.literal="literal",e.undetermined="undetermined",e.inconsistent="inconsistent"}(r||(r={}));var m=function(){function RangeResponse(){}return RangeResponse.isRangeCompliant=function(e,t){var n=e.ranges.type;if(n==r.undetermined)return!0;if(t.isLiteral()){var o=e.ranges.rangeCollection?e.ranges.rangeCollection.resources:[];return n==r.literal||n==r.resource&&p.a.containsNode(o,s.b.literal)}return n==r.resource},RangeResponse}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return l});var r,o=n(11);!function(e){e.broaders="broaders",e.classaxioms="classaxioms",e.constituents="constituents",e.datatypeDefinitions="datatypeDefinitions",e.denotations="denotations",e.disjointProperties="disjointProperties",e.domains="domains",e.equivalentProperties="equivalentProperties",e.evokedLexicalConcepts="evokedLexicalConcepts",e.facets="facets",e.formBasedPreview="formBasedPreview",e.formRepresentations="formRepresentations",e.imports="imports",e.labelRelations="labelRelations",e.lexicalizations="lexicalizations",e.lexicalForms="lexicalForms",e.lexicalSenses="lexicalSenses",e.members="members",e.membersOrdered="membersOrdered",e.notes="notes",e.properties="properties",e.ranges="ranges",e.rdfsMembers="rdfsMembers",e.schemes="schemes",e.subPropertyChains="subPropertyChains",e.subterms="subterms",e.superproperties="superproperties",e.topconceptof="topconceptof",e.types="types"}(r||(r={}));var i,a=function(){function ResViewUtils(){}return ResViewUtils.getResourceViewPartitionLabel=function(e){return e==r.classaxioms?"Class axioms":e==r.datatypeDefinitions?"Datatype definitions":e==r.disjointProperties?"Disjoint properties":e==r.equivalentProperties?"Equivalent properties":e==r.evokedLexicalConcepts?"Evoked Lexical Concepts":e==r.facets?"Property facets":e==r.formBasedPreview?"Custom Form Preview":e==r.formRepresentations?"Form Representations":e==r.labelRelations?"Label relations":e==r.lexicalForms?"Lexical forms":e==r.lexicalSenses?"Lexical senses":e==r.membersOrdered?"Members (ordered)":e==r.properties?"Other properties":e==r.rdfsMembers?"RDFS members":e==r.subPropertyChains?"Property chain axioms":e==r.topconceptof?"Top Concept of":e.charAt(0).toUpperCase()+e.slice(1)},ResViewUtils.getPartitionRootProperties=function(e){return e==r.broaders?[o.d.broader]:e==r.classaxioms?[o.b.subClassOf,o.c.equivalentClass,o.c.disjointWith,o.c.complementOf,o.c.intersectionOf,o.c.unionOf,o.c.oneOf]:e==r.constituents?[o.k.constituent]:e==r.datatypeDefinitions?[o.c.equivalentClass]:e==r.denotations?[o.f.denotes]:e==r.disjointProperties?[o.c.propertyDisjointWith]:e==r.domains?[o.b.domain]:e==r.equivalentProperties?[o.c.equivalentProperty]:e==r.evokedLexicalConcepts?[o.f.evokes]:e==r.facets?[o.c.inverseOf]:e==r.formBasedPreview?[]:e==r.formRepresentations?[o.f.representation]:e==r.imports?[o.c.imports]:e==r.labelRelations?[o.e.labelRelation]:e==r.lexicalForms?[o.f.otherForm,o.f.canonicalForm]:e==r.lexicalSenses?[o.f.sense]:e==r.lexicalizations?[]:e==r.members?[o.d.member]:e==r.membersOrdered?[o.d.memberList]:e==r.notes?[o.d.note]:e==r.properties?[]:e==r.ranges?[o.b.range]:e==r.rdfsMembers?[o.b.member]:e==r.schemes?[o.d.inScheme]:e==r.subPropertyChains?[o.c.propertyChainAxiom]:e==r.subterms?[o.k.subterm]:e==r.superproperties?[o.b.subPropertyOf]:e==r.topconceptof?[o.d.topConceptOf]:e==r.types?[o.i.type]:void 0},ResViewUtils.getPartitionKnownProperties=function(e){return e==r.lexicalizations?[o.b.label,o.d.prefLabel,o.d.altLabel,o.d.hiddenLabel,o.e.prefLabel,o.e.altLabel,o.e.hiddenLabel,o.f.isDenotedBy]:this.getPartitionRootProperties(e)},ResViewUtils.addManuallyPartition=[r.broaders,r.classaxioms,r.constituents,r.disjointProperties,r.domains,r.equivalentProperties,r.facets,r.formRepresentations,r.imports,r.labelRelations,r.members,r.notes,r.properties,r.ranges,r.rdfsMembers,r.schemes,r.subterms,r.superproperties,r.topconceptof,r.types],ResViewUtils.addExternalResourcePartition=[r.broaders,r.classaxioms,r.disjointProperties,r.domains,r.equivalentProperties,r.facets,r.labelRelations,r.members,r.properties,r.ranges,r.schemes,r.superproperties,r.topconceptof,r.types],ResViewUtils.orderedResourceViewPartitions=[r.types,r.classaxioms,r.topconceptof,r.schemes,r.broaders,r.superproperties,r.equivalentProperties,r.disjointProperties,r.subPropertyChains,r.subterms,r.domains,r.ranges,r.facets,r.datatypeDefinitions,r.lexicalizations,r.lexicalForms,r.lexicalSenses,r.denotations,r.evokedLexicalConcepts,r.notes,r.members,r.membersOrdered,r.labelRelations,r.formRepresentations,r.formBasedPreview,r.imports,r.constituents,r.rdfsMembers,r.properties],ResViewUtils}();!function(){function PropertyFacet(){}}();!function(e){e.symmetric="symmetric",e.asymmetric="asymmetric",e.functional="functional",e.inverseFunctional="inverseFunctional",e.reflexive="reflexive",e.irreflexive="irreflexive",e.transitive="transitive"}(i||(i={}));var s;!function(e){e.default="default",e.manually="manually",e.remote="remote"}(s||(s={}));var l;!function(e){e.modal="modal",e.data="data"}(l||(l={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),o=n(4),i=n(649),a=n(650),s=n(651),l=n(652),c=n(653),p=n(654),d=n(655),u=n(656),f=n(657),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function CreationModalServices(e){this.modal=e}return CreationModalServices.prototype.newResourceCf=function(e,t,n){var r=new l.a(e,t,n),i=new o.b(r,void 0,l.a),a={context:i.keyboard(27).toJSON()};return this.modal.open(l.b,a).result},CreationModalServices.prototype.newResourceWithLiteralCf=function(e,t,n,r,i,a){var s=new c.a(e,t,n,r,i,a),l=new o.b(s,void 0,c.a),p={context:l.keyboard(27).toJSON()};return this.modal.open(c.b,p).result},CreationModalServices.prototype.newConceptCf=function(e,t,n,r,i,a){var s=new p.a(e,t,n,r,i,a),l=new o.b(s,void 0,p.a),c={context:l.keyboard(27).toJSON()};return this.modal.open(p.b,c).result},CreationModalServices.prototype.newLexiconCf=function(e,t){var n=new a.a(e,t),r=new o.b(n,void 0,a.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(a.b,i).result},CreationModalServices.prototype.newOntoLexicalizationCf=function(e,t,n){var r=new s.a(e,t,n),i=new o.b(r,void 0,s.a),a={context:i.keyboard(27).toJSON()};return this.modal.open(s.b,a).result},CreationModalServices.prototype.newXLabel=function(e,t,n,r,i,a,s){var l=new u.a(e,t,n,r,i,a,s),c=new o.b(l,void 0,u.a),p={context:c.keyboard(27).toJSON()};return this.modal.open(u.b,p).result},CreationModalServices.prototype.newPlainLiteral=function(e,t,n,r,a,s,l){var c=new i.a(e,t,n,r,a,s,l),p=new o.b(c,void 0,i.a),d={context:p.keyboard(27).toJSON()};return this.modal.open(i.b,d).result},CreationModalServices.prototype.newTypedLiteral=function(e,t,n,r,i,a){var s=new f.a(e,t,n,r,i,a),l=new o.b(s,void 0,f.a),c={context:l.keyboard(27).toJSON()};return this.modal.open(f.b,c).result},CreationModalServices.prototype.newConceptFromLabel=function(e,t,n,r,i){var a=new d.a(e,t,n,r,i),s=new o.b(a,void 0,d.a),l={context:s.keyboard(27).toJSON()};return this.modal.open(d.b,l).result},CreationModalServices=h([n.i(r.g)(),g("design:paramtypes",[o.c])],CreationModalServices)}()},function(e,t,n){"use strict";function acos(e){return e>1?0:e<-1?i:Math.acos(e)}function asin(e){return e>1?a:e<-1?-a:Math.asin(e)}function haversin(e){return(e=y(e/2))*e}n.d(t,"p",function(){return r}),n.d(t,"t",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"l",function(){return a}),n.d(t,"r",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"m",function(){return u}),n.d(t,"f",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"w",function(){return g}),n.d(t,"n",function(){return m}),n.d(t,"j",function(){return v}),n.d(t,"u",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"q",function(){return x}),n.d(t,"o",function(){return C}),n.d(t,"k",function(){return R}),t.s=acos,t.g=asin,t.v=haversin;var r=1e-6,o=1e-12,i=Math.PI,a=i/2,s=i/4,l=2*i,c=180/i,p=i/180,d=Math.abs,u=Math.atan,f=Math.atan2,h=Math.cos,g=Math.ceil,m=Math.exp,v=(Math.floor,Math.log),b=Math.pow,y=Math.sin,x=Math.sign||function(e){return e>0?1:e<0?-1:0},C=Math.sqrt,R=Math.tan},,function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(4),i=n(446),a=n(543),s=n(544),l=n(545),c=n(546),p=n(547),d=n(548),u=n(549),f=n(550),h=n(551),g=n(552),m=n(553),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function ResViewModalServices(e){this.modal=e}return ResViewModalServices.prototype.createClassList=function(e){var t=new c.a(e),n=new o.b(t,void 0,c.a),r={context:n.size("lg").keyboard(27).toJSON()};return this.modal.open(c.b,r).result},ResViewModalServices.prototype.createInstanceList=function(e){var t=new h.a(e),n=new o.b(t,void 0,h.a),r={context:n.size("lg").keyboard(27).toJSON()};return this.modal.open(h.b,r).result},ResViewModalServices.prototype.createPropertyChain=function(e,t,n,r){var i=new g.a(e,t,n,r),a=new o.b(i,void 0,h.a),s={context:a.size("lg").keyboard(27).toJSON()};return this.modal.open(g.b,s).result},ResViewModalServices.prototype.enrichCustomForm=function(e,t,n){var r=new i.a(e,t,n),a=new o.b(r,void 0,i.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(i.b,s).result},ResViewModalServices.prototype.addPropertyValue=function(e,t,n,r,i,a){var l=new s.a(e,t,n,r,i,a),c=new o.b(l,void 0,s.a),p={context:c.keyboard(27).toJSON()};return this.modal.open(s.b,p).result},ResViewModalServices.prototype.addManualValue=function(e,t){var n=new a.a(e,t),r=new o.b(n,void 0,a.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(a.b,i).result},ResViewModalServices.prototype.addRdfsMembers=function(e,t){var n=new m.a(e,t),r=new o.b(n,void 0,m.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(m.b,i).result},ResViewModalServices.prototype.createConstituentList=function(e){var t=new p.a(e),n=new o.b(t,void 0,p.a),r={context:n.size("lg").keyboard(27).toJSON()};return this.modal.open(p.b,r).result},ResViewModalServices.prototype.editDataRange=function(e){var t=new u.a(e),n=new o.b(t,void 0,u.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(u.b,r).result},ResViewModalServices.prototype.browseExternalResource=function(e,t,n){var r=new l.a(e,t,n),i=new o.b(r,void 0,l.a),a={context:i.keyboard(27).toJSON()};return this.modal.open(l.b,a).result},ResViewModalServices.prototype.copyLocale=function(e,t){var n=new d.a(e,t),r=new o.b(n,void 0,d.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(d.b,i).result},ResViewModalServices.prototype.setDatatypeFacets=function(e,t,n){var r=new f.a(e,t,n),i=new o.b(r,void 0,f.a),a={context:i.keyboard(27).toJSON()};return this.modal.open(f.b,a).result},ResViewModalServices=v([n.i(r.g)(),b("design:paramtypes",[o.c])],ResViewModalServices)}()},function(e,t,n){"use strict";t.a=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"k",function(){return a}),n.d(t,"e",function(){return r}),n.d(t,"l",function(){return s}),n.d(t,"p",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"r",function(){return p}),n.d(t,"n",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"o",function(){return g}),n.d(t,"g",function(){return h}),n.d(t,"m",function(){return v}),n.d(t,"h",function(){return m}),n.d(t,"q",function(){return b}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return x}),n.d(t,"b",function(){return C});var r,o=n(11),i=function(){function Properties(){}return Properties.pref_languages="languages",Properties.pref_editing_language="editing_language",Properties.pref_filter_value_languages="filter_value_languages",Properties.pref_active_schemes="active_schemes",Properties.pref_active_lexicon="active_lexicon",Properties.pref_show_flags="show_flags",Properties.pref_project_theme="project_theme",Properties.pref_show_instances_number="show_instances_number",Properties.pref_search_languages="search_languages",Properties.pref_search_restrict_lang="search_restrict_lang",Properties.pref_search_include_locales="search_include_locales",Properties.pref_search_use_autocomplete="search_use_autocomplete",Properties.pref_class_tree_root="class_tree_root",Properties.pref_class_tree_filter="class_tree_filter",Properties.pref_concept_tree_base_broader_prop="concept_tree_base_broader_prop",Properties.pref_concept_tree_broader_props="concept_tree_broader_props",Properties.pref_concept_tree_narrower_props="concept_tree_narrower_props",Properties.pref_concept_tree_include_subprops="concept_tree_include_subprops",Properties.pref_concept_tree_sync_inverse="concept_tree_sync_inverse",Properties.pref_concept_tree_visualization="concept_tree_visualization",Properties.pref_concept_tree_multischeme_mode="concept_tree_multischeme_mode",Properties.pref_concept_tree_safe_to_go_limit="concept_tree_safe_to_go_limit",Properties.pref_instance_list_visualization="instance_list_visualization",Properties.pref_lex_entry_list_visualization="lex_entry_list_visualization",Properties.pref_lex_entry_list_index_lenght="lex_entry_list_index_lenght",Properties.pref_lex_entry_list_safe_to_go_limit="lex_entry_list_safe_to_go_limit",Properties.pref_res_view_partition_filter="rv_partition_filter",Properties.pref_res_view_default_concept_type="res_view_default_concept_type",Properties.pref_graph_view_partition_filter="graph_partition_filter",Properties.pref_hide_literal_graph_nodes="hide_literal_graph_nodes",Properties.pref_s2rdf_use_headers="s2rdf_use_headers",Properties.pref_s2rdf_fs_naming_strategy="s2rdf_fs_naming_strategy",Properties.pref_notifications_status="notifications_status",Properties.setting_languages="languages",Properties.setting_remote_configs="remote_configs",Properties.setting_experimental_features_enabled="experimental_features_enabled",Properties.setting_home_content="home_content",Properties.privacy_statement_available="privacy_statement_available",Properties}(),a=function(){function ResourceViewPreference(){this.mode=r.tabbed,this.syncTabs=!1,this.defaultConceptType=s.resourceView,this.displayImg=!1,this.rendering=!0,this.inference=!1}return ResourceViewPreference}();!function(e){e.tabbed="tabbed",e.splitted="splitted"}(r||(r={}));var s;!function(e){e.resourceView="resourceView",e.termView="termView",e.sourceCode="sourceCode"}(s||(s={}));var l,c=function(){function SearchSettings(){this.stringMatchMode=l.startsWith,this.useURI=!1,this.useLocalName=!0,this.useNotes=!1,this.restrictLang=!1,this.languages=[],this.includeLocales=!1,this.useAutocompletion=!1,this.restrictActiveScheme=!0,this.extendToAllIndividuals=!1}return SearchSettings}();!function(e){e.startsWith="startsWith",e.contains="contains",e.endsWith="endsWith",e.exact="exact",e.fuzzy="fuzzy"}(l||(l={}));var p;!function(e){e.NOT_DEPRECATED="NOT_DEPRECATED",e.ONLY_DEPRECATED="ONLY_DEPRECATED",e.UNDER_VALIDATION="UNDER_VALIDATION",e.UNDER_VALIDATION_FOR_DEPRECATION="UNDER_VALIDATION_FOR_DEPRECATION",e.ANYTHING="ANYTHING"}(p||(p={}));var d,u=(function(){function ClassTreePreference(){}}(),function(){function ClassTreeFilter(){}}(),function(){function ConceptTreePreference(){this.baseBroaderUri=o.d.broader.getURI(),this.broaderProps=[],this.narrowerProps=[],this.includeSubProps=!0,this.syncInverse=!0,this.visualization=d.hierarchyBased,this.multischemeMode=f.or,this.safeToGoLimit=1e3,this.safeToGoMap={}}return ConceptTreePreference}());!function(e){e.searchBased="searchBased",e.hierarchyBased="hierarchyBased"}(d||(d={}));var f;!function(e){e.and="and",e.or="or"}(f||(f={}));var h,g=function(){function LexicalEntryListPreference(){this.visualization=h.indexBased,this.indexLength=1,this.safeToGoLimit=1e3,this.safeToGoMap={}}return LexicalEntryListPreference}();!function(e){e.searchBased="searchBased",e.indexBased="indexBased"}(h||(h={}));var m,v=function(){function InstanceListPreference(){this.visualization=m.standard}return InstanceListPreference}();!function(e){e.searchBased="searchBased",e.standard="standard"}(m||(m={}));var b;(function(){function ValueFilterLanguages(){}})(),function(){function PartitionFilterPreference(){}}();!function(e){e.no_notifications="no_notifications",e.in_app_only="in_app_only",e.email_instant="email_instant",e.email_daily_digest="email_daily_digest"}(b||(b={}));var y=function(){function ProjectPreferences(){this.projectLanguagesPreference=[],this.activeSchemes=[],this.showFlags=!0,this.projectThemeId=null,this.hideLiteralGraphNodes=!0,this.notificationStatus=b.no_notifications}return ProjectPreferences}(),x=function(){function ProjectSettings(){this.projectLanguagesSetting=[]}return ProjectSettings}(),C=function(){function SystemSettings(){this.experimentalFeaturesEnabled=!1,this.privacyStatementAvailable=!1,this.showFlags=!0}return SystemSettings}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(3),i=n(36),a=n(8),s=n(15),l=n(12),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function SkosServices(e,t,n){this.httpMgr=e,this.eventHandler=t,this.resourceService=n,this.serviceName="SKOS"}return SkosServices.prototype.getTopConcepts=function(e,t,n,r,o,a,s){var l={schemes:t,schemeFilter:n,broaderProps:r,narrowerProps:o,includeSubProperties:a};return this.httpMgr.doGet(this.serviceName,"getTopConcepts",l,s).map(function(t){return{concepts:i.a.createURIArray(t),timestamp:e}})},SkosServices.prototype.countTopConcepts=function(e,t,n,r,o,i,a){var s={schemes:t,schemeFilter:n,broaderProps:r,narrowerProps:o,includeSubProperties:i};return this.httpMgr.doGet(this.serviceName,"countTopConcepts",s,a).map(function(t){return{count:t,timestamp:e}})},SkosServices.prototype.getNarrowerConcepts=function(e,t,n,r,o,a,s){var l={concept:e,schemes:t,schemeFilter:n,broaderProps:r,narrowerProps:o,includeSubProperties:a};return this.httpMgr.doGet(this.serviceName,"getNarrowerConcepts",l,s).map(function(e){return i.a.createURIArray(e)})},SkosServices.prototype.getBroaderConcepts=function(e,t){var n={concept:e};return null!=t&&(n.schemes=t),this.httpMgr.doGet(this.serviceName,"getBroaderConcepts",n).map(function(e){return i.a.createURIArray(e)})},SkosServices.prototype.createConcept=function(e,t,n,r,s,l,c,p){var d=this,u={label:e,conceptSchemes:t};null!=n&&(u.newConcept=n),null!=r&&(u.broaderConcept=r),null!=s&&(u.conceptCls=s),null!=l&&(u.broaderProp=l),null!=p&&(u.checkExistingAltLabel=p),null!=c&&(u.customFormValue=c);var f=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.PrefAltLabelClashException","it.uniroma2.art.semanticturkey.exceptions.BlacklistForbiddendException"]}});return this.httpMgr.doPost(this.serviceName,"createConcept",u,f).map(function(e){return i.a.createURI(e)}).flatMap(function(e){return d.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(o.a.NEW,!0),null!=r?d.eventHandler.narrowerCreatedEvent.emit({narrower:e,broader:r}):d.eventHandler.topConceptCreatedEvent.emit({concept:e,schemes:t}),e})})},SkosServices.prototype.addTopConcept=function(e,t){var n=this,r={concept:e,scheme:t};return this.httpMgr.doPost(this.serviceName,"addTopConcept",r).map(function(r){return n.eventHandler.topConceptCreatedEvent.emit({concept:e,schemes:[t]}),{concept:e,scheme:t}})},SkosServices.prototype.removeTopConcept=function(e,t){var n=this,r={concept:e,scheme:t};return this.httpMgr.doPost(this.serviceName,"removeTopConcept",r).map(function(r){return n.eventHandler.conceptRemovedAsTopConceptEvent.emit({concept:e,scheme:t}),r})},SkosServices.prototype.deleteConcept=function(e){var t=this,n={concept:e};return this.httpMgr.doPost(this.serviceName,"deleteConcept",n).map(function(n){return t.eventHandler.conceptDeletedEvent.emit(e),n})},SkosServices.prototype.addBroaderConcept=function(e,t){var n=this,r={concept:e,broaderConcept:t};return this.httpMgr.doPost(this.serviceName,"addBroaderConcept",r).map(function(r){return n.eventHandler.broaderAddedEvent.emit({narrower:e,broader:t}),r})},SkosServices.prototype.removeBroaderConcept=function(e,t){var n=this,r={concept:e,broaderConcept:t};return this.httpMgr.doPost(this.serviceName,"removeBroaderConcept",r).map(function(r){return n.eventHandler.broaderRemovedEvent.emit({concept:e,broader:t}),r})},SkosServices.prototype.addConceptToScheme=function(e,t){var n={concept:e,scheme:t};return this.httpMgr.doPost(this.serviceName,"addConceptToScheme",n)},SkosServices.prototype.removeConceptFromScheme=function(e,t){var n=this,r={concept:e,scheme:t};return this.httpMgr.doPost(this.serviceName,"removeConceptFromScheme",r).map(function(r){return n.eventHandler.conceptRemovedFromSchemeEvent.emit({concept:e,scheme:t}),{concept:e,scheme:t}})},SkosServices.prototype.addMultipleConceptsToScheme=function(e,t,n,r,o,i,a,s){var l={scheme:e,rootConcept:t,inSchemeProp:n,broaderProps:r,narrowerProps:o,includeSubProperties:i,filterSchemes:a,setTopConcept:s};return this.httpMgr.doPost(this.serviceName,"addMultipleConceptsToScheme",l)},SkosServices.prototype.getAllSchemes=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getAllSchemes",t,e).map(function(e){return i.a.createURIArray(e)})},SkosServices.prototype.createConceptScheme=function(e,t,n,r,s){var l=this,c={label:e};void 0!=t&&(c.newScheme=t),void 0!=n&&(c.schemeCls=n),null!=s&&(c.checkExistingAltLabel=s),null!=r&&(c.customFormValue=r);var p=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.PrefAltLabelClashException"]}});return this.httpMgr.doPost(this.serviceName,"createConceptScheme",c,p).map(function(e){return i.a.createURI(e)}).flatMap(function(e){return l.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(o.a.NEW,!0),l.eventHandler.schemeCreatedEvent.emit(e),e})})},SkosServices.prototype.isSchemeEmpty=function(e){var t={scheme:e};return this.httpMgr.doGet(this.serviceName,"isSchemeEmpty",t)},SkosServices.prototype.deleteConceptScheme=function(e){var t=this,n={scheme:e};return this.httpMgr.doPost(this.serviceName,"deleteConceptScheme",n).map(function(n){return t.eventHandler.schemeDeletedEvent.emit(e),n})},SkosServices.prototype.setPrefLabel=function(e,t,n){var r={concept:e,literal:t};null!=n&&(r.checkExistingAltLabel=n);var o=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.PrefAltLabelClashException","it.uniroma2.art.semanticturkey.exceptions.BlacklistForbiddendException"]}});return this.httpMgr.doPost(this.serviceName,"setPrefLabel",r,o)},SkosServices.prototype.removePrefLabel=function(e,t){var n={concept:e,literal:t};return this.httpMgr.doPost(this.serviceName,"removePrefLabel",n)},SkosServices.prototype.getAltLabels=function(e,t){var n={concept:e,language:t};return this.httpMgr.doGet(this.serviceName,"getAltLabels",n).map(function(e){return i.a.createRDFNodeArray(e)})},SkosServices.prototype.addAltLabel=function(e,t){var n={concept:e,literal:t},r=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.BlacklistForbiddendException"]}});return this.httpMgr.doPost(this.serviceName,"addAltLabel",n,r)},SkosServices.prototype.removeAltLabel=function(e,t){var n={concept:e,literal:t};return this.httpMgr.doPost(this.serviceName,"removeAltLabel",n)},SkosServices.prototype.addHiddenLabel=function(e,t){var n={concept:e,literal:t},r=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.BlacklistForbiddendException"]}});return this.httpMgr.doPost(this.serviceName,"addHiddenLabel",n,r)},SkosServices.prototype.removeHiddenLabel=function(e,t){var n={concept:e,literal:t};return this.httpMgr.doPost(this.serviceName,"removeHiddenLabel",n)},SkosServices.prototype.getSchemesMatrixPerConcept=function(e){var t={concept:e};return this.httpMgr.doGet(this.serviceName,"getSchemesMatrixPerConcept",t).map(function(e){return i.a.createURIArray(e)})},SkosServices.prototype.getSchemesOfConcept=function(e){var t={concept:e};return this.httpMgr.doGet(this.serviceName,"getSchemesMatrixPerConcept",t).map(function(e){var t=i.a.createURIArray(e),n=[];return t.forEach(function(e){e.getAdditionalProperty(o.a.IN_SCHEME)&&n.push(e)}),n})},SkosServices.prototype.getRootCollections=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getRootCollections",t,e).map(function(e){return i.a.createURIArray(e)})},SkosServices.prototype.getNestedCollections=function(e,t){var n={container:e};return this.httpMgr.doGet(this.serviceName,"getNestedCollections",n,t).map(function(e){return i.a.createURIArray(e)})},SkosServices.prototype.createCollection=function(e,t,n,r,s,l,c){var p=this,d={collectionType:e,label:t};null!=n&&(d.newCollection=n),null!=r&&(d.containingCollection=r),null!=s&&(d.collectionCls=s),null!=c&&(d.checkExistingAltLabel=c),null!=l&&(d.customFormValue=l);var u=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.PrefAltLabelClashException"]}});return this.httpMgr.doPost(this.serviceName,"createCollection",d,u).map(function(e){return i.a.createURI(e)}).flatMap(function(e){return p.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(o.a.NEW,!0),null!=r?p.eventHandler.nestedCollectionCreatedEvent.emit({nested:e,container:r}):p.eventHandler.rootCollectionCreatedEvent.emit(e),e})})},SkosServices.prototype.addToCollection=function(e,t){var n=this,r={collection:e,element:t};return this.httpMgr.doPost(this.serviceName,"addToCollection",r).map(function(r){return t.getRole()!=o.c.skosCollection&&t.getRole()!=o.c.skosOrderedCollection||n.eventHandler.nestedCollectionAddedEvent.emit({nested:t,container:e}),r})},SkosServices.prototype.removeFromCollection=function(e,t){var n=this,r={collection:e,element:t};return this.httpMgr.doPost(this.serviceName,"removeFromCollection",r).map(function(r){return t.getRole()!=o.c.skosCollection&&t.getRole()!=o.c.skosOrderedCollection||n.eventHandler.nestedCollectionRemovedEvent.emit({nested:t,container:e}),r})},SkosServices.prototype.deleteCollection=function(e){var t=this,n={collection:e};return this.httpMgr.doPost(this.serviceName,"deleteCollection",n).map(function(n){return t.eventHandler.collectionDeletedEvent.emit(e),n})},SkosServices.prototype.addFirstToOrderedCollection=function(e,t){var n=this,r={collection:e,element:t};return this.httpMgr.doPost(this.serviceName,"addFirstToOrderedCollection",r).map(function(r){return t.getRole()!=o.c.skosCollection&&t.getRole()!=o.c.skosOrderedCollection||n.eventHandler.nestedCollectionAddedFirstEvent.emit({nested:t,container:e}),r})},SkosServices.prototype.addLastToOrderedCollection=function(e,t){var n=this,r={collection:e,element:t};return this.httpMgr.doPost(this.serviceName,"addLastToOrderedCollection",r).map(function(r){return t.getRole()!=o.c.skosCollection&&t.getRole()!=o.c.skosOrderedCollection||n.eventHandler.nestedCollectionAddedLastEvent.emit({nested:t,container:e}),r})},SkosServices.prototype.addInPositionToOrderedCollection=function(e,t,n){var r=this,i={collection:e,element:t,index:n};return this.httpMgr.doPost(this.serviceName,"addInPositionToOrderedCollection",i).map(function(i){return t.getRole()!=o.c.skosCollection&&t.getRole()!=o.c.skosOrderedCollection||r.eventHandler.nestedCollectionAddedInPositionEvent.emit({nested:t,container:e,position:n}),i})},SkosServices.prototype.removeFromOrderedCollection=function(e,t){var n=this,r={collection:e,element:t};return this.httpMgr.doPost(this.serviceName,"removeFromOrderedCollection",r).map(function(r){return t.getRole()!=o.c.skosCollection&&t.getRole()!=o.c.skosOrderedCollection||n.eventHandler.nestedCollectionRemovedEvent.emit({nested:t,container:e}),r})},SkosServices.prototype.deleteOrderedCollection=function(e){var t=this,n={collection:e};return this.httpMgr.doPost(this.serviceName,"deleteOrderedCollection",n).map(function(n){return t.eventHandler.collectionDeletedEvent.emit(e),n})},SkosServices.prototype.addNote=function(e,t,n){var r={resource:e,predicate:t,value:n};return this.httpMgr.doPost(this.serviceName,"addNote",r)},SkosServices=c([n.i(r.g)(),p("design:paramtypes",[a.a,s.a,l.a])],SkosServices)}()},,,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(3),o=n(80),i=n(11),a=n(6),s=function(){function Deserializer(){}return Deserializer.createURI=function(e,t){var n=e["@id"],o=e[r.a.SHOW],i=new r.b(n,o);return this.parseNodeOptionalProperties(e,i,t),i},Deserializer.createBlankNode=function(e,t){var n=e["@id"],o=e[r.a.SHOW],i=r.c[e[r.a.ROLE]],a=new r.d(n,o,i);return this.parseNodeOptionalProperties(e,a,t),a},Deserializer.parseNodeOptionalProperties=function(e,t,n){var o=e[r.a.QNAME];void 0!=o&&t.setAdditionalProperty(r.a.QNAME,o);var s=e[r.a.EXPLICIT];void 0!=s&&t.setAdditionalProperty(r.a.EXPLICIT,s);var l=e[r.a.MORE];void 0!=l&&t.setAdditionalProperty(r.a.MORE,l);var c=e[r.a.NUM_INST];void 0!=c&&t.setAdditionalProperty(r.a.NUM_INST,c);var p=e[r.a.HAS_CUSTOM_RANGE];void 0!=p&&t.setAdditionalProperty(r.a.HAS_CUSTOM_RANGE,p);var d=e[r.a.RESOURCE_POSITION];void 0!=d&&t.setAdditionalProperty(r.a.RESOURCE_POSITION,d);var u=e[r.a.ACCESS_METHOD];void 0!=u&&t.setAdditionalProperty(r.a.ACCESS_METHOD,u);var f=e[r.a.LANG];void 0!=f&&t.setAdditionalProperty(r.a.LANG,f);var h=e[r.a.GRAPHS];if(void 0!=h)for(var g=h.split(","),m=0;m<g.length;m++)t.addTripleGraph(new r.b(g[m].trim()));var v=e[r.a.MEMBERS];void 0!=v&&t.setAdditionalProperty(r.a.MEMBERS,this.createResourceArray(v,n));var b=e[r.a.INDEX];void 0!=b&&t.setAdditionalProperty(r.a.INDEX,this.createLiteral(b,n));var y=e[r.a.IN_SCHEME];void 0!=y&&t.setAdditionalProperty(r.a.IN_SCHEME,y);var x=e[r.a.SCHEMES];if(void 0!=x){var C=[];if(""!=x)for(var R=x.split(","),m=0;m<R.length;m++)C.push(new r.b(R[m].trim()));t.setAdditionalProperty(r.a.SCHEMES,C)}if(t instanceof r.e){var S=e[r.a.ROLE];void 0!=S&&t.setRole(S);var P=e[r.a.NATURE];if(void 0!=P&&""!=P){for(var E=P.split("|_|"),m=0;m<E.length;m++){var w=E[m].split(","),I=w[0],A=new r.b(w[1]);t.setRole(I),t.addGraph(A),t.addNature(I,A),t.setAdditionalProperty(r.a.DEPRECATED,"true"==w[2])}if(null==t.getAdditionalProperty(r.a.EXPLICIT)){for(var _=a.a.getWorkingProject()?a.a.getWorkingProject().getBaseURI():null,L=t.getGraphs(),M=!1,k=!1,m=0;m<L.length;m++)L[m].getURI()==_?M=!0:L[m].getURI().startsWith(i.a.stagingRemoveGraph)&&(k=!0);M&&!k&&t.setAdditionalProperty(r.a.EXPLICIT,!0)}null==t.getAdditionalProperty(r.a.EXPLICIT)&&t.setAdditionalProperty(r.a.EXPLICIT,!1)}}var O=e[r.a.TRIPLE_SCOPE];void 0!=O&&t.setAdditionalProperty(r.a.TRIPLE_SCOPE,O);var N=e[r.a.SHOW_INTERPR];if(null!=N&&t.setAdditionalProperty(r.a.SHOW_INTERPR,N),void 0!=n)for(var m=0;m<n.length;m++){var T=e[n[m]];void 0!=T&&t.setAdditionalProperty(n[m],T)}},Deserializer.createLiteral=function(e,t){var n=e["@value"],o=new r.f(n),i=e["@type"];void 0!=i&&o.setDatatype(i);var a=e[r.a.LANG];if(void 0==a)var a=e["@language"];return void 0!=a&&o.setLang(a),this.parseNodeOptionalProperties(e,o,t),o},Deserializer.createRDFResource=function(e,t){var n=e["@id"];if(void 0!=e["@id"])return n.startsWith("_:")?this.createBlankNode(e,t):this.createURI(e,t);throw new Error("Not a RDFResource")},Deserializer.createRDFNode=function(e,t){var n=e["@id"],r=e["@value"];if(void 0!=n)return this.createRDFResource(e,t);if(void 0!=r)return this.createLiteral(e,t);throw new Error("Not a RDFNode")},Deserializer.createURIArray=function(e,t){for(var n=new Array,r=0;r<e.length;r++)n.push(this.createURI(e[r],t));return n},Deserializer.createResourceArray=function(e,t){for(var n=new Array,r=0;r<e.length;r++)n.push(this.createRDFResource(e[r],t));return n},Deserializer.createLiteralArray=function(e,t){for(var n=new Array,r=0;r<e.length;r++)n.push(this.createLiteral(e[r],t));return n},Deserializer.createRDFNodeArray=function(e,t){for(var n=new Array,r=0;r<e.length;r++)n.push(this.createRDFNode(e[r],t));return n},Deserializer.createPredicateObjectsList=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=this.createURI(e[o].predicate,t),a=this.createRDFNodeArray(e[o].objects,t),s=new r.g(i,a);n.push(s)}return n},Deserializer.parseDateTime=function(e){return e.toLocaleDateString()+" "+e.toLocaleTimeString()},Deserializer.createUsersArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.createUser(e[n]));return t},Deserializer.createUser=function(e){if(null==e.email)return null;var t=new o.a(e.email,e.givenName,e.familyName,e.iri);if(t.setRegistrationDate(e.registrationDate),t.setStatus(e.status),t.setAdmin(e.admin),t.setOnline(e.online),void 0!=e.phone&&t.setPhone(e.phone),void 0!=e.address&&t.setAddress(e.address),void 0!=e.affiliation&&t.setAffiliation(e.affiliation),void 0!=e.url&&t.setUrl(e.url),void 0!=e.avatarUrl&&t.setAvatarUrl(e.avatarUrl),void 0!=e.languageProficiencies&&t.setLanguageProficiencies(e.languageProficiencies),void 0!=e.customProperties){var n={};e.customProperties.forEach(function(e){n[e.iri]=e.value}),t.setCustomProperties(n)}return t},Deserializer}()},,function(e,t,n){e.exports='<div class="groupPanel">\r\n    <div class="groupPanel-heading">\r\n        <div class="expandCollapseBtnContainer groupPanel-heading-content" style="margin: 0px">\r\n            <img src="'+n(49)+'" (click)="partitionCollapsed = !partitionCollapsed"\r\n                [ngClass]="{\'arrow-right\': partitionCollapsed}">\r\n        </div>\r\n        <span style="flex: 1">\r\n            <label class="groupPanel-heading-content">{{label}}:</label>\r\n        </span>\r\n        <span *ngIf="addBtnImgSrc" class="groupPanel-heading-content groupPanel-add-btn">\r\n            <button class="resViewPartitionAddBtn" [title]="addBtnImgTitle" (click)="addHandler(null, \'default\')" [disabled]="addDisabled">\r\n                <img [src]="addBtnImgSrc"/>\r\n            </button>\r\n        </span>\r\n        <span *ngIf="addManuallyAllowed || addExteranlResourceAllowed" class="groupPanel-heading-content groupPanel-dropdown-btn">\r\n            <div class="btn-group" style="vertical-align: initial;">\r\n                <button class="transparentBtn" style="width: 12px;" data-toggle="dropdown">\r\n                    <span class="caret" style="margin: 0px;"></span>\r\n                </button>\r\n                <ul class="dropdown-menu pull-right">\r\n                    <li *ngIf="addManuallyAllowed" [ngClass]="{ disabled: addDisabled }">\r\n                        <a (click)="addHandler(null, \'manually\')">Add value manually</a>\r\n                    </li>\r\n                    <li *ngIf="addExteranlResourceAllowed" [ngClass]="{ disabled: addDisabled }">\r\n                        <a (click)="addHandler(null, \'remote\')">Add value from another project</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </span>\r\n\r\n    </div>\r\n\r\n    <div class="groupPanel-body">\r\n        <ng-template [ngIf]="!partitionCollapsed">\r\n            <pred-obj-renderer *ngFor="let po of predicateObjectList"\r\n                [pred-obj]="po" [resource]="resource" [readonly]="readonly"\r\n                [rendering]="rendering" [partition]="partition" (dblclickObj)="objectDblClick($event)"\r\n                (add)="addHandler(po.getPredicate(), $event)" (edit)="editHandler(po.getPredicate(), $event)" \r\n                (remove)="removeHandler(po.getPredicate(), $event)" (update)="onObjectUpdate()"\r\n                (copyLocale)="copyLocaleHandler(po.getPredicate(), $event)" >\r\n            </pred-obj-renderer>\r\n        </ng-template>\r\n    </div>\r\n</div>'},,function(e,t,n){"use strict";var r=n(104);t.a=function(e){return n.i(r.h)(e[e.length-1])}},,function(e,t,n){"use strict";n.d(t,"i",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return p}),n.d(t,"j",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return f}),n.d(t,"c",function(){return r}),n.d(t,"e",function(){return g}),n.d(t,"h",function(){return h});var r,o=n(3),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=function(){function Plugin(e){this.factoryID=e}return Plugin}(),s=function(){function Settings(e,t,n,r,o,i){this.shortName=e,this.editRequired=n,this.type=t,this.properties=r,this.htmlDescription=o,this.htmlWarning=i}return Settings.prototype.clone=function(){for(var e=[],t=0;t<this.properties.length;t++){var n=this.properties[t];e.push(n.clone())}return new Settings(this.shortName,this.type,this.editRequired,e,this.htmlDescription,this.htmlWarning)},Settings.prototype.requireConfiguration=function(){if(this.editRequired)for(var e=0;e<this.properties.length;e++)if(this.properties[e].requireConfiguration())return!0;return!1},Settings.prototype.getProperty=function(e){return this.properties.find(function(t){return t.name==e})},Settings.prototype.getPropertyValue=function(e){var t=this.getProperty(e);return null!=t?t.value:null},Settings.prototype.getPropertiesAsMap=function(){for(var e={},t=0;t<this.properties.length;t++){var n=this.properties[t].value;if(null!=n&&"string"==typeof n&&""==n)n=void 0;else if(n instanceof o.b)n=n.toNT();else if(n instanceof Array){for(var r=[],i=0;i<n.length;i++){var a=n[i];a instanceof o.b?r.push(a.toNT()):r.push(a)}n=r}e[this.properties[t].name]=n}return e},Settings.parse=function(e){for(var t=[],n=0;n<e.properties.length;n++){var r=e.properties[n].name,o=e.properties[n].displayName,i=e.properties[n].description,a=e.properties[n].required,s=e.properties[n].value,p=e.properties[n].enumeration,d=c.parse(e.properties[n].type);t.push(new l(r,o,i,a,d,p,s))}return new Settings(e.shortName,e["@type"],e.editRequired,t,e.htmlDescription,e.htmlWarning)},Settings}(),l=function(){function SettingsProp(e,t,n,r,o,i,a){this.name=e,this.displayName=t,this.description=n,this.required=r,this.value=a,this.enumeration=i,this.type=o}return SettingsProp.prototype.clone=function(){return new SettingsProp(this.name,this.displayName,this.description,this.required,this.type.clone(),this.enumeration,this.value)},SettingsProp.prototype.requireConfiguration=function(){return this.required&&(null==this.value||"string"==typeof this.value&&""==this.value.trim()||this.value instanceof Array&&0==this.value.length)},SettingsProp}(),c=function(){function SettingsPropType(e,t,n){this.name=e,this.constraints=t,this.typeArguments=n}return SettingsPropType.parse=function(e){var t,n=e.name,r=e.constraints;if(r){t=[];for(var o=0;o<r.length;o++)t.push({type:r[o]["@type"],value:r[o].value})}var i,a=e.typeArguments;if(a){i=[];for(var o=0;o<a.length;o++)i.push(SettingsPropType.parse(a[o]))}return new SettingsPropType(n,t,i)},SettingsPropType.prototype.clone=function(){var e;if(this.constraints){e=[];for(var t=0;t<this.constraints.length;t++)e.push({type:this.constraints[t].type,value:this.constraints[t].value})}var n;if(this.typeArguments){n=[];for(var t=0;t<this.typeArguments.length;t++)n.push(this.typeArguments[t].clone())}return new SettingsPropType(this.name,e,n)},SettingsPropType}(),p=(function(){function SettingsPropTypeConstraint(){}}(),function(){function PluginSpecification(){}}(),function(){function ExtensionPointID(){}return ExtensionPointID.COLLABORATION_BACKEND_ID="it.uniroma2.art.semanticturkey.extension.extpts.collaboration.CollaborationBackend",ExtensionPointID.DATASET_CATALOG_CONNECTOR_ID="it.uniroma2.art.semanticturkey.extension.extpts.datasetcatalog.DatasetCatalogConnector",ExtensionPointID.DATASET_METADATA_EXPORTER_ID="it.uniroma2.art.semanticturkey.extension.extpts.datasetmetadata.DatasetMetadataExporter",ExtensionPointID.RDF_LIFTER_ID="it.uniroma2.art.semanticturkey.extension.extpts.rdflifter.RDFLifter",ExtensionPointID.RDF_TRANSFORMERS_ID="it.uniroma2.art.semanticturkey.extension.extpts.rdftransformer.RDFTransformer",ExtensionPointID.REFORMATTING_EXPORTER_ID="it.uniroma2.art.semanticturkey.extension.extpts.reformattingexporter.ReformattingExporter",ExtensionPointID.RENDERING_ENGINE_ID="it.uniroma2.art.semanticturkey.plugin.extpts.RenderingEngine",ExtensionPointID.REPO_IMPL_CONFIGURER_ID="it.uniroma2.art.semanticturkey.extension.extpts.repositoryimplconfigurer.RepositoryImplConfigurer",ExtensionPointID.REPOSITORY_SOURCED_DEPLOYER_ID="it.uniroma2.art.semanticturkey.extension.extpts.deployer.RepositorySourcedDeployer",ExtensionPointID.REPOSITORY_TARGETING_LOADER_ID="it.uniroma2.art.semanticturkey.extension.extpts.loader.RepositoryTargetingLoader",ExtensionPointID.SEARCH_STRATEGY_ID="it.uniroma2.art.semanticturkey.extension.extpts.search.SearchStrategy",ExtensionPointID.STREAM_SOURCED_DEPLOYER_ID="it.uniroma2.art.semanticturkey.extension.extpts.deployer.StreamSourcedDeployer",ExtensionPointID.STREAM_TARGETING_LOADER_ID="it.uniroma2.art.semanticturkey.extension.extpts.loader.StreamTargetingLoader",ExtensionPointID.URI_GENERATOR_ID="it.uniroma2.art.semanticturkey.plugin.extpts.URIGenerator",ExtensionPointID}()),d=function(){function ExtensionFactory(e,t,n,r){this.id=e,this.name=t,this.description=n,this.extensionType=r}return ExtensionFactory}(),u=function(e){function ConfigurableExtensionFactory(t,n,r,o,i,a,s){var l=e.call(this,t,n,r,o)||this;return l.scope=i,l.configurationScopes=a,l.configurations=s,l}return i(ConfigurableExtensionFactory,e),ConfigurableExtensionFactory.prototype.clone=function(){var e=[];return this.configurations.forEach(function(t){e.push(t.clone())}),new ConfigurableExtensionFactory(this.id,this.name,this.description,this.extensionType,this.scope,this.configurationScopes,e)},ConfigurableExtensionFactory}(d),f=function(e){function NonConfigurableExtensionFactory(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.settingsScopes=i,a}return i(NonConfigurableExtensionFactory,e),NonConfigurableExtensionFactory.prototype.clone=function(){return new NonConfigurableExtensionFactory(this.id,this.name,this.description,this.extensionType,this.settingsScopes)},NonConfigurableExtensionFactory}(d);!function(){function ExtensionPoint(){}}();!function(e){e.SYSTEM="SYSTEM",e.PROJECT="PROJECT",e.USER="USER",e.PROJECT_USER="PROJECT_USER",e.FACTORY="FACTORY"}(r||(r={}));var h,g=function(){function ScopeUtils(){}return ScopeUtils.serializeScope=function(e){return e==r.SYSTEM?"sys":e==r.PROJECT?"proj":e==r.USER?"usr":e==r.PROJECT_USER?"pu":void 0},ScopeUtils.deserializeScope=function(e){return"sys"==e?r.SYSTEM:"proj"==e?r.PROJECT:"usr"==e?r.USER:"pu"==e?r.PROJECT_USER:"factory"==e?r.FACTORY:void 0},ScopeUtils}();!function(){function TransformationStep(){}}();!function(e){e.saved="saved",e.unsaved="unsaved"}(h||(h={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(47)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(2),d=n(14),u=n(25),f=n(28),h=n(542),g=n(234),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function PartitionRenderSingleRoot(t,n,r,o,i,a,s){var l=e.call(this,n,r,o,s)||this;return l.propService=t,l.creationModals=a,l.browsingModals=i,l}return m(PartitionRenderSingleRoot,e),PartitionRenderSingleRoot.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.rootProperty=a.c.getPartitionRootProperties(this.partition)[0]},PartitionRenderSingleRoot.prototype.getPredicateToEnrich=function(){return o.Observable.of(this.rootProperty)},PartitionRenderSingleRoot.prototype.enrichProperty=function(e){var t=this;g.a.getPropertyEnrichmentInfo(e,this.propService,this.basicModals).subscribe(function(n){n.type==g.b.resource?t.enrichWithResource(e):n.type==g.b.literal?t.enrichWithTypedLiteral(e,n.allowedDatatypes,n.dataRanges):n.type==g.b.customForm&&t.enrichWithCustomForm(e,n.form)})},PartitionRenderSingleRoot.prototype.enrichWithCustomForm=function(e,t){var n=this;this.resViewModals.enrichCustomForm("Add "+e.getShow(),t.getId()).then(function(r){var o=new i.a(t.getId(),r);n.addPartitionAware(n.resource,e,o)},function(){})},PartitionRenderSingleRoot.prototype.enrichWithTypedLiteral=function(e,t,n){var r=this;this.creationModals.newTypedLiteral("Add "+e.getShow(),e,t,n,!0,!0).then(function(t){var n=[];t.forEach(function(t){n.push({function:r.resourcesService.addValue(r.resource,e,t),value:t})}),r.addMultiple(n)},function(){})},PartitionRenderSingleRoot.prototype.enrichWithResource=function(e){var t=this;this.resViewModals.addPropertyValue("Add "+e.getShow(),this.resource,e,!1).then(function(e){var n=e.property,r=e.value,o=[];r.forEach(function(e){o.push({function:t.resourcesService.addValue(t.resource,n,e),value:e})}),t.addMultiple(o)},function(){})},PartitionRenderSingleRoot.prototype.addPartitionAware=function(e,t,n){var r=this;this.resourcesService.addValue(e,t,n).subscribe(function(e){return r.update.emit()})},PartitionRenderSingleRoot=v([n.i(r.c)({selector:"partition-renderer-single",template:n(38)}),b("design:paramtypes",[l.a,c.a,s.a,p.a,d.a,u.a,f.a])],PartitionRenderSingleRoot)}(h.a)},,function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(42),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(){function ConfigurationComponents(){}return ConfigurationComponents.ADVANCED_GRAPH_APPLICATION_STORE="it.uniroma2.art.semanticturkey.config.sheet2rdf.AdvancedGraphApplicationStore",ConfigurationComponents.CUSTOM_SEARCH_STORE="it.uniroma2.art.semanticturkey.settings.search.CustomSearchStore",ConfigurationComponents.CUSTOM_SERVICE_DEFINITION_STORE="it.uniroma2.art.semanticturkey.config.customservice.CustomServiceDefinitionStore",ConfigurationComponents.EXPORTER="it.uniroma2.art.semanticturkey.config.exporter.Exporter",ConfigurationComponents.IMPORTER="it.uniroma2.art.semanticturkey.config.importer.Importer",ConfigurationComponents.INVOKABLE_REPORER_STORE="it.uniroma2.art.semanticturkey.config.invokablereporter.InvokableReporterStore",ConfigurationComponents.NOTIFICATION_SYSTEM_SETTINGS_MANAGER="it.uniroma2.art.semanticturkey.settings.notification.NotificationSystemSettingsManager",ConfigurationComponents.RESOURCE_METADATA_PATTERN_STORE="it.uniroma2.art.semanticturkey.config.resourcemetadata.ResourceMetadataPatternStore",ConfigurationComponents.SPARQL_PARAMETERIZATION_STORE="it.uniroma2.art.semanticturkey.config.sparql.SPARQLParameterizationStore",ConfigurationComponents.SPARQL_STORE="it.uniroma2.art.semanticturkey.config.sparql.SPARQLStore",ConfigurationComponents.TEMPLATE_STORE="it.uniroma2.art.semanticturkey.config.template.TemplateStore",ConfigurationComponents}(),a=function(){function Reference(e,t,n,r){this.user=e,this.project=t,this.identifier=n,this.relativeReference=r}return Reference.prototype.getReferenceScope=function(){return Reference.getRelativeReferenceScope(this.relativeReference)},Reference.deserialize=function(e){return new Reference(e.user,e.project,e.identifier,e.relativeReference)},Reference.getRelativeReferenceScope=function(e){return e.startsWith("sys:")?r.c.SYSTEM:e.startsWith("proj:")?r.c.PROJECT:e.startsWith("usr:")?r.c.USER:e.startsWith("pu:")?r.c.PROJECT_USER:e.startsWith("factory:")?r.c.FACTORY:void 0},Reference.getRelativeReferenceIdentifier=function(e){return e.substring(e.indexOf(":")+1)},Reference}(),s=(function(){function ConfigurationManager(){}}(),function(e){function Configuration(){return null!==e&&e.apply(this,arguments)||this}return o(Configuration,e),Configuration}(r.b));!function(e){function ConfigurationProperty(){return null!==e&&e.apply(this,arguments)||this}o(ConfigurationProperty,e)}(r.d)},,function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return p});var r,o=function(){function FormCollectionMapping(e,t,n){this.resource=t,this.formCollection=e,this.replace=n}return FormCollectionMapping.prototype.getResource=function(){return this.resource},FormCollectionMapping.prototype.getFormCollection=function(){return this.formCollection},FormCollectionMapping.prototype.getReplace=function(){return this.replace},FormCollectionMapping}(),i=function(){function FormCollection(e){this.id=e}return FormCollection.prototype.getId=function(){return this.id},FormCollection.prototype.getForms=function(){return this.forms},FormCollection.prototype.setForms=function(e){this.forms=e},FormCollection.prototype.getSuggestions=function(){return this.suggestions},FormCollection.prototype.setSuggestions=function(e){this.suggestions=e},FormCollection.prototype.getLevel=function(){return this.level},FormCollection.prototype.setLevel=function(e){this.level=e},FormCollection.PREFIX="it.uniroma2.art.semanticturkey.customform.collection.",FormCollection}(),a=function(){function CustomForm(e,t,n){this.id=e,null!=t&&(this.name=t),null!=n&&(this.description=n)}return CustomForm.prototype.getId=function(){return this.id},CustomForm.prototype.getName=function(){return this.name},CustomForm.prototype.setName=function(e){this.name=e},CustomForm.prototype.getType=function(){return this.type},CustomForm.prototype.setType=function(e){this.type=e},CustomForm.prototype.getDescription=function(){return this.description},CustomForm.prototype.setDescription=function(e){this.description=e},CustomForm.prototype.getRef=function(){return this.ref},CustomForm.prototype.setRef=function(e){this.ref=e},CustomForm.prototype.getShowPropertyChain=function(){return this.showPropertyChain},CustomForm.prototype.setShowPropertyChain=function(e){this.showPropertyChain=e},CustomForm.prototype.getLevel=function(){return this.level},CustomForm.prototype.setLevel=function(e){this.level=e},CustomForm.PREFIX="it.uniroma2.art.semanticturkey.customform.form.",CustomForm}(),s=function(){function FormField(e,t,n,r,o){this.dependency=!1,this.placeholderId=e,this.type=t,this.mandatory=n,this.userPrompt=r,this.converter=o,this.annotations=[]}return FormField.prototype.isMandatory=function(){return this.mandatory},FormField.prototype.getPlaceholderId=function(){return this.placeholderId},FormField.prototype.getType=function(){return this.type},FormField.prototype.getUserPrompt=function(){return this.userPrompt},FormField.prototype.getConverter=function(){return this.converter},FormField.prototype.setDatatype=function(e){this.datatype=e},FormField.prototype.getDatatype=function(){return this.datatype},FormField.prototype.setLang=function(e){this.lang=e},FormField.prototype.getLang=function(){return this.lang},FormField.prototype.setDependency=function(e){this.dependency=e},FormField.prototype.isDependency=function(){return this.dependency},FormField.prototype.setConverterArg=function(e){this.converterArg=e},FormField.prototype.getConverterArg=function(){return this.converterArg},FormField.prototype.setAnnotations=function(e){this.annotations=e},FormField.prototype.addAnnotation=function(e){this.annotations.push(e)},FormField.prototype.getAnnotations=function(){return this.annotations},FormField.prototype.getAnnotation=function(e){return this.annotations.find(function(t){return t.name==e})},FormField.prototype.clone=function(){var e=new FormField(this.placeholderId,this.type,this.mandatory,this.userPrompt,this.converter);return e.setAnnotations(this.annotations),e.setDatatype(this.datatype),e.setLang(this.lang),e.setDependency(this.dependency),e.setConverterArg(this.converterArg),e},FormField}();!function(){function LangStringConverterArg(){}}();!function(e){e.ObjectOneOf="ObjectOneOf",e.DataOneOf="DataOneOf",e.Role="Role",e.Range="Range",e.RangeList="RangeList",e.Foreign="Foreign",e.Collection="Collection"}(r||(r={}));var l,c=(function(){function FormFieldAnnotation(){}}(),function(){function CustomFormValue(e,t){this.customFormId=e,this.userPromptMap=t}return CustomFormValue.prototype.getCustomFormId=function(){return this.customFormId},CustomFormValue.prototype.getUserPromptMap=function(){return this.userPromptMap},CustomFormValue}());!function(){function BrokenCFStructure(){}}();!function(e){e.system="system",e.project="project"}(l||(l={}));var p;!function(e){e.create="create",e.edit="edit"}(p||(p={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n(34),o=n(0),i=n(22),a=n(1074),s=n(240),l=n(1086),c=n(1087),p=n(626),d=n(1088),u=n(1089),f=n(310),h=n(1090),g=n(197),m=n(1091),v=n(1092),b=n(1095),y=n(1096),x=n(1097),C=n(1098),R=n(1099),S=n(1100),P=n(1101),E=n(1102),w=n(1103),I=n(1104),A=n(1105),_=n(1106),L=n(1107),M=n(1108),k=n(1109),O=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N=function(){function SharedModule(){}return SharedModule=O([n.i(o.b)({imports:[r.a,i.a],declarations:[y.a,g.a,x.a,l.a,m.a,c.a,C.a,v.a,R.a,p.b,d.a,u.a,b.a,f.a,a.a,E.a,w.a,S.a,h.a,I.a,A.a,_.a,L.a,M.a,k.a,P.a,s.a],exports:[y.a,g.a,x.a,l.a,m.a,c.a,C.a,v.a,R.a,p.b,d.a,u.a,b.a,f.a,a.a,E.a,w.a,S.a,h.a,I.a,A.a,_.a,L.a,M.a,k.a,P.a,s.a],providers:[]})],SharedModule)}()},function(e,t,n){e.exports=n.p+"assets/images/arrow.png"},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(8),i=n(3),a=n(36),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function IcvServices(e){this.httpMgr=e,this.serviceName="ICV"}return IcvServices.prototype.listDanglingConcepts=function(e){var t={scheme:e};return this.httpMgr.doGet(this.serviceName,"listDanglingConcepts",t).map(function(e){return a.a.createURIArray(e)})},IcvServices.prototype.listDanglingConceptsForAllSchemes=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listDanglingConceptsForAllSchemes",e).map(function(e){return a.a.createURIArray(e,["dangScheme"])})},IcvServices.prototype.listConceptSchemesWithNoTopConcept=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listConceptSchemesWithNoTopConcept",e).map(function(e){return a.a.createURIArray(e)})},IcvServices.prototype.listConceptsWithNoScheme=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listConceptsWithNoScheme",e).map(function(e){return a.a.createURIArray(e)})},IcvServices.prototype.listTopConceptsWithBroader=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listTopConceptsWithBroader",e).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push({concept:new i.b(e[n].concept,e[n].concept,i.c.concept),scheme:new i.b(e[n].scheme,e[n].scheme,i.c.conceptScheme)});return t})},IcvServices.prototype.listConceptsRelatedDisjoint=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listConceptsRelatedDisjoint",e).map(function(e){return a.a.createURIArray(e)})},IcvServices.prototype.listConceptsExactMatchDisjoint=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listConceptsExactMatchDisjoint",e).map(function(e){return a.a.createURIArray(e)})},IcvServices.prototype.listConceptsHierarchicalCycles=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listConceptsHierarchicalCycles",e).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push(a.a.createURIArray(e[n]));return t})},IcvServices.prototype.listConceptsHierarchicalRedundancies=function(e){var t={};return null!=e&&(t.sameScheme=e),this.httpMgr.doGet(this.serviceName,"listConceptsHierarchicalRedundancies",t).map(function(e){for(var t=[],n=0;n<e.length;n++){var r={subject:a.a.createURI(e[n].subject),predicate:a.a.createURI(e[n].predicate),object:a.a.createURI(e[n].object)};t.push(r)}return t})},IcvServices.prototype.listResourcesWithNoSKOSPrefLabel=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listResourcesWithNoSKOSPrefLabel",e).map(function(e){return a.a.createResourceArray(e)})},IcvServices.prototype.listResourcesWithNoSKOSXLPrefLabel=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listResourcesWithNoSKOSXLPrefLabel",e).map(function(e){return a.a.createResourceArray(e)})},IcvServices.prototype.listResourcesWithNoLanguageTagForLabel=function(e){var t={rolesArray:e};return this.httpMgr.doGet(this.serviceName,"listResourcesWithNoLanguageTagForLabel",t).map(function(e){return a.a.createResourceArray(e,["xlabel","label"])})},IcvServices.prototype.listResourcesWithExtraSpacesInLabel=function(e){var t={rolesArray:e};return this.httpMgr.doGet(this.serviceName,"listResourcesWithExtraSpacesInLabel",t).map(function(e){return a.a.createResourceArray(e,["xlabel","label"])})},IcvServices.prototype.listResourcesWithMorePrefLabelSameLang=function(e){var t={rolesArray:e};return this.httpMgr.doGet(this.serviceName,"listResourcesWithMorePrefLabelSameLang",t).map(function(e){return a.a.createResourceArray(e,["duplicateLang"])})},IcvServices.prototype.listDanglingXLabels=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listDanglingXLabels",e).map(function(e){return a.a.createResourceArray(e)})},IcvServices.prototype.listResourcesNoLexicalization=function(e,t){var n={rolesArray:e,languagesArray:t};return this.httpMgr.doGet(this.serviceName,"listResourcesNoLexicalization",n).map(function(e){return a.a.createResourceArray(e,["missingLang"])})},IcvServices.prototype.listResourcesWithOverlappedLabels=function(e){var t={rolesArray:e};return this.httpMgr.doGet(this.serviceName,"listResourcesWithOverlappedLabels",t).map(function(e){return a.a.createResourceArray(e,["xlabel","label"])})},IcvServices.prototype.listResourcesWithSameLabels=function(e){var t={rolesArray:e};return this.httpMgr.doGet(this.serviceName,"listResourcesWithSameLabels",t).map(function(e){return a.a.createResourceArray(e,["xlabel","label"])})},IcvServices.prototype.listResourcesWithAltNoPrefLabel=function(e){var t={rolesArray:e};return this.httpMgr.doGet(this.serviceName,"listResourcesWithAltNoPrefLabel",t).map(function(e){return a.a.createURIArray(e,["missingLang"])})},IcvServices.prototype.listResourcesNoDef=function(e,t){var n={rolesArray:e,languagesArray:t};return this.httpMgr.doGet(this.serviceName,"listResourcesNoDef",n).map(function(e){return a.a.createURIArray(e,["missingLang"])})},IcvServices.prototype.listAlignedNamespaces=function(e){var t={rolesArray:e};return this.httpMgr.doGet(this.serviceName,"listAlignedNamespaces",t)},IcvServices.prototype.listBrokenAlignments=function(e,t){var n={nsToLocationMap:JSON.stringify(e),rolesArray:t};return this.httpMgr.doPost(this.serviceName,"listBrokenAlignments",n).map(function(e){for(var t=[],n=0;n<e.length;n++){var r={subject:a.a.createURI(e[n].subject),predicate:a.a.createURI(e[n].predicate),object:a.a.createURI(e[n].object,["deprecated"])};t.push(r)}return t})},IcvServices.prototype.listBrokenDefinitions=function(e,t){var n={rolesArray:e,property:t};return this.httpMgr.doGet(this.serviceName,"listBrokenDefinitions",n).map(function(e){for(var t=[],n=0;n<e.length;n++){var r={subject:a.a.createURI(e[n].subject),predicate:a.a.createURI(e[n].predicate),object:a.a.createURI(e[n].object)};t.push(r)}return t})},IcvServices.prototype.listLocalInvalidURIs=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listLocalInvalidURIs",e).map(function(e){return a.a.createURIArray(e)})},IcvServices.prototype.setAllDanglingAsTopConcept=function(e){var t={scheme:e};return this.httpMgr.doPost(this.serviceName,"setAllDanglingAsTopConcept",t)},IcvServices.prototype.setBroaderForAllDangling=function(e,t){var n={scheme:e,broader:t};return this.httpMgr.doPost(this.serviceName,"setBroaderForAllDangling",n)},IcvServices.prototype.removeAllDanglingFromScheme=function(e){var t={scheme:e};return this.httpMgr.doPost(this.serviceName,"removeAllDanglingFromScheme",t)},IcvServices.prototype.deleteAllDanglingConcepts=function(e){var t={scheme:e};return this.httpMgr.doPost(this.serviceName,"deleteAllDanglingConcepts",t)},IcvServices.prototype.addAllConceptsToScheme=function(e){var t={scheme:e};return this.httpMgr.doPost(this.serviceName,"addAllConceptsToScheme",t)},IcvServices.prototype.removeBroadersToConcept=function(e,t){var n={concept:e,scheme:t};return this.httpMgr.doPost(this.serviceName,"removeBroadersToConcept",n)},IcvServices.prototype.removeBroadersToAllConcepts=function(){var e={};return this.httpMgr.doPost(this.serviceName,"removeBroadersToAllConcepts",e)},IcvServices.prototype.removeAllAsTopConceptsWithBroader=function(){var e={};return this.httpMgr.doPost(this.serviceName,"removeAllAsTopConceptsWithBroader",e)},IcvServices.prototype.removeAllHierarchicalRedundancy=function(){var e={};return this.httpMgr.doPost(this.serviceName,"removeAllHierarchicalRedundancy",e)},IcvServices.prototype.deleteAllDanglingXLabel=function(){var e={};return this.httpMgr.doPost(this.serviceName,"deleteAllDanglingXLabel",e)},IcvServices.prototype.setDanglingXLabel=function(e,t,n){var r={concept:e,xlabelPred:t,xlabel:n};return this.httpMgr.doPost(this.serviceName,"setDanglingXLabel",r)},IcvServices=s([n.i(r.g)(),l("design:paramtypes",[o.a])],IcvServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(42),i=n(36),a=n(8),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function SearchServices(e){this.httpMgr=e,this.serviceName="Search"}return SearchServices.prototype.searchResource=function(e,t,n,r,o,a,s,l,c,p,d){var u={searchString:e,rolesArray:t,useLocalName:n,useURI:r,useNotes:o,searchMode:a,langs:s,includeLocales:l,schemes:c,schemeFilter:p};return this.httpMgr.doGet(this.serviceName,"searchResource",u,d).map(function(e){return i.a.createURIArray(e)})},SearchServices.prototype.searchInstancesOfClass=function(e,t,n,r,o,a,s,l,c){var p={cls:e,searchString:t,useLocalName:n,useURI:r,useNotes:o,searchMode:a};return null!=s&&(p.langs=s),null!=l&&(p.includeLocales=l),this.httpMgr.doGet(this.serviceName,"searchInstancesOfClass",p,c).map(function(e){return i.a.createURIArray(e)})},SearchServices.prototype.searchLexicalEntry=function(e,t,n,r,o,a,s,l,c){var p={searchString:e,useLocalName:t,useURI:n,useNotes:r,searchMode:o};return null!=a&&(p.lexicons=a),null!=s&&(p.langs=s),null!=l&&(p.includeLocales=l),this.httpMgr.doGet(this.serviceName,"searchLexicalEntry",p,c).map(function(e){return i.a.createURIArray(e,["index"])})},SearchServices.prototype.getPathFromRoot=function(e,t,n,r,o,a,s,l,c){var p={role:t,resourceURI:e,schemesIRI:n,schemeFilter:r,broaderProps:o,narrowerProps:a,includeSubProperties:s,root:l};return this.httpMgr.doGet(this.serviceName,"getPathFromRoot",p,c).map(function(t){for(var n=[],r=i.a.createURIArray(t),o=0;o<r.length&&(n.push(r[o]),r[o].getURI()!=e.getURI());o++);return n})},SearchServices.prototype.searchStringList=function(e,t,n,r,o,i,a,s,l,c){var p={searchString:e,rolesArray:t,useLocalName:n,searchMode:r,langs:o,includeLocales:i,schemes:a,schemeFilter:s,cls:l};return this.httpMgr.doGet(this.serviceName,"searchStringList",p,c)},SearchServices.prototype.searchURIList=function(e,t,n,r,o,i,a,s){var l={searchString:e,searchMode:t,maxNumResults:n,rolesArray:r,schemes:o,schemeFilter:i,cls:a};return this.httpMgr.doGet(this.serviceName,"searchURIList",l,s)},SearchServices.prototype.searchPrefix=function(e,t,n){var r={searchString:e,searchMode:t};return this.httpMgr.doGet(this.serviceName,"searchPrefix",r,n)},SearchServices.prototype.advancedSearch=function(e,t,n,r,o,a,s,l,c,p,d,u,f){var h={statusFilter:a,searchMode:o};return null!=e&&(h.searchString=e,h.useLocalName=t,h.useURI=n,h.useNotes=r),null!=s&&(h.langs=s),null!=l&&(h.includeLocales=l),null!=c&&(h.types=this.serializeListOfList(c)),null!=p&&(h.schemes=this.serializeListOfList(p)),null!=d&&(h.ingoingLinks=this.serializeLinks(d)),null!=u&&(h.outgoingLinks=this.serializeLinks(u)),null!=f&&(h.outgoingSearch=this.serializeSearchLinks(f)),this.httpMgr.doPost(this.serviceName,"advancedSearch",h).map(function(e){return i.a.createResourceArray(e)})},SearchServices.prototype.serializeListOfList=function(e){var t=[];return e.forEach(function(e){var n=[];e.forEach(function(e){n.push(e.toNT())}),t.push(n)}),JSON.stringify(t)},SearchServices.prototype.serializeLinks=function(e){var t=[];return e.forEach(function(e){var n=[];e.second.forEach(function(e){n.push(e.toNT())}),t.push([e.first.toNT(),n])}),JSON.stringify(t)},SearchServices.prototype.serializeSearchLinks=function(e){var t=[];return e.forEach(function(e){t.push([e.predicate.toNT(),e.searchString,e.mode])}),JSON.stringify(t)},SearchServices.prototype.getCustomSearchForm=function(e){var t={searchParameterizationReference:e};return this.httpMgr.doGet(this.serviceName,"getCustomSearchForm",t).map(function(e){return o.b.parse(e)})},SearchServices.prototype.customSearch=function(e,t){var n={searchParameterizationReference:e,boundValues:t};return this.httpMgr.doGet(this.serviceName,"customSearch",n).map(function(e){return i.a.createResourceArray(e)})},SearchServices=s([n.i(r.g)(),l("design:paramtypes",[a.a])],SearchServices)}()},,,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(42),i=n(60),a=n(8),s=n(6),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function ProjectServices(e){this.httpMgr=e,this.serviceName="Projects"}return ProjectServices.prototype.listProjects=function(e,t,n){var r={consumer:"SYSTEM"};return void 0!=e&&(r.consumer=e.getName()),null!=t&&(r.userDependent=t),null!=n&&(r.onlyOpen=n),this.httpMgr.doGet(this.serviceName,"listProjects",r).map(function(e){for(var t=e,n=[],r=0;r<t.length;r++)n.push(i.f.deserialize(t[r]));return n.sort(function(e,t){return e.getName().toLowerCase().localeCompare(t.getName().toLowerCase())}),n})},ProjectServices.prototype.getProjectInfo=function(e,t,n,r){var o={projectName:e,consumer:null!=t?t.getName():"SYSTEM",requestedAccessLevel:n,requestedLockLevel:r};return this.httpMgr.doGet(this.serviceName,"getProjectInfo",o).map(function(e){return i.f.deserialize(e)})},ProjectServices.prototype.disconnectFromProject=function(e){void 0!=s.a.getWorkingProject()&&s.a.getWorkingProject().getName()==e.getName()&&s.a.removeWorkingProject();var t={consumer:"SYSTEM",projectName:e.getName()};return this.httpMgr.doPost(this.serviceName,"disconnectFromProject",t).map(function(e){return e})},ProjectServices.prototype.accessProject=function(e){var t={consumer:"SYSTEM",projectName:e.getName(),requestedAccessLevel:"RW",requestedLockLevel:"NO"},n=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.ProjectAccessException"]}});return this.httpMgr.doPost(this.serviceName,"accessProject",t,n)},ProjectServices.prototype.createProject=function(e,t,n,r,o,i,s,l,c,p,d,u,f,h,g,m,v,b,y,x,C,R,S,P,E){var w={consumer:"SYSTEM",projectName:e,baseURI:t,model:n,lexicalizationModel:r,historyEnabled:o,validationEnabled:i,blacklistingEnabled:s,repositoryAccess:l.stringify(),coreRepoID:c,supportRepoID:p,coreRepoSailConfigurerSpecification:d?JSON.stringify(d):null,coreBackendType:u,supportRepoSailConfigurerSpecification:f?JSON.stringify(f):null,supportBackendType:h,leftDataset:g,rightDataset:m,uriGeneratorSpecification:v?JSON.stringify(v):null,renderingEngineSpecification:b?JSON.stringify(b):null,resourceMetadataAssociations:y?JSON.stringify(y.map(function(e){return[e.first,e.second]})):null,shaclEnabled:x,shaclSettings:C,trivialInferenceEnabled:R,preloadedDataFileName:S,preloadedDataFormat:P,transitiveImportAllowance:E},I=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.ProjectAccessException","org.eclipse.rdf4j.repository.RepositoryException"]}});return this.httpMgr.doPost(this.serviceName,"createProject",w,I)},ProjectServices.prototype.deleteProject=function(e){var t={consumer:"SYSTEM",projectName:e.getName()};return this.httpMgr.doPost(this.serviceName,"deleteProject",t)},ProjectServices.prototype.importProject=function(e,t){var n={newProjectName:e,importPackage:t};return this.httpMgr.uploadFile(this.serviceName,"importProject",n)},ProjectServices.prototype.exportProject=function(e){var t={projectName:e.getName()};return this.httpMgr.downloadFile(this.serviceName,"exportProject",t,!0)},ProjectServices.prototype.getProjectPropertyMap=function(e){var t={projectName:e.getName()};return this.httpMgr.doGet(this.serviceName,"getProjectPropertyMap",t).map(function(e){for(var t=e,n=[],r=0;r<t.length;r++){var o={};o.name=t[r].name,o.value=t[r].value,n.push(o)}return n})},ProjectServices.prototype.getAccessStatusMap=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"getAccessStatusMap",t).map(function(t){var n=[];return t.forEach(function(t){n.push(e.parseAccessStatus(t))}),n})},ProjectServices.prototype.getAccessStatus=function(e){var t=this,n={projectName:e};return this.httpMgr.doGet(this.serviceName,"getAccessStatus",n).map(function(e){return t.parseAccessStatus(e)})},ProjectServices.prototype.parseAccessStatus=function(e){for(var t=e.name,n=[],r=e.consumers,o=0;o<r.length;o++){var i={name:r[o].name,availableACLLevel:null,acquiredACLLevel:null};null!=r[o].availableACLLevel&&(i.availableACLLevel=r[o].availableACLLevel),null!=r[o].acquiredACLLevel&&(i.acquiredACLLevel=r[o].acquiredACLLevel),n.push(i)}var a=e.lock,s={availableLockLevel:a.availableLockLevel,lockingConsumer:null,acquiredLockLevel:null};return null!=a.lockingConsumer&&null!=a.acquiredLockLevel&&(s.lockingConsumer=a.lockingConsumer,s.acquiredLockLevel=a.acquiredLockLevel),{name:t,consumers:n,lock:s}},ProjectServices.prototype.updateAccessLevel=function(e,t){var n={consumerName:e.getName()};return null!=t&&(n.accessLevel=t),this.httpMgr.doPost(this.serviceName,"updateAccessLevel",n)},ProjectServices.prototype.updateProjectAccessLevel=function(e,t,n){var r={projectName:e.getName(),consumerName:t.getName()};return null!=n&&(r.accessLevel=n),this.httpMgr.doPost(this.serviceName,"updateProjectAccessLevel",r)},ProjectServices.prototype.updateLockLevel=function(e){var t={lockLevel:e};return this.httpMgr.doPost(this.serviceName,"updateLockLevel",t)},ProjectServices.prototype.updateProjectLockLevel=function(e,t){var n={projectName:e.getName(),lockLevel:t};return this.httpMgr.doPost(this.serviceName,"updateProjectLockLevel",n)},ProjectServices.prototype.handleMissingChangetrackierSailError=function(e,t){if(e.name.endsWith("ProjectAccessException")||e.name.endsWith("RepositoryException"))if(e.message.includes("Unsupported Sail type: http://semanticturkey.uniroma2.it/sail/changetracker")){t.alert("Error","The changetracker sail, required for history and validation, is reported to be missing from the triple store; please contact the administrator in order to have the st-changetracking-sail.jar bundle deployed within the triple store connected for this project","error",e.name+": "+e.message)}else{var n=null!=e.message?e.message:"Unknown response from the server",r=e.stack?e.stack:e.name;t.alert("Error",n,"error",r)}},ProjectServices.prototype.getRepositories=function(e,t){var n={projectName:e.getName()};return null!=t&&(n.excludeLocal=t),this.httpMgr.doGet(this.serviceName,"getRepositories",n)},ProjectServices.prototype.modifyRepositoryAccessCredentials=function(e,t,n,r){var o={projectName:e.getName(),repositoryID:t};return null!=n&&(o.newUsername=n),null!=r&&(o.newPassword=r),this.httpMgr.doPost(this.serviceName,"modifyRepositoryAccessCredentials",o)},ProjectServices.prototype.batchModifyRepostoryAccessCredentials=function(e,t,n,r,o,i){var a={projectName:e.getName(),serverURL:t};return null!=n&&(a.matchUsername=n),null!=r&&(a.currentUsername=r),null!=o&&(a.newUsername=o),null!=i&&(a.newPassword=i),this.httpMgr.doPost(this.serviceName,"batchModifyRepostoryAccessCredentials",a)},ProjectServices.prototype.preloadDataFromFile=function(e,t){var n={preloadedData:e,preloadedDataFormat:t};return this.httpMgr.uploadFile(this.serviceName,"preloadDataFromFile",n).map(function(e){return i.g.parse(e)})},ProjectServices.prototype.preloadDataFromURL=function(e,t){var n={preloadedDataURL:e,preloadedDataFormat:t};return this.httpMgr.doPost(this.serviceName,"preloadDataFromURL",n).map(function(e){return i.g.parse(e)})},ProjectServices.prototype.preloadDataFromCatalog=function(e,t){var n={connectorId:e,datasetId:t};return this.httpMgr.doPost(this.serviceName,"preloadDataFromCatalog",n).map(function(e){return i.g.parse(e)})},ProjectServices.prototype.createEmptySHACLSettingsForm=function(){var e={};return this.httpMgr.doGet(this.serviceName,"createEmptySHACLSettingsForm",e).map(function(e){return o.b.parse(e)})},ProjectServices.prototype.setProjectFacetDir=function(e,t){var n={projectName:e,facetValue:t};return this.httpMgr.doPost(this.serviceName,"setProjectFacetDir",n)},ProjectServices.prototype.renameProjectFacetDir=function(e,t){var n={oldValue:e,newValue:t};return this.httpMgr.doPost(this.serviceName,"renameProjectFacetDir",n)},ProjectServices.prototype.deleteProjectDir=function(e){var t={dirName:e};return this.httpMgr.doPost(this.serviceName,"deleteProjectDir",t)},ProjectServices.prototype.setProjectProperty=function(e,t,n){var r={projectName:e.getName(),propName:t,propValue:n};return this.httpMgr.doPost(this.serviceName,"setProjectProperty",r)},ProjectServices=l([n.i(r.g)(),c("design:paramtypes",[a.a])],ProjectServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(46),i=n(17),a=n(36),s=n(8),l=n(6),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function UserServices(e,t){this.httpMgr=e,this.router=t,this.serviceName="Users"}return UserServices.prototype.getUser=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"getUser",t).map(function(t){if(null!=t.user){var n=a.a.createUser(t.user);return null!=n&&l.a.setLoggedUser(n),n}e.router.navigate(["/Registration/1"])})},UserServices.prototype.listUsers=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listUsers",e).map(function(e){var t=a.a.createUsersArray(e);return t.sort(function(e,t){return e.getGivenName().localeCompare(t.getGivenName())}),t})},UserServices.prototype.listOnlineUsers=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listOnlineUsers",e).map(function(e){var t=a.a.createUsersArray(e);return t.sort(function(e,t){return e.getGivenName().localeCompare(t.getGivenName())}),t})},UserServices.prototype.listUserCapabilities=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listUserCapabilities",e).map(function(e){return i.a.initEvalutator(e),e})},UserServices.prototype.listUsersBoundToProject=function(e){var t={projectName:e};return this.httpMgr.doGet(this.serviceName,"listUsersBoundToProject",t).map(function(e){var t=a.a.createUsersArray(e);return t.sort(function(e,t){return e.getGivenName().localeCompare(t.getGivenName())}),t})},UserServices.prototype.listProjectsBoundToUser=function(e){var t={userIri:e};return this.httpMgr.doGet(this.serviceName,"listProjectsBoundToUser",t)},UserServices.prototype.registerUser=function(e,t,n,r,o,i,a,s,l,c,p,d){var u={};for(var f in d)u["<"+f+">"]=d[f];var h={email:e,password:t,givenName:n,familyName:r,iri:o,address:i,affiliation:a,url:s,avatarUrl:l,phone:c,languageProficiencies:p,customProperties:JSON.stringify(u)};return this.httpMgr.doPost(this.serviceName,"registerUser",h)},UserServices.prototype.updateUserGivenName=function(e,t){var n={email:e,givenName:t};return this.httpMgr.doPost(this.serviceName,"updateUserGivenName",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserFamilyName=function(e,t){var n={email:e,familyName:t};return this.httpMgr.doPost(this.serviceName,"updateUserFamilyName",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserEmail=function(e,t){var n={email:e,newEmail:t};return this.httpMgr.doPost(this.serviceName,"updateUserEmail",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserPhone=function(e,t){var n={email:e};return null!=t&&(n.phone=t),this.httpMgr.doPost(this.serviceName,"updateUserPhone",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserAddress=function(e,t){var n={email:e};return null!=t&&(n.address=t),this.httpMgr.doPost(this.serviceName,"updateUserAddress",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserAffiliation=function(e,t){var n={email:e};return null!=t&&(n.affiliation=t),this.httpMgr.doPost(this.serviceName,"updateUserAffiliation",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserUrl=function(e,t){var n={email:e};return null!=t&&(n.url=t),this.httpMgr.doPost(this.serviceName,"updateUserUrl",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserAvatarUrl=function(e,t){var n={email:e};return null!=t&&(n.avatarUrl=t),this.httpMgr.doPost(this.serviceName,"updateUserAvatarUrl",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserLanguageProficiencies=function(e,t){var n={email:e,languageProficiencies:t};return this.httpMgr.doPost(this.serviceName,"updateUserLanguageProficiencies",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.updateUserCustomField=function(e,t,n){var r={email:e,property:t,value:n};return this.httpMgr.doPost(this.serviceName,"updateUserCustomField",r).map(function(e){return a.a.createUser(e)})},UserServices.prototype.enableUser=function(e,t){var n={email:e,enabled:t};return this.httpMgr.doPost(this.serviceName,"enableUser",n).map(function(e){return a.a.createUser(e)})},UserServices.prototype.deleteUser=function(e){var t={email:e};return this.httpMgr.doPost(this.serviceName,"deleteUser",t)},UserServices.prototype.changePassword=function(e,t,n){var r={email:e,oldPassword:t,newPassword:n};return this.httpMgr.doPost(this.serviceName,"changePassword",r)},UserServices.prototype.forcePassword=function(e,t){var n={email:e,password:t};return this.httpMgr.doPost(this.serviceName,"forcePassword",n)},UserServices.prototype.forgotPassword=function(e){var t={email:e,vbHostAddress:location.protocol+"//"+location.hostname+(""!=location.port?":"+location.port:"")+location.pathname};return this.httpMgr.doPost(this.serviceName,"forgotPassword",t)},UserServices.prototype.resetPassword=function(e,t){var n={email:e,token:t};return this.httpMgr.doPost(this.serviceName,"resetPassword",n)},UserServices.prototype.getUserFormFields=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getUserFormFields",e)},UserServices.prototype.updateUserFormOptionalFieldVisibility=function(e,t){var n={field:e,visibility:t};return this.httpMgr.doPost(this.serviceName,"updateUserFormOptionalFieldVisibility",n)},UserServices.prototype.addUserFormCustomField=function(e){var t={field:e};return this.httpMgr.doPost(this.serviceName,"addUserFormCustomField",t)},UserServices.prototype.swapUserFormCustomFields=function(e,t){var n={field1:e,field2:t};return this.httpMgr.doPost(this.serviceName,"swapUserFormCustomFields",n)},UserServices.prototype.renameUserFormCustomField=function(e,t){var n={fieldIri:e,newLabel:t};return this.httpMgr.doPost(this.serviceName,"renameUserFormCustomField",n)},UserServices.prototype.removeUserFormCustomField=function(e){var t={field:e};return this.httpMgr.doPost(this.serviceName,"removeUserFormCustomField",t)},UserServices=c([n.i(r.g)(),p("design:paramtypes",[s.a,o.c])],UserServices)}()},,,,,function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"j",function(){return s}),n.d(t,"k",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"g",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return g});var r,o=n(10),i=n(11),a=function(){function Project(e){this.facets={},void 0!=e&&(this.name=e)}return Project.prototype.setName=function(e){this.name=e},Project.prototype.getName=function(){return this.name},Project.prototype.setBaseURI=function(e){this.baseURI=e},Project.prototype.getBaseURI=function(){return this.baseURI},Project.prototype.setDefaultNamespace=function(e){this.defaultNamespace=e},Project.prototype.getDefaultNamespace=function(){return this.defaultNamespace},Project.prototype.setAccessible=function(e){this.accessible=e},Project.prototype.isAccessible=function(){return this.accessible},Project.prototype.setHistoryEnabled=function(e){this.historyEnabled=e},Project.prototype.isHistoryEnabled=function(){return this.historyEnabled},Project.prototype.setValidationEnabled=function(e){this.validationEnabled=e},Project.prototype.isValidationEnabled=function(){return this.validationEnabled},Project.prototype.setShaclEnabled=function(e){this.shaclEnabled=e},Project.prototype.isShaclEnabled=function(){return this.shaclEnabled},Project.prototype.setModelType=function(e){this.model=e},Project.prototype.getModelType=function(e){return e?Project.getPrettyPrintModelType(this.model):this.model},Project.prototype.setLexicalizationModelType=function(e){this.lexicalizationModel=e},Project.prototype.getLexicalizationModelType=function(e){return e?Project.getPrettyPrintModelType(this.lexicalizationModel):this.lexicalizationModel},Project.getPrettyPrintModelType=function(e){return e==i.b.uri?"RDFS":e==i.c.uri?"OWL":e==i.d.uri?"SKOS":e==i.e.uri?"SKOSXL":e==i.f.uri?"OntoLex":e==i.g.uri?"EDOAL":e},Project.prototype.setOpen=function(e){this.open=e},Project.prototype.isOpen=function(){return this.open},Project.prototype.getRepositoryLocation=function(){return this.repositoryLocation},Project.prototype.setRepositoryLocation=function(e){this.repositoryLocation=e},Project.prototype.isRepositoryRemote=function(){return"remote"==this.repositoryLocation.location},Project.prototype.setStatus=function(e){this.status=e},Project.prototype.getStatus=function(){return this.status},Project.prototype.setFacets=function(e){this.facets=e},Project.prototype.getFacets=function(){return this.facets},Project.prototype.getFacet=function(e){return this.facets[e]},Project.prototype.setDescription=function(e){this.description=e},Project.prototype.getDescription=function(){return this.description},Project.deserialize=function(e){var t=new Project;return t.setName(e.name),t.setBaseURI(e.baseURI),t.setDefaultNamespace(e.defaultNamespace),t.setAccessible(e.accessible),t.setHistoryEnabled(e.historyEnabled),t.setValidationEnabled(e.validationEnabled),t.setModelType(e.model),t.setLexicalizationModelType(e.lexicalizationModel),t.setOpen(e.open),t.setRepositoryLocation(e.repositoryLocation),t.setStatus(e.status),t.setShaclEnabled(e.shaclEnabled),t.setFacets(e.facets),t.setDescription(e.description),t},Project}();!function(e){e.graphdb_FreeSail="graphdb:FreeSail",e.openrdf_NativeStore="openrdf:NativeStore",e.openrdf_MemoryStore="openrdf:MemoryStore"}(r||(r={}));var s;(function(){function AccessStatus(){}})(),function(){function ConsumerACL(){}}(),function(){function LockStatus(){}}();!function(e){e.R="R",e.RW="RW"}(s||(s={}));var l;!function(e){e.R="R",e.W="W",e.NO="NO"}(l||(l={}));var c;(function(){function RepositorySummary(){}})(),function(){function RemoteRepositorySummary(){}}();!function(e){e.CreateLocal="CreateLocal",e.CreateRemote="CreateRemote",e.AccessExistingRemote="AccessExistingRemote"}(c||(c={}));var p,d=function(){function RepositoryAccess(e){this.type=e}return RepositoryAccess.prototype.setConfiguration=function(e){this.configuration=e},RepositoryAccess.prototype.stringify=function(){var e={"@type":this.type};return this.type!=c.CreateRemote&&this.type!=c.AccessExistingRemote||(e.serverURL=this.configuration.serverURL,e.username=this.configuration.username,e.password=this.configuration.password),JSON.stringify(e)},RepositoryAccess}(),u=(function(){function RemoteRepositoryAccessConfig(){}}(),function(){function Repository(){}}(),function(){function PreloadedDataSummary(){}return PreloadedDataSummary.parse=function(e){return{baseURI:e.baseURI,model:null!=e.model?o.a.parseURI(e.model):null,lexicalizationModel:null!=e.lexicalizationModel?o.a.parseURI(e.lexicalizationModel):null,preloadedDataFile:e.preloadedDataFile,preloadedDataFormat:e.preloadedDataFormat,warnings:e.warnings}},PreloadedDataSummary}());(function(){function PreloadWarning(){}})(),function(){function ExceptionDAO(){}}();!function(e){e.dir="dir"}(p||(p={}));var f;!function(e){e.list="list",e.dir="dir"}(f||(f={}));var h;!function(e){e.name="name",e.open="open",e.accessed="accessed",e.model="model",e.lexicalization="lexicalization",e.history="history",e.validation="validation",e.location="location"}(h||(h={}));var g=(function(){function ProjectTableColumnStruct(){}}(),function(){function ProjectUtils(){}return ProjectUtils.getDefaultProjectTableColumns=function(){return[{id:h.name,name:"Project Name",show:!0,flex:3,mandatory:!0},{id:h.open,name:"Open/Close",show:!0,flex:1,mandatory:!0},{id:h.accessed,name:"Accessed",show:!0,flex:1,mandatory:!0},{id:h.model,name:"Model",show:!0,flex:1},{id:h.lexicalization,name:"Lexicalization",show:!0,flex:1},{id:h.history,name:"History",show:!0,flex:1},{id:h.validation,name:"Validation",show:!0,flex:1},{id:h.location,name:"Repository Location",show:!0,flex:2}]},ProjectUtils.defaultTableOrder=[h.name,h.open,h.accessed,h.model,h.lexicalization,h.history,h.validation,h.location],ProjectUtils}())},,function(e,t,n){"use strict";var r=n(702);n.d(t,"b",function(){return r.a});var o=n(170);n.d(t,"e",function(){return o.a});var i=n(703);n.d(t,"f",function(){return i.a});var a=(n(1269),n(1270),n(704),n(705));n.d(t,"l",function(){return a.a});var s=(n(1271),n(1281),n(1282),n(709));n.d(t,"k",function(){return s.a});var l=n(1273);n.d(t,"j",function(){return l.a});var c=(n(1274),n(1275),n(1276));n.d(t,"i",function(){return c.a});var p=(n(706),n(707),n(1277),n(334));n.d(t,"g",function(){return p.a});var d=n(708);n.d(t,"h",function(){return d.a});var u=(n(1278),n(1279),n(1280),n(710));n.d(t,"c",function(){return u.b}),n.d(t,"d",function(){return u.c}),n.d(t,"a",function(){return u.a});n(711),n(712),n(1283)},function(e,t,n){"use strict";var r=(n(1499),n(263),n(1500),n(761));n.d(t,"i",function(){return r.a});var o=n(1501);n.d(t,"c",function(){return o.a});var i=n(359);n.d(t,"h",function(){return i.a});var a=(n(360),n(264),n(762));n.d(t,"d",function(){return a.a});var s=(n(1502),n(88));n.d(t,"f",function(){return s.c});var l=n(362);n.d(t,"k",function(){return l.a});var c=n(766);n.d(t,"j",function(){return c.a});var p=n(765);n.d(t,"g",function(){return p.b});var d=n(1531);n.d(t,"e",function(){return d.a});var u=(n(1532),n(364),n(361));n.d(t,"a",function(){return u.a}),n.d(t,"b",function(){return u.b})},function(e,t,n){e.exports=n.p+"assets/images/ontology.png"},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=(function(){function Countries(){}Countries.countryList=["Afghanistan","Aland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo, the Democratic Republic of the","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iraq","Ireland","Islamic Republic of Iran","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Lao","Latvia","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","North Korea","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory, Occupied","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Runion","Romania","Russian Federation","Rwanda","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Korea","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States Minor Outlying Islands","United States of America","Uruguay","Uzbekistan","Vanuatu","Vatican City State","Venezuela","Viet Nam","Virgin Islands British","Virgin Islands U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"]}(),function(){function Languages(){}return Languages.setSystemLanguages=function(e){this.systemLanguages=e},Languages.getSystemLanguages=function(){return this.systemLanguages},Languages.sortLanguages=function(e){e.sort(function(e,t){return e.tag>t.tag?1:e.tag<t.tag?-1:0})},Languages.containsLanguage=function(e,t){for(var n=0;n<e.length;n++)if(e[n].tag==t.tag)return!0;return!1},Languages.getLocales=function(e,t){var n=[],r=t;return-1!=t.indexOf("-")&&(r=t.substring(0,t.indexOf("-"))),e.forEach(function(e){e.tag.startsWith(r)&&e.tag!=t&&n.push(e)}),n},Languages.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].tag==t.tag)return n;return-1},Languages.fromTagsToLanguages=function(e){for(var t=[],n=0;n<e.length;n++){var r=Languages.getLanguageFromTag(e[n]);null!=r&&t.push(r)}return t},Languages.fromLanguagesToTags=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].tag);return t},Languages.getLanguageFromTag=function(e){var t=Languages.systemLanguages.find(function(t){return t.tag==e});return null==t&&(t={name:e,tag:e}),t},Languages.systemLanguages=[],Languages.priorityLangs=["en","fr","it","es","de"],Languages}()),o=function(){function Language(){}return Language}();!function(){function LanguageConstraint(){}}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(4),i=n(3),a=n(12),s=n(10),l=n(91),c=n(133),p=n(471),d=n(134),u=n(229),f=n(155),h=n(469),g=n(470),m=n(472),v=n(514),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(){function GraphModalServices(e,t,n){this.modal=e,this.d3Service=t,this.resourceService=n}return GraphModalServices.prototype.openGraphQuertyResult=function(e){var t=this,n=[],r=[];e.forEach(function(e){var o=t.convertBindingToValue(e.subj),i=t.convertBindingToValue(e.pred),a=t.convertBindingToValue(e.obj),s=u.a.getNodeOfValue(n,o),l=u.a.getNodeOfValue(n,a);null==s&&(s=new p.a(o),n.push(s)),null==l&&(l=new p.a(a),n.push(l)),r.push(new f.a(s,l,i))});var i=[];n.forEach(function(e){e.res.isURIResource()&&i.push(e.res)}),r.forEach(function(e){s.a.containsNode(i,e.res)||i.push(e.res)}),this.resourceService.getResourcesInfo(i).subscribe(function(e){e.forEach(function(e){u.a.getLinksWithPredicate(r,e).forEach(function(t){t.res=e});var t=u.a.getNodeOfValue(n,e);null!=t&&(t.res=e)});var i=t.d3Service.getForceDirectedGraph(n,r,!1),a=new h.a(i,l.a.dataOriented,!0,null,v.a.sparql),s=new o.b(a,void 0,h.a),c={context:s.dialogClass("modal-dialog modal-xl").keyboard(27).toJSON()};return t.modal.open(h.b,c).result})},GraphModalServices.prototype.convertBindingToValue=function(e){return"uri"==e.type?new i.b(e.value):"bnode"==e.type?new i.d("_:"+e.value):new i.f(e.value,e.datatype,e["xml:lang"])},GraphModalServices.prototype.openDataGraph=function(e,t){var n=new p.a(e);n.root=!0;var r=this.d3Service.getForceDirectedGraph([n],[]),i=new h.a(r,l.a.dataOriented,t,e.getRole()),a=new o.b(i,void 0,h.a),s={context:a.dialogClass("modal-dialog modal-xl").keyboard(27).toJSON()};return this.modal.open(h.b,s).result},GraphModalServices.prototype.openModelGraph=function(e,t){var n=[];if(null!=e){var r=new m.a(e);r.root=!0,n.push(r)}var i=this.d3Service.getForceDirectedGraph(n,[]),a=new h.a(i,l.a.modelOriented,t),s=new o.b(a,void 0,h.a),c={context:s.dialogClass("modal-dialog modal-xl").keyboard(27).toJSON()};return this.modal.open(h.b,c).result},GraphModalServices.prototype.filterLinks=function(e){var t=new g.a(e),n=new o.b(t,void 0,g.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(g.b,r).result},GraphModalServices.prototype.openUmlGraph=function(e){var t=new d.b([],[],e),n=new h.a(t,l.a.umlOriented,e),r=new o.b(n,void 0,h.a),i={context:r.dialogClass("modal-dialog modal-xl").keyboard(27).toJSON()};return this.modal.open(h.b,i).result},GraphModalServices=b([n.i(r.g)(),y("design:paramtypes",[o.c,c.a,a.a])],GraphModalServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(2),i=n(13),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function AbstractIcvComponent(e,t){this.resultsLimit=100,this.page=0,this.basicModals=e,this.sharedModals=t}return AbstractIcvComponent.prototype.onRolesChanged=function(e){this.rolesToCheck=e},AbstractIcvComponent.prototype.onLangsChanged=function(e){this.langsToCheck=e},AbstractIcvComponent.prototype.doPreRunCheck=function(){return this.checkRoles&&0==this.rolesToCheck.length?(this.basicModals.alert("Missing resource type","You need to select at least a resource type in order to run the ICV","warning"),!0):this.checkLanguages&&0==this.langsToCheck.length?(this.basicModals.alert("Missing language","You need to select at least a language in order to run the ICV","warning"),!0):void 0},AbstractIcvComponent.prototype.initPaging=function(e){this.pageCount=Math.floor(e.length/this.resultsLimit),e.length%this.resultsLimit>0&&this.pageCount++},AbstractIcvComponent.prototype.onResourceClick=function(e){this.isResource(e)&&this.sharedModals.openResourceView(e,!1)},AbstractIcvComponent.prototype.isResource=function(e){return e.isResource()},AbstractIcvComponent.prototype.runIcv=function(){this.doPreRunCheck()||this.executeIcv()},AbstractIcvComponent=a([n.i(r.c)({selector:"abstract-icv-component",template:"",host:{class:"pageComponent"}}),s("design:paramtypes",[o.a,i.a])],AbstractIcvComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(8),i=n(36),a=n(15),s=n(3),l=n(12),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function OntoLexLemonServices(e,t,n){this.httpMgr=e,this.eventHandler=t,this.resourceService=n,this.serviceName="OntoLexLemon"}return OntoLexLemonServices.prototype.createLexicon=function(e,t,n,r){var o=this,a={language:e};return null!=t&&(a.newLexicon=t),null!=n&&(a.title=n),null!=r&&(a.customFormValue=r),this.httpMgr.doPost(this.serviceName,"createLexicon",a).map(function(e){return i.a.createURI(e)}).flatMap(function(e){return o.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(s.a.NEW,!0),o.eventHandler.lexiconCreatedEvent.emit(e),e})})},OntoLexLemonServices.prototype.getLexicons=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getLexicons",t,e).map(function(e){return i.a.createURIArray(e)})},OntoLexLemonServices.prototype.deleteLexicon=function(e){var t=this,n={lexicon:e};return this.httpMgr.doPost(this.serviceName,"deleteLexicon",n).map(function(n){return t.eventHandler.lexiconDeletedEvent.emit(e),n})},OntoLexLemonServices.prototype.getLexiconLanguage=function(e,t){var n={lexicon:e};return this.httpMgr.doGet(this.serviceName,"getLexiconLanguage",n,t)},OntoLexLemonServices.prototype.createLexicalEntry=function(e,t,n,r,o){var a=this,l={canonicalForm:e,lexicon:t};return null!=n&&(l.newLexicalEntry=n),null!=r&&(l.lexicalEntryCls=r),null!=o&&(l.customFormValue=o),this.httpMgr.doPost(this.serviceName,"createLexicalEntry",l).map(function(e){return i.a.createURI(e)}).flatMap(function(e){return a.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(s.a.NEW,!0),a.eventHandler.lexicalEntryCreatedEvent.emit({entry:e,lexicon:t}),e})})},OntoLexLemonServices.prototype.getLexicalEntriesByAlphabeticIndex=function(e,t,n){var r={index:e,lexicon:t};return this.httpMgr.doGet(this.serviceName,"getLexicalEntriesByAlphabeticIndex",r,n).map(function(e){return i.a.createURIArray(e)})},OntoLexLemonServices.prototype.countLexicalEntriesByAlphabeticIndex=function(e,t,n){var r={index:e,lexicon:t};return this.httpMgr.doGet(this.serviceName,"countLexicalEntriesByAlphabeticIndex",r,n)},OntoLexLemonServices.prototype.getLexicalEntryLexicons=function(e,t){var n={lexicalEntry:e};return this.httpMgr.doGet(this.serviceName,"getLexicalEntryLexicons",n,t).map(function(e){return i.a.createURIArray(e)})},OntoLexLemonServices.prototype.getLexicalEntrySenses=function(e){var t={lexicalEntry:e};return this.httpMgr.doGet(this.serviceName,"getLexicalEntrySenses",t).map(function(e){return i.a.createURIArray(e)})},OntoLexLemonServices.prototype.getLexicalEntryIndex=function(e,t){var n={lexicalEntry:e};return this.httpMgr.doGet(this.serviceName,"getLexicalEntryIndex",n,t)},OntoLexLemonServices.prototype.getLexicalEntryLanguage=function(e){var t={lexicalEntry:e};return this.httpMgr.doGet(this.serviceName,"getLexicalEntryLanguage",t)},OntoLexLemonServices.prototype.setLexicalEntryConstituents=function(e,t,n){var r={lexicalEntry:e,constituentLexicalEntries:t,ordered:n};return this.httpMgr.doPost(this.serviceName,"setLexicalEntryConstituents",r)},OntoLexLemonServices.prototype.clearLexicalEntryConstituents=function(e){var t={lexicalEntry:e};return this.httpMgr.doPost(this.serviceName,"clearLexicalEntryConstituents",t)},OntoLexLemonServices.prototype.setCanonicalForm=function(e,t,n,r){var o={lexicalEntry:e,writtenRep:t};return null!=n&&(o.newForm=n),null!=r&&(o.customFormValue=r),this.httpMgr.doPost(this.serviceName,"setCanonicalForm",o)},OntoLexLemonServices.prototype.addOtherForm=function(e,t,n,r){var o={lexicalEntry:e,writtenRep:t};return null!=n&&(o.newForm=n),null!=r&&(o.customFormValue=r),this.httpMgr.doPost(this.serviceName,"addOtherForm",o)},OntoLexLemonServices.prototype.getFormLanguage=function(e){var t={form:e};return this.httpMgr.doGet(this.serviceName,"getFormLanguage",t)},OntoLexLemonServices.prototype.removeForm=function(e,t,n){var r={lexicalEntry:e,property:t,form:n};return this.httpMgr.doPost(this.serviceName,"removeForm",r)},OntoLexLemonServices.prototype.deleteLexicalEntry=function(e){var t=this,n={lexicalEntry:e};return this.httpMgr.doPost(this.serviceName,"deleteLexicalEntry",n).map(function(n){return t.eventHandler.lexicalEntryDeletedEvent.emit(e),n})},OntoLexLemonServices.prototype.addLexicalization=function(e,t,n,r,o,i){var a={lexicalEntry:e,reference:t,createPlain:n,createSense:r};return null!=o&&(a.lexicalSenseCls=o),null!=i&&(a.customFormValue=i),this.httpMgr.doPost(this.serviceName,"addLexicalization",a)},OntoLexLemonServices.prototype.removePlainLexicalization=function(e,t){var n={lexicalEntry:e,reference:t};return this.httpMgr.doPost(this.serviceName,"removePlainLexicalization",n)},OntoLexLemonServices.prototype.removeReifiedLexicalization=function(e,t){var n={lexicalSense:e,removePlain:t};return this.httpMgr.doPost(this.serviceName,"removeReifiedLexicalization",n)},OntoLexLemonServices.prototype.addFormRepresentation=function(e,t,n){var r={form:e,representation:t,property:n};return this.httpMgr.doPost(this.serviceName,"addFormRepresentation",r)},OntoLexLemonServices.prototype.removeFormRepresentation=function(e,t,n){var r={form:e,representation:t,property:n};return this.httpMgr.doPost(this.serviceName,"removeFormRepresentation",r)},OntoLexLemonServices.prototype.addSubterm=function(e,t,n){var r={lexicalEntry:e,sublexicalEntry:t};return null!=n&&(r.property=n),this.httpMgr.doPost(this.serviceName,"addSubterm",r)},OntoLexLemonServices.prototype.removeSubterm=function(e,t,n){var r={lexicalEntry:e,sublexicalEntry:t};return null!=n&&(r.property=n),this.httpMgr.doPost(this.serviceName,"removeSubterm",r)},OntoLexLemonServices=c([n.i(r.g)(),p("design:paramtypes",[o.a,a.a,l.a])],OntoLexLemonServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(36),i=n(8),a=n(6),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function PreferencesSettingsServices(e){this.httpMgr=e,this.serviceName="PreferencesSettings"}return PreferencesSettingsServices.prototype.setActiveSchemes=function(e,t){var n={};return null!=e&&(n.schemes=e),this.httpMgr.doPost(this.serviceName,"setActiveSchemes",n,t)},PreferencesSettingsServices.prototype.getActiveSchemes=function(e){var t={projectName:e};return this.httpMgr.doGet(this.serviceName,"getActiveSchemes",t).map(function(e){return null==e?null:o.a.createURIArray(e)})},PreferencesSettingsServices.prototype.getPUSettings=function(e,t,n){var r={properties:e,projectName:null!=t?t.getName():a.a.getWorkingProject().getName(),pluginID:n};return this.httpMgr.doGet(this.serviceName,"getPUSettings",r)},PreferencesSettingsServices.prototype.setPUSetting=function(e,t,n,r){var o={property:e,value:t,projectName:null!=n?n.getName():a.a.getWorkingProject().getName(),pluginID:r};return this.httpMgr.doPost(this.serviceName,"setPUSetting",o)},PreferencesSettingsServices.prototype.getPUSettingsOfUser=function(e,t,n,r,o){var i={properties:e,projectName:null!=n?n.getName():a.a.getWorkingProject().getName(),email:t.getEmail(),pluginID:r};return this.httpMgr.doGet(this.serviceName,"getPUSettingsOfUser",i,o)},PreferencesSettingsServices.prototype.setPUSettingOfUser=function(e,t,n,r,o,i){var s={property:e,value:n,projectName:null!=r?r.getName():a.a.getWorkingProject().getName(),email:t.getEmail(),pluginID:o};return this.httpMgr.doPost(this.serviceName,"setPUSettingOfUser",s,i)},PreferencesSettingsServices.prototype.getPGSettings=function(e,t,n,r){var o={properties:e,groupIri:t};return null!=n&&(o.projectName=n.getName()),null!=r&&(o.pluginID=r),this.httpMgr.doGet(this.serviceName,"getPGSettings",o)},PreferencesSettingsServices.prototype.setPGSetting=function(e,t,n,r,o){var i={property:e,groupIri:t};return null!=n&&(i.value=n),null!=r&&(i.projectName=r.getName()),null!=o&&(i.pluginID=o),this.httpMgr.doPost(this.serviceName,"setPGSetting",i)},PreferencesSettingsServices.prototype.getProjectSettings=function(e,t){var n={properties:e};return null!=t&&(n.projectName=t.getName()),this.httpMgr.doGet(this.serviceName,"getProjectSettings",n)},PreferencesSettingsServices.prototype.setProjectSetting=function(e,t,n){var r={property:e};return null!=t&&(r.value=t),null!=n&&(r.projectName=n.getName()),this.httpMgr.doPost(this.serviceName,"setProjectSetting",r)},PreferencesSettingsServices.prototype.getPUSettingsUserDefault=function(e,t,n){var r={properties:e,email:t,pluginID:n};return this.httpMgr.doGet(this.serviceName,"getPUSettingsUserDefault",r)},PreferencesSettingsServices.prototype.setPUSettingUserDefault=function(e,t,n,r){var o={property:e,email:t,value:n,pluginID:r};return this.httpMgr.doPost(this.serviceName,"setPUSettingUserDefault",o)},PreferencesSettingsServices.prototype.getPUSettingsProjectDefault=function(e,t,n){var r={properties:e,project:t.getName(),pluginID:n};return this.httpMgr.doGet(this.serviceName,"getPUSettingsProjectDefault",r)},PreferencesSettingsServices.prototype.setPUSettingProjectDefault=function(e,t,n,r){var o={property:e,project:t.getName(),value:n,pluginID:r};return this.httpMgr.doPost(this.serviceName,"setPUSettingProjectDefault",o)},PreferencesSettingsServices.prototype.getDefaultProjectSettings=function(e){var t={properties:e};return this.httpMgr.doGet(this.serviceName,"getDefaultProjectSettings",t)},PreferencesSettingsServices.prototype.getStartupSystemSettings=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getStartupSystemSettings",e)},PreferencesSettingsServices.prototype.setSystemSetting=function(e,t){var n={property:e};return null!=t&&(n.value=t),this.httpMgr.doPost(this.serviceName,"setSystemSetting",n)},PreferencesSettingsServices.prototype.getSystemSettings=function(e){var t={properties:e};return this.httpMgr.doGet(this.serviceName,"getSystemSettings",t)},PreferencesSettingsServices=s([n.i(r.g)(),l("design:paramtypes",[i.a])],PreferencesSettingsServices)}()},function(e,t,n){"use strict";function newInterval(e,t,n,i){function interval(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return interval.floor=function(t){return e(t=new Date(+t)),t},interval.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},interval.round=function(e){var t=interval(e),n=interval.ceil(e);return e-t<n-e?t:n},interval.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},interval.range=function(n,r,o){var i,a=[];if(n=interval.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do{a.push(i=new Date(+n)),t(n,o),e(n)}while(i<n&&n<r);return a},interval.filter=function(n){return newInterval(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(interval.count=function(t,i){return r.setTime(+t),o.setTime(+i),e(r),e(o),Math.floor(n(r,o))},interval.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?interval.filter(i?function(t){return i(t)%e==0}:function(t){return interval.count(0,t)%e==0}):interval:null}),interval}t.a=newInterval;var r=new Date,o=new Date},,,function(e,t,n){"use strict";function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}t.b=initRange,t.a=initInterpolator},function(e,t,n){"use strict";n.d(t,"i",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return c});var r,o=n(10),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=(function(){function PrefixMapping(){this.explicit=!0}}(),function(){function OntologyImport(){}return OntologyImport}());!function(e){e.OK="OK",e.FAILED="FAILED",e.STAGED_ADDITION="STAGED_ADDITION",e.STAGED_REMOVAL="STAGED_REMOVAL",e.LOOP="LOOP"}(r||(r={}));var s;!function(e){e.fromWeb="fromWeb",e.fromWebToMirror="fromWebToMirror",e.fromLocalFile="fromLocalFile",e.fromOntologyMirror="fromOntologyMirror",e.toOntologyMirror="toOntologyMirror"}(s||(s={}));var l;!function(e){e.web="web",e.webFallbackToMirror="webFallbackToMirror",e.mirrorFallbackToWeb="mirrorFallbackToWeb",e.mirror="mirror",e.nowhere="nowhere"}(l||(l={}));var c,p=function(){function DatasetMetadata(){}return DatasetMetadata.deserialize=function(e){var t=u.deserialize(e.sparqlEndpointMetadata);return{identity:e.identity,uriSpace:e.uriSpace,title:e.title,dereferenciationSystem:e.dereferenciationSystem,sparqlEndpointMetadata:t,versionInfo:e.versionInfo}},DatasetMetadata}(),d=function(){function CatalogRecord(){}return CatalogRecord.deserialize=function(e){var t;if(e.versions){t=[];for(var n=0;n<e.versions.length;n++)t.push(p.deserialize(e.versions[n]))}return{identity:e.identity,issued:e.issued,modified:e.modified,abstractDataset:p.deserialize(e.abstractDataset),versions:t}},CatalogRecord}(),u=function(){function SparqlEndpointMetadata(){}return SparqlEndpointMetadata.deserialize=function(e){return e?{id:o.a.parseURI(e["@id"]).getURI(),limitations:e.limitations}:{id:null,limitations:null}},SparqlEndpointMetadata}(),f=function(){function LexicalizationSetMetadata(){}return LexicalizationSetMetadata}(),h=(function(){function ConnectorsID(){}ConnectorsID.LOVConnector_ID="it.uniroma2.art.semanticturkey.extension.impl.metadatarepository.lov.LOVConnector",ConnectorsID.LODCloudConnector_ID="it.uniroma2.art.semanticturkey.extension.impl.metadatarepository.lodcloud.LODCloudConnector"}(),function(){function AbstractDataset(e){this.id=e}return AbstractDataset.prototype.getPreferredTitle=function(){return null==this.prefTitle&&(this.prefTitle=b.computePreferredTitle(this)),this.prefTitle},AbstractDataset.prototype.getPreferredDescription=function(){return null==this.prefDescription&&(this.prefDescription=b.computePreferredDescription(this)),this.prefDescription},AbstractDataset}()),g=function(e){function DatasetDescription(){return null!==e&&e.apply(this,arguments)||this}return i(DatasetDescription,e),DatasetDescription}(h),m=function(){function DownloadDescription(e){this.accessURL=e}return DownloadDescription.prototype.getPreferredTitle=function(){return null==this.prefTitle&&(this.prefTitle=b.computePreferredTitle(this)),this.prefTitle},DownloadDescription.prototype.getPreferredDescription=function(){return null==this.prefDescription&&(this.prefDescription=b.computePreferredDescription(this)),this.prefDescription},DownloadDescription.deserialize=function(e){var t=[];null!=e.titles&&e.titles.forEach(function(e){t.push(o.a.parseLiteral(e))});var n=[];null!=e.descriptions&&e.descriptions.forEach(function(e){n.push(o.a.parseLiteral(e))});var r=new DownloadDescription(e.accessURL);return r.mimeType=e.mimeType,r.titles=t,r.descriptions=n,r},DownloadDescription}(),v=function(e){function DatasetSearchResult(){return null!==e&&e.apply(this,arguments)||this}return i(DatasetSearchResult,e),DatasetSearchResult}(h);(function(){function SearchResultsPage(){}})(),function(){function DatasetSearchFacets(){}}(),function(){function FacetAggregation(){}}();!function(e){e[e.disabled=0]="disabled",e[e.single=1]="single",e[e.multiple=2]="multiple"}(c||(c={}));var b=(function(){function Bucket(){}}(),function(){function DescriptionHelper(){}return DescriptionHelper.computePreferredTitle=function(e){var t=e.titles[0];if(e.titles.length>1)e:for(var n=0;n<navigator.languages.length;n++)for(var r=0;r<e.titles.length;r++)if(e.titles[r].getLang()==navigator.languages[n]){t=e.titles[r];break e}return t},DescriptionHelper.computePreferredDescription=function(e){var t=e.descriptions[0];if(e.descriptions.length>1)e:for(var n=0;n<navigator.languages.length;n++)for(var r=0;r<e.descriptions.length;r++)if(e.descriptions[r].getLang()==navigator.languages[n]){t=e.descriptions[r];break e}return t},DescriptionHelper}())},,function(e,t,n){"use strict";function init(e,t){var n=get(e,t);if(n.state>s)throw new Error("too late; already scheduled");return n}function set(e,t){var n=get(e,t);if(n.state>p)throw new Error("too late; already running");return n}function get(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function create(e,t,r){function schedule(e){r.state=l,r.timer.restart(start,r.delay,r.time),r.delay<=e&&start(e-r.delay)}function start(s){var u,h,g,m;if(r.state!==l)return stop();for(u in a)if(m=a[u],m.name===r.name){if(m.state===p)return n.i(o.b)(start);m.state===d?(m.state=f,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete a[u]):+u<t&&(m.state=f,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete a[u])}if(n.i(o.b)(function(){r.state===p&&(r.state=d,r.timer.restart(tick,r.delay,r.time),tick(s))}),r.state=c,r.on.call("start",e,e.__data__,r.index,r.group),r.state===c){for(r.state=p,i=new Array(g=r.tween.length),u=0,h=-1;u<g;++u)(m=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=m);i.length=h+1}}function tick(t){for(var n=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(stop),r.state=u,1),o=-1,a=i.length;++o<a;)i[o].call(e,n);r.state===u&&(r.on.call("end",e,e.__data__,r.index,r.group),stop())}function stop(){r.state=f,r.timer.stop(),delete a[t];for(var n in a)return;delete e.__transition}var i,a=e.__transition;a[t]=r,r.timer=n.i(o.a)(schedule,0,r.time)}n.d(t,"d",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return f}),t.g=init,t.e=set,t.f=get;var r=n(171),o=n(270),i=n.i(r.a)("start","end","cancel","interrupt"),a=[],s=0,l=1,c=2,p=3,d=4,u=5,f=6;t.h=function(e,t,n,r,o,l){var c=e.__transition;if(c){if(n in c)return}else e.__transition={};create(e,n,{name:t,index:r,group:o,on:i,tween:a,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:s})}},,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return r}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return d});var r,o=n(3),i=function(){function User(e,t,n,r){this.admin=!1,this.online=!1,this.email=e,this.givenName=t,this.familyName=n,this.iri=r}return User.prototype.getEmail=function(){return this.email},User.prototype.getGivenName=function(){return this.givenName},User.prototype.getFamilyName=function(){return this.familyName},User.prototype.getIri=function(){return this.iri},User.prototype.setPhone=function(e){this.phone=e},User.prototype.getPhone=function(){return this.phone},User.prototype.setAddress=function(e){this.address=e},User.prototype.getAddress=function(){return this.address},User.prototype.setRegistrationDate=function(e){this.registrationDate=e},User.prototype.getRegistrationDate=function(){return this.registrationDate},User.prototype.setAffiliation=function(e){this.affiliation=e},User.prototype.getAffiliation=function(){return this.affiliation},User.prototype.setUrl=function(e){this.url=e},User.prototype.getUrl=function(){return this.url},User.prototype.setAvatarUrl=function(e){this.avatarUrl=e},User.prototype.getAvatarUrl=function(){return this.avatarUrl},User.prototype.setLanguageProficiencies=function(e){this.languageProficiencies=e},User.prototype.getLanguageProficiencies=function(){return this.languageProficiencies},User.prototype.setStatus=function(e){this.status=e},User.prototype.getStatus=function(){return this.status},User.prototype.setAdmin=function(e){this.admin=e},User.prototype.isAdmin=function(){return this.admin},User.prototype.setOnline=function(e){this.online=e},User.prototype.isOnline=function(){return this.online},User.prototype.getShow=function(){return this.givenName+" "+this.familyName},User.prototype.setCustomProperties=function(e){this.customProperties=e},User.prototype.getCustomProperties=function(){return this.customProperties},User.prototype.getCustomPropertyValue=function(e){return this.customProperties[e]},User}(),a=function(){function ProjectUserBinding(e,t,n,r,o,i){this.roles=[],this.languages=[],this.projectName=e,this.userEmail=t,void 0!=n&&(this.roles=n),this.group=r,this.groupLimitations=o,void 0!=i&&(this.languages=i)}return ProjectUserBinding.prototype.setProjectName=function(e){this.projectName=e},ProjectUserBinding.prototype.getProjectName=function(){return this.projectName},ProjectUserBinding.prototype.setUserEmail=function(e){this.userEmail=e},ProjectUserBinding.prototype.getUserEmail=function(){return this.userEmail},ProjectUserBinding.prototype.setRoles=function(e){this.roles=e},ProjectUserBinding.prototype.getRoles=function(){return this.roles},ProjectUserBinding.prototype.addRole=function(e){this.roles.push(e)},ProjectUserBinding.prototype.removeRole=function(e){this.roles.splice(this.roles.indexOf(e),1)},ProjectUserBinding.prototype.setGroup=function(e){this.group=e},ProjectUserBinding.prototype.getGroup=function(){return this.group},ProjectUserBinding.prototype.removeGroup=function(){this.group=null},ProjectUserBinding.prototype.setGroupLimitations=function(e){this.groupLimitations=e},ProjectUserBinding.prototype.isSubjectToGroupLimitations=function(){return this.groupLimitations},ProjectUserBinding.prototype.setLanguages=function(e){this.languages=e},ProjectUserBinding.prototype.getLanguages=function(){return this.languages},ProjectUserBinding.prototype.addLanguage=function(e){this.languages.push(e)},ProjectUserBinding.prototype.removeLanguage=function(e){this.languages.splice(this.languages.indexOf(e),1)},ProjectUserBinding}(),s=function(){function Role(e,t){this.name=e,this.level=t}return Role.prototype.setName=function(e){this.name=e},Role.prototype.getName=function(){return this.name},Role.prototype.setLevel=function(e){this.level=e},Role.prototype.getLevel=function(){return this.level},Role}(),l=function(){function UsersGroup(e,t,n,r,o,i){this.iri=e,this.shortName=t,this.fullName=n,this.description=r,this.webPage=o,this.logoUrl=i}return UsersGroup.deserialize=function(e){return new UsersGroup(new o.b(e.iri),e.shortName,e.fullName,e.description,e.webPage,e.logoUrl)},UsersGroup.isIriValid=function(e){return UsersGroup.iriRegexp.test(e)},UsersGroup.iriRegexp=new RegExp("\\b(https?|ftp|file)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]"),UsersGroup}();!function(){function ProjectGroupBinding(){}}();!function(e){e.NEW="NEW",e.INACTIVE="INACTIVE",e.ACTIVE="ACTIVE"}(r||(r={}));var c;!function(e){e.system="system",e.project="project"}(c||(c={}));var p=function(){function UserForm(){this.customProperties={}}return UserForm.isValidEmail=function(e){return UserForm.emailRegexp.test(e)},UserForm.isIriValid=function(e){return UserForm.iriRegexp.test(e)},UserForm.emailRegexp=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,UserForm.iriRegexp=new RegExp("\\b(https?|ftp|file)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]"),UserForm.standardFields=["E-mail","Password","Confirm password","Given name","Family name","Phone","Office address","Affiliation","Personal URL","User IRI","Avatar URL","Language proficiencies"],UserForm}(),d=(function(){function UserFormCustomField(){}}(),function(){function UserFormOptionalField(){}return UserFormOptionalField.getOptionalFieldLabel=function(e){return UserFormOptionalField.fieldLabelMap.find(function(t){return t.iri==e.iri}).label},UserFormOptionalField.ADDRESS_IRI="http://semanticturkey.uniroma2.it/puvoc#address",UserFormOptionalField.PHONE_IRI="http://xmlns.com/foaf/0.1/phone",UserFormOptionalField.AFFILIATION_IRI="http://www.w3.org/ns/org#memberOf",UserFormOptionalField.URL_IRI="http://semanticturkey.uniroma2.it/puvoc#url",UserFormOptionalField.fieldLabelMap=[{iri:UserFormOptionalField.ADDRESS_IRI,label:"Office address"},{iri:UserFormOptionalField.PHONE_IRI,label:"Phone"},{iri:UserFormOptionalField.AFFILIATION_IRI,label:"Affiliation"},{iri:UserFormOptionalField.URL_IRI,label:"Personal URL"}],UserFormOptionalField}());!function(){function UserFormFields(){}}()},,,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(80),i=n(8),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function AdministrationServices(e){this.httpMgr=e,this.serviceName="Administration"}return AdministrationServices.prototype.getAdministrationConfig=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getAdministrationConfig",e)},AdministrationServices.prototype.setAdministrator=function(e){var t={email:e};return this.httpMgr.doPost(this.serviceName,"setAdministrator",t)},AdministrationServices.prototype.removeAdministrator=function(e){var t={email:e};return this.httpMgr.doPost(this.serviceName,"removeAdministrator",t)},AdministrationServices.prototype.updateEmailConfig=function(e,t,n,r,o,i,a,s){var l={mailSmtpHost:e,mailSmtpPort:t,mailSmtpAuth:n,mailSmtpSsl:r,mailSmtpTls:o,mailFromAddress:i,mailFromAlias:a};return null!=s&&(l.mailFromPassword=s),this.httpMgr.doPost(this.serviceName,"updateEmailConfig",l)},AdministrationServices.prototype.testEmailConfig=function(e){var t={mailTo:e};return this.httpMgr.doGet(this.serviceName,"testEmailConfig",t)},AdministrationServices.prototype.getProjectUserBinding=function(e,t){var n={projectName:e,email:t};return this.httpMgr.doGet(this.serviceName,"getProjectUserBinding",n).map(function(e){var t;return null!=e.group&&(t=o.b.deserialize(e.group)),new o.c(e.projectName,e.userEmail,e.roles,t,e.groupLimitations,e.languages)})},AdministrationServices.prototype.addRolesToUser=function(e,t,n){var r={projectName:e,email:t,roles:n};return this.httpMgr.doPost(this.serviceName,"addRolesToUser",r)},AdministrationServices.prototype.removeRoleFromUser=function(e,t,n){var r={projectName:e,email:t,role:n};return this.httpMgr.doPost(this.serviceName,"removeRoleFromUser",r)},AdministrationServices.prototype.removeUserFromProject=function(e,t){var n={projectName:e,email:t};return this.httpMgr.doPost(this.serviceName,"removeUserFromProject",n)},AdministrationServices.prototype.updateLanguagesOfUserInProject=function(e,t,n){var r={projectName:e,email:t,languages:n};return this.httpMgr.doPost(this.serviceName,"updateLanguagesOfUserInProject",r)},AdministrationServices.prototype.listRoles=function(e){var t={};return null!=e&&(t.projectName=e.getName()),this.httpMgr.doGet(this.serviceName,"listRoles",t).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=new o.d(r.name,r.level);t.push(i)}return t.sort(function(e,t){return e.getName().localeCompare(t.getName())}),t})},AdministrationServices.prototype.createRole=function(e){var t={roleName:e};return this.httpMgr.doPost(this.serviceName,"createRole",t)},AdministrationServices.prototype.cloneRole=function(e,t){var n={sourceRoleName:e,targetRoleName:t};return this.httpMgr.doPost(this.serviceName,"cloneRole",n)},AdministrationServices.prototype.deleteRole=function(e){var t={roleName:e};return this.httpMgr.doPost(this.serviceName,"deleteRole",t)},AdministrationServices.prototype.exportRole=function(e){var t={roleName:e};return this.httpMgr.downloadFile(this.serviceName,"exportRole",t)},AdministrationServices.prototype.importRole=function(e,t){var n={inputFile:e};return null!=t&&(n.newRoleName=t),this.httpMgr.uploadFile(this.serviceName,"importRole",n)},AdministrationServices.prototype.listCapabilities=function(e,t){var n={role:e.getName()};return null!=t&&(n.projectName=t.getName()),this.httpMgr.doGet(this.serviceName,"listCapabilities",n)},AdministrationServices.prototype.addCapabilityToRole=function(e,t){var n={role:e,capability:t};return this.httpMgr.doPost(this.serviceName,"addCapabilityToRole",n)},AdministrationServices.prototype.removeCapabilityFromRole=function(e,t){var n={role:e,capability:t};return this.httpMgr.doPost(this.serviceName,"removeCapabilityFromRole",n)},AdministrationServices.prototype.updateCapabilityForRole=function(e,t,n){var r={role:e,oldCapability:t,newCapability:n};return this.httpMgr.doPost(this.serviceName,"updateCapabilityForRole",r)},AdministrationServices.prototype.clonePUBinding=function(e,t,n,r){var o={sourceUserIri:e,sourceProjectName:t,targetUserIri:n,targetProjectName:r};return this.httpMgr.doPost(this.serviceName,"clonePUBinding",o)},AdministrationServices.prototype.downloadPrivacyStatement=function(){return this.httpMgr.downloadFile(this.serviceName,"downloadPrivacyStatement",{}).map(function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="privacy_statement.pdf",document.body.appendChild(n),n.click(),n.remove()})},AdministrationServices.prototype.setDataDir=function(e){var t={path:e};return this.httpMgr.doPost(this.serviceName,"setDataDir",t)},AdministrationServices.prototype.setPreloadProfilerThreshold=function(e){var t={threshold:e};return this.httpMgr.doPost(this.serviceName,"setPreloadProfilerThreshold",t)},AdministrationServices=a([n.i(r.g)(),s("design:paramtypes",[i.a])],AdministrationServices)}()},,,function(e,t,n){"use strict";var r=n(336);n.d(t,"a",function(){return r.a}),n.d(t,"f",function(){return r.h}),n.d(t,"e",function(){return r.g});var o=n(1304);n.d(t,"d",function(){return o.b}),n.d(t,"c",function(){return o.a});var i=n(1303);n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";function transformRotate(e){return n.i(p.a)({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function scaleTranslate(e,t,n,r,o){function transform(i,a){return i*=r,a*=o,[t+e*i,n-e*a]}return transform.invert=function(i,a){return[(i-t)/e*r,(n-a)/e*o]},transform}function scaleTranslateRotate(e,t,r,o,i,a){function transform(e,n){return e*=o,n*=i,[p*e-d*n+t,r-d*e-p*n]}var s=n.i(l.d)(a),c=n.i(l.e)(a),p=s*e,d=c*e,u=s/e,f=c/e,h=(c*r-s*t)/e,g=(c*t+s*r)/e;return transform.invert=function(e,t){return[o*(u*e-f*t+h),i*(g-f*e-u*t)]},transform}function projection(e){return projectionMutator(function(){return e})()}function projectionMutator(e){function projection(e){return y(e[0]*l.h,e[1]*l.h)}function invert(e){return(e=y.invert(e[0],e[1]))&&[e[0]*l.i,e[1]*l.i]}function recenter(){var e=scaleTranslateRotate(R,0,0,M,k,L).apply(null,t(E,w)),r=(L?scaleTranslateRotate:scaleTranslate)(R,S-e[0],P-e[1],M,k,L);return p=n.i(c.b)(I,A,_),b=n.i(a.a)(t,r),y=n.i(a.a)(p,b),v=n.i(u.a)(b,j),reset()}function reset(){return x=C=null,projection}var t,p,h,g,m,v,b,y,x,C,R=150,S=480,P=250,E=0,w=0,I=0,A=0,_=0,L=0,M=1,k=1,O=null,N=r.a,T=null,D=s.a,j=.5;return projection.stream=function(e){return x&&C===e?x:x=f(transformRotate(p)(N(v(D(C=e)))))},projection.preclip=function(e){return arguments.length?(N=e,O=void 0,reset()):N},projection.postclip=function(e){return arguments.length?(D=e,T=h=g=m=null,reset()):D},projection.clipAngle=function(e){return arguments.length?(N=+e?n.i(o.a)(O=e*l.h):(O=null,r.a),reset()):O*l.i},projection.clipExtent=function(e){return arguments.length?(D=null==e?(T=h=g=m=null,s.a):n.i(i.a)(T=+e[0][0],h=+e[0][1],g=+e[1][0],m=+e[1][1]),reset()):null==T?null:[[T,h],[g,m]]},projection.scale=function(e){return arguments.length?(R=+e,recenter()):R},projection.translate=function(e){return arguments.length?(S=+e[0],P=+e[1],recenter()):[S,P]},projection.center=function(e){return arguments.length?(E=e[0]%360*l.h,w=e[1]%360*l.h,recenter()):[E*l.i,w*l.i]},projection.rotate=function(e){return arguments.length?(I=e[0]%360*l.h,A=e[1]%360*l.h,_=e.length>2?e[2]%360*l.h:0,recenter()):[I*l.i,A*l.i,_*l.i]},projection.angle=function(e){return arguments.length?(L=e%360*l.h,recenter()):L*l.i},projection.reflectX=function(e){return arguments.length?(M=e?-1:1,recenter()):M<0},projection.reflectY=function(e){return arguments.length?(k=e?-1:1,recenter()):k<0},projection.precision=function(e){return arguments.length?(v=n.i(u.a)(b,j=e*e),reset()):n.i(l.o)(j)},projection.fitExtent=function(e,t){return n.i(d.a)(projection,e,t)},projection.fitSize=function(e,t){return n.i(d.b)(projection,e,t)},projection.fitWidth=function(e,t){return n.i(d.c)(projection,e,t)},projection.fitHeight=function(e,t){return n.i(d.d)(projection,e,t)},function(){return t=e.apply(this,arguments),projection.invert=t.invert&&invert,recenter()}}t.a=projection,t.b=projectionMutator;var r=n(729),o=n(731),i=n(258),a=n(734),s=n(343),l=n(26),c=n(259),p=n(260),d=n(346),u=n(1380),f=n.i(p.a)({point:function(e,t){this.stream.point(e*l.h,t*l.h)}})},function(e,t,n){"use strict";function Selection(e,t){this._groups=e,this._parents=t}function selection(){return new Selection([[document.documentElement]],N)}n.d(t,"b",function(){return N}),t.a=Selection;var r=n(1526),o=n(1527),i=n(1514),a=n(1508),s=n(763),l=n(1513),c=n(1517),p=n(1519),d=n(1522),u=n(1529),f=n(1505),h=n(1521),g=n(1520),m=n(1528),v=n(1512),b=n(1511),y=n(1504),x=n(765),C=n(1523),R=n(1506),S=n(1530),P=n(1515),E=n(1524),w=n(1518),I=n(1503),A=n(1516),_=n(1525),L=n(1507),M=n(1509),k=n(361),O=n(1510),N=[null];Selection.prototype=selection.prototype={constructor:Selection,select:r.a,selectAll:o.a,filter:i.a,data:a.a,enter:s.a,exit:l.a,join:c.a,merge:p.a,order:d.a,sort:u.a,call:f.a,nodes:h.a,node:g.a,size:m.a,empty:v.a,each:b.a,attr:y.a,style:x.a,property:C.a,classed:R.a,text:S.a,html:P.a,raise:E.a,lower:w.a,append:I.a,insert:A.a,remove:_.a,clone:L.a,datum:M.a,on:k.c,dispatch:O.a},t.c=selection},function(e,t,n){e.exports=n.p+"assets/images/property_create.png"},,function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return r});var r,o=n(0),i=n(134),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function AbstractGraph(e,t,n,r){this.d3Service=e,this.elementRef=t,this.ref=n,this.basicModals=r,this.elementSelected=new o.i,this.initialized=!1,this.options=new i.a(800,400)}return AbstractGraph.prototype.ngAfterViewInit=function(){var e=this;this.options.width=this.elementRef.nativeElement.offsetWidth,this.options.height=this.elementRef.nativeElement.offsetHeight,this.graph.ticker.subscribe(function(t){e.ref.markForCheck()}),this.graph.initSimulation(this.options),this.initialized=!0},AbstractGraph.prototype.onNodeClicked=function(e){e==this.selectedElement?this.selectedElement=null:this.selectedElement=e,this.linkAhead=null,this.elementSelected.emit(this.selectedElement)},AbstractGraph.prototype.onLinkClicked=function(e){e==this.selectedElement?this.selectedElement=null:this.selectedElement=e,this.linkAhead=this.selectedElement,this.elementSelected.emit(this.selectedElement)},AbstractGraph.prototype.onBackgroundClicked=function(){this.selectedElement=null,this.linkAhead=null,this.elementSelected.emit(this.selectedElement)},AbstractGraph.prototype.updateForces=function(e){this.graph.options.forces=e,this.graph.updateForces()},AbstractGraph.prototype.getExportUrl=function(){var e=this.svgElement.nativeElement,t=e.cloneNode(!0);c.processDom(t,e);var n=new XMLSerializer,r=n.serializeToString(t);return r='<?xml version="1.0" standalone="no"?>\r\n'+r,r=r.replace(/<!--[\s\S]*?-->/g,""),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)},a([n.i(o.r)(),s("design:type",i.b)],AbstractGraph.prototype,"graph",void 0),a([n.i(o.r)(),s("design:type",Boolean)],AbstractGraph.prototype,"rendering",void 0),a([n.i(o._7)(),s("design:type",Object)],AbstractGraph.prototype,"elementSelected",void 0),a([n.i(o.F)("svg"),s("design:type",o.e)],AbstractGraph.prototype,"svgElement",void 0),a([n.i(o.F)("blockingDiv"),s("design:type",o.e)],AbstractGraph.prototype,"blockingDivElement",void 0),AbstractGraph}();!function(e){e.dataOriented="dataOriented",e.modelOriented="modelOriented",e.umlOriented="umlOriented"}(r||(r={}));var c=function(){function ExportGraphUtils(){}return ExportGraphUtils.processDom=function(e,t){-1!=this.svgElementToProcess.indexOf(e.tagName)&&this.copyStyleAsInline(e,t),this.removeNgAttributes(e);for(var n=e.children,r=t.children,o=0;o<n.length;o++){var i=n.item(o),a=r.item(o);this.processDom(i,a)}},ExportGraphUtils.copyStyleAsInline=function(e,t){var n=getComputedStyle(t);this.relevantStyleForElement[t.tagName].forEach(function(t){var r=n.getPropertyValue(t);r&&(e.style[t]=r)})},ExportGraphUtils.removeNgAttributes=function(e){for(var t=e.attributes,n=t.length-1;n>=0;n--){var r=t.item(n).name;(r.startsWith("_ng")||r.startsWith("ng-"))&&e.removeAttribute(r)}},ExportGraphUtils.svgElementToProcess=["svg","path","rect","circle","stop","text"],ExportGraphUtils.relevantStyleForElement={svg:["background-color","width","height"],path:["fill","stroke","stroke-width"],rect:["fill","stroke","stroke-width"],circle:["fill","stroke","stroke-width"],stop:["stop-color"],text:["font","stroke","stroke-width"]},ExportGraphUtils}()},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var r,o=function(){function Node(e){this.open=!1,this.root=!1,this.fixed=!1,this.res=e}return Node.prototype.getNodeShape=function(){return null==this.shape&&this.initNodeShape(),this.shape},Node.prototype.getNodeMeaseure=function(){return null==this.measures&&this.initNodeMeasure(),this.measures},Node.prototype.getNodeWidth=function(){return this.getNodeShape()==r.circle?2*this.getNodeMeaseure().radius:this.getNodeMeaseure().width},Node.prototype.getNodeHeight=function(){return this.getNodeShape()==r.circle?2*this.getNodeMeaseure().radius:this.getNodeMeaseure().height},Node.prototype.getShow=function(){return this.res.getShow()},Node}();!function(e){e.circle="circle",e.octagon="octagon",e.label="label",e.rect="rect",e.square="square"}(r||(r={}));!function(){function NodeMeasure(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(45),i=n(8),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function ConfigurationsServices(e){this.httpMgr=e,this.serviceName="Configurations"}return ConfigurationsServices.prototype.getConfigurationManager=function(e){var t={componentID:e};return this.httpMgr.doGet(this.serviceName,"getConfigurationManager",t)},ConfigurationsServices.prototype.getConfigurationManagers=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getConfigurationManagers",e)},ConfigurationsServices.prototype.getConfiguration=function(e,t){var n={componentID:e,relativeReference:t};return this.httpMgr.doGet(this.serviceName,"getConfiguration",n).map(function(e){return o.a.parse(e)})},ConfigurationsServices.prototype.getConfigurationReferences=function(e){var t={componentID:e};return this.httpMgr.doGet(this.serviceName,"getConfigurationReferences",t).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push(o.b.deserialize(e[n]));return t})},ConfigurationsServices.prototype.storeConfiguration=function(e,t,n){var r={componentID:e,relativeReference:t,configuration:JSON.stringify(n)};return this.httpMgr.doPost(this.serviceName,"storeConfiguration",r)},ConfigurationsServices.prototype.deleteConfiguration=function(e,t){var n={componentID:e,relativeReference:t};return this.httpMgr.doPost(this.serviceName,"deleteConfiguration",n)},ConfigurationsServices=a([n.i(r.g)(),s("design:paramtypes",[i.a])],ConfigurationsServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(8),i=n(42),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function ExtensionsServices(e){this.httpMgr=e,this.serviceName="Extensions"}return ExtensionsServices.prototype.getExtensionPoints=function(e){var t={};return null!=e&&(t.scopes=e),this.httpMgr.doGet(this.serviceName,"getExtensionPoints",t)},ExtensionsServices.prototype.getExtensionPoint=function(e){var t={identifier:e};return this.httpMgr.doGet(this.serviceName,"getExtensionPoint",t)},ExtensionsServices.prototype.getExtensions=function(e){var t={extensionPointID:e};return this.httpMgr.doGet(this.serviceName,"getExtensions",t).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=void 0,o=e[n].configurations;if(null!=o){for(var a=[],s=0;s<o.length;s++)a.push(i.b.parse(o[s]));r=new i.f(e[n].id,e[n].name,e[n].description,e[n].extensionType,e[n].scope,e[n].configurationScopes,a)}else r=new i.g(e[n].id,e[n].name,e[n].description,e[n].extensionType,e[n].settingsScopes);t.push(r)}return t.sort(function(e,t){return e.name.localeCompare(t.name)}),t})},ExtensionsServices=a([n.i(r.g)(),s("design:paramtypes",[o.a])],ExtensionsServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(0),o=n(3),i=n(47),a=n(24),s=n(11),l=n(234),c=n(28),p=n(106),d=n(160),u=n(121),f=n(70),h=n(23),g=n(12),m=n(33),v=n(111),b=n(8),y=n(10),x=n(15),C=n(2),R=n(14),S=n(25),P=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},E=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=function(){function MultiSubjectEnrichmentHelper(e,t,n,r,o,i,l,c,p,d,u,f,h){var g=this;this.basicModals=e,this.browsingModals=t,this.resViewModals=n,this.creationModals=r,this.clsService=o,this.individualService=i,this.manchService=l,this.ontolexService=c,this.propService=p,this.resourcesService=d,this.skosService=u,this.skosxlService=f,this.eventHandler=h,this.partitionPropertiesMap=[],a.c.orderedResourceViewPartitions.forEach(function(e){var t=a.c.getPartitionKnownProperties(e);e==a.a.lexicalizations&&(t=[s.b.label,s.d.prefLabel,s.d.altLabel,s.d.hiddenLabel,s.e.prefLabel,s.e.altLabel,s.e.hiddenLabel,s.f.isDenotedBy]),g.partitionPropertiesMap.push({partition:e,handledProperties:t})})}return MultiSubjectEnrichmentHelper.prototype.enrichMultiSubject=function(e){var t=this,n=[],r=[];if(e.forEach(function(e){e.getAdditionalProperty(o.a.EXPLICIT)?n.push(e):r.push(e)}),0==n.length)return void this.basicModals.alert("Multivalue addition","All the selected resources are not explicit, so they cannot be edited","warning");r.length>0?this.basicModals.alert("Multivalue addition","Some of the selected resources are not explicit, they cannot be edited, so they will be not affected by the changes:\n"+r.map(function(e){return" - "+e.getShow()}).join("\n"),"warning").then(function(e){t.selectProperty(n)}):this.selectProperty(n)},MultiSubjectEnrichmentHelper.prototype.selectProperty=function(e){var t=this;this.browsingModals.browsePropertyTree("Select a property",null,e[0]).then(function(n){var r;switch(t.partitionPropertiesMap.forEach(function(e){y.a.containsNode(e.handledProperties,n)&&(r=e.partition)}),r){case a.a.broaders:return t.broaderHandler(e,n);case a.a.classaxioms:return t.classAxiomsHandler(e,n);case a.a.constituents:return t.constituentsHandler(e,n);case a.a.denotations:return t.denotationsHandler(e,n);case a.a.disjointProperties:return t.disjointPropertiesHandler(e,n);case a.a.domains:return t.domainsPropertiesHandler(e,n);case a.a.equivalentProperties:return t.equivalentPropertiesHandler(e,n);case a.a.evokedLexicalConcepts:return t.evokedLexicalConceptsHandler(e,n);case a.a.facets:return null;case a.a.formRepresentations:return t.otherPropertiesHandler(e,n);case a.a.imports:return t.unavailableOperation(n);case a.a.labelRelations:return t.labelRelationsHandler(e,n);case a.a.lexicalForms:return t.lexicalFormsHandler(e,n);case a.a.lexicalSenses:return t.lexicalSensesHandler(e,n);case a.a.lexicalizations:return t.lexicalizationsHandler(e,n);case a.a.members:return t.membersHandler(e,n);case a.a.notes:return t.notesHandler(e,n);case a.a.ranges:return t.rangesHandler(e,n);case a.a.schemes:return t.schemesHandler(e,n);case a.a.subPropertyChains:return t.subPropertyChainsHandler(e,n);case a.a.subterms:return t.subtermsHandler(e,n);case a.a.superproperties:return t.superpropertiesHandler(e,n);case a.a.topconceptof:return t.topconceptofHandler(e,n);case a.a.types:return t.typesHandler(e,n);default:return t.otherPropertiesHandler(e,n)}},function(){})},MultiSubjectEnrichmentHelper.prototype.broaderHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a broader",e[0],t,!1,null,!1).then(function(t){var r=t.value[0],o=[];e.forEach(function(e){o.push({function:n.skosService.addBroaderConcept(e,r),subject:e})}),n.addMultiple(o)},function(){})},MultiSubjectEnrichmentHelper.prototype.classAxiomsHandler=function(e,t){var n=this;t.getURI()==s.c.oneOf.getURI()?this.resViewModals.createInstanceList("Add "+t.getShow()).then(function(t){var r=[];e.forEach(function(e){r.push({function:n.clsService.addOneOf(e,t),subject:e})}),n.addMultiple(r)},function(){}):t.getURI()==s.c.intersectionOf.getURI()||t.getURI()==s.c.unionOf.getURI()?this.resViewModals.createClassList("Add "+t.getShow()).then(function(r){var o=[];t.getURI()==s.c.intersectionOf.getURI()?e.forEach(function(e){o.push({function:n.clsService.addIntersectionOf(e,r),subject:e})}):t.getURI()==s.c.unionOf.getURI()&&e.forEach(function(e){o.push({function:n.clsService.addUnionOf(e,r),subject:e})}),n.addMultiple(o)},function(){}):this.resViewModals.addPropertyValue("Add "+t.getShow(),e[0],t,!1,null,!1).then(function(r){var o=[],i=r.value;if("string"==typeof i)e.forEach(function(e){o.push({function:n.manchService.createRestriction(e,t,i),subject:e})});else{var a=r.value[0];t.getURI()==s.b.subClassOf.getURI()?e.forEach(function(e){o.push({function:n.clsService.addSuperCls(e,a),subject:e})}):e.forEach(function(e){o.push({function:n.resourcesService.addValue(e,t,a),subject:e})})}n.addMultiple(o)},function(){})},MultiSubjectEnrichmentHelper.prototype.constituentsHandler=function(e,t){var n=this;this.resViewModals.createConstituentList("Create a constituents list").then(function(t){var r=[];e.forEach(function(e){r.push({function:n.ontolexService.setLexicalEntryConstituents(e,t.list,t.ordered),subject:e})}),n.addMultiple(r)},function(){})},MultiSubjectEnrichmentHelper.prototype.denotationsHandler=function(e,t){var n=this;this.creationModals.newOntoLexicalizationCf("Add a denotation",t,!1).then(function(t){var r=[];e.forEach(function(e){r.push({function:n.ontolexService.addLexicalization(e,t.linkedResource,t.createPlain,t.createSense,t.cls,t.cfValue),subject:e})}),n.addMultiple(r)},function(){})},MultiSubjectEnrichmentHelper.prototype.disjointPropertiesHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a disjoint property",e[0],t,!1,null,!1).then(function(r){var o=r.inverseProperty,i=r.value[0],a=[];e.forEach(function(e){a.push({function:n.propService.addPropertyDisjointWith(e,i,t,o),subject:e})}),n.addMultiple(a)},function(){})},MultiSubjectEnrichmentHelper.prototype.domainsPropertiesHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a domain",e[0],t,!1,null,!1).then(function(r){var o=[],i=r.value;"string"==typeof i?e.forEach(function(e){o.push({function:n.manchService.createRestriction(e,t,i),subject:e})}):e.forEach(function(e){o.push({function:n.propService.addPropertyDomain(e,i),subject:e})}),n.addMultiple(o)},function(){})},MultiSubjectEnrichmentHelper.prototype.equivalentPropertiesHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add an equivalent property",e[0],t,!1,null,!1).then(function(r){var o=r.inverseProperty,i=r.value[0],a=[];e.forEach(function(e){a.push({function:n.propService.addEquivalentProperty(e,i,t,o),subject:e})}),n.addMultiple(a)},function(){})},MultiSubjectEnrichmentHelper.prototype.evokedLexicalConceptsHandler=function(e,t){this.otherPropertiesHandler(e,t)},MultiSubjectEnrichmentHelper.prototype.labelRelationsHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add "+t.getShow(),e[0],t,!1,null,!1).then(function(r){var o=r.value[0],i=[];e.forEach(function(e){i.push({function:n.resourcesService.addValue(e,t,o),subject:e})}),n.addMultiple(i)},function(){})},MultiSubjectEnrichmentHelper.prototype.lexicalFormsHandler=function(e,t){var n=this;this.ontolexService.getLexicalEntryLanguage(e[0]).subscribe(function(r){n.creationModals.newResourceWithLiteralCf("Create "+t.getShow(),s.f.form,!0,"Written rep",r,{constrain:!0,locale:!0}).then(function(r){var o=[];t.getURI()==s.f.canonicalForm.getURI()?e.forEach(function(e){o.push({function:n.ontolexService.setCanonicalForm(e,r.literal,r.uriResource,r.cfValue),subject:e})}):t.getURI()==s.f.otherForm.getURI()&&e.forEach(function(e){o.push({function:n.ontolexService.addOtherForm(e,r.literal,r.uriResource,r.cfValue),subject:e})}),n.addMultiple(o)},function(){})})},MultiSubjectEnrichmentHelper.prototype.lexicalSensesHandler=function(e,t){var n=this;this.creationModals.newOntoLexicalizationCf("Add a lexical sense",t,!1).then(function(t){var r=[];e.forEach(function(e){r.push({function:n.ontolexService.addLexicalization(e,t.linkedResource,t.createPlain,t.createSense,t.cls,t.cfValue),subject:e})}),n.addMultiple(r)},function(){})},MultiSubjectEnrichmentHelper.prototype.lexicalizationsHandler=function(e,t){var n=this;if(t.equals(s.d.prefLabel)||t.equals(s.e.prefLabel))return void this.basicModals.alert("Add "+t.getShow(),"This operation is not allowed for the selected property. Multiple resources cannot have the same "+t.getShow()+".","warning");t.getBaseURI()==s.e.namespace?this.creationModals.newXLabel("Add "+t.getShow()).then(function(r){var o=[];t.equals(s.e.altLabel)?e.forEach(function(e){o.push({function:n.skosxlService.addAltLabel(e,r.labels[0],r.cls),subject:e})}):t.equals(s.e.hiddenLabel)&&e.forEach(function(e){o.push({function:n.skosxlService.addHiddenLabel(e,r.labels[0],r.cls),subject:e})}),n.addMultiple(o)},function(){}):t.getBaseURI()==s.d.namespace?this.creationModals.newPlainLiteral("Add "+t.getShow()).then(function(r){var o=[];t.equals(s.d.altLabel)?e.forEach(function(e){o.push({function:n.skosService.addAltLabel(e,r[0]),subject:e})}):t.equals(s.d.hiddenLabel)&&e.forEach(function(e){o.push({function:n.skosService.addHiddenLabel(e,r[0]),subject:e})}),n.addMultiple(o)},function(){}):t.equals(s.b.label)?this.creationModals.newPlainLiteral("Add "+t.getShow()).then(function(r){var o=[];e.forEach(function(e){o.push({function:n.resourcesService.addValue(e,t,r[0]),subject:e})}),n.addMultiple(o)}):t.equals(s.f.isDenotedBy)&&this.creationModals.newOntoLexicalizationCf("Add a lexical sense",t,!1).then(function(t){var r=[];e.forEach(function(e){r.push({function:n.ontolexService.addLexicalization(t.linkedResource,e,t.createPlain,t.createSense,t.cls,t.cfValue),subject:e})}),n.addMultiple(r)},function(){})},MultiSubjectEnrichmentHelper.prototype.membersHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a member",e[0],t,!1,null,!1).then(function(t){var r=t.value[0],o=[];e.forEach(function(e){o.push({function:n.skosService.addToCollection(e,r),subject:e})}),n.addMultiple(o)})},MultiSubjectEnrichmentHelper.prototype.notesHandler=function(e,t){this.otherPropertiesHandler(e,t)},MultiSubjectEnrichmentHelper.prototype.rangesHandler=function(e,t){for(var n=this,r=0;r<e.length;r++)if(e[r].getRole()!=e[0].getRole())return void this.basicModals.alert("Add range","The addition of the same range to multiple properties is not allowed on properties of different types","warning");this.resViewModals.addPropertyValue("Add a range",e[0],t,!1,null,!1).then(function(r){var i=r.value;if(e[0].getRole()==o.c.datatypeProperty){if(i instanceof Array){var a=[];i[0]instanceof o.f?e.forEach(function(e){a.push({function:n.propService.setDataRange(e,i),subject:e})}):e.forEach(function(e){a.push({function:n.propService.addPropertyRange(e,i[0]),subject:e})}),n.addMultiple(a)}}else{var s=[];"string"==typeof i?e.forEach(function(e){s.push({function:n.manchService.createRestriction(e,t,i),subject:e})}):e.forEach(function(e){s.push({function:n.propService.addPropertyRange(e,i[0]),subject:e})}),n.addMultiple(s)}},function(){})},MultiSubjectEnrichmentHelper.prototype.schemesHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add Concept to a Scheme",e[0],t,!1,null,!1).then(function(t){var r=t.value[0],o=[];e.forEach(function(e){o.push({function:n.skosService.addConceptToScheme(e,r),subject:e})}),n.addMultiple(o)},function(){})},MultiSubjectEnrichmentHelper.prototype.subPropertyChainsHandler=function(e,t){var n=this;this.resViewModals.createPropertyChain("Create a property chain",t,!1).then(function(r){var o=r.chain,i=[];e.forEach(function(e){i.push({function:n.propService.addPropertyChainAxiom(e,o.join(","),t),subject:e})}),n.addMultiple(i)},function(){})},MultiSubjectEnrichmentHelper.prototype.subtermsHandler=function(e,t){var n=this;this.browsingModals.browseLexicalEntryList("Add a subterm",null,!0,!0,!1,!1).then(function(r){var o=[];e.forEach(function(e){o.push({function:n.ontolexService.addSubterm(e,r,t),subject:e})}),n.addMultiple(o)},function(){})},MultiSubjectEnrichmentHelper.prototype.superpropertiesHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a superproperty",e[0],t,!1,null,!1).then(function(r){var o=r.inverseProperty,i=r.value[0],a=[];e.forEach(function(e){a.push({function:n.propService.addSuperProperty(e,i,t,o),subject:e})}),n.addMultiple(a)},function(){})},MultiSubjectEnrichmentHelper.prototype.topconceptofHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Set as top Concept of",e[0],t,!1,null,!1).then(function(t){var r=t.value[0],o=[];e.forEach(function(e){o.push({function:n.skosService.addTopConcept(e,r),subject:e})}),n.addMultiple(o)},function(){})},MultiSubjectEnrichmentHelper.prototype.typesHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a type",e[0],t,!1,null,!1).then(function(t){var r=t.value[0],o=[];e.forEach(function(e){o.push({function:n.individualService.addType(e,r),subject:e})}),n.addMultiple(o)},function(){})},MultiSubjectEnrichmentHelper.prototype.otherPropertiesHandler=function(e,t){var n=this;l.a.getPropertyEnrichmentInfo(t,this.propService,this.basicModals).subscribe(function(r){r.type==l.b.resource?n.enrichWithResource(e,t):r.type==l.b.literal?n.enrichWithTypedLiteral(e,t,r.allowedDatatypes,r.dataRanges):r.type==l.b.customForm&&n.enrichWithCustomForm(e,t,r.form)})},MultiSubjectEnrichmentHelper.prototype.unavailableOperation=function(e){this.basicModals.alert("Unavailable operation","Cannot enrich multiple subject with the same property-value for the predicate "+e.getShow())},MultiSubjectEnrichmentHelper.prototype.enrichWithCustomForm=function(e,t,n){var r=this;this.resViewModals.enrichCustomForm("Add "+t.getShow(),n.getId()).then(function(o){var a=new i.a(n.getId(),o),s=[];e.forEach(function(e){s.push({function:r.resourcesService.addValue(e,t,a),subject:e})}),r.addMultiple(s)},function(){})},MultiSubjectEnrichmentHelper.prototype.enrichWithPlainLiteral=function(e,t){var n=this;this.creationModals.newPlainLiteral("Add "+t.getShow()).then(function(r){var o=[];e.forEach(function(e){o.push({function:n.resourcesService.addValue(e,t,r[0]),subject:e})}),n.addMultiple(o)},function(){})},MultiSubjectEnrichmentHelper.prototype.enrichWithTypedLiteral=function(e,t,n,r){var o=this;this.creationModals.newTypedLiteral("Add "+t.getShow(),t,n,r,!0,!0).then(function(n){var r=[];e.forEach(function(e){r.push({function:o.resourcesService.addValue(e,t,n[0]),subject:e})}),o.addMultiple(r)},function(){})},MultiSubjectEnrichmentHelper.prototype.enrichWithResource=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add "+t.getShow(),e[0],t,!1,null,!1).then(function(r){var o=r.value[0],i=[];e.forEach(function(e){i.push({function:n.resourcesService.addValue(e,t,o),subject:e})}),n.addMultiple(i)},function(){})},MultiSubjectEnrichmentHelper.prototype.addMultiple=function(e,t,n){var r=this;null==n&&(n=[]),b.c.disableErrorInterception(),0==e.length?(n.length>0&&(null!=t?t(n):1==n.length?this.handleSingleMultiAddError(n[0]):this.handleMultipleMultiAddError(n)),b.c.enableErrorInterception()):e[0].function.subscribe(function(o){r.eventHandler.resourceUpdatedEvent.emit(e[0].subject),e.shift(),r.addMultiple(e,t,n)},function(o){n.push({subject:e[0].subject,error:o}),e.shift(),r.addMultiple(e,t,n)})},MultiSubjectEnrichmentHelper.prototype.handleSingleMultiAddError=function(e){var t="The addition for the subject "+e.subject.toNT()+" has failed due to the following reason:\n"+e.error.name+(null!=e.error.message?":\n"+e.error.message:""),n=e.error.stack;this.basicModals.alert("Error",t,"error",n)},MultiSubjectEnrichmentHelper.prototype.handleMultipleMultiAddError=function(e){var t="The addition for the following subject have failed:";e.forEach(function(e){t+="\n\n"+e.subject.toNT()+"\nReason:\n"+e.error.name+(null!=e.error.message?":\n"+e.error.message:"")}),this.basicModals.alert("Error",t,"error")},MultiSubjectEnrichmentHelper=P([n.i(r.g)(),E("design:paramtypes",[C.a,R.a,c.a,S.a,p.a,d.a,u.a,f.a,h.a,g.a,m.a,v.a,x.a])],MultiSubjectEnrichmentHelper)}();(function(){function MultiSubjectAddFunction(){}})(),function(){function MultiSubjectAddError(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function Cookie(){}return Cookie.getCookie=function(e,t){t&&(e+=":"+t);var n=window;e=n.escape(e);var r=new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g"),o=r.exec(document.cookie);return null===o?null:n.unescape(o[1])},Cookie.setCookie=function(e,t,n,r){r&&(e+=":"+r);var o=window,i=o.escape(e)+"="+o.escape(t)+";";n||(n=3650),i+="expires="+new Date((new Date).getTime()+1e3*n*60*60*24).toUTCString()+";",document.cookie=i},Cookie.deleteCookie=function(e,t){Cookie.getCookie(e)&&Cookie.setCookie(e,"",-1,t)},Cookie.RES_VIEW_INCLUDE_INFERENCE="resource_view.include_inference",Cookie.RES_VIEW_RENDERING="resource_view.rendering",Cookie.RES_VIEW_MODE="resource_view.mode",Cookie.RES_VIEW_TAB_SYNCED="resource_view.tab_synced",Cookie.RES_VIEW_DISPLAY_IMG="resource_view.display_img",Cookie.SHOW_DEPRECATED="tree_list.show_deprecated",Cookie.ALIGNMENT_VALIDATION_ALIGNMENT_PER_PAGE="alignment_validation.alignment_per_page",Cookie.ALIGNMENT_VALIDATION_RELATION_SHOW="alignment_validation.relation_show",Cookie.ALIGNMENT_VALIDATION_SHOW_CONFIDENCE="alignment_validation.show_confidence",Cookie.ALIGNMENT_VALIDATION_REJECTED_ALIGNMENT_ACTION="alignment_validation.rejected_alignment_action",Cookie.ALIGNMENT_VALIDATION_RENDERING="alignment_validation.rendering",Cookie.ALIGNMENT_LAST_EXPLORED_PROJECT="alignment.last_project",Cookie.ALIGNMENT_LAST_CHOSEN_TYPE="alignment.last_type",Cookie.SEARCH_STRING_MATCH_MODE="search.string_match_mode",Cookie.SEARCH_USE_URI="search.use_uri",Cookie.SEARCH_USE_LOCAL_NAME="search.use_local_name",Cookie.SEARCH_USE_NOTES="search.use_notes",Cookie.SEARCH_CONCEPT_SCHEME_RESTRICTION="search.restrict_active_schemes",Cookie.SEARCH_EXTEND_ALL_INDIVIDUALS="search.extends_all_inividuals",Cookie.PROJECT_TABLE_ORDER="project.table_col_order",Cookie.PROJECT_COLLAPSED_DIRS="project.collapsed_dirs",Cookie.PROJECT_VIEW_MODE="project.view_mode",Cookie.WARNING_CUSTOM_ROOT="ui.tree.cls.warnings.customroot",Cookie}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,o=n(0),i=n(3),a=n(106),s=n(108),l=n(70),c=n(23),p=n(12),d=n(33),u=n(2),f=n(25),h=n(17),g=n(7),m=n(20),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.create="create",e.addChild="addChild",e.delete="delete",e.deprecate="deprecate"}(r||(r={}));var y=function(){function RoleActionResolver(e,t,n,o,a,s,l,c){this.structs=[{actionId:m.a.classesCreateClass,roles:[i.c.cls],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create class",resAction:r.create,editType:"C"},{actionId:m.a.classesCreateSubClass,roles:[i.c.cls],conditions:{pre:{selectionRequired:!0,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create subClass",resAction:r.addChild,editType:"C"},{actionId:m.a.classesDeleteClass,roles:[i.c.cls],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete class",resAction:r.delete,editType:"D"},{actionId:m.a.skosCreateTopConcept,roles:[i.c.concept],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create concept",resAction:r.create,editType:"C"},{actionId:m.a.skosCreateNarrowerConcept,roles:[i.c.concept],conditions:{pre:{selectionRequired:!0,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create narrower concept",resAction:r.addChild,editType:"C"},{actionId:m.a.skosDeleteConcept,roles:[i.c.concept],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete concept",resAction:r.delete,editType:"D"},{actionId:m.a.skosCreateScheme,roles:[i.c.conceptScheme],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create scheme",resAction:r.create,editType:"C"},{actionId:m.a.skosDeleteScheme,roles:[i.c.conceptScheme],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete scheme",resAction:r.delete,editType:"D"},{actionId:m.a.datatypesCreateDatatype,roles:[i.c.dataRange],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create datatype",resAction:r.create,editType:"C"},{actionId:m.a.datatypesDeleteDatatype,roles:[i.c.dataRange],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete datatype",resAction:r.delete,editType:"D"},{actionId:m.a.classesCreateIndividual,roles:[i.c.individual],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create instance",resAction:r.create,editType:"C"},{actionId:m.a.classesDeleteIndividual,roles:[i.c.individual],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete instance",resAction:r.delete,editType:"D"},{actionId:m.a.ontolexCreateLexicon,roles:[i.c.limeLexicon],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create lexicon",resAction:r.create,editType:"C"},{actionId:m.a.ontolexDeleteLexicon,roles:[i.c.limeLexicon],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete lexicon",resAction:r.delete,editType:"D"},{actionId:m.a.ontolexCreateLexicalEntry,roles:[i.c.ontolexLexicalEntry],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create lexical entry",resAction:r.create,editType:"C"},{actionId:m.a.ontolexDeleteLexicalEntry,roles:[i.c.ontolexLexicalEntry],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete lexical entry",resAction:r.delete,editType:"D"},{actionId:m.a.propertiesCreateProperty,roles:[i.c.property],subRoles:[i.c.annotationProperty,i.c.datatypeProperty,i.c.objectProperty,i.c.ontologyProperty],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create property",resAction:r.create,editType:"C"},{actionId:m.a.propertiesCreateSubProperty,roles:[i.c.property],conditions:{pre:{selectionRequired:!0,childlessRequired:!1,explicitRequired:!1},post:{}},title:"Create subProperty",resAction:r.addChild,editType:"C"},{actionId:m.a.propertiesDeleteProperty,roles:[i.c.property],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete property",resAction:r.delete,editType:"D"},{actionId:m.a.skosCreateCollection,roles:[i.c.skosCollection],subRoles:[i.c.skosOrderedCollection],conditions:{pre:{selectionRequired:!1,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create collection",resAction:r.create,editType:"C"},{actionId:m.a.skosCreateSubCollection,roles:[i.c.skosCollection],subRoles:[i.c.skosOrderedCollection],conditions:{pre:{selectionRequired:!0,childlessRequired:!1,explicitRequired:!1},post:{deselectOnComplete:!1}},title:"Create nested collection",resAction:r.addChild,editType:"C"},{actionId:m.a.skosDeleteCollection,roles:[i.c.skosCollection],conditions:{pre:{selectionRequired:!0,childlessRequired:!0,explicitRequired:!0},post:{deselectOnComplete:!0}},title:"Delete collection",resAction:r.delete,editType:"D"},{actionId:m.a.resourcesSetDeprecated,roles:[i.c.cls,i.c.concept,i.c.conceptScheme,i.c.dataRange,i.c.individual,i.c.limeLexicon,i.c.limeLexicon,i.c.ontolexLexicalEntry,i.c.property,i.c.skosCollection],conditions:{pre:{selectionRequired:!0,childlessRequired:!1,explicitRequired:!0},post:{deselectOnComplete:!1}},title:"Deprecate",resAction:r.deprecate,editType:"D"}],this.vbFunctions=new m.b(e,t,n,o,a,s,l,c)}return RoleActionResolver.prototype.getActionsForRole=function(e){var t=this,n=[];return this.structs.forEach(function(r){-1!=r.roles.indexOf(e)&&n.push({id:r.actionId,role:e,subRoles:r.subRoles,conditions:r.conditions,editType:r.editType,title:r.title,icon:g.a.getActionImageSrc(e,r.resAction),function:t.vbFunctions.getFunction(r.actionId),capability:h.a.actionAuthGoalMap[r.actionId]})}),n},RoleActionResolver=v([n.i(o.g)(),b("design:paramtypes",[d.a,a.a,c.a,l.a,s.a,p.a,u.a,f.a])],RoleActionResolver)}();(function(){function ActionStruct(){}})(),function(){function ActionDescription(){}}(),function(){function ActionConditions(){}}()},,,,,,,function(e,t,n){"use strict";var r=n(353);n.d(t,"i",function(){return r.a});var o=(n(746),n(351),n(747),n(749),n(1406),n(1409),n(262));n.d(t,"c",function(){return o.a});var i=(n(352),n(750),n(1413));n.d(t,"j",function(){return i.a});var a=n(752);n.d(t,"e",function(){return a.a});var s=n(1415);n.d(t,"b",function(){return s.a}),n.d(t,"f",function(){return s.b});var l=n(1417);n.d(t,"a",function(){return l.a});var c=n(751);n.d(t,"d",function(){return c.a}),n.d(t,"h",function(){return c.b});var p=(n(1408),n(1410),n(1407),n(1405));n.d(t,"g",function(){return p.a});n(1411),n(1412)},,function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(8),i=n(36),a=n(15),s=n(3),l=n(12),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function ClassesServices(e,t,n){this.httpMgr=e,this.eventHandler=t,this.resourceService=n,this.serviceName="Classes"}return ClassesServices.prototype.getClassesInfo=function(e,t){var n={classList:e};return this.httpMgr.doGet(this.serviceName,"getClassesInfo",n,t).map(function(e){return i.a.createURIArray(e)})},ClassesServices.prototype.getSubClasses=function(e,t,n){var r={superClass:e,numInst:t};return this.httpMgr.doGet(this.serviceName,"getSubClasses",r,n).map(function(e){return i.a.createURIArray(e)})},ClassesServices.prototype.getInstances=function(e,t){var n={cls:e};return this.httpMgr.doGet(this.serviceName,"getInstances",n,t).map(function(e){return i.a.createResourceArray(e)})},ClassesServices.prototype.getNumberOfInstances=function(e,t){var n={cls:e};return this.httpMgr.doGet(this.serviceName,"getNumberOfInstances",n,t)},ClassesServices.prototype.createClass=function(e,t,n,r){var o=this,a={newClass:e,superClass:t};return null!=n&&(a.classType=n),null!=r&&(a.customFormValue=r),this.httpMgr.doPost(this.serviceName,"createClass",a).map(function(e){return i.a.createURI(e)}).flatMap(function(e){return o.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(s.a.NUM_INST,0),e.setAdditionalProperty(s.a.NEW,!0),o.eventHandler.subClassCreatedEvent.emit({subClass:e,superClass:t}),e})})},ClassesServices.prototype.deleteClass=function(e){var t=this,n={cls:e};return this.httpMgr.doPost(this.serviceName,"deleteClass",n).map(function(n){return t.eventHandler.classDeletedEvent.emit(e),n})},ClassesServices.prototype.createInstance=function(e,t,n){var r=this,o={newInstance:e,cls:t};return null!=n&&(o.customFormValue=n),this.httpMgr.doPost(this.serviceName,"createInstance",o).map(function(e){return i.a.createURI(e)}).flatMap(function(e){return r.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(s.a.NEW,!0),r.eventHandler.instanceCreatedEvent.emit({cls:t,instance:e}),e})})},ClassesServices.prototype.deleteInstance=function(e,t){var n=this,r={instance:e};return this.httpMgr.doPost(this.serviceName,"deleteInstance",r).map(function(r){return n.eventHandler.instanceDeletedEvent.emit({instance:e,cls:t}),r})},ClassesServices.prototype.addSuperCls=function(e,t){var n=this,r={cls:e,supercls:t};return this.httpMgr.doPost(this.serviceName,"addSuperCls",r).map(function(r){return n.eventHandler.superClassAddedEvent.emit({subClass:e,superClass:t}),r})},ClassesServices.prototype.removeSuperCls=function(e,t){var n=this,r={cls:e,supercls:t};return this.httpMgr.doPost(this.serviceName,"removeSuperCls",r).map(function(r){return n.eventHandler.superClassRemovedEvent.emit({superClass:t,subClass:e}),r})},ClassesServices.prototype.addIntersectionOf=function(e,t){for(var n=new Array,r=0;r<t.length;r++)t[r]instanceof s.d?n.push(t[r].getShow()):t[r]instanceof s.b&&n.push(t[r].toNT());var o={cls:e,clsDescriptions:n.join(",")};return this.httpMgr.doPost(this.serviceName,"addIntersectionOf",o)},ClassesServices.prototype.removeIntersectionOf=function(e,t){var n={cls:e,collectionBNode:t};return this.httpMgr.doPost(this.serviceName,"removeIntersectionOf",n)},ClassesServices.prototype.addUnionOf=function(e,t){for(var n=new Array,r=0;r<t.length;r++)t[r]instanceof s.d?n.push(t[r].getShow()):t[r]instanceof s.b&&n.push(t[r].toNT());var o={cls:e,clsDescriptions:n.join(",")};return this.httpMgr.doPost(this.serviceName,"addUnionOf",o)},ClassesServices.prototype.removeUnionOf=function(e,t){var n={cls:e,collectionBNode:t};return this.httpMgr.doPost(this.serviceName,"removeUnionOf",n)},ClassesServices.prototype.addOneOf=function(e,t){var n={cls:e,individuals:t};return this.httpMgr.doPost(this.serviceName,"addOneOf",n)},ClassesServices.prototype.removeOneOf=function(e,t){var n={cls:e,collectionBNode:t};return this.httpMgr.doPost(this.serviceName,"removeOneOf",n)},ClassesServices=c([n.i(r.g)(),p("design:paramtypes",[o.a,a.a,l.a])],ClassesServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(299),i=n(42),a=n(8),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function CollaborationServices(e){this.httpMgr=e,this.serviceName="Collaboration"}return CollaborationServices.prototype.getCollaborationSystemStatus=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getCollaborationSystemStatus",e)},CollaborationServices.prototype.getProjectSettings=function(e){var t={backendId:e};return this.httpMgr.doGet(this.serviceName,"getProjectSettings",t).map(function(e){return i.b.parse(e)})},CollaborationServices.prototype.getProjectPreferences=function(e){var t={backendId:e};return this.httpMgr.doGet(this.serviceName,"getProjectPreferences",t).map(function(e){return i.b.parse(e)})},CollaborationServices.prototype.activateCollaboratioOnProject=function(e){var t={backendId:e};return this.httpMgr.doPost(this.serviceName,"activateCollaboratioOnProject",t)},CollaborationServices.prototype.resetCollaborationOnProject=function(){var e={};return this.httpMgr.doPost(this.serviceName,"resetCollaborationOnProject",e)},CollaborationServices.prototype.addPreferencesForCurrentUser=function(e,t){var n={backendId:e,currentUserPreferences:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"addPreferencesForCurrentUser",n)},CollaborationServices.prototype.getIssueCreationForm=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getIssueCreationForm",e).map(function(e){return i.b.parse(e)})},CollaborationServices.prototype.createIssue=function(e,t){var n={resource:e,issueCreationForm:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"createIssue",n)},CollaborationServices.prototype.assignProject=function(e){var t={projectJson:JSON.stringify(e)};return this.httpMgr.doPost(this.serviceName,"assignProject",t)},CollaborationServices.prototype.createProject=function(e){var t={projectJson:JSON.stringify(e)};return this.httpMgr.doPost(this.serviceName,"createProject",t)},CollaborationServices.prototype.assignResourceToIssue=function(e,t){var n={issue:e,resource:t};return this.httpMgr.doPost(this.serviceName,"assignResourceToIssue",n)},CollaborationServices.prototype.listIssuesAssignedToResource=function(e){var t={resource:e},n=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["java.net.ConnectException","it.uniroma2.art.semanticturkey.extension.extpts.collaboration.CollaborationBackendException"]}});return this.httpMgr.doGet(this.serviceName,"listIssuesAssignedToResource",t,n).map(function(e){var t=o.a.parseIssues(e);return o.a.sortIssues(t,"id"),t})},CollaborationServices.prototype.listProjects=function(){var e={},t=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["java.net.ConnectException","it.uniroma2.art.semanticturkey.extension.extpts.collaboration.CollaborationBackendException"]}});return this.httpMgr.doGet(this.serviceName,"listProjects",e,t)},CollaborationServices.prototype.listIssues=function(e){var t={pageOffset:e},n=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["java.net.ConnectException","it.uniroma2.art.semanticturkey.extension.extpts.collaboration.CollaborationBackendException"]}});return this.httpMgr.doGet(this.serviceName,"listIssues",t,n).map(function(e){var t=o.a.parseIssues(e.issues);return o.a.sortIssues(t,"id",!0),{issues:t,more:e.more,numIssues:e.numIssues,numPagesTotal:e.numPagesTotal}})},CollaborationServices=s([n.i(r.g)(),l("design:paramtypes",[a.a])],CollaborationServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(3),i=n(230),a=n(11),s=n(36),l=n(8),c=n(10),p=n(15),d=n(12),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function DatatypesServices(e,t,n){this.httpMgr=e,this.eventHandler=t,this.resourceService=n,this.serviceName="Datatypes"}return DatatypesServices.prototype.getDatatypes=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getDatatypes",t,e).map(function(e){return s.a.createURIArray(e)})},DatatypesServices.prototype.getOWL2DatatypeMap=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getOWL2DatatypeMap",t,e).map(function(e){return s.a.createURIArray(e)})},DatatypesServices.prototype.getDeclaredDatatypes=function(e){var t={};return this.httpMgr.doGet(this.serviceName,"getDeclaredDatatypes",t,e).map(function(e){return s.a.createURIArray(e)})},DatatypesServices.prototype.createDatatype=function(e){var t=this,n={newDatatype:e};return this.httpMgr.doPost(this.serviceName,"createDatatype",n).map(function(e){return s.a.createURI(e)}).flatMap(function(e){return t.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(o.a.NEW,!0),t.eventHandler.datatypeCreatedEvent.emit(e),e})})},DatatypesServices.prototype.deleteDatatype=function(e){var t=this,n={datatype:e};return this.httpMgr.doPost(this.serviceName,"deleteDatatype",n).map(function(n){return t.eventHandler.datatypeDeletedEvent.emit(e),n})},DatatypesServices.prototype.getDatatypeRestrictions=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"getDatatypeRestrictions",t).map(function(t){var n=new Map;for(var r in t)n.set(r,e.parseDatatypeRestrictionDescription(t[r]));return n})},DatatypesServices.prototype.getRestrictionDescription=function(e){var t=this,n={restriction:e};return this.httpMgr.doGet(this.serviceName,"getRestrictionDescription",n).map(function(e){return t.parseDatatypeRestrictionDescription(e)})},DatatypesServices.prototype.setDatatypeFacetsRestriction=function(e,t,n){var r={datatype:e,base:t,facets:JSON.stringify(n)};return this.httpMgr.doPost(this.serviceName,"setDatatypeFacetsRestriction",r)},DatatypesServices.prototype.setDatatypeManchesterRestriction=function(e,t){var n={datatype:e,manchExpr:t};return this.httpMgr.doPost(this.serviceName,"setDatatypeManchesterRestriction",n)},DatatypesServices.prototype.setDatatypeEnumerationRestrictions=function(e,t){var n={datatype:e,literals:t};return this.httpMgr.doPost(this.serviceName,"setDatatypeEnumerationRestrictions",n)},DatatypesServices.prototype.deleteDatatypeRestriction=function(e){var t={datatype:e};return this.httpMgr.doPost(this.serviceName,"deleteDatatypeRestriction",t)},DatatypesServices.prototype.parseDatatypeRestrictionDescription=function(e){var t=new i.b,n=e.facets,r=e.enumerations;if(0!=Object.keys(n).length){var o=new i.c;for(var l in n){var p=n[l];l==a.c.onDatatype.getURI()?o.base=c.a.parseURI(p):l==a.j.maxExclusive.getURI()?o.facets.maxExclusive=+c.a.parseLiteral(p).getValue():l==a.j.maxInclusive.getURI()?o.facets.maxInclusive=+c.a.parseLiteral(p).getValue():l==a.j.minExclusive.getURI()?o.facets.minExclusive=+c.a.parseLiteral(p).getValue():l==a.j.minInclusive.getURI()?o.facets.minInclusive=+c.a.parseLiteral(p).getValue():l==a.j.pattern.getURI()&&(o.facets.pattern=c.a.parseLiteral(p).getValue())}t.facets=o}else 0!=r.lenght&&(t.enumerations=s.a.createLiteralArray(r));return t},DatatypesServices=u([n.i(r.g)(),f("design:paramtypes",[l.a,p.a,d.a])],DatatypesServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(8),i=n(36),a=n(517),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function ExportServices(e){this.httpMgr=e,this.serviceName="Export"}return ExportServices.prototype.getNamedGraphs=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getNamedGraphs",e).map(function(e){return i.a.createURIArray(e)})},ExportServices.prototype.getOutputFormats=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getOutputFormats",e).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].name,o=e[n].charset,i=e[n].fileExtensions,s=e[n].standardURI,l=e[n].mimetypes,c=e[n].defaultMIMEType,p=e[n].defaultFileExtension;t.push(new a.b(r,o,i,s,l,c,p))}return t.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),t})},ExportServices.prototype.getExportFormats=function(e){var t={reformattingExporterID:e};return this.httpMgr.doGet(this.serviceName,"getExportFormats",t).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push(new a.a(e[n].name,e[n].defaultMimeType,e[n].defaultFileExtension));return t.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),t})},ExportServices.prototype.export=function(e,t,n,r,i,a,s){var l={graphs:e,filteringPipeline:t};null!=n&&(l.reformattingExporterSpec=JSON.stringify(n)),null!=r&&(l.deployerSpec=JSON.stringify(r)),null!=a&&(l.outputFormat=a),null!=i&&(l.includeInferred=i),null!=s&&(l.force=s);var c=new o.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.services.core.ExportPreconditionViolationException"]}});return null==r?this.httpMgr.downloadFile(this.serviceName,"export",l,!0,c):this.httpMgr.doPost(this.serviceName,"export",l,c)},ExportServices=s([n.i(r.g)(),l("design:paramtypes",[o.a])],ExportServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(3),i=n(76),a=n(36),s=n(624),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function MetadataRegistryServices(e){this.httpMgr=e,this.serviceName="MetadataRegistry"}return MetadataRegistryServices.prototype.addDataset=function(e,t,n,r,o){var i={uriSpace:e};return null!=t&&(i.dataset=t),null!=n&&(i.title=n),null!=r&&(i.sparqlEndpoint=r),null!=o&&(i.dereferenceable=o),this.httpMgr.doPost(this.serviceName,"addDataset",i)},MetadataRegistryServices.prototype.addDatasetVersion=function(e,t,n){var r={catalogRecord:e,versionInfo:t};return null!=n&&(r.dataset=n),this.httpMgr.doPost(this.serviceName,"addDatasetVersion",r)},MetadataRegistryServices.prototype.addEmbeddedLexicalizationSet=function(e,t,n,r,o,i,a,s,l,c){var p={dataset:e,lexicalizationModel:t,language:n};return null!=r&&(p.lexicalizationSet=r),null!=o&&(p.lexiconDataset=o),null!=i&&(p.references=i),null!=a&&(p.lexicalEntries=a),null!=s&&(p.lexicalizations=s),null!=l&&(p.percentage=l),null!=c&&(p.avgNumOfLexicalizations=c),this.httpMgr.doPost(this.serviceName,"addEmbeddedLexicalizationSet",p)},MetadataRegistryServices.prototype.deleteEmbeddedLexicalizationSet=function(e){var t={lexicalizationSet:e};return this.httpMgr.doPost(this.serviceName,"deleteEmbeddedLexicalizationSet",t)},MetadataRegistryServices.prototype.getEmbeddedLexicalizationSets=function(e){var t={dataset:e};return this.httpMgr.doGet(this.serviceName,"getEmbeddedLexicalizationSets",t)},MetadataRegistryServices.prototype.setTitle=function(e,t){var n={dataset:e};return null!=t&&(n.title=t),this.httpMgr.doPost(this.serviceName,"setTitle",n)},MetadataRegistryServices.prototype.setDereferenciability=function(e,t){var n={dataset:e};return null!=t&&(n.value=t),this.httpMgr.doPost(this.serviceName,"setDereferenciability",n)},MetadataRegistryServices.prototype.setSPARQLEndpoint=function(e,t){var n={dataset:e};return null!=t&&(n.endpoint=t),this.httpMgr.doPost(this.serviceName,"setSPARQLEndpoint",n)},MetadataRegistryServices.prototype.setSPARQLEndpointLimitation=function(e,t){var n={endpoint:e};return null!=e&&(n.limitation=t),this.httpMgr.doPost(this.serviceName,"setSPARQLEndpointLimitation",n)},MetadataRegistryServices.prototype.removeSPARQLEndpointLimitation=function(e,t){var n={endpoint:e};return null!=e&&(n.limitation=t),this.httpMgr.doPost(this.serviceName,"removeSPARQLEndpointLimitation",n)},MetadataRegistryServices.prototype.deleteCatalogRecord=function(e){var t={catalogRecord:e};return this.httpMgr.doPost(this.serviceName,"deleteCatalogRecord",t)},MetadataRegistryServices.prototype.deleteDatasetVersion=function(e){var t={dataset:e};return this.httpMgr.doPost(this.serviceName,"deleteDatasetVersion",t)},MetadataRegistryServices.prototype.getCatalogRecords=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getCatalogRecords",e).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push(i.g.deserialize(e[n]));return t})},MetadataRegistryServices.prototype.getDatasetMetadata=function(e){var t={dataset:e};return this.httpMgr.doGet(this.serviceName,"getDatasetMetadata",t).map(function(e){return i.h.deserialize(e)})},MetadataRegistryServices.prototype.assessLexicalizationModel=function(e){var t={dataset:e};return this.httpMgr.doPost(this.serviceName,"assessLexicalizationModel",t)},MetadataRegistryServices.prototype.findDataset=function(e){var t={iri:e};return this.httpMgr.doGet(this.serviceName,"findDataset",t).map(function(e){return o.i.deserialize(e)})},MetadataRegistryServices.prototype.discoverDataset=function(e){var t={iri:e};return this.httpMgr.doPost(this.serviceName,"discoverDataset",t).map(function(e){return a.a.createURI(e)})},MetadataRegistryServices.prototype.getEmbeddedLinksets=function(e,t,n){var r={dataset:e,treshold:t,coalesce:n};return this.httpMgr.doGet(this.serviceName,"getEmbeddedLinksets",r)},MetadataRegistryServices=l([n.i(r.g)(),c("design:paramtypes",[s.a])],MetadataRegistryServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(15),i=n(8),a=n(36),s=n(3),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function SkosxlServices(e,t){this.httpMgr=e,this.eventHandler=t,this.serviceName="SKOSXL"}return SkosxlServices.prototype.getPrefLabel=function(e,t){var n={concept:e,lang:t};return this.httpMgr.doGet(this.serviceName,"getPrefLabel",n).map(function(e){return a.a.createRDFResource(e[0])})},SkosxlServices.prototype.setPrefLabel=function(e,t,n,r,o){void 0===o&&(o=s.h.uri);var a={concept:e,literal:t,mode:o};null!=n&&(a.labelCls=n),null!=r&&(a.checkExistingAltLabel=r);var l=new i.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.PrefAltLabelClashException","it.uniroma2.art.semanticturkey.exceptions.BlacklistForbiddendException"]}});return this.httpMgr.doPost(this.serviceName,"setPrefLabel",a,l)},SkosxlServices.prototype.removePrefLabel=function(e,t){var n={concept:e,xlabel:t};return this.httpMgr.doPost(this.serviceName,"removePrefLabel",n)},SkosxlServices.prototype.getAltLabels=function(e,t){var n={concept:e,lang:t};return this.httpMgr.doGet(this.serviceName,"getAltLabels",n).map(function(e){return a.a.createRDFNodeArray(e)})},SkosxlServices.prototype.addAltLabel=function(e,t,n,r){void 0===r&&(r=s.h.uri);var o={concept:e,literal:t,mode:r};null!=n&&(o.labelCls=n);var a=new i.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.BlacklistForbiddendException"]}});return this.httpMgr.doPost(this.serviceName,"addAltLabel",o,a)},SkosxlServices.prototype.removeAltLabel=function(e,t){var n={concept:e,xlabel:t};return this.httpMgr.doPost(this.serviceName,"removeAltLabel",n)},SkosxlServices.prototype.addHiddenLabel=function(e,t,n,r){void 0===r&&(r=s.h.uri);var o={concept:e,literal:t,mode:r};null!=n&&(o.labelCls=n);var a=new i.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.BlacklistForbiddendException"]}});return this.httpMgr.doPost(this.serviceName,"addHiddenLabel",o,a)},SkosxlServices.prototype.removeHiddenLabel=function(e,t){var n={concept:e,xlabel:t};return this.httpMgr.doPost(this.serviceName,"removeHiddenLabel",n)},SkosxlServices.prototype.changeLabelInfo=function(e,t){var n={xlabel:e,literal:t};return this.httpMgr.doPost(this.serviceName,"changeLabelInfo",n)},SkosxlServices.prototype.prefToAtlLabel=function(e,t){var n={concept:e,xlabelURI:t};return this.httpMgr.doPost(this.serviceName,"prefToAtlLabel",n)},SkosxlServices.prototype.altToPrefLabel=function(e,t){var n={concept:e,xlabelURI:t};return this.httpMgr.doPost(this.serviceName,"altToPrefLabel",n)},SkosxlServices=l([n.i(r.g)(),c("design:paramtypes",[i.a,o.a])],SkosxlServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(107),i=n(15),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function VBCollaboration(e,t){this.collaborationService=e,this.eventHandler=t,this.working=!1,this.enabled=!1,this.linked=!1,this.projSettingsConfigured=!1,this.userSettingsConfigured=!1}return VBCollaboration.prototype.initCollaborationSystem=function(){var e=this;return this.reset(),this.collaborationService.getCollaborationSystemStatus().map(function(t){e.enabled=t.enabled,e.backendId=t.backendId,e.linked=t.linked,e.projSettingsConfigured=t.projSettingsConfigured,e.userSettingsConfigured=t.userSettingsConfigured,e.userSettingsConfigured&&e.projSettingsConfigured&&e.linked&&e.enabled&&(e.working=!0)})},VBCollaboration.prototype.isProjSettingsConfigured=function(){return this.projSettingsConfigured},VBCollaboration.prototype.isUserSettingsConfigured=function(){return this.userSettingsConfigured},VBCollaboration.prototype.isEnabled=function(){return this.enabled},VBCollaboration.prototype.getBackendId=function(){return this.backendId},VBCollaboration.prototype.isWorking=function(){return this.working},VBCollaboration.prototype.setWorking=function(e){this.working=e,this.eventHandler.collaborationSystemStatusChanged.emit()},VBCollaboration.prototype.isLinked=function(){return this.linked},VBCollaboration.prototype.reset=function(){this.working=!1,this.enabled=!1,this.linked=!1,this.projSettingsConfigured=!1,this.userSettingsConfigured=!1,this.backendId=null},VBCollaboration=a([n.i(r.g)(),s("design:paramtypes",[o.a,i.a])],VBCollaboration)}()},,,,,,,function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=1e3,o=6e4,i=36e5,a=864e5,s=6048e5},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(181),i=n(3),a=n(36),s=n(8),l=n(10),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function AlignmentServices(e){this.httpMgr=e,this.serviceName="Alignment"}return AlignmentServices.prototype.getMappingProperties=function(e,t){var n={resource:e,allMappingProps:t};return this.httpMgr.doGet(this.serviceName,"getMappingProperties",n).map(function(e){var t=a.a.createURIArray(e);return l.a.sortResources(t,l.b.value),t})},AlignmentServices.prototype.addAlignment=function(e,t,n){var r={sourceResource:e,predicate:t,targetResource:n};return this.httpMgr.doGet(this.serviceName,"addAlignment",r)},AlignmentServices.prototype.loadAlignment=function(e,t,n){var r={inputFile:e,leftProject:t?t.getName():null,rightProject:n?n.getName():null};return this.httpMgr.uploadFile(this.serviceName,"loadAlignment",r)},AlignmentServices.prototype.listCells=function(e,t){var n=this,r={};return void 0!=e&&void 0!=t&&(r.pageIdx=e,r.range=t),this.httpMgr.doGet(this.serviceName,"listCells",r).map(function(e){for(var t=e.page,r=e.totPage,o=[],i=0;i<e.cells.length;i++)o.push(n.parseAlignmentCell(e.cells[i]));return{page:t,totPage:r,cells:o}})},AlignmentServices.prototype.acceptAlignment=function(e,t,n,r,o){var i=this,a={entity1:e,entity2:t,relation:n};return null!=r&&(a.forcedProperty=r,null!=o&&(a.setAsDefault=o)),this.httpMgr.doGet(this.serviceName,"acceptAlignment",a).map(function(e){return i.parseAlignmentCell(e)})},AlignmentServices.prototype.acceptAllAlignment=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"acceptAllAlignment",t).map(function(t){for(var n=[],r=0;r<t.length;r++)n.push(e.parseAlignmentCell(t[r]));return n})},AlignmentServices.prototype.acceptAllAbove=function(e){var t=this,n={threshold:e};return this.httpMgr.doGet(this.serviceName,"acceptAllAbove",n).map(function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.parseAlignmentCell(e[r]));return n})},AlignmentServices.prototype.rejectAlignment=function(e,t,n){var r=this,o={entity1:e,entity2:t,relation:n};return this.httpMgr.doGet(this.serviceName,"rejectAlignment",o).map(function(e){return r.parseAlignmentCell(e)})},AlignmentServices.prototype.rejectAllAlignment=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"rejectAllAlignment",t).map(function(t){for(var n=[],r=0;r<t.length;r++)n.push(e.parseAlignmentCell(t[r]));return n})},AlignmentServices.prototype.rejectAllUnder=function(e){var t=this,n={threshold:e};return this.httpMgr.doGet(this.serviceName,"rejectAllUnder",n).map(function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.parseAlignmentCell(e[r]));return n})},AlignmentServices.prototype.changeRelation=function(e,t,n){var r=this,o={entity1:e,entity2:t,relation:n};return this.httpMgr.doGet(this.serviceName,"changeRelation",o).map(function(e){return r.parseAlignmentCell(e)})},AlignmentServices.prototype.changeMappingProperty=function(e,t,n){var r=this,o={entity1:e,entity2:t,mappingProperty:n};return this.httpMgr.doGet(this.serviceName,"changeMappingProperty",o).map(function(e){return r.parseAlignmentCell(e)})},AlignmentServices.prototype.applyValidation=function(e){var t={deleteRejected:e};return this.httpMgr.doGet(this.serviceName,"applyValidation",t).map(function(e){for(var t=[],n=0;n<e.length;n++){var r={entity1:e[n].entity1,entity2:e[n].entity2,property:e[n].property,action:e[n].action};t.push(r)}return t})},AlignmentServices.prototype.getSuggestedProperties=function(e,t){var n={entity:e,relation:t};return this.httpMgr.doGet(this.serviceName,"getSuggestedProperties",n).map(function(e){return a.a.createURIArray(e)})},AlignmentServices.prototype.exportAlignment=function(){var e={};return this.httpMgr.downloadFile(this.serviceName,"exportAlignment",e)},AlignmentServices.prototype.closeSession=function(){var e={};return this.httpMgr.doGet(this.serviceName,"closeSession",e).map(function(e){return s.c.removeSessionToken(),e})},AlignmentServices.prototype.parseAlignmentCell=function(e){var t,n=new i.b(e.entity1),r=new i.b(e.entity2),s=e.measure,l=e.relation;null!=e.mappingProperty&&(t=a.a.createURI(e.mappingProperty),t.setRole(i.c.property));var c;null!=e.status&&(c=e.status);var p;null!=e.comment&&(p=e.comment);var d=new o.a(n,r,s,l);return void 0!=t&&d.setMappingProperty(t),void 0!=c&&d.setStatus(c),void 0!=p&&d.setComment(p),d},AlignmentServices.prototype.searchResources=function(e,t,n,r,o){var i={inputRes:e,resourcePosition:t,rolesArray:n};return null!=r&&(i.langToLexModel=r),null!=o&&(i.searchModeList=o),this.httpMgr.doGet(this.serviceName,"searchResources",i).map(function(e){return a.a.createURIArray(e,["matchMode","matchedLang"])})},AlignmentServices.prototype.getMappingCount=function(e,t,n,r){var o={targetUriPrefix:e,mappingProperties:t,expressInPages:n,pageSize:r};return this.httpMgr.doGet(this.serviceName,"getMappingCount",o)},AlignmentServices.prototype.getMappings=function(e,t,n,r){var o={targetUriPrefix:e,page:t,pageSize:n,mappingProperties:r};return this.httpMgr.doGet(this.serviceName,"getMappings",o)},AlignmentServices=c([n.i(r.g)(),p("design:paramtypes",[s.a])],AlignmentServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function ManchesterServices(e){this.httpMgr=e,this.serviceName="ManchesterHandler"}return ManchesterServices.prototype.checkExpression=function(e){var t={manchExpr:e};return this.httpMgr.doGet(this.serviceName,"checkExpression",t)},ManchesterServices.prototype.checkDatatypeExpression=function(e){var t={manchExpr:e};return this.httpMgr.doGet(this.serviceName,"checkDatatypeExpression",t)},ManchesterServices.prototype.checkLiteralEnumerationExpression=function(e){var t={manchExpr:e};return this.httpMgr.doGet(this.serviceName,"checkLiteralEnumerationExpression",t)},ManchesterServices.prototype.createRestriction=function(e,t,n){var r={classIri:e,exprType:t,manchExpr:n};return this.httpMgr.doPost(this.serviceName,"createRestriction",r)},ManchesterServices.prototype.removeExpression=function(e,t,n){var r={classIri:e,exprType:t,bnode:n};return this.httpMgr.doPost(this.serviceName,"removeExpression",r)},ManchesterServices.prototype.updateExpression=function(e,t){var n={newManchExpr:e,bnode:t};return this.httpMgr.doPost(this.serviceName,"updateExpression",n)},ManchesterServices.prototype.isClassAxiom=function(e){var t={bnode:e};return this.httpMgr.doGet(this.serviceName,"isClassAxiom",t)},ManchesterServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],ManchesterServices)}();(function(){function ExpressionCheckResponse(){}})(),function(){function ObjectError(){}}()},,,,function(e,t,n){"use strict";function noop(){}t.a=noop},function(e,t,n){"use strict";function identity(e){return e}function normalize(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:n.i(a.a)(isNaN(t)?NaN:.5)}function clamper(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function bimap(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=normalize(o,r),i=n(a,i)):(r=normalize(r,o),i=n(i,a)),function(e){return i(r(e))}}function polymap(e,t,o){var i=Math.min(e.length,t.length)-1,a=new Array(i),s=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)a[l]=normalize(e[l],e[l+1]),s[l]=o(t[l],t[l+1]);return function(t){var o=n.i(r.b)(e,t,1,i)-1;return s[o](a[o](t))}}function copy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer(){function rescale(){return r=Math.min(p.length,d.length)>2?polymap:bimap,a=c=null,scale}function scale(t){return isNaN(t=+t)?n:(a||(a=r(p.map(e),d,u)))(e(f(t)))}var e,t,n,r,a,c,p=l,d=l,u=o.i,f=identity;return scale.invert=function(n){return f(t((c||(c=r(d,p.map(e),o.c)))(n)))},scale.domain=function(e){return arguments.length?(p=i.a.call(e,s.a),f===identity||(f=clamper(p)),rescale()):p.slice()},scale.range=function(e){return arguments.length?(d=i.b.call(e),rescale()):d.slice()},scale.rangeRound=function(e){return d=i.b.call(e),u=o.j,rescale()},scale.clamp=function(e){return arguments.length?(f=e?clamper(p):identity,scale):f!==identity},scale.interpolate=function(e){return arguments.length?(u=e,rescale()):u},scale.unknown=function(e){return arguments.length?(n=e,scale):n},function(n,r){return e=n,t=r,rescale()}}function continuous(e,t){return transformer()(e,t)}t.a=identity,t.c=copy,t.b=transformer,t.d=continuous;var r=n(62),o=n(104),i=n(148),a=n(1489),s=n(756),l=[0,1]},function(e,t,n){"use strict";function Transition(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function transition(e){return n.i(r.f)().transition(e)}function newId(){return++S}t.a=Transition,t.b=newId;var r=n(63),o=n(1579),i=n(1580),a=n(1581),s=n(1582),l=n(1583),c=n(1585),p=n(1586),d=n(1587),u=n(1588),f=n(1589),h=n(1590),g=n(1591),m=n(1592),v=n(1593),b=n(1594),y=n(1595),x=n(1596),C=n(271),R=n(1584),S=0,P=r.f.prototype;Transition.prototype=transition.prototype={constructor:Transition,select:f.a,selectAll:h.a,filter:c.a,merge:p.a,selection:g.a,transition:x.a,call:P.call,nodes:P.nodes,node:P.node,size:P.size,empty:P.empty,each:P.each,on:d.a,attr:o.a,attrTween:i.a,style:m.a,styleTween:v.a,text:b.a,textTween:y.a,remove:u.a,tween:C.a,delay:a.a,duration:s.a,ease:l.a,end:R.a}},function(e,t,n){e.exports=n.p+"assets/images/objectProperty_create.png"},function(e,t){e.exports=".graphContainer {\r\n    background-color: #ddd;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n/* Nodes */\r\n\r\n.graphNodeStripe {\r\n    stroke:black;\r\n    stroke-width: 1px;\r\n}\r\n\r\n.graphNode {\r\n    stroke: #000;\r\n    stroke-width: 1px;\r\n}\r\n.graphNode:hover {\r\n    stroke-width: 2px;\r\n}\r\n\r\n.graphNodeSelected {\r\n    stroke: red !important;\r\n    stroke-width: 2px;\r\n}\r\n\r\n.graphPropSelected {\r\n    fill: red;\r\n}\r\n\r\n/* If node has children to expand */\r\n.parentNode {\r\n    stroke-width: 5px;\r\n}\r\n\r\n.deprecated { \r\n    stroke: #8e4a4c !important;\r\n    stroke-width: 2px;\r\n}\r\n\r\n.unkwnownNode {\r\n    fill: #eee; stop-color: #eee;\r\n}\r\n\r\n.literal { fill: #fff; }\r\n\r\n.bnode { fill: #ddd; stop-color: #ddd; } /* Same of the background in order to simulate transparency */\r\n\r\n.annotationProperty { fill: #ffad00; stop-color: #ffad00; }\r\n.annotationPropertyImported { fill: #fadda0; stop-color: #fadda0; }\r\n.annotationPropertyDeprecated { fill: #bda87d; stop-color: #bda87d; }\r\n\r\n.cls { fill: #d5a833; stop-color: #d5a833; }\r\n.clsImported { fill: #e8d095; stop-color: #e8d095; }\r\n.clsDeprecated { fill: #a39779; stop-color: #a39779; }\r\n\r\n.concept { fill: #81bcce; stop-color: #81bcce; }\r\n.conceptImported { fill: #9cd8e8; stop-color: #9cd8e8; }\r\n.conceptDeprecated { fill: #517581; stop-color: #517581; }\r\n\r\n.conceptScheme { fill: #6c6e59; stop-color: #6c6e59; }\r\n.conceptSchemeImported { fill: #9fa18c; stop-color: #9fa18c; }\r\n.conceptSchemeDeprecated { fill: #60615a; stop-color: #60615a; }\r\n\r\n.dataRange { fill: #d67233; stop-color: #d67233; }\r\n.dataRangeImported { fill: #f5a367; stop-color: #f5a367; }\r\n.dataRangeDeprecated { fill: #a38979; stop-color: #a38979; }\r\n\r\n.datatypeProperty { fill: #329973; stop-color: #329973; }\r\n.datatypePropertyImported { fill: #9fd4c0; stop-color: #9fd4c0; }\r\n.datatypePropertyDeprecated { fill: #546e64; stop-color: #546e64; }\r\n\r\n.individual { fill: #652a64; stop-color: #652a64; }\r\n.individualImported { fill: #bf95bf; stop-color: #bf95bf; }\r\n.individualDeprecated { fill: #403340; stop-color: #403340; }\r\n\r\n.limeLexicon { fill: #500000; stop-color: #500000; }\r\n.limeLexiconImported { fill: #974d4d; stop-color: #974d4d; }\r\n.limeLexiconDeprecated { fill: #261c1b; stop-color: #261c1b; }\r\n\r\n.objectProperty { fill: #336699; stop-color: #336699; }\r\n.objectPropertyImported { fill: #9fb9d4; stop-color: #9fb9d4; }\r\n.objectPropertyDeprecated { fill: #54616e; stop-color: #54616e; }\r\n\r\n.ontolexForm { fill: #6a4733; stop-color: #6a4733; }\r\n.ontolexFormImported { fill: #9b7a67; stop-color: #9b7a67; }\r\n.ontolexFormDeprecated { fill: #4a423d; stop-color: #4a423d; }\r\n\r\n.ontolexLexicalEntry { fill: #c49a5e; stop-color: #c49a5e; }\r\n.ontolexLexicalEntryImported { fill: #eec790;  stop-color: #eec790;}\r\n.ontolexLexicalEntryDeprecated { fill: #a39786; stop-color: #a39786; }\r\n\r\n.ontolexLexicalSense { fill: #69a5b5; stop-color: #69a5b5; }\r\n.ontolexLexicalSenseImported { fill: #9cd8e8; stop-color: #9cd8e8; }\r\n.ontolexLexicalSenseDeprecated { fill: #84969c; stop-color: #84969c; }\r\n\r\n.ontology { fill: #fff; stop-color: #fff; }\r\n\r\n.ontologyProperty { fill: #826a4a; stop-color: #826a4a; }\r\n.ontologyPropertyImported { fill: #ccbeab; stop-color: #ccbeab; }\r\n.ontologyPropertyDeprecated { fill: #665f57; stop-color: #665f57; }\r\n\r\n.property { fill: #336699; stop-color: #336699; }\r\n.propertyImported { fill: #9fb9d4; stop-color: #9fb9d4; }\r\n.propertyDeprecated { fill: #54616e; stop-color: #54616e; }\r\n\r\n.skosCollection { fill: #81bcce; stop-color: #81bcce; }\r\n.skosCollectionImported { fill: #9cd8e8; stop-color: #9cd8e8; }\r\n.skosCollectionDeprecated { fill: #517581; stop-color: #517581; }\r\n\r\n.xLabel { fill: #d0ad4b; stop-color: #d0ad4b; }\r\n.xLabelImported { fill: #f5d97e; stop-color: #f5d97e; }\r\n.xLabelDeprecated { fill: #a89e83; stop-color: #a89e83; }\r\n\r\n/* Links */\r\n\r\n.link {\r\n    stroke: #000;\r\n    stroke-width: 2px;\r\n    fill: none;\r\n}\r\n\r\n.link-uml {\r\n    stroke-width: 1.3px;\r\n}\r\n\r\n.linkSelected {\r\n    stroke: red !important;\r\n}\r\n\r\n.linkDotted {\r\n    stroke-dasharray: 3\r\n}\r\n\r\n.annotationPropertyLink { stroke: #ffad00 !important; }\r\n.datatypePropertyLink { stroke: #329973 !important; }\r\n.objectPropertyLink { stroke: #336699 !important; }\r\n.ontologyPropertyLink { stroke: #826a4a !important; }\r\n.propertyLink { stroke: #336699 !important; }\r\n\r\n/* Arrows */\r\n\r\n.arrow { fill: #000; stroke: black }\r\n\r\n.annotationPropertyArrow { fill: #ffad00 !important; }\r\n.datatypePropertyArrow { fill: #329973 !important; }\r\n.objectPropertyArrow { fill: #336699 !important; }\r\n.ontologyPropertyArrow { fill: #826a4a !important; }\r\n/* .propertyArrow { fill: #336699 !important; } */\r\n.subClassArrow {fill: white !important;}\r\n"},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(789),i=n(134),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function D3Service(){}return D3Service.prototype.applyZoomableBehaviour=function(e,t){var n,r,i,a;n=o.f(e),r=o.f(t),i=function(){var e=o.g.transform;r.attr("transform","translate("+e.x+","+e.y+") scale("+e.k+")")},a=o.h().on("zoom",i),n.call(a),n.on("dblclick.zoom",null)},D3Service.prototype.getForceDirectedGraph=function(e,t,n){return null==n&&(n=!0),new i.b(e,t,n)},D3Service.prototype.applyDraggableBehaviour=function(e,t,n){function started(){function dragged(){t.fx=o.g.x,t.fy=o.g.y}function ended(){o.g.active||n.simulation.alphaTarget(0),t.fixed||(t.fx=null,t.fy=null)}o.g.sourceEvent.stopPropagation(),o.g.active||n.simulation.alphaTarget(.3).restart(),o.g.on("drag",dragged).on("end",ended)}o.f(e).call(o.i().on("start",started))},D3Service=a([n.i(r.g)(),s("design:paramtypes",[])],D3Service)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c});var r=n(0),o=n(789),i=n(154),a=n(229),s=function(){function ForceDirectedGraph(e,t,n){this.ticker=new r.i,this.dynamic=!0,this.nodes=[],this.links=[],this.nodes=e,this.links=t,this.dynamic=n}return ForceDirectedGraph.prototype.initSimulation=function(e){if(this.options=e,!this.simulation){var t=this.ticker;this.simulation=o.a(),this.simulation.force("center",o.b(this.options.width/2,this.options.height/2)),this.simulation.force("charge",o.c()),this.simulation.force("collide",o.d()),this.simulation.force("link",o.e()),this.simulation.on("tick",function(){t.emit(this)})}this.update()},ForceDirectedGraph.prototype.update=function(){this.initNodes(),this.initLinks(),this.updateForces()},ForceDirectedGraph.prototype.updateForces=function(){var e=this;this.simulation.force("charge").strength(function(t){return e.getCharge(t,e.links)}).distanceMin(this.options.forces.charge.distanceMin).distanceMax(this.options.forces.charge.distanceMax),this.simulation.force("collide").strength(this.options.forces.collide.strength).radius(this.options.forces.collide.radius),this.simulation.force("link").strength(this.options.forces.link.strength).distance(this.options.forces.link.distance),this.simulation.alpha(.5).restart()},ForceDirectedGraph.prototype.getCharge=function(e,t){var n=0;return t.forEach(function(t){t.source==e&&n++,t.target==e&&n++}),-50*n},ForceDirectedGraph.prototype.initNodes=function(){this.simulation.nodes(this.nodes)},ForceDirectedGraph.prototype.initLinks=function(){if(this.links.length>0&&null!=this.links[0].res){this.links.forEach(function(e){return e.offset=0});this.getOverlappingLinkGroups().forEach(function(e){for(var t=Math.floor(e.length/2),n=0;n<e.length;n++){var r=n-t;0==r&&e.length%2==0&&(r=e.length-t),e[n].source!=e[0].source&&(r=-r),e[n].offset=r}});this.getLoopingLinkGroups().forEach(function(e){if(1==e.length)e[0].offset=-1;else for(var t=0,n=e.length-1;t<e.length;t++,n--){var r=void 0;r=n%2==0?-n/2-1:n/2+.5,e[t].offset=r}})}this.simulation.force("link").links(this.links)},ForceDirectedGraph.prototype.getOverlappingLinkGroups=function(){for(var e=[],t=[],n=0;n<this.links.length;n++){var r=[],o=this.links[n];if(o.source!=o.target&&-1==t.indexOf(o)){for(var i=n+1;i<this.links.length;i++){var s=this.links[i];a.a.areLinksOverlapped(o,s)&&(r.push(s),t.push(s))}r.length>0&&(r.push(o),t.push(o),e.push(r))}}return e},ForceDirectedGraph.prototype.getLoopingLinkGroups=function(){for(var e=[],t=[],n=0;n<this.links.length;n++){var r=[],o=this.links[n];if(o.source==o.target&&-1==t.indexOf(o)){r.push(o),t.push(o);for(var i=n+1;i<this.links.length;i++){var s=this.links[i];a.a.areLinksOverlapped(o,s)&&(r.push(s),t.push(s))}r.forEach(function(e){return e.loop=!0}),e.push(r)}}return e},ForceDirectedGraph.prototype.getNodes=function(){return this.nodes},ForceDirectedGraph.prototype.getNode=function(e){return e.isLiteral()?null:this.nodes.find(function(t){return t.res.equals(e)})},ForceDirectedGraph.prototype.addNode=function(e){this.nodes.push(e)},ForceDirectedGraph.prototype.removeNode=function(e){var t=this.nodes.indexOf(e);return-1!=t&&(this.nodes.splice(t,1),!0)},ForceDirectedGraph.prototype.getLinks=function(){return this.links},ForceDirectedGraph.prototype.getLink=function(e,t,n){for(var r=0;r<this.links.length;r++){var o=this.links[r];if(o.source.res.equals(e)&&o.target.res.equals(n)&&o.res.equals(t))return o}return null},ForceDirectedGraph.prototype.getLinksFrom=function(e){var t=[];return this.links.forEach(function(n){n.source.res.equals(e.res)&&t.push(n)}),t},ForceDirectedGraph.prototype.getLinksTo=function(e){var t=[];return this.links.forEach(function(n){n.target.res.equals(e.res)&&t.push(n)}),t},ForceDirectedGraph.prototype.addLink=function(e){this.links.push(e)},ForceDirectedGraph.prototype.removeLink=function(e){var t=this.links.indexOf(e);return-1!=t&&(this.links.splice(t,1),!0)},ForceDirectedGraph}(),l=function(){function GraphOptions(e,t,n){this.width=e,this.height=t,this.forces=n||new c}return GraphOptions}(),c=function(){function GraphForces(){this.charge={strength:-100,distanceMin:50,distanceMax:800},this.collide={strength:1,radius:i.a.Circle.radius+5},this.link={strength:1,distance:250}}return GraphForces}();(function(){function ForceCharge(){}})(),function(){function ForceCollide(){}}(),function(){function ForceLink(){}}()},function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return r}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return p});var r,o=n(36),i=function(){function CommitInfo(e,t,n,r,i,a,s){if(this.commit=e,this.user=t,this.operation=n,null!=n){var l=n.getURI(),c=l.indexOf("st-core-services/");-1!=c&&(l=l.substring(c+"st-core-services/".length)),this.operation.setShow(l)}this.operationParameters=r,this.startTime=i,null!=i&&(this.startTimeLocal=o.a.parseDateTime(i)),this.endTime=a,null!=a&&(this.endTimeLocal=o.a.parseDateTime(a)),this.commentAllowed=s}return CommitInfo}(),a=function(){function ParameterInfo(e,t){this.name=e,this.value=t}return ParameterInfo}(),s=function(){function CommitOperation(e,t,n,r){this.subject=e,this.predicate=t,this.object=n,this.context=r}return CommitOperation}();!function(e){e.Ascending="Ascending",e.Descending="Descending",e.Unordered="Unordered"}(r||(r={}));var l,c=function(){function VersionInfo(e,t,n,r,i){this.versionId=e,this.repositoryId=t,this.dateTime=n,null!=n&&(this.dateTimeLocal=o.a.parseDateTime(n)),this.repositoryLocation=r,this.repositoryStatus=i}return VersionInfo}();!function(e){e.INITIALIZED="INITIALIZED",e.UNITIALIZED="UNITIALIZED"}(l||(l={}));var p;!function(e){e.LOCAL="LOCAL",e.REMOTE="REMOTE",e.NOT_FOUND="NOT_FOUND"}(p||(p={}));!function(){function CommitDelta(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(517),i=n(8),a=n(15),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function InputOutputServices(e,t){this.httpMgr=e,this.eventHandler=t,this.serviceName="InputOutput"}return InputOutputServices.prototype.loadRDF=function(e,t,n,r,o,i,a,s){var l=this,c={baseURI:e,transitiveImportAllowance:t};return null!=n&&(c.inputFile=n),null!=r&&(c.format=r),null!=o&&(c.loaderSpec=JSON.stringify(o)),null!=i&&(c.rdfLifterSpec=JSON.stringify(i)),null!=a&&(c.transformationPipeline=a),null!=s&&(c.validateImplicitly=s),this.httpMgr.uploadFile(this.serviceName,"loadRDF",c).map(function(e){return l.eventHandler.refreshDataBroadcastEvent.emit(),e})},InputOutputServices.prototype.getParserFormatForFileName=function(e){var t={fileName:e};return this.httpMgr.doGet(this.serviceName,"getParserFormatForFileName",t)},InputOutputServices.prototype.getWriterFormatForFileName=function(e){var t={fileName:e};return this.httpMgr.doGet(this.serviceName,"getWriterFormatForFileName",t)},InputOutputServices.prototype.clearData=function(){var e={};return this.httpMgr.doPost(this.serviceName,"clearData",e)},InputOutputServices.prototype.getSupportedFormats=function(e){var t={extensionID:e};return this.httpMgr.doGet(this.serviceName,"getSupportedFormats",t).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push(new o.a(e[n].name,e[n].defaultMimeType,e[n].defaultFileExtension));return t.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),t})},InputOutputServices.prototype.getInputRDFFormats=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getInputRDFFormats",e).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].name,i=e[n].charset,a=e[n].fileExtensions,s=e[n].standardURI,l=e[n].mimetypes,c=e[n].defaultMIMEType,p=e[n].defaultFileExtension;t.push(new o.b(r,i,a,s,l,c,p))}return t.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),t})},InputOutputServices=s([n.i(r.g)(),l("design:paramtypes",[i.a,a.a])],InputOutputServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(45),s=n(157),l=n(8),c=n(12),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function Sheet2RDFServices(e,t){this.httpMgr=e,this.resourcesService=t,this.serviceName="Sheet2RDF"}return Sheet2RDFServices.prototype.uploadSpreadsheet=function(e,t){var n={file:e,fsNamingStrategy:t};return this.httpMgr.uploadFile(this.serviceName,"uploadSpreadsheet",n)},Sheet2RDFServices.prototype.getHeaders=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"getHeaders",t).flatMap(function(t){for(var n=s.d.parseSubjectHeader(t.subject),r=[],i=t.headers,a=0;a<i.length;a++)r.push(s.d.parseSimpleHeader(i[a]));return null!=n.graph.type?e.resourcesService.getResourceDescription(n.graph.type).map(function(e){return n.graph.type=e,{subject:n,headers:r}}):o.Observable.of({subject:n,headers:r})})},Sheet2RDFServices.prototype.getHeaderFromId=function(e){var t=this,n={headerId:e};return this.httpMgr.doGet(this.serviceName,"getHeaderFromId",n).flatMap(function(e){var n=s.d.parseSimpleHeader(e),r=[];return n.graph.forEach(function(e){e instanceof s.b&&(null!=e.property&&r.push(e.property),null!=e.type&&r.push(e.type))}),r.length>0?t.resourcesService.getResourcesInfo(r).map(function(e){return e.forEach(function(e){n.graph.forEach(function(t){t instanceof s.b&&(null!=t.property&&t.property.equals(e)&&(t.property=e),null!=t.type&&t.type.equals(e)&&(t.type=e))})}),n}):o.Observable.of(n)})},Sheet2RDFServices.prototype.ignoreHeader=function(e,t){var n={headerId:e,ignore:t};return this.httpMgr.doPost(this.serviceName,"ignoreHeader",n)},Sheet2RDFServices.prototype.addSimpleGraphApplicationToHeader=function(e,t,n,r){var o={headerId:e,property:t,nodeId:n,type:r};return this.httpMgr.doPost(this.serviceName,"addSimpleGraphApplicationToHeader",o)},Sheet2RDFServices.prototype.addAdvancedGraphApplicationToHeader=function(e,t,n,r,o){var i={headerId:e,graphPattern:t,nodeIds:n,prefixMapping:JSON.stringify(r),defaultPredicate:o};return this.httpMgr.doPost(this.serviceName,"addAdvancedGraphApplicationToHeader",i)},Sheet2RDFServices.prototype.updateSimpleGraphApplication=function(e,t,n,r,o){var i={headerId:e,graphId:t,property:n,nodeId:r,type:o};return this.httpMgr.doPost(this.serviceName,"updateSimpleGraphApplication",i)},Sheet2RDFServices.prototype.updateAdvancedGraphApplication=function(e,t,n,r,o,i){var a={headerId:e,graphId:t,graphPattern:n,nodeIds:r,prefixMapping:JSON.stringify(o),defaultPredicate:i};return this.httpMgr.doPost(this.serviceName,"updateAdvancedGraphApplication",a)},Sheet2RDFServices.prototype.removeGraphApplicationFromHeader=function(e,t){var n={headerId:e,graphId:t};return this.httpMgr.doPost(this.serviceName,"removeGraphApplicationFromHeader",n)},Sheet2RDFServices.prototype.isNodeIdAlreadyUsed=function(e){var t={nodeId:e};return this.httpMgr.doGet(this.serviceName,"isNodeIdAlreadyUsed",t)},Sheet2RDFServices.prototype.addNodeToHeader=function(e,t,n,r,o,i,a,s){var l={headerId:e,nodeId:t,converterCapability:n,converterContract:r,converterDatatypeUri:o,converterLanguage:i,converterParams:null!=a?this.getMapSerialization(a):null,memoize:s};return this.httpMgr.doPost(this.serviceName,"addNodeToHeader",l)},Sheet2RDFServices.prototype.updateNodeInHeader=function(e,t,n,r,o,i,a,s){var l={headerId:e,nodeId:t,converterCapability:n,converterContract:r,converterDatatypeUri:o,converterLanguage:i,converterParams:null!=a?this.getMapSerialization(a):null,memoize:s};return this.httpMgr.doPost(this.serviceName,"updateNodeInHeader",l)},Sheet2RDFServices.prototype.removeNodeFromHeader=function(e,t){var n={headerId:e,nodeId:t};return this.httpMgr.doPost(this.serviceName,"removeNodeFromHeader",n)},Sheet2RDFServices.prototype.updateSubjectHeader=function(e,t,n,r,o){var i={headerId:e,converterContract:t,converterParams:null!=n?this.getMapSerialization(n):null,type:r,memoize:o};return this.httpMgr.doPost(this.serviceName,"updateSubjectHeader",i)},Sheet2RDFServices.prototype.replicateMultipleHeader=function(e){var t={headerId:e};return this.httpMgr.doPost(this.serviceName,"replicateMultipleHeader",t)},Sheet2RDFServices.prototype.exportStatus=function(){var e={};return this.httpMgr.downloadFile(this.serviceName,"exportStatus",e)},Sheet2RDFServices.prototype.importStatus=function(e){var t={statusFile:e};return this.httpMgr.uploadFile(this.serviceName,"importStatus",t)},Sheet2RDFServices.prototype.getTablePreview=function(e){var t={maxRows:e};return this.httpMgr.doGet(this.serviceName,"getTablePreview",t)},Sheet2RDFServices.prototype.getPearl=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getPearl",e)},Sheet2RDFServices.prototype.savePearl=function(e){var t={pearlCode:e};return this.httpMgr.doPost(this.serviceName,"savePearl",t)},Sheet2RDFServices.prototype.validateGraphPattern=function(e){var t={pearlCode:e};return this.httpMgr.doPost(this.serviceName,"validateGraphPattern",t)},Sheet2RDFServices.prototype.uploadPearl=function(e){var t={file:e};return this.httpMgr.uploadFile(this.serviceName,"uploadPearl",t)},Sheet2RDFServices.prototype.getTriplesPreview=function(e){var t={maxTableRows:e};return this.httpMgr.doGet(this.serviceName,"getTriplesPreview",t).map(function(e){return e.returned,e})},Sheet2RDFServices.prototype.addTriples=function(){var e={};return this.httpMgr.doGet(this.serviceName,"addTriples",e)},Sheet2RDFServices.prototype.exportTriples=function(e){var t={outputFormat:e.name};return this.httpMgr.downloadFile(this.serviceName,"exportTriples",t)},Sheet2RDFServices.prototype.getPrefixMappings=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getPrefixMappings",e).map(function(e){for(var t=[],n=0;n<e.length;n++){var r={prefix:e[n].prefix,namespace:e[n].namespace,explicit:e[n].explicit};t.push(r)}return t})},Sheet2RDFServices.prototype.getDefaultAdvancedGraphApplicationConfigurations=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getDefaultAdvancedGraphApplicationConfigurations",e).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push(a.b.deserialize(e[n]));return t})},Sheet2RDFServices.prototype.getConfiguration=function(e){var t={identifier:e};return this.httpMgr.doGet(this.serviceName,"getConfiguration",t).map(function(e){return a.a.parse(e)})},Sheet2RDFServices.prototype.closeSession=function(){var e={};return this.httpMgr.doGet(this.serviceName,"closeSession",e).map(function(e){return l.c.removeSessionToken(),e})},Sheet2RDFServices.prototype.getMapSerialization=function(e){var t={},n=this;for(var r in e)!function(r){var o=e[r];if(o instanceof i.e)o=o.toNT();else if(Array.isArray(o)){var a=[];o.forEach(function(e){e instanceof i.e?a.push(e.toNT()):a.push(e)}),o=JSON.stringify(a)}else"object"==typeof o&&(o=n.getMapSerialization(o));t[r]=o}(r);return JSON.stringify(t)},Sheet2RDFServices=p([n.i(r.g)(),d("design:paramtypes",[l.a,c.a])],Sheet2RDFServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(230),i=n(108),a=n(15),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function DatatypeValidator(e,t){var n=this;this.datatypeService=e,this.eventHandler=t,this.eventSubscriptions=[],this.eventSubscriptions.push(this.eventHandler.resourceRenamedEvent.subscribe(function(e){n.userDefinedDatatypeRestrictions.has(e.oldResource.getURI())&&n.initDatatypeRestrictions().subscribe()}))}return DatatypeValidator.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},DatatypeValidator.prototype.initDatatypeRestrictions=function(){var e=this;return this.datatypeService.getDatatypeRestrictions().map(function(t){e.userDefinedDatatypeRestrictions=t})},DatatypeValidator.prototype.isValidableType=function(e){var t;if(t=this.isNumericType(e),t||(t=o.a.programmaticallyValidableType.some(function(t){return t.equals(e)})),!t){var n=this.getDatatypeFacets(e);null!=n&&(t=null!=n.pattern||null!=n.maxExclusive||null!=n.maxInclusive||null!=n.minExclusive||null!=n.minInclusive)}return t||(t=null!=this.getDatatypeEnumerations(e)),t},DatatypeValidator.prototype.isNumericType=function(e){var t;if(!(t=o.a.xsdNumericDatatypes.some(function(t){return t.equals(e)}))){var n=this.userDefinedDatatypeRestrictions.get(e.getURI());null!=n&&null!=n.facets&&n.facets.base&&(t=o.a.xsdNumericDatatypes.some(function(e){return e.equals(n.facets.base)}))}return t},DatatypeValidator.prototype.getDatatypeFacets=function(e){var t=o.a.typeRestrictionsMap.get(e.getURI());if(null==t&&(t=o.a.notStandardRestrictionsMap.get(e.getURI())),null==t){var n=this.userDefinedDatatypeRestrictions.get(e.getURI());null!=n&&null!=n.facets&&(t=n.facets.facets)}return t},DatatypeValidator.prototype.getDatatypeEnumerations=function(e){var t,n=this.userDefinedDatatypeRestrictions.get(e.getURI());return null!=n&&(t=n.enumerations),t},DatatypeValidator.prototype.isValid=function(e,t){var n=!0,r=this.getDatatypeFacets(t);if(null!=r){var o=e.getValue();null==r.pattern||new RegExp("^"+r.pattern+"$").test(o)||(n=!1),null!=r.maxExclusive&&+o>=r.maxExclusive&&(n=!1),null!=r.maxInclusive&&+o>r.maxInclusive&&(n=!1),null!=r.minExclusive&&+o<=r.minExclusive&&(n=!1),null!=r.minInclusive&&+o<r.minInclusive&&(n=!1)}var i=this.getDatatypeEnumerations(t);return null!=i&&(i.some(function(t){return t.equals(e)})||(n=!1)),n},DatatypeValidator=s([n.i(r.g)(),l("design:paramtypes",[i.a,a.a])],DatatypeValidator)}()},,,,,,,,function(e,t,n){"use strict";function streamGeometry(e,t){e&&o.hasOwnProperty(e.type)&&o[e.type](e,t)}function streamLine(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function streamPolygon(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)streamLine(e[n],t,1);t.polygonEnd()}var r={Feature:function(e,t){streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)streamGeometry(n[r].geometry,t)}},o={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)streamLine(n[r],t,0)},Polygon:function(e,t){streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)streamPolygon(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)streamGeometry(n[r],t)}};t.a=function(e,t){e&&r.hasOwnProperty(e.type)?r[e.type](e,t):streamGeometry(e,t)}},function(e,t,n){"use strict";var r=n(1418);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=Array.prototype,o=r.map,i=r.slice},function(e,t,n){"use strict";function linearish(e){var t=e.domain;return e.ticks=function(e){var o=t();return n.i(r.c)(o[0],o[o.length-1],null==e?10:e)},e.tickFormat=function(e,r){var i=t();return n.i(o.a)(i[0],i[i.length-1],null==e?10:e,r)},e.nice=function(o){null==o&&(o=10);var i,a=t(),s=0,l=a.length-1,c=a[s],p=a[l];return p<c&&(i=c,c=p,p=i,i=s,s=l,l=i),i=n.i(r.d)(c,p,o),i>0?(c=Math.floor(c/i)*i,p=Math.ceil(p/i)*i,i=n.i(r.d)(c,p,o)):i<0&&(c=Math.ceil(c*i)/i,p=Math.floor(p*i)/i,i=n.i(r.d)(c,p,o)),i>0?(a[s]=Math.floor(c/i)*i,a[l]=Math.ceil(p/i)*i,t(a)):i<0&&(a[s]=Math.ceil(c*i)/i,a[l]=Math.floor(p*i)/i,t(a)),e},e}t.a=linearish;var r=n(62),o=(n(126),n(75),n(759))},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){e.exports=n.p+"assets/images/cls_create.png"},,,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function Size(){}return Size.Rectangle={base:100,height:40},Size.Square={side:70},Size.Circle={radius:40},Size.RectangleUml={base:150,height:40},Size.Octagon={base:Size.Rectangle.base,height:Size.Rectangle.height,cut:10},Size.Label={base:90,height:40,cut:10},Size}(),o=function(){function Constants(){}return Constants.normalVectorMultiplier=20,Constants.loopPathMultiplier=20,Constants}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function Link(e,t,n,r){this.offset=0,this.source=e,this.target=t,this.res=n,this.classAxiom=r,this.openBy=[]}return Link.prototype.getShow=function(){return this.source.getShow()+" --"+this.res.getShow()+"--\x3e "+this.target.getShow()},Link}()},function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return r}),n.d(t,"f",function(){return p});var r,o=n(3),i=function(){function ConverterContractDescription(e,t,n,r,o,i){this.uri=e,this.name=t,this.description=n,this.rdfCapability=r,this.datatypes=o,this.signatures=i}return ConverterContractDescription.prototype.getURI=function(){return this.uri},ConverterContractDescription.prototype.getQName=function(){return this.uri.replace(ConverterContractDescription.NAMESPACE,ConverterContractDescription.PREFIX+":")},ConverterContractDescription.prototype.getName=function(){return this.name},ConverterContractDescription.prototype.getDescription=function(){return this.description},ConverterContractDescription.prototype.getRDFCapability=function(){return this.rdfCapability},ConverterContractDescription.prototype.getDatatypes=function(){return this.datatypes},ConverterContractDescription.prototype.getSignatures=function(){return this.signatures},ConverterContractDescription.prototype.getSerialization=function(e){var t="";return t+=e.getReturnType().endsWith(".Literal")?"literal":"uri",this.uri!=ConverterContractDescription.NAMESPACE+"default"&&(t+="(",t+=this.getQName(),t+="(",t+=e.getParameters().map(function(e){return e.getName()}).join(", "),t+=")",t+=")"),t},ConverterContractDescription.NAMESPACE="http://art.uniroma2.it/coda/contracts/",ConverterContractDescription.PREFIX="coda",ConverterContractDescription}(),a=function(){function ConverterUtils(){}return ConverterUtils.getConverterProjectionOperator=function(e,t,n){var a="";return a+=e.getRDFCapability()==r.uri?o.h.uri:o.h.literal,e.getURI()==i.NAMESPACE+"default"?n:(a+="("+e.getURI().replace(i.NAMESPACE,i.PREFIX+":")+"(",null!=t&&(a+=this.serializeConverterParams(t)),a+="))")},ConverterUtils.serializeConverterParams=function(e){var t="";if(null!=e){for(var n=e.getParameters(),r=0;r<n.length;r++)n[r].getType().startsWith("java.util.Map")?t+='{ key = "value"}, ':t+='"'+e.getParameters()[r].getName()+'", ';t=t.slice(0,-2)}return t},ConverterUtils.getConverterQName=function(e){return e.replace(i.NAMESPACE,i.PREFIX+":")},ConverterUtils}(),s=function(){function SignatureDescription(e,t,n){this.returnType=e,this.featurePathRequiredLevel=t,this.parameters=n}return SignatureDescription.prototype.getReturnType=function(){return this.returnType},SignatureDescription.prototype.getRequirementLevels=function(){return this.featurePathRequiredLevel},SignatureDescription.prototype.getParameters=function(){return this.parameters},SignatureDescription}(),l=function(){function ParameterDescription(e,t,n){this.name=e,this.type=t,this.description=n}return ParameterDescription.prototype.getName=function(){return this.name},ParameterDescription.prototype.getType=function(){return this.type},ParameterDescription.prototype.getDescription=function(){return this.description},ParameterDescription}();!function(e){e.node="node",e.uri="uri",e.literal="literal"}(r||(r={}));var c;!function(e){e.REQUIRED="REQUIRED",e.OPTIONAL="OPTIONAL",e.IGNORED="IGNORED"}(c||(c={}));var p;!function(e){e.concept="concept",e.conceptScheme="conceptScheme",e.skosCollection="skosCollection",e.xLabel="xLabel",e.xNote="xNote",e.undetermined="undetermined"}(p||(p={}))},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return r});var r,o=n(3),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=function(){function SimpleHeader(){}return SimpleHeader.isNodeReferenced=function(e,t){var n=!1;return e.graph.forEach(function(e){e instanceof l?e.nodeId==t.nodeId&&(n=!0):e instanceof c&&-1!=e.nodeIds.indexOf(t.nodeId)&&(n=!0)}),n},SimpleHeader}(),s=(function(){function NameStruct(){}}(),function(){function SubjectHeader(){}}(),function(){function NodeConversion(){}}(),function(){function GraphApplication(){}return GraphApplication}()),l=function(e){function SimpleGraphApplication(){return null!==e&&e.apply(this,arguments)||this}return i(SimpleGraphApplication,e),SimpleGraphApplication}(s),c=function(e){function AdvancedGraphApplication(){return null!==e&&e.apply(this,arguments)||this}return i(AdvancedGraphApplication,e),AdvancedGraphApplication}(s),p=function(){function CODAConverter(){}return CODAConverter}(),d=(function(){function TableContent(){}}(),function(){function TableCell(){}}(),function(){function TableRow(){}}(),function(){function TriplePreview(){}}(),function(){function Sheet2RdfDeserializer(){}return Sheet2RdfDeserializer.parseSubjectHeader=function(e){var t,n=e.node,r=e.graph;return null!=r&&(t=this.parseGraphApplication(r)),{id:e.id,pearlFeature:e.pearlFeature,node:n,graph:t}},Sheet2RdfDeserializer.parseSimpleHeader=function(e){var t=this,n=e.nodes,r=[];return e.graph.forEach(function(e){r.push(t.parseGraphApplication(e))}),{id:e.id,nameStruct:e.nameStruct,pearlFeature:e.pearlFeature,isMultiple:e.isMultiple,ignore:e.ignore,nodes:n,graph:r}},Sheet2RdfDeserializer.parseGraphApplication=function(e){if(e.hasOwnProperty("nodeId")){var t=new l;return t.id=e.id,t.nodeId=e.nodeId,t.property=e.property?new o.b(e.property):null,t.type=e.type?new o.b(e.type):null,t}var t=new c;return t.id=e.id,t.nodeIds=e.nodeIds,t.pattern=e.pattern,t.prefixMapping=e.prefixMapping,t.defaultPredicate=e.defaultPredicate?new o.b(e.defaultPredicate):null,t},Sheet2RdfDeserializer}());!function(e){e.columnAlphabeticIndex="columnAlphabeticIndex",e.columnNumericIndex="columnNumericIndex",e.normalizedHeaderName="normalizedHeaderName"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(46),i=n(17),a=n(36),s=n(8),l=n(6),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function AuthServices(e,t){this.httpMgr=e,this.router=t,this.serviceName="Auth"}return AuthServices.prototype.login=function(e,t,n){var r={email:e,password:t,_spring_security_remember_me:n},o=new s.b({errorAlertOpt:{show:!1}});return this.httpMgr.doPost(this.serviceName,"login",r,o).map(function(e){var t=a.a.createUser(e);return l.a.setLoggedUser(t),t})},AuthServices.prototype.logout=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"logout",t).map(function(t){return e.router.navigate(["/Home"]),l.a.removeLoggedUser(),l.a.removeWorkingProject(),i.a.reset(),t})},AuthServices=c([n.i(r.g)(),p("design:paramtypes",[s.a,o.c])],AuthServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(45),i=n(182),a=n(8),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function CustomServiceServices(e){this.httpMgr=e,this.serviceName="CustomServices"}return CustomServiceServices.prototype.getCustomServiceIdentifiers=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getCustomServiceIdentifiers",e)},CustomServiceServices.prototype.getCustomServiceId=function(e){var t={name:e};return this.httpMgr.doGet(this.serviceName,"getCustomServiceId",t)},CustomServiceServices.prototype.getCustomService=function(e){var t={id:e};return this.httpMgr.doGet(this.serviceName,"getCustomService",t).map(function(t){var n=i.a.parse(t);n.id=e;var r=n.getPropertyValue("operations");return null!=r&&(r.forEach(function(t){return t.serviceId=e}),r.sort(function(e,t){return e.name.localeCompare(t.name)})),n})},CustomServiceServices.prototype.createCustomService=function(e,t){var n={id:e,definition:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"createCustomService",n)},CustomServiceServices.prototype.updateCustomService=function(e,t){var n={id:e,definition:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"updateCustomService",n)},CustomServiceServices.prototype.deleteCustomService=function(e){var t={id:e};return this.httpMgr.doPost(this.serviceName,"deleteCustomService",t)},CustomServiceServices.prototype.getOperationForms=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getOperationForms",e).map(function(e){var t=[];return e.forEach(function(e){t.push(o.a.parse(e))}),t})},CustomServiceServices.prototype.addOperationToCustomService=function(e,t){var n={id:e,operationDefinition:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"addOperationToCustomService",n)},CustomServiceServices.prototype.removeOperationFromCustomService=function(e,t){var n={id:e,operationName:t};return this.httpMgr.doPost(this.serviceName,"removeOperationFromCustomService",n)},CustomServiceServices.prototype.updateOperationInCustomService=function(e,t,n){var r={id:e,operationDefinition:JSON.stringify(t),oldOperationName:n};return this.httpMgr.doPost(this.serviceName,"updateOperationInCustomService",r)},CustomServiceServices.prototype.reloadCustomService=function(e){var t={id:e};return this.httpMgr.doPost(this.serviceName,"reloadCustomService",t)},CustomServiceServices.prototype.reloadCustomServices=function(){var e={};return this.httpMgr.doPost(this.serviceName,"reloadCustomServices",e)},CustomServiceServices=s([n.i(r.g)(),l("design:paramtypes",[a.a])],CustomServiceServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(8),i=n(36),a=n(15),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function IndividualsServices(e,t){this.httpMgr=e,this.eventHandler=t,this.serviceName="Individuals"}return IndividualsServices.prototype.getNamedTypes=function(e,t){var n={individual:e};return this.httpMgr.doGet(this.serviceName,"getNamedTypes",n,t).map(function(e){return i.a.createURIArray(e)})},IndividualsServices.prototype.addType=function(e,t){var n=this,r={individual:e,type:t};return this.httpMgr.doGet(this.serviceName,"addType",r).map(function(r){return n.eventHandler.typeAddedEvent.emit({resource:e,type:t}),r})},IndividualsServices.prototype.removeType=function(e,t){var n=this,r={individual:e,type:t};return this.httpMgr.doGet(this.serviceName,"removeType",r).map(function(r){return n.eventHandler.typeRemovedEvent.emit({resource:e,type:t}),r})},IndividualsServices=s([n.i(r.g)(),l("design:paramtypes",[o.a,a.a])],IndividualsServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(8),i=n(15),a=n(6),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function MetadataServices(e,t){this.httpMgr=e,this.eventHandler=t,this.serviceName="Metadata"}return MetadataServices.prototype.getNamespaceMappings=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getNamespaceMappings",e).map(function(e){for(var t=[],n=0;n<e.length;n++){var r={prefix:e[n].prefix,namespace:e[n].namespace,explicit:e[n].explicit};t.push(r)}return t.sort(function(e,t){return e.prefix.localeCompare(t.prefix)}),a.a.setPrefixMappings(t),t})},MetadataServices.prototype.setNSPrefixMapping=function(e,t){var n={prefix:e,namespace:t};return this.httpMgr.doPost(this.serviceName,"setNSPrefixMapping",n)},MetadataServices.prototype.removeNSPrefixMapping=function(e){var t={namespace:e};return this.httpMgr.doPost(this.serviceName,"removeNSPrefixMapping",t)},MetadataServices.prototype.changeNSPrefixMapping=function(e,t){var n={prefix:e,namespace:t};return this.httpMgr.doPost(this.serviceName,"changeNSPrefixMapping",n)},MetadataServices.prototype.getImports=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"getImports",t).map(function(t){for(var n=[],r=0;r<t.length;r++)n.push(e.parseImport(t[r]));return n})},MetadataServices.prototype.parseImport=function(e){var t=e["@id"],n=e.status,r=[];if(null!=e.imports)for(var o=0;o<e.imports.length;o++)r.push(this.parseImport(e.imports[o]));return{id:t,status:n,imports:r}},MetadataServices.prototype.removeImport=function(e){var t=this,n={baseURI:e};return this.httpMgr.doPost(this.serviceName,"removeImport",n).map(function(e){return t.eventHandler.refreshDataBroadcastEvent.emit(),e})},MetadataServices.prototype.addFromWeb=function(e,t,n,r){var o=this,i={baseURI:e,transitiveImportAllowance:t};return void 0!=n&&(i.altUrl=n),void 0!=r&&(i.rdfFormat=r.name),this.httpMgr.doPost(this.serviceName,"addFromWeb",i).map(function(e){return o.eventHandler.refreshDataBroadcastEvent.emit(),e})},MetadataServices.prototype.addFromWebToMirror=function(e,t,n,r,o){var i=this,a={baseURI:e,mirrorFile:t,transitiveImportAllowance:n};return void 0!=r&&(a.altUrl=r),void 0!=o&&(a.rdfFormat=o.name),this.httpMgr.doPost(this.serviceName,"addFromWebToMirror",a).map(function(e){return i.eventHandler.refreshDataBroadcastEvent.emit(),e})},MetadataServices.prototype.addFromLocalFile=function(e,t,n,r){var o=this,i={baseURI:e,localFile:t,mirrorFile:n,transitiveImportAllowance:r};return this.httpMgr.uploadFile(this.serviceName,"addFromLocalFile",i).map(function(e){return o.eventHandler.refreshDataBroadcastEvent.emit(),e})},MetadataServices.prototype.addFromMirror=function(e,t,n){var r=this,o={baseURI:e,mirrorFile:t,transitiveImportAllowance:n};return this.httpMgr.doPost(this.serviceName,"addFromMirror",o).map(function(e){return r.eventHandler.refreshDataBroadcastEvent.emit(),e})},MetadataServices.prototype.getFromLocalFile=function(e,t,n,r){var o=this,i={baseURI:e,localFile:t,mirrorFile:n,transitiveImportAllowance:r};return this.httpMgr.uploadFile(this.serviceName,"getFromLocalFile",i).map(function(e){return o.eventHandler.refreshDataBroadcastEvent.emit(),e})},MetadataServices.prototype.downloadFromWeb=function(e,t,n,r){var o=this,i={baseURI:e,transitiveImportAllowance:t};return void 0!=n&&(i.altUrl=n),void 0!=r&&(i.rdfFormat=r.name),this.httpMgr.doPost(this.serviceName,"downloadFromWeb",i).map(function(e){return o.eventHandler.refreshDataBroadcastEvent.emit(),e})},MetadataServices.prototype.downloadFromWebToMirror=function(e,t,n,r,o){var i=this,a={baseURI:e,mirrorFile:t,transitiveImportAllowance:n};return void 0!=r&&(a.altUrl=r),void 0!=o&&(a.rdfFormat=o.name),this.httpMgr.doPost(this.serviceName,"downloadFromWebToMirror",a).map(function(e){return i.eventHandler.refreshDataBroadcastEvent.emit(),e})},MetadataServices.prototype.getDefaultNamespace=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getDefaultNamespace",e)},MetadataServices.prototype.setDefaultNamespace=function(e){var t={namespace:e};return this.httpMgr.doPost(this.serviceName,"setDefaultNamespace",t).map(function(t){return a.a.getWorkingProject().setDefaultNamespace(e),t})},MetadataServices.prototype.getBaseURI=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getBaseURI",e)},MetadataServices.prototype.expandQName=function(e){var t={qname:e};return this.httpMgr.doGet(this.serviceName,"expandQName",t)},MetadataServices=s([n.i(r.g)(),l("design:paramtypes",[o.a,i.a])],MetadataServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(3),i=n(12),a=n(36),s=n(8),l=n(6),c=n(15),p=n(21),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function RefactorServices(e,t,n,r){this.httpMgr=e,this.eventHandler=t,this.preferences=n,this.resourceService=r,this.serviceName="Refactor"}return RefactorServices.prototype.SKOStoSKOSXL=function(e){var t=this,n={reifyNotes:e};return this.httpMgr.doGet(this.serviceName,"SKOStoSKOSXL",n).map(function(e){t.eventHandler.refreshDataBroadcastEvent.emit(null)})},RefactorServices.prototype.SKOSXLtoSKOS=function(e){var t=this,n={flattenNotes:e};return this.httpMgr.doGet(this.serviceName,"SKOSXLtoSKOS",n).map(function(e){t.eventHandler.refreshDataBroadcastEvent.emit(null)})},RefactorServices.prototype.changeResourceURI=function(e,t){var n=this,r={oldResource:e,newResource:t};return this.httpMgr.doGet(this.serviceName,"changeResourceURI",r).flatMap(function(r){return n.resourceService.getResourceDescription(t).map(function(t){var i=new o.b(e.getURI());return n.eventHandler.resourceRenamedEvent.emit({oldResource:i,newResource:t}),r})})},RefactorServices.prototype.replaceBaseURI=function(e,t){var n=this,r={targetBaseURI:new o.b(e)};return void 0!=t&&(r.sourceBaseURI=new o.b(t)),this.httpMgr.doPost(this.serviceName,"replaceBaseURI",r).map(function(r){null!=t&&t!=l.a.getWorkingProject().getBaseURI()||(l.a.getWorkingProject().setBaseURI(e),n.preferences.setActiveSchemes(l.a.getWorkingProjectCtx(),[])),n.eventHandler.refreshDataBroadcastEvent.emit(null)})},RefactorServices.prototype.migrateDefaultGraphToBaseURIGraph=function(e){var t=this,n={};return void 0!=e&&(n.clearDestinationGraph=e),this.httpMgr.doGet(this.serviceName,"migrateDefaultGraphToBaseURIGraph",n).map(function(e){t.eventHandler.refreshDataBroadcastEvent.emit(null)})},RefactorServices.prototype.spawnNewConceptFromLabel=function(e,t,n,r,i,s){var l=this,c={xLabel:e,conceptSchemes:t};return void 0!=n&&(c.oldConcept=n),void 0!=r&&(c.newConcept=r),void 0!=i&&(c.broaderConcept=i),null!=s&&(c.customFormValue=s),this.httpMgr.doPost(this.serviceName,"spawnNewConceptFromLabel",c).map(function(e){return a.a.createURI(e)}).flatMap(function(e){return l.resourceService.getResourceDescription(e).map(function(e){return e.setAdditionalProperty(o.a.NEW,!0),null!=i?(l.eventHandler.narrowerCreatedEvent.emit({narrower:e,broader:i}),e):(l.eventHandler.topConceptCreatedEvent.emit({concept:e,schemes:t}),{concept:e,schemes:t})})})},RefactorServices.prototype.moveXLabelToResource=function(e,t,n,r,o){var i={sourceResource:e,predicate:t,xLabel:n,targetResource:r};void 0!=o&&(i.force=o);var a=new s.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.exceptions.AlreadyExistingLiteralFormForResourceException"]}});return this.httpMgr.doPost(this.serviceName,"moveXLabelToResource",i,a)},RefactorServices=d([n.i(r.g)(),u("design:paramtypes",[s.a,c.a,p.a,i.a])],RefactorServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(183),i=n(8),a=n(45),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function ResourceMetadataServices(e){this.httpMgr=e,this.serviceName="ResourceMetadata"}return ResourceMetadataServices.prototype.listAssociations=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listAssociations",e).map(function(e){var t=[];return e.forEach(function(e){t.push({ref:e.ref,role:e.role,pattern:{reference:e.patternRef,name:a.b.getRelativeReferenceIdentifier(e.patternRef),scope:a.b.getRelativeReferenceScope(e.patternRef)}})}),t.sort(function(e,t){return e.role==t.role?e.pattern.reference.localeCompare(t.pattern.reference):e.role.localeCompare(t.role)}),t})},ResourceMetadataServices.prototype.addAssociation=function(e,t){var n={role:e,patternReference:t};return this.httpMgr.doPost(this.serviceName,"addAssociation",n)},ResourceMetadataServices.prototype.deleteAssociation=function(e){var t={reference:e};return this.httpMgr.doPost(this.serviceName,"deleteAssociation",t)},ResourceMetadataServices.prototype.getPatternIdentifiers=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getPatternIdentifiers",e).map(function(e){return e.sort()})},ResourceMetadataServices.prototype.getFactoryPatternIdentifiers=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getFactoryPatternIdentifiers",e).map(function(e){return e.sort()})},ResourceMetadataServices.prototype.getLibraryPatternIdentifiers=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getLibraryPatternIdentifiers",e).map(function(e){return e.sort()})},ResourceMetadataServices.prototype.getPattern=function(e){var t={reference:e};return this.httpMgr.doGet(this.serviceName,"getPattern",t).map(function(e){return o.b.parse(e)})},ResourceMetadataServices.prototype.createPattern=function(e,t){var n={reference:e,definition:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"createPattern",n)},ResourceMetadataServices.prototype.updatePattern=function(e,t){var n={reference:e,definition:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"updatePattern",n)},ResourceMetadataServices.prototype.deletePattern=function(e){var t={reference:e};return this.httpMgr.doPost(this.serviceName,"deletePattern",t)},ResourceMetadataServices.prototype.importPatternFromLibrary=function(e,t){var n={reference:e,name:t};return this.httpMgr.doPost(this.serviceName,"importPatternFromLibrary",n)},ResourceMetadataServices.prototype.storePatternInLibrary=function(e,t){var n={reference:e,name:t};return this.httpMgr.doPost(this.serviceName,"storePatternInLibrary",n)},ResourceMetadataServices.prototype.clonePattern=function(e,t){var n={reference:e,name:t};return this.httpMgr.doPost(this.serviceName,"clonePattern",n)},ResourceMetadataServices.prototype.exportPattern=function(e){var t={reference:e};return this.httpMgr.downloadFile(this.serviceName,"exportPattern",t)},ResourceMetadataServices.prototype.importPattern=function(e,t){var n={inputFile:e,name:t};return this.httpMgr.uploadFile(this.serviceName,"importPattern",n)},ResourceMetadataServices=s([n.i(r.g)(),l("design:paramtypes",[i.a])],ResourceMetadataServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(42),i=n(8),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function SettingsServices(e){this.httpMgr=e,this.serviceName="Settings"}return SettingsServices.prototype.getSettingsScopes=function(e){var t={componentID:e};return this.httpMgr.doGet(this.serviceName,"getSettingsScopes",t)},SettingsServices.prototype.getSettings=function(e,t){var n={componentID:e,scope:t};return this.httpMgr.doGet(this.serviceName,"getSettings",n).map(function(e){return o.b.parse(e)})},SettingsServices.prototype.storeSettings=function(e,t,n){var r={componentID:e,scope:t,settings:JSON.stringify(n)};return this.httpMgr.doPost(this.serviceName,"storeSettings",r)},SettingsServices=a([n.i(r.g)(),s("design:paramtypes",[i.a])],SettingsServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(16),i=n(2),a=n(14),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function AbstractCustomConstructorModal(e,t,n){this.formFields=[],this.cfService=e,this.basicModals=t,this.browsingModals=n}return AbstractCustomConstructorModal.prototype.changeClassWithRoot=function(e){var t=this;this.browsingModals.browseClassTree("Change class",[e]).then(function(e){e.getURI()!=t.resourceClass.getURI()&&(t.resourceClass=e,t.selectCustomForm())},function(){})},AbstractCustomConstructorModal.prototype.selectCustomForm=function(){var e=this;this.cfService.getCustomConstructors(this.resourceClass).subscribe(function(t){if(0==t.length)e.customFormId=null,e.formFields=[];else{if(1!=t.length)return e.basicModals.selectCustomForm("Select constructor",t).then(function(t){e.customFormId=t.getId()},function(){});e.customFormId=t[0].getId()}})},AbstractCustomConstructorModal.prototype.collectCustomFormData=function(){for(var e={},t=0;t<this.formFields.length;t++){var n=this.formFields[t],r=n.value,o=!1;try{""==r.trim()&&(o=!0)}catch(e){}if(!o){var i=!1;for(var a in e)if(a==n.getUserPrompt()){i=!0;break}i||(e[n.getUserPrompt()]=r)}}return e},AbstractCustomConstructorModal.prototype.onKeydown=function(e){13==e.which&&this.isInputValid()&&this.ok(e)},AbstractCustomConstructorModal.prototype.isInputValid=function(){var e=this.isStandardFormDataValid(),t=this.isCustomFormDataValid();return e&&t},AbstractCustomConstructorModal.prototype.isCustomFormDataValid=function(){for(var e=0;e<this.formFields.length;e++){var t=this.formFields[e],n=t.value,r=!1;try{""==n.trim()&&(r=!0)}catch(e){}if(t.isMandatory()&&(null==n||r))return!1}return!0},AbstractCustomConstructorModal=s([n.i(r.c)({selector:"custom-constructor",template:""}),l("design:paramtypes",[o.a,i.a,a.a])],AbstractCustomConstructorModal)}()},,,,,function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";var r=n(1312);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function Adder(){this.reset()}function add(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}t.a=function(){return new Adder},Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(e){add(r,e,this.t),add(this,r.s,this.s),this.s?this.t+=r.t:this.s=r.t},valueOf:function(){return this.s}};var r=new Adder},function(e,t,n){"use strict";function linear(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hue(e,t){var o=t-e;return o?linear(e,o>180||o<-180?o-360*Math.round(o/360):o):n.i(r.a)(isNaN(e)?t:e)}function gamma(e){return 1==(e=+e)?nogamma:function(t,o){return o-t?exponential(t,o,e):n.i(r.a)(isNaN(t)?o:t)}}function nogamma(e,t){var o=t-e;return o?linear(e,o):n.i(r.a)(isNaN(e)?t:e)}t.b=hue,t.c=gamma,t.a=nogamma;var r=n(748)},function(e,t,n){"use strict";t.a=function(){return Math.random()}},,function(e,t){e.exports=".gridRow { \r\n    margin-bottom: 8px;\r\n}\r\n.gridEntry {\r\n    display: flex;\r\n    flex-flow: row;\r\n    flex: 1;\r\n    min-height: 0;\r\n    min-width: 0;\r\n    align-items: center;\r\n}\r\n.entryLabel {\r\n    text-align: right;\r\n    padding: 0px 8px;\r\n    min-width: 130px;\r\n    width: 130px;\r\n    white-space: nowrap;\r\n}\r\n.entryRequired {\r\n    padding: 0px 4px;\r\n    min-width: 20px;\r\n    width: 20px;\r\n}"},,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(4),i=n(457),a=n(458),s=n(459),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function CustomServiceModalServices(e){this.modal=e}return CustomServiceModalServices.prototype.openCustomServiceEditor=function(e,t){var n=new s.b(e,t),r=new o.b(n,void 0,s.b),i={context:r.keyboard(27).toJSON()};return this.modal.open(s.a,i).result},CustomServiceModalServices.prototype.openCustomOperationEditor=function(e,t,n){var r=new i.b(e,t,n),a=new o.b(r,void 0,i.b),s={context:a.keyboard(27).size("lg").toJSON()};return this.modal.open(i.a,s).result},CustomServiceModalServices.prototype.openCustomOperationView=function(e){var t=new a.b(e),n=new o.b(t,void 0,a.b),r={context:n.keyboard(27).size("lg").toJSON()};return this.modal.open(a.a,r).result},CustomServiceModalServices=l([n.i(r.g)(),c("design:paramtypes",[o.c])],CustomServiceModalServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(477),a=n(478),s=n(4),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function HistoryValidationModalServices(e){this.modal=e}return HistoryValidationModalServices.prototype.inspectParams=function(e){var t=new a.a(e),n=new s.b(t,void 0,a.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(a.b,r)},HistoryValidationModalServices.prototype.getCommitDelta=function(e){var t=new i.a(e.commit),n=new s.b(t,void 0,i.a),r={context:n.size("lg").keyboard(27).toJSON()};return this.modal.open(i.b,r)},HistoryValidationModalServices=l([n.i(r.g)(),c("design:paramtypes",[o.l])],HistoryValidationModalServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c});var r=n(45),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(){function AlignmentCell(e,t,n,r){this.entity1=e,this.entity2=t,this.measure=n,this.relation=r}return AlignmentCell.prototype.setEntity1=function(e){this.entity1=e},AlignmentCell.prototype.getEntity1=function(){return this.entity1},AlignmentCell.prototype.setEntity2=function(e){this.entity2=e},AlignmentCell.prototype.getEntity2=function(){return this.entity2},AlignmentCell.prototype.setMeasure=function(e){this.measure=e},AlignmentCell.prototype.getMeasure=function(){return this.measure},AlignmentCell.prototype.setRelation=function(e){this.relation=e},AlignmentCell.prototype.getRelation=function(){return this.relation},AlignmentCell.prototype.setMappingProperty=function(e){this.mappingProperty=e},AlignmentCell.prototype.getMappingProperty=function(){return this.mappingProperty},AlignmentCell.prototype.setSuggestedMappingProperties=function(e){this.suggestedMappingProperties=e},AlignmentCell.prototype.getSuggestedMappingProperties=function(){return this.suggestedMappingProperties},AlignmentCell.prototype.setStatus=function(e){this.status=e},AlignmentCell.prototype.getStatus=function(){return this.status},AlignmentCell.prototype.setComment=function(e){this.comment=e},AlignmentCell.prototype.getComment=function(){return this.comment},AlignmentCell}(),a=function(){function AlignmentOverview(){}return AlignmentOverview}(),s=function(){function AlignmentRelationSymbol(){}return AlignmentRelationSymbol.getKnownRelations=function(){return["=",">","<","%","HasInstance","InstanceOf"]},AlignmentRelationSymbol.getDefaultRelations=function(){return[{relation:"=",dlSymbol:"",text:"equivalent"},{relation:">",dlSymbol:"",text:"subsumes"},{relation:"<",dlSymbol:"",text:"is subsumed"},{relation:"%",dlSymbol:"",text:"incompatible"},{relation:"HasInstance",dlSymbol:"",text:"has instance"},{relation:"InstanceOf",dlSymbol:"",text:"instance of"}]},AlignmentRelationSymbol}(),l=(function(){function Correspondence(){}}(),function(e){function RemoteAlignmentServiceConfiguration(){return null!==e&&e.apply(this,arguments)||this}return o(RemoteAlignmentServiceConfiguration,e),RemoteAlignmentServiceConfiguration}(r.a)),c=function(){function RemoteAlignmentServiceConfigurationDef(){}return RemoteAlignmentServiceConfigurationDef}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var r=n(45),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=(function(){function CustomServiceDefinition(){}}(),function(e){function CustomService(){return null!==e&&e.apply(this,arguments)||this}return o(CustomService,e),CustomService}(r.a)),a=(function(e){function CustomOperation(){return null!==e&&e.apply(this,arguments)||this}o(CustomOperation,e)}(r.a),function(){function CustomOperationDefinition(){}return CustomOperationDefinition}()),s=(function(){function OperationParameter(){}}(),function(){function OperationType(){}}(),function(e){function SPARQLOperation(){return null!==e&&e.apply(this,arguments)||this}o(SPARQLOperation,e)}(a),function(){function CustomOperationTypes(){}return CustomOperationTypes.SparqlOperation="it.uniroma2.art.semanticturkey.extension.impl.customservice.sparql.SPARQLOperation",CustomOperationTypes}()),l=function(){function TypeUtils(){}return TypeUtils.getRdf4jTypes=function(){return[TypeUtils.Types.IRI,TypeUtils.Types.Literal,TypeUtils.Types.Resource,TypeUtils.Types.RDFValue]},TypeUtils.getAllTypes=function(){var e=[TypeUtils.Types.AnnotatedValue,TypeUtils.Types.boolean,TypeUtils.Types.double,TypeUtils.Types.float,TypeUtils.Types.integer,TypeUtils.Types.List,TypeUtils.Types.long,TypeUtils.Types.Map,TypeUtils.Types.short,TypeUtils.Types.String,TypeUtils.Types.TupleQueryResult,TypeUtils.Types.void];return e=e.concat(TypeUtils.getRdf4jTypes()),this.sortTypes(e),e},TypeUtils.getGenericTypes=function(){return[TypeUtils.Types.AnnotatedValue,TypeUtils.Types.List,TypeUtils.Types.Map]},TypeUtils.getGenericTypeArgs=function(e){return e==TypeUtils.Types.AnnotatedValue?["T"]:e==TypeUtils.Types.List?["E"]:e==TypeUtils.Types.Map?["K","V"]:void 0},TypeUtils.getAllowedGenericArgsMap=function(e){var t;return e==TypeUtils.Types.AnnotatedValue?t=TypeUtils.getRdf4jTypes():e!=TypeUtils.Types.List&&e!=TypeUtils.Types.Map||(t=[TypeUtils.Types.AnnotatedValue,TypeUtils.Types.boolean,TypeUtils.Types.double,TypeUtils.Types.float,TypeUtils.Types.integer,TypeUtils.Types.List,TypeUtils.Types.long,TypeUtils.Types.Map,TypeUtils.Types.short,TypeUtils.Types.String].concat(TypeUtils.getRdf4jTypes())),this.sortTypes(t),t},TypeUtils.serializeParameter=function(e){var t=TypeUtils.serializeType(e.type);return t+=" "+e.name},TypeUtils.serializeType=function(e){var t,n=this;if(t=e.name,t.indexOf(".")>0&&(t=t.substr(t.lastIndexOf(".")+1)),-1!=TypeUtils.getGenericTypes().indexOf(e.name)&&null!=e.typeArguments){t+="<"+e.typeArguments.map(function(e){return null==e?"?":n.serializeType(e)}).join(",")+">"}return t},TypeUtils.sortTypes=function(e){e.sort(function(e,t){return e.toLocaleLowerCase().localeCompare(t.toLocaleLowerCase())})},TypeUtils.isOperationTypeValid=function(e){if(null==e)return!1;if(-1==TypeUtils.getGenericTypes().indexOf(e.name))return!0;if(null==e.typeArguments)return!1;for(var t=0,n=e.typeArguments;t<n.length;t++){var r=n[t];return TypeUtils.isOperationTypeValid(r)}},TypeUtils.Types=(e=function(){function class_1(){}return class_1}(),e.AnnotatedValue="AnnotatedValue",e.boolean="boolean",e.double="double",e.float="float",e.integer="integer",e.IRI="IRI",e.List="List",e.Literal="Literal",e.long="long",e.Map="Map",e.RDFValue="RDFValue",e.Resource="Resource",e.short="short",e.String="java.lang.String",e.TupleQueryResult="TupleQueryResult",e.void="void",e),TypeUtils;var e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(45),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=(function(){function ResourceMetadataAssociation(){}}(),function(e){function ResourceMetadataPattern(){return null!==e&&e.apply(this,arguments)||this}return o(ResourceMetadataPattern,e),ResourceMetadataPattern}(r.a)),a=(function(){function ResourceMetadataPatternDefinition(){}}(),function(){function ResourceMetadataUtils(){}return ResourceMetadataUtils.convertReferenceToPatternStruct=function(e){return{reference:e,scope:r.b.getRelativeReferenceScope(e),name:r.b.getRelativeReferenceIdentifier(e)}},ResourceMetadataUtils}())},function(e,t,n){"use strict";n.d(t,"a",function(){return Z});var r=n(34),o=n(0),i=n(22),a=n(46),s=n(407),l=n(95),c=n(582),p=n(583),d=n(584),u=n(585),f=n(1077),h=n(586),g=n(587),m=n(588),v=n(1078),b=n(589),y=n(590),x=n(591),C=n(592),R=n(593),S=n(594),P=n(595),E=n(596),w=n(597),I=n(598),A=n(599),_=n(601),L=n(602),M=n(603),k=n(604),O=n(605),N=n(606),T=n(1080),D=n(607),j=n(608),F=n(609),U=n(610),V=n(611),G=n(612),B=n(613),z=n(614),H=n(615),W=n(616),q=n(617),$=n(618),Y=n(619),X=n(309),K=n(48),Q=n(600),J=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Z=function(){function TreeAndListModule(){}return TreeAndListModule=J([n.i(o.b)({imports:[r.a,i.a,a.a,K.a,s.a],declarations:[B.b,k.a,v.a,b.a,y.a,x.a,C.a,R.a,j.a,F.a,U.a,V.a,G.a,z.a,H.a,O.a,S.a,P.a,E.a,w.a,I.a,A.a,Q.a,c.a,p.a,d.a,u.a,f.a,h.a,g.a,m.a,N.a,_.a,L.a,M.a,W.a,q.a,$.a,T.a,D.a,X.a,Y.a],exports:[v.a,b.a,y.a,C.a,j.a,U.a,V.a,z.a,S.a,E.a,w.a,A.a,c.a,d.a,f.a,h.a,m.a,_.a,M.a,W.a,$.a,X.a],providers:[l.a],entryComponents:[B.b,k.a,R.a,H.a,O.a,Q.a,u.a,N.a,D.a,Y.a]})],TreeAndListModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(156),i=n(8),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function CODAServices(e){this.httpMgr=e,this.serviceName="CODA"}return CODAServices.prototype.listConverterContracts=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listConverterContracts",e).map(function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=[],a=r.signatures,s=0;s<a.length;s++){for(var l=a[s],c=[],p=l.params,d=0;d<p.length;d++){var u=p[d];c.push(new o.c(u.name,u.type,u.description))}i.push(new o.d(l.returnType,l.featurePathRequiredLevel,c))}i.sort(function(e,t){return e.getParameters().length<t.getParameters().length?-1:e.getParameters().length>t.getParameters().length?1:0});var f=new o.e(r.uri,r.name,r.description,r.rdfCapability,r.datatypes,i);t.push(f)}return t.sort(function(e,t){return e.getName()<t.getName()?-1:e.getName()>t.getName()?1:0}),t})},CODAServices.prototype.validatePearl=function(e,t){var n={pearlCode:e,rulesShouldExists:t};return this.httpMgr.doPost(this.serviceName,"validatePearl",n)},CODAServices=a([n.i(r.g)(),s("design:paramtypes",[i.a])],CODAServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(45),i=n(515),a=n(8),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function InvokableReportersServices(e){this.httpMgr=e,this.serviceName="InvokableReporters"}return InvokableReportersServices.prototype.compileReport=function(e,t,n){var r={reporterReference:e,render:t,includeTemplate:n},o=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.services.core.InvokableReporterException"]}});return this.httpMgr.doGet(this.serviceName,"compileReport",r,o)},InvokableReportersServices.prototype.compileAndDownloadReport=function(e,t){var n={reporterReference:e,targetMimeType:t},r=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.services.core.InvokableReporterException"]}});return this.httpMgr.downloadFile(this.serviceName,"compileAndDownloadReport",n,!1,r)},InvokableReportersServices.prototype.getConfigurationScopes=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getConfigurationScopes",e)},InvokableReportersServices.prototype.getInvokableReporterForm=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getInvokableReporterForm",e).map(function(e){return i.a.parse(e)})},InvokableReportersServices.prototype.getInvokableReporterIdentifiers=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getInvokableReporterIdentifiers",e).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push(o.b.deserialize(e[n]));return t})},InvokableReportersServices.prototype.getInvokableReporter=function(e){var t={reference:e};return this.httpMgr.doGet(this.serviceName,"getInvokableReporter",t).map(function(e){return i.a.parse(e)})},InvokableReportersServices.prototype.createInvokableReporter=function(e,t){var n={reference:e,definition:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"createInvokableReporter",n)},InvokableReportersServices.prototype.deleteInvokableReporter=function(e){var t={reference:e};return this.httpMgr.doPost(this.serviceName,"deleteInvokableReporter",t)},InvokableReportersServices.prototype.updateInvokableReporter=function(e,t){var n={reference:e,definition:JSON.stringify(t)};return this.httpMgr.doPost(this.serviceName,"updateInvokableReporter",n)},InvokableReportersServices.prototype.addSectionToReporter=function(e,t,n){var r={reference:e,section:JSON.stringify(t),index:n};return this.httpMgr.doPost(this.serviceName,"addSectionToReporter",r)},InvokableReportersServices.prototype.updateSectionInReporter=function(e,t,n){var r={reference:e,section:JSON.stringify(t),index:n};return this.httpMgr.doPost(this.serviceName,"updateSectionInReporter",r)},InvokableReportersServices.prototype.removeSectionFromReporter=function(e,t){var n={reference:e,index:t};return this.httpMgr.doPost(this.serviceName,"removeSectionFromReporter",n)},InvokableReportersServices=s([n.i(r.g)(),l("design:paramtypes",[a.a])],InvokableReportersServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function MapleServices(e){this.httpMgr=e,this.serviceName="MAPLE"}return MapleServices.prototype.profileMediationProblem=function(e){var t={resourcePosition:e.serialize()};return this.httpMgr.doGet(this.serviceName,"profileMediationProblem",t)},MapleServices.prototype.profileSingleResourceMatchProblem=function(e,t){var n={sourceResource:e,targetPosition:t.serialize()};return this.httpMgr.doGet(this.serviceName,"profileSingleResourceMatchProblem",n)},MapleServices.prototype.profileMatchingProblemBetweenProjects=function(e,t,n){var r={leftDataset:e.getName(),rightDataset:t.getName(),options:n};return this.httpMgr.doGet(this.serviceName,"profileMatchingProblemBetweenProjects",r)},MapleServices.prototype.profileProject=function(){var e={};return this.httpMgr.doPost(this.serviceName,"profileProject",e)},MapleServices.prototype.checkProjectMetadataAvailability=function(){var e={};return this.httpMgr.doGet(this.serviceName,"checkProjectMetadataAvailability",e)},MapleServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],MapleServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function NotificationServices(e){this.httpMgr=e,this.serviceName="Notifications"}return NotificationServices.prototype.startWatching=function(e){var t={resource:e};return this.httpMgr.doPost(this.serviceName,"startWatching",t)},NotificationServices.prototype.stopWatching=function(e){var t={resource:e};return this.httpMgr.doPost(this.serviceName,"stopWatching",t)},NotificationServices.prototype.isWatching=function(e){var t={resource:e};return this.httpMgr.doGet(this.serviceName,"isWatching",t)},NotificationServices.prototype.listWatching=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listWatching",e)},NotificationServices.prototype.getNotificationPreferences=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getNotificationPreferences",e)},NotificationServices.prototype.storeNotificationPreferences=function(e){var t={preferences:JSON.stringify(e)};return this.httpMgr.doPost(this.serviceName,"storeNotificationPreferences",t)},NotificationServices.prototype.updateNotificationPreferences=function(e,t,n){var r={role:e,action:t,status:n};return this.httpMgr.doPost(this.serviceName,"updateNotificationPreferences",r)},NotificationServices.prototype.listNotifications=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listNotifications",e).map(function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n],i={resource:o.resource,action:o.action,role:o.role,timestamp:new Date(o.timestamp)};t.push(i)}return t})},NotificationServices.prototype.clearNotifications=function(){var e={};return this.httpMgr.doPost(this.serviceName,"clearNotifications",e)},NotificationServices.prototype.scheduleNotificationDigest=function(e){var t={schedule:null!=e?JSON.stringify(e):null};return this.httpMgr.doPost(this.serviceName,"scheduleNotificationDigest",t)},NotificationServices.prototype.getAvailableTimeZoneIds=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getAvailableTimeZoneIds",e).map(function(e){return e.sort()})},NotificationServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],NotificationServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(181),i=n(3),a=n(42),s=n(8),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function RemoteAlignmentServices(e){this.httpMgr=e,this.serviceName="RemoteAlignmentServices"}return RemoteAlignmentServices.prototype.listTasks=function(e,t,n){var r={leftDataset:e.getName(),allowReordering:t};null!=n&&(r.rightDataset=n.getName());var o=new s.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.services.core.alignmentservices.AlignmentServiceException"]}});return this.httpMgr.doGet(this.serviceName,"listTasks",r,o).map(function(e){var t=[];return e.forEach(function(e){var n={id:e.id,leftDataset:{projectName:e.leftDataset.projectName,datasetIRI:new i.b(e.leftDataset.datasetIRI),baseURI:e.leftDataset.baseURI,model:new i.b(e.leftDataset.model),lexicalizationModel:new i.b(e.leftDataset.lexicalizationModel),open:e.leftDataset.open},rightDataset:{projectName:e.rightDataset.projectName,datasetIRI:new i.b(e.rightDataset.datasetIRI),baseURI:e.rightDataset.baseURI,model:new i.b(e.rightDataset.model),lexicalizationModel:new i.b(e.rightDataset.lexicalizationModel),open:e.rightDataset.open},status:e.status,progress:e.progress,reason:e.reason,startTime:e.startTime,endTime:e.endTime};t.push(n)}),t})},RemoteAlignmentServices.prototype.fetchAlignment=function(e){var t={taskId:e};return this.httpMgr.doPost(this.serviceName,"fetchAlignment",t)},RemoteAlignmentServices.prototype.createTask=function(e){var t={alignmentPlan:JSON.stringify(e)};return this.httpMgr.doPost(this.serviceName,"createTask",t)},RemoteAlignmentServices.prototype.deleteTask=function(e){var t={id:e};return this.httpMgr.doPost(this.serviceName,"deleteTask",t)},RemoteAlignmentServices.prototype.downloadAlignment=function(e){var t={taskId:e};return this.httpMgr.downloadFile(this.serviceName,"downloadAlignment",t)},RemoteAlignmentServices.prototype.getServiceMetadata=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getServiceMetadata",e).map(function(e){var t;return e.settings&&(t={conversionException:e.settings.conversionException,originalSchema:e.settings.originalSchema,stProperties:a.b.parse(e.settings.stProperties)}),{service:e.service,specs:e.specs,status:e.status,version:e.version,contact:e.contact,documentation:e.documentation,settings:t}})},RemoteAlignmentServices.prototype.searchMatchers=function(e){var t={scenarioDefinition:JSON.stringify(e)};return this.httpMgr.doPost(this.serviceName,"searchMatchers",t).map(function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n],i=void 0;o.settings&&(i={conversionException:o.settings.conversionException,originalSchema:o.settings.originalSchema,stProperties:a.b.parse(o.settings.stProperties)});var s={description:o.description,id:o.id,settings:i};t.push(s)}return t})},RemoteAlignmentServices.prototype.getRemoteAlignmentServices=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getRemoteAlignmentServices",e).map(function(e){var t={};for(var n in e)t[n]=o.c.parse(e[n]);return t})},RemoteAlignmentServices.prototype.getDefaultRemoteAlignmentServiceId=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getDefaultRemoteAlignmentServiceId",e)},RemoteAlignmentServices.prototype.addRemoteAlignmentService=function(e,t,n,r,o){var i={id:e,serverURL:t,username:n,password:r,asDefault:o};return this.httpMgr.doPost(this.serviceName,"addRemoteAlignmentService",i)},RemoteAlignmentServices.prototype.updateRemoteAlignmentService=function(e,t,n,r,o){var i={id:e,serverURL:t,username:n,password:r,asDefault:o};return this.httpMgr.doPost(this.serviceName,"updateRemoteAlignmentService",i)},RemoteAlignmentServices.prototype.deleteRemoteAlignmentService=function(e){var t={id:e};return this.httpMgr.doPost(this.serviceName,"deleteRemoteAlignmentService",t)},RemoteAlignmentServices.prototype.setAlignmentServiceForProject=function(e){var t={id:e};return this.httpMgr.doPost(this.serviceName,"setAlignmentServiceForProject",t)},RemoteAlignmentServices.prototype.getAlignmentServiceForProject=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getAlignmentServiceForProject",e)},RemoteAlignmentServices.prototype.removeAlignmentServiceForProject=function(){var e={};return this.httpMgr.doPost(this.serviceName,"removeAlignmentServiceForProject",e)},RemoteAlignmentServices=l([n.i(r.g)(),c("design:paramtypes",[s.a])],RemoteAlignmentServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(8),i=n(36),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function ResourceViewServices(e){this.httpMgr=e,this.serviceName="ResourceView"}return ResourceViewServices.prototype.getResourceView=function(e,t,n){var r={resource:e};null!=t&&(r.includeInferred=t),null!=n&&(r.resourcePosition=n);var i=new o.b({errorAlertOpt:{show:!0,exceptionsToSkip:["java.net.UnknownHostException"]}});return this.httpMgr.doGet(this.serviceName,"getResourceView",r,i)},ResourceViewServices.prototype.getLexicalizationProperties=function(e,t){var n={resource:e};return null!=t&&(n.resourcePosition=t),this.httpMgr.doGet(this.serviceName,"getLexicalizationProperties",n).map(function(e){return i.a.createURIArray(e)})},ResourceViewServices=a([n.i(r.g)(),s("design:paramtypes",[o.a])],ResourceViewServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function SparqlServices(e){this.httpMgr=e,this.serviceName="SPARQL"}return SparqlServices.prototype.evaluateQuery=function(e,t,n,r,o,i,a){var s={query:e};return null!=t&&(s.includeInferred=t),null!=n&&(s.ql=n),null!=r&&(s.bindings=r),null!=o&&(s.maxExecTime=o),null!=i&&(s.defaultGraphs=i),null!=a&&(s.namedGraphs=a),this.httpMgr.doPost(this.serviceName,"evaluateQuery",s)},SparqlServices.prototype.executeUpdate=function(e,t,n,r,o,i,a,s,l){var c={query:e};return null!=t&&(c.includeInferred=t),null!=n&&(c.ql=n),null!=r&&(c.bindings=r),null!=o&&(c.maxExecTime=o),null!=i&&(c.defaultGraphs=i),null!=a&&(c.namedGraphs=a),null!=s&&(c.defaultInsertGraph=s),null!=l&&(c.defaultRemoveGraphs=l),this.httpMgr.doPost(this.serviceName,"executeUpdate",c)},SparqlServices.prototype.exportGraphQueryResultAsRdf=function(e,t,n,r,o,i,a,s,l){var c={query:e,outputFormat:t.name};return null!=n&&(c.includeInferred=n),null!=r&&(c.filteringPipeline=r),null!=o&&(c.ql=o),null!=i&&(c.bindings=i),null!=a&&(c.maxExecTime=a),null!=s&&(c.defaultGraphs=s),null!=l&&(c.namedGraphs=l),this.httpMgr.downloadFile(this.serviceName,"exportGraphQueryResultAsRdf",c,!0)},SparqlServices.prototype.exportQueryResultAsSpreadsheet=function(e,t,n,r,o,i,a,s){var l={query:e,format:t};return null!=n&&(l.includeInferred=n),null!=r&&(l.ql=r),null!=o&&(l.bindings=o),null!=i&&(l.maxExecTime=i),null!=a&&(l.defaultGraphs=a),null!=s&&(l.namedGraphs=s),this.httpMgr.downloadFile(this.serviceName,"exportQueryResultAsSpreadsheet",l,!0)},SparqlServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],SparqlServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(80),i=n(8),a=n(12),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function UsersGroupsServices(e,t){this.httpMgr=e,this.resourcesService=t,this.serviceName="UsersGroups"}return UsersGroupsServices.prototype.listGroups=function(){var e={};return this.httpMgr.doGet(this.serviceName,"listGroups",e).map(function(e){for(var t=[],n=0;n<e.length;n++)t.push(o.b.deserialize(e[n]));return t.sort(function(e,t){return e.shortName.localeCompare(t.shortName)}),t.sort(function(e,t){return e.shortName.localeCompare(t.shortName)}),t})},UsersGroupsServices.prototype.getGroup=function(e){var t={groupIri:e};return this.httpMgr.doGet(this.serviceName,"getGroup",t).map(function(e){return o.b.deserialize(e)})},UsersGroupsServices.prototype.createGroup=function(e,t,n,r,i,a){var s={shortName:e};return null!=t&&(s.fullName=t),null!=n&&(s.description=n),null!=r&&(s.webPage=r),null!=i&&(s.logoUrl=i),this.httpMgr.doPost(this.serviceName,"createGroup",s).map(function(e){return o.b.deserialize(e)})},UsersGroupsServices.prototype.updateGroupShortName=function(e,t){var n={groupIri:e,shortName:t};return this.httpMgr.doPost(this.serviceName,"updateGroupShortName",n).map(function(e){return o.b.deserialize(e)})},UsersGroupsServices.prototype.updateGroupFullName=function(e,t){var n={groupIri:e,fullName:t};return this.httpMgr.doPost(this.serviceName,"updateGroupFullName",n).map(function(e){return o.b.deserialize(e)})},UsersGroupsServices.prototype.updateGroupDescription=function(e,t){var n={groupIri:e,description:t};return this.httpMgr.doPost(this.serviceName,"updateGroupDescription",n).map(function(e){return o.b.deserialize(e)})},UsersGroupsServices.prototype.updateGroupWebPage=function(e,t){var n={groupIri:e,webPage:t};return this.httpMgr.doPost(this.serviceName,"updateGroupWebPage",n).map(function(e){return o.b.deserialize(e)})},UsersGroupsServices.prototype.updateGroupLogoUrl=function(e,t){var n={groupIri:e,logoUrl:t};return this.httpMgr.doPost(this.serviceName,"updateGroupLogoUrl",n).map(function(e){return o.b.deserialize(e)})},UsersGroupsServices.prototype.deleteGroup=function(e){var t={groupIri:e};return this.httpMgr.doPost(this.serviceName,"deleteGroup",t)},UsersGroupsServices.prototype.assignGroupToUser=function(e,t,n){var r={projectName:e,email:t,groupIri:n};return this.httpMgr.doPost(this.serviceName,"assignGroupToUser",r)},UsersGroupsServices.prototype.setGroupLimitationsToUser=function(e,t,n,r){var o={projectName:e,email:t,groupIri:n,limitations:r};return this.httpMgr.doPost(this.serviceName,"setGroupLimitationsToUser",o)},UsersGroupsServices.prototype.removeGroupFromUser=function(e,t){var n={projectName:e,email:t};return this.httpMgr.doPost(this.serviceName,"removeGroupFromUser",n)},UsersGroupsServices.prototype.addOwnedSchemeToGroup=function(e,t,n){var r={projectName:e,groupIri:t,scheme:n};return this.httpMgr.doPost(this.serviceName,"addOwnedSchemeToGroup",r)},UsersGroupsServices.prototype.removeOwnedSchemeFromGroup=function(e,t,n){var r={projectName:e,groupIri:t,scheme:n};return this.httpMgr.doPost(this.serviceName,"removeOwnedSchemeFromGroup",r)},UsersGroupsServices.prototype.getProjectGroupBinding=function(e,t){var n={projectName:e,groupIri:t};return this.httpMgr.doGet(this.serviceName,"getProjectGroupBinding",n)},UsersGroupsServices=s([n.i(r.g)(),l("design:paramtypes",[i.a,a.a])],UsersGroupsServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(135),i=n(8),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function VersionsServices(e){this.httpMgr=e,this.serviceName="Versions"}return VersionsServices.prototype.getVersions=function(){var e={setRepositoryStatus:!0,setRepositoryLocation:!0};return this.httpMgr.doGet(this.serviceName,"getVersions",e).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=new o.c(e[n].versionId,e[n].repositoryId,new Date(e[n].dateTime),e[n].repositoryLocation,e[n].repositoryStatus);t.push(r)}return t.sort(function(e,t){return e.dateTime>t.dateTime?-1:e.dateTime<t.dateTime?1:0}),t})},VersionsServices.prototype.createVersionDump=function(e,t,n,r,o){var i={versionId:e};return null!=t&&(i.repositoryAccess=t.stringify()),null!=n&&(i.repositoryId=n),null!=r&&(i.repoConfigurerSpecification=JSON.stringify(r)),null!=o&&(i.backendType=o),this.httpMgr.doPost(this.serviceName,"createVersionDump",i)},VersionsServices.prototype.closeVersion=function(e){var t={versionId:e};return this.httpMgr.doPost(this.serviceName,"closeVersion",t)},VersionsServices=a([n.i(r.g)(),s("design:paramtypes",[i.a])],VersionsServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(3),i=n(581),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function AbstractList(t){var n=e.call(this,t)||this;return n.initialNodes=150,n.nodeLimit=n.initialNodes,n.increaseRate=n.initialNodes/5,n}return a(AbstractList,e),AbstractList.prototype.init=function(){this.setInitialStatus(),this.initImpl()},AbstractList.prototype.setInitialStatus=function(){this.list=[],this.selectedNode=null,this.nodeSelected.emit(this.selectedNode),this.checkedNodes=[],this.nodeChecked.emit(this.checkedNodes),this.nodeLimit=this.initialNodes},AbstractList.prototype.openListAt=function(e){var t=this;this.ensureNodeVisibility(e),setTimeout(function(){for(var n=t.viewChildrenNode.toArray(),r=0;r<n.length;r++)if(n[r].node.equals(e)){n[r].ensureVisible(),n[r].node.getAdditionalProperty(o.a.SELECTED)||n[r].selectNode();break}})},AbstractList.prototype.onScroll=function(){var e=this.scrollableElement.nativeElement;Math.abs(e.scrollHeight-e.offsetHeight-e.scrollTop)<2&&this.nodeLimit<this.list.length&&(this.nodeLimit=this.nodeLimit+this.increaseRate)},AbstractList.prototype.ensureNodeVisibility=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].equals(e)){if(t>=this.nodeLimit){var n=(t-this.nodeLimit)/this.increaseRate+1;this.nodeLimit=this.nodeLimit+this.increaseRate*n}return void(this.pendingSearchRes=null)}this.pendingSearchRes=e},s([n.i(r.F)("blockDivList"),l("design:type",r.e)],AbstractList.prototype,"blockDivElement",void 0),AbstractList}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(3),i=n(579),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function AbstractListNode(t){return e.call(this,t)||this}return a(AbstractListNode,e),AbstractListNode.prototype.ngAfterViewInit=function(){this.node.getAdditionalProperty(o.a.NEW)&&(this.ensureVisible(),this.node.deleteAdditionalProperty(o.a.NEW))},AbstractListNode.prototype.ensureVisible=function(){var e=this;setTimeout(function(){e.listNodeElement.nativeElement.scrollIntoView({block:"end",behavior:"smooth"})})},s([n.i(r.F)("listNodeElement"),l("design:type",r.e)],AbstractListNode.prototype,"listNodeElement",void 0),AbstractListNode}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(580),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(e){function AbstractListPanel(t,n,r,o,i,a,s,l){return e.call(this,t,n,r,o,i,a,s,l)||this}return o(AbstractListPanel,e),AbstractListPanel.prototype.executeAction=function(e,t){var n=this;e.function(this.getActionContext(t),this.selectedNode).subscribe(function(t){e.conditions.post.deselectOnComplete&&(n.selectedNode=null)},function(e){})},AbstractListPanel}(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(42),i=n(93),a=n(2),s=n(13),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function ExtensionConfiguratorComponent(e,t,n){this.configurationService=e,this.basicModals=t,this.sharedModals=n,this.storeable=!0,this.disabled=!1,this.extensionUpdated=new r.i,this.configurationUpdated=new r.i,this.configStatusUpdated=new r.i}return ExtensionConfiguratorComponent.prototype.ngOnInit=function(){this.selectedExtension=this.extensions[0],this.extensionUpdated.emit(this.selectedExtension),null!=this.selectedExtension.configurations&&(this.selectedConfiguration=this.selectedExtension.configurations[0],this.configurationUpdated.emit(this.selectedConfiguration)),this.status=o.h.unsaved,this.configStatusUpdated.emit({status:this.status})},ExtensionConfiguratorComponent.prototype.onChangeExtension=function(){this.extensionUpdated.emit(this.selectedExtension),null!=this.selectedExtension.configurations&&(this.selectedConfiguration=this.selectedExtension.configurations[0],this.configurationUpdated.emit(this.selectedConfiguration),this.status=o.h.unsaved,this.configStatusUpdated.emit({status:this.status}))},ExtensionConfiguratorComponent.prototype.onChangeConfig=function(){this.configurationUpdated.emit(this.selectedConfiguration),this.status=o.h.unsaved,this.configStatusUpdated.emit({status:this.status})},ExtensionConfiguratorComponent.prototype.configure=function(){var e=this;this.sharedModals.configurePlugin(this.selectedConfiguration).then(function(t){e.selectedConfiguration=t;for(var n=e.selectedExtension.configurations,r=0;r<n.length;r++)n[r].shortName==e.selectedConfiguration.shortName&&(n[r]=e.selectedConfiguration);e.extensionUpdated.emit(e.selectedExtension),e.configurationUpdated.emit(e.selectedConfiguration),e.status=o.h.unsaved,e.configStatusUpdated.emit({status:e.status})},function(){})},ExtensionConfiguratorComponent.prototype.saveConfig=function(){var e=this,t=this.selectedConfiguration.getPropertiesAsMap();this.sharedModals.storeConfiguration("Store configuration",this.selectedExtension.id,t).then(function(t){e.basicModals.alert("Save configuration","Configuration saved succesfully"),e.status=o.h.saved,e.configStatusUpdated.emit({status:e.status,relativeReference:t})},function(){})},ExtensionConfiguratorComponent.prototype.loadConfig=function(){var e=this;this.sharedModals.loadConfiguration("Load configuration",this.selectedExtension.id).then(function(t){for(var n=0;n<e.selectedExtension.configurations.length;n++)e.selectedExtension.configurations[n].type==t.configuration.type&&(e.selectedExtension.configurations[n]=t.configuration,e.selectedConfiguration=e.selectedExtension.configurations[n]);e.configurationUpdated.emit(e.selectedConfiguration),e.status=o.h.saved,e.configStatusUpdated.emit({status:e.status,relativeReference:t.reference.relativeReference})},function(){})},ExtensionConfiguratorComponent.prototype.selectExtensionAndConfiguration=function(e,t){for(var n=0;n<this.extensions.length;n++)if(this.extensions[n].id==e){this.selectedExtension=this.extensions[n],this.extensionUpdated.emit(this.selectedExtension);break}for(var n=0;n<this.selectedExtension.configurations.length;n++)this.selectedExtension.configurations[n].type==t&&(this.selectedConfiguration=this.selectedExtension.configurations[n])},ExtensionConfiguratorComponent.prototype.forceConfiguration=function(e,t){for(var n=this,r=0;r<this.extensions.length;r++)if(this.extensions[r].id==e){this.selectedExtension=this.extensions[r],this.extensionUpdated.emit(this.selectedExtension);break}this.configurationService.getConfiguration(this.selectedExtension.id,t).subscribe(function(e){for(var r=0;r<n.selectedExtension.configurations.length;r++)n.selectedExtension.configurations[r].type==e.type&&(n.selectedExtension.configurations[r]=e,n.selectedConfiguration=n.selectedExtension.configurations[r]);n.configurationUpdated.emit(n.selectedConfiguration),n.status=o.h.saved,n.configStatusUpdated.emit({status:n.status,relativeReference:t})})},l([n.i(r.r)("extensions"),c("design:type",Array)],ExtensionConfiguratorComponent.prototype,"extensions",void 0),l([n.i(r.r)(),c("design:type",Boolean)],ExtensionConfiguratorComponent.prototype,"storeable",void 0),l([n.i(r.r)(),c("design:type",Boolean)],ExtensionConfiguratorComponent.prototype,"disabled",void 0),l([n.i(r._7)(),c("design:type",Object)],ExtensionConfiguratorComponent.prototype,"extensionUpdated",void 0),l([n.i(r._7)(),c("design:type",Object)],ExtensionConfiguratorComponent.prototype,"configurationUpdated",void 0),l([n.i(r._7)(),c("design:type",Object)],ExtensionConfiguratorComponent.prototype,"configStatusUpdated",void 0),ExtensionConfiguratorComponent=l([n.i(r.c)({selector:"extension-configurator",template:n(2029)}),c("design:paramtypes",[i.a,a.a,s.a])],ExtensionConfiguratorComponent)}()},,,,,,,,function(e,t,n){"use strict";t.a=function(e){return null===e?NaN:+e}},function(e,t,n){"use strict";function spherical(e){return[n.i(r.f)(e[1],e[0]),n.i(r.g)(e[2])]}function cartesian(e){var t=e[0],o=e[1],i=n.i(r.d)(o);return[i*n.i(r.d)(t),i*n.i(r.e)(t),n.i(r.e)(o)]}function cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cartesianAddInPlace(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function cartesianNormalizeInPlace(e){var t=n.i(r.o)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}t.f=spherical,t.a=cartesian,t.c=cartesianDot,t.b=cartesianCross,t.e=cartesianAddInPlace,t.d=cartesianScale,t.g=cartesianNormalizeInPlace;var r=n(26)},function(e,t,n){"use strict";function azimuthalRaw(e){return function(t,o){var i=n.i(r.d)(t),a=n.i(r.d)(o),s=e(i*a);return[s*a*n.i(r.e)(t),s*n.i(r.e)(o)]}}function azimuthalInvert(e){return function(t,o){var i=n.i(r.o)(t*t+o*o),a=e(i),s=n.i(r.e)(a),l=n.i(r.d)(a);return[n.i(r.f)(t*s,i*l),n.i(r.g)(i&&o*s/i)]}}t.b=azimuthalRaw,t.a=azimuthalInvert;var r=n(26)},function(e,t,n){"use strict";t.a=function(e,t,n,r,o){for(var i,a=e.children,s=-1,l=a.length,c=e.value&&(r-t)/e.value;++s<l;)i=a[s],i.y0=n,i.y1=o,i.x0=t,i.x1=t+=i.value*c}},function(e,t,n){"use strict";function acos(e){return e>1?0:e<-1?d:Math.acos(e)}function asin(e){return e>=1?u:e<=-1?-u:Math.asin(e)}n.d(t,"g",function(){return r}),n.d(t,"m",function(){return o}),n.d(t,"h",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return f}),t.l=acos,t.k=asin;var r=Math.abs,o=Math.atan2,i=Math.cos,a=Math.max,s=Math.min,l=Math.sin,c=Math.sqrt,p=1e-12,d=Math.PI,u=d/2,f=2*d},function(e,t,n){"use strict";t.a=function(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(e,t,n){"use strict";t.a=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}},function(e,t,n){"use strict";function triangleArea(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function lexicographic(e,t){return t[1]-e[1]||t[0]-e[0]}function Diagram(e,t){var u,f,h,g=e.sort(lexicographic).pop();for(a=[],o=new Array(e.length),r=new d.a,i=new d.a;;)if(h=c.a,g&&(!h||g[1]<h.y||g[1]===h.y&&g[0]<h.x))g[0]===u&&g[1]===f||(n.i(s.a)(g),u=g[0],f=g[1]),g=e.pop();else{if(!h)break;n.i(s.b)(h.arc)}if(n.i(l.a)(),t){var m=+t[0][0],v=+t[0][1],b=+t[1][0],y=+t[1][1];n.i(p.a)(m,v,b,y),n.i(l.b)(m,v,b,y)}this.edges=a,this.cells=o,r=i=a=o=null}n.d(t,"b",function(){return u}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"d",function(){return a}),t.a=Diagram;var r,o,i,a,s=n(1597),l=n(786),c=n(787),p=n(373),d=n(374),u=1e-6,f=1e-12;Diagram.prototype={constructor:Diagram,polygons:function(){var e=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(r){return n.i(l.c)(t,e[r])});return r.data=t.site.data,r})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(i=(o=n.halfedges).length)for(var o,i,a,s=n.site,l=-1,c=t[o[i-1]],p=c.left===s?c.right:c.left;++l<i;)a=p,c=t[o[l]],p=c.left===s?c.right:c.left,a&&p&&r<a.index&&r<p.index&&triangleArea(s,a,p)<0&&e.push([s.data,a.data,p.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,o,i=this,a=i._found||0,s=i.cells.length;!(o=i.cells[a]);)if(++a>=s)return null;var l=e-o.site[0],c=t-o.site[1],p=l*l+c*c;do{o=i.cells[r=a],a=null,o.halfedges.forEach(function(n){var r=i.edges[n],s=r.left;if(s!==o.site&&s||(s=r.right)){var l=e-s[0],c=t-s[1],d=l*l+c*c;d<p&&(p=d,a=s.index)}})}while(null!==a);return i._found=r,null==n||p<=n*n?o.site:null}}},function(e,t,n){e.exports=n.p+"assets/images/class.png"},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(4),i=n(460),a=n(461),s=n(462),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function InvokableReporterModalServices(e){this.modal=e}return InvokableReporterModalServices.prototype.openInvokableReporterEditor=function(e,t,n){var r=new i.b(e,t,n),a=new o.b(r,void 0,i.b),s={context:a.keyboard(27).toJSON()};return this.modal.open(i.a,s).result},InvokableReporterModalServices.prototype.openServiceInvocationEditor=function(e,t,n){var r=new s.b(e,t,n),i=new o.b(r,void 0,s.b),a={context:i.keyboard(27).size("lg").toJSON()};return this.modal.open(s.a,a).result},InvokableReporterModalServices.prototype.showReport=function(e){var t=new a.b(e),n=new o.b(t,void 0,a.b),r={context:n.keyboard(27).toJSON()};return this.modal.open(a.a,r).result},InvokableReporterModalServices=l([n.i(r.g)(),c("design:paramtypes",[o.c])],InvokableReporterModalServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n(92),o=function(){function GraphUtils(){}return GraphUtils.computeCenter=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},GraphUtils.calculateNormalVector=function(e,t,n){var r=t.x-e.x,o=t.y-e.y,i=-o,a=r,s=Math.sqrt(i*i+a*a),l=0!==s?n/s:0;return{x:i*l,y:a*l}},GraphUtils.getIntersectionPoint=function(e){var t=e.target.getNodeShape();if(t==r.a.rect||t==r.a.circle||t==r.a.square||t==r.a.octagon||t==r.a.label){var n=e.target.x-e.source.x,o=e.target.y-e.source.y,i=Math.sqrt(n*n+o*o);if(0===i)return{x:e.source.x,y:e.source.y};var a=this.distanceToBorder(n,o,e.target),s=(i-a)/i;return{x:n*s+e.source.x,y:o*s+e.source.y}}return{x:e.target.x,y:e.target.y}},GraphUtils.distanceToBorder=function(e,t,n){var o=n.getNodeShape();if(o==r.a.rect||o==r.a.square||o==r.a.octagon||o==r.a.label){var i=n.getNodeMeaseure().width,a=n.getNodeMeaseure().height,s=void 0;if(Math.abs(t/e)<=a/i){var l=e/(i/2),c=t/l;s=Math.sqrt(Math.pow(i/2,2)+Math.pow(c,2))}else{var p=t/(a/2),d=e/p;s=Math.sqrt(Math.pow(a/2,2)+Math.pow(d,2))}return s}if(o==r.a.circle)return n.getNodeMeaseure().radius},GraphUtils.areLinksOverlapped=function(e,t){return e.source==t.source&&e.target==t.target||e.source==t.target&&e.target==t.source},GraphUtils.getNodeOfValue=function(e,t){for(var n=0;n<e.length;n++)if(e[n].res.getNominalValue()==t.getNominalValue())return e[n];return null},GraphUtils.getLinksWithPredicate=function(e,t){for(var n=[],r=0;r<e.length;r++)e[r].res.getNominalValue()==t.getNominalValue()&&n.push(e[r]);return n},GraphUtils.positionArrow=function(e,t,n,r){var o=Math.sign(e.x-t.x);0==o&&(o=-1);var i,a,s=Math.abs(e.y-t.y);return-1===o&&n.target.getNodeHeight()/2+3>s?(i=t.x-n.target.getNodeWidth()/2,a=e.y,{x:i,y:a,straightArrow:!0}):1===o&&n.target.getNodeHeight()/2+3>s?(i=t.x+n.target.getNodeWidth()/2,a=e.y,{x:i,y:a,straightArrow:!0}):-1===o&&e.y>=t.y?(i=t.x,a=t.y+n.target.getNodeHeight()/2,!0===r?(i=t.x,a=t.y+n.target.getNodeHeight()/2,{x:i,y:a,straightArrow:!1,isSubClassOf:!0}):t.x>=e.x+n.source.getNodeWidth()/2&&t.x<=e.x+n.source.getNodeWidth()?(i=e.x+n.source.getNodeWidth(),{x:i,y:a,straightArrow:!1,directionRight:!0}):t.x<=e.x+n.source.getNodeWidth()/2&&t.x>=e.x?(i=e.x,{x:i,y:a,straightArrow:!1,directionLeft:!0}):{x:i,y:a,straightArrow:!1}):1===o&&e.y>=t.y?(i=t.x,a=t.y+n.target.getNodeHeight()/2,!0===r?(i=t.x,a=t.y+n.target.getNodeHeight()/2,{x:i,y:a,straightArrow:!1,isSubClassOf:!0}):{x:i,y:a,straightArrow:!1}):-1===o&&e.y<t.y?(i=t.x,a=t.y-n.target.getNodeHeight()/2,!0===r?(i=t.x,a=t.y-n.target.getNodeHeight()/2,{x:i,y:a,straightArrow:!1,isSubClassOf:!0}):t.x>=e.x+n.source.getNodeWidth()/2&&t.x<=e.x+n.source.getNodeWidth()?(i=e.x+n.source.getNodeWidth(),{x:i,y:a,straightArrow:!1,directionRight:!0}):t.x<=e.x+n.source.getNodeWidth()/2&&t.x>=e.x?(i=e.x,{x:i,y:a,straightArrow:!1,directionLeft:!0}):{x:i,y:a,straightArrow:!1}):1===o&&e.y<t.y?(i=t.x,a=t.y-n.target.getNodeHeight()/2,!0===r?(i=t.x,a=t.y-n.target.getNodeHeight()/2,{x:i,y:a,straightArrow:!1,isSubClassOf:!0}):{x:i,y:a,straightArrow:!1}):void 0},GraphUtils}(),i=function(){function Point(e,t){this.x=e,this.y=t}return Point}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r=n(11),o=function(){function DatatypeUtils(){}return DatatypeUtils.xsdBuiltInTypes=[r.j.anyURI,r.j.base64Binary,r.j.boolean,r.j.byte,r.j.date,r.j.dateTime,r.j.decimal,r.j.double,r.j.duration,r.j.ENTITIES,r.j.ENTITY,r.j.float,r.j.gDay,r.j.gMonth,r.j.gMonthDay,r.j.gYear,r.j.gYearMonth,r.j.hexBinary,r.j.ID,r.j.IDREF,r.j.IDREFS,r.j.int,r.j.integer,r.j.language,r.j.long,r.j.Name,r.j.NCName,r.j.negativeInteger,r.j.NMTOKEN,r.j.NMTOKENS,r.j.nonNegativeInteger,r.j.nonPositiveInteger,r.j.normalizedString,r.j.NOTATION,r.j.positiveInteger,r.j.QName,r.j.short,r.j.string,r.j.time,r.j.token,r.j.unsignedByte,r.j.unsignedInt,r.j.unsignedLong,r.j.unsignedShort],DatatypeUtils.xsdNumericDatatypes=[r.j.byte,r.j.decimal,r.j.double,r.j.float,r.j.int,r.j.integer,r.j.long,r.j.negativeInteger,r.j.nonNegativeInteger,r.j.nonPositiveInteger,r.j.positiveInteger,r.j.short,r.j.unsignedByte,r.j.unsignedInt,r.j.unsignedLong,r.j.unsignedShort],DatatypeUtils.programmaticallyValidableType=[r.i.langString,r.j.boolean,r.j.date,r.j.dateTime,r.j.time,r.j.string],DatatypeUtils.typeRestrictionsMap=new Map([[r.j.anyURI.getURI(),{}],[r.j.base64Binary.getURI(),{pattern:"((([A-Za-z0-9+/] ?){4})*(([A-Za-z0-9+/] ?){3}[A-Za-z0-9+/]|([A-Za-z0-9+/] ?){2}[AEIMQUYcgkosw048] ?=|[A-Za-z0-9+/] ?[AQgw] ?= ?=))?"}],[r.j.boolean.getURI(),{}],[r.j.byte.getURI(),{minInclusive:-128,maxInclusive:128,pattern:"[-+]?[0-9]+"}],[r.j.date.getURI(),{}],[r.j.dateTime.getURI(),{}],[r.j.dateTimeStamp.getURI(),{pattern:".*(Z|(+|-)[0-9][0-9]:[0-9][0-9])"}],[r.j.dayTimeDuration.getURI(),{}],[r.j.decimal.getURI(),{}],[r.j.double.getURI(),{}],[r.j.duration.getURI(),{}],[r.j.ENTITIES.getURI(),{}],[r.j.ENTITY.getURI(),{}],[r.j.float.getURI(),{}],[r.j.gDay.getURI(),{}],[r.j.gMonth.getURI(),{}],[r.j.gMonthDay.getURI(),{}],[r.j.gYear.getURI(),{}],[r.j.gYearMonth.getURI(),{}],[r.j.hexBinary.getURI(),{}],[r.j.ID.getURI(),{}],[r.j.IDREF.getURI(),{}],[r.j.IDREFS.getURI(),{}],[r.j.int.getURI(),{minInclusive:-2147483648,maxInclusive:2147483647,pattern:"[-+]?[0-9]+"}],[r.j.integer.getURI(),{pattern:"[-+]?[0-9]+"}],[r.j.language.getURI(),{pattern:"[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*"}],[r.j.long.getURI(),{minInclusive:-0x8000000000000000,maxInclusive:0x8000000000000000,pattern:"[-+]?[0-9]+"}],[r.j.Name.getURI(),{pattern:"[_:A-Za-z][-._:A-Za-z0-9]*"}],[r.j.NCName.getURI(),{}],[r.j.negativeInteger.getURI(),{maxInclusive:-1,pattern:"[-+]?[0-9]+"}],[r.j.NMTOKEN.getURI(),{}],[r.j.NMTOKENS.getURI(),{}],[r.j.nonNegativeInteger.getURI(),{minInclusive:0,pattern:"[-+]?[0-9]+"}],[r.j.nonPositiveInteger.getURI(),{maxInclusive:0,pattern:"[-+]?[0-9]+"}],[r.j.normalizedString.getURI(),{}],[r.j.NOTATION.getURI(),{}],[r.j.positiveInteger.getURI(),{minInclusive:1,pattern:"^[-+]?[0-9]+$"}],[r.j.QName.getURI(),{}],[r.j.short.getURI(),{minInclusive:-32768,maxInclusive:32767,pattern:"[-+]?[0-9]+"}],[r.j.string.getURI(),{}],[r.j.time.getURI(),{}],[r.j.token.getURI(),{}],[r.j.unsignedByte.getURI(),{minInclusive:0,maxInclusive:255,pattern:"[-+]?[0-9]+"}],[r.j.unsignedInt.getURI(),{minInclusive:0,maxInclusive:4294967295,pattern:"[-+]?[0-9]+"}],[r.j.unsignedLong.getURI(),{minInclusive:0,maxInclusive:0x10000000000000000,pattern:"[-+]?[0-9]+"}],[r.j.unsignedShort.getURI(),{minInclusive:0,maxInclusive:65535,pattern:"[-+]?[0-9]+"}],[r.j.yearMonthDuration.getURI(),{pattern:"-?P((([0-9]+Y)([0-9]+M)?)|([0-9]+M))"}]]),DatatypeUtils.notStandardRestrictionsMap=new Map([[r.c.rational.getURI(),{pattern:"[-+]?[0-9]+(/[1-9][0-9]*)*"}]]),DatatypeUtils}(),i=function(){function ConstrainingFacets(){}return ConstrainingFacets}(),a=function(){function DatatypeRestrictionDescription(){}return DatatypeRestrictionDescription}(),s=function(){function FacetsRestriction(){this.facets=new i}return FacetsRestriction}()},function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a});var r,o=function(){function VariableBindings(){}return VariableBindings}();!function(e){e.constraint="constraint",e.assignment="assignment"}(r||(r={}));var i;!function(e){e.graph="graph",e.tuple="tuple",e.boolean="boolean"}(i||(i={}));var a;!function(e){e.query="query",e.update="update"}(a||(a={}));(function(){function QueryChangedEvent(){}})(),function(){function GraphResultBindings(){}}(),function(){function QueryResultBinding(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(34),o=n(0),i=n(22),a=n(1020),s=n(1021),l=n(1022),c=n(1023),p=n(1024),d=n(1025),u=n(522),f=n(48),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=function(){function PreferencesModule(){}return PreferencesModule=h([n.i(o.b)({imports:[r.a,i.a,f.a],declarations:[s.a,a.a,l.a,c.a,p.a,d.a,u.a],exports:[c.a,d.a,p.a,u.a],providers:[]})],PreferencesModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(60),s=n(54),l=n(7),c=n(2),p=n(6),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function ACLEditorModalData(t){var n=e.call(this)||this;return n.project=t,n}return d(ACLEditorModalData,e),ACLEditorModalData}(i.d),g=function(){function ACLEditorModal(e,t,n){this.dialog=e,this.projectService=t,this.basicModals=n,this.nullAccessLevel=null,this.accessLevels=[a.j.R,a.j.RW],this.lockLevels=[a.k.R,a.k.W,a.k.NO],this.update=!1,this.context=e.context}return ACLEditorModal.prototype.ngOnInit=function(){var e=this;l.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.projectService.getAccessStatus(this.context.project.getName()).subscribe(function(t){l.a.stopLoadingDiv(e.blockingDivElement.nativeElement),e.consumers=t.consumers,e.lock=t.lock})},ACLEditorModal.prototype.onAccessLevelChange=function(e,t){var n,r=this,o=e.availableACLLevel;n=t==this.nullAccessLevel?"Are you sure to revoke Access Level of '"+this.context.project.getName()+"' for the consumer '"+e.name+"'?":"Are you sure to change Access Level of '"+this.context.project.getName()+"' to '"+t+"' for the consumer '"+e.name+"'?",this.basicModals.confirm("Update Access Level",n,"warning").then(function(n){var o;o=p.a.getLoggedUser().isAdmin()?r.projectService.updateProjectAccessLevel(r.context.project,new a.f(e.name),t):r.projectService.updateAccessLevel(new a.f(e.name),t),o.subscribe(function(){e.availableACLLevel=t,r.update=!0})},function(t){e.availableACLLevel=o})},ACLEditorModal.prototype.onLockLevelChange=function(e){var t=this,n=this.lock.availableLockLevel,r="Are you sure to change project lock to '"+e+"'?";this.basicModals.confirm("Update Lock Level",r,"warning").then(function(n){var r;p.a.getLoggedUser().isAdmin()?t.projectService.updateProjectLockLevel(t.context.project,e):t.projectService.updateLockLevel(e),r.subscribe(function(){t.lock.availableLockLevel=e,t.update=!0})},function(e){t.lock.availableLockLevel=n})},ACLEditorModal.prototype.showConsumer=function(e){return null==this.filterProject||-1!=e.name.toLocaleUpperCase().indexOf(this.filterProject.toLocaleUpperCase())},ACLEditorModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.update)},u([n.i(r.F)("blockingDiv"),f("design:type",r.e)],ACLEditorModal.prototype,"blockingDivElement",void 0),ACLEditorModal=u([n.i(r.c)({selector:"acl-editor-modal",template:n(1901)}),f("design:paramtypes",[o.g,s.a,c.a])],ACLEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return r});var r,o=n(41),i=(n.n(o),n(3)),a=n(47),s=n(23),l=function(){function PropertyEnrichmentHelper(){}return PropertyEnrichmentHelper.getPropertyEnrichmentInfo=function(e,t,n){return t.getRange(e).flatMap(function(t){var l,c=t.ranges;if(null!=t.formCollection){var p=t.formCollection.getForms();p.length>0&&(l=p)}if(void 0!=c&&void 0==l){if(c.type==s.b.resource)return o.Observable.of({type:r.resource,rangeCollection:c.rangeCollection});if(c.type==s.b.literal){var d=c.rangeCollection?c.rangeCollection.resources:null,u=c.rangeCollection?c.rangeCollection.dataRanges:null;return o.Observable.of({type:r.literal,allowedDatatypes:d,dataRanges:u})}if(c.type==s.b.undetermined){var f=[i.h.resource,i.h.literal];return o.Observable.fromPromise(n.select("Select range type",null,f).then(function(e){return e==i.h.resource?{type:r.resource}:e==i.h.literal?{type:r.literal}:void 0},function(){return{type:null}}))}if("inconsistent"==c.type)return n.alert("Error","Error range of "+e.getShow()+" property is inconsistent","error"),o.Observable.of({type:null})}else{if(void 0!=c&&void 0!=l){var h=[];return c.type==s.b.resource?h.push(new a.c(i.h.resource,i.h.resource)):c.type==s.b.literal?h.push(new a.c(i.h.literal,i.h.literal)):c.type==s.b.undetermined&&(h.push(new a.c(i.h.resource,i.h.resource)),h.push(new a.c(i.h.literal,i.h.literal))),h=h.concat(l),o.Observable.fromPromise(n.selectCustomForm("Select a range type",h).then(function(e){for(var t=0;t<l.length;t++)if(e.getId()==l[t].getId())return{type:r.customForm,form:l[t]};return e.getId()==i.h.resource?{type:r.resource}:e.getId()==i.h.literal?{type:r.literal}:void 0},function(){return{type:null}}))}if(void 0==c&&void 0!=l){if(1==l.length)return o.Observable.of({type:r.customForm,form:l[0]});if(l.length>1)return o.Observable.fromPromise(n.selectCustomForm("Select a Custom Range",l).then(function(e){return{type:r.customForm,form:e}},function(){return{type:null}}))}}})},PropertyEnrichmentHelper}();!function(){function PropertyEnrichmentInfo(){}}();!function(e){e.literal="literal",e.resource="resource",e.customForm="customForm"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(3),i=n(36),a=n(8),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function EdoalServices(e){this.httpMgr=e,this.serviceName="EDOAL"}return EdoalServices.prototype.getAlignedProjects=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getAlignedProjects",e)},EdoalServices.prototype.getAlignments=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getAlignments",e).map(function(e){return i.a.createResourceArray(e,["correspondences"])})},EdoalServices.prototype.createCorrespondence=function(e,t,n,r,o){var i={alignment:e,leftEntity:t,rightEntity:n,relation:r,measure:o};return this.httpMgr.doPost(this.serviceName,"createCorrespondence",i)},EdoalServices.prototype.setLeftEntity=function(e,t){var n={correspondence:e,entity:t};return this.httpMgr.doPost(this.serviceName,"setLeftEntity",n)},EdoalServices.prototype.setRightEntity=function(e,t){var n={correspondence:e,entity:t};return this.httpMgr.doPost(this.serviceName,"setRightEntity",n)},EdoalServices.prototype.setRelation=function(e,t){var n={correspondence:e,relation:t};return this.httpMgr.doPost(this.serviceName,"setRelation",n)},EdoalServices.prototype.setMeasure=function(e,t){var n={correspondence:e,measure:t};return this.httpMgr.doPost(this.serviceName,"setMeasure",n)},EdoalServices.prototype.deleteCorrespondence=function(e){var t={correspondence:e};return this.httpMgr.doPost(this.serviceName,"deleteCorrespondence",t)},EdoalServices.prototype.getCorrespondences=function(e,t,n){var r={alignment:e,page:t,pageSize:n},s=new a.b({errorAlertOpt:{show:!0,exceptionsToSkip:["it.uniroma2.art.semanticturkey.services.core.IndexingLanguageNotFound"]}});return this.httpMgr.doGet(this.serviceName,"getCorrespondences",r,s).map(function(e){for(var t=[],n=0;n<e.length;n++){var r={identity:new o.d(e[n].identity),leftEntity:i.a.createRDFNodeArray(e[n].leftEntity),rightEntity:i.a.createRDFNodeArray(e[n].rightEntity),measure:i.a.createRDFNodeArray(e[n].measure),relation:i.a.createRDFNodeArray(e[n].relation)};t.push(r)}return t})},EdoalServices.prototype.createAlignment=function(){var e={};return this.httpMgr.doPost(this.serviceName,"createAlignment",e).map(function(e){return i.a.createBlankNode(e)})},EdoalServices=s([n.i(r.g)(),l("design:paramtypes",[a.a])],EdoalServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(8),s=n(12),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function GraphServices(e,t){this.httpMgr=e,this.resourceService=t,this.serviceName="Graph"}return GraphServices.prototype.getGraphModel=function(){var e=this,t={};return this.httpMgr.doGet(this.serviceName,"getGraphModel",t).flatMap(function(t){return e.enrichGraphModelRecords(t)})},GraphServices.prototype.expandGraphModelNode=function(e){var t=this,n={resource:e};return this.httpMgr.doGet(this.serviceName,"expandGraphModelNode",n).flatMap(function(e){return t.enrichGraphModelRecords(e)})},GraphServices.prototype.expandSubResources=function(e){var t=this,n={resource:e,role:e.getRole()};return this.httpMgr.doGet(this.serviceName,"expandSubResources",n).flatMap(function(e){return t.enrichGraphModelRecords(e)})},GraphServices.prototype.expandSuperResources=function(e){var t=this,n={resource:e,role:e.getRole()};return this.httpMgr.doGet(this.serviceName,"expandSuperResources",n).flatMap(function(e){return t.enrichGraphModelRecords(e)})},GraphServices.prototype.enrichGraphModelRecords=function(e){var t=[];e.forEach(function(e){-1==t.indexOf(e.source)&&t.push(e.source),-1==t.indexOf(e.link)&&t.push(e.link),-1==t.indexOf(e.target)&&t.push(e.target)});var n=[];return t.forEach(function(e){n.push(new i.b(e))}),0==n.length?o.Observable.of([]):this.resourceService.getResourcesInfo(n).map(function(t){var n=[];return e.forEach(function(e){var r=t.find(function(t){return t.getURI()==e.source}),o=t.find(function(t){return t.getURI()==e.link}),i=t.find(function(t){return t.getURI()==e.target});e.rangeDatatype&&i.setAdditionalProperty("isDatatype",!0),n.push({source:r,link:o,target:i,classAxiom:e.classAxiom})}),n})},GraphServices=l([n.i(r.g)(),c("design:paramtypes",[a.a,s.a])],GraphServices)}();!function(){function PlainGraphModelRecord(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function OntoManagerServices(e){this.httpMgr=e,this.serviceName_old="ontManager",this.serviceName="OntManager"}return OntoManagerServices.prototype.getOntologyMirror=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getOntologyMirror",e).map(function(e){for(var t=[],n=e,r=0;r<n.length;r++)t.push({file:n[r].file,baseURI:n[r].baseURI});return t})},OntoManagerServices.prototype.deleteOntologyMirrorEntry=function(e,t){var n={baseURI:e,cacheFileName:t};return this.httpMgr.doPost(this.serviceName,"deleteOntologyMirrorEntry",n)},OntoManagerServices.prototype.updateOntologyMirrorEntry=function(e,t,n,r,o){var i={updateType:e,baseURI:t,mirrorFileName:n};return void 0!=r&&(i.alternativeURL=r),void 0!=o&&(i.inputFile=o),"updateFromFile"==e?this.httpMgr.uploadFile(this.serviceName,"updateOntologyMirrorEntry",i):this.httpMgr.doPost(this.serviceName,"updateOntologyMirrorEntry",i)},OntoManagerServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],OntoManagerServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function ShaclServices(e){this.httpMgr=e,this.serviceName="SHACL"}return ShaclServices.prototype.loadShapes=function(e,t,n){var r={shapesFile:e,fileFormat:t.name,clearExisting:n};return this.httpMgr.uploadFile(this.serviceName,"loadShapes",r)},ShaclServices.prototype.exportShapes=function(e,t){var n={rdfFormat:e?e.name:null,exporterConfiguration:JSON.stringify(t)};return this.httpMgr.downloadFile(this.serviceName,"exportShapes",n)},ShaclServices.prototype.clearShapes=function(){var e={};return this.httpMgr.doPost(this.serviceName,"clearShapes",e)},ShaclServices.prototype.extractCFfromShapeFile=function(e,t,n,r){var o={classIri:e.toNT(),shapesFile:t,fileFormat:null!=n?n.name:null,targetShape:r};return this.httpMgr.uploadFile(this.serviceName,"extractCFfromShapeFile",o)},ShaclServices.prototype.extractCFfromShapesGraph=function(e,t){var n={classIri:e,targetShape:t};return this.httpMgr.doPost(this.serviceName,"extractCFfromShapesGraph",n)},ShaclServices.prototype.extractCFfromShapeURL=function(e,t,n,r){var o={classIri:e,shape:t,fileFormat:null!=n?n.name:null,targetShape:r};return this.httpMgr.doPost(this.serviceName,"extractCFfromShapeURL",o)},ShaclServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],ShaclServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return f});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(137)),l=n(2),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function NodeCreationModalData(t,n,r,o,i,a){var s=e.call(this)||this;return s.header=t,s.editingNode=n,s.constrainedRangeType=r,s.constrainedLanguage=o,s.constrainedDatatype=i,s.headerNodes=a,s}return c(NodeCreationModalData,e),NodeCreationModalData}(i.d),f=function(){function NodeCreationModal(e,t,n){this.dialog=e,this.s2rdfService=t,this.basicModals=n,this.memoize=!1,this.context=e.context}return NodeCreationModal.prototype.ngOnInit=function(){document.getElementById("toFocus").focus(),this.context.editingNode&&(this.nodeId=this.context.editingNode.nodeId,this.selectedConverter=this.context.editingNode.converter)},NodeCreationModal.prototype.onConverterUpdate=function(e){this.selectedConverter=e.converter,this.memoize=e.memoize},NodeCreationModal.prototype.isOkEnabled=function(){var e=!0;if(null!=this.selectedConverter)for(var t in this.selectedConverter.params){var n=this.selectedConverter.params[t];if(null!=n){if("string"==typeof n&&""==n.trim())e=!1;else if(Array.isArray(n))0==n.length?e=!1:n.forEach(function(t){null==t&&(e=!1)});else if("object"==typeof n)if("{}"==JSON.stringify(n))e=!1;else for(var r in n)null!=r&&null!=n[r]||(e=!1)}else e=!1}return null!=this.nodeId&&""!=this.nodeId.trim()&&null!=this.selectedConverter&&e},NodeCreationModal.prototype.isNodeAlreadyInUse=function(e){if(this.context.editingNode)return a.Observable.of(!1);for(var t=0,n=this.context.headerNodes;t<n.length;t++){if(n[t].nodeId==e)return a.Observable.of(!0)}return this.s2rdfService.isNodeIdAlreadyUsed(e)},NodeCreationModal.prototype.ok=function(){var e=this;this.isNodeAlreadyInUse(this.nodeId).subscribe(function(t){if(t)return void e.basicModals.alert("Node creation","Id '"+e.nodeId+"' is already used for another node","warning");var n={nodeId:e.nodeId,converter:e.selectedConverter,memoize:e.memoize};e.dialog.close(n)})},NodeCreationModal.prototype.cancel=function(){this.dialog.dismiss()},NodeCreationModal=p([n.i(r.c)({selector:"node-creation-modal",template:n(1958)}),d("design:paramtypes",[o.g,s.a,l.a])],NodeCreationModal)}();!function(){function HeaderRangeType(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(32),i=n(51),a=n(6),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=n(2378),p=n(227),d=function(){function YasguiComponent(e){this.searchService=e,this.readonly=!1,this.hideButtons=!1,this.querychange=new r.i,this.CLASS_COMPLETER_NAME="customClassCompleter",this.PREFIX_COMPLETER_NAME="customPrefixCompleter",this.PROPERTY_COMPLETER_NAME="customPropertyCompleter",this.fetchFromPrefixCheck=!1}return YasguiComponent.prototype.ngAfterViewInit=function(){var e=this;c.defaults.indentUnit=4,c.defaults.persistent=null,c.defaults.autocompleters=["variables"],-1==c.defaults.autocompleters.indexOf(this.PREFIX_COMPLETER_NAME)&&c.registerAutocompleter(this.PREFIX_COMPLETER_NAME,function(t){return e.customPrefixCompleter(t,a.a.getPrefixMappings(),e.fetchFromPrefixCheck)}),-1==c.defaults.autocompleters.indexOf(this.PROPERTY_COMPLETER_NAME)&&c.registerAutocompleter(this.PROPERTY_COMPLETER_NAME,function(t){return e.customPropertyCompleter(t,e.searchService)}),-1==c.defaults.autocompleters.indexOf(this.CLASS_COMPLETER_NAME)&&c.registerAutocompleter(this.CLASS_COMPLETER_NAME,function(t){return e.customClassCompleter(t,e.searchService)}),this.yasqe=c.fromTextArea(this.textareaElement.nativeElement,{persistent:null,createShareLink:null,extraKeys:{"Ctrl-7":c.commentLines},readOnly:this.readonly}),this.collapsePrefixDeclaration(),this.yasqe.on("change",function(t){e.querychange.emit({query:t.getValue(),valid:t.queryValid,mode:t.getQueryMode()}),c.Autocompleters.prefixes.appendPrefixIfNeeded(t,e.PREFIX_COMPLETER_NAME)})},YasguiComponent.prototype.forceContentUpdate=function(){this.yasqe.setValue(this.query),this.collapsePrefixDeclaration()},YasguiComponent.prototype.collapsePrefixDeclaration=function(){0!=Object.keys(this.yasqe.getPrefixesFromQuery()).length&&this.yasqe.collapsePrefixes(!0)},YasguiComponent.prototype.customPrefixCompleter=function(e,t,n){return{isValidCompletionPosition:function(){return c.Autocompleters.prefixes.isValidCompletionPosition(e)},get:function(e,r){for(var o=[],i=0;i<t.length;i++){var a=t[i].prefix+": <"+t[i].namespace+">";o.push(a)}o.sort(),n?p.get(c.Autocompleters.prefixes.fetchFrom,function(e){for(var t in e)if("bif"!=t){var n=t+": <"+e[t]+">";o.push(n)}r(o)}):r(o)},preProcessToken:function(t){return c.Autocompleters.prefixes.preprocessPrefixTokenForCompletion(e,t)},async:!0,bulk:!0,autoShow:!0,persistent:null,callbacks:{pick:function(){e.collapsePrefixes(!1)}}}},YasguiComponent.prototype.onCheckboxChange=function(e){var t=this;this.yasqe.disableCompleter(this.PREFIX_COMPLETER_NAME),c.registerAutocompleter(this.PREFIX_COMPLETER_NAME,function(n){return t.customPrefixCompleter(n,a.a.getPrefixMappings(),e)}),this.yasqe.enableCompleter(this.PREFIX_COMPLETER_NAME)},YasguiComponent.prototype.customPropertyCompleter=function(e,t){return{isValidCompletionPosition:function(){return c.Autocompleters.properties.isValidCompletionPosition(e)},get:function(e,n){"ws"!=e.type&&"error"!=e.type&&t.searchResource(e.autocompletionString,["property"],!1,!0,!1,o.f.startsWith).subscribe(function(e){for(var t=[],r=0;r<e.length;r++){var o=e[r].getURI();-1==t.indexOf(o)&&t.push(o)}n(t)})},preProcessToken:function(t){return c.Autocompleters.properties.preProcessToken(e,t)},postProcessToken:function(t,n){return c.Autocompleters.properties.postProcessToken(e,t,n)},async:!0,bulk:!1,autoShow:!1,persistent:null,callbacks:{validPosition:e.autocompleters.notifications.show,invalidPosition:e.autocompleters.notifications.hide}}},YasguiComponent.prototype.customClassCompleter=function(e,t){return{isValidCompletionPosition:function(){return c.Autocompleters.classes.isValidCompletionPosition(e)},get:function(e,n){""!=e.autocompletionString.trim()&&t.searchResource(e.autocompletionString,["cls"],!1,!0,!1,o.f.startsWith).subscribe(function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].getURI());n(t)})},preProcessToken:function(t){return c.Autocompleters.classes.preProcessToken(e,t)},postProcessToken:function(t,n){return c.Autocompleters.classes.postProcessToken(e,t,n)},async:!0,bulk:!1,autoShow:!1,persistent:null,callbacks:{validPosition:e.autocompleters.notifications.show,invalidPosition:e.autocompleters.notifications.hide}}},s([n.i(r.r)(),l("design:type",String)],YasguiComponent.prototype,"query",void 0),s([n.i(r.r)(),l("design:type",Boolean)],YasguiComponent.prototype,"readonly",void 0),s([n.i(r.r)(),l("design:type",Boolean)],YasguiComponent.prototype,"hideButtons",void 0),s([n.i(r._7)(),l("design:type",Object)],YasguiComponent.prototype,"querychange",void 0),s([n.i(r.F)("txtarea"),l("design:type",r.e)],YasguiComponent.prototype,"textareaElement",void 0),YasguiComponent=s([n.i(r.c)({selector:"yasgui",template:n(1971),host:{class:"vbox"}}),l("design:paramtypes",[i.a])],YasguiComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(11),a=n(7),s=n(6),l=n(581),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function AbstractTree(t,n,r){var o=e.call(this,t)||this;return o.initialRoots=150,o.rootLimit=o.initialRoots,o.increaseRate=o.initialRoots/5,o.basicModals=n,o.sharedModals=r,o}return c(AbstractTree,e),AbstractTree.prototype.ngAfterViewInit=function(){var e=this;void 0==this.roots&&setTimeout(function(){e.init()})},AbstractTree.prototype.init=function(){this.setInitialStatus(),this.initImpl()},AbstractTree.prototype.setInitialStatus=function(){this.roots=[],this.selectedNode=null,this.nodeSelected.emit(this.selectedNode),this.checkedNodes=[],this.nodeChecked.emit(this.checkedNodes),this.rootLimit=this.initialRoots},AbstractTree.prototype.openRoot=function(e){var t=this;this.ensureRootVisibility(e[0],e)&&setTimeout(function(){a.a.startLoadingDiv(t.blockDivElement.nativeElement);for(var n=t.viewChildrenNode.toArray(),r=0,o=n;r<o.length;r++){var i=o[r];if(i.node.equals(e[0]))return e.splice(0,1),i.expandPath(e),void a.a.stopLoadingDiv(t.blockDivElement.nativeElement)}t.onTreeNodeNotFound(e[0])})},AbstractTree.prototype.onNodeExpandStart=function(){a.a.startLoadingDiv(this.blockDivElement.nativeElement)},AbstractTree.prototype.onNodeExpandEnd=function(){a.a.stopLoadingDiv(this.blockDivElement.nativeElement)},AbstractTree.prototype.onTreeNodeDeleted=function(e){for(var t=0;t<this.roots.length;t++)if(this.roots[t].getURI()==e.getNominalValue()){if(s.a.getWorkingProject().isValidationEnabled()){var n=this.roots[t].clone();n.setGraphs([new o.b(i.a.stagingRemoveGraph+s.a.getWorkingProject().getBaseURI())]),n.setAdditionalProperty(o.a.EXPLICIT,!1),n.setAdditionalProperty(o.a.SELECTED,!1),this.roots[t]=n}else this.roots.splice(t,1);break}},AbstractTree.prototype.onScroll=function(){var e=this.scrollableElement.nativeElement;Math.abs(e.scrollHeight-e.offsetHeight-e.scrollTop)<2&&this.rootLimit<this.roots.length&&(this.rootLimit=this.rootLimit+this.increaseRate)},AbstractTree.prototype.ensureRootVisibility=function(e,t){for(var n=0;n<this.roots.length;n++)if(this.roots[n].getURI()==e.getURI()){if(n>=this.rootLimit){var r=(n-this.rootLimit)/this.increaseRate+1;this.rootLimit=this.rootLimit+this.increaseRate*r}return this.pendingSearchPath&&(this.pendingSearchPath=null),!0}return this.pendingSearchPath=t,!1},AbstractTree.prototype.onTreeNodeNotFound=function(e){var t=this;this.context==a.b.dataPanel?this.basicModals.confirm("Search","Node "+e.getShow()+" is not reachable in the current tree. Do you want to open its ResourceView in a modal dialog?","warning").then(function(n){t.sharedModals.openResourceView(e,!1)},function(e){}):this.basicModals.alert("Search","Node "+e.getShow()+" is not reachable in the current tree.","warning")},p([n.i(r.F)("blockDivTree"),d("design:type",r.e)],AbstractTree.prototype,"blockDivElement",void 0),AbstractTree}(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(11),a=n(7),s=n(6),l=n(579),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function AbstractTreeNode(t,n,o){var i=e.call(this,t)||this;return i.sharedModals=o,i.nodeExpandStart=new r.i,i.nodeExpandEnd=new r.i,i.children=[],i.open=!1,i.showExpandCollapseBtn=!1,i.basicModals=n,i}return c(AbstractTreeNode,e),AbstractTreeNode.prototype.ngOnInit=function(){this.initShowExpandCollapseBtn()},AbstractTreeNode.prototype.ngAfterViewInit=function(){this.node.getAdditionalProperty(o.a.NEW)&&(this.treeNodeElement.nativeElement.scrollIntoView({block:"end",behavior:"smooth"}),this.node.deleteAdditionalProperty(o.a.NEW))},AbstractTreeNode.prototype.ngOnChanges=function(e){e.showDeprecated&&this.initShowExpandCollapseBtn()},AbstractTreeNode.prototype.initShowExpandCollapseBtn=function(){if(this.node.getAdditionalProperty(o.a.MORE))if(this.children.length>0){for(var e=!1,t=0;t<this.children.length;t++)if(this.showDeprecated||!this.children[t].isDeprecated()){e=!0;break}this.showExpandCollapseBtn=e}else this.showExpandCollapseBtn=!0;else this.showExpandCollapseBtn=!1},AbstractTreeNode.prototype.expandNode=function(){var e=this;return this.nodeExpandStart.emit(),this.expandNodeImpl().map(function(){e.initShowExpandCollapseBtn(),e.nodeExpandEnd.emit()})},AbstractTreeNode.prototype.collapseNode=function(){var e=this;this.open=!1,this.children.forEach(function(t){e.nodeChecked.emit({node:t,checked:!1})}),this.children=[]},AbstractTreeNode.prototype.expandPath=function(e){var t=this;0==e.length?(this.selectNode(),setTimeout(function(){t.treeNodeElement.nativeElement.scrollIntoView({block:"end",behavior:"smooth"})})):this.open?this.expandChild(e):this.expandNode().subscribe(function(){setTimeout(function(){t.expandChild(e)})})},AbstractTreeNode.prototype.expandChild=function(e){var t=this;if(!this.showDeprecated)for(var n=0;n<this.children.length;n++)if(this.children[n].getURI()==e[0].getURI()&&this.children[n].isDeprecated())return void this.basicModals.alert("Search","Node "+e[e.length-1].getShow()+" is not reachable in the current tree since the path to reach it contains a deprecated node. Enable the show of deprecated resources and repeat the search","warning");for(var r=this.viewChildrenNode.toArray(),n=0;n<r.length;n++)if(r[n].node.getURI()==e[0].getURI())return e.splice(0,1),void r[n].expandPath(e);this.context==a.b.dataPanel?this.basicModals.confirm("Search","Node "+e[e.length-1].getShow()+" is not reachable in the current tree. Do you want to open its ResourceView in a modal dialog?","warning").then(function(n){t.sharedModals.openResourceView(e[e.length-1],!1)},function(e){}):this.basicModals.alert("Search","Node "+e[e.length-1].getShow()+" is not reachable in the current tree.","warning")},AbstractTreeNode.prototype.onNodeSelected=function(e){this.nodeSelected.emit(e)},AbstractTreeNode.prototype.onNodeChecked=function(e){this.nodeChecked.emit(e)},AbstractTreeNode.prototype.onNodeExpandStart=function(){this.nodeExpandStart.emit()},AbstractTreeNode.prototype.onNodeExpandEnd=function(){this.nodeExpandEnd.emit()},AbstractTreeNode.prototype.onTreeNodeDeleted=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].getNominalValue()==e.getNominalValue()){if(s.a.getWorkingProject().isValidationEnabled()){var n=this.children[t].clone();n.setGraphs([new o.b(i.a.stagingRemoveGraph+s.a.getWorkingProject().getBaseURI())]),n.setAdditionalProperty(o.a.EXPLICIT,!1),n.setAdditionalProperty(o.a.SELECTED,!1),this.children[t]=n}else this.children.splice(t,1),0==this.children.length&&(this.node.setAdditionalProperty(o.a.MORE,0),this.open=!1);break}},AbstractTreeNode.prototype.onChildCreated=function(e,t){var n=this;this.node.getNominalValue()==e.getNominalValue()&&(this.node.setAdditionalProperty(o.a.MORE,1),this.open?(this.children.unshift(t),this.context==a.b.addPropValue&&setTimeout(function(){n.selectChild(t)})):this.expandNode().subscribe(function(){n.context==a.b.addPropValue&&setTimeout(function(){n.selectChild(t)})}))},AbstractTreeNode.prototype.selectChild=function(e){this.viewChildrenNode.forEach(function(t){t.node.equals(e)&&t.selectNode()})},AbstractTreeNode.prototype.onParentAdded=function(e,t){this.node.getNominalValue()==e.getNominalValue()&&(this.node.setAdditionalProperty(o.a.MORE,1),this.open&&!this.children.some(function(e){return e.equals(t)})&&this.children.push(t))},AbstractTreeNode.prototype.onParentRemoved=function(e,t){e.getNominalValue()==this.node.getNominalValue()&&this.onTreeNodeDeleted(t)},p([n.i(r._7)(),d("design:type",Object)],AbstractTreeNode.prototype,"nodeExpandStart",void 0),p([n.i(r._7)(),d("design:type",Object)],AbstractTreeNode.prototype,"nodeExpandEnd",void 0),p([n.i(r.F)("treeNodeElement"),d("design:type",r.e)],AbstractTreeNode.prototype,"treeNodeElement",void 0),AbstractTreeNode}(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(3),o=n(580),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=function(e){function AbstractTreePanel(t,n,r,o,i,a,s,l){return e.call(this,t,n,r,o,i,a,s,l)||this}return i(AbstractTreePanel,e),AbstractTreePanel.prototype.executeAction=function(e,t){var n=this;if(e.conditions.pre.selectionRequired&&e.conditions.pre.childlessRequired&&this.selectedNode.getAdditionalProperty(r.a.MORE))return void this.basicModals.alert("Operation denied","The operation cannot be done on node with children. Please delete the children nodes and then retry","warning");e.function(this.getActionContext(t),this.selectedNode).subscribe(function(t){e.conditions.post.deselectOnComplete&&(n.selectedNode=null)},function(e){})},AbstractTreePanel}(o.a)},function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return g});var r=n(0),o=n(46),i=n(1),a=(n.n(i),n(55)),s=n(2),l=n(6),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function AuthGuard(e,t){this.router=e,this.userService=t}return AuthGuard.prototype.canActivate=function(){var e=this;return l.a.isLoggedIn()?i.Observable.of(!0):this.userService.getUser().map(function(t){return!!t||(e.router.navigate(["/Home"]),!1)})},AuthGuard=c([n.i(r.g)(),p("design:paramtypes",[o.c,a.a])],AuthGuard)}(),u=function(){function AdminGuard(e,t){this.router=e,this.userService=t}return AdminGuard.prototype.canActivate=function(){var e=this;return l.a.isLoggedIn()?i.Observable.of(l.a.getLoggedUser().isAdmin()):this.userService.getUser().map(function(t){return t?t.isAdmin():(e.router.navigate(["/Home"]),!1)})},AdminGuard=c([n.i(r.g)(),p("design:paramtypes",[o.c,a.a])],AdminGuard)}(),f=function(){function ProjectGuard(e){this.router=e}return ProjectGuard.prototype.canActivate=function(){return void 0!=l.a.getWorkingProject()||(this.router.navigate(["/Home"]),!1)},ProjectGuard=c([n.i(r.g)(),p("design:paramtypes",[o.c])],ProjectGuard)}(),h=function(){function UnsavedChangesGuard(e){this.basicModals=e}return UnsavedChangesGuard.prototype.canDeactivate=function(e){return!e.hasUnsavedChanges||(!e.hasUnsavedChanges()||i.Observable.fromPromise(this.basicModals.confirm("Warning","There could be unsaved changes. Do you want to leave this page and discard the changes","warning").then(function(e){return!0},function(e){return!1})))},UnsavedChangesGuard=c([n.i(r.g)(),p("design:paramtypes",[s.a])],UnsavedChangesGuard)}(),g=[d,u,f,h]},,,,,,,,,,,function(e,t,n){"use strict";var r=(n(1300),n(1301),n(335));n.d(t,"a",function(){return r.a});n(1299),n(1302),n(1298)},function(e,t,n){"use strict";var r=n(257);t.a=function(e){return e=n.i(r.a)(Math.abs(e)),e?e[1]:NaN}},function(e,t,n){"use strict";function formatDecimalParts(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}t.a=formatDecimalParts,t.b=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}},function(e,t,n){"use strict";function clipRectangle(e,t,p,d){function visible(n,r){return e<=n&&n<=p&&t<=r&&r<=d}function interpolate(n,r,o,i){var a=0,s=0;if(null==n||(a=corner(n,o))!==(s=corner(r,o))||comparePoint(n,r)<0^o>0)do{i.point(0===a||3===a?e:p,a>1?d:t)}while((a=(a+o+4)%4)!==s);else i.point(r[0],r[1])}function corner(o,i){return n.i(r.a)(o[0]-e)<r.p?i>0?0:3:n.i(r.a)(o[0]-p)<r.p?i>0?2:1:n.i(r.a)(o[1]-t)<r.p?i>0?1:0:i>0?3:2}function compareIntersection(e,t){return comparePoint(e.x,t.x)}function comparePoint(e,t){var n=corner(e,1),r=corner(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(r){function point(e,t){visible(e,t)&&S.point(e,t)}function polygonInside(){for(var t=0,n=0,r=f.length;n<r;++n)for(var o,i,a=f[n],s=1,l=a.length,c=a[0],p=c[0],u=c[1];s<l;++s)o=p,i=u,c=a[s],p=c[0],u=c[1],i<=d?u>d&&(p-o)*(d-i)>(u-i)*(e-o)&&++t:u<=d&&(p-o)*(d-i)<(u-i)*(e-o)&&--t;return t}function polygonStart(){S=P,u=[],f=[],R=!0}function polygonEnd(){var e=polygonInside(),t=R&&e,o=(u=n.i(s.i)(u)).length;(t||o)&&(r.polygonStart(),t&&(r.lineStart(),interpolate(null,null,1,r),r.lineEnd()),o&&n.i(a.a)(u,compareIntersection,e,interpolate,r),r.polygonEnd()),S=r,u=f=h=null}function lineStart(){E.point=linePoint,f&&f.push(h=[]),C=!0,x=!1,b=y=NaN}function lineEnd(){u&&(linePoint(g,m),v&&x&&P.rejoin(),u.push(P.result())),E.point=point,x&&S.lineEnd()}function linePoint(r,o){var a=visible(r,o);if(f&&h.push([r,o]),C)g=r,m=o,v=a,C=!1,a&&(S.lineStart(),S.point(r,o));else if(a&&x)S.point(r,o);else{var s=[b=Math.max(c,Math.min(l,b)),y=Math.max(c,Math.min(l,y))],u=[r=Math.max(c,Math.min(l,r)),o=Math.max(c,Math.min(l,o))];n.i(i.a)(s,u,e,t,p,d)?(x||(S.lineStart(),S.point(s[0],s[1])),S.point(u[0],u[1]),a||S.lineEnd(),R=!1):a&&(S.lineStart(),S.point(r,o),R=!1)}b=r,y=o,x=a}var u,f,h,g,m,v,b,y,x,C,R,S=r,P=n.i(o.a)(),E={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:polygonStart,polygonEnd:polygonEnd};return E}}t.a=clipRectangle;var r=n(26),o=n(730),i=n(1357),a=n(733),s=n(62),l=1e9,c=-l},function(e,t,n){"use strict";function rotationIdentity(e,t){return[n.i(o.a)(e)>o.b?e+Math.round(-e/o.c)*o.c:e,t]}function rotateRadians(e,t,i){return(e%=o.c)?t||i?n.i(r.a)(rotationLambda(e),rotationPhiGamma(t,i)):rotationLambda(e):t||i?rotationPhiGamma(t,i):rotationIdentity}function forwardRotationLambda(e){return function(t,n){return t+=e,[t>o.b?t-o.c:t<-o.b?t+o.c:t,n]}}function rotationLambda(e){var t=forwardRotationLambda(e);return t.invert=forwardRotationLambda(-e),t}function rotationPhiGamma(e,t){function rotation(e,t){var l=n.i(o.d)(t),c=n.i(o.d)(e)*l,p=n.i(o.e)(e)*l,d=n.i(o.e)(t),u=d*r+c*i;return[n.i(o.f)(p*a-u*s,c*r-d*i),n.i(o.g)(u*a+p*s)]}var r=n.i(o.d)(e),i=n.i(o.e)(e),a=n.i(o.d)(t),s=n.i(o.e)(t);return rotation.invert=function(e,t){var l=n.i(o.d)(t),c=n.i(o.d)(e)*l,p=n.i(o.e)(e)*l,d=n.i(o.e)(t),u=d*a-p*s;return[n.i(o.f)(p*a+d*s,c*r+u*i),n.i(o.g)(u*r-c*i)]},rotation}t.b=rotateRadians;var r=n(734),o=n(26);rotationIdentity.invert=rotationIdentity,t.a=function(e){function forward(t){return t=e(t[0]*o.h,t[1]*o.h),t[0]*=o.i,t[1]*=o.i,t}return e=rotateRadians(e[0]*o.h,e[1]*o.h,e.length>2?e[2]*o.h:0),forward.invert=function(t){return t=e.invert(t[0]*o.h,t[1]*o.h),t[0]*=o.i,t[1]*=o.i,t},forward}},function(e,t,n){"use strict";function transformer(e){return function(t){var n=new TransformStream;for(var r in e)n[r]=e[r];return n.stream=t,n}}function TransformStream(){}t.a=transformer;TransformStream.prototype={constructor:TransformStream,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(e,t,n){"use strict";t.a=function(e,t,n,r,o){for(var i,a=e.children,s=-1,l=a.length,c=e.value&&(o-n)/e.value;++s<l;)i=a[s],i.x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*c}},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}},function(e,t,n){"use strict";function creatorInherit(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===o.a&&t.documentElement.namespaceURI===o.a?t.createElement(e):t.createElementNS(n,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var r=n(359),o=n(360);t.a=function(e){var t=n.i(r.a)(e);return(t.local?creatorFixed:creatorInherit)(t)}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}},function(e,t,n){"use strict";function point(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Basis(e){this._context=e}t.b=point,t.a=Basis,Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},function(e,t,n){"use strict";function point(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Cardinal(e,t){this._context=e,this._k=(1-t)/6}t.b=point,t.a=Cardinal,Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:point(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function custom(e){function cardinal(t){return new Cardinal(t,e)}return cardinal.tension=function(e){return custom(+e)},cardinal}(0)},function(e,t,n){"use strict";function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},t.a=function(e){return new Linear(e)}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";var r=(n(72),n(1561));n.d(t,"v",function(){return r.a}),n.d(t,"p",function(){return r.a});var o=n(1564);n.d(t,"u",function(){return o.a}),n.d(t,"o",function(){return o.a});var i=n(1562);n.d(t,"t",function(){return i.a});var a=n(1560);n.d(t,"s",function(){return a.a});var s=n(1559);n.d(t,"d",function(){return s.a});var l=n(1571);n.d(t,"r",function(){return l.a}),n.d(t,"f",function(){return l.a}),n.d(t,"c",function(){return l.b}),n.d(t,"g",function(){return l.c});var c=n(1563);n.d(t,"q",function(){return c.a});var p=n(1572);n.d(t,"e",function(){return p.a});var d=n(1567);n.d(t,"n",function(){return d.a});var u=n(1566);n.d(t,"m",function(){return u.a});var f=n(1565);n.d(t,"b",function(){return f.a});var h=n(1569);n.d(t,"l",function(){return h.a}),n.d(t,"i",function(){return h.a}),n.d(t,"a",function(){return h.b}),n.d(t,"j",function(){return h.c});var g=n(1568);n.d(t,"k",function(){return g.a});var m=n(1570);n.d(t,"h",function(){return m.a})},function(e,t,n){"use strict";var r=n(371);n.d(t,"c",function(){return r.c}),n.d(t,"a",function(){return r.a});var o=n(1574);n.d(t,"b",function(){return o.a});n(1573)},function(e,t,n){"use strict";function tweenRemove(e,t){var o,i;return function(){var a=n.i(r.e)(this,e),s=a.tween;if(s!==o){i=o=s;for(var l=0,c=i.length;l<c;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}a.tween=i}}function tweenFunction(e,t,o){var i,a;if("function"!=typeof o)throw new Error;return function(){var s=n.i(r.e)(this,e),l=s.tween;if(l!==i){a=(i=l).slice();for(var c={name:t,value:o},p=0,d=a.length;p<d;++p)if(a[p].name===t){a[p]=c;break}p===d&&a.push(c)}s.tween=a}}function tweenValue(e,t,o){var i=e._id;return e.each(function(){var e=n.i(r.e)(this,i);(e.value||(e.value={}))[t]=o.apply(this,arguments)}),function(e){return n.i(r.f)(e,i).value[t]}}t.b=tweenValue;var r=n(78);t.a=function(e,t){var o=this._id;if(e+="",arguments.length<2){for(var i,a=n.i(r.f)(this.node(),o).tween,s=0,l=a.length;s<l;++s)if((i=a[s]).name===e)return i.value;return null}return this.each((null==t?tweenRemove:tweenFunction)(o,e,t))}},function(e,t,n){e.exports=n.p+"assets/images/conceptScheme_create.png"},function(e,t,n){e.exports=n.p+"assets/images/concept_create.png"},function(e,t,n){e.exports=n.p+"assets/images/skosCollection_create.png"},function(e,t,n){e.exports=n.p+"assets/images/prop.png"},function(e,t,n){e.exports=n.p+"assets/images/propObject.png"},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(79),i=n(46),a=n(3),s=n(45),l=n(42),c=n(80),p=n(83),d=n(188),u=n(164),f=n(55),h=n(7),g=n(6),m=n(21),v=n(2),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(){function SystemConfigurationComponent(e,t,n,r,o,i,a,s){this.adminService=e,this.userService=t,this.vbProp=n,this.settingsService=r,this.notificationsService=o,this.basicModals=i,this.sanitizer=a,this.router=s,this.emailConfig={mailFromAddress:null,mailFromPassword:null,mailFromAlias:null,mailSmtpHost:null,mailSmtpPort:null,mailSmtpAuth:null,mailSmtpSslEnable:!1,mailSmtpStarttlsEnable:!1},this.hoursOfDay=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],this.fieldsIdx=[0,1,2,3],this.expFeatEnabled=!1}return SystemConfigurationComponent.prototype.ngOnInit=function(){this.isInitialConfiguration="/Sysconfig"==this.router.url,this.initAdminConfig(),this.initNotificationsConfig(),this.initFields(),this.initHomeContent()},SystemConfigurationComponent.prototype.initAdminConfig=function(){var e=this;this.adminService.getAdministrationConfig().subscribe(function(t){e.emailConfig={mailFromAddress:t.mailFromAddress,mailFromPassword:t.mailFromPassword,mailFromAlias:t.mailFromAlias,mailSmtpHost:t.mailSmtpHost,mailSmtpPort:t.mailSmtpPort,mailSmtpAuth:t.mailSmtpAuth,mailSmtpSslEnable:"true"==t.mailSmtpSslEnable,mailSmtpStarttlsEnable:"true"==t.mailSmtpStarttlsEnable},e.pristineEmailConfig=Object.assign({},e.emailConfig),e.cryptoProtocol="None",e.emailConfig.mailSmtpSslEnable?e.cryptoProtocol="SSL":e.emailConfig.mailSmtpStarttlsEnable&&(e.cryptoProtocol="TLS"),e.stDataFolder=t.stDataDir,e.stDataFolderPristine=t.stDataDir,e.profilerThreshold=t.preloadProfilerTreshold,e.profilerThresholdPristine=t.preloadProfilerTreshold}),this.expFeatEnabled=g.a.getSystemSettings().experimentalFeaturesEnabled},SystemConfigurationComponent.prototype.updateDataFolder=function(){var e=this;this.adminService.setDataDir(this.stDataFolder).subscribe(function(){e.basicModals.alert("Update configuration","SemanticTurkey data folder updated"),e.stDataFolderPristine=e.stDataFolder})},SystemConfigurationComponent.prototype.updateProfilerThreshold=function(){var e=this;this.adminService.setPreloadProfilerThreshold(this.profilerThreshold).subscribe(function(){e.basicModals.alert("Update configuration","Preload profiler threshold updated"),e.profilerThresholdPristine=e.profilerThreshold})},SystemConfigurationComponent.prototype.updateProtocol=function(){"SSL"==this.cryptoProtocol?(this.emailConfig.mailSmtpSslEnable=!0,this.emailConfig.mailSmtpStarttlsEnable=!1):"TLS"==this.cryptoProtocol?(this.emailConfig.mailSmtpSslEnable=!1,this.emailConfig.mailSmtpStarttlsEnable=!0):(this.emailConfig.mailSmtpSslEnable=!1,this.emailConfig.mailSmtpStarttlsEnable=!1)},SystemConfigurationComponent.prototype.updateEmailConfig=function(){var e=this,t=null;this.emailConfig.mailSmtpAuth&&(t=this.emailConfig.mailFromPassword),this.adminService.updateEmailConfig(this.emailConfig.mailSmtpHost,this.emailConfig.mailSmtpPort,this.emailConfig.mailSmtpAuth,this.emailConfig.mailSmtpSslEnable,this.emailConfig.mailSmtpStarttlsEnable,this.emailConfig.mailFromAddress,this.emailConfig.mailFromAlias,t).subscribe(function(t){e.initAdminConfig()})},SystemConfigurationComponent.prototype.testEmailConfig=function(){var e=this;if(this.isEmailConfigChanged())return void this.basicModals.alert("Email configuration test","Email configuration has been changed, you need first to submit the changes.","warning");this.basicModals.prompt("Email configuration test",{value:"Mail to"},"This test will send an e-mail to the provided address in order to check the e-mail configuration",g.a.getLoggedUser().getEmail()).then(function(t){h.a.startLoadingDiv(h.a.blockDivFullScreen),e.adminService.testEmailConfig(t).subscribe(function(){h.a.stopLoadingDiv(h.a.blockDivFullScreen),e.basicModals.alert("Email configuration test","The configuration works fine. A test e-mail has been sent to "+t+".")})},function(){})},SystemConfigurationComponent.prototype.isEmailConfigChanged=function(){for(var e in this.pristineEmailConfig)if(this.pristineEmailConfig[e]!=this.emailConfig[e])return!0;return!1},SystemConfigurationComponent.prototype.initNotificationsConfig=function(){var e=this;null==this.timezones&&this.notificationsService.getAvailableTimeZoneIds().subscribe(function(t){e.timezones=t}),this.settingsService.getSettings(s.c.NOTIFICATION_SYSTEM_SETTINGS_MANAGER,l.c.SYSTEM).subscribe(function(t){e.cronHourOfDay=null,e.cronHourOfDayPristine=e.cronHourOfDay,e.timezone=null,e.timezonePristine=e.timezone;var n=t.getPropertyValue("notificationDigestSchedule");null==n&&(n={expression:null,zone:null}),null!=n.expression&&(e.cronHourOfDay=parseInt(n.expression.split(" ")[2]),e.cronHourOfDayPristine=e.cronHourOfDay),e.timezone=n.zone,e.timezonePristine=e.timezone})},SystemConfigurationComponent.prototype.updateNotificationSchedule=function(){var e=this,t={expression:"0 0 "+this.cronHourOfDay+" * * *",zone:this.timezone};this.notificationsService.scheduleNotificationDigest(t).subscribe(function(){e.initNotificationsConfig()})},SystemConfigurationComponent.prototype.disableNotificationSchedule=function(){var e=this;this.notificationsService.scheduleNotificationDigest().subscribe(function(){e.initNotificationsConfig()})},SystemConfigurationComponent.prototype.detectTimezone=function(){var e=Intl.DateTimeFormat().resolvedOptions().timeZone;this.timezones.some(function(t){return t==e})&&(this.timezone=e)},SystemConfigurationComponent.prototype.isCronDefinitionChanged=function(){return this.cronHourOfDay!=this.cronHourOfDayPristine||this.timezone!=this.timezonePristine},SystemConfigurationComponent.prototype.initFields=function(){var e=this;this.userService.getUserFormFields().subscribe(function(t){e.optionalFields=t.optionalFields,e.customFormFields=t.customFields,e.customFormFieldsPristine=Object.assign({},e.customFormFields),null!=e.selectedCustomField&&(e.selectedCustomField=e.customFormFields.find(function(t){return t.iri==e.selectedCustomField.iri}))})},SystemConfigurationComponent.prototype.getOptionalFieldLabel=function(e){return c.e.getOptionalFieldLabel(e)},SystemConfigurationComponent.prototype.updateOptionalFieldVisibility=function(e){var t=this;e.visible=!e.visible,this.userService.updateUserFormOptionalFieldVisibility(new a.b(e.iri),e.visible).subscribe(function(){t.initFields()})},SystemConfigurationComponent.prototype.updateCustomField=function(e,t){var n=this,r=this.customFormFields[e],o=this.customFormFields.some(function(e){return e.label.toLocaleLowerCase()==t.toLocaleLowerCase()}),i=c.f.standardFields.some(function(e){return e.toLocaleLowerCase()==t.toLocaleLowerCase()});if(o||i){var s="Field '"+t+"' already defined";i&&(s+="in the standard registration form"),this.basicModals.alert("Duplicated field",s,"warning").then(function(){n.customFormFields[e]={iri:null,label:""},n.initFields()})}else null!=r?this.userService.renameUserFormCustomField(new a.b(r.iri),t).subscribe(function(){n.initFields()}):this.userService.addUserFormCustomField(t).subscribe(function(){n.initFields(),n.selectedCustomField=null})},SystemConfigurationComponent.prototype.selectCustomField=function(e){e<this.customFormFields.length&&(this.selectedCustomField=this.customFormFields[e])},SystemConfigurationComponent.prototype.removeCustomField=function(){var e=this;this.userService.removeUserFormCustomField(new a.b(this.selectedCustomField.iri)).subscribe(function(){e.initFields(),e.selectedCustomField=null})},SystemConfigurationComponent.prototype.moveCustomField=function(e){var t,n=this.customFormFields.indexOf(this.selectedCustomField),r=new a.b(this.selectedCustomField.iri);"UP"==e&&n>0?(t=new a.b(this.customFormFields[n-1].iri),this.swapCustomFields(r,t)):"DOWN"==e&&n<this.customFormFields.length-1&&(t=new a.b(this.customFormFields[n+1].iri),this.swapCustomFields(r,t))},SystemConfigurationComponent.prototype.swapCustomFields=function(e,t){var n=this;this.userService.swapUserFormCustomFields(e,t).subscribe(function(){n.initFields()})},SystemConfigurationComponent.prototype.initHomeContent=function(){this.homeContent=g.a.getSystemSettings().homeContent,this.homeContentPristine=this.homeContent,null!=this.homeContent&&this.previewHomeContent()},SystemConfigurationComponent.prototype.previewHomeContent=function(){this.safeHomeContent=this.sanitizer.bypassSecurityTrustHtml(this.homeContent)},SystemConfigurationComponent.prototype.updateHomeContent=function(){""==this.homeContent.trim()&&(this.homeContent=null),this.vbProp.setHomeContent(this.homeContent),this.homeContentPristine=this.homeContent},SystemConfigurationComponent.prototype.isHomeContentChanged=function(){return this.homeContent!=this.homeContentPristine},SystemConfigurationComponent.prototype.onExpFeatEnabledChanged=function(){this.vbProp.setExperimentalFeaturesEnabled(this.expFeatEnabled)},SystemConfigurationComponent.prototype.ok=function(){this.router.navigate(["/Projects"])},SystemConfigurationComponent=b([n.i(r.c)({selector:"sys-config-component",template:n(1762),host:{class:"pageComponent"}}),y("design:paramtypes",[p.a,f.a,m.a,u.a,d.a,v.a,o.c,i.c])],SystemConfigurationComponent)}();!function(){function EmailConfig(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(4),i=n(435),a=n(437),s=n(436),l=n(438),c=n(434),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function CollaborationModalServices(e){this.modal=e}return CollaborationModalServices.prototype.openIssueList=function(){var e=new o.b,t={context:e.keyboard(27).toJSON()};return this.modal.open(c.a,t).result},CollaborationModalServices.prototype.editCollaborationProjectSettings=function(){var e=new o.b,t={context:e.keyboard(27).toJSON()};return this.modal.open(i.a,t).result},CollaborationModalServices.prototype.editCollaborationUserSettings=function(){var e=new o.b,t={context:e.keyboard(27).toJSON()};return this.modal.open(a.a,t).result},CollaborationModalServices.prototype.editCollaborationProject=function(){var e=new o.b,t={context:e.keyboard(27).toJSON()};return this.modal.open(s.a,t).result},CollaborationModalServices.prototype.createIssue=function(){var e=new o.b,t={context:e.keyboard(27).toJSON()};return this.modal.open(l.a,t).result},CollaborationModalServices=p([n.i(r.g)(),d("design:paramtypes",[o.c])],CollaborationModalServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r=n(0),o=n(5),i=n(4),a=n(76),s=n(42),l=n(562),c=n(94),p=n(439),d=n(7),u=n(2),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function DatasetCatalogModalData(){return e.call(this)||this}return f(DatasetCatalogModalData,e),DatasetCatalogModalData}(i.d),v=function(){function DatasetCatalogModal(e,t,n,r,o){this.dialog=e,this.metadataRepositoryService=t,this.extensionService=n,this.modal=r,this.basicModals=o,this.lastSearchFacets={},this.page=0,this.context=e.context}return DatasetCatalogModal.prototype.ngOnInit=function(){var e=this;this.extensionService.getExtensions(s.a.DATASET_CATALOG_CONNECTOR_ID).subscribe(function(t){e.extensions=t})},DatasetCatalogModal.prototype.onExtensionChange=function(e){this.selectedExtension=e,this.extensionConfig=null,this.clearResults()},DatasetCatalogModal.prototype.onExtensionConfigUpdated=function(e){this.extensionConfig=e,this.clearResults()},DatasetCatalogModal.prototype.clearResults=function(){this.searchDatasetResult=null,this.selectedDataset=null,this.selectedDatasetDescription=null},DatasetCatalogModal.prototype.onKeydown=function(e){13==e.which&&this.query&&""!=this.query.trim()&&this.searchDataset()},DatasetCatalogModal.prototype.searchDataset=function(){this.lastQuery=this.query,this.lastSearchFacets={},this.executeSearchDataset()},DatasetCatalogModal.prototype.executeSearchDataset=function(){var e=this,t=this.buildConnectorSpecification();if(t){for(var n={},r=0,o=Object.keys(this.lastSearchFacets);r<o.length;r++){var i=o[r],a=Object.keys(this.lastSearchFacets[i].items);0!=a.length&&(n[i]=a)}d.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.metadataRepositoryService.searchDataset(t,this.lastQuery,n,this.page).subscribe(function(t){d.a.stopLoadingDiv(e.blockingDivElement.nativeElement),e.searchDatasetResult=t,e.selectedDatasetDescription=null,e.totPage=Math.floor(e.searchDatasetResult.totalResults/e.searchDatasetResult.pageSize),e.searchDatasetResult.totalResults%e.searchDatasetResult.pageSize!=0&&e.totPage++})}},DatasetCatalogModal.prototype.selectDataset=function(e){var t=this,n=this.buildConnectorSpecification();n&&(this.selectedDataset=e,this.metadataRepositoryService.describeDataset(n,this.selectedDataset.id).subscribe(function(e){t.selectedDatasetDescription=e}))},DatasetCatalogModal.prototype.requireConfigurationConnector=function(){return null!=this.extensionConfig&&this.extensionConfig.requireConfiguration()},DatasetCatalogModal.prototype.buildConnectorSpecification=function(){var e={factoryId:this.selectedExtension.id};if(null!=this.extensionConfig){if(this.requireConfigurationConnector())return void this.basicModals.alert("Missing configuration","The catalog connector needs to be configured","warning");null!=this.extensionConfig&&(e.configType=this.extensionConfig.type,e.configuration=this.extensionConfig.getPropertiesAsMap())}return e},DatasetCatalogModal.prototype.prevPage=function(){this.page--,this.executeSearchDataset()},DatasetCatalogModal.prototype.nextPage=function(){this.page++,this.executeSearchDataset()},DatasetCatalogModal.prototype.toggleFacet=function(e,t){var n=this.lastSearchFacets[e.name];n||(n={facetDisplayName:e.displayName,items:{}},this.lastSearchFacets[e.name]=n);var r=this.searchDatasetResult.facetAggregations.find(function(t){return t.name==e.name}).selectionMode;r!=a.a.disabled&&(r==a.a.single&&Object.keys(n.items).forEach(function(e){e!=t.name&&delete n.items[e]}),n.items[t.name]?delete n.items[t.name]:n.items[t.name]={itemDisplayName:t.displayname},this.executeSearchDataset())},DatasetCatalogModal.prototype.selectDataDump=function(){var e=new p.a("The selected dataset catalog has multiple data dumps. Please select the one to use from this list.",this.selectedDatasetDescription.dataDumps),t=new i.b(e,void 0,p.a),n={context:t.keyboard(27).size("lg").toJSON()};return this.modal.open(p.b,n).result},DatasetCatalogModal.prototype.ok=function(e){var t=this;if(0==this.selectedDatasetDescription.dataDumps.length){var n={connectorId:this.selectedExtension.id,dataset:this.selectedDatasetDescription,dataDump:null};this.dialog.close(n)}else if(1==this.selectedDatasetDescription.dataDumps.length){var n={connectorId:this.selectedExtension.id,dataset:this.selectedDatasetDescription,dataDump:this.selectedDatasetDescription.dataDumps[0]};this.dialog.close(n)}else this.selectDataDump().then(function(e){var n={connectorId:t.selectedExtension.id,dataset:t.selectedDatasetDescription,dataDump:e};t.dialog.close(n)},function(){})},DatasetCatalogModal.prototype.cancel=function(){this.dialog.dismiss()},h([n.i(r.F)("blockingDiv"),g("design:type",r.e)],DatasetCatalogModal.prototype,"blockingDivElement",void 0),DatasetCatalogModal=h([n.i(r.c)({selector:"dataset-catalog-modal",template:n(1793),styles:["\n        .searchDatasetResult { \n            flex-direction: column;\n            align-items: initial;\n            margin-bottom: 3px;\n            padding: 3px 6px;\n            border: 1px solid #ddd;\n            border-radius: 5px;\n        }"]}),g("design:paramtypes",[o.g,l.a,c.a,o.l,u.a])],DatasetCatalogModal)}();!function(){function DatasetCatalogModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(3),i=n(10),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function AbstractGraphNode(e){this.rendering=!0,this.selected=!1,this.nodeClicked=new r.i,this.nodeDblClicked=new r.i,this.deprecated=!1,this.isSingleClick=!0,this.changeDetectorRef=e}return AbstractGraphNode.prototype.ngOnChanges=function(e){e.rendering&&!e.rendering.firstChange&&this.updateShow()},AbstractGraphNode.prototype.ngAfterViewInit=function(){this.updateShow()},AbstractGraphNode.prototype.initNode=function(){this.initNodeStyle(),this.measures=this.node.getNodeMeaseure()},AbstractGraphNode.prototype.updateShow=function(){if(this.show=i.a.getRendering(this.node.res,this.rendering),this.changeDetectorRef.detectChanges(),this.normalizedShow=this.show,null!=this.textElement){var e=this.textElement.nativeElement.getBBox().width,t=this.node.getNodeWidth()-4;if(e>t){var n=e/t,r=Math.floor(this.normalizedShow.length/n);this.normalizedShow=this.normalizedShow.substring(0,r)}this.show.length>this.normalizedShow.length&&(this.normalizedShow=this.show.substring(0,this.normalizedShow.length-3)+"...")}this.changeDetectorRef.detectChanges()},AbstractGraphNode.prototype.initNodeStyle=function(){var e=this.node.res;if(e instanceof o.e){var t=e.getRole(),n=e.getAdditionalProperty(o.a.EXPLICIT)||void 0==e.getAdditionalProperty(o.a.EXPLICIT);this.deprecated=e.getAdditionalProperty(o.a.DEPRECATED),t==o.c.annotationProperty||t==o.c.cls||t==o.c.concept||t==o.c.conceptScheme||t==o.c.dataRange||t==o.c.datatypeProperty||t==o.c.individual||t==o.c.limeLexicon||t==o.c.objectProperty||t==o.c.ontolexForm||t==o.c.ontolexLexicalEntry||t==o.c.ontolexLexicalSense||t==o.c.ontologyProperty||t==o.c.property?(this.nodeClass=t,n?this.deprecated&&(this.nodeClass=t+"Deprecated"):this.nodeClass=t+"Imported"):t==o.c.skosCollection||t==o.c.skosOrderedCollection?(this.nodeClass=o.c.skosCollection,n?this.deprecated&&(this.nodeClass=t+"Deprecated"):this.nodeClass=t+"Imported"):t==o.c.ontology?this.nodeClass=t:t==o.c.xLabel?(this.nodeClass=t,n?this.deprecated&&(this.nodeClass=t+"Deprecated"):this.nodeClass=t+"Imported"):this.nodeClass="unkwnownNode"}},AbstractGraphNode.prototype.onClick=function(){var e=this;this.isSingleClick=!0,setTimeout(function(){e.isSingleClick&&e.nodeClicked.emit(e.node)},300)},AbstractGraphNode.prototype.onDblClick=function(){this.isSingleClick=!1,this.nodeDblClicked.emit(this.node)},a([n.i(r.F)("textEl"),s("design:type",r.e)],AbstractGraphNode.prototype,"textElement",void 0),a([n.i(r.r)(),s("design:type",Boolean)],AbstractGraphNode.prototype,"rendering",void 0),a([n.i(r.r)(),s("design:type",Boolean)],AbstractGraphNode.prototype,"selected",void 0),a([n.i(r._7)(),s("design:type",r.i)],AbstractGraphNode.prototype,"nodeClicked",void 0),a([n.i(r._7)(),s("design:type",r.i)],AbstractGraphNode.prototype,"nodeDblClicked",void 0),AbstractGraphNode}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(134),i=n(92),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function AbstractGraphPanel(e,t){this.rendering=!0,this.isLock=!1,this.basicModals=e,this.browsingModals=t,this.forces=new o.c}return AbstractGraphPanel.prototype.onForceChange=function(){this.viewChildGraph.updateForces(this.forces)},AbstractGraphPanel.prototype.isSelectedElementNode=function(){return null!=this.selectedElement&&this.selectedElement instanceof i.b},AbstractGraphPanel.prototype.fixNode=function(){var e=this.selectedElement;e.fixed=!e.fixed,e.fixed||(e.fx=null,e.fy=null)},AbstractGraphPanel.prototype.fixAll=function(){this.graph.getNodes().forEach(function(e){e.fixed=!0,e.fx=e.x,e.fy=e.y}),this.isLock=!0},AbstractGraphPanel.prototype.unfixAll=function(){this.graph.getNodes().forEach(function(e){e.fixed=!1,e.fx=null,e.fy=null}),this.isLock=!1},AbstractGraphPanel.prototype.onElementSelected=function(e){this.selectedElement=e},AbstractGraphPanel.prototype.snapshot=function(){var e=this.viewChildGraph.getExportUrl();this.basicModals.downloadLink("Export Graph SVG",null,e,"graph.svg")},a([n.i(r.r)(),s("design:type",o.b)],AbstractGraphPanel.prototype,"graph",void 0),a([n.i(r.r)(),s("design:type",Boolean)],AbstractGraphPanel.prototype,"rendering",void 0),AbstractGraphPanel}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(5),i=n(6),a=n(21),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function DataGraphSettingsModal(e,t){this.dialog=e,this.vbProp=t,this.context=e.context}return DataGraphSettingsModal.prototype.ngOnInit=function(){this.graphFilter=i.a.getWorkingProjectCtx().getProjectPreferences().graphViewPartitionFilter,this.hideLiteralNodes=i.a.getWorkingProjectCtx().getProjectPreferences().hideLiteralGraphNodes},DataGraphSettingsModal.prototype.updateFilter=function(){this.vbProp.setGraphViewPartitionFilter(this.graphFilter)},DataGraphSettingsModal.prototype.onHideLiteralChange=function(){this.vbProp.setHideLiteralGraphNodes(this.hideLiteralNodes)},DataGraphSettingsModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},DataGraphSettingsModal=s([n.i(r.c)({selector:"data-graph-settings-modal",template:n(1842)}),l("design:paramtypes",[o.g,a.a])],DataGraphSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(110),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function NewCatalogRecordModalData(t){var n=e.call(this)||this;return n.title=t,n}return l(NewCatalogRecordModalData,e),NewCatalogRecordModalData}(i.d),u=function(){function NewCatalogRecordModal(e,t){this.dialog=e,this.metadataRegistryService=t,this.dereferenceableValues=[{label:"Unknown",value:null},{label:"Yes",value:!0},{label:"No",value:!1}],this.dereferenceable=this.dereferenceableValues[0],this.context=e.context}return NewCatalogRecordModal.prototype.isInputValid=function(){return null!=this.uriSpace&&""!=this.uriSpace.trim()},NewCatalogRecordModal.prototype.ok=function(e){var t=this,n=null;null!=this.dataset&&""!=this.dataset.trim()&&(n=new a.b(this.dataset));var r=null;null!=this.sparqlEndpoint&&(r=new a.b(this.sparqlEndpoint));var o=this.dereferenceable.value;this.metadataRegistryService.addDataset(this.uriSpace,n,this.title,r,o).subscribe(function(n){e.stopPropagation(),e.preventDefault(),t.dialog.close()})},NewCatalogRecordModal.prototype.cancel=function(){this.dialog.dismiss()},NewCatalogRecordModal=c([n.i(r.c)({selector:"catalog-record-modal",template:n(1880)}),p("design:paramtypes",[o.g,s.a])],NewCatalogRecordModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r,o=n(0),i=n(5),a=n(4),s=n(76),l=n(109),c=n(237),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function ImportOntologyModalData(t,n,r){void 0===t&&(t="Modal Title");var o=e.call(this)||this;return o.title=t,o.importType=n,o.baseURI=r,o}return p(ImportOntologyModalData,e),ImportOntologyModalData}(a.d),h=function(){function ImportOntologyModal(e,t,n){this.dialog=e,this.ontoMgrService=t,this.exportService=n,this.editorMode=r.import,this.altURLCheck=!1,this.forceFormatCheck=!1,this.importAllowances=[{allowance:s.e.nowhere,show:"Do not resolve"},{allowance:s.e.web,show:"Resolve from web"},{allowance:s.e.webFallbackToMirror,show:"Resolve from web with fallback to Ontology Mirror"},{allowance:s.e.mirror,show:"Resolve from Ontology Mirror"},{allowance:s.e.mirrorFallbackToWeb,show:"Resolve from Ontology Mirror with fallback to Web"}],this.selectedImportAllowance=this.importAllowances[1].allowance,this.context=e.context}return ImportOntologyModal.prototype.ngOnInit=function(){var e=this;this.context.importType==s.f.fromOntologyMirror&&this.ontoMgrService.getOntologyMirror().subscribe(function(t){e.mirrorList=t}),this.context.importType!=s.f.fromWeb&&this.context.importType!=s.f.fromWebToMirror||this.exportService.getOutputFormats().subscribe(function(t){e.formats=t;for(var n=0;n<e.formats.length;n++)if("RDF/XML"==e.formats[n].name)return void(e.rdfFormat=e.formats[n])}),null!=this.context.baseURI&&(this.editorMode=r.repair,this.baseURI=this.context.baseURI),this.baseURICheck=this.context.importType!=s.f.fromLocalFile,this.mirrorFileCheck=this.context.importType!=s.f.fromLocalFile},ImportOntologyModal.prototype.fileChangeEvent=function(e){this.localFile=e},ImportOntologyModal.prototype.isOkClickable=function(){if(this.context.importType==s.f.fromWeb){var e=void 0!=this.baseURI&&""!=this.baseURI.trim(),t=!this.altURLCheck||this.altURLCheck&&void 0!=this.altURL&&""!=this.altURL.trim(),n=!this.forceFormatCheck||this.forceFormatCheck&&void 0!=this.rdfFormat;return e&&t&&n}if(this.context.importType==s.f.fromWebToMirror){var e=void 0!=this.baseURI&&""!=this.baseURI.trim(),o=void 0!=this.mirrorFile&&""!=this.mirrorFile.trim(),t=!this.altURLCheck||this.altURLCheck&&void 0!=this.altURL&&""!=this.altURL.trim(),n=!this.forceFormatCheck||this.forceFormatCheck&&void 0!=this.rdfFormat;return e&&o&&t&&n}if(this.context.importType==s.f.fromLocalFile){var i=void 0!=this.localFile,e=void 0;e=this.editorMode==r.repair?void 0!=this.baseURI&&""!=this.baseURI.trim():!this.baseURICheck||void 0!=this.baseURI&&""!=this.baseURI.trim();var o=void 0;return o=this.editorMode==r.repair?void 0!=this.mirrorFile&&""!=this.mirrorFile.trim():!this.mirrorFileCheck||void 0!=this.mirrorFile&&""!=this.mirrorFile.trim(),e&&i&&o}if(this.context.importType==s.f.fromOntologyMirror)return void 0!=this.selectedMirror},ImportOntologyModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();var t;this.forceFormatCheck&&(t=this.rdfFormat);var n;this.altURLCheck&&(n=this.altURL);var o,i;this.editorMode==r.import?(this.baseURICheck&&(o=this.baseURI),this.mirrorFileCheck&&(i=this.mirrorFile)):(o=this.baseURI,i=this.mirrorFile),this.context.importType==s.f.fromWeb?this.dialog.close({baseURI:this.baseURI,altURL:n,rdfFormat:t,transitiveImportAllowance:this.selectedImportAllowance}):this.context.importType==s.f.fromWebToMirror?this.dialog.close({baseURI:this.baseURI,mirrorFile:this.mirrorFile,altURL:n,rdfFormat:t,transitiveImportAllowance:this.selectedImportAllowance}):this.context.importType==s.f.fromLocalFile?this.dialog.close({baseURI:o,localFile:this.localFile,mirrorFile:i,transitiveImportAllowance:this.selectedImportAllowance}):this.context.importType==s.f.fromOntologyMirror&&this.dialog.close({mirror:this.selectedMirror,transitiveImportAllowance:this.selectedImportAllowance})},ImportOntologyModal.prototype.cancel=function(){this.dialog.dismiss()},ImportOntologyModal=d([n.i(o.c)({selector:"import-ontology-modal",template:n(1885)}),u("design:paramtypes",[i.g,c.a,l.a])],ImportOntologyModal)}();!function(e){e.import="import",e.repair="repair"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var r,o=function(){function Issue(e,t,n,r,o,i,a,s,l){this.id=e,this.key=t,this.status=n,this.statusId=r,this.summary=o,this.url=i,this.labels=a,this.resolution=s,this.category=l,this.statusClass="10000"==r?"label-primary":"10001"==r?"label-success":"3"==r?"label-warning":"label-info",this.resources=[]}return Issue.prototype.getId=function(){return this.id},Issue.prototype.getKey=function(){return this.key},Issue.prototype.getStatus=function(){return this.status},Issue.prototype.getSummary=function(){return this.summary},Issue.prototype.getUrl=function(){return this.url},Issue.prototype.getLabels=function(){return this.labels},Issue.prototype.getResolution=function(){return this.resolution},Issue.prototype.getCategory=function(){return this.category},Issue.prototype.getStatusClass=function(){return this.statusClass},Issue.prototype.getStatusId=function(){return this.statusId},Issue.prototype.getResources=function(){return this.resources},Issue.prototype.setResources=function(e){this.resources=e},Issue.prototype.addResource=function(e){this.resources.push(e)},Issue}(),i=(function(){function IssuesStruct(){}}(),function(){function CollaborationUtils(){}return CollaborationUtils.parseIssue=function(e){return new o(e.id,e.key,e.status,e.statusId,e.summary,e.url,e.labels,e.resolution,e.category)},CollaborationUtils.parseIssues=function(e){for(var t=[],n=0;n<e.length;n++)t.push(CollaborationUtils.parseIssue(e[n]));return t},CollaborationUtils.sortIssues=function(e,t,n){e.sort(function(e,r){return n?-e[t].localeCompare(r[t]):e[t].localeCompare(r[t])})},CollaborationUtils}());!function(e){e.Dashboard="Dashboard",e.Assignment="Assignment"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a});var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),o=(function(){function AlignmentPlan(){}}(),function(){function ScenarioDefinition(){}}(),function(){function MatcherDefinitionDTO(){}}(),function(){function AlignmentScenario(){}}(),function(){function MatcherDTO(){}}(),function(){function SettingsDTO(){}}(),function(){function ServiceMetadataDTO(){}}(),function(){function ServiceMetadataContact(){}}(),function(){function Dataset(){}return Dataset}()),i=(function(){function Pairing(){}}(),function(){function RefinablePairing(){}return RefinablePairing}()),a=(function(){function PairingHand(){}}(),function(){function Synonymizer(){}return Synonymizer}());(function(e){function LexicalizationSet(){return null!==e&&e.apply(this,arguments)||this}r(LexicalizationSet,e)})(o),function(e){function ConceptSet(){return null!==e&&e.apply(this,arguments)||this}r(ConceptSet,e)}(o),function(e){function ConceptualizationSet(){return null!==e&&e.apply(this,arguments)||this}r(ConceptualizationSet,e)}(o),function(e){function Lexicon(){return null!==e&&e.apply(this,arguments)||this}r(Lexicon,e)}(o),function(e){function VoidDataset(){return null!==e&&e.apply(this,arguments)||this}r(VoidDataset,e)}(o),function(){function ProfilerOptions(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(34),o=n(0),i=n(22),a=n(46),s=n(620),l=n(1081),c=n(621),p=n(622),d=n(1082),u=n(1084),f=n(623),h=n(48),g=n(1083),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=function(){function UserModule(){}return UserModule=m([n.i(o.b)({imports:[r.a,i.a,a.a,h.a],declarations:[s.a,l.a,c.a,p.a,d.a,g.a,u.a,f.a],exports:[l.a,d.a,g.a,u.a],providers:[],entryComponents:[s.a]})],UserModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r,o=n(0),i=n(5),a=n(4),s=n(45),l=n(42),c=n(185),p=n(163),d=n(7),u=n(2),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function MetadataPatternEditorModalData(t,n,r,o){var i=e.call(this)||this;return i.title=t,i.existingPatterns=n,i.ref=r,i.readOnly=o,i}return f(MetadataPatternEditorModalData,e),MetadataPatternEditorModalData}(a.d),v=function(){function MetadataPatternEditorModal(e,t,n,o,i){this.dialog=e,this.resourceMetadataService=t,this.codaService=n,this.basicModals=o,this.elementRef=i,this.pearlEditors=[{type:r.Construction,code:null,validation:{valid:!0},timer:null},{type:r.Update,code:null,validation:{valid:!0},timer:null},{type:r.Destruction,code:null,validation:{valid:!0},timer:null}],this.activePearlEditor=this.pearlEditors[0],this.context=e.context}return MetadataPatternEditorModal.prototype.ngOnInit=function(){var e=this;d.a.setFullSizeModal(this.elementRef),null!=this.context.ref&&this.resourceMetadataService.getPattern(this.context.ref).subscribe(function(t){e.name=s.b.getRelativeReferenceIdentifier(e.context.ref),e.description=t.getPropertyValue("description"),e.pearlEditors.find(function(e){return e.type==r.Construction}).code=t.getPropertyValue("construction"),e.pearlEditors.find(function(e){return e.type==r.Update}).code=t.getPropertyValue("update"),e.pearlEditors.find(function(e){return e.type==r.Destruction}).code=t.getPropertyValue("destruction")})},MetadataPatternEditorModal.prototype.onPearlChanged=function(e){var t=this;clearTimeout(e.timer),e.timer=window.setTimeout(function(){t.validatePearl(e)},1e3)},MetadataPatternEditorModal.prototype.validatePearl=function(e){null==e.code||""==e.code.trim()?e.validation={valid:!0}:this.codaService.validatePearl(e.code).subscribe(function(t){e.validation=t})},MetadataPatternEditorModal.prototype.isDataValid=function(){return null!=this.name&&""!=this.name.trim()},MetadataPatternEditorModal.prototype.ok=function(){var e=this;if(!this.pearlEditors.some(function(e){return null!=e.code&&""!=e.code.trim()}))return void this.basicModals.alert("Missing pattern","You need to provide at least one pattern (Construction, Update or Destruction)","warning");if(this.pearlEditors.some(function(e){return!e.validation.valid}))return void this.basicModals.alert("Invalid pattern","One (or more) pattern is not valid. Please fix it and retry","warning");var t={};null!=this.description&&(t.description=this.description);var n=this.pearlEditors.find(function(e){return e.type==r.Construction}).code;null!=n&&""!=n&&(t.construction=n);var o=this.pearlEditors.find(function(e){return e.type==r.Update}).code;null!=o&&""!=o&&(t.update=o);var i=this.pearlEditors.find(function(e){return e.type==r.Destruction}).code;if(null!=i&&""!=i&&(t.destruction=i),null!=this.context.ref)this.resourceMetadataService.updatePattern(this.context.ref,t).subscribe(function(){e.dialog.close()});else{if(this.context.existingPatterns.some(function(t){return t.name==e.name}))return void this.basicModals.alert("Pattern already existing","A Metadata Pattern with the same name already exists. Please change the name and retry.","warning");var a=l.e.serializeScope(l.c.PROJECT)+":"+this.name;this.resourceMetadataService.createPattern(a,t).subscribe(function(){e.dialog.close()})}},MetadataPatternEditorModal.prototype.cancel=function(){this.dialog.dismiss()},MetadataPatternEditorModal=h([n.i(o.c)({selector:"metadata-pattern-editor-modal",template:n(1914)}),g("design:paramtypes",[i.g,p.a,c.a,u.a,o.e])],MetadataPatternEditorModal)}();!function(e){e.Construction="Construction",e.Update="Update",e.Destruction="Destruction"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(11),i=n(33),a=n(111),s=n(8),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function LexicalizationEnrichmentHelper(e,t){this.skosService=e,this.skosxlService=t}return LexicalizationEnrichmentHelper.prototype.getAddLabelFn=function(e,t,n,r,i,a){a&&s.c.setContextForce(!0);var l;return t.equals(o.d.prefLabel)?l=this.skosService.setPrefLabel(e,n,i):t.equals(o.d.altLabel)?l=this.skosService.addAltLabel(e,n):t.equals(o.d.hiddenLabel)?l=this.skosService.addHiddenLabel(e,n):t.equals(o.e.prefLabel)?l=this.skosxlService.setPrefLabel(e,n,r,i):t.equals(o.e.altLabel)?l=this.skosxlService.addAltLabel(e,n,r):t.equals(o.e.hiddenLabel)&&(l=this.skosxlService.addHiddenLabel(e,n,r)),l.finally(function(){a&&s.c.setContextForce(!1)})},LexicalizationEnrichmentHelper=l([n.i(r.g)(),c("design:paramtypes",[i.a,a.a])],LexicalizationEnrichmentHelper)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(24),i=n(16),a=n(12),s=n(2),l=n(28),c=n(542),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function PartitionRendererMultiRoot(t,n,r,o){return e.call(this,t,n,r,o)||this}return p(PartitionRendererMultiRoot,e),PartitionRendererMultiRoot.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.rootProperties=o.c.getPartitionRootProperties(this.partition),this.knownProperties=o.c.getPartitionKnownProperties(this.partition)},PartitionRendererMultiRoot.prototype.isKnownProperty=function(e){for(var t=0;t<this.knownProperties.length;t++)if(this.knownProperties[t].getURI()==e.getURI())return!0;return!1},PartitionRendererMultiRoot.prototype.getAddPropImgTitle=function(e){return"Add a "+e.getShow()},PartitionRendererMultiRoot.prototype.getRemovePropImgTitle=function(e){return"Remove "+e.getShow()},PartitionRendererMultiRoot=d([n.i(r.c)({selector:"partition-renderer-multi",template:n(38)}),u("design:paramtypes",[a.a,i.a,s.a,l.a])],PartitionRendererMultiRoot)}(c.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(135),i=n(3),a=n(8),s=n(36),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function HistoryServices(e){this.httpMgr=e,this.serviceName="History"}return HistoryServices.prototype.getCommitSummary=function(e,t,n,r,o,i){var a={operationFilter:e,performerFilter:t,validatorFilter:n,timeLowerBound:r,timeUpperBound:o,limit:i};return this.httpMgr.doGet(this.serviceName,"getCommitSummary",a).map(function(e){return e})},HistoryServices.prototype.getCommits=function(e,t,n,r,a,s,l,c,p,d){var u={tipRevisionNumber:e,operationFilter:t,performerFilter:n,validatorFilter:r,timeLowerBound:a,timeUpperBound:s,operationSorting:l,timeSorting:c,page:p,limit:d};return this.httpMgr.doGet(this.serviceName,"getCommits",u).map(function(e){for(var t=[],n=e,r=0;r<n.length;r++)!function(){var e=n[r],a=new i.b(e.commit),s=void 0,l=e.user;null!=l&&(s=new i.b(l["@id"],l.show));var c=void 0,p=e.operation;null!=p&&(c=new i.b(p["@id"]));var d=[],u=e.operationParameters;null!=u&&u.forEach(function(e){null!=e.value&&d.push(new o.e(e.name,e.value))});var f=void 0,h=e.startTime;null!=h&&(f=new Date(h));var g=void 0,m=e.endTime;null!=m&&(g=new Date(m));var v=new o.f(a,s,c,d,f,g);t.push(v)}();return t})},HistoryServices.prototype.getCommitDelta=function(e){var t={commit:e};return this.httpMgr.doGet(this.serviceName,"getCommitDelta",t).map(function(e){for(var t=[],n=[],r=e.additions,i=0;i<r.length;i++){var a=r[i];t.push(new o.g(s.a.createRDFResource(a.subject),s.a.createURI(a.predicate),s.a.createRDFNode(a.object),s.a.createRDFResource(a.context)))}for(var l=e.removals,i=0;i<l.length;i++){var c=l[i];n.push(new o.g(s.a.createRDFResource(c.subject),s.a.createURI(c.predicate),s.a.createRDFNode(c.object),s.a.createRDFResource(c.context)))}return{additions:t,removals:n,additionsTruncated:e.additionsTruncated,removalsTruncated:e.removalsTruncated}})},HistoryServices=l([n.i(r.g)(),c("design:paramtypes",[a.a])],HistoryServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(8),i=n(42),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function PluginsServices(e){this.httpMgr=e,this.serviceName="Plugins"}return PluginsServices.prototype.getAvailablePlugins=function(e){var t={extensionPoint:e};return this.httpMgr.doGet(this.serviceName,"getAvailablePlugins",t).map(function(e){for(var t=e,n=[],r=0;r<t.length;r++){var o=t[r].factoryID;n.push(new i.i(o))}return n.sort(function(e,t){return e.factoryID<t.factoryID?-1:e.factoryID>t.factoryID?1:0}),n})},PluginsServices.prototype.getPluginConfigurations=function(e){var t={factoryID:e};return this.httpMgr.doGet(this.serviceName,"getPluginConfigurations",t).map(function(t){for(var n=t,r=[],o=0;o<n.length;o++)r.push(i.b.parse(n[o]));return{factoryID:e,configurations:r}})},PluginsServices=a([n.i(r.g)(),s("design:paramtypes",[o.a])],PluginsServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function RepositoriesServices(e){this.httpMgr=e,this.serviceName="Repositories"}return RepositoriesServices.prototype.getRemoteRepositories=function(e,t,n){var r={serverURL:e};return null!=t&&null!=n&&(r.username=t,r.password=n),this.httpMgr.doPost(this.serviceName,"getRemoteRepositories",r).map(function(e){for(var t=[],n=0;n<e.length;n++){var r={id:e[n].id,location:e[n].location,description:e[n].description,readable:e[n].readable,writable:e[n].writable};t.push(r)}return t})},RepositoriesServices.prototype.deleteRemoteRepositories=function(e){var t={remoteRepositories:JSON.stringify(e)};return this.httpMgr.doPost(this.serviceName,"deleteRemoteRepositories",t).map(function(e){for(var t=[],n=0;n<e.length;n++){var r=void 0;null!=e[n]&&(r={message:e[n].message,type:e[n].type,stacktrace:e[n].stacktrace}),t.push(r)}return t})},RepositoriesServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],RepositoriesServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function SkosDiffingServices(e){this.httpMgr=e,this.serviceName="SkosDiffing"}return SkosDiffingServices.prototype.runDiffing=function(e,t,n,r,o){var i={leftProjectName:e.getName(),rightProjectName:t.getName(),leftVersionRepoId:n,rightVersionRepoId:r,langList:o};return this.httpMgr.doPost(this.serviceName,"runDiffing",i)},SkosDiffingServices.prototype.getAllTasksInfo=function(e){var t={projectName:e},n=new o.b({errorAlertOpt:{show:!0,exceptionsToSkip:["org.apache.http.conn.HttpHostConnectException"]}});return this.httpMgr.doGet(this.serviceName,"getAllTasksInfo",t,n)},SkosDiffingServices.prototype.deleteTask=function(e){var t={taskId:e};return this.httpMgr.doPost(this.serviceName,"deleteTask",t)},SkosDiffingServices.prototype.getTaskResult=function(e,t){var n={taskId:e,resultType:t};return this.httpMgr.downloadFile(this.serviceName,"getTaskResult",n)},SkosDiffingServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],SkosDiffingServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n(0),o=n(4),i=n(3),a=n(11),s=n(17),l=n(7),c=n(20),p=n(6),d=n(2),u=n(13),f=n(584),h=n(588),g=n(589),m=n(596),v=n(603),b=n(610),y=n(614),x=n(618),C=n(619),R=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},S=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(){function TabsetPanelComponent(e,t,n){this.modal=e,this.basicModals=t,this.sharedModals=n,this.readonly=!1,this.editable=!0,this.nodeSelected=new r.i,this.context=l.b.dataPanel,this.showTabCache={},this.tabs=[{role:i.c.cls,label:"Class"},{role:i.c.concept,label:"Concept"},{role:i.c.conceptScheme,label:"Scheme"},{role:i.c.skosCollection,label:"Collection"},{role:i.c.property,label:"Property"},{role:i.c.limeLexicon,label:"Lexicon"},{role:i.c.ontolexLexicalEntry,label:"Lex.Entry"},{role:i.c.dataRange,label:"Datatype"}],this.allowMultiselection=!0}return TabsetPanelComponent.prototype.ngOnInit=function(){this.ONTO_TYPE=this.getWorkingContext().getProject().getModelType(),this.ONTO_TYPE==a.d.uri?this.isConceptAuthorized()?this.activeTab=i.c.concept:this.isCollectionAuthorized()?this.activeTab=i.c.skosCollection:this.isSchemeAuthorized()?this.activeTab=i.c.conceptScheme:this.isClassAuthorized()?this.activeTab=i.c.cls:this.isPropertyAuthorized()?this.activeTab=i.c.property:this.isDataRangeAuthorized()&&(this.activeTab=i.c.dataRange):this.ONTO_TYPE==a.f.uri?this.isLexiconAuthorized()?this.activeTab=i.c.limeLexicon:this.isLexicalEntryAuthorized()?this.activeTab=i.c.ontolexLexicalEntry:this.isConceptAuthorized()?this.activeTab=i.c.concept:this.isCollectionAuthorized()?this.activeTab=i.c.skosCollection:this.isSchemeAuthorized()?this.activeTab=i.c.conceptScheme:this.isClassAuthorized()?this.activeTab=i.c.cls:this.isPropertyAuthorized()?this.activeTab=i.c.property:this.isDataRangeAuthorized()&&(this.activeTab=i.c.dataRange):this.isClassAuthorized()?this.activeTab=i.c.cls:this.isPropertyAuthorized()?this.activeTab=i.c.property:this.isDataRangeAuthorized()&&(this.activeTab=i.c.dataRange),0==this.readonly&&(this.readonly=null!=p.a.getContextVersion()),!this.readonly&&this.editable||(this.allowMultiselection=!1)},TabsetPanelComponent.prototype.onNodeSelected=function(e){this.nodeSelected.emit(e)},TabsetPanelComponent.prototype.syncResource=function(e,t){if(e.isURIResource()){var n=e.getRole();t&&this.activeTab!=n&&this.showTab(n)&&(this.activeTab=n),this.activeTab==n&&(n==i.c.concept?this.viewChildConceptPanel.openTreeAt(e):n==i.c.conceptScheme?this.viewChildSchemePanel.openAt(e):n==i.c.skosCollection||n==i.c.skosOrderedCollection?this.viewChildCollectionPanel.openTreeAt(e):n==i.c.property||n==i.c.annotationProperty||n==i.c.datatypeProperty||n==i.c.objectProperty||n==i.c.ontologyProperty?this.viewChildPropertyPanel.openTreeAt(e):n==i.c.cls?this.viewChildClsIndPanel.openClassTreeAt(e):n==i.c.limeLexicon?this.viewChildLexiconPanel.openAt(e):n==i.c.ontolexLexicalEntry?this.viewChildLexialEntryPanel.openAt(e):n==i.c.dataRange&&this.viewChildDatatypePanel.openAt(e))}},TabsetPanelComponent.prototype.isProjectSKOS=function(){return this.ONTO_TYPE==a.d.uri},TabsetPanelComponent.prototype.isProjectOntolex=function(){return this.ONTO_TYPE==a.f.uri},TabsetPanelComponent.prototype.openSettings=function(){var e=new o.b,t={context:e.keyboard(27).toJSON()};return this.modal.open(C.a,t).result},TabsetPanelComponent.prototype.showTab=function(e){if(null==this.showTabCache[e]){var t=!1;t=e==i.c.cls?this.isTabAuthorized(e)&&(null==this.hiddenTabs||-1==this.hiddenTabs.indexOf(e)):e==i.c.concept?this.isTabAuthorized(e)&&(this.isProjectSKOS()||this.isProjectOntolex())&&(null==this.hiddenTabs||-1==this.hiddenTabs.indexOf(e)):e==i.c.conceptScheme?this.isTabAuthorized(e)&&(this.isProjectSKOS()||this.isProjectOntolex())&&(null==this.hiddenTabs||-1==this.hiddenTabs.indexOf(e)):e==i.c.skosCollection?this.isTabAuthorized(e)&&(this.isProjectSKOS()||this.isProjectOntolex())&&(null==this.hiddenTabs||-1==this.hiddenTabs.indexOf(e)):e==i.c.property?this.isTabAuthorized(e)&&(null==this.hiddenTabs||-1==this.hiddenTabs.indexOf(e)):e==i.c.limeLexicon?this.isTabAuthorized(e)&&this.isProjectOntolex()&&(null==this.hiddenTabs||-1==this.hiddenTabs.indexOf(e)):e==i.c.ontolexLexicalEntry?this.isTabAuthorized(e)&&this.isProjectOntolex()&&(null==this.hiddenTabs||-1==this.hiddenTabs.indexOf(e)):e==i.c.dataRange&&(this.isTabAuthorized(e)&&(null==this.hiddenTabs||-1==this.hiddenTabs.indexOf(e))),this.showTabCache[e]=t}return this.showTabCache[e]},TabsetPanelComponent.prototype.selectTab=function(e){this.activeTab=e},TabsetPanelComponent.prototype.isTabAuthorized=function(e){return e==i.c.cls?this.isClassAuthorized():e==i.c.concept?this.isConceptAuthorized():e==i.c.conceptScheme?this.isSchemeAuthorized():e==i.c.skosCollection?this.isCollectionAuthorized():e==i.c.property?this.isPropertyAuthorized():e==i.c.limeLexicon?this.isLexiconAuthorized():e==i.c.ontolexLexicalEntry?this.isLexicalEntryAuthorized():e==i.c.dataRange&&this.isDataRangeAuthorized()},TabsetPanelComponent.prototype.isClassAuthorized=function(){return s.a.isAuthorized(c.a.classesGetClassTaxonomy)},TabsetPanelComponent.prototype.isConceptAuthorized=function(){return s.a.isAuthorized(c.a.skosGetConceptTaxonomy)},TabsetPanelComponent.prototype.isSchemeAuthorized=function(){return s.a.isAuthorized(c.a.skosGetSchemes)},TabsetPanelComponent.prototype.isCollectionAuthorized=function(){return s.a.isAuthorized(c.a.skosGetCollectionTaxonomy)},TabsetPanelComponent.prototype.isPropertyAuthorized=function(){return s.a.isAuthorized(c.a.propertiesGetPropertyTaxonomy)},TabsetPanelComponent.prototype.isLexiconAuthorized=function(){return s.a.isAuthorized(c.a.ontolexGetLexicon)},TabsetPanelComponent.prototype.isLexicalEntryAuthorized=function(){return s.a.isAuthorized(c.a.ontolexGetLexicalEntry)},TabsetPanelComponent.prototype.isDataRangeAuthorized=function(){return s.a.isAuthorized(c.a.datatypesGetDatatype)},TabsetPanelComponent.prototype.advancedSearch=function(e){var t,n=this;if(e.isURIResource()){var r=e.getRole();r==i.c.property||r==i.c.annotationProperty||r==i.c.datatypeProperty||r==i.c.objectProperty||r==i.c.ontologyProperty?t=i.c.property:r==i.c.cls||r==i.c.individual?t=i.c.cls:r==i.c.concept?t=i.c.concept:r==i.c.conceptScheme?t=i.c.conceptScheme:r==i.c.limeLexicon?t=i.c.limeLexicon:r==i.c.ontolexLexicalEntry?t=i.c.ontolexLexicalEntry:r==i.c.skosCollection||r==i.c.skosOrderedCollection?t=i.c.skosCollection:r==i.c.dataRange?t=i.c.dataRange:this.sharedModals.openResourceView(e,!1)}else this.basicModals.alert("Search","The resoruce "+e.getShow()+" cannot be focused in a tree/list view, so its ResourceView will be shown in a modal dialog","warning").then(function(){n.sharedModals.openResourceView(e,!1)});null!=t&&(this.showTab(t)?(this.activeTab=t,setTimeout(function(){t==i.c.property?n.viewChildPropertyPanel.openTreeAt(e):t==i.c.cls?n.viewChildClsIndPanel.selectSearchedResource(e):t==i.c.concept?n.viewChildConceptPanel.selectSearchedResource(e):t==i.c.conceptScheme?n.viewChildSchemePanel.openAt(e):t==i.c.limeLexicon?n.viewChildLexiconPanel.openAt(e):t==i.c.ontolexLexicalEntry?n.viewChildLexialEntryPanel.selectAdvancedSearchedResource(e):t==i.c.skosCollection?n.viewChildCollectionPanel.openTreeAt(e):t==i.c.dataRange&&n.viewChildDatatypePanel.openAt(e)})):this.basicModals.alert("Search","The resoruce "+e.getShow()+" cannot be focused in a tree/list view, so its ResourceView will be shown in a modal dialog","warning").then(function(){n.sharedModals.openResourceView(e,!1)}))},TabsetPanelComponent.prototype.getWorkingContext=function(){return null!=this.projectCtx?this.projectCtx:p.a.getWorkingProjectCtx()},R([n.i(r.r)(),S("design:type",p.b)],TabsetPanelComponent.prototype,"projectCtx",void 0),R([n.i(r.r)(),S("design:type",Array)],TabsetPanelComponent.prototype,"hiddenTabs",void 0),R([n.i(r.r)(),S("design:type",Boolean)],TabsetPanelComponent.prototype,"readonly",void 0),R([n.i(r.r)(),S("design:type",Boolean)],TabsetPanelComponent.prototype,"editable",void 0),R([n.i(r._7)(),S("design:type",Object)],TabsetPanelComponent.prototype,"nodeSelected",void 0),R([n.i(r.F)(y.a),S("design:type",y.a)],TabsetPanelComponent.prototype,"viewChildConceptPanel",void 0),R([n.i(r.F)(b.a),S("design:type",b.a)],TabsetPanelComponent.prototype,"viewChildCollectionPanel",void 0),R([n.i(r.F)(x.a),S("design:type",x.a)],TabsetPanelComponent.prototype,"viewChildSchemePanel",void 0),R([n.i(r.F)(v.a),S("design:type",v.a)],TabsetPanelComponent.prototype,"viewChildPropertyPanel",void 0),R([n.i(r.F)(g.a),S("design:type",g.a)],TabsetPanelComponent.prototype,"viewChildClsIndPanel",void 0),R([n.i(r.F)(h.a),S("design:type",h.a)],TabsetPanelComponent.prototype,"viewChildLexiconPanel",void 0),R([n.i(r.F)(f.a),S("design:type",f.a)],TabsetPanelComponent.prototype,"viewChildLexialEntryPanel",void 0),R([n.i(r.F)(m.a),S("design:type",m.a)],TabsetPanelComponent.prototype,"viewChildDatatypePanel",void 0),TabsetPanelComponent=R([n.i(r.c)({selector:"tabset-panel",template:n(2012),host:{class:"vbox"}}),S("design:paramtypes",[o.c,d.a,u.a])],TabsetPanelComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(22),i=n(56),a=(n.n(i),n(2382)),s=(n.n(a),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function PearlEditorComponent(){this.propagateChange=function(e){}}return e=PearlEditorComponent,PearlEditorComponent.prototype.ngAfterViewInit=function(){var e=this;this.cmEditor=i.fromTextArea(this.textareaElement.nativeElement,{lineNumbers:!0,mode:"pearl",indentUnit:4,indentWithTabs:!0,lineWrapping:!0,readOnly:this.disabled,viewportMargin:1/0,extraKeys:{"Ctrl-7":function(){return e.commentHandler(e.cmEditor)}}}),this.cmEditor.on("change",function(t){e.propagateChange(t.getDoc().getValue())})},PearlEditorComponent.prototype.ngOnChanges=function(e){e.disabled&&null!=this.cmEditor&&this.cmEditor.setOption("readOnly",e.disabled.currentValue)},PearlEditorComponent.prototype.commentHandler=function(e){var t=e.cursorCoords(!0,"local"),n=e.cursorCoords(!1,"local");e.toggleComment({from:t,to:n})},PearlEditorComponent.prototype.insertAtCursor=function(e){var t=this.cmEditor.getDoc().getCursor();this.cmEditor.getDoc().replaceRange(e,t,t)},PearlEditorComponent.prototype.writeValue=function(e){null!=e&&this.cmEditor.setValue(e)},PearlEditorComponent.prototype.registerOnChange=function(e){this.propagateChange=e},PearlEditorComponent.prototype.registerOnTouched=function(e){},s([n.i(r.r)(),l("design:type",Boolean)],PearlEditorComponent.prototype,"disabled",void 0),s([n.i(r.F)("txtarea"),l("design:type",Object)],PearlEditorComponent.prototype,"textareaElement",void 0),PearlEditorComponent=e=s([n.i(r.c)({selector:"pearl-editor",template:n(2028),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}],host:{class:"vbox"}}),l("design:paramtypes",[])],PearlEditorComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function LexiconListModalData(t,n){void 0===t&&(t="Modal Title");var r=e.call(this)||this;return r.title=t,r.projectCtx=n,r}return s(LexiconListModalData,e),LexiconListModalData}(i.d),d=function(){function LexiconListModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return LexiconListModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},LexiconListModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedLexicon)},LexiconListModal.prototype.cancel=function(){this.dialog.dismiss()},LexiconListModal.prototype.onLexiconSelected=function(e){this.selectedLexicon=e},LexiconListModal=l([n.i(r.c)({selector:"lexicon-list-modal",template:n(2051)}),c("design:paramtypes",[o.g,r.e])],LexiconListModal)}()},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(205);t.a=function(e,t,n){if(null==n&&(n=r.a),o=e.length){if((t=+t)<=0||o<2)return+n(e[0],0,e);if(t>=1)return+n(e[o-1],o-1,e);var o,i=(o-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}},function(e,t,n){"use strict";function Map(){}function map(e,t){var n=new Map;if(e instanceof Map)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,o=-1,i=e.length;if(null==t)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t(r=e[o],o,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}n.d(t,"b",function(){return r});var r="$";Map.prototype=map.prototype={constructor:Map,has:function(e){return r+e in this},get:function(e){return this[r+e]},set:function(e,t){return this[r+e]=t,this},remove:function(e){var t=r+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===r&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===r&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===r&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===r&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===r&&++e;return e},empty:function(){for(var e in this)if(e[0]===r)return!1;return!0},each:function(e){for(var t in this)t[0]===r&&e(this[t],t.slice(1),this)}},t.a=map},function(e,t,n){"use strict";function Color(){}function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rgbn(t):3===n?new Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?rgba(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=p.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=d.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=u.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=f.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=h.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?rgbn(m[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rgb(e,t,n,r)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,t,n,r){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,n,null==r?1:r)}function Rgb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function hex(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function hsla(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Hsl(a,s,l,e.opacity)}function hsl(e,t,n,r){return 1===arguments.length?hslConvert(e):new Hsl(e,t,n,null==r?1:r)}function Hsl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hsl2rgb(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.d=Color,n.d(t,"f",function(){return o}),n.d(t,"e",function(){return i}),t.a=color,t.c=rgbConvert,t.h=rgb,t.b=Rgb,t.g=hsl;var r=n(337),o=.7,i=1/o,a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,p=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),u=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),f=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),h=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),g=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n.i(r.a)(Color,color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),n.i(r.a)(Rgb,rgb,n.i(r.b)(Color,{brighter:function(e){return e=null==e?i:Math.pow(i,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),n.i(r.a)(Hsl,hsl,n.i(r.b)(Color,{brighter:function(e){return e=null==e?i:Math.pow(i,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,r),hsl2rgb(e,o,r),hsl2rgb(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},function(e,t,n){"use strict";function extend(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}t.b=extend,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";var r=n(1314);n.d(t,"c",function(){return r.a});var o=n(718);n.d(t,"a",function(){return o.a}),n.d(t,"b",function(){return o.b})},function(e,t,n){"use strict";function objectConverter(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function customConverter(e,t){var n=objectConverter(e);return function(r,o){return t(n(r),o,e)}}function inferColumns(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function pad(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function formatYear(e){return e<0?"-"+pad(-e,6):e>9999?"+"+pad(e,6):pad(e,4)}function formatDate(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":formatYear(e.getUTCFullYear(),4)+"-"+pad(e.getUTCMonth()+1,2)+"-"+pad(e.getUTCDate(),2)+(o?"T"+pad(t,2)+":"+pad(n,2)+":"+pad(r,2)+"."+pad(o,3)+"Z":r?"T"+pad(t,2)+":"+pad(n,2)+":"+pad(r,2)+"Z":n||t?"T"+pad(t,2)+":"+pad(n,2)+"Z":"")}var r={},o={},i=34,a=10,s=13;t.a=function(e){function parse(e,t){var n,r,o=parseRows(e,function(e,o){if(n)return n(e,o-1);r=e,n=t?customConverter(e,t):objectConverter(e)});return o.columns=r||[],o}function parseRows(e,t){function token(){if(f)return o;if(h)return h=!1,r;var t,l,c=d;if(e.charCodeAt(c)===i){for(;d++<p&&e.charCodeAt(d)!==i||e.charCodeAt(++d)===i;);return(t=d)>=p?f=!0:(l=e.charCodeAt(d++))===a?h=!0:l===s&&(h=!0,e.charCodeAt(d)===a&&++d),e.slice(c+1,t-1).replace(/""/g,'"')}for(;d<p;){if((l=e.charCodeAt(t=d++))===a)h=!0;else if(l===s)h=!0,e.charCodeAt(d)===a&&++d;else if(l!==n)continue;return e.slice(c,t)}return f=!0,e.slice(c,p)}var l,c=[],p=e.length,d=0,u=0,f=p<=0,h=!1;for(e.charCodeAt(p-1)===a&&--p,e.charCodeAt(p-1)===s&&--p;(l=token())!==o;){for(var g=[];l!==r&&l!==o;)g.push(l),l=token();t&&null==(g=t(g,u++))||c.push(g)}return c}function preformatBody(t,n){return t.map(function(t){return n.map(function(e){return formatValue(t[e])}).join(e)})}function format(t,n){return null==n&&(n=inferColumns(t)),[n.map(formatValue).join(e)].concat(preformatBody(t,n)).join("\n")}function formatBody(e,t){return null==t&&(t=inferColumns(e)),preformatBody(e,t).join("\n")}function formatRows(e){return e.map(formatRow).join("\n")}function formatRow(t){return t.map(formatValue).join(e)}function formatValue(e){return null==e?"":e instanceof Date?formatDate(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);return{parse:parse,parseRows:parseRows,format:format,formatBody:formatBody,formatRows:formatRows,formatRow:formatRow,formatValue:formatValue}}},function(e,t,n){"use strict";function responseText(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}t.a=function(e,t){return fetch(e,t).then(responseText)}},function(e,t,n){"use strict";t.a=function(){return 1e-6*(Math.random()-.5)}},function(e,t,n){"use strict";var r=n(1344);n.d(t,"f",function(){return r.a}),n.d(t,"c",function(){return r.b});var o=(n(726),n(725));n.d(t,"a",function(){return o.a});var i=n(1351);n.d(t,"e",function(){return i.a});var a=n(1352);n.d(t,"b",function(){return a.a});var s=n(1353);n.d(t,"d",function(){return s.a})},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";function conicProjection(e){var t=0,i=r.b/3,a=n.i(o.b)(e),s=a(t,i);return s.parallels=function(e){return arguments.length?a(t=e[0]*r.h,i=e[1]*r.h):[t*r.i,i*r.i]},s}t.a=conicProjection;var r=n(26),o=n(87)},function(e,t,n){"use strict";function conicEqualAreaRaw(e,t){function project(e,t){var o=n.i(r.o)(s-2*a*n.i(r.e)(t))/a;return[o*n.i(r.e)(e*=a),l-o*n.i(r.d)(e)]}var o=n.i(r.e)(e),a=(o+n.i(r.e)(t))/2;if(n.i(r.a)(a)<r.p)return n.i(i.a)(e);var s=1+o*(2*a-o),l=n.i(r.o)(s)/a;return project.invert=function(e,t){var o=l-t,i=n.i(r.f)(e,n.i(r.a)(o))*n.i(r.q)(o);return o*a<0&&(i-=r.b*n.i(r.q)(e)*n.i(r.q)(o)),[i/a,n.i(r.g)((s-(e*e+o*o)*a*a)/(2*a))]},project}var r=n(26),o=n(344),i=n(1374);t.a=function(){return n.i(o.a)(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}},function(e,t,n){"use strict";function fit(e,t,i){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),n.i(r.a)(i,e.stream(o.a)),t(o.a.result()),null!=a&&e.clipExtent(a),e}function fitExtent(e,t,n){return fit(e,function(n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(o-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,s])},n)}function fitSize(e,t,n){return fitExtent(e,[[0,0],t],n)}function fitWidth(e,t,n){return fit(e,function(n){var r=+t,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];e.scale(150*o).translate([i,a])},n)}function fitHeight(e,t,n){return fit(e,function(n){var r=+t,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([i,a])},n)}t.a=fitExtent,t.b=fitSize,t.c=fitWidth,t.d=fitHeight;var r=n(146),o=n(737)},function(e,t,n){"use strict";function mercatorRaw(e,t){return[e,n.i(r.j)(n.i(r.k)((r.l+t)/2))]}function mercatorProjection(e){function reclip(){var i=r.b*p(),c=l(n.i(o.a)(l.rotate()).invert([0,0]));return u(null==f?[[c[0]-i,c[1]-i],[c[0]+i,c[1]+i]]:e===mercatorRaw?[[Math.max(c[0]-i,f),t],[Math.min(c[0]+i,a),s]]:[[f,Math.max(c[1]-i,t)],[a,Math.min(c[1]+i,s)]])}var t,a,s,l=n.i(i.a)(e),c=l.center,p=l.scale,d=l.translate,u=l.clipExtent,f=null;return l.scale=function(e){return arguments.length?(p(e),reclip()):p()},l.translate=function(e){return arguments.length?(d(e),reclip()):d()},l.center=function(e){return arguments.length?(c(e),reclip()):c()},l.clipExtent=function(e){return arguments.length?(null==e?f=t=a=s=null:(f=+e[0][0],t=+e[0][1],a=+e[1][0],s=+e[1][1]),reclip()):null==f?null:[[f,t],[a,s]]},reclip()}t.b=mercatorRaw,t.a=mercatorProjection;var r=n(26),o=n(259),i=n(87);mercatorRaw.invert=function(e,t){return[e,2*n.i(r.m)(n.i(r.n)(t))-r.l]}},function(e,t,n){"use strict";function optional(e){return null==e?null:required(e)}function required(e){if("function"!=typeof e)throw new Error;return e}t.b=optional,t.a=required},function(e,t,n){"use strict";function hierarchy(e,t){var n,r,o,i,a,s=new Node(e),l=+e.value&&(s.value=e.value),c=[s];for(null==t&&(t=defaultChildren);n=c.pop();)if(l&&(n.value=+n.data.value),(o=t(n.data))&&(a=o.length))for(n.children=new Array(a),i=a-1;i>=0;--i)c.push(r=n.children[i]=new Node(o[i])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function defaultChildren(e){return e.children}function copyData(e){e.data=e.data.data}function computeHeight(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Node(e){this.data=e,this.depth=this.height=0,this.parent=null}t.b=computeHeight,t.a=Node;var r=n(1386),o=n(1388),i=n(1390),a=n(1389),s=n(1395),l=n(1394),c=n(1393),p=n(1385),d=n(1387),u=n(1391),f=n(1392);Node.prototype=hierarchy.prototype={constructor:Node,count:r.a,each:o.a,eachAfter:a.a,eachBefore:i.a,sum:s.a,sort:l.a,path:c.a,ancestors:p.a,descendants:d.a,leaves:u.a,links:f.a,copy:node_copy}},function(e,t,n){"use strict";function squarifyRatio(e,t,i,a,s,l){for(var c,p,d,u,f,h,g,m,v,b,y,x=[],C=t.children,R=0,S=0,P=C.length,E=t.value;R<P;){d=s-i,u=l-a;do{f=C[S++].value}while(!f&&S<P);for(h=g=f,b=Math.max(u/d,d/u)/(E*e),y=f*f*b,v=Math.max(g/y,y/h);S<P;++S){if(f+=p=C[S].value,p<h&&(h=p),p>g&&(g=p),y=f*f*b,(m=Math.max(g/y,y/h))>v){f-=p;break}v=m}x.push(c={value:f,dice:d<u,children:C.slice(R,S)}),c.dice?n.i(r.a)(c,i,a,s,E?a+=u*f/E:l):n.i(o.a)(c,i,a,E?i+=d*f/E:s,l),E-=f,R=S}return x}n.d(t,"b",function(){return i}),t.a=squarifyRatio;var r=n(208),o=n(261),i=(1+Math.sqrt(5))/2;t.c=function custom(e){function squarify(t,n,r,o,i){squarifyRatio(e,t,n,r,o,i)}return squarify.ratio=function(e){return custom((e=+e)>1?e:1)},squarify}(i)},function(e,t,n){"use strict";function basis(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}t.b=basis,t.a=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return basis((n-r/t)*t,a,o,i,s)}}},function(e,t,n){"use strict";function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}t.a=isNumberArray,t.b=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}},function(e,t,n){"use strict";var r=n(86),o=n(751),i=n(746),a=n(749),s=n(262),l=n(750),c=n(752),p=n(748),d=n(352);t.a=function(e,t){var u,f=typeof t;return null==t||"boolean"===f?n.i(p.a)(t):("number"===f?s.a:"string"===f?(u=n.i(r.a)(t))?(t=u,o.a):c.a:t instanceof r.a?o.a:t instanceof Date?a.a:n.i(d.a)(t)?d.b:Array.isArray(t)?i.a:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?l.a:s.a)(e,t)}},function(e,t,n){"use strict";var r=n(1431);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";t.a=function(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}},function(e,t,n){"use strict";function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return 10===e?pow10:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function logp(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function reflect(e){return function(t){return-e(-t)}}function loggish(e){function rescale(){return t=logp(c),a=powp(c),l()[0]<0?(t=reflect(t),a=reflect(a),e(transformLogn,transformExpn)):e(transformLog,transformExp),s}var t,a,s=e(transformLog,transformExp),l=s.domain,c=10;return s.base=function(e){return arguments.length?(c=+e,rescale()):c},s.domain=function(e){return arguments.length?(l(e),rescale()):l()},s.ticks=function(e){var o,i=l(),s=i[0],p=i[i.length-1];(o=p<s)&&(h=s,s=p,p=h);var d,u,f,h=t(s),g=t(p),m=null==e?10:+e,v=[];if(!(c%1)&&g-h<m){if(h=Math.round(h)-1,g=Math.round(g)+1,s>0){for(;h<g;++h)for(u=1,d=a(h);u<c;++u)if(!((f=d*u)<s)){if(f>p)break;v.push(f)}}else for(;h<g;++h)for(u=c-1,d=a(h);u>=1;--u)if(!((f=d*u)<s)){if(f>p)break;v.push(f)}}else v=n.i(r.c)(h,g,Math.min(g-h,m)).map(a);return o?v.reverse():v},s.tickFormat=function(e,r){if(null==r&&(r=10===c?".0e":","),"function"!=typeof r&&(r=n.i(o.f)(r)),e===1/0)return r;null==e&&(e=10);var i=Math.max(1,c*e/s.ticks().length);return function(e){var n=e/a(Math.round(t(e)));return n*c<c-.5&&(n*=c),n<=i?r(e):""}},s.nice=function(){return l(n.i(i.a)(l(),{floor:function(e){return a(Math.floor(t(e)))},ceil:function(e){return a(Math.ceil(t(e)))}}))},s}t.a=loggish;var r=n(62),o=n(342),i=n(755);n(126),n(75)},function(e,t,n){"use strict";function transformPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){function rescale(){return 1===i?e(o.a,o.a):.5===i?e(transformSqrt,transformSquare):e(transformPow(i),transformPow(1/i))}var t=e(o.a,o.a),i=1;return t.exponent=function(e){return arguments.length?(i=+e,rescale()):i},n.i(r.a)(t)}t.a=powish;var r=n(149),o=n(126);n(75)},function(e,t,n){"use strict";function transformSymlog(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function transformSymexp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function symlogish(e){var t=1,o=e(transformSymlog(t),transformSymexp(t));return o.constant=function(n){return arguments.length?e(transformSymlog(t=+n),transformSymexp(t)):t},n.i(r.a)(o)}t.a=symlogish;var r=n(149);n(126),n(75)},function(e,t,n){"use strict";var r=n(360);t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.b.hasOwnProperty(t)?{space:r.b[t],local:e}:e}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="http://www.w3.org/1999/xhtml";t.b={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t,n){"use strict";function filterContextListener(e,t,n){return e=contextListener(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function contextListener(e,t,n){return function(r){var i=o;o=r;try{e.call(this,this.__data__,t,n)}finally{o=i}}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function onRemove(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function onAdd(e,t,n){var o=r.hasOwnProperty(e.type)?filterContextListener:contextListener;return function(r,i,a){var s,l=this.__on,c=o(t,i,a);if(l)for(var p=0,d=l.length;p<d;++p)if((s=l[p]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function customEvent(e,t,n,r){var i=o;e.sourceEvent=o,o=e;try{return t.apply(n,r)}finally{o=i}}n.d(t,"a",function(){return o}),t.b=customEvent;var r={},o=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"})}t.c=function(e,t,n){var r,o,i=parseTypenames(e+""),a=i.length;{if(!(arguments.length<2)){for(s=t?onAdd:onRemove,null==n&&(n=!1),r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,p=s.length;c<p;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value}}},function(e,t,n){"use strict";function none(){}t.a=function(e){return null==e?none:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";var r=n(361);t.a=function(){for(var e,t=r.a;e=t.sourceEvent;)t=e;return t}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";function point(e,t,n){var o=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>r.a){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);o=(o*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>r.a){var p=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*p+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*p+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(o,i,a,s,e._x2,e._y2)}function CatmullRom(e,t){this._context=e,this._alpha=t}t.a=point;var r=n(209),o=n(266);CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:point(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function custom(e){function catmullRom(t){return e?new CatmullRom(t,e):new o.a(t,0)}return catmullRom.alpha=function(e){return custom(+e)},catmullRom}(.5)},function(e,t,n){"use strict";var r=n(147),o=n(150),i=n(267),a=n(368);t.a=function(){function line(o){var i,a,d,u=o.length,f=!1;for(null==l&&(p=c(d=n.i(r.a)())),i=0;i<=u;++i)!(i<u&&s(a=o[i],i,o))===f&&((f=!f)?p.lineStart():p.lineEnd()),f&&p.point(+e(a,i,o),+t(a,i,o));if(d)return p=null,d+""||null}var e=a.a,t=a.b,s=n.i(o.a)(!0),l=null,c=i.a,p=null;return line.x=function(t){return arguments.length?(e="function"==typeof t?t:n.i(o.a)(+t),line):e},line.y=function(e){return arguments.length?(t="function"==typeof e?e:n.i(o.a)(+e),line):t},line.defined=function(e){return arguments.length?(s="function"==typeof e?e:n.i(o.a)(!!e),line):s},line.curve=function(e){return arguments.length?(c=e,null!=l&&(p=c(l)),line):c},line.context=function(e){return arguments.length?(null==e?l=p=null:p=c(l=e),line):l},line}},function(e,t,n){"use strict";function sum(e){for(var t,n=0,r=-1,o=e.length;++r<o;)(t=+e[r][1])&&(n+=t);return n}t.a=sum;var r=n(211);t.b=function(e){var t=e.map(sum);return n.i(r.a)(e).sort(function(e,n){return t[e]-t[n]})}},function(e,t,n){"use strict";function x(e){return e[0]}function y(e){return e[1]}t.a=x,t.b=y},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r,o,i,a,s,l=n(783);!function(e){r=n.i(l.a)(e),o=r.format,i=r.parse,a=r.utcFormat,s=r.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(e,t,n){"use strict";var r=n(369);n.d(t,"b",function(){return r.c}),n.d(t,"a",function(){return r.b});n(783),n(782),n(1558)},function(e,t,n){"use strict";function now(){return p||(f(clearNow),p=u.now()+d)}function clearNow(){p=0}function Timer(){this._call=this._time=this._next=null}function timer(e,t,n){var r=new Timer;return r.restart(e,t,n),r}function timerFlush(){now(),++i;for(var e,t=r;t;)(e=p-t._time)>=0&&t._call.call(null,e),t=t._next;--i}function wake(){p=(c=u.now())+d,i=a=0;try{timerFlush()}finally{i=0,nap(),p=0}}function poke(){var e=u.now(),t=e-c;t>l&&(d-=t,c=e)}function nap(){for(var e,t,n=r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);o=e,sleep(i)}function sleep(e){if(!i){a&&(a=clearTimeout(a));e-p>24?(e<1/0&&(a=setTimeout(wake,e-u.now()-d)),s&&(s=clearInterval(s))):(s||(c=u.now(),s=setInterval(poke,l)),i=1,f(wake))}}t.c=now,t.b=Timer,t.a=timer;var r,o,i=0,a=0,s=0,l=1e3,c=0,p=0,d=0,u="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?now():+n)+(null==t?0:+t),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=e,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}}},function(e,t,n){"use strict";var r=(n(1576),n(127),n(1575),n(784));n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function createEdge(e,t,n,o){var i=[null,null],a=r.d.push(i)-1;return i.left=e,i.right=t,n&&setEdgeEnd(i,e,t,n),o&&setEdgeEnd(i,t,e,o),r.c[e.index].halfedges.push(a),r.c[t.index].halfedges.push(a),i}function createBorderEdge(e,t,n){var r=[t,n];return r.left=e,r}function setEdgeEnd(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function clipEdge(e,t,n,r,o){var i,a=e[0],s=e[1],l=a[0],c=a[1],p=s[0],d=s[1],u=0,f=1,h=p-l,g=d-c;if(i=t-l,h||!(i>0)){if(i/=h,h<0){if(i<u)return;i<f&&(f=i)}else if(h>0){if(i>f)return;i>u&&(u=i)}if(i=r-l,h||!(i<0)){if(i/=h,h<0){if(i>f)return;i>u&&(u=i)}else if(h>0){if(i<u)return;i<f&&(f=i)}if(i=n-c,g||!(i>0)){if(i/=g,g<0){if(i<u)return;i<f&&(f=i)}else if(g>0){if(i>f)return;i>u&&(u=i)}if(i=o-c,g||!(i<0)){if(i/=g,g<0){if(i>f)return;i>u&&(u=i)}else if(g>0){if(i<u)return;i<f&&(f=i)}return!(u>0||f<1)||(u>0&&(e[0]=[l+u*h,c+u*g]),f<1&&(e[1]=[l+f*h,c+f*g]),!0)}}}}}function connectEdge(e,t,n,r,o){var i=e[1];if(i)return!0;var a,s,l=e[0],c=e.left,p=e.right,d=c[0],u=c[1],f=p[0],h=p[1],g=(d+f)/2,m=(u+h)/2;if(h===u){if(g<t||g>=r)return;if(d>f){if(l){if(l[1]>=o)return}else l=[g,n];i=[g,o]}else{if(l){if(l[1]<n)return}else l=[g,o];i=[g,n]}}else if(a=(d-f)/(h-u),s=m-a*g,a<-1||a>1)if(d>f){if(l){if(l[1]>=o)return}else l=[(n-s)/a,n];i=[(o-s)/a,o]}else{if(l){if(l[1]<n)return}else l=[(o-s)/a,o];i=[(n-s)/a,n]}else if(u<h){if(l){if(l[0]>=r)return}else l=[t,a*t+s];i=[r,a*r+s]}else{if(l){if(l[0]<t)return}else l=[r,a*r+s];i=[t,a*t+s]}return e[0]=l,e[1]=i,!0}function clipEdges(e,t,n,o){for(var i,a=r.d.length;a--;)connectEdge(i=r.d[a],e,t,n,o)&&clipEdge(i,e,t,n,o)&&(Math.abs(i[0][0]-i[1][0])>r.b||Math.abs(i[0][1]-i[1][1])>r.b)||delete r.d[a]}t.d=createEdge,t.b=createBorderEdge,t.c=setEdgeEnd,t.a=clipEdges;var r=n(212)},function(e,t,n){"use strict";function RedBlackTree(){this._=null}function RedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function RedBlackRotateLeft(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function RedBlackRotateRight(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function RedBlackFirst(e){for(;e.L;)e=e.L;return e}t.b=RedBlackNode,RedBlackTree.prototype={constructor:RedBlackTree,insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=RedBlackFirst(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(RedBlackRotateLeft(this,n),e=n,n=e.U),n.C=!1,r.C=!0,RedBlackRotateRight(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(RedBlackRotateRight(this,n),e=n,n=e.U),n.C=!1,r.C=!0,RedBlackRotateLeft(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,a=e.R;if(n=i?a?RedBlackFirst(a):i:a,o?o.L===e?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=a,a.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===o.L){if(t=o.R,t.C&&(t.C=!1,o.C=!0,RedBlackRotateLeft(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,RedBlackRotateRight(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,RedBlackRotateLeft(this,o),e=this._;break}}else if(t=o.L,t.C&&(t.C=!1,o.C=!0,RedBlackRotateRight(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,RedBlackRotateLeft(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,RedBlackRotateRight(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}},t.a=RedBlackTree},function(e,t,n){e.exports=n.p+"assets/images/annotationProperty_create.png"},function(e,t,n){e.exports=n.p+"assets/images/propAnnotation.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(46),i=n(6),a=n(17),s=n(20),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function AdministrationComponent(e){this.router=e}return AdministrationComponent.prototype.isAdmin=function(){var e=i.a.getLoggedUser();return null!=e&&e.isAdmin()},AdministrationComponent.prototype.isRoleManagementAuthorized=function(){return a.a.isAuthorized(s.a.administrationRoleManagement)},AdministrationComponent.prototype.isProjManagementAuthorized=function(){return a.a.isAuthorized(s.a.administrationProjectManagement)||a.a.isAuthorized(s.a.administrationUserRoleManagement)||a.a.isAuthorized(s.a.administrationUserGroupManagement)},AdministrationComponent=l([n.i(r.c)({selector:"admin-component",template:n(1751),host:{class:"pageComponent"}}),c("design:paramtypes",[o.c])],AdministrationComponent)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return f});var r=n(0),o=n(1),i=(n.n(o),n(5)),a=n(4),s=n(80),l=n(192),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function GroupEditorModalData(t,n){void 0===t&&(t="Modal Title");var r=e.call(this)||this;return r.title=t,r.group=n,r}return c(GroupEditorModalData,e),GroupEditorModalData}(a.d),f=function(){function GroupEditorModal(e,t){this.dialog=e,this.groupsService=t,this.context=e.context}return GroupEditorModal.prototype.ngOnInit=function(){if(null!=this.context.group){var e=this.context.group;this.shortName=e.shortName,this.fullName=e.fullName,this.description=e.description,this.webPage=e.webPage,this.logoUrl=e.logoUrl,this.groupPristine=new s.b(e.iri,e.shortName,e.fullName,e.description,e.webPage,e.logoUrl)}},GroupEditorModal.prototype.isDataValid=function(){return this.shortName&&""!=this.shortName.trim()},GroupEditorModal.prototype.ok=function(e){var t=this;if(this.isDataValid())if(this.context.group){var n=[];this.shortName!=this.groupPristine.shortName&&n.push(this.groupsService.updateGroupShortName(this.groupPristine.iri,this.shortName)),this.fullName!=this.groupPristine.fullName&&n.push(this.groupsService.updateGroupFullName(this.groupPristine.iri,this.fullName)),this.description!=this.groupPristine.description&&n.push(this.groupsService.updateGroupDescription(this.groupPristine.iri,this.description)),this.webPage!=this.groupPristine.webPage&&n.push(this.groupsService.updateGroupWebPage(this.groupPristine.iri,this.webPage)),this.logoUrl!=this.groupPristine.logoUrl&&n.push(this.groupsService.updateGroupLogoUrl(this.groupPristine.iri,this.logoUrl)),o.Observable.forkJoin(n).subscribe(function(n){var r=new s.b(t.groupPristine.iri,t.shortName,t.fullName,t.description,t.webPage,t.logoUrl);e.stopPropagation(),e.preventDefault(),t.dialog.close(r)})}else this.groupsService.createGroup(this.shortName,this.fullName,this.description,this.webPage,this.logoUrl).subscribe(function(n){e.stopPropagation(),e.preventDefault(),t.dialog.close()})},GroupEditorModal.prototype.cancel=function(){this.dialog.dismiss()},GroupEditorModal=p([n.i(r.c)({selector:"group-editor-modal",template:n(1752)}),d("design:paramtypes",[i.g,l.a])],GroupEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(192),i=n(4),a=n(410),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function GroupsAdministrationComponent(e,t){this.groupsSevice=e,this.modal=t}return GroupsAdministrationComponent.prototype.ngOnInit=function(){this.initGroups()},GroupsAdministrationComponent.prototype.initGroups=function(e){var t=this;this.groupsSevice.listGroups().subscribe(function(n){t.groupList=n,t.selectedGroup=null,null!=e&&t.groupList.forEach(function(n){n.iri.getURI()==e.iri.getURI()&&t.selectGroup(n)})})},GroupsAdministrationComponent.prototype.selectGroup=function(e){this.selectedGroup=e},GroupsAdministrationComponent.prototype.createGroup=function(){var e=this;this.openGroupEditor("Create group").then(function(t){e.initGroups()},function(){})},GroupsAdministrationComponent.prototype.deleteGroup=function(){var e=this;this.groupsSevice.deleteGroup(this.selectedGroup.iri).subscribe(function(t){e.initGroups()})},GroupsAdministrationComponent.prototype.editGroup=function(){var e=this;this.openGroupEditor("Edit group "+this.selectedGroup.shortName,this.selectedGroup).then(function(t){e.initGroups(t)},function(){})},GroupsAdministrationComponent.prototype.openGroupEditor=function(e,t){var n=new a.b(e,t),r=new i.b(n,void 0,a.b),o={context:r.keyboard(27).toJSON()};return this.modal.open(a.a,o).result},GroupsAdministrationComponent=s([n.i(r.c)({selector:"groups-admin-component",template:n(1753),host:{class:"pageComponent"}}),l("design:paramtypes",[o.a,i.c])],GroupsAdministrationComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(5),i=n(4),a=n(233),s=n(54),l=n(17),c=n(20),p=n(6),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function ProjectsAdministrationComponent(e,t){this.projectService=e,this.modal=t,this.projUsersAspect="Project-Users management",this.projGroupsAspect="Project-Groups management",this.projSettingsAspect="Project settings"}return ProjectsAdministrationComponent.prototype.ngOnInit=function(){var e=this;this.isAdminLogged=p.a.getLoggedUser()&&p.a.getLoggedUser().isAdmin(),this.isAdminLogged?this.projectService.listProjects().subscribe(function(t){e.projectList=t}):l.a.isAuthorized(c.a.administrationProjectManagement)&&l.a.isAuthorized(c.a.administrationUserRoleManagement)&&(this.selectedProject=p.a.getWorkingProject()),this.isProjUserManagementAuthorized()?this.selectedAspect=this.projUsersAspect:this.isProjGroupManagementAuthorized()?this.selectedAspect=this.projGroupsAspect:this.selectedAspect=this.projSettingsAspect},ProjectsAdministrationComponent.prototype.selectProject=function(e){this.selectedProject!=e&&(this.selectedProject=e)},ProjectsAdministrationComponent.prototype.editACL=function(){var e=new a.a(this.selectedProject),t=new i.b(e,void 0,a.a),n={context:t.size("sm").keyboard(27).toJSON()};return this.modal.open(a.b,n)},ProjectsAdministrationComponent.prototype.isProjUserManagementAuthorized=function(){return l.a.isAuthorized(c.a.administrationUserRoleManagement)&&l.a.isAuthorized(c.a.administrationUserGroupManagement)},ProjectsAdministrationComponent.prototype.isProjGroupManagementAuthorized=function(){return l.a.isAuthorized(c.a.administrationUserGroupManagement)},ProjectsAdministrationComponent.prototype.isProjSettingsAuthorized=function(){return l.a.isAuthorized(c.a.administrationProjectManagement)},ProjectsAdministrationComponent=d([n.i(r.c)({selector:"projects-admin-component",template:n(1757),host:{class:"pageComponent"}}),u("design:paramtypes",[s.a,o.l])],ProjectsAdministrationComponent)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return u});var r=n(0),o=n(4),i=n(5),a=n(55),s=n(83),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function UserProjBindingModalData(t,n,r){void 0===t&&(t="Modal Title");var o=e.call(this)||this;return o.title=t,o.project=n,o.usersBound=r,o}return l(UserProjBindingModalData,e),UserProjBindingModalData}(o.d),u=function(){function UserProjBindingModal(e,t,n){this.dialog=e,this.userService=t,this.adminService=n,this.userList=[],this.roleList=[],this.selectedRoles=[],this.context=e.context}return UserProjBindingModal.prototype.ngOnInit=function(){var e=this;this.userService.listUsers().subscribe(function(t){e.userList=t}),this.adminService.listRoles(this.context.project).subscribe(function(t){e.roleList=t})},UserProjBindingModal.prototype.selectUser=function(e){this.isUserAlreadyBound(e)||(this.selectedUser==e?this.selectedUser=null:this.selectedUser=e)},UserProjBindingModal.prototype.isUserAlreadyBound=function(e){for(var t=0;t<this.context.usersBound.length;t++)if(e.getEmail()==this.context.usersBound[t].getEmail())return!0;return!1},UserProjBindingModal.prototype.selectRole=function(e){var t=this.selectedRoles.indexOf(e);-1!=t?this.selectedRoles.splice(t,1):this.selectedRoles.push(e)},UserProjBindingModal.prototype.isRoleSelected=function(e){return-1!=this.selectedRoles.indexOf(e)},UserProjBindingModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();for(var t=[],n=0;n<this.selectedRoles.length;n++)t.push(this.selectedRoles[n].getName());this.dialog.close({user:this.selectedUser,roles:t})},UserProjBindingModal.prototype.cancel=function(){this.dialog.dismiss()},UserProjBindingModal=c([n.i(r.c)({selector:"up-binding-modal",template:n(1758)}),p("design:paramtypes",[i.g,a.a,s.a])],UserProjBindingModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function CapabilityEditorModalData(t,n){void 0===t&&(t="Modal Title");var r=e.call(this)||this;return r.title=t,r.capability=n,r}return a(CapabilityEditorModalData,e),CapabilityEditorModalData}(i.d),p=function(){function CapabilityEditorModal(e){this.dialog=e,this.crudvList=["C","R","U","D","V"],this.areaStruct=[{value:"rdf",description:"Editing of content data"},{value:"rbac",description:"Role Based Access Control management"},{value:"pm",description:"Project management"},{value:"um",description:"User management"},{value:"cform",description:"Custom Form management"},{value:"customService",description:"Custom Services management"},{value:"invokableReporter",description:"Invokable Reports management"},{value:"sys",description:"System administration"}],this.crudvStruct=[{value:"C",label:"Create",checked:!1},{value:"R",label:"Read",checked:!1},{value:"U",label:"Update",checked:!1},{value:"D",label:"Delete",checked:!1},{value:"V",label:"Validate",checked:!1}],this.context=e.context}return CapabilityEditorModal.prototype.ngOnInit=function(){if(null!=this.context.capability){var e=this.context.capability;e=e.substring(e.indexOf("(")+1,e.lastIndexOf(")"));var t=e.substring(0,e.lastIndexOf(",")),n=e.substring(e.lastIndexOf(",")+1);-1!=t.indexOf("(")&&-1!=t.indexOf(")")?(this.area=t.substring(0,t.indexOf("(")),this.subjectScope=t.substring(t.indexOf("(")+1,t.indexOf(")"))):this.area=t;for(var r=0;r<this.crudvList.length;r++)-1!=n.toUpperCase().indexOf(this.crudvList[r])&&this.setCRUDV(this.crudvList[r],!0)}else this.area=this.areaStruct[0].value,this.subjectScope="";this.updateExtendedCapability()},CapabilityEditorModal.prototype.setCRUDV=function(e,t){for(var n=0;n<this.crudvStruct.length;n++)if(this.crudvStruct[n].value==e)return void(this.crudvStruct[n].checked=t)},CapabilityEditorModal.prototype.changeAllCrudvStatus=function(e){for(var t=0;t<this.crudvStruct.length;t++)this.crudvStruct[t].checked=e;this.updateExtendedCapability()},CapabilityEditorModal.prototype.updateExtendedCapability=function(){for(var e="",t=0;t<this.crudvStruct.length;t++)this.crudvStruct[t].checked&&(e+=this.crudvStruct[t].value);null!=this.subjectScope&&""!=this.subjectScope.trim()?this.extendedCapability="capability("+this.area+"("+this.subjectScope+'),"'+e+'")':this.extendedCapability="capability("+this.area+',"'+e+'")'},CapabilityEditorModal.prototype.isDataValid=function(){for(var e=0;e<this.crudvStruct.length;e++)if(this.crudvStruct[e].checked)return!0;return!1},CapabilityEditorModal.prototype.ok=function(e){this.isDataValid()&&(e.stopPropagation(),e.preventDefault(),this.dialog.close(this.extendedCapability))},CapabilityEditorModal.prototype.cancel=function(){this.dialog.dismiss()},CapabilityEditorModal=s([n.i(r.c)({selector:"capability-editor-modal",template:n(1759)}),l("design:paramtypes",[o.g])],CapabilityEditorModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ImportRoleModalData(t){void 0===t&&(t="Modal Title");var n=e.call(this)||this;return n.title=t,n}return a(ImportRoleModalData,e),ImportRoleModalData}(o.d),p=function(){function ImportRoleModal(e){this.dialog=e,this.context=e.context}return ImportRoleModal.prototype.ngOnInit=function(){},ImportRoleModal.prototype.fileChangeEvent=function(e){this.file=e},ImportRoleModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close({file:this.file,name:this.roleName})},ImportRoleModal.prototype.cancel=function(){this.dialog.dismiss()},ImportRoleModal.prototype.isInputValid=function(){return null!=this.roleName&&""!=this.roleName.trim()},ImportRoleModal=s([n.i(r.c)({selector:"import-role-modal",template:n(1760)}),l("design:paramtypes",[i.g])],ImportRoleModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(4),i=n(414),a=n(415),s=n(83),l=n(2),c=n(6),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function RolesAdministrationComponent(e,t,n){this.adminService=e,this.basicModals=t,this.modal=n}return RolesAdministrationComponent.prototype.ngOnInit=function(){this.initRoles()},RolesAdministrationComponent.prototype.initRoles=function(){var e=this;this.adminService.listRoles(c.a.getWorkingProject()).subscribe(function(t){e.roleList=t,e.selectedRole=null,e.capabilityList=[]})},RolesAdministrationComponent.prototype.initCapabilities=function(){var e=this;this.adminService.listCapabilities(this.selectedRole,c.a.getWorkingProject()).subscribe(function(t){e.capabilityList=t,e.selectedCapability=null})},RolesAdministrationComponent.prototype.isProjectOpen=function(){return null!=c.a.getWorkingProject()},RolesAdministrationComponent.prototype.selectRole=function(e){this.selectedRole=e,this.initCapabilities()},RolesAdministrationComponent.prototype.getCreateRoleTitle=function(){return this.isProjectOpen()?"Create a new role":"Custom roles can only be created in the context of a project; in order to create a new role access a project and then create the role for that project"},RolesAdministrationComponent.prototype.createRole=function(){var e=this;this.basicModals.prompt("Create role",{value:"Role name"},null,null,!1,!0).then(function(t){if(e.roleExists(t))return void e.basicModals.alert("Duplicated role","A role with the same name ("+t+") already exists","error");e.adminService.createRole(t).subscribe(function(t){e.initRoles()})},function(){})},RolesAdministrationComponent.prototype.deleteRole=function(){var e=this;this.adminService.deleteRole(this.selectedRole.getName()).subscribe(function(t){e.initRoles()})},RolesAdministrationComponent.prototype.importRole=function(){var e=this,t=new a.b("Import Role"),n=new o.b(t,void 0,a.b),r={context:n.keyboard(27).toJSON()};this.modal.open(a.a,r).result.then(function(t){if(e.roleExists(t.name))return void e.basicModals.alert("Duplicated role","A role with the same name ("+t.name+") already exists","error");e.adminService.importRole(t.file,t.name).subscribe(function(t){e.initRoles()})},function(){})},RolesAdministrationComponent.prototype.exportRole=function(){var e=this;this.adminService.exportRole(this.selectedRole.getName()).subscribe(function(t){var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Export Role",null,n,"role_"+e.selectedRole.getName()+".pl")})},RolesAdministrationComponent.prototype.cloneRole=function(){var e=this;this.basicModals.prompt("Clone role "+this.selectedRole.getName(),{value:"Role name"},null,null,!1,!0).then(function(t){if(e.roleExists(t))return void e.basicModals.alert("Duplicated role","A role with the same name ("+t+") already exists","error");e.adminService.cloneRole(e.selectedRole.getName(),t).subscribe(function(t){e.initRoles()})},function(){})},RolesAdministrationComponent.prototype.roleExists=function(e){for(var t=0;t<this.roleList.length;t++)if(this.roleList[t].getName()==e)return!0;return!1},RolesAdministrationComponent.prototype.selectCapability=function(e){this.selectedCapability=e},RolesAdministrationComponent.prototype.addCapability=function(){var e=this,t=new i.b("Add capability to "+this.selectedRole.getName()),n=new o.b(t,void 0,i.b),r={context:n.keyboard(27).toJSON()};return this.modal.open(i.a,r).result.then(function(t){if(-1!=e.capabilityList.indexOf(t))return void e.basicModals.alert("Duplicated capability","Capability "+t+" already exists in role "+e.selectedRole.getName(),"error").then();e.adminService.addCapabilityToRole(e.selectedRole.getName(),t).subscribe(function(t){e.selectedCapability=null,e.initCapabilities()})},function(){})},RolesAdministrationComponent.prototype.removeCapability=function(){var e=this;this.adminService.removeCapabilityFromRole(this.selectedRole.getName(),this.selectedCapability).subscribe(function(t){e.selectedCapability=null,e.initCapabilities()})},RolesAdministrationComponent.prototype.editCapability=function(){var e=this,t=new i.b("Edit capability",this.selectedCapability),n=new o.b(t,void 0,i.b),r={context:n.keyboard(27).toJSON()};return this.modal.open(i.a,r).result.then(function(t){if(-1!=e.capabilityList.indexOf(t))return void e.basicModals.alert("Duplicated capability","Capability "+t+" already exists in role "+e.selectedRole.getName(),"error").then();e.adminService.updateCapabilityForRole(e.selectedRole.getName(),e.selectedCapability,t).subscribe(function(t){e.selectedCapability=null,e.initCapabilities()})},function(){})},RolesAdministrationComponent=p([n.i(r.c)({selector:"roles-admin-component",template:n(1761),host:{class:"pageComponent"}}),d("design:paramtypes",[s.a,l.a,o.c])],RolesAdministrationComponent)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return f});var r=n(0),o=n(5),i=n(4),a=n(158),s=n(55),l=n(2),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function ForcePasswordModalData(t){var n=e.call(this)||this;return n.user=t,n}return c(ForcePasswordModalData,e),ForcePasswordModalData}(i.d),f=function(){function ForcePasswordModal(e,t,n,r){this.dialog=e,this.userService=t,this.authService=n,this.basicModals=r,this.context=e.context}return ForcePasswordModal.prototype.isInputValid=function(){return void 0!=this.password&&""!=this.password.trim()},ForcePasswordModal.prototype.ok=function(e){var t=this;this.userService.forcePassword(this.context.user.getEmail(),this.password).subscribe(function(e){t.basicModals.alert("Password changed","Password of "+t.context.user.getShow()+" has been succesfully changed.").then(function(){t.dialog.close()})})},ForcePasswordModal.prototype.cancel=function(){this.dialog.dismiss()},ForcePasswordModal=p([n.i(r.c)({selector:"force-pwd-modal",template:n(1763)}),d("design:paramtypes",[o.g,s.a,a.a,l.a])],ForcePasswordModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return g});var r=n(0),o=n(4),i=n(5),a=n(55),s=n(80),l=n(3),c=n(2),p=n(7),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function UserCreateModalData(t){var n=e.call(this)||this;return n.title=t,n}return d(UserCreateModalData,e),UserCreateModalData}(o.d),g=function(){function UserCreateModal(e,t,n){this.dialog=e,this.userService=t,this.basicModals=n,this.context=e.context}return UserCreateModal.prototype.ok=function(e){var t=this;if(!(this.userForm.email&&this.userForm.password&&""!=this.userForm.password.trim()&&this.userForm.confirmedPassword&&""!=this.userForm.confirmedPassword.trim()&&this.userForm.givenName&&""!=this.userForm.givenName.trim()&&this.userForm.familyName&&""!=this.userForm.familyName.trim()))return void this.basicModals.alert("Invalid data","Please fill all the required fields","error");if(this.userForm.urlAsIri&&(null==this.userForm.url||""==this.userForm.url.trim()))return void this.basicModals.alert("Invalid data","You checked the option to use the personal URL as user IRI, but the URL is not provided. Please enter a valid URL or uncheck the above option","error");if(!s.f.isValidEmail(this.userForm.email))return void this.basicModals.alert("Invalid data","Please enter a valid e-mail address","error");if(this.userForm.password!=this.userForm.confirmedPassword)return void this.basicModals.alert("Invalid data","Password and confirmed password are different.","error");if(this.userForm.urlAsIri&&!s.f.isIriValid(this.userForm.iri))return void this.basicModals.alert("Invalid data","Please enter a valid IRI.","error");var n=null;null!=this.userForm.iri&&(n=new l.b(this.userForm.iri)),p.a.startLoadingDiv(p.a.blockDivFullScreen),this.userService.registerUser(this.userForm.email,this.userForm.password,this.userForm.givenName,this.userForm.familyName,n,this.userForm.address,this.userForm.affiliation,this.userForm.url,this.userForm.avatarUrl,this.userForm.phone,this.userForm.languageProficiencies,this.userForm.customProperties).subscribe(function(n){p.a.stopLoadingDiv(p.a.blockDivFullScreen),t.basicModals.alert("User created","User succesfully created"),e.stopPropagation(),t.dialog.close()})},UserCreateModal.prototype.cancel=function(){this.dialog.dismiss()},UserCreateModal=u([n.i(r.c)({selector:"user-create-modal",template:n(1764)}),f("design:paramtypes",[i.g,a.a,c.a])],UserCreateModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(4),i=n(3),a=n(45),s=n(32),l=n(80),c=n(71),p=n(55),d=n(6),u=n(21),f=n(13),h=n(418),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function UsersAdministrationComponent(e,t,n,r,o){this.userService=e,this.prefService=t,this.vbProp=n,this.sharedModals=r,this.modal=o,this.showActive=!0,this.showInactive=!0,this.showNew=!0,this.userDetailsAspect="Details",this.rvTemplateAspect="Template",this.aspectSelectors=[this.userDetailsAspect,this.rvTemplateAspect],this.selectedAspectSelector=this.aspectSelectors[0]}return UsersAdministrationComponent.prototype.ngOnInit=function(){this.initUserList()},UsersAdministrationComponent.prototype.initUserList=function(){var e=this;this.selectedUser=null,this.userService.listUsers().subscribe(function(t){e.users=t})},UsersAdministrationComponent.prototype.selectUser=function(e){var t=this;this.selectedUser!=e&&(this.selectedUser=e,this.initTemplate(),this.selectedUser.isAdmin()||this.userService.listProjectsBoundToUser(new i.b(this.selectedUser.getIri())).subscribe(function(e){t.userProjects=e}))},UsersAdministrationComponent.prototype.createUser=function(){var e=this,t=new h.b("Create user"),n=new o.b(t,void 0,h.b),r={context:n.size("lg").keyboard(27).toJSON()};return this.modal.open(h.a,r).result.then(function(t){e.initUserList()},function(){})},UsersAdministrationComponent.prototype.isUserVisible=function(e){var t=e.getStatus();return this.showActive&&t==l.g.ACTIVE||this.showInactive&&t==l.g.INACTIVE||this.showNew&&t==l.g.NEW},UsersAdministrationComponent.prototype.initTemplate=function(){var e=this;this.prefService.getPUSettingsUserDefault([s.a.pref_res_view_partition_filter],this.selectedUser.getEmail()).subscribe(function(t){var n,r=t[s.a.pref_res_view_partition_filter];null!=r&&(n=JSON.parse(r)),e.userTemplate=n})},UsersAdministrationComponent.prototype.loadTemplate=function(){var e=this;this.sharedModals.loadConfiguration("Load template",a.c.TEMPLATE_STORE).then(function(t){var n=t.configuration.properties.find(function(e){return"template"==e.name});null!=n&&(e.userTemplate=n.value,e.updateTemplate())})},UsersAdministrationComponent.prototype.storeTemplate=function(){var e={template:this.userTemplate};this.sharedModals.storeConfiguration("Store template",a.c.TEMPLATE_STORE,e)},UsersAdministrationComponent.prototype.updateTemplate=function(){var e=this,t=0!=Object.keys(this.userTemplate).length?JSON.stringify(this.userTemplate):null;this.prefService.setPUSettingUserDefault(s.a.pref_res_view_partition_filter,this.selectedUser.getEmail(),t).subscribe(function(){null!=d.a.getWorkingProject()&&d.a.getLoggedUser().getEmail()==e.selectedUser.getEmail()&&e.vbProp.refreshResourceViewPartitionFilter().subscribe()})},UsersAdministrationComponent=g([n.i(r.c)({selector:"users-admin-component",template:n(1766),host:{class:"pageComponent"},styles:["\n        .online { color: green; font-weight: bold; } \n        .inactive { color: red; font-weight: bold; }\n        .offline { color: lightgray }\n    "]}),m("design:paramtypes",[p.a,c.a,u.a,f.a,o.c])],UsersAdministrationComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(41),o=(n.n(r),n(11)),i=n(6),a=function(){function AlignFromSource(e,t){this.edoalService=e,this.projectService=t}return AlignFromSource.prototype.ngOnInit=function(){var e=this;this.isEdoalProject()?this.edoalService.getAlignedProjects().subscribe(function(t){var n=t[0],o=t[1],i=[e.projectService.getProjectInfo(n).map(function(t){e.leftProject=t}),e.projectService.getProjectInfo(o).map(function(t){e.rightProject=t})];r.Observable.forkJoin(i).subscribe(function(){e.init()})}):(this.leftProject=i.a.getWorkingProject(),this.init())},AlignFromSource.prototype.isEdoalProject=function(){return i.a.getWorkingProject().getModelType()==o.g.uri},AlignFromSource}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(120),i=n(8),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function AlignmentValidationComponent(e){this.alignmentService=e,this.sourceFile="File",this.sourceRemoteSystem="Remote Alignment System",this.alignmentSources=[this.sourceFile,this.sourceRemoteSystem]}return AlignmentValidationComponent.prototype.ngOnInit=function(){i.c.initSessionToken()},AlignmentValidationComponent.prototype.beforeUnloadHandler=function(e){this.alignmentService.closeSession().subscribe()},a([n.i(r._4)("window:beforeunload",["$event"]),s("design:type",Function),s("design:paramtypes",[Event]),s("design:returntype",void 0)],AlignmentValidationComponent.prototype,"beforeUnloadHandler",null),AlignmentValidationComponent=a([n.i(r.c)({selector:"alignment-validation-component",template:n(1770),host:{class:"pageComponent"}}),s("design:paramtypes",[o.a])],AlignmentValidationComponent)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return x}),n.d(t,"a",function(){return C});var r=n(0),o=n(5),i=n(4),a=n(66),s=n(300),l=n(187),c=n(54),p=n(189),d=n(8),u=n(7),f=n(6),h=n(2),g=n(13),m=n(426),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function CreateRemoteAlignmentTaskModalData(t,n){var r=e.call(this)||this;return r.leftProject=t,r.rightProject=n,r}return v(CreateRemoteAlignmentTaskModalData,e),CreateRemoteAlignmentTaskModalData}(i.d),C=function(){function CreateRemoteAlignmentTaskModal(e,t,n,r,o,i,a){this.dialog=e,this.projectService=t,this.mapleService=n,this.remoteAlignmentService=r,this.basicModals=o,this.sharedModals=i,this.modal=a,this.outdatedMatchers=!1,this.context=e.context}return CreateRemoteAlignmentTaskModal.prototype.ngOnInit=function(){var e=this;this.projectService.listProjects(f.a.getWorkingProject(),!1,!0).subscribe(function(t){e.projectList=t,null!=e.context.rightProject&&(e.selectedRightProject=e.projectList.find(function(t){return t.getName()==e.context.rightProject.getName()}),null!=e.selectedRightProject&&e.onRightProjectChange())}),this.leftProjectStruct=new R,this.leftProjectStruct.project=this.context.leftProject,this.initProjectStruct(this.leftProjectStruct),this.remoteAlignmentService.getServiceMetadata().subscribe(function(t){e.serviceMetadata=t,e.serviceMetadata.settings&&(e.serviceMetadata.settings.settingsJson=JSON.stringify({}),e.serviceMetadata.settings.originalSchemaJson=JSON.stringify(e.serviceMetadata.settings.originalSchema,null,2))})},CreateRemoteAlignmentTaskModal.prototype.onRightProjectChange=function(){this.rightProjectStruct=new R,this.rightProjectStruct.project=this.selectedRightProject,this.initProjectStruct(this.rightProjectStruct)},CreateRemoteAlignmentTaskModal.prototype.initProjectStruct=function(e){d.c.setContextProject(e.project),this.mapleService.checkProjectMetadataAvailability().finally(function(){return d.c.removeContextProject()}).subscribe(function(t){e.profileAvailable=t})},CreateRemoteAlignmentTaskModal.prototype.profileProject=function(e){var t=this;e.profileAvailable?this.basicModals.confirm("Profile project "+e.project.getName(),"The project '"+e.project.getName()+"' has already been profiled. Do you want to repeat and override the profilation?","warning").then(function(n){t.profileProjectImpl(e)},function(e){}):this.profileProjectImpl(e)},CreateRemoteAlignmentTaskModal.prototype.profileProjectImpl=function(e){var t=this;u.a.startLoadingDiv(this.blockingDivElement.nativeElement),d.c.setContextProject(e.project),this.mapleService.profileProject().finally(function(){return d.c.removeContextProject()}).subscribe(function(){u.a.stopLoadingDiv(t.blockingDivElement.nativeElement),e.profileAvailable=!0})},CreateRemoteAlignmentTaskModal.prototype.isProfileEnabled=function(){return this.leftProjectStruct.profileAvailable&&null!=this.rightProjectStruct&&this.rightProjectStruct.profileAvailable},CreateRemoteAlignmentTaskModal.prototype.profileMatching=function(){var e=this;this.mapleService.profileMatchingProblemBetweenProjects(this.leftProjectStruct.project,this.rightProjectStruct.project).subscribe(function(t){e.alignmentScenario=t,e.refinablePairings=[],e.alignmentScenario.pairings.forEach(function(t){var n=[];t.synonymizers.forEach(function(t){var r={score:t.score,scoreRound:Math.round(1e3*(t.score+Number.EPSILON))/1e3,conceptualizationSet:t.conceptualizationSet,conceptualizationSetDataset:e.alignmentScenario.supportDatasets.find(function(e){return e["@id"]==t.conceptualizationSet}),lexicon:t.lexicon,lexiconDataset:e.alignmentScenario.supportDatasets.find(function(e){return e["@id"]==t.lexicon}),language:null};r.language=a.a.getLanguageFromTag(r.lexiconDataset.languageTag),n.push(r)});var r={score:t.score,scoreRound:Math.round(1e3*(t.score+Number.EPSILON))/1e3,bestCombinedScore:t.bestCombinedScore,bestCombinedScoreRound:Math.round(1e3*(t.bestCombinedScore+Number.EPSILON))/1e3,source:t.source,sourceLexicalizationSet:e.alignmentScenario.supportDatasets.find(function(e){return e["@id"]==t.source.lexicalizationSet}),target:t.target,targetLexicalizationSet:e.alignmentScenario.supportDatasets.find(function(e){return e["@id"]==t.target.lexicalizationSet}),synonymizers:n,language:null,checked:!1,selectedSynonymizer:null};r.language=a.a.getLanguageFromTag(r.sourceLexicalizationSet.languageTag),e.refinablePairings.push(r)});var n=Math.max.apply(Math,e.refinablePairings.map(function(e){return e.score}));e.refinablePairings.find(function(e){return e.score==n}).checked=!0})},CreateRemoteAlignmentTaskModal.prototype.selectSynonymizer=function(e,t){e.selectedSynonymizer==t?e.selectedSynonymizer=null:e.selectedSynonymizer=t},CreateRemoteAlignmentTaskModal.prototype.describeSynonymizer=function(e){var t=new m.b(e),n=new i.b(t,void 0,m.b),r={context:n.keyboard(27).toJSON()};this.modal.open(m.a,r)},CreateRemoteAlignmentTaskModal.prototype.onPairingSelectionChange=function(){if(null!=this.matchers){var e=this.refinablePairings.map(function(e){return e.checked+""}).join(",");this.outdatedMatchers=this.lastPairingSignatureForMatchers!=e}},CreateRemoteAlignmentTaskModal.prototype.searchMatchers=function(){var e=this,t=this.getScenarioDefinition();this.lastPairingSignatureForMatchers=this.refinablePairings.map(function(e){return e.checked+""}).join(","),this.remoteAlignmentService.searchMatchers(t).subscribe(function(t){e.matchers=t,e.matchers.forEach(function(e){e.settings&&(e.settings.settingsJson=JSON.stringify({}),e.settings.originalSchemaJson=JSON.stringify(e.settings.originalSchema,null,2))}),e.outdatedMatchers=!1})},CreateRemoteAlignmentTaskModal.prototype.selectMatcher=function(e){this.selectedMatcher=this.selectedMatcher==e?null:e},CreateRemoteAlignmentTaskModal.prototype.getScenarioDefinition=function(){var e=[];return this.refinablePairings.forEach(function(t){if(t.checked){var n={score:t.score,source:t.source,target:t.target,synonymizer:null};if(null!=t.selectedSynonymizer){var r={score:t.selectedSynonymizer.score,conceptualizationSet:t.selectedSynonymizer.conceptualizationSet,lexicon:t.selectedSynonymizer.lexicon};n.synonymizer=r}e.push(n)}}),{leftDataset:this.alignmentScenario.leftDataset,rightDataset:this.alignmentScenario.rightDataset,supportDatasets:this.alignmentScenario.supportDatasets,pairings:e}},CreateRemoteAlignmentTaskModal.prototype.systemSettings=function(){var e=this;this.sharedModals.configurePlugin(this.serviceMetadata.settings.stProperties).then(function(t){e.serviceMetadata.settings.stProperties=t},function(){})},CreateRemoteAlignmentTaskModal.prototype.isOkEnabled=function(){return null!=this.alignmentScenario},CreateRemoteAlignmentTaskModal.prototype.ok=function(){var e,t=this,n=this.getScenarioDefinition();if(null!=this.selectedMatcher){var r=void 0;if(null!=this.selectedMatcher.settings)if(null!=this.selectedMatcher.settings.stProperties)r=this.selectedMatcher.settings.stProperties.getPropertiesAsMap();else{var o=void 0;try{o=JSON.parse(this.selectedMatcher.settings.settingsJson)}catch(e){return void this.basicModals.alert("Invalid matcher configuration","The provided matcher configuration cannot be parsed as JSON","warning")}r=o}e={id:this.selectedMatcher.id,settings:r}}var i;if(null!=this.serviceMetadata.settings)if(null!=this.serviceMetadata.settings.stProperties)i=this.serviceMetadata.settings.stProperties.getPropertiesAsMap();else{var o=void 0;try{o=JSON.parse(this.serviceMetadata.settings.settingsJson)}catch(e){return void this.basicModals.alert("Invalid matcher configuration","The provided matcher configuration cannot be parsed as JSON","warning")}i=o}var a={scenarioDefinition:n,matcherDefinition:e,settings:i};this.remoteAlignmentService.createTask(a).subscribe(function(e){t.dialog.close(e)})},CreateRemoteAlignmentTaskModal.prototype.cancel=function(){this.dialog.dismiss()},b([n.i(r.F)("blockingDiv"),y("design:type",r.e)],CreateRemoteAlignmentTaskModal.prototype,"blockingDivElement",void 0),CreateRemoteAlignmentTaskModal=b([n.i(r.c)({selector:"create-alignment-task-modal",template:n(1771),host:{class:"blockingDivHost"}}),y("design:paramtypes",[o.g,c.a,l.a,p.a,h.a,g.a,o.l])],CreateRemoteAlignmentTaskModal)}(),R=function(){function AlignedProjectStruct(){this.profileAvailable=!1}return AlignedProjectStruct}();(function(e){function ResolvedPairing(){return null!==e&&e.apply(this,arguments)||this}v(ResolvedPairing,e)})(s.a),function(e){function ResolvedSynonymizer(){return null!==e&&e.apply(this,arguments)||this}v(ResolvedSynonymizer,e)}(s.c)},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n(0),o=n(4),i=n(5),a=n(120),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function MappingPropertySelectionModalData(t,n,r){var o=e.call(this)||this;return o.title=t,o.message=n,o.resource=r,o}return s(MappingPropertySelectionModalData,e),MappingPropertySelectionModalData}(o.d),d=function(){function MappingPropertySelectionModal(e,t){this.dialog=e,this.alignmentService=t,this.setAsDefault=!0,this.context=e.context}return MappingPropertySelectionModal.prototype.ngOnInit=function(){var e=this;this.alignmentService.getMappingProperties(this.context.resource,!1).subscribe(function(t){e.mappingPropList=t})},MappingPropertySelectionModal.prototype.ok=function(e){e.stopPropagation();var t={property:this.selectedProperty,setAsDefault:this.setAsDefault};this.dialog.close(t)},MappingPropertySelectionModal.prototype.cancel=function(){this.dialog.dismiss()},MappingPropertySelectionModal=l([n.i(r.c)({selector:"mapping-prop-select-modal",template:n(1774)}),c("design:paramtypes",[i.g,a.a])],MappingPropertySelectionModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(5),i=n(181),a=n(189),s=n(2),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function RemoteSystemConfigurationsAdministration(e,t,n){this.dialog=e,this.remoteAlignmentService=t,this.basicModals=n,this.newConfig=new u,this.context=e.context}return RemoteSystemConfigurationsAdministration.prototype.ngOnInit=function(){this.initConfigs()},RemoteSystemConfigurationsAdministration.prototype.initConfigs=function(){var e=this;this.remoteAlignmentService.getRemoteAlignmentServices().subscribe(function(t){e.savedConfigs=[];for(var n in t){var r=t[n],o={id:n,serverURL:r.getPropertyValue("serverURL"),username:r.getPropertyValue("username"),password:r.getPropertyValue("password")};e.savedConfigs.push(o)}e.savedConfigs.sort(function(e,t){return e.id.localeCompare(t.id)}),e.remoteAlignmentService.getDefaultRemoteAlignmentServiceId().subscribe(function(t){e.defaultConfig=e.savedConfigs.find(function(e){return e.id==t})})})},RemoteSystemConfigurationsAdministration.prototype.createConfig=function(){var e=this;if(this.savedConfigs.some(function(t){return t.id==e.newConfig.id}))return void this.basicModals.alert("Duplicate configuration","A configuration with the same ID already exists","warning");this.remoteAlignmentService.addRemoteAlignmentService(this.newConfig.id,this.newConfig.serverURL,this.newConfig.username,this.newConfig.password,this.newConfig.default).subscribe(function(){e.newConfig=new u,e.initConfigs()})},RemoteSystemConfigurationsAdministration.prototype.deleteConfig=function(e){var t=this;this.basicModals.confirm("Delete configuration","You are going to delete configuration '"+e.id+"'. If this configuration is used in a project, by deleting it you could prevent the Remote Alignment System from working. Are you sure?","warning").then(function(){t.remoteAlignmentService.deleteRemoteAlignmentService(e.id).subscribe(function(){t.initConfigs()})},function(){})},RemoteSystemConfigurationsAdministration.prototype.setDefaultConfig=function(e){this.defaultConfig=e,this.updateConfig(this.defaultConfig,!0)},RemoteSystemConfigurationsAdministration.prototype.updateConfServerURL=function(e,t){e.serverURL=t,this.updateConfig(e)},RemoteSystemConfigurationsAdministration.prototype.updateConfUsername=function(e,t){e.username=t,this.updateConfig(e)},RemoteSystemConfigurationsAdministration.prototype.updateConfPassword=function(e,t){e.password=t,this.updateConfig(e)},RemoteSystemConfigurationsAdministration.prototype.updateConfig=function(e,t){this.remoteAlignmentService.updateRemoteAlignmentService(e.id,e.serverURL,e.username,e.password,t).subscribe()},RemoteSystemConfigurationsAdministration.prototype.ok=function(){this.dialog.close()},RemoteSystemConfigurationsAdministration=c([n.i(r.c)({selector:"remote-system-config-admin-modal",template:n(1775)}),p("design:paramtypes",[o.g,a.a,s.a])],RemoteSystemConfigurationsAdministration)}(),u=function(e){function NewRemoteAlignmentServiceConfigurationDef(){return null!==e&&e.apply(this,arguments)||this}return l(NewRemoteAlignmentServiceConfigurationDef,e),NewRemoteAlignmentServiceConfigurationDef}(i.d)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(5),i=n(4),a=n(189),s=n(17),l=n(20),c=n(6),p=n(424),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function RemoteSystemSettingsModal(e,t,n){this.dialog=e,this.remoteAlignmentService=t,this.modal=n,this.context=e.context}return RemoteSystemSettingsModal.prototype.ngOnInit=function(){this.isAdmin=c.a.getLoggedUser().isAdmin(),this.isSetServiceAuthorized=s.a.isAuthorized(l.a.remoteAlignmentServiceSet),this.isRemoveServiceAuthorized=s.a.isAuthorized(l.a.remoteAlignmentServiceRemove),this.initConfigs()},RemoteSystemSettingsModal.prototype.initConfigs=function(){var e=this;this.remoteAlignmentService.getRemoteAlignmentServices().subscribe(function(t){e.savedConfigs=[];for(var n in t){var r=t[n],o={id:n,serverURL:r.getPropertyValue("serverURL"),username:r.getPropertyValue("username"),password:r.getPropertyValue("password")};e.savedConfigs.push(o)}e.savedConfigs.sort(function(e,t){return e.id.localeCompare(t.id)}),e.remoteAlignmentService.getAlignmentServiceForProject().subscribe(function(t){if(e.activeConfig=null,null!=t){var n=t[0];t[1];e.activeConfig=e.savedConfigs.find(function(e){return e.id==n}),null==e.activeConfig&&e.remoteAlignmentService.removeAlignmentServiceForProject().subscribe()}})})},RemoteSystemSettingsModal.prototype.activateConfig=function(e){this.activeConfig=e,this.remoteAlignmentService.setAlignmentServiceForProject(this.activeConfig.id).subscribe()},RemoteSystemSettingsModal.prototype.administration=function(){var e=this,t=new i.b,n={context:t.keyboard(27).size("lg").toJSON()};this.modal.open(p.a,n).result.then(function(){e.initConfigs()})},RemoteSystemSettingsModal.prototype.ok=function(){this.dialog.close()},RemoteSystemSettingsModal=d([n.i(r.c)({selector:"remote-system-settings-modal",template:n(1776)}),u("design:paramtypes",[o.g,a.a,o.l])],RemoteSystemSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function SynonymizerDetailsModalData(t){var n=e.call(this)||this;return n.synonymizer=t,n}return a(SynonymizerDetailsModalData,e),SynonymizerDetailsModalData}(i.d),p=function(){function SynonymizerDetailsModal(e){this.dialog=e,this.context=e.context}return SynonymizerDetailsModal.prototype.ngOnInit=function(){this.lexicon=this.context.synonymizer.lexiconDataset,this.conceptualizationSet=this.context.synonymizer.conceptualizationSetDataset},SynonymizerDetailsModal.prototype.ok=function(){this.dialog.close()},SynonymizerDetailsModal=s([n.i(r.c)({selector:"synonymizer-details-modal",template:n(1777)}),l("design:paramtypes",[o.g])],SynonymizerDetailsModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ValidationReportModalData(t){var n=e.call(this)||this;return n.report=t,n}return a(ValidationReportModalData,e),ValidationReportModalData}(o.d),p=function(){function ValidationReportModal(e){this.dialog=e,this.context=e.context}return ValidationReportModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close()},ValidationReportModal.prototype.cancel=function(){this.dialog.dismiss()},ValidationReportModal=s([n.i(r.c)({selector:"validation-report-modal",template:n(1778)}),l("design:paramtypes",[i.g])],ValidationReportModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(5),i=n(96),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function ValidationSettingsModal(e){this.dialog=e,this.rejectedOptAsk={value:"ask",label:"Always ask (Always ask for the action to perform)"},this.rejectedOptSkip={value:"skip",label:"Always skip (Do not perform any action on the ontology)"},this.rejectedOptDelete={value:"delete",label:"Always delete (Remove, if present, the triple defined by the alignment)"},this.rejectedAlignmentOptions=[this.rejectedOptAsk,this.rejectedOptSkip,this.rejectedOptDelete],this.showRelOptRel={value:"relation",label:"Alignment format relation (=, <;, >;, %,...)"},this.showRelOptDl={value:"dlSymbol",label:"Description Logic symbol (;, ;, ;, ;,...)"},this.showRelOptText={value:"text",label:"Text (equivalent, is subsumed, subsumes, incompatible,...)"},this.showRelationOptions=[this.showRelOptRel,this.showRelOptDl,this.showRelOptText],this.submitted=!1,this.context=e.context}return ValidationSettingsModal.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.rejectedAlignmentAction=i.a.getCookie(i.a.ALIGNMENT_VALIDATION_REJECTED_ALIGNMENT_ACTION),e.showRelationType=i.a.getCookie(i.a.ALIGNMENT_VALIDATION_RELATION_SHOW),e.confOnMeterCheck="true"==i.a.getCookie(i.a.ALIGNMENT_VALIDATION_SHOW_CONFIDENCE),e.maxAlignment=+i.a.getCookie(i.a.ALIGNMENT_VALIDATION_ALIGNMENT_PER_PAGE)})},ValidationSettingsModal.prototype.ok=function(e){this.submitted=!0,this.maxAlignment<1||this.maxAlignment>100||(i.a.setCookie(i.a.ALIGNMENT_VALIDATION_REJECTED_ALIGNMENT_ACTION,this.rejectedAlignmentAction,3650),i.a.setCookie(i.a.ALIGNMENT_VALIDATION_RELATION_SHOW,this.showRelationType,3650),i.a.setCookie(i.a.ALIGNMENT_VALIDATION_SHOW_CONFIDENCE,this.confOnMeterCheck+"",3650),i.a.setCookie(i.a.ALIGNMENT_VALIDATION_ALIGNMENT_PER_PAGE,this.maxAlignment+"",3650),e.stopPropagation(),this.dialog.close())},ValidationSettingsModal.prototype.cancel=function(){this.dialog.dismiss()},ValidationSettingsModal=a([n.i(r.c)({selector:"validation-settings-modal",template:n(1779)}),s("design:paramtypes",[o.g])],ValidationSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return E}),n.d(t,"a",function(){return w});var r=n(0),o=n(5),i=n(4),a=n(297),s=n(3),l=n(32),c=n(11),p=n(120),d=n(187),u=n(110),f=n(54),h=n(17),g=n(8),m=n(10),v=n(7),b=n(20),y=n(6),x=n(2),C=n(430),R=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),S=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(e){function AssistedSearchModalData(t){var n=e.call(this)||this;return n.resource=t,n}return R(AssistedSearchModalData,e),AssistedSearchModalData}(i.d),w=function(){function AssistedSearchModal(e,t,n,r,o,i,a){this.dialog=e,this.projectService=t,this.alignmentService=n,this.metadataRegistryService=r,this.mapleService=o,this.basicModals=i,this.modal=a,this.targetPosition=s.l.local,this.projectList=[],this.projectMetadataAvailabilityMap=new Map,this.remoteDatasets=[],this.datasetMetadataAvailabilityMap=new Map,this.languagesToCheck=[],this.searchModes=[{mode:l.f.startsWith,show:"Starts with",checked:!1},{mode:l.f.contains,show:"Contains",checked:!0},{mode:l.f.endsWith,show:"Ends with",checked:!1},{mode:l.f.exact,show:"Exact",checked:!1},{mode:l.f.fuzzy,show:"Fuzzy",checked:!1}],this.context=e.context}return AssistedSearchModal.prototype.ngOnInit=function(){var e=this;this.sourceProject=y.a.getWorkingProject(),this.projectService.listProjects(this.sourceProject,!1,!0).subscribe(function(t){for(var n=0;n<t.length;n++)t[n].getName()!=e.sourceProject.getName()&&e.projectList.push(t[n])}),this.initRemoteDatasets()},AssistedSearchModal.prototype.initRemoteDatasets=function(){var e=this;this.isRemoteAuthorized()&&this.metadataRegistryService.getCatalogRecords().subscribe(function(t){e.remoteDatasets=[],t.forEach(function(t){return e.remoteDatasets.push(t.abstractDataset)})})},AssistedSearchModal.prototype.changeTargetPosition=function(e){this.targetPosition=e,this.pairedLexicalizationSets=null,this.languagesToCheck=[],this.targetPosition==s.l.local&&null!=this.selectedProject?this.selectProject(this.selectedProject):this.targetPosition==s.l.remote&&null!=this.selectedDataset&&this.selectDataset(this.selectedDataset)},AssistedSearchModal.prototype.refreshTargetMetadata=function(){var e=this;g.c.setContextProject(this.selectedProject),this.mapleService.profileProject().finally(function(){return g.c.removeContextProject()}).subscribe(function(t){g.c.removeContextProject(),e.profileMediation()})},AssistedSearchModal.prototype.selectProject=function(e){var t=this;this.selectedProject=e,this.projectMetadataAvailabilityMap.has(this.selectedProject)?this.profileMediationLocalProject():(g.c.setContextProject(this.selectedProject),this.mapleService.checkProjectMetadataAvailability().finally(function(){return g.c.removeContextProject()}).subscribe(function(e){g.c.removeContextProject(),t.projectMetadataAvailabilityMap.set(t.selectedProject,e),t.profileMediationLocalProject()}))},AssistedSearchModal.prototype.profileMediationLocalProject=function(){this.isProjectMetadataAvailable()&&this.profileMediation()},AssistedSearchModal.prototype.generateProjectMetadata=function(){var e=this;v.a.startLoadingDiv(this.blockingDivElement.nativeElement),g.c.setContextProject(this.selectedProject),this.mapleService.profileProject().finally(function(){return g.c.removeContextProject()}).subscribe(function(t){v.a.stopLoadingDiv(e.blockingDivElement.nativeElement),g.c.removeContextProject(),e.projectMetadataAvailabilityMap.set(e.selectedProject,!0),e.profileMediation()})},AssistedSearchModal.prototype.isProjectMetadataAvailable=function(){return this.projectMetadataAvailabilityMap.get(this.selectedProject)},AssistedSearchModal.prototype.selectDataset=function(e){var t=this;this.selectedDataset=e,this.datasetMetadataAvailabilityMap.has(this.selectedDataset)?this.profileMediationRemoteDataset():this.metadataRegistryService.getEmbeddedLexicalizationSets(new s.b(this.selectedDataset.identity)).subscribe(function(e){t.datasetMetadataAvailabilityMap.set(t.selectedDataset,e.length>0),t.profileMediationRemoteDataset()})},AssistedSearchModal.prototype.addRemoteDataset=function(){var e=this,t=new a.a("New Remote Dataset"),n=new i.b(t,void 0,a.a),r={context:n.keyboard(27).toJSON()};this.modal.open(a.b,r).result.then(function(t){e.initRemoteDatasets()},function(){})},AssistedSearchModal.prototype.profileMediationRemoteDataset=function(){this.isDatasetMetadataAvailable()&&this.profileMediation()},AssistedSearchModal.prototype.isDatasetMetadataAvailable=function(){return this.datasetMetadataAvailabilityMap.get(this.selectedDataset)},AssistedSearchModal.prototype.profileMediation=function(){var e=this;this.pairedLexicalizationSets=null;var t;t=this.targetPosition==s.l.local?new s.j(this.selectedProject.getName()):new s.k(this.selectedDataset.identity),this.mapleService.profileSingleResourceMatchProblem(this.context.resource,t).subscribe(function(t){e.pairedLexicalizationSets=[],t.pairedLexicalizationSets.forEach(function(t){e.pairedLexicalizationSets.push(t[1]),e.pairedLexicalizationSets.sort(function(e,t){return e.languageTag.localeCompare(t.languageTag)})}),e.languagesToCheck=[],e.pairedLexicalizationSets.forEach(function(t){e.languagesToCheck.push({lang:t.languageTag,lexModel:t.lexicalizationModel,checked:!1})})})},AssistedSearchModal.prototype.getLexModelDisplayName=function(e){return e=="<"+c.b.uri+">"?"RDFS":e=="<"+c.d.uri+">"?"SKOS":e=="<"+c.e.uri+">"?"SKOSXL":e=="<"+c.f.uri+">"?"OntoLex":"Unknown"},AssistedSearchModal.prototype.getCheckedSearchMode=function(){var e=[];return this.searchModes.forEach(function(t){t.checked&&e.push(t.mode)}),e},AssistedSearchModal.prototype.isOkClickable=function(){if(this.targetPosition==s.l.local&&null==this.selectedProject)return!1;if(this.targetPosition==s.l.remote&&null==this.selectedDataset)return!1;var e=!1;return this.languagesToCheck.forEach(function(t){t.checked&&(e=!0)}),e},AssistedSearchModal.prototype.selectSearchResult=function(e){var t=new C.b("Select search result",e),n=new i.b(t,void 0,C.b),r={context:n.keyboard(27).toJSON()};return this.modal.open(C.a,r).result},AssistedSearchModal.prototype.isRemoteAuthorized=function(){return h.a.isAuthorized(b.a.metadataRegistryRead)},AssistedSearchModal.prototype.ok=function(e){var t=this,n=this.targetPosition+":"+(this.targetPosition==s.l.local?this.selectedProject.getName():this.selectedDataset.identity),r=new Map;this.languagesToCheck.forEach(function(e){e.checked&&r.set(e.lang,m.a.parseURI(e.lexModel))});var o=this.getCheckedSearchMode();v.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.alignmentService.searchResources(this.context.resource,n,[this.context.resource.getRole()],r,o).subscribe(function(e){v.a.stopLoadingDiv(t.blockingDivElement.nativeElement),0==e.length?t.basicModals.alert("Search","No results found.","warning"):t.selectSearchResult(e).then(function(e){t.dialog.close(e)})},function(){})},AssistedSearchModal.prototype.cancel=function(){this.dialog.dismiss()},S([n.i(r.F)("blockingDiv"),P("design:type",r.e)],AssistedSearchModal.prototype,"blockingDivElement",void 0),AssistedSearchModal=S([n.i(r.c)({selector:"assiste-search-modal",template:n(1780)}),P("design:paramtypes",[o.g,f.a,p.a,u.a,d.a,x.a,o.l])],AssistedSearchModal)}();!function(){function LexicalizationSet(){}}()},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function AssistedSearchResultModalData(t,n){var r=e.call(this)||this;return r.title=t,r.resourceList=n,r}return a(AssistedSearchResultModalData,e),AssistedSearchResultModalData}(o.d),p=function(){function AssistedSearchResultModal(e){this.dialog=e,this.context=e.context}return AssistedSearchResultModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close(this.resourceSelected)},AssistedSearchResultModal.prototype.cancel=function(){this.dialog.dismiss()},AssistedSearchResultModal=s([n.i(r.c)({selector:"assisted-search-result-modal",template:n(1781)}),l("design:paramtypes",[i.g])],AssistedSearchResultModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(28),l=n(120),c=n(187),p=n(10),d=n(2),u=n(429),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function ResourceAlignmentModalData(t){var n=e.call(this)||this;return n.resource=t,n}return f(ResourceAlignmentModalData,e),ResourceAlignmentModalData}(i.d),v=function(){function ResourceAlignmentModal(e,t,n,r,o,i){this.dialog=e,this.alignService=t,this.mapleService=n,this.resViewModals=r,this.basicModals=o,this.modal=i,this.allPropCheck=!1,this.context=e.context}return ResourceAlignmentModal.prototype.ngOnInit=function(){this.initPropList()},ResourceAlignmentModal.prototype.initPropList=function(){var e=this;this.alignService.getMappingProperties(this.context.resource,this.allPropCheck).subscribe(function(t){e.mappingPropList=t,e.mappingProperty=null})},ResourceAlignmentModal.prototype.onAllPropCheckChange=function(e){this.allPropCheck=e,this.initPropList()},ResourceAlignmentModal.prototype.browseLocalProjects=function(){var e=this;this.resViewModals.browseExternalResource("Select remote resource").then(function(t){e.alignedObject=t.resource},function(){e.alignedObject=null})},ResourceAlignmentModal.prototype.assistedSearch=function(){var e=this,t=new u.b(this.context.resource),n=new i.b(t,void 0,u.b),r={context:n.keyboard(27).toJSON()};this.modal.open(u.a,r).result.then(function(t){e.alignedObject=t},function(){})},ResourceAlignmentModal.prototype.enterManually=function(){var e=this;this.basicModals.prompt("Insert value manually",{value:"IRI"}).then(function(t){p.a.testIRI(t)?e.alignedObject=new a.b(t):e.basicModals.alert("Invalid IRI",t+" is not a valid IRI","warning")})},ResourceAlignmentModal.prototype.isOkClickable=function(){return void 0!=this.alignedObject&&void 0!=this.mappingProperty},ResourceAlignmentModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close({property:this.mappingProperty,object:this.alignedObject})},ResourceAlignmentModal.prototype.cancel=function(){this.dialog.dismiss()},h([n.i(r.F)("blockingDiv"),g("design:type",r.e)],ResourceAlignmentModal.prototype,"blockingDivElement",void 0),ResourceAlignmentModal=h([n.i(r.c)({selector:"align-modal",template:n(1782)}),g("design:paramtypes",[o.g,l.a,c.a,s.a,d.a,i.c])],ResourceAlignmentModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),o=n(107),i=n(12),a=n(17),s=n(20),l=n(112),c=n(15),p=n(2),d=n(13),u=n(292),f=n(433),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function CollaborationComponent(e,t,n,r,o,i,a){var s=this;this.collaborationService=e,this.resourceService=t,this.vbCollaboration=n,this.collModals=r,this.basicModals=o,this.sharedModals=i,this.eventHandler=a,this.eventSubscriptions=[],this.eventSubscriptions.push(a.collaborationSystemStatusChanged.subscribe(function(){return s.onCollaborationSystemStatusChange()}))}return CollaborationComponent.prototype.ngOnInit=function(){this.initIssueList()},CollaborationComponent.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},CollaborationComponent.prototype.initIssueList=function(){var e=this;this.vbCollaboration.initCollaborationSystem().subscribe(function(t){e.csProjectLinked=e.vbCollaboration.isLinked(),e.projSettingsConfigured=e.vbCollaboration.isProjSettingsConfigured(),e.userSettingsConfigured=e.vbCollaboration.isUserSettingsConfigured(),e.userSettingsConfigured&&e.projSettingsConfigured&&e.csProjectLinked&&e.vbCollaboration.isEnabled()&&(e.csWorking?e.viewChildList.refresh():e.csWorking=!0)})},CollaborationComponent.prototype.openProjectConfig=function(){var e=this;this.collModals.editCollaborationProjectSettings().then(function(t){e.initIssueList()},function(){})},CollaborationComponent.prototype.openUserConfig=function(){var e=this;this.collModals.editCollaborationUserSettings().then(function(t){e.initIssueList()},function(){})},CollaborationComponent.prototype.assignProject=function(){var e=this;this.collModals.editCollaborationProject().then(function(t){e.initIssueList()},function(){})},CollaborationComponent.prototype.isCollProjManagementAuthorized=function(){return a.a.isAuthorized(s.a.collaboration)},CollaborationComponent.prototype.onCollaborationSystemStatusChange=function(){this.csWorking=this.vbCollaboration.isWorking()},h([n.i(r.F)("blockingDiv"),g("design:type",r.e)],CollaborationComponent.prototype,"blockingDivElement",void 0),h([n.i(r.F)(f.a),g("design:type",f.a)],CollaborationComponent.prototype,"viewChildList",void 0),CollaborationComponent=h([n.i(r.c)({selector:"collaboration-component",template:n(1784),host:{class:"pageComponent"}}),g("design:paramtypes",[o.a,i.a,l.a,u.a,p.a,d.a,c.a])],CollaborationComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(3),i=n(299),a=n(107),s=n(12),l=n(10),c=n(7),p=n(112),d=n(2),u=n(13),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function IssueListComponent(e,t,n,o,a){this.collaborationService=e,this.resourceService=t,this.vbCollaboration=n,this.basicModals=o,this.sharedModals=a,this.issueSelected=new r.i,this.context=i.b.Dashboard,this.showPaging=!1,this.page=0}return IssueListComponent.prototype.ngOnInit=function(){this.listIssues()},IssueListComponent.prototype.listIssues=function(){var e=this;c.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.collaborationService.listIssues(this.page).subscribe(function(t){c.a.stopLoadingDiv(e.blockingDivElement.nativeElement),e.issues=t.issues,e.enrichIssuesWithResources(),e.totPage=t.numPagesTotal,e.showPaging=t.numIssues>e.issues.length,e.vbCollaboration.setWorking(!0)},function(t){t.name.endsWith("ConnectException")?e.basicModals.alert("Error","Cannot retrieve the issues list. Connection to Collaboration System server failed.","error",t.name+" "+t.message):t.name.endsWith("CollaborationBackendException")&&e.basicModals.alert("Error","Cannot retrieve the issues list. Connection to Collaboration System server failed during the Login. Please check the credentials.","error",t.stack),e.vbCollaboration.setWorking(!1)})},IssueListComponent.prototype.enrichIssuesWithResources=function(){var e=this;if(this.context==i.b.Dashboard){var t=[];this.issues.forEach(function(e){e.getLabels().forEach(function(e){var n=new o.b(e);l.a.containsNode(t,n)||t.push(n)})}),this.resourceService.getResourcesInfo(t).subscribe(function(t){t.forEach(function(t){e.issues.forEach(function(e){-1!=e.getLabels().indexOf(t.getURI())&&e.addResource(t)})})})}},IssueListComponent.prototype.selectIssue=function(e){this.context==i.b.Assignment&&(this.selectedIssue==e?this.selectedIssue=null:this.selectedIssue=e,this.issueSelected.emit(this.selectedIssue))},IssueListComponent.prototype.previousPage=function(){this.page--,this.listIssues()},IssueListComponent.prototype.nextPage=function(){this.page++,this.listIssues()},IssueListComponent.prototype.onResourceClick=function(e){this.sharedModals.openResourceView(e,!0)},IssueListComponent.prototype.refresh=function(){this.page=0,this.listIssues()},f([n.i(r.F)("blockingDiv"),h("design:type",r.e)],IssueListComponent.prototype,"blockingDivElement",void 0),f([n.i(r._7)(),h("design:type",r.i)],IssueListComponent.prototype,"issueSelected",void 0),f([n.i(r.r)(),h("design:type",String)],IssueListComponent.prototype,"context",void 0),IssueListComponent=f([n.i(r.c)({selector:"issue-list",template:n(1785),host:{class:"blockingDivHost vbox"}}),h("design:paramtypes",[a.a,s.a,p.a,d.a,u.a])],IssueListComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(5),i=n(299),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function IssueListModal(e){this.dialog=e,this.issueCtx=i.b.Assignment,this.context=e.context}return IssueListModal.prototype.selectIssue=function(e){this.selectedIssue==e?this.selectedIssue=null:this.selectedIssue=e},IssueListModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedIssue)},IssueListModal.prototype.cancel=function(){this.dialog.dismiss()},IssueListModal=a([n.i(r.c)({selector:"issue-list-modal",template:n(1786)}),s("design:paramtypes",[o.g])],IssueListModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(5),i=n(42),a=n(107),s=n(94),l=n(164),c=n(7),p=n(112),d=n(2),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function CollaborationProjSettingsModal(e,t,n,r,o,i){this.dialog=e,this.extensionService=t,this.settingsService=n,this.collaborationService=r,this.vbColl=o,this.basicModals=i,this.resettable=!1,this.context=e.context}return CollaborationProjSettingsModal.prototype.ngOnInit=function(){this.init()},CollaborationProjSettingsModal.prototype.init=function(){var e=this;this.extensions=null,this.selectedExtension=null,this.projSettings=null,this.extensionService.getExtensions(i.a.COLLABORATION_BACKEND_ID).subscribe(function(t){e.extensions=t;var n=e.vbColl.getBackendId();if(null!=n){e.resettable=!0;for(var r=0;r<e.extensions.length;r++)if(e.extensions[r].id==n){e.selectedExtension=e.extensions[r];break}e.initSettings()}})},CollaborationProjSettingsModal.prototype.initSettings=function(){var e=this;this.settingsService.getSettings(this.selectedExtension.id,i.c.PROJECT).subscribe(function(t){e.projSettings=t})},CollaborationProjSettingsModal.prototype.reset=function(){var e=this;this.basicModals.confirm("Reset Collaboration System","You are going to disable the Collaboration System on the current project. Are you sure?","warning").then(function(){e.collaborationService.resetCollaborationOnProject().subscribe(function(){e.vbColl.initCollaborationSystem().subscribe(function(){return e.dialog.close()})})},function(){})},CollaborationProjSettingsModal.prototype.onExtensionChange=function(){this.initSettings()},CollaborationProjSettingsModal.prototype.isOkClickable=function(){return null!=this.projSettings&&!this.projSettings.requireConfiguration()},CollaborationProjSettingsModal.prototype.ok=function(e){var t=this,n=this.projSettings.getPropertiesAsMap();c.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.settingsService.storeSettings(this.selectedExtension.id,i.c.PROJECT,n).subscribe(function(n){t.collaborationService.activateCollaboratioOnProject(t.selectedExtension.id).subscribe(function(n){c.a.stopLoadingDiv(t.blockingDivElement.nativeElement),t.vbColl.initCollaborationSystem(),e.stopPropagation(),e.preventDefault(),t.dialog.close()})})},CollaborationProjSettingsModal.prototype.cancel=function(){this.dialog.dismiss()},u([n.i(r.F)("blockingDiv"),f("design:type",r.e)],CollaborationProjSettingsModal.prototype,"blockingDivElement",void 0),CollaborationProjSettingsModal=u([n.i(r.c)({selector:"collaboration-proj-settings-modal",template:n(1787)}),f("design:paramtypes",[o.g,s.a,l.a,a.a,p.a,d.a])],CollaborationProjSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(5),i=n(107),a=n(7),s=n(112),l=n(2),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function CollaborationProjectModal(e,t,n,r){this.dialog=e,this.collaborationService=t,this.vbCollaboration=n,this.basicModals=r,this.projects=[],this.context=e.context}return CollaborationProjectModal.prototype.ngOnInit=function(){this.initProjectList()},CollaborationProjectModal.prototype.initProjectList=function(){var e=this;a.a.startLoadingDiv(this.blockDivElement.nativeElement),this.collaborationService.listProjects().subscribe(function(t){a.a.stopLoadingDiv(e.blockDivElement.nativeElement),e.headers=t.headers,e.projects=t.projects},function(t){t.name.endsWith("ConnectException")?e.basicModals.alert("Error","Cannot retrieve the issues list. Connection to Collaboration System server failed.","error",t.name+" "+t.message):t.name.endsWith("CollaborationBackendException")&&e.basicModals.alert("Error","Cannot retrieve the issues list. Connection to Collaboration System server failed during the Login. Please check the credentials.","error",t.stack),e.vbCollaboration.setWorking(!1),e.dialog.dismiss()})},CollaborationProjectModal.prototype.createProject=function(){var e=this,t={};this.headers.forEach(function(e){return t[e]=null}),this.basicModals.promptProperties("Create project",t,!1).then(function(t){e.collaborationService.createProject(t).subscribe(function(t){e.initProjectList()})},function(){})},CollaborationProjectModal.prototype.selectProject=function(e){this.selectedProject=e},CollaborationProjectModal.prototype.ok=function(e){var t=this;a.a.startLoadingDiv(this.blockDivElement.nativeElement),this.collaborationService.assignProject(this.selectedProject).subscribe(function(n){a.a.stopLoadingDiv(t.blockDivElement.nativeElement),e.stopPropagation(),e.preventDefault(),t.dialog.close()})},CollaborationProjectModal.prototype.cancel=function(){this.dialog.dismiss()},c([n.i(r.F)("blockDiv"),p("design:type",r.e)],CollaborationProjectModal.prototype,"blockDivElement",void 0),CollaborationProjectModal=c([n.i(r.c)({selector:"collaboration-proj-modal",template:n(1788)}),p("design:paramtypes",[o.g,i.a,s.a,l.a])],CollaborationProjectModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(5),i=n(107),a=n(94),s=n(164),l=n(42),c=n(2),p=n(112),d=n(7),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function CollaborationUserSettingsModal(e,t,n,r,o,i){this.dialog=e,this.extensionService=t,this.settingsService=n,this.collaborationService=r,this.vbColl=o,this.basicModals=i,this.context=e.context}return CollaborationUserSettingsModal.prototype.ngOnInit=function(){var e=this;this.collSysBackendId=this.vbColl.getBackendId(),null!=this.collSysBackendId&&this.settingsService.getSettings(this.collSysBackendId,l.c.PROJECT_USER).subscribe(function(t){e.userSettings=t})},CollaborationUserSettingsModal.prototype.isOkClickable=function(){return null!=this.userSettings&&!this.userSettings.requireConfiguration()},CollaborationUserSettingsModal.prototype.ok=function(e){var t=this,n=this.userSettings.getPropertiesAsMap();d.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.settingsService.storeSettings(this.collSysBackendId,l.c.PROJECT_USER,n).subscribe(function(n){d.a.stopLoadingDiv(t.blockingDivElement.nativeElement),e.stopPropagation(),e.preventDefault(),t.dialog.close()})},CollaborationUserSettingsModal.prototype.cancel=function(){this.dialog.dismiss()},u([n.i(r.F)("blockingDiv"),f("design:type",r.e)],CollaborationUserSettingsModal.prototype,"blockingDivElement",void 0),CollaborationUserSettingsModal=u([n.i(r.c)({selector:"collaboration-user-settings-modal",template:n(1789)}),f("design:paramtypes",[o.g,a.a,s.a,i.a,p.a,c.a])],CollaborationUserSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(5),i=n(107),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function CreateIssueModal(e,t){this.dialog=e,this.collaborationService=t,this.context=e.context}return CreateIssueModal.prototype.ngOnInit=function(){var e=this;this.collaborationService.getIssueCreationForm().subscribe(function(t){e.form=t})},CreateIssueModal.prototype.isOkClickable=function(){return this.form&&!this.form.requireConfiguration()},CreateIssueModal.prototype.ok=function(e){var t=this.form.getPropertiesAsMap();e.stopPropagation(),e.preventDefault(),this.dialog.close(t)},CreateIssueModal.prototype.cancel=function(){this.dialog.dismiss()},CreateIssueModal=a([n.i(r.c)({selector:"create-issue-modal",template:n(1790)}),s("design:paramtypes",[o.g,i.a])],CreateIssueModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function DataDumpSelectorModalData(t,n){var r=e.call(this)||this;return r.message=t,r.dataDumps=n,r}return a(DataDumpSelectorModalData,e),DataDumpSelectorModalData}(i.d),p=function(){function DataDumpSelectorModal(e){this.dialog=e,this.context=e.context}return DataDumpSelectorModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedDump)},DataDumpSelectorModal.prototype.cancel=function(){this.dialog.dismiss()},DataDumpSelectorModal=s([n.i(r.c)({selector:"data-dump-selector-modal",template:n(1792)}),l("design:paramtypes",[o.g])],DataDumpSelectorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r,o=n(0),i=n(4),a=n(45),s=n(42),l=n(109),c=n(94),p=n(7),d=n(6),u=n(197),f=n(2),h=n(13),g=n(441),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(){function ExportDataComponent(e,t,n,o,i){this.extensionService=e,this.exportService=t,this.basicModals=n,this.sharedModals=o,this.modal=i,this.includeInferred=!1,this.exportGraphs=[],this.filtersChain=[],this.deploymentOptions=[{label:"Save to file",source:null},{label:"Deploy to a triple store",source:r.repository},{label:"Use custom deployer",source:r.stream}],this.selectedDeployment=this.deploymentOptions[0]}return ExportDataComponent.prototype.ngOnInit=function(){var e=this,t=d.a.getWorkingProject().getBaseURI();this.exportService.getNamedGraphs().subscribe(function(n){n.sort(function(e,t){return e.getURI().localeCompare(t.getURI())});for(var r=0;r<n.length;r++)e.exportGraphs.push(new y(n[r].getURI()==t,n[r]))}),this.extensionService.getExtensions(s.a.RDF_TRANSFORMERS_ID).subscribe(function(t){e.filters=t}),this.extensionService.getExtensions(s.a.REFORMATTING_EXPORTER_ID).subscribe(function(t){e.reformatters=t}),this.extensionService.getExtensions(s.a.REPOSITORY_SOURCED_DEPLOYER_ID).subscribe(function(t){e.repoSourcedDeployer=t}),this.extensionService.getExtensions(s.a.STREAM_SOURCED_DEPLOYER_ID).subscribe(function(t){e.streamSourcedDeployer=t})},ExportDataComponent.prototype.areAllGraphDeselected=function(){for(var e=0;e<this.exportGraphs.length;e++)if(this.exportGraphs[e].checked)return!1;return!0},ExportDataComponent.prototype.onGraphSelectionChange=function(e){if(e.checked)if(1==this.collectCheckedGraphStructures().length)for(var t=0;t<this.filtersChain.length;t++)this.filtersChain[t].filterGraphs=[new y(!1,e.graph)];else for(var t=0;t<this.filtersChain.length;t++)this.filtersChain[t].filterGraphs.push(new y(!1,e.graph));else if(this.areAllGraphDeselected())for(var t=0;t<this.filtersChain.length;t++)this.filtersChain[t].filterGraphs=this.collectCheckedGraphStructures();else for(var t=0;t<this.filtersChain.length;t++)for(var n=this.filtersChain[t].filterGraphs,r=0;r<n.length;r++)if(n[r].graph.getURI()==e.graph.getURI()){n.splice(r,1);break}},ExportDataComponent.prototype.selectFilterChainElement=function(e){this.selectedFilterChainElement==e?this.selectedFilterChainElement=null:this.selectedFilterChainElement=e},ExportDataComponent.prototype.isSelectedFilterFirst=function(){return this.selectedFilterChainElement==this.filtersChain[0]},ExportDataComponent.prototype.isSelectedFilterLast=function(){return this.selectedFilterChainElement==this.filtersChain[this.filtersChain.length-1]},ExportDataComponent.prototype.appendFilter=function(){this.filtersChain.push(new x(this.filters,this.collectCheckedGraphStructures()))},ExportDataComponent.prototype.removeFilter=function(){this.filtersChain.splice(this.filtersChain.indexOf(this.selectedFilterChainElement),1),this.selectedFilterChainElement=null},ExportDataComponent.prototype.moveFilterDown=function(){var e=this.filtersChain.indexOf(this.selectedFilterChainElement);this.filtersChain.splice(e,1),this.filtersChain.splice(e+1,0,this.selectedFilterChainElement)},ExportDataComponent.prototype.moveFilterUp=function(){var e=this.filtersChain.indexOf(this.selectedFilterChainElement);this.filtersChain.splice(e,1),this.filtersChain.splice(e-1,0,this.selectedFilterChainElement)},ExportDataComponent.prototype.onExtensionUpdated=function(e,t){e.selectedFactory=t},ExportDataComponent.prototype.onConfigurationUpdated=function(e,t){e.selectedConfiguration=t},ExportDataComponent.prototype.onConfigStatusUpdated=function(e,t){e.status=t.status,e.relativeReference=t.relativeReference},ExportDataComponent.prototype.configureGraphs=function(e){this.openGraphSelectionModal(e.filterGraphs).then(function(e){},function(){})},ExportDataComponent.prototype.openGraphSelectionModal=function(e){var t=new g.a(e),n=new i.b(t,void 0,g.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(g.b,r).result},ExportDataComponent.prototype.requireConfiguration=function(e){var t=e.selectedConfiguration;return!(null==t||!t.requireConfiguration())},ExportDataComponent.prototype.useReformatter=function(){return!this.selectedDeployment.source||this.selectedDeployment.source==r.stream},ExportDataComponent.prototype.onReformatterConfigUpdated=function(e){var t=this;setTimeout(function(){t.selectedReformatterConfig=e})},ExportDataComponent.prototype.onReformatterExtensionUpdated=function(e){var t=this,n=null!=this.selectedReformatterExtension&&this.selectedReformatterExtension.id!=e.id;this.selectedReformatterExtension=e,(n||null==this.exportFormats)&&this.exportService.getExportFormats(this.selectedReformatterExtension.id).subscribe(function(e){t.exportFormats=e;for(var n=0,r=0;r<t.exportFormats.length;r++)if("RDF/XML"==t.exportFormats[r].name){n=r;break}t.selectedExportFormat=t.exportFormats[n]})},ExportDataComponent.prototype.onReformatterConfigStatusUpdated=function(e){this.reformatterStatus=e.status,this.reformatterRelativeRef=e.relativeReference},ExportDataComponent.prototype.requireConfigurationFormatter=function(){return null!=this.selectedReformatterConfig&&this.selectedReformatterConfig.requireConfiguration()},ExportDataComponent.prototype.useDeployer=function(){return null!=this.selectedDeployment.source},ExportDataComponent.prototype.onDeployerConfigUpdated=function(e){var t=this;setTimeout(function(){t.selectedDeployerConfig=e})},ExportDataComponent.prototype.onDeployerConfigStatusUpdated=function(e){this.deployerStatus=e.status,this.deployerRelativeRef=e.relativeReference},ExportDataComponent.prototype.requireConfigurationDeployer=function(){return null!=this.selectedDeployerConfig&&this.selectedDeployerConfig.requireConfiguration()},ExportDataComponent.prototype.saveChain=function(){for(var e=this,t=[],n=0;n<this.exportGraphs.length;n++)this.exportGraphs[n].checked&&t.push(this.exportGraphs[n].graph.toNT());for(var r=[],o=this,n=0;n<this.filtersChain.length;n++){var i=function(){if(o.filtersChain[n].status==s.h.unsaved)return o.basicModals.alert("Unsaved configuration","Filter at position "+(n+1)+" is not saved. In order to save a filter chain all its filters need to be saved.","warning"),{value:void 0};var e={extensionID:o.filtersChain[n].selectedFactory.id,configRef:o.filtersChain[n].relativeReference},t=[];o.filtersChain[n].filterGraphs.forEach(function(e){e.checked&&t.push(e.graph.toNT())});var i=[e,t];r.push(i)}();if("object"==typeof i)return i.value}var l;if(this.useDeployer()){if(this.deployerStatus==s.h.unsaved)return void this.basicModals.alert("Unsaved configuration","Deployer configuration is not saved. In order to save the exporter configuration all its sub-configurations need to be saved.","warning");l={extensionID:this.selectedDeployerExtension.id,configRef:this.deployerRelativeRef}}var c;if(this.useReformatter()){if(this.reformatterStatus==s.h.unsaved)return void this.basicModals.alert("Unsaved configuration","Reformatter configuration is not saved. In order to save the exporter configuration all its sub-configurations need to be saved.","warning");c={extensionID:this.selectedReformatterExtension.id,configRef:this.reformatterRelativeRef}}var p={graphs:t,transformationPipeline:r,includeInferred:this.includeInferred,deployerSpec:l,reformattingExporterSpec:c};this.sharedModals.storeConfiguration("Save exporter chain configuration",a.c.EXPORTER,p).then(function(){e.basicModals.alert("Save configuration","Configuration saved succesfully")},function(){})},ExportDataComponent.prototype.loadChain=function(){var e=this;this.sharedModals.loadConfiguration("Load exporter chain configuration",a.c.EXPORTER).then(function(t){e.filtersChain=[];for(var n,o,i=t.configuration.properties,a=0;a<i.length;a++)!function(){if("transformationPipeline"==i[a].name){var t=i[a].value;t.length>0&&(t.forEach(function(){e.appendFilter()}),setTimeout(function(){var n=[],r=t[0][0].extensionID;e.viewChildrenExtConfig.toArray().forEach(function(e){e.extensions.forEach(function(t){t.id==r&&n.push(e)})}),t.forEach(function(t,r){var o=t[0];n[r].forceConfiguration(o.extensionID,o.configRef);var i=t[1];e.filtersChain[r].filterGraphs.forEach(function(e){e.checked=-1!=i.indexOf(e.graph.toNT())})})}))}else if("graphs"==i[a].name){var r=i[a].value;e.exportGraphs.forEach(function(e){e.checked=-1!=r.indexOf(e.graph.toNT())})}else"includeInferred"==i[a].name?e.includeInferred=i[a].value:"deployerSpec"==i[a].name?n=i[a].value:"reformattingExporterSpec"==i[a].name&&(o=i[a].value)}();null!=n&&null!=o?(e.deploymentOptions.forEach(function(t){t.source==r.stream&&(e.selectedDeployment=t)}),setTimeout(function(){e.reformatterConfigurator.forceConfiguration(o.extensionID,o.configRef),e.deployerConfigurator.forceConfiguration(n.extensionID,n.configRef)})):null!=n?(e.deploymentOptions.forEach(function(t){t.source==r.repository&&(e.selectedDeployment=t)}),setTimeout(function(){e.deployerConfigurator.forceConfiguration(n.extensionID,n.configRef)})):null!=o&&(e.deploymentOptions.forEach(function(t){null==t.source&&(e.selectedDeployment=t)}),setTimeout(function(){e.reformatterConfigurator.forceConfiguration(o.extensionID,o.configRef)}))})},ExportDataComponent.prototype.restoreReformatter=function(e){var t=this;this.reformatters.forEach(function(n){n.id==e.extensionID&&t.deploymentOptions.forEach(function(e){e.source==r.stream&&(t.selectedDeployment=e)})}),setTimeout(function(){t.reformatterConfigurator.forceConfiguration(e.extensionID,e.configRef)})},ExportDataComponent.prototype.export=function(){for(var e=this,t=0;t<this.filtersChain.length;t++)if(this.requireConfiguration(this.filtersChain[t]))return void this.basicModals.alert("Missing filter configuration","An export filter ("+this.filtersChain[t].selectedFactory.name+") needs to be configured","warning");for(var n=[],t=0;t<this.exportGraphs.length;t++)this.exportGraphs[t].checked&&n.push(this.exportGraphs[t].graph);for(var o=[],t=0;t<this.filtersChain.length;t++)o.push(this.filtersChain[t].convertToFilteringPipelineStep());var i,a;if(null==this.selectedDeployment.source||this.selectedDeployment.source==r.stream){if(i={factoryId:this.selectedReformatterExtension.id},null!=this.selectedReformatterConfig){if(this.requireConfigurationFormatter())return void this.basicModals.alert("Missing configuration","The reformatting exporter ("+this.selectedReformatterConfig.shortName+") needs to be configured","warning");i.configType=this.selectedReformatterConfig.type,i.configuration=this.selectedReformatterConfig.getPropertiesAsMap()}a=this.selectedExportFormat.name}var s;if(null!=this.selectedDeployment.source&&(s={factoryId:this.selectedDeployerExtension.id},null!=this.selectedDeployerConfig)){if(this.requireConfigurationDeployer())return void this.basicModals.alert("Missing configuration","The deployer needs to be configured","warning");s.configType=this.selectedDeployerConfig.type,s.configuration=this.selectedDeployerConfig.getPropertiesAsMap()}p.a.startLoadingDiv(p.a.blockDivFullScreen),this.exportService.export(n,JSON.stringify(o),i,s,this.includeInferred,a).subscribe(function(t){p.a.stopLoadingDiv(p.a.blockDivFullScreen),e.exportSuccessHandler(t,null==s)},function(t){t.name.endsWith("ExportPreconditionViolationException")&&e.basicModals.confirm("Warning",t.message+" Do you want to force the export?","warning").then(function(t){p.a.startLoadingDiv(p.a.blockDivFullScreen),e.exportService.export(n,JSON.stringify(o),i,s,e.includeInferred,a,!0).subscribe(function(t){p.a.stopLoadingDiv(p.a.blockDivFullScreen),e.exportSuccessHandler(t,null==s)})},function(e){})})},ExportDataComponent.prototype.exportSuccessHandler=function(e,t){if(t){var n=window.URL.createObjectURL(e);this.basicModals.downloadLink("Export data",null,n,"export."+this.selectedExportFormat.defaultFileExtension)}else this.basicModals.alert("Export data","The export result has been deployed succesfully")},ExportDataComponent.prototype.collectCheckedGraphStructures=function(){var e=[];if(this.areAllGraphDeselected())for(var t=0;t<this.exportGraphs.length;t++)e.push({checked:!1,graph:this.exportGraphs[t].graph});else for(var t=0;t<this.exportGraphs.length;t++)this.exportGraphs[t].checked&&e.push({checked:!1,graph:this.exportGraphs[t].graph});return e},m([n.i(o._12)(u.a),v("design:type",o._13)],ExportDataComponent.prototype,"viewChildrenExtConfig",void 0),m([n.i(o.F)("deployerConfigurator"),v("design:type",u.a)],ExportDataComponent.prototype,"deployerConfigurator",void 0),m([n.i(o.F)("reformatterConfigurator"),v("design:type",u.a)],ExportDataComponent.prototype,"reformatterConfigurator",void 0),ExportDataComponent=m([n.i(o.c)({selector:"export-data-component",template:n(1795),host:{class:"pageComponent"}}),v("design:paramtypes",[c.a,l.a,f.a,h.a,i.c])],ExportDataComponent)}(),y=function(){function GraphStruct(e,t){this.checked=e,this.graph=t}return GraphStruct}(),x=function(){function TransformerChainElement(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r].clone());this.availableFactories=n,this.filterGraphs=t}return TransformerChainElement.prototype.convertToFilteringPipelineStep=function(){var e={filter:null},t={factoryId:this.selectedFactory.id,configuration:null},n=this.selectedConfiguration;t.configuration=n.getPropertiesAsMap(),e.filter=t;for(var r=[],o=this.filterGraphs,i=0;i<o.length;i++)o[i].checked&&r.push(o[i].graph.getURI());return r.length>0&&(e.graphs=r),e},TransformerChainElement}();!function(e){e.stream="stream",e.repository="repository"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function FilterGraphsModalData(t){var n=e.call(this)||this;return n.graphs=t,n}return a(FilterGraphsModalData,e),FilterGraphsModalData}(o.d),p=function(){function FilterGraphsModal(e){this.dialog=e,this.context=e.context}return FilterGraphsModal.prototype.ngOnInit=function(){},FilterGraphsModal.prototype.areAllGraphDeselected=function(){for(var e=0;e<this.context.graphs.length;e++)if(this.context.graphs[e].checked)return!1;return!0},FilterGraphsModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},FilterGraphsModal=s([n.i(r.c)({selector:"filter-graphs-modal",template:n(1796)}),l("design:paramtypes",[i.g])],FilterGraphsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,o=n(0),i=n(45),a=n(76),s=n(42),l=n(94),c=n(136),p=n(17),d=n(7),u=n(20),f=n(6),h=n(197),g=n(2),m=n(13),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function LoadDataComponent(e,t,n,o){this.inOutService=e,this.extensionService=t,this.basicModals=n,this.sharedModals=o,this.useProjectBaseURI=!0,this.importAllowances=[{allowance:a.e.nowhere,show:"Do not resolve"},{allowance:a.e.web,show:"From Web"},{allowance:a.e.webFallbackToMirror,show:"From Web with fallback to Ontology Mirror"},{allowance:a.e.mirror,show:"From Ontology Mirror"},{allowance:a.e.mirrorFallbackToWeb,show:"From Ontology Mirror with fallback to Web"}],this.selectedImportAllowance=this.importAllowances[1].allowance,this.validateImplicitly=!1,this.transformersChain=[],this.loaderOptions=[{label:"File",target:null},{label:"Dataset Catalog",target:r.datasetCatalog},{label:"Triple store",target:r.repository},{label:"Custom source",target:r.stream}],this.selectedLoader=this.loaderOptions[0]}return LoadDataComponent.prototype.ngOnInit=function(){var e=this;this.baseURI=f.a.getWorkingProject().getBaseURI(),this.validateImplicitly=this.isValidationAuthorized(),this.extensionService.getExtensions(s.a.RDF_TRANSFORMERS_ID).subscribe(function(t){e.transformers=t}),this.extensionService.getExtensions(s.a.REPOSITORY_TARGETING_LOADER_ID).subscribe(function(t){e.repoTargetLoaders=t}),this.extensionService.getExtensions(s.a.STREAM_TARGETING_LOADER_ID).subscribe(function(t){e.streamTargetLoaders=t}),this.extensionService.getExtensions(s.a.RDF_LIFTER_ID).subscribe(function(t){e.lifters=t})},LoadDataComponent.prototype.onBaseUriChecboxChange=function(){this.useProjectBaseURI&&(this.baseURI=f.a.getWorkingProject().getBaseURI())},LoadDataComponent.prototype.fileChangeEvent=function(e){var t=this;this.fileToUpload=e,d.a.startLoadingDiv(d.a.blockDivFullScreen),this.inOutService.getParserFormatForFileName(e.name).subscribe(function(e){if(d.a.stopLoadingDiv(d.a.blockDivFullScreen),null!=e)for(var n=0;n<t.inputFormats.length;n++)if(t.inputFormats[n].name==e)return void(t.selectedInputFormat=t.inputFormats[n])})},LoadDataComponent.prototype.loadFromDatasetCatalog=function(){var e=this;this.sharedModals.datasetCatalog().then(function(t){var n=t.dataDump;e.dataDumpUrl=n.accessURL;var r=n.mimeType;null!=r?e.selectedInputFormat=e.inputFormats.find(function(e){return e.defaultMimeType==r}):(e.selectedInputFormat=null,e.inOutService.getParserFormatForFileName(e.dataDumpUrl).subscribe(function(t){e.selectedInputFormat=e.inputFormats.find(function(e){return e.name==t})})),e.selectedLoaderExtension=e.streamTargetLoaders.find(function(e){return"it.uniroma2.art.semanticturkey.extension.impl.loader.http.HTTPLoader"==e.id}),e.selectedLoaderConfig=e.selectedLoaderExtension.configurations.find(function(e){return"it.uniroma2.art.semanticturkey.extension.impl.loader.http.HTTPLoaderConfiguration"==e.type}),e.selectedLoaderConfig.properties.find(function(e){return"endpoint"==e.name}).value=e.dataDumpUrl,e.selectedLifterExtension=e.lifters.find(function(e){return"it.uniroma2.art.semanticturkey.extension.impl.rdflifter.rdfdeserializer.RDFDeserializingLifter"==e.id})})},LoadDataComponent.prototype.onLifterExtensionUpdated=function(e){var t=this;this.selectedLifterExtension=e,this.inOutService.getSupportedFormats(this.selectedLifterExtension.id).subscribe(function(e){t.inputFormats=e;for(var n=[],r=0,o=0;o<t.inputFormats.length;o++)n.push("."+t.inputFormats[o].defaultFileExtension),"RDF/XML"==t.inputFormats[o].name&&(r=o);t.selectedInputFormat=t.inputFormats[r],n=n.filter(function(e,t){return n.indexOf(e)==t}),t.filePickerAccept=n.join(",")})},LoadDataComponent.prototype.showLoader=function(){return this.selectedLoader.target==r.repository||this.selectedLoader.target==r.stream},LoadDataComponent.prototype.onLoaderConfigStatusUpdated=function(e){this.loaderStatus=e.status,this.loaderRelativeRef=e.relativeReference},LoadDataComponent.prototype.requireConfigurationLoader=function(){return null!=this.selectedLoaderConfig&&this.selectedLoaderConfig.requireConfiguration()},LoadDataComponent.prototype.selectTransformerChainElement=function(e){this.selectedTransformerChainElement==e?this.selectedTransformerChainElement=null:this.selectedTransformerChainElement=e},LoadDataComponent.prototype.isSelectedTransformerFirst=function(){return this.selectedTransformerChainElement==this.transformersChain[0]},LoadDataComponent.prototype.isSelectedTransformerLast=function(){return this.selectedTransformerChainElement==this.transformersChain[this.transformersChain.length-1]},LoadDataComponent.prototype.appendTransformer=function(){this.transformersChain.push(new x(this.transformers))},LoadDataComponent.prototype.removeTransformer=function(){this.transformersChain.splice(this.transformersChain.indexOf(this.selectedTransformerChainElement),1),this.selectedTransformerChainElement=null},LoadDataComponent.prototype.moveTransformerDown=function(){var e=this.transformersChain.indexOf(this.selectedTransformerChainElement);this.transformersChain.splice(e,1),this.transformersChain.splice(e+1,0,this.selectedTransformerChainElement)},LoadDataComponent.prototype.moveTransformerUp=function(){var e=this.transformersChain.indexOf(this.selectedTransformerChainElement);this.transformersChain.splice(e,1),this.transformersChain.splice(e-1,0,this.selectedTransformerChainElement)},LoadDataComponent.prototype.onExtensionUpdated=function(e,t){e.selectedFactory=t},LoadDataComponent.prototype.onConfigurationUpdated=function(e,t){e.selectedConfiguration=t},LoadDataComponent.prototype.onConfigStatusUpdated=function(e,t){e.status=t.status,e.relativeReference=t.relativeReference},LoadDataComponent.prototype.requireConfiguration=function(e){var t=e.selectedConfiguration;return!(null==t||!t.requireConfiguration())},LoadDataComponent.prototype.saveChain=function(){for(var e=this,t=[],n=0;n<this.transformersChain.length;n++){if(this.transformersChain[n].status==s.h.unsaved)return void this.basicModals.alert("Unsaved configuration","Transformer at position "+(n+1)+" is not saved. In order to save a transformer chain all its transformers need to be saved.","warning");var r={extensionID:this.transformersChain[n].selectedFactory.id,configRef:this.transformersChain[n].relativeReference};t.push(r)}var o;if(null!=this.selectedLoader.target){if(this.loaderStatus==s.h.unsaved)return void this.basicModals.alert("Unsaved configuration","Loader configuration is not saved. In order to save the importer configuration all its sub-configurations need to be saved.","warning");o={extensionID:this.selectedLoaderExtension.id,configRef:this.loaderRelativeRef}}var a={transformationPipeline:t,loaderSpec:o};this.sharedModals.storeConfiguration("Save importer chain configuration",i.c.IMPORTER,a).then(function(){e.basicModals.alert("Save configuration","Configuration saved succesfully")},function(){})},LoadDataComponent.prototype.loadChain=function(){var e=this;this.sharedModals.loadConfiguration("Load importer chain configuration",i.c.IMPORTER).then(function(t){e.transformersChain=[];for(var n=t.configuration.properties,o=0;o<n.length;o++)!function(){if("transformationPipeline"==n[o].name){var t=n[o].value;t.forEach(function(){e.appendTransformer()}),setTimeout(function(){var n=[],r=t[0].extensionID;e.viewChildrenExtConfig.toArray().forEach(function(e){e.extensions.forEach(function(t){t.id==r&&n.push(e)})}),t.forEach(function(e,t){n[t].forceConfiguration(e.extensionID,e.configRef)})})}else if("loaderSpec"==n[o].name){var i=n[o].value;if(null!=i){var a=!1;e.streamTargetLoaders.forEach(function(t){t.id==i.extensionID&&(e.loaderOptions.forEach(function(t){t.target==r.stream&&(e.selectedLoader=t)}),a=!0)}),a||e.loaderOptions.forEach(function(t){t.target==r.repository&&(e.selectedLoader=t)}),setTimeout(function(){e.loaderConfigurator.forceConfiguration(i.extensionID,i.configRef)})}else e.loaderOptions.forEach(function(t){null==t.target&&(e.selectedLoader=t)})}}()})},LoadDataComponent.prototype.isValidationEnabled=function(){return f.a.getWorkingProject().isValidationEnabled()},LoadDataComponent.prototype.isValidationAuthorized=function(){return p.a.isAuthorized(u.a.validation)},LoadDataComponent.prototype.isDataValid=function(){return null!=this.fileToUpload&&(null!=this.baseURI&&""!=this.baseURI.trim()&&void 0)},LoadDataComponent.prototype.load=function(){var e,t,n,o,i=this,a=[],s=this.isValidationEnabled()?this.validateImplicitly:null;if(null==this.baseURI||""==this.baseURI.trim())return void this.basicModals.alert("Load Data","BaseURI required","warning");if(null==this.selectedLoader.target){if(null==this.fileToUpload)return void this.basicModals.alert("Load Data","A file is required","warning");e=this.fileToUpload}if((null==this.selectedLoader.target||this.selectedLoader.target==r.stream||this.selectedLoader.target==r.datasetCatalog)&&(t=this.selectedInputFormat.name,o={factoryId:this.selectedLifterExtension.id},null!=this.selectedLifterConfig)){if(this.selectedLifterConfig.requireConfiguration())return void this.basicModals.alert("Missing configuration","The Lifter needs to be configured","warning");o.configType=this.selectedLifterConfig.type,o.configuration=this.selectedLifterConfig.getPropertiesAsMap()}if(null!=this.selectedLoader.target&&(n={factoryId:this.selectedLoaderExtension.id},null!=this.selectedLoaderConfig)){if(this.selectedLoaderConfig.requireConfiguration())return void this.basicModals.alert("Missing configuration","The Loader needs to be configured","warning");n.configType=this.selectedLoaderConfig.type,n.configuration=this.selectedLoaderConfig.getPropertiesAsMap()}for(var l=0;l<this.transformersChain.length;l++)a.push(this.transformersChain[l].convertToTransformerPipelineStep());d.a.startLoadingDiv(d.a.blockDivFullScreen),this.inOutService.loadRDF(this.baseURI,this.selectedImportAllowance,e,t,n,o,JSON.stringify(a),s).subscribe(function(e){d.a.stopLoadingDiv(d.a.blockDivFullScreen),i.basicModals.alert("Import data","Data imported successfully")})},v([n.i(o._12)(h.a),b("design:type",o._13)],LoadDataComponent.prototype,"viewChildrenExtConfig",void 0),v([n.i(o.F)("loaderConfigurator"),b("design:type",h.a)],LoadDataComponent.prototype,"loaderConfigurator",void 0),LoadDataComponent=v([n.i(o.c)({selector:"load-data-component",template:n(1797),host:{class:"pageComponent"}}),b("design:paramtypes",[c.a,l.a,g.a,m.a])],LoadDataComponent)}(),x=function(){function TransformerChainElement(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());this.availableFactories=t}return TransformerChainElement.prototype.convertToTransformerPipelineStep=function(){var e={filter:null},t={factoryId:this.selectedFactory.id,configuration:null},n=this.selectedConfiguration;return t.configuration=n.getPropertiesAsMap(),e.filter=t,e},TransformerChainElement}();!function(e){e.stream="stream",e.repository="repository",e.datasetCatalog="datasetCatalog"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(11),i=n(162),a=n(17),s=n(7),l=n(20),c=n(6),p=n(2),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function RefactorComponent(e,t){this.refactorService=e,this.basicModals=t,this.reifyNotes=!1,this.flattenNotes=!1}return RefactorComponent.prototype.ngOnInit=function(){this.lexicalizationModel=c.a.getWorkingProject().getLexicalizationModelType()},RefactorComponent.prototype.skosToSkosxlEnabled=function(){return this.lexicalizationModel==o.e.uri},RefactorComponent.prototype.skosxlToSkosEnabled=function(){return this.lexicalizationModel==o.e.uri||this.lexicalizationModel==o.e.uri},RefactorComponent.prototype.skosToSkosxl=function(){var e=this;this.basicModals.confirm("SKOS to SKOS-XL","This could be a long process. Are you sure to continue?","warning").then(function(t){s.a.startLoadingDiv(s.a.blockDivFullScreen),e.refactorService.SKOStoSKOSXL(e.reifyNotes).subscribe(function(t){s.a.stopLoadingDiv(s.a.blockDivFullScreen),e.basicModals.alert("Refactor","Refactoring process completed")})},function(){})},RefactorComponent.prototype.skosxlToSkos=function(){var e=this;this.basicModals.confirm("SKOS-XL to SKOS","This could be a long process. Are you sure to continue?","warning").then(function(t){s.a.startLoadingDiv(s.a.blockDivFullScreen),e.refactorService.SKOSXLtoSKOS(e.flattenNotes).subscribe(function(t){s.a.stopLoadingDiv(s.a.blockDivFullScreen),e.basicModals.alert("Refactor","Refactoring process completed")})},function(){})},RefactorComponent.prototype.migrateData=function(){var e=this;this.basicModals.confirm("Migrate data","This could be a long process. Are you sure to continue?","warning").then(function(t){s.a.startLoadingDiv(s.a.blockDivFullScreen),e.refactorService.migrateDefaultGraphToBaseURIGraph().subscribe(function(t){s.a.stopLoadingDiv(s.a.blockDivFullScreen),e.basicModals.alert("Refactor","Refactoring process completed")})},function(){})},RefactorComponent.prototype.isMigrateAuthorized=function(){return a.a.isAuthorized(l.a.refactorMigrateToBaseUriGraph)},RefactorComponent.prototype.isSkosToSkosxlAuthorized=function(){return a.a.isAuthorized(l.a.refactorSkosToSkosxl)},RefactorComponent.prototype.isSkoxlToSkosAuthorized=function(){return a.a.isAuthorized(l.a.refactorSkosxlToSkos)},RefactorComponent=d([n.i(r.c)({selector:"refactor-component",template:n(1798),host:{class:"pageComponent"}}),u("design:paramtypes",[i.a,p.a])],RefactorComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return b});var r=n(0),o=n(5),i=n(4),a=n(42),s=n(60),l=n(32),c=n(94),p=n(71),d=n(197),u=n(2),f=n(13),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function DumpCreationModalData(t){var n=e.call(this)||this;return n.title=t,n}return h(DumpCreationModalData,e),DumpCreationModalData}(i.d),b=function(){function DumpCreationModal(e,t,n,r,o){this.dialog=e,this.extensionService=t,this.prefService=n,this.basicModals=r,this.sharedModals=o,this.repositoryAccessList=[s.a.CreateLocal,s.a.CreateRemote,s.a.AccessExistingRemote],this.selectedRepositoryAccess=this.repositoryAccessList[0],this.remoteRepoConfigs=[],this.DEFAULT_REPO_EXTENSION_ID="it.uniroma2.art.semanticturkey.extension.impl.repositoryimplconfigurer.predefined.PredefinedRepositoryImplConfigurer",this.DEFAULT_REPO_CONFIG_TYPE="it.uniroma2.art.semanticturkey.extension.impl.repositoryimplconfigurer.predefined.RDF4JNativeSailConfigurerConfiguration",this.backendTypes=[s.b.openrdf_NativeStore,s.b.openrdf_MemoryStore,s.b.graphdb_FreeSail],this.selectedRepoBackendType=this.backendTypes[0],this.context=e.context}return DumpCreationModal.prototype.ngOnInit=function(){var e=this;this.extensionService.getExtensions(a.a.REPO_IMPL_CONFIGURER_ID).subscribe(function(t){e.repoExtensions=t,setTimeout(function(){e.repoConfigurator.selectExtensionAndConfiguration(e.DEFAULT_REPO_EXTENSION_ID,e.DEFAULT_REPO_CONFIG_TYPE)})}),this.initRemoteRepoAccessConfigurations()},DumpCreationModal.prototype.initRemoteRepoAccessConfigurations=function(){var e=this;this.prefService.getSystemSettings([l.a.setting_remote_configs]).subscribe(function(t){null!=t[l.a.setting_remote_configs]?(e.remoteRepoConfigs=JSON.parse(t[l.a.setting_remote_configs]),null!=e.selectedRemoteRepoConfig?e.selectedRemoteRepoConfig=e.remoteRepoConfigs.find(function(t){return t.serverURL==e.selectedRemoteRepoConfig.serverURL}):1==e.remoteRepoConfigs.length&&(e.selectedRemoteRepoConfig=e.remoteRepoConfigs[0])):(e.remoteRepoConfigs=[],e.selectedRemoteRepoConfig=null)})},DumpCreationModal.prototype.isSelectedRepoAccessRemote=function(){return this.selectedRepositoryAccess==s.a.CreateRemote||this.selectedRepositoryAccess==s.a.AccessExistingRemote},DumpCreationModal.prototype.isSelectedRepoAccessCreateMode=function(){return this.selectedRepositoryAccess==s.a.CreateLocal||this.selectedRepositoryAccess==s.a.CreateRemote},DumpCreationModal.prototype.configureRemoteRepositoryAccess=function(){var e=this;this.sharedModals.configureRemoteRepositoryAccess().then(function(){e.initRemoteRepoAccessConfigurations()})},DumpCreationModal.prototype.changeRemoteRepository=function(){var e=this;if(null==this.selectedRemoteRepoConfig)return void this.basicModals.alert("Missing configuration","You need to select a configuration for the selected remote Repository Access. Please, select an existing one from the related combobox or create a new one.","warning");this.sharedModals.selectRemoteRepository("Select remote repository",this.selectedRemoteRepoConfig).then(function(t){e.repositoryId=t.id},function(){})},DumpCreationModal.prototype.ok=function(e){if(null==this.versionId||""==this.versionId.trim())return void this.basicModals.alert("Invalid data","Enter a valid version ID","error");if(this.isSelectedRepoAccessRemote()&&null==this.selectedRemoteRepoConfig)return void this.basicModals.alert("Missing configuration","You need to select a configuration for the selected remote Repository Access. Please, select an existing one from the related combobox or create a new one.","warning");if(!this.isSelectedRepoAccessCreateMode()&&(null==this.repositoryId||""==this.repositoryId.trim()))return void this.basicModals.alert("Invalid data","Enter a valid repository ID","error");if(this.isSelectedRepoAccessCreateMode()&&this.selectedRepoConfig.requireConfiguration())return void this.basicModals.alert("Missing configuration","Required parameter(s) missing in repository configuration ("+this.selectedRepoConfig.shortName+")","warning");var t=new s.c(this.selectedRepositoryAccess);this.isSelectedRepoAccessRemote()&&t.setConfiguration(this.selectedRemoteRepoConfig);var n={versionId:this.versionId,repositoryAccess:t,repositoryId:null,repoConfigurerSpecification:null,backendType:null};if(this.isSelectedRepoAccessCreateMode()){var r;r={factoryId:this.selectedRepoExtension.id,configType:this.selectedRepoConfig.type,configuration:this.selectedRepoConfig.getPropertiesAsMap()},n.repoConfigurerSpecification=r}else n.repositoryId=this.repositoryId,n.backendType=this.selectedRepoBackendType;e.stopPropagation(),e.preventDefault(),this.dialog.close(n)},DumpCreationModal.prototype.cancel=function(){this.dialog.dismiss()},g([n.i(r.F)("repoConfigurator"),m("design:type",d.a)],DumpCreationModal.prototype,"repoConfigurator",void 0),DumpCreationModal=g([n.i(r.c)({selector:"dump-creation-modal",template:n(1799)}),m("design:paramtypes",[o.g,c.a,p.a,u.a,f.a])],DumpCreationModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(4),i=n(135),a=n(193),s=n(7),l=n(6),c=n(2),p=n(444),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function VersioningComponent(e,t,n){this.versionsService=e,this.basicModals=t,this.modal=n}return VersioningComponent.prototype.ngOnInit=function(){this.initVersions()},VersioningComponent.prototype.initVersions=function(){var e=this;this.versionsService.getVersions().subscribe(function(t){e.versionList=[{versionId:"CURRENT",dateTimeLocal:"---",dateTime:null,repositoryId:"---",repositoryLocation:l.a.getWorkingProject().isRepositoryRemote()?i.a.REMOTE:i.a.LOCAL,repositoryStatus:i.b.INITIALIZED}],e.versionList=e.versionList.concat(t)})},VersioningComponent.prototype.selectVersion=function(e){this.selectedVersion==e?this.selectedVersion=null:this.selectedVersion=e},VersioningComponent.prototype.swithcToVersion=function(){0==this.versionList.indexOf(this.selectedVersion)?l.a.removeContextVersion():l.a.setContextVersion(this.selectedVersion),l.a.setProjectChanged(!0)},VersioningComponent.prototype.dump=function(){var e=this;this.basicModals.prompt("Create a version dump",{value:"Version ID"}).then(function(t){s.a.startLoadingDiv(s.a.blockDivFullScreen),e.versionsService.createVersionDump(t).subscribe(function(t){s.a.stopLoadingDiv(s.a.blockDivFullScreen),e.initVersions()})},function(){})},VersioningComponent.prototype.dumpWithLocation=function(){var e=this;this.configureDumpWithLocation().then(function(t){s.a.startLoadingDiv(s.a.blockDivFullScreen),e.versionsService.createVersionDump(t.versionId,t.repositoryAccess,t.repositoryId,t.repoConfigurerSpecification,t.backendType).subscribe(function(t){s.a.stopLoadingDiv(s.a.blockDivFullScreen),e.initVersions()})},function(){})},VersioningComponent.prototype.configureDumpWithLocation=function(){var e=new p.a("Configure version dump"),t=new o.b(e,void 0,p.a),n={context:t.keyboard(27).toJSON()};return this.modal.open(p.b,n).result},VersioningComponent.prototype.isActiveVersion=function(e){return null==l.a.getContextVersion()?0==this.versionList.indexOf(e):l.a.getContextVersion().versionId==e.versionId},VersioningComponent.prototype.closeVersion=function(e){var t=this;this.versionsService.closeVersion(e.versionId).subscribe(function(e){t.initVersions()})},VersioningComponent=d([n.i(r.c)({selector:"versioning-component",template:n(1800),host:{class:"pageComponent"}}),u("design:paramtypes",[a.a,c.a,o.c])],VersioningComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(0),o=n(5),i=n(4),a=n(47),s=n(16),l=n(2),c=n(14),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function CustomFormModalData(t,n,r){var o=e.call(this)||this;return o.title=t,o.cfId=n,o.language=r,o}return p(CustomFormModalData,e),CustomFormModalData}(i.d),h=function(){function CustomFormModal(e,t,n,r){this.dialog=e,this.cfService=t,this.browsingModals=n,this.basicModals=r,this.formFields=[],this.context=e.context}return CustomFormModal.prototype.isInputValid=function(){var e=!0;if(null!=this.formFields)for(var t=0;t<this.formFields.length;t++){var n=this.formFields[t],r=n.value,o=!1;"string"==typeof r&&""==r.trim()?o=!0:Array.isArray(r)&&0==r.length&&(o=!0),n.isMandatory()&&(null==r||o)&&(e=!1)}return e},CustomFormModal.prototype.ok=function(e){for(var t=0,n=this.formFields;t<n.length;t++){var r=n[t],o=r.getAnnotation(a.d.Collection);if(null!=o){var i=o.min;if(r.isMandatory()){if(r.value.length<i)return void this.basicModals.alert("Incompleted form","Field '"+r.getUserPrompt()+"' requires at least "+i+" values.","warning")}else if(r.value.length>0&&r.value.length<i)return void this.basicModals.alert("Incompleted form","Field '"+r.getUserPrompt()+"' is optional, anyway you filled it with only "+r.value.length+" value(s), while it requires at least "+i+" values. Please, provide more values or delete the provided ones","warning")}}for(var s={},l=0;l<this.formFields.length;l++){var c=this.formFields[l],p=c.value,d=!1;try{""==p.trim()&&(d=!0)}catch(e){}if(!d){var u=!1;for(var f in s)if(f==c.getUserPrompt()){u=!0;break}u||(s[c.getUserPrompt()]=p)}}e.stopPropagation(),this.dialog.close(s)},CustomFormModal.prototype.cancel=function(){this.dialog.dismiss()},CustomFormModal=d([n.i(r.c)({selector:"custom-form-modal",template:n(1804)}),u("design:paramtypes",[o.g,s.a,c.a,l.a])],CustomFormModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(4),i=n(47),a=n(16),s=n(17),l=n(20),c=n(2),p=n(448),d=n(449),u=n(451),f=n(452),h=n(453),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function CustomFormConfigComponent(e,t,n){this.customFormsService=e,this.basicModals=t,this.modal=n}return CustomFormConfigComponent.prototype.ngOnInit=function(){this.initCFConfMap(),this.initFormCollList(),this.initCustomFormList()},CustomFormConfigComponent.prototype.showBrokenCFS=function(){var e=new o.b,t={context:e.dialogClass("modal-dialog modal-xl").keyboard(27).toJSON()};return this.modal.open(p.a,t)},CustomFormConfigComponent.prototype.initCFConfMap=function(){var e=this;this.customFormsService.getCustomFormConfigMap().subscribe(function(t){e.cfConfigurationMap=t,e.selectedFormCollMapping=null})},CustomFormConfigComponent.prototype.selectFormCollMapping=function(e){this.selectedFormCollMapping==e?this.selectedFormCollMapping=null:this.selectedFormCollMapping=e},CustomFormConfigComponent.prototype.createFormCollMapping=function(){var e=this,t=new o.b,n={context:t.keyboard(27).toJSON()};return this.modal.open(f.a,n).result.then(function(t){for(var n=t.resource,r=t.formCollection,o=0;o<e.cfConfigurationMap.length;o++)if(e.cfConfigurationMap[o].getResource().getURI()==n.getURI())return void e.basicModals.alert("Denied","A FormCollection is already assigned to "+n.getShow()+". Please, select another resource, or if you want to add a form to "+n.getShow()+", add more CustomForm to the assigned FormCollection ("+e.cfConfigurationMap[o].getFormCollection().getId()+")","warning");e.customFormsService.addFormsMapping(r,n).subscribe(function(t){e.initCFConfMap()})},function(){})},CustomFormConfigComponent.prototype.removeFormCollMapping=function(){var e=this;this.customFormsService.removeFormCollectionOfResource(this.selectedFormCollMapping.getResource()).subscribe(function(t){e.initCFConfMap()})},CustomFormConfigComponent.prototype.changeReplaceToMapping=function(e,t){this.customFormsService.updateReplace(t.getResource(),e).subscribe()},CustomFormConfigComponent.prototype.initFormCollList=function(){var e=this;this.customFormsService.getAllFormCollections().subscribe(function(t){e.formCollectionList=t,e.selectedFormColl=null})},CustomFormConfigComponent.prototype.selectFormColl=function(e){this.selectedFormColl==e?this.selectedFormColl=null:this.selectedFormColl=e},CustomFormConfigComponent.prototype.createFormCollection=function(){for(var e=this,t=[],n=0;n<this.formCollectionList.length;n++)t.push(this.formCollectionList[n].getId());var r=new u.a(null,t),i=new o.b(r,void 0,u.a);i.size("lg").keyboard(27);var a={context:i.keyboard(27).toJSON()};return this.modal.open(u.b,a).result.then(function(t){return e.initFormCollList()},function(){})},CustomFormConfigComponent.prototype.editFormCollection=function(){var e=new u.a(this.selectedFormColl.getId(),[],this.selectedFormColl.getLevel()==i.g.system),t=new o.b(e,void 0,u.a);t.size("lg").keyboard(27);var n={context:t.keyboard(27).toJSON()};return this.modal.open(u.b,n).result.then(function(e){},function(){})},CustomFormConfigComponent.prototype.deleteFormCollection=function(){var e=this;this.basicModals.confirm("Delete Form Collection","You are deleting Form Collection "+this.selectedFormColl.getId()+". Are you sure?","warning").then(function(t){e.customFormsService.deleteFormCollection(e.selectedFormColl.getId()).subscribe(function(t){e.initCFConfMap(),e.initFormCollList()})},function(){})},CustomFormConfigComponent.prototype.cloneFormCollection=function(){var e=this;this.basicModals.promptPrefixed("Clone FormCollection",i.b.PREFIX,"ID",null,!1,!0,!0).then(function(t){for(var n=0;n<e.formCollectionList.length;n++)if(e.formCollectionList[n].getId()==t)return void e.basicModals.alert("Duplicated ID","A CustomForm with ID "+t+" already exists","error");e.customFormsService.cloneFormCollection(e.selectedFormColl.getId(),t).subscribe(function(t){e.initFormCollList()})},function(){})},CustomFormConfigComponent.prototype.exportFormCollection=function(){var e=this;this.customFormsService.exportFormCollection(this.selectedFormColl.getId()).subscribe(function(t){var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Export FormCollection",null,n,e.selectedFormColl.getId()+".xml")})},CustomFormConfigComponent.prototype.importFormCollection=function(){var e=this,t=new h.a("Import FormCollection","FormCollection"),n=new o.b(t,void 0,h.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(h.b,r).result.then(function(t){e.customFormsService.importFormCollection(t.file,t.id).subscribe(function(t){e.initFormCollList()})},function(){})},CustomFormConfigComponent.prototype.initCustomFormList=function(){var e=this;this.customFormsService.getAllCustomForms().subscribe(function(t){e.customFormList=t,e.selectedCustomForm=null})},CustomFormConfigComponent.prototype.selectCustomForm=function(e){this.selectedCustomForm==e?this.selectedCustomForm=null:this.selectedCustomForm=e},CustomFormConfigComponent.prototype.createCustomForm=function(){for(var e=this,t=[],n=0;n<this.customFormList.length;n++)t.push(this.customFormList[n].getId());var r=new d.a(null,t),i=new o.b(r,void 0,d.a),a={context:i.size("lg").keyboard(27).toJSON()};return this.modal.open(d.b,a).result.then(function(t){return e.initCustomFormList()},function(){})},CustomFormConfigComponent.prototype.editCustomForm=function(){var e=new d.a(this.selectedCustomForm.getId(),[],this.selectedCustomForm.getLevel()==i.g.system),t=new o.b(e,void 0,d.a),n={context:t.size("lg").keyboard(27).toJSON()};return this.modal.open(d.b,n).result.then(function(e){},function(){})},CustomFormConfigComponent.prototype.cloneCustomForm=function(){var e=this;this.basicModals.promptPrefixed("Clone CustomForm",i.c.PREFIX,"ID",null,!1,!0,!0).then(function(t){for(var n=0;n<e.customFormList.length;n++)if(e.customFormList[n].getId()==t)return void e.basicModals.alert("Duplicated ID","A CustomForm with ID "+t+" already exists","error");e.customFormsService.cloneCustomForm(e.selectedCustomForm.getId(),t).subscribe(function(t){e.initCustomFormList()})},function(){})},CustomFormConfigComponent.prototype.deleteCustomForm=function(){var e=this;this.customFormsService.isFormLinkedToCollection(this.selectedCustomForm.getId()).subscribe(function(t){t?e.basicModals.confirmCheck("Delete CustomForm","You are deleting a CustomForm that belongs to one or more FormCollection(s). Are you sure?","Delete also FormCollection(s) left empty","error").then(function(t){e.customFormsService.deleteCustomForm(e.selectedCustomForm.getId(),t).subscribe(function(n){t&&(e.initCFConfMap(),e.initFormCollList()),e.initCustomFormList()})},function(){}):e.basicModals.confirm("Delete CustomForm","You are deleting CustomForm "+e.selectedCustomForm.getId()+". Are you sure?","warning").then(function(t){e.customFormsService.deleteCustomForm(e.selectedCustomForm.getId()).subscribe(function(t){e.initCustomFormList()})},function(){})})},CustomFormConfigComponent.prototype.exportCustomForm=function(){var e=this;this.customFormsService.exportCustomForm(this.selectedCustomForm.getId()).subscribe(function(t){var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Export FormCollection",null,n,e.selectedCustomForm.getId()+".xml")})},CustomFormConfigComponent.prototype.importCustomForm=function(){var e=this,t=new h.a("Import CustomForm","CustomForm"),n=new o.b(t,void 0,h.a),r={context:n.keyboard(27).toJSON()};this.modal.open(h.b,r).result.then(function(t){e.customFormsService.importCustomForm(t.file,t.id).subscribe(function(t){e.initCustomFormList()})},function(){})},CustomFormConfigComponent.prototype.isCreateMappingAuthorized=function(){return s.a.isAuthorized(l.a.customFormCreateFormMapping)},CustomFormConfigComponent.prototype.isDeleteMappingAuthorized=function(){return s.a.isAuthorized(l.a.customFormDeleteFormMapping)},CustomFormConfigComponent.prototype.isUpdateMappingAuthorized=function(){return s.a.isAuthorized(l.a.customFormUpdateFormMapping)},CustomFormConfigComponent.prototype.isCreateFormAuthorized=function(){return s.a.isAuthorized(l.a.customFormCreateForm)},CustomFormConfigComponent.prototype.isDeleteFormAuthorized=function(){return s.a.isAuthorized(l.a.customFormDeleteForm)},CustomFormConfigComponent.prototype.isUpdateFormAuthorized=function(){return s.a.isAuthorized(l.a.customFormUpdateForm)},CustomFormConfigComponent.prototype.isCreateCollectionAuthorized=function(){return s.a.isAuthorized(l.a.customFormCreateCollection)},CustomFormConfigComponent.prototype.isDeleteCollectionAuthorized=function(){return s.a.isAuthorized(l.a.customFormDeleteCollection)},CustomFormConfigComponent.prototype.isUpdateCollectionAuthorized=function(){return s.a.isAuthorized(l.a.customFormUpdateCollection)},CustomFormConfigComponent=g([n.i(r.c)({selector:"custom-form-conf-component",template:n(1805),host:{class:"pageComponent"}}),m("design:paramtypes",[a.a,c.a,o.c])],CustomFormConfigComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(5),i=n(16),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function BrokenCFStructReportModal(e,t){this.dialog=e,this.cfService=t,this.context=e.context}return BrokenCFStructReportModal.prototype.ngOnInit=function(){var e=this;this.cfService.getBrokenCustomForms().subscribe(function(t){e.brokenCFS=t})},BrokenCFStructReportModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close()},BrokenCFStructReportModal=a([n.i(r.c)({selector:"broken-cfs-report-modal",template:n(1806)}),s("design:paramtypes",[o.g,i.a])],BrokenCFStructReportModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return R});var r=n(0),o=n(5),i=n(4),a=n(47),s=n(16),l=n(12),c=n(17),p=n(7),d=n(20),u=n(310),f=n(2),h=n(14),g=n(13),m=n(450),v=n(454),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function CustomFormEditorModalData(t,n,r){void 0===n&&(n=[]),void 0===r&&(r=!1);var o=e.call(this)||this;return o.id=t,o.existingForms=n,o.readOnly=r,o}return b(CustomFormEditorModalData,e),CustomFormEditorModalData}(i.d),R=function(){function CustomFormEditorModal(e,t,n,r,o,i,s,l){this.dialog=e,this.browsingModals=t,this.basicModals=n,this.sharedModals=r,this.resourceService=o,this.cfService=i,this.modal=s,this.elementRef=l,this.namespaceLocked=!0,this.cfPrefix=a.c.PREFIX,this.descriptionTextareaRows=3,this.type="graph",this.showPropertyChain=[],this.submitted=!1,this.context=e.context}return CustomFormEditorModal.prototype.ngOnInit=function(){var e=this;void 0!=this.context.id?(this.mode=a.h.edit,this.cfService.getCustomForm(this.context.id).subscribe(function(t){e.cfId=t.getId(),e.cfPrefix=e.cfId.substring(0,e.cfId.lastIndexOf(".")+1),e.cfShortId=e.cfId.replace(e.cfPrefix,""),e.name=t.getName(),e.type=t.getType(),e.description=t.getDescription(),e.ref=t.getRef(),"graph"==e.type&&(e.showPropertyChain=t.getShowPropertyChain(),e.showPropertyChain.length>0&&e.initShowPropChain());var n=(e.description.match(/\n/g)||[]).length;e.descriptionTextareaRows=n+2},function(t){e.dialog.dismiss()})):this.mode=a.h.create,this.extractFromShaclAuthorized=c.a.isAuthorized(d.a.shaclExtractCF)},CustomFormEditorModal.prototype.ngAfterViewInit=function(){p.a.setFullSizeModal(this.elementRef)},CustomFormEditorModal.prototype.initShowPropChain=function(){var e=this;this.resourceService.getResourcesInfo(this.showPropertyChain).subscribe(function(t){for(var n=0;n<e.showPropertyChain.length;n++)t.forEach(function(t){e.showPropertyChain[n].getURI()==t.getURI()&&(e.showPropertyChain[n]=t)})})},CustomFormEditorModal.prototype.pickConverter=function(){var e=this;this.sharedModals.selectConverter("Pick a converter",null).then(function(t){e.viewChildCodemirror.insertAtCursor(t.projectionOperator)},function(){})},CustomFormEditorModal.prototype.inferAnnotations=function(){var e=this;this.cfService.validatePearl(this.ref,this.type).subscribe(function(t){if(!t.valid)return void e.basicModals.alert("Invalid PEARL","Cannot infer annotations on an invalid PEARL:\n"+t.details,"error");e.cfService.inferPearlAnnotations(e.ref).subscribe(function(t){e.openInferenceValidationModal(t).then(function(){e.ref=t},function(){})})})},CustomFormEditorModal.prototype.openInferenceValidationModal=function(e){var t=new v.a(this.ref,e),n=new i.b(t,void 0,v.a),r={context:n.keyboard(27).dialogClass("modal-dialog modal-xl").toJSON()};return this.modal.open(v.b,r).result},CustomFormEditorModal.prototype.extractFromShacl=function(){var e=this,t=new i.b,n={context:t.keyboard(27).toJSON()};this.modal.open(m.a,n).result.then(function(t){e.ref=t},function(){})},CustomFormEditorModal.prototype.unlockNamespace=function(){this.namespaceLocked=!this.namespaceLocked,this.namespaceLocked?this.fromIdToPrefixAndShortId():this.cfId=this.cfPrefix+(null!=this.cfShortId?this.cfShortId:"")},CustomFormEditorModal.prototype.fromIdToPrefixAndShortId=function(){var e=this.cfId.lastIndexOf(".");e>0?(this.cfPrefix=this.cfId.substring(0,e+1),this.cfShortId=this.cfId.substring(e+1)):this.cfShortId=null},CustomFormEditorModal.prototype.selectPropInChain=function(e){this.context.readOnly||(this.selectedPropInChain==e?this.selectedPropInChain=null:this.selectedPropInChain=e)},CustomFormEditorModal.prototype.addPropToChain=function(e){var t=this;this.browsingModals.browsePropertyTree("Add property").then(function(n){null==e?t.showPropertyChain.push(n):"before"==e?t.showPropertyChain.splice(t.showPropertyChain.indexOf(t.selectedPropInChain),0,n):"after"==e&&t.showPropertyChain.splice(t.showPropertyChain.indexOf(t.selectedPropInChain)+1,0,n)},function(){})},CustomFormEditorModal.prototype.disableMove=function(e){return null==this.selectedPropInChain||1==this.showPropertyChain.length||("after"==e&&this.showPropertyChain.indexOf(this.selectedPropInChain)==this.showPropertyChain.length||"before"==e&&0==this.showPropertyChain.indexOf(this.selectedPropInChain))},CustomFormEditorModal.prototype.movePropInChain=function(e){var t=this.showPropertyChain.indexOf(this.selectedPropInChain);this.showPropertyChain.splice(t,1),"before"==e?this.showPropertyChain.splice(t-1,0,this.selectedPropInChain):this.showPropertyChain.splice(t+1,0,this.selectedPropInChain)},CustomFormEditorModal.prototype.removePropFromChain=function(e){this.context.readOnly||(this.showPropertyChain.splice(this.showPropertyChain.indexOf(e),1),this.selectedPropInChain==e&&(this.selectedPropInChain=null))},CustomFormEditorModal.prototype.editPropChain=function(){for(var e=this,t="",n=0;n<this.showPropertyChain.length;n++)t+=this.showPropertyChain[n].getURI()+",";t.length>0&&(t=t.slice(0,-1)),this.basicModals.prompt("Edit property chain",null,"Write the chain as sequence of comma (,) separated IRIs (QNames are accepted as well)",t,!0).then(function(t){var n=String(t).trim();0!=n.length?e.cfService.validateShowPropertyChain(n).subscribe(function(t){e.showPropertyChain=t,e.initShowPropChain()}):e.showPropertyChain=[]},function(){})},CustomFormEditorModal.prototype.isDataValid=function(){var e=!0;return null!=this.name&&""!=this.name.trim()&&null!=this.ref&&""!=this.ref.trim()||(this.errorMsg="You need to fill all the mandatory field.",e=!1),null==this.cfId&&(null!=this.cfShortId&&this.cfShortId.match(/^[a-zA-Z0-9.]+$/i)||(this.errorMsg="The CustomForm ID is not valid (it may be empty or contain invalid characters). Please fix it.",e=!1),-1!=this.context.existingForms.indexOf(this.cfPrefix+this.cfShortId)&&(this.errorMsg="A CustomForm with the same ID already exists",e=!1)),e},CustomFormEditorModal.prototype.ok=function(e){var t=this;this.submitted=!0,this.isDataValid()&&this.cfService.validatePearl(this.ref,this.type).subscribe(function(n){if(!n.valid)return void t.basicModals.alert("Invalid PEARL",n.details,"error");null==t.description&&(t.description=""),t.mode==a.h.edit?"node"==t.type?t.cfService.updateCustomForm(t.cfId,t.name,t.description,t.ref).subscribe(function(n){e.stopPropagation(),t.dialog.close()}):t.cfService.updateCustomForm(t.cfId,t.name,t.description,t.ref,t.showPropertyChain).subscribe(function(n){e.stopPropagation(),t.dialog.close()}):t.cfService.createCustomForm(t.type,t.cfPrefix+t.cfShortId,t.name,t.description,t.ref,t.showPropertyChain).subscribe(function(n){e.stopPropagation(),t.dialog.close()})})},CustomFormEditorModal.prototype.cancel=function(){this.dialog.dismiss()},y([n.i(r.F)(u.a),x("design:type",u.a)],CustomFormEditorModal.prototype,"viewChildCodemirror",void 0),CustomFormEditorModal=y([n.i(r.c)({selector:"custom-form-editor-modal",template:n(1807),styles:["\n        .entryRow { margin-bottom: 4px; }\n        .entryLabel { min-width: 130px; width: 130px; margin-right: 4px; white-space: nowrap; }\n        .optionalCell { min-width: 10px; width: 10px; margin-left: 4px; }\n    "]}),x("design:paramtypes",[o.g,h.a,f.a,g.a,l.a,s.a,o.l,r.e])],CustomFormEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(136),a=n(238),s=n(6),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function ExtractFromShaclModal(e,t,n){this.dialog=e,this.shaclService=t,this.inOutService=n,this.sourceGraph="From SHACL shapes graph",this.sourceUrl="From SHACL shape URL",this.sourceFile="From SHACL shape file",this.context=e.context}return ExtractFromShaclModal.prototype.ngOnInit=function(){var e=this;this.inOutService.getInputRDFFormats().subscribe(function(t){e.inputFormats=t,e.filePickerAccept=e.inputFormats.map(function(e){return"."+e.defaultFileExtension}).filter(function(e,t,n){return n.indexOf(e)==t}).join(",")}),s.a.getWorkingProject().isShaclEnabled()?this.sources=[this.sourceGraph,this.sourceUrl,this.sourceFile]:this.sources=[this.sourceUrl,this.sourceFile]},ExtractFromShaclModal.prototype.fileChangeEvent=function(e){var t=this;this.shapeFile=e,this.inOutService.getParserFormatForFileName(this.shapeFile.name).subscribe(function(e){t.selectedInputFormat=t.inputFormats.find(function(t){return t.name==e})})},ExtractFromShaclModal.prototype.isOkEnabled=function(){return this.selectedSource==this.sourceFile?null!=this.cls&&null!=this.shapeFile:this.selectedSource==this.sourceGraph?null!=this.cls:this.selectedSource==this.sourceUrl&&(null!=this.cls&&null!=this.shapeUrl)},ExtractFromShaclModal.prototype.ok=function(){var e=this;this.selectedSource==this.sourceFile?this.shaclService.extractCFfromShapeFile(this.cls,this.shapeFile,this.selectedInputFormat).subscribe(function(t){e.dialog.close(t)}):this.selectedSource==this.sourceGraph?this.shaclService.extractCFfromShapesGraph(this.cls).subscribe(function(t){e.dialog.close(t)}):this.selectedSource==this.sourceUrl&&this.shaclService.extractCFfromShapeURL(this.cls,this.shapeUrl,this.selectedInputFormat).subscribe(function(t){e.dialog.close(t)})},ExtractFromShaclModal.prototype.cancel=function(){this.dialog.dismiss()},ExtractFromShaclModal=l([n.i(r.c)({selector:"extract-from-shacl-modal",template:n(1808)}),c("design:paramtypes",[o.g,a.a,i.a])],ExtractFromShaclModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(0),o=n(5),i=n(4),a=n(47),s=n(16),l=n(10),c=n(14),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function FormCollEditorModalData(t,n,r){void 0===n&&(n=[]),void 0===r&&(r=!1);var o=e.call(this)||this;return o.id=t,o.existingFormColl=n,o.readOnly=r,o}return p(FormCollEditorModalData,e),FormCollEditorModalData}(i.d),h=function(){function FormCollEditorModal(e,t,n){this.dialog=e,this.cfService=t,this.browsingModals=n,this.namespaceLocked=!0,this.fcPrefix=a.b.PREFIX,this.forms=[],this.formsAvailable=[],this.suggestions=[],this.submitted=!1,this.context=e.context}return FormCollEditorModal.prototype.ngOnInit=function(){var e=this;void 0!=this.context.id?(this.mode=a.h.edit,this.cfService.getFormCollection(this.context.id).subscribe(function(t){e.fcId=t.getId(),e.fcPrefix=e.fcId.substring(0,e.fcId.lastIndexOf(".")+1),e.fcShortId=e.fcId.replace(e.fcPrefix,""),e.forms=t.getForms(),e.suggestions=t.getSuggestions(),e.cfService.getAllCustomForms().subscribe(function(t){for(var n=0;n<t.length;n++){for(var r=!1,o=0;o<e.forms.length;o++)if(e.forms[o].getId()==t[n].getId()){r=!0;break}r||e.formsAvailable.push(t[n])}},function(t){e.dialog.dismiss()})},function(t){e.dialog.dismiss()})):(this.mode=a.h.create,this.cfService.getAllCustomForms().subscribe(function(t){e.formsAvailable=t},function(t){e.dialog.dismiss()}))},FormCollEditorModal.prototype.unlockNamespace=function(){this.namespaceLocked=!this.namespaceLocked,this.namespaceLocked?this.fromIdToPrefixAndShortId():this.fcId=this.fcPrefix+(null!=this.fcShortId?this.fcShortId:"")},FormCollEditorModal.prototype.fromIdToPrefixAndShortId=function(){var e=this.fcId.lastIndexOf(".");e>0?(this.fcPrefix=this.fcId.substring(0,e+1),this.fcShortId=this.fcId.substring(e+1)):this.fcShortId=null},FormCollEditorModal.prototype.selectForm=function(e){this.context.readOnly||(this.selectedForm==e?this.selectedForm=null:this.selectedForm=e)},FormCollEditorModal.prototype.selectFormAvailable=function(e){this.context.readOnly||(this.selectedFormAvailable==e?this.selectedFormAvailable=null:this.selectedFormAvailable=e)},FormCollEditorModal.prototype.addForm=function(){this.forms.push(this.selectedFormAvailable),this.formsAvailable.splice(this.formsAvailable.indexOf(this.selectedFormAvailable),1),this.selectedFormAvailable=null},FormCollEditorModal.prototype.removeForm=function(){this.forms.splice(this.forms.indexOf(this.selectedForm),1),this.formsAvailable.push(this.selectedForm),this.selectedForm=null},FormCollEditorModal.prototype.isFormAlreadyInCollection=function(e){for(var t=0;t<this.forms.length;t++)return this.forms[t].getId(),e.getId(),!0;return!1},FormCollEditorModal.prototype.selectSuggestion=function(e){this.context.readOnly||(this.selectedSuggestion==e?this.selectedSuggestion=null:this.selectedSuggestion=e)},FormCollEditorModal.prototype.addSuggestionClass=function(){var e=this;this.browsingModals.browseClassTree("Add class as suggestion").then(function(t){l.a.containsNode(e.suggestions,t)||e.suggestions.push(t)})},FormCollEditorModal.prototype.addSuggestionProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Add property as suggestion").then(function(t){l.a.containsNode(e.suggestions,t)||e.suggestions.push(t)})},FormCollEditorModal.prototype.removeSuggestion=function(){this.suggestions.splice(this.suggestions.indexOf(this.selectedSuggestion),1)},FormCollEditorModal.prototype.isDataValid=function(){var e=!0;return 0==this.forms.length&&(e=!1,this.errorMsg="The FormCollection list is empty. Please add at least one CustomForm."),null==this.fcId&&(null==this.fcShortId?(e=!1,this.errorMsg="The FormCollection ID is empty"):this.fcShortId.match(/^[a-zA-Z0-9]+$/i)||(this.errorMsg="The FormCollection ID is invalid (it may be empty or contain invalid characters). Please fix it.",e=!1),-1!=this.context.existingFormColl.indexOf(this.fcPrefix+this.fcShortId)&&(this.errorMsg="A FormCollection with the same ID already exists",e=!1)),e},FormCollEditorModal.prototype.ok=function(e){var t=this;if(this.submitted=!0,this.isDataValid()){var n=[];this.forms.forEach(function(e){return n.push(e.getId())}),this.mode==a.h.edit?this.cfService.updateFromCollection(this.fcId,n,this.suggestions).subscribe(function(n){e.stopPropagation(),t.dialog.close()}):this.cfService.createFormCollection(this.fcPrefix+this.fcShortId).subscribe(function(r){t.cfService.updateFromCollection(t.fcPrefix+t.fcShortId,n,t.suggestions).subscribe(function(n){e.stopPropagation(),t.dialog.close()})})}},FormCollEditorModal.prototype.cancel=function(){this.dialog.dismiss()},FormCollEditorModal=d([n.i(r.c)({selector:"form-coll-editor-modal",template:n(1809)}),u("design:paramtypes",[o.g,s.a,c.a])],FormCollEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(5),i=n(3),a=n(11),s=n(16),l=n(10),c=n(2),p=n(14),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function FormCollMappingModal(e,t,n,r){this.dialog=e,this.cfService=t,this.basicModals=n,this.browsingModals=r,this.context=e.context}return FormCollMappingModal.prototype.ngOnInit=function(){var e=this;this.cfService.getAllFormCollections().subscribe(function(t){e.formCollectionList=t})},FormCollMappingModal.prototype.selectSuggested=function(){var e=this;this.cfService.getFormCollection(this.selectedFormColl.getId()).subscribe(function(t){var n=t.getSuggestions();0==n.length?e.basicModals.alert("Suggested resources","No classes/properties suggested for the FormCollection "+t.getId(),"warning"):e.basicModals.selectResource("Suggested resources",null,n).then(function(t){e.selectedResourceIri=t.getURI()},function(){})})},FormCollMappingModal.prototype.selectProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Select a property").then(function(t){e.selectedResourceIri=t.getURI()},function(){})},FormCollMappingModal.prototype.selectClass=function(){var e=this;this.browsingModals.browseClassTree("Select a class",[a.i.property,a.c.class,a.c.thing]).then(function(t){e.selectedResourceIri=t.getURI()},function(){})},FormCollMappingModal.prototype.selectFormColl=function(e){this.selectedFormColl=e},FormCollMappingModal.prototype.ok=function(){if(this.selectedResourceIri=this.selectedResourceIri.trim(),!l.a.testIRI(this.selectedResourceIri))return void this.basicModals.alert("Invalid IRI","The provided resource IRI is not valid","warning");this.dialog.close({resource:new i.b(this.selectedResourceIri),formCollection:this.selectedFormColl.getId()})},FormCollMappingModal.prototype.cancel=function(){this.dialog.dismiss()},FormCollMappingModal=d([n.i(r.c)({selector:"form-coll-mapping-modal",template:n(1810)}),u("design:paramtypes",[o.g,s.a,c.a,p.a])],FormCollMappingModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(4),i=n(5),a=n(47),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ImportCfModalData(t,n){void 0===t&&(t="Modal Title");var r=e.call(this)||this;return r.title=t,r.type=n,r}return s(ImportCfModalData,e),ImportCfModalData}(o.d),d=function(){function ImportCfModal(e){this.dialog=e,this.useImportedId=!0,this.context=e.context}return ImportCfModal.prototype.ngOnInit=function(){"CustomForm"==this.context.type?this.prefix=a.c.PREFIX:this.prefix=a.b.PREFIX},ImportCfModal.prototype.fileChangeEvent=function(e){this.file=e},ImportCfModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.useImportedId?this.dialog.close({file:this.file,id:null}):this.dialog.close({file:this.file,id:this.prefix+this.shortId})},ImportCfModal.prototype.cancel=function(){this.dialog.dismiss()},ImportCfModal.prototype.isInputValid=function(){return null!=this.file&&(!!this.useImportedId||void 0!=this.shortId&&""!=this.shortId.trim())},ImportCfModal=l([n.i(r.c)({selector:"import-cf-modal",template:n(1811)}),c("design:paramtypes",[i.g])],ImportCfModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(16),s=n(2),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function PearlInferenceValidationModalData(t,n){var r=e.call(this)||this;return r.oldPearl=t,r.newPearl=n,r}return l(PearlInferenceValidationModalData,e),PearlInferenceValidationModalData}(i.d),u=function(){function PearlInferenceValidationModal(e,t,n){this.dialog=e,this.cfService=t,this.basicModals=n,this.context=e.context}return PearlInferenceValidationModal.prototype.ngOnInit=function(){this.newPearl=this.context.newPearl},PearlInferenceValidationModal.prototype.ok=function(){var e=this;this.cfService.validatePearl(this.newPearl,"graph").subscribe(function(t){if(!t.valid)return void e.basicModals.alert("Invalid PEARL",t.details,"error");e.dialog.close(e.newPearl)})},PearlInferenceValidationModal.prototype.cancel=function(){this.dialog.dismiss()},PearlInferenceValidationModal=c([n.i(r.c)({selector:"pearl-inference-modal",template:n(1812)}),p("design:paramtypes",[o.g,a.a,s.a])],PearlInferenceValidationModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(17),i=n(20),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function CustomServiceRouterComponent(){}return CustomServiceRouterComponent.prototype.ngOnInit=function(){this.csAuthorized=o.a.isAuthorized(i.a.customServiceRead),this.reporterAuthorized=o.a.isAuthorized(i.a.invokableReporterRead),this.csAuthorized?this.currentRoute="customService":this.currentRoute="reporter"},CustomServiceRouterComponent=a([n.i(r.c)({selector:"custom-services-router",template:n(1813),host:{class:"pageComponent"}}),s("design:paramtypes",[])],CustomServiceRouterComponent)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return f});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(66),l=n(2),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function AuthorizationHelperModalData(t,n){var r=e.call(this)||this;return r.authorization=t,r.parameters=n,r}return c(AuthorizationHelperModalData,e),AuthorizationHelperModalData}(i.d),f=function(){function AuthorizationHelperModal(e,t){this.dialog=e,this.basicModals=t,this.areas=[{value:"rdf",label:"RDF",description:"Editing of content data"}],this.selectedArea=this.areas[0],this.typeRestrictionNone="None",this.typeRestrictionType="Restrict to a specific type",this.typeRestrictionParam="Restrict to the type of a parameter",this.typeRestrictions=[this.typeRestrictionNone,this.typeRestrictionType,this.typeRestrictionParam],this.selectedTypeRestriction=this.typeRestrictionNone,this.roles=[a.c.annotationProperty,a.c.cls,a.c.concept,a.c.conceptScheme,a.c.dataRange,a.c.datatypeProperty,a.c.individual,a.c.limeLexicon,a.c.objectProperty,a.c.ontolexForm,a.c.ontolexLexicalEntry,a.c.ontolexLexicalSense,a.c.ontology,a.c.ontologyProperty,a.c.property,a.c.skosCollection,a.c.skosOrderedCollection,a.c.xLabel],this.langRequirementNone="None",this.langRequirementLang="Require a specific language",this.langRequirementParam="Require the language of a parameter",this.langRequirements=[this.langRequirementNone,this.langRequirementLang,this.langRequirementParam],this.selectedLangRequirement=this.langRequirementNone,this.crudvStruct=[{value:"C",label:"Create",checked:!1},{value:"R",label:"Read",checked:!1},{value:"U",label:"Update",checked:!1},{value:"D",label:"Delete",checked:!1},{value:"V",label:"Validate",checked:!1}],this.scopePattern="[a-zA-Z]+",this.context=e.context}return AuthorizationHelperModal.prototype.ngOnInit=function(){if(this.languages=s.a.getSystemLanguages(),this.context.authorization){var e=this.context.authorization,t="("+this.roles.join("|")+")",n="(?:(?:@typeof\\(#([a-zA-Z0-9_]+)\\))|"+t+")",r="(?:,\\s*("+this.scopePattern+"))?",o="(?:\\("+n+r+"\\))?",i="rdf"+o,a="^"+i+"(?:,\\s*{\\s*lang:\\s*(?:(?:@langof\\(#([a-zA-Z0-9_]+)\\))|([a-zA-Z-]+))\\s*})?(?:,\\s*([CRUDV]+))$",l=e.match(a);if(null==l)this.basicModals.alert("Operation authorization","Unable to parse authorization you're trying to edit ("+this.context.authorization+"). The form has not been restored.","warning");else{null!=l[1]?(this.selectedTypeRestriction=this.typeRestrictionParam,null!=this.context.parameters&&(this.selectedParamType=this.context.parameters.find(function(e){return e==l[1]}))):null!=l[2]?(this.selectedTypeRestriction=this.typeRestrictionType,this.selectedType=this.roles.find(function(e){return e==l[2]})):this.selectedTypeRestriction=this.typeRestrictionNone,null!=l[3]&&(this.scope=l[3]),null!=l[4]?(this.selectedLangRequirement=this.langRequirementParam,null!=this.context.parameters&&(this.selectedParamLang=this.context.parameters.find(function(e){return e==l[4]}))):null!=l[5]?(this.selectedLangRequirement=this.langRequirementLang,this.selectedLang=this.languages.find(function(e){return e.tag==l[5]})):this.selectedLangRequirement=this.langRequirementNone;var c=l[6];this.crudvStruct.forEach(function(e){e.checked=-1!=c.toUpperCase().indexOf(e.value)})}}this.update()},AuthorizationHelperModal.prototype.update=function(){this.updateSerialization(),this.updateAuthValid()},AuthorizationHelperModal.prototype.updateSerialization=function(){this.authSerialization=this.selectedArea.value,this.selectedTypeRestriction!=this.typeRestrictionNone&&(this.authSerialization+="(",this.selectedTypeRestriction==this.typeRestrictionParam?(this.authSerialization+="@typeof(",null!=this.selectedParamType?this.authSerialization+="#"+this.selectedParamType:this.authSerialization+="?",this.authSerialization+=")"):this.selectedTypeRestriction==this.typeRestrictionType&&(null!=this.selectedType?this.authSerialization+=this.selectedType:this.authSerialization+="?"),null!=this.scope&&""!=this.scope.trim()&&(this.authSerialization+=","+this.scope),this.authSerialization+=")"),this.selectedLangRequirement!=this.langRequirementNone&&(this.authSerialization+=", { lang: ",this.selectedLangRequirement==this.langRequirementParam?(this.authSerialization+="@langof(",null!=this.selectedParamLang?this.authSerialization+="#"+this.selectedParamLang:this.authSerialization+="?",this.authSerialization+=")"):this.selectedLangRequirement==this.langRequirementLang&&(null!=this.selectedLang?this.authSerialization+=this.selectedLang.tag:this.authSerialization+="?"),this.authSerialization+=" }");var e="";this.crudvStruct.forEach(function(t){t.checked&&(e+=t.value)}),""==e&&(e="?"),this.authSerialization+=", "+e},AuthorizationHelperModal.prototype.updateAuthValid=function(){var e=[];this.selectedTypeRestriction==this.typeRestrictionParam&&null==this.selectedParamType?e.push("A parameter for the type restriction has not been selected"):this.selectedTypeRestriction==this.typeRestrictionType&&null==this.selectedType&&e.push("A type for the type restriction has not been selected"),(this.selectedTypeRestriction!=this.typeRestrictionNone&&null!=this.selectedParamType||null!=this.selectedType)&&null!=this.scope&&""!=this.scope.trim()&&(new RegExp("^"+this.scopePattern+"$").test(this.scope)||e.push("Provided scope value is invalid")),this.selectedLangRequirement==this.langRequirementParam&&null==this.selectedParamLang?e.push("A parameter for the language requirement has not been selected"):this.selectedLangRequirement==this.langRequirementLang&&null==this.selectedLang&&e.push("A language for the language requirement has not been selected"),this.crudvStruct.some(function(e){return e.checked})||e.push("No operation has been selected from the CRUDV"),e.length>0?this.authValidStruct={valid:!1,errors:e.join("\n")}:this.authValidStruct={valid:!0}},AuthorizationHelperModal.prototype.ok=function(){this.authValidStruct.valid&&this.dialog.close(this.authSerialization)},AuthorizationHelperModal.prototype.cancel=function(){this.dialog.dismiss()},AuthorizationHelperModal=p([n.i(r.c)({selector:"auth-helper-modal",template:n(1817)}),d("design:paramtypes",[o.g,l.a])],AuthorizationHelperModal)}();!function(){function AreaStruct(){}}()},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(182),s=n(159),l=n(2),c=n(456),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=n(227),h=function(e){function CustomOperationEditorModalData(t,n,r){void 0===t&&(t="Modal Title");var o=e.call(this)||this;return o.title=t,o.customServiceId=n,o.operation=r,o}return p(CustomOperationEditorModalData,e),CustomOperationEditorModalData}(i.d),g=function(){function CustomOperationEditorModal(e,t,n,r){this.customServService=e,this.basicModals=t,this.dialog=n,this.modal=r,this.queryValid=!0,this.context=n.context}return CustomOperationEditorModal.prototype.ngOnInit=function(){var e=this;this.customServService.getOperationForms().subscribe(function(t){e.customOperations=t,null!=e.context.operation?e.restoreOperation(e.context.operation):1==e.customOperations.length&&(e.selectedCustomOperation=e.customOperations[0],e.onOperationChanged())})},CustomOperationEditorModal.prototype.restoreOperation=function(e){var t=this;this.selectedCustomOperation=this.customOperations.find(function(t){return t.type==e["@type"]}),this.onOperationChanged(),Object.keys(e).forEach(function(n){null!=t.form[n]&&(t.form[n].value=JSON.parse(JSON.stringify(e[n])))}),this.updateReturnsPrettyPrint()},CustomOperationEditorModal.prototype.onOperationChanged=function(){var e=this;this.form={},this.selectedCustomOperation.properties.forEach(function(t){var n={name:t.name,displayName:t.displayName,description:t.description,required:t.required,value:t.value};e.form[t.name]=n}),setTimeout(function(){var e=f('[data-toggle="popover"]');if(null!=e){e.popover({title:"SPQARL Custom Service istructions",content:'\n                <p>\n                    The parameters are mapped to variables with the same name in the SPARQL query. \n                    Actual parameters passed to a service upon invocation are pre-bound to the corresponding variable in the SPARQL query.\n                    A reserved variable is <span style="font-family: monospace">workingGraph</span>,\n                    which is bound by default to the working graph of the project.\n                </p>\n                <p>The allowed parameter types are:</p>\n                <ul>\n                    <li><span style="font-family: monospace">boolean</span></li>\n                    <li><span style="font-family: monospace">integer</span></li>\n                    <li><span style="font-family: monospace">short</span></li>\n                    <li><span style="font-family: monospace">long</span></li>\n                    <li><span style="font-family: monospace">float</span></li>\n                    <li><span style="font-family: monospace">double</span></li>\n                    <li><span style="font-family: monospace">java.lang.String</span></li>\n                    <li><span style="font-family: monospace">BNode</span></li>\n                    <li><span style="font-family: monospace">IRI</span></li>\n                    <li><span style="font-family: monospace">Literal</span></li>\n                    <li><span style="font-family: monospace">Resource</span></li>\n                    <li><span style="font-family: monospace">Value</span></li>\n                </ul>\n                <p>The allowed return type depends on the actual SPARQL operation:</p>\n                <ul>\n                    <li>Udpate => <span style="font-family: monospace;">void</span></li>\n                    <li>ASK => <span style="font-family: monospace;">boolean</span></li>\n                    <li>SELECT => \n                        <span style="font-family: monospace;">List&lt;T&gt;</span>, where <span style="font-family: monospace;">T</span>\n                        <ul>\n                            <li>might be any of the above accepted parameter types (in this case the SELECT must return one variable)</li>\n                            <li>be <span style="font-family: monospace;">AnnotatedValue&lt;S&gt;</span> where <span style="font-family: monospace;">S</span> might be:\n                                <ul>\n                                    <li><span style="font-family: monospace;">BNode</span></li>\n                                    <li><span style="font-family: monospace;">IRI</span></li>\n                                    <li><span style="font-family: monospace;">Resource</span></li>\n                                </ul>\n                                (in this case the SELECT must return one variable plus additional variables <span style="font-family: monospace;">?attr_...</span> for additional attibutes)\n                            </li>\n                        </ul>\n                    </li>\n                </ul>',html:!0,placement:"left"})}})},CustomOperationEditorModal.prototype.authorizationHelper=function(){var e=this,t=[],n=this.form.parameters.value;null!=n&&(t=n.map(function(e){return e.name}));var r=this.form.authorization.value;null!=r&&""==r.trim()&&(r=null);var o=new c.b(r,t),a=new i.b(o,void 0,c.b),s={context:a.keyboard(27).toJSON()};return this.modal.open(c.a,s).result.then(function(t){e.form.authorization.value=t})},CustomOperationEditorModal.prototype.addParameter=function(){var e=this.form.parameters.value;null==e&&(e=[]),e.push({name:null,required:!1,type:null}),this.form.parameters.value=e},CustomOperationEditorModal.prototype.removeParameter=function(e){var t=this.form.parameters.value;t.splice(t.indexOf(e),1)},CustomOperationEditorModal.prototype.updateReturnsPrettyPrint=function(){null!=this.form.returns&&null!=this.form.returns.value&&(this.returnsPrettyPrint=a.b.serializeType(this.form.returns.value))},CustomOperationEditorModal.prototype.onQueryChange=function(e){this.form.sparql.value=e.query,this.queryValid=e.valid},CustomOperationEditorModal.prototype.ok=function(){var e=this;for(var t in this.form){var n=this.form[t];if(n.required&&(null==n.value||"string"==typeof n.value&&""==n.value.trim()||n.value instanceof Array&&0==n.value.length))return void this.basicModals.alert("Invalid data","The required field "+t+" is missing","warning");var r=new RegExp("^[a-zA-Z_$][a-zA-Z_$0-9]*$");if("name"==t&&!r.test(n.value))return void this.basicModals.alert("Invalid data","The name "+n.value+" is not valid","warning");if("returns"==t){var o=n.value;if(!a.b.isOperationTypeValid(o))return void this.basicModals.alert("Invalid data","The provided Returns type is not valid","warning")}if("parameters"==t){var i=n.value;if(null!=i)for(var s=0,l=i;s<l.length;s++){var c=l[s];if(null==c.name)return void this.basicModals.alert("Invalid data","A provided parameter has an empty name","warning");if(!r.test(c.name))return void this.basicModals.alert("Invalid data","The parameter name "+c.name+" is not valid","warning");if(!a.b.isOperationTypeValid(c.type))return void this.basicModals.alert("Invalid data","The type of the parameter "+c.name+" is not valid","warning")}}if("sparql"==t&&!this.queryValid)return void this.basicModals.alert("Invalid data","The provided SPARQL query is not valid","warning")}var p={"@type":this.selectedCustomOperation.type,name:this.form.name.value,returns:this.form.returns.value,parameters:this.form.parameters.value};if(null!=this.form.authorization.value&&""!=this.form.authorization.value.trim()&&(p.authorization=this.form.authorization.value),p["@type"]==a.c.SparqlOperation&&(p.sparql=this.form.sparql.value),null!=this.context.operation){p.serviceId=this.context.customServiceId;var d=!1,u=Object.keys(this.context.operation).sort(),f=Object.keys(p).sort();if(!(d=JSON.stringify(u)!=JSON.stringify(f)))for(var h=0,g=u;h<g.length;h++){var m=g[h];JSON.stringify(this.context.operation[m])!=JSON.stringify(p[m])&&(d=!0)}d?this.customServService.updateOperationInCustomService(this.context.customServiceId,p).subscribe(function(){e.dialog.close()}):this.cancel()}else this.customServService.addOperationToCustomService(this.context.customServiceId,p).subscribe(function(){e.dialog.close()})},CustomOperationEditorModal.prototype.cancel=function(){this.dialog.dismiss()},CustomOperationEditorModal=d([n.i(r.c)({selector:"custom-operation-editor-modal",template:n(1818),styles:[n(177)]}),u("design:paramtypes",[s.a,l.a,o.g,o.l])],CustomOperationEditorModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function CustomOperationModalData(t){var n=e.call(this)||this;return n.operation=t,n}return a(CustomOperationModalData,e),CustomOperationModalData}(i.d),p=function(){function CustomOperationModal(e){this.dialog=e,this.context=e.context}return CustomOperationModal.prototype.ngOnInit=function(){this.title=this.context.operation.name},CustomOperationModal.prototype.ok=function(){this.dialog.close()},CustomOperationModal=s([n.i(r.c)({selector:"custom-operation-modal",template:n(1819)}),l("design:paramtypes",[o.g])],CustomOperationModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(159),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function CustomServiceEditorModalData(t,n){void 0===t&&(t="Modal Title");var r=e.call(this)||this;return r.title=t,r.service=n,r}return s(CustomServiceEditorModalData,e),CustomServiceEditorModalData}(i.d),d=function(){function CustomServiceEditorModal(e,t){this.dialog=e,this.customServService=t,this.context=e.context}return CustomServiceEditorModal.prototype.ngOnInit=function(){null!=this.context.service&&(this.id=this.context.service.id,this.name=this.context.service.getPropertyValue("name"),this.description=this.context.service.getPropertyValue("description"))},CustomServiceEditorModal.prototype.isDataValid=function(){return this.id&&""!=this.id.trim()&&this.name&&""!=this.name.trim()},CustomServiceEditorModal.prototype.ok=function(){var e=this;if(this.isDataValid())if(this.context.service){var t=this.context.service.getPropertyValue("name"),n=this.context.service.getPropertyValue("description");if(t!=this.name||n!=this.description){var r=this.context.service.getPropertyValue("operations"),o={name:this.name,description:this.description,operations:r};this.customServService.updateCustomService(this.context.service.id,o).subscribe(function(){e.dialog.close()})}else this.cancel()}else{var i={name:this.name,description:this.description};this.customServService.createCustomService(this.id.trim(),i).subscribe(function(){e.dialog.close()})}},CustomServiceEditorModal.prototype.cancel=function(){this.dialog.dismiss()},CustomServiceEditorModal=l([n.i(r.c)({selector:"custom-service-editor-modal",template:n(1820)}),c("design:paramtypes",[o.g,a.a])],CustomServiceEditorModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(45),s=n(42),l=n(93),c=n(186),p=n(2),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function InvokableReporterEditorModalData(t,n,r){void 0===t&&(t="Modal Title");var o=e.call(this)||this;return o.title=t,o.existingReporters=n,o.reporterRef=r,o}return d(InvokableReporterEditorModalData,e),InvokableReporterEditorModalData}(i.d),g=function(){function InvokableReporterEditorModal(e,t,n,r){this.dialog=e,this.configurationServices=t,this.invokableReporterService=n,this.basicModals=r,this.context=e.context}return InvokableReporterEditorModal.prototype.ngOnInit=function(){var e=this;null==this.context.reporterRef?(this.invokableReporterService.getInvokableReporterForm().subscribe(function(t){e.form={label:t.getProperty("label"),description:t.getProperty("description"),sections:t.getProperty("sections"),template:t.getProperty("template"),mimeType:t.getProperty("mimeType")},e.form.mimeType.value="text/html"}),this.configurationServices.getConfigurationManager(a.c.INVOKABLE_REPORER_STORE).subscribe(function(t){e.scopes=t.configurationScopes,e.selectedScope=t.scope})):(this.id=this.context.reporterRef.identifier,this.invokableReporterService.getInvokableReporter(this.context.reporterRef.relativeReference).subscribe(function(t){e.form={label:t.getProperty("label"),description:t.getProperty("description"),sections:t.getProperty("sections"),template:t.getProperty("template"),mimeType:t.getProperty("mimeType")}}))},InvokableReporterEditorModal.prototype.isDataValid=function(){if(null==this.id||""==this.id.trim())return!1;for(var e in this.form){if(this.form[e].requireConfiguration())return!1}return!0},InvokableReporterEditorModal.prototype.ok=function(){var e=this;if(this.isDataValid()){var t={label:this.form.label.value,description:this.form.description.value,template:this.form.template.value,mimeType:this.form.mimeType.value};if(null==this.context.reporterRef){var n=s.e.serializeScope(this.selectedScope)+":"+this.id;if(this.context.existingReporters.some(function(e){return e.relativeReference==n}))return void this.basicModals.alert("Already existing Reporter","An Invokable Reporter with the same id already exists. Please change the ID and retry","warning");this.invokableReporterService.createInvokableReporter(n,t).subscribe(function(){e.dialog.close()})}else this.invokableReporterService.updateInvokableReporter(this.context.reporterRef.relativeReference,t).subscribe(function(){e.dialog.close()})}},InvokableReporterEditorModal.prototype.cancel=function(){this.dialog.dismiss()},InvokableReporterEditorModal=u([n.i(r.c)({selector:"invokable-reporter-editor-modal",template:n(1824)}),f("design:paramtypes",[o.g,l.a,c.a,p.a])],InvokableReporterEditorModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ReportResultModalData(t){var n=e.call(this)||this;return n.report=t,n}return a(ReportResultModalData,e),ReportResultModalData}(i.d),p=function(){function ReportResultModal(e){this.dialog=e,this.jsonStringify=JSON.stringify,this.objectKeys=Object.keys,this.context=e.context}return ReportResultModal.prototype.ngOnInit=function(){this.sections=this.context.report.sections},ReportResultModal.prototype.ok=function(){this.dialog.close()},ReportResultModal=s([n.i(r.c)({selector:"report-modal",template:n(1825)}),l("design:paramtypes",[o.g])],ReportResultModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(182)),l=n(159),c=n(186),p=n(7),d=n(2),u=n(179),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function ServiceInvocationEditorModalData(t,n,r){void 0===t&&(t="Modal Title");var o=e.call(this)||this;return o.title=t,o.invokableReporterRef=n,o.serviceInvocation=r,o}return f(ServiceInvocationEditorModalData,e),ServiceInvocationEditorModalData}(i.d),v=function(){function ServiceInvocationEditorModal(e,t,n,r,o,i){this.customServService=e,this.invokableReporterService=t,this.basicModals=n,this.customServiceModals=r,this.dialog=o,this.elementRef=i,this.context=o.context}return ServiceInvocationEditorModal.prototype.ngOnInit=function(){var e=this;this.customServService.getCustomServiceIdentifiers().subscribe(function(t){if(e.customServiceIds=t,null!=e.context.serviceInvocation){var n=e.context.serviceInvocation.def;e.label=n.label,e.description=n.description,e.template=n.template,e.customServService.getCustomServiceId(n.service).subscribe(function(t){e.selectService(t).subscribe(function(){var t=e.selectedService.operations.find(function(e){return e.name==n.operation});e.selectOperation(t);for(var r in n.arguments)!function(t){var r=e.parameters.find(function(e){return e.param.name==t});null!=r&&(r.value=n.arguments[t])}(r)})})}})},ServiceInvocationEditorModal.prototype.ngAfterViewInit=function(){p.a.setFullSizeModal(this.elementRef)},ServiceInvocationEditorModal.prototype.selectService=function(e){return this.selectedServiceId!=e?(this.selectedServiceId=e,this.initCustomService(this.selectedServiceId)):a.Observable.of(null)},ServiceInvocationEditorModal.prototype.initCustomService=function(e){var t=this;return this.customServService.getCustomService(e).map(function(e){t.selectedService={name:e.getPropertyValue("name"),description:e.getPropertyValue("description"),operations:e.getPropertyValue("operations")},t.selectedOperation=null,t.parameters=null})},ServiceInvocationEditorModal.prototype.selectOperation=function(e){var t=this;this.selectedOperation!=e&&(this.selectedOperation=e,this.parameters=[],null!=this.selectedOperation.parameters&&this.selectedOperation.parameters.forEach(function(e){t.parameters.push({param:e,show:s.b.serializeParameter(e),value:null})}))},ServiceInvocationEditorModal.prototype.describeSelectedOperation=function(){this.customServiceModals.openCustomOperationView(this.selectedOperation)},ServiceInvocationEditorModal.prototype.isDataValid=function(){return null!=this.selectedOperation&&this.selectedOperation.returns.name!=s.b.Types.void},ServiceInvocationEditorModal.prototype.ok=function(){var e=this;if(null!=this.parameters)for(var t=0,n=this.parameters;t<n.length;t++){var r=n[t];if(r.param.required&&null==r.value||""==r.value.trim())return this.basicModals.alert("Service invocation","The required parameter '"+r.param.name+"' is missing","warning"),!1}var o={};this.parameters.forEach(function(e){return o[e.param.name]=e.value});var i={label:this.label,description:this.description,template:this.template,service:this.selectedService.name,operation:this.selectedOperation.name,arguments:o};null==this.dialog.context.serviceInvocation?this.invokableReporterService.addSectionToReporter(this.context.invokableReporterRef.relativeReference,i).subscribe(function(){e.dialog.close()}):this.invokableReporterService.updateSectionInReporter(this.context.invokableReporterRef.relativeReference,i,this.context.serviceInvocation.idx).subscribe(function(){e.dialog.close()})},ServiceInvocationEditorModal.prototype.cancel=function(){this.dialog.dismiss()},ServiceInvocationEditorModal=h([n.i(r.c)({selector:"service-invocation-editor-modal",template:n(1826),styles:[n(177)]}),g("design:paramtypes",[l.a,c.a,d.a,u.a,o.g,r.e])],ServiceInvocationEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(558),i=n(309),a=n(15),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function DataComponent(e){var t=this;this.eventHandler=e,this.eventSubscriptions=[],this.maxPanelSize=5,this.minPanelSize=1,this.treePanelFlex=this.minPanelSize,this.resViewPanelFlex=0,this.dragging=!1,this.eventSubscriptions.push(e.datatypeDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e)})),this.eventSubscriptions.push(e.classDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e)})),this.eventSubscriptions.push(e.collectionDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e)})),this.eventSubscriptions.push(e.conceptDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e)})),this.eventSubscriptions.push(e.instanceDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e.instance)})),this.eventSubscriptions.push(e.lexicalEntryDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e)})),this.eventSubscriptions.push(e.lexiconDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e)})),this.eventSubscriptions.push(e.propertyDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e)})),this.eventSubscriptions.push(e.schemeDeletedEvent.subscribe(function(e){return t.onNodeDeleted(e)}))}return DataComponent.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},DataComponent.prototype.onNodeSelected=function(e){var t=this;null!=e&&(0==this.resViewPanelFlex&&(this.resViewPanelFlex=this.maxPanelSize,this.treePanelFlex=2),setTimeout(function(){t.resViewPanelChild.selectResource(e)}))},DataComponent.prototype.onNodeDeleted=function(e){this.resViewPanelChild.deleteResource(e)},DataComponent.prototype.onMousedown=function(e){e.preventDefault(),this.dragging=!0,this.startMousedownX=e.clientX,this.onMousemove=this.draggingHandler},DataComponent.prototype.onMouseup=function(){this.dragging&&(this.onMousemove=function(e){},this.dragging=!1)},DataComponent.prototype.onMousemove=function(e){},DataComponent.prototype.draggingHandler=function(e){var t=e.clientX,n=this.startMousedownX-t,r=this.treePanelRef.nativeElement.offsetWidth,o=this.resViewPanelRef.nativeElement.offsetWidth;this.treePanelFlex=(r-n)/(o+n)*this.resViewPanelFlex,this.treePanelFlex>this.maxPanelSize?this.treePanelFlex=this.maxPanelSize:this.treePanelFlex<this.minPanelSize&&(this.treePanelFlex=this.minPanelSize),this.startMousedownX=e.clientX},DataComponent.prototype.onResViewEmpty=function(){this.resViewPanelFlex=0},DataComponent.prototype.onTabSelected=function(e){this.treePanelChild.syncResource(e)},s([n.i(r.F)(i.a),l("design:type",i.a)],DataComponent.prototype,"treePanelChild",void 0),s([n.i(r.F)(o.a),l("design:type",o.a)],DataComponent.prototype,"resViewPanelChild",void 0),s([n.i(r.F)("treePanel"),l("design:type",r.e)],DataComponent.prototype,"treePanelRef",void 0),s([n.i(r.F)("resViewPanel",{read:r.e}),l("design:type",r.e)],DataComponent.prototype,"resViewPanelRef",void 0),DataComponent=s([n.i(r.c)({selector:"data-component",template:n(1828),host:{class:"pageComponent","(mousemove)":"onMousemove($event)","(mouseup)":"onMouseup()","(mouseleave)":"onMouseup()"}}),l("design:paramtypes",[a.a])],DataComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ChangeMeasureModalData(t,n,r,o,i){void 0===r&&(r=0),void 0===o&&(o=1),void 0===i&&(i=.01);var a=e.call(this)||this;return a.title=t,a.value=n,a.min=r,a.max=o,a.step=i,a}return a(ChangeMeasureModalData,e),ChangeMeasureModalData}(o.d),p=function(){function ChangeMeasureModal(e){this.dialog=e,this.context=e.context}return ChangeMeasureModal.prototype.ngOnInit=function(){this.value=this.context.value,document.getElementById("toFocus").focus()},ChangeMeasureModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.value)},ChangeMeasureModal.prototype.cancel=function(){this.dialog.dismiss()},ChangeMeasureModal.prototype.isInputValid=function(){return"number"==typeof this.value&&this.value>=0&&this.value<=1},ChangeMeasureModal=s([n.i(r.c)({selector:"change-measure-modal",template:n(1829)}),l("design:paramtypes",[i.g])],ChangeMeasureModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(181)),l=n(3),c=n(60),p=n(11),d=n(235),u=n(54),f=n(12),h=n(309),g=n(8),m=n(6),v=n(21),b=n(2),y=n(13),x=n(464),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(){function EdoalComponent(e,t,n,r,o,i,a){this.edoalService=e,this.projectService=t,this.resourcesService=n,this.vbProp=r,this.basicModals=o,this.sharedModals=i,this.modal=a,this.contextInitialized=!1,this.leftHiddenTabs=[],this.rightHiddenTabs=[],this.leftSelectedResource=null,this.rightSelectedResource=null,this.relations=s.b.getDefaultRelations(),this.measure=1,this.page=0,this.pageSize=50}return EdoalComponent.prototype.ngOnInit=function(){this.initProjects()},EdoalComponent.prototype.initProjects=function(){var e=this;this.edoalService.getAlignedProjects().subscribe(function(t){var n=t[0],r=t[1],o=new c.f(n),i=new c.f(r),s=[e.projectService.getProjectInfo(n).map(function(t){o=t,e.leftHiddenTabs=e.initHiddenTabsOfProject(o)}),e.projectService.getProjectInfo(r).map(function(t){i=t,e.rightHiddenTabs=e.initHiddenTabsOfProject(i)})];a.Observable.forkJoin(s).subscribe(function(){e.leftProjCtx=new m.b(o);var t=[e.vbProp.initProjectUserBindings(e.leftProjCtx),e.vbProp.initUserProjectPreferences(e.leftProjCtx),e.vbProp.initProjectSettings(e.leftProjCtx)];e.rightProjCtx=new m.b(i);var n=[e.vbProp.initProjectUserBindings(e.rightProjCtx),e.vbProp.initUserProjectPreferences(e.rightProjCtx),e.vbProp.initProjectSettings(e.rightProjCtx)];a.Observable.forkJoin.apply(a.Observable,t.concat(n)).subscribe(function(){e.contextInitialized=!0,e.listAlignments()})})})},EdoalComponent.prototype.initHiddenTabsOfProject=function(e){var t=[];return e.getModelType()==p.b.uri?t.push(l.c.dataRange):e.getModelType()==p.c.uri?t.push(l.c.dataRange):e.getModelType()==p.d.uri?t.push.apply(t,[l.c.cls,l.c.skosCollection,l.c.property,l.c.dataRange]):e.getModelType()==p.f.uri&&t.push.apply(t,[l.c.cls,l.c.concept,l.c.conceptScheme,l.c.skosCollection,l.c.property,l.c.dataRange]),t},EdoalComponent.prototype.listAlignments=function(){var e=this;this.ensureExistingAlignment().subscribe(function(){var t=e.alignemnts[0].getAdditionalProperty("correspondences");e.totPage=Math.floor(t/e.pageSize),t%e.pageSize>0&&e.totPage++,e.listCorrespondences()})},EdoalComponent.prototype.ensureExistingAlignment=function(){var e=this;return this.edoalService.getAlignments().flatMap(function(t){return t.length>0?(e.alignemnts=t,a.Observable.of(null)):e.edoalService.createAlignment().flatMap(function(t){return e.edoalService.getAlignments().map(function(t){e.alignemnts=t})})})},EdoalComponent.prototype.listCorrespondences=function(){var e=this;this.edoalService.getCorrespondences(this.alignemnts[0],this.page,this.pageSize).subscribe(function(t){e.correspondences=t,e.renderCorrespondences(),e.selectedCorrespondence=null},function(t){t.name.endsWith("IndexingLanguageNotFound")&&e.basicModals.alert("Missing user language","No user language has been detected for the project '"+e.leftProjCtx.getProject().getName()+"'. The system will not be able to initialize the list of alignments.\nPlease access that project, then go to the user preferences and set a rendering language.","warning")})},EdoalComponent.prototype.renderCorrespondences=function(){var e=this,t=[],n=[];this.correspondences.forEach(function(e){t.push(e.leftEntity[0]),n.push(e.rightEntity[0])}),(t.length>0||n.length>0)&&(g.c.setContextProject(this.leftProjCtx.getProject()),this.resourcesService.getResourcesInfo(t).finally(function(){return g.c.removeContextProject()}).subscribe(function(t){t.forEach(function(t){e.correspondences.forEach(function(e){e.leftEntity[0].equals(t)&&(e.leftEntity[0]=t)})})}),g.c.setContextProject(this.rightProjCtx.getProject()),this.resourcesService.getResourcesInfo(n).finally(function(){return g.c.removeContextProject()}).subscribe(function(t){t.forEach(function(t){e.correspondences.forEach(function(e){e.rightEntity[0].equals(t)&&(e.rightEntity[0]=t)})})}))},EdoalComponent.prototype.selectCorrespondence=function(e){this.selectedCorrespondence==e?this.selectedCorrespondence=null:this.selectedCorrespondence=e},EdoalComponent.prototype.addCorrespondence=function(){var e=this;if(this.measure<0||this.measure>1)return void this.basicModals.alert("Invalid measure","The entered measure ("+this.measure+") is invalid, it must be between 0 and 1.","warning");this.edoalService.createCorrespondence(this.alignemnts[0],this.leftSelectedResource,this.rightSelectedResource,this.selectedRelation.relation,this.measure).subscribe(function(){e.selectedRelation=null,e.measure=1,e.listCorrespondences()})},EdoalComponent.prototype.deleteCorrespondece=function(){var e=this;this.edoalService.deleteCorrespondence(this.selectedCorrespondence.identity).subscribe(function(){e.listCorrespondences()})},EdoalComponent.prototype.syncCorrespondece=function(){this.leftTabset.syncResource(this.selectedCorrespondence.leftEntity[0],!0),this.rightTabset.syncResource(this.selectedCorrespondence.rightEntity[0],!0)},EdoalComponent.prototype.changeRelation=function(e,t){var n=this;this.edoalService.setRelation(e.identity,t.relation).subscribe(function(){n.listCorrespondences()})},EdoalComponent.prototype.changeMeasure=function(e){var t=this,n=new x.a("Edit measure",e.measure[0].getShow()),r=new i.b(n,void 0,x.a),o={context:r.keyboard(27).toJSON()};this.modal.open(x.b,o).result.then(function(n){t.edoalService.setMeasure(e.identity,n).subscribe(function(){t.listCorrespondences()})},function(){})},EdoalComponent.prototype.prevPage=function(){this.page--,this.listCorrespondences()},EdoalComponent.prototype.nextPage=function(){this.page++,this.listCorrespondences()},EdoalComponent.prototype.openLeftResourceView=function(e){this.sharedModals.openResourceView(e,!0,this.leftProjCtx)},EdoalComponent.prototype.openRightResourceView=function(e){this.sharedModals.openResourceView(e,!0,this.rightProjCtx)},EdoalComponent.prototype.onLeftResourceSelected=function(e){this.leftSelectedResource=e},EdoalComponent.prototype.onRightResourceSelected=function(e){this.rightSelectedResource=e},C([n.i(r.F)("leftTabset"),R("design:type",h.a)],EdoalComponent.prototype,"leftTabset",void 0),C([n.i(r.F)("rightTabset"),R("design:type",h.a)],EdoalComponent.prototype,"rightTabset",void 0),EdoalComponent=C([n.i(r.c)({selector:"edoal-component",template:n(1830),host:{class:"pageComponent"}}),R("design:paramtypes",[d.a,u.a,f.a,v.a,b.a,y.a,o.l])],EdoalComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(3),i=n(24),a=n(236),s=n(190),l=n(36),c=n(10),p=n(7),d=n(6),u=n(2),f=n(91),h=n(133),g=n(68),m=n(471),v=n(155),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function DataGraphComponent(t,n,o,a,s,l,c){var p=e.call(this,t,n,o,a)||this;return p.d3Service=t,p.elementRef=n,p.ref=o,p.basicModals=a,p.resViewService=s,p.graphService=l,p.graphModals=c,p.elementSelected=new r.i,p.mode=f.a.dataOriented,p.linkLimit=50,p.rvPartitions=i.c.orderedResourceViewPartitions,p}return b(DataGraphComponent,e),DataGraphComponent.prototype.ngOnInit=function(){1==this.graph.getNodes().length&&this.expandNode(this.graph.getNodes()[0],!0)},DataGraphComponent.prototype.addNode=function(e){if(this.graph.getNode(e))return void this.basicModals.alert("Add node","Cannot add a new node for "+e.getShow()+" since a node for the same resource already exists","warning");var t=new m.a(e);t.root=!0,this.graph.addNode(t),this.expandNode(t,!0)},DataGraphComponent.prototype.expandSub=function(){var e=this;p.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.graphService.expandSubResources(this.selectedElement.res).subscribe(function(t){p.a.stopLoadingDiv(e.blockingDivElement.nativeElement);var n=e.convertModelToLinks(t);e.appendLinks(e.selectedElement,n)})},DataGraphComponent.prototype.expandSuper=function(){var e=this;p.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.graphService.expandSuperResources(this.selectedElement.res).subscribe(function(t){p.a.stopLoadingDiv(e.blockingDivElement.nativeElement);var n=e.convertModelToLinks(t);e.appendLinks(e.selectedElement,n)})},DataGraphComponent.prototype.expandNode=function(e,t){var n=this;e.res.isResource()&&(p.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.resViewService.getResourceView(e.res).subscribe(function(r){p.a.stopLoadingDiv(n.blockingDivElement.nativeElement);var o=d.a.getWorkingProjectCtx().getProjectPreferences().graphViewPartitionFilter[e.res.getRole()],a={};n.rvPartitions.forEach(function(e){if(null==o||-1==o.indexOf(e)){var t=r[e];if(e==i.a.facets&&null!=t&&(t=t.inverseOf),null!=t){var n=l.a.createPredicateObjectsList(t);a[e]=n}}});for(var s in a)n.filterValueLanguageFromPrefObjList(a[s]);var c=0;for(var s in a)a[s].forEach(function(e){c+=e.getObjects().length});if(c>n.linkLimit)n.graphModals.filterLinks(a).then(function(r){var o=n.convertPredObjListMapToLinks(e,a,r);n.appendLinks(e,o),t&&n.onNodeClicked(e)},function(){});else{var u=n.convertPredObjListMapToLinks(e,a,[]);n.appendLinks(e,u),t&&n.onNodeClicked(e)}}),e.open=!0)},DataGraphComponent.prototype.closeNode=function(e){this.deleteSubtree(e);var t=e;t.isPending()&&this.graph.removeNode(t),this.graph.update(),e.open=!1},DataGraphComponent.prototype.appendLinks=function(e,t){var n=this;t.forEach(function(t){if(null==n.graph.getLink(t.source.res,t.res,t.target.res)){var r=n.retrieveNode(t.source);t.source=r;var o=n.retrieveNode(t.target);t.target=o,e==r&&o.openBy.push(e),n.graph.addLink(t)}}),this.graph.update()},DataGraphComponent.prototype.deleteSubtree=function(e){var t=this,n=[],r=this.graph.getLinksFrom(e);r.length>0&&(r.forEach(function(e){var r=e.target;r.removeOpenByNode(e.source),t.graph.removeLink(e),r.isPending()&&(t.graph.removeNode(r),n.push(r))}),n.forEach(function(e){t.deleteSubtree(e)}))},DataGraphComponent.prototype.convertPredObjListMapToLinks=function(e,t,n){var r=d.a.getWorkingProjectCtx().getProjectPreferences().hideLiteralGraphNodes,o=[];for(var i in t)t[i].forEach(function(t){var i=t.getPredicate();if(!c.a.containsNode(n,i)){t.getObjects().forEach(function(t){r&&t.isLiteral()||o.push(new v.a(e,new m.a(t),i))})}});return o},DataGraphComponent.prototype.convertModelToLinks=function(e){var t=[];return e.forEach(function(e){var n=new m.a(e.source),r=new m.a(e.target);t.push(new v.a(n,r,e.link,e.classAxiom))}),t},DataGraphComponent.prototype.filterValueLanguageFromPrefObjList=function(e){if(d.a.getWorkingProjectCtx().getProjectPreferences().filterValueLang.enabled)for(var t=d.a.getWorkingProjectCtx().getProjectPreferences().filterValueLang.languages,n=0;n<e.length;n++){for(var r=e[n].getObjects(),i=0;i<r.length;i++){var a=r[i].getAdditionalProperty(o.a.LANG);null!=a&&-1==t.indexOf(a)&&(r.splice(i,1),i--)}0==r.length&&(e.splice(n,1),n--)}},DataGraphComponent.prototype.retrieveNode=function(e){var t;return t=this.graph.getNode(e.res),null==t&&(t=e,this.graph.addNode(t)),t},DataGraphComponent.prototype.onNodeDblClicked=function(e){this.graph.dynamic&&(e.open?this.closeNode(e):this.expandNode(e))},y([n.i(r._7)(),x("design:type",Object)],DataGraphComponent.prototype,"elementSelected",void 0),DataGraphComponent=y([n.i(r.c)({selector:"data-graph",template:n(1831),changeDetection:r._18.OnPush,styles:[n(129)]}),x("design:paramtypes",[h.a,r.e,r.D,u.a,s.a,a.a,g.a])],DataGraphComponent)}(f.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),o=n(3),i=n(11),a=n(236),s=n(7),l=n(2),c=n(91),p=n(133),d=n(155),u=n(472),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function ModelGraphComponent(t,n,o,i,a){var s=e.call(this,t,n,o,a)||this;return s.d3Service=t,s.elementRef=n,s.ref=o,s.graphService=i,s.basicModals=a,s.elementSelected=new r.i,s.mode=c.a.modelOriented,s.incrementalExploration=!1,s.filtersDeltaMap={},s.linkLimit=100,s.thingNodesMap=[],s}return f(ModelGraphComponent,e),ModelGraphComponent.prototype.ngOnInit=function(){var e=this;this.filters.forEach(function(t){e.filtersDeltaMap[t.property.getURI()]=[]}),0==this.graph.getNodes().length?(s.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.graphService.getGraphModel().subscribe(function(t){s.a.stopLoadingDiv(e.blockingDivElement.nativeElement);var n=e.convertModelToLinks(t);n.length>e.linkLimit?e.basicModals.confirm("Graph","The graph you're trying to show has an high number of relations ("+n.length+"). A performance decrease could be experienced with a growing amount of visual elements in the graph. Do you want to show the graph anyway?\n\nAlternatively it is available an 'incremental' explorable model-oriented graph (from the Class-tree: select a resource, then from the contextual menu 'Show model graph rooted on the selected node').","warning").then(function(t){e.appendLinks(n)},function(e){}):e.appendLinks(n)})):setTimeout(function(){e.incrementalExploration=!0,e.expandNode(e.graph.getNodes()[0],!0)})},ModelGraphComponent.prototype.addNode=function(e){if(this.graph.getNode(e))return void this.basicModals.alert("Add node","Cannot add a new node for "+e.getShow()+" since a node for the same resource already exists","warning");var t=new u.a(e);t.root=!0,this.graph.addNode(t),this.graph.update(),this.expandNode(t,!0)},ModelGraphComponent.prototype.expandNode=function(e,t){var n=this;s.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.graphService.expandGraphModelNode(e.res).subscribe(function(r){s.a.stopLoadingDiv(n.blockingDivElement.nativeElement);var o=n.convertModelToLinks(r);o.forEach(function(t){t.openBy.push(e)}),n.appendLinks(o),t&&n.onNodeClicked(e)}),e.open=!0},ModelGraphComponent.prototype.closeNode=function(e){var t=this,n=this.graph.getLinksFrom(e);this.graph.getLinksTo(e).forEach(function(e){-1==n.indexOf(e)&&n.push(e)}),n.forEach(function(t){var n=t.openBy.indexOf(e);t.openBy.splice(n,1)});for(var r=n.length-1;r>=0;r--)n[r].openBy.length>0&&n.splice(r,1);this.removeLinks(n),this.filters.forEach(function(n){for(var r=t.filtersDeltaMap[n.property.getURI()],o=r.length-1;o>=0;o--){var i=r[o].openBy.indexOf(e);-1!=i&&(r[o].openBy.splice(i,1),0==r[o].openBy.length&&r.splice(o,1))}}),e.open=!1},ModelGraphComponent.prototype.appendLinks=function(e){var t=this,n=[];e.forEach(function(e){if(e.res.equals(i.b.subClassOf)&&e.target.res.equals(i.c.thing))t.graph.getNodes().some(function(t){return t.res.equals(e.source.res)})||t.graph.addNode(e.source);else{var r=t.graph.getLink(e.source.res,e.res,e.target.res);if(null!=r)(s=r.openBy).push.apply(s,e.openBy);else{var o=t.retrieveNode(e.source,e.target.res);e.source=o;var a=t.retrieveNode(e.target,e.source.res);e.target=a;t.filters.forEach(function(r){if(r.property.equals(e.res)){var o=t.filtersDeltaMap[e.res.getURI()],i=!1;o.forEach(function(t){t.source==e.source&&t.res.equals(e.res)&&t.target==e.target&&(i=!0)}),i||o.push(e),r.show||n.push(e)}}),o.outgoingNodes.push(a),a.incomingNodes.push(o),t.graph.addLink(e)}}var s}),this.removeLinks(n)},ModelGraphComponent.prototype.removeLinks=function(e){var t=this;e.forEach(function(e){var n=t.graph.getLink(e.source.res,e.res,e.target.res);t.graph.removeLink(n),t.onElementRemoved(n);var r=n.source,o=n.target;r.removeOutgoingNode(o),o.removeIncomingNode(r),r.root||0!=r.incomingNodes.length||0!=r.outgoingNodes.length||(t.graph.removeNode(r),t.onElementRemoved(r),r.res.equals(i.c.thing)&&t.removeThingNodeFromMap(r)),o.root||0!=o.incomingNodes.length||0!=o.outgoingNodes.length||(t.graph.removeNode(o),t.onElementRemoved(o),o.res.equals(i.c.thing)&&t.removeThingNodeFromMap(o))}),this.graph.update()},ModelGraphComponent.prototype.applyFilter=function(e){var t=this.filtersDeltaMap[e.property.getURI()];0!=t.length&&(e.show?this.appendLinks(t):this.removeLinks(t))},ModelGraphComponent.prototype.getLinksDeltaForProperty=function(e,t){var n=[];return e.forEach(function(e){e.res.equals(t)&&n.push(e)}),n},ModelGraphComponent.prototype.convertModelToLinks=function(e){var t=[];return e.forEach(function(e){var n=new u.a(e.source),r=new u.a(e.target);t.push(new d.a(n,r,e.link,e.classAxiom))}),t},ModelGraphComponent.prototype.retrieveNode=function(e,t){var n;return e.res.getAdditionalProperty("isDatatype")?(n=e,this.graph.addNode(n)):e.res.equals(i.c.thing)?(this.thingNodesMap.forEach(function(e){e.linkedRes.equals(t)&&(n=e.thingNode)}),null==n&&(n=e,this.graph.addNode(n),this.thingNodesMap.push({thingNode:n,linkedRes:t}))):null==(n=this.graph.getNode(e.res))&&(n=e,this.graph.addNode(n)),n},ModelGraphComponent.prototype.removeThingNodeFromMap=function(e){for(var t=0;t<this.thingNodesMap.length;t++)if(this.thingNodesMap[t].thingNode==e)return void this.thingNodesMap.splice(t,1)},ModelGraphComponent.prototype.onNodeDblClicked=function(e){if(this.incrementalExploration){if(!e.res.isResource()||!e.res.getAdditionalProperty(o.a.EXPLICIT))return;e.open?this.closeNode(e):this.expandNode(e)}},ModelGraphComponent.prototype.onElementRemoved=function(e){e==this.selectedElement&&(this.selectedElement=null,e instanceof d.a&&(this.linkAhead=null),this.elementSelected.emit(this.selectedElement))},h([n.i(r.r)(),g("design:type",Array)],ModelGraphComponent.prototype,"filters",void 0),h([n.i(r._7)(),g("design:type",Object)],ModelGraphComponent.prototype,"elementSelected",void 0),ModelGraphComponent=h([n.i(r.c)({selector:"model-graph",template:n(1835),changeDetection:r._18.OnPush,styles:[n(129)]}),g("design:paramtypes",[p.a,r.e,r.D,a.a,l.a])],ModelGraphComponent)}(c.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(91),i=n(133),a=n(134),s=n(11),l=n(236),c=n(7),p=n(2),d=n(91),u=n(473),f=n(474),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function UmlGraphComponent(t,n,o,i,a){var s=e.call(this,t,n,o,i)||this;return s.d3Service=t,s.elementRef=n,s.ref=o,s.basicModals=i,s.graphService=a,s.elementSelected=new r.i,s.mode=d.a.umlOriented,s.nodeLimit=50,s.linksCache=[],s}return h(UmlGraphComponent,e),UmlGraphComponent.prototype.ngOnChanges=function(e){e.hideArrow&&!e.hideArrow.firstChange&&this.updateArrows()},UmlGraphComponent.prototype.ngOnInit=function(){var e=this;c.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.graphService.getGraphModel().subscribe(function(t){c.a.stopLoadingDiv(e.blockingDivElement.nativeElement);var n=new a.c;n.link.distance=400,e.updateForces(n);var r=e.convertModelToGraph(t);r.nodes.length>e.nodeLimit?e.basicModals.confirm("Graph","The graph you're trying to show has an high number of nodes ("+r.nodes.length+"). A performance decrease could be experienced with a growing amount of visual elements in the graph. Do you want to show the graph anyway?","warning").then(function(t){e.mergeGraph(r)},function(e){}):e.mergeGraph(r)})},UmlGraphComponent.prototype.mergeGraph=function(e){var t=this;e.nodes.forEach(function(e){t.graph.addNode(e)}),e.links.forEach(function(e){t.graph.addLink(e)}),this.graph.update()},UmlGraphComponent.prototype.onPropClicked=function(e,t){this.selectedProp=null;var n;this.graph.getLinks().forEach(function(r){r.source==e&&r.res.equals(t.property)&&r.target.res.equals(t.range)&&(n=r)}),null!=n?this.onLinkClicked(n):(this.selectedElement=null,this.linkAhead=null,this.elementSelected.emit(t),this.selectedProp={node:e,prop:t})},UmlGraphComponent.prototype.onLinkClicked=function(e){this.selectedProp=null,e==this.selectedElement?this.selectedElement=null:this.selectedElement=e,this.linkAhead=this.selectedElement,this.elementSelected.emit(this.selectedElement),this.selectedProp={node:e.source,prop:new f.c(e.res,e.target.res)}},UmlGraphComponent.prototype.onNodeClicked=function(e){this.selectedProp=null,e==this.selectedElement?this.selectedElement=null:this.selectedElement=e,this.activeRemove=!0,this.linkAhead=null,this.elementSelected.emit(this.selectedElement)},UmlGraphComponent.prototype.removeNode=function(e){var t=this,n=this.graph.getLinksFrom(e);this.graph.getLinksTo(e).forEach(function(e){-1==n.indexOf(e)&&n.push(e)}),n.forEach(function(e){t.graph.removeLink(e)}),this.linksCache=this.linksCache.filter(function(t){return!t.source.res.equals(e.res)&&!t.target.res.equals(e.res)}),this.graph.removeNode(e),this.selectedElement=null,this.elementSelected.emit(this.selectedElement),this.graph.update()},UmlGraphComponent.prototype.addNode=function(e){var t=this;if(this.graph.getNode(e))return void this.basicModals.alert("Add node","Cannot add a new node for "+e.getShow()+" since a node for the same resource already exists","warning");this.graphService.expandGraphModelNode(e).subscribe(function(n){var r=t.convertModelToGraphForAddNode(n,e);t.mergeGraph(r),t.hideArrow&&t.linksCache.forEach(function(e){t.graph.removeLink(e)}),t.onNodeClicked(r.nodes[0])})},UmlGraphComponent.prototype.updateArrows=function(){var e=this;!0===this.hideArrow?this.linksCache.forEach(function(t){e.graph.removeLink(t)}):this.linksCache.forEach(function(t){e.graph.addLink(t)}),this.graph.update()},UmlGraphComponent.prototype.convertModelToGraph=function(e){var t=this,n=[],r=[];return e.forEach(function(e){if(!e.source.equals(s.c.thing)&&e.target.equals(s.c.thing)||e.target.getAdditionalProperty("isDatatype")&&!e.source.equals(s.c.thing)){var t=r.find(function(t){return t.res.equals(e.source)});null==t&&(t=new f.b(e.source),r.push(t)),t.listPropInfo.push(new f.c(e.link,e.target))}else if(!e.target.getAdditionalProperty("isDatatype")&&!e.source.equals(s.c.thing)&&!e.target.equals(s.c.thing)){var o=r.find(function(t){return t.res.equals(e.source)});null==o&&(o=new f.b(e.source),r.push(o));var i=r.find(function(t){return t.res.equals(e.target)});null==i&&(i=new f.b(e.target),r.push(i)),o.listPropInfo.push(new f.c(e.link,e.target)),n.push(new u.a(o,i,e.link))}}),n.forEach(function(e){e.res.equals(s.b.subClassOf)||t.linksCache.push(e)}),{links:n,nodes:r}},UmlGraphComponent.prototype.convertModelToGraphForAddNode=function(e,t){var n=this,r=[],o=[],i=new f.b(t);if(this.fixed){i.fixed=!0;var a=this.graph.getNodes()[0];a?(i.fx=a.fx-20,i.fy=a.fy-20):(i.fx=80,i.fy=40)}return e.forEach(function(e){if(e.source.equals(t)){i.listPropInfo.push(new f.c(e.link,e.target));var o=void 0;o=e.target.equals(e.source)?i:n.graph.getNode(e.target),null!=o&&r.push(new u.a(i,o,e.link))}else if(e.target.equals(t)){var a=n.graph.getNode(e.source);null!=a&&r.push(new u.a(a,i,e.link))}}),o.push(i),r.forEach(function(e){e.res.equals(s.b.subClassOf)||n.linksCache.push(e)}),{links:r,nodes:o}},UmlGraphComponent.prototype.closeNode=function(e){},UmlGraphComponent.prototype.expandNode=function(e,t){},UmlGraphComponent.prototype.onNodeDblClicked=function(e){},g([n.i(r.r)(),m("design:type",Boolean)],UmlGraphComponent.prototype,"hideArrow",void 0),g([n.i(r.r)(),m("design:type",Boolean)],UmlGraphComponent.prototype,"fixed",void 0),g([n.i(r._7)(),m("design:type",Object)],UmlGraphComponent.prototype,"elementSelected",void 0),UmlGraphComponent=g([n.i(r.c)({selector:"uml-graph",changeDetection:r._18.OnPush,template:n(1838),styles:[n(129)]}),m("design:paramtypes",[i.a,r.e,r.D,p.a,l.a])],UmlGraphComponent)}(o.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function GraphModalData(t,n,r,o,i){var a=e.call(this)||this;return a.graph=t,a.mode=n,a.rendering=r,a.role=o,a.context=i,a}return s(GraphModalData,e),GraphModalData}(i.d),d=function(){function GraphModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return GraphModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},GraphModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},GraphModal=l([n.i(r.c)({selector:"graph-modal",template:n(1843)}),c("design:paramtypes",[o.g,r.e])],GraphModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(24),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function LinksFilterModalData(t){var n=e.call(this)||this;return n.predObjListMap=t,n}return s(LinksFilterModalData,e),LinksFilterModalData}(i.d),d=function(){function LinksFilterModal(e){this.dialog=e,this.totalObjCount=0,this.context=e.context}return LinksFilterModal.prototype.ngOnInit=function(){var e=this;this.filters=[];var t=this;for(var n in this.context.predObjListMap)!function(n){var r=t.context.predObjListMap[n],o=[];r.forEach(function(t){o.push({res:t.getPredicate(),checked:!0,count:t.getObjects().length}),e.totalObjCount+=t.getObjects().length}),o.length>0&&t.filters.push({partition:{id:n,show:a.c.getResourceViewPartitionLabel(n)},predicates:o})}(n)},LinksFilterModal.prototype.checkAll=function(e,t){e.predicates.forEach(function(e){e.checked=t})},LinksFilterModal.prototype.getPartitionCount=function(e){var t=0;return e.predicates.forEach(function(e){e.checked&&(t+=e.count)}),t},LinksFilterModal.prototype.getVisibleCount=function(){var e=0;return this.filters.forEach(function(t){t.predicates.forEach(function(t){t.checked&&(e+=t.count)})}),e},LinksFilterModal.prototype.ok=function(e){var t=[];this.filters.forEach(function(e){e.predicates.forEach(function(e){e.checked||t.push(e.res)})}),e.stopPropagation(),e.preventDefault(),this.dialog.close(t)},LinksFilterModal.prototype.cancel=function(){this.dialog.dismiss()},LinksFilterModal=l([n.i(r.c)({selector:"links-filter-modal",template:n(1844)}),c("design:paramtypes",[o.g])],LinksFilterModal)}();!function(){function LinkFilter(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(154),o=n(92),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=function(e){function DataNode(t){var n=e.call(this,t)||this;return n.openBy=[],n}return i(DataNode,e),DataNode.prototype.initNodeShape=function(){this.shape=o.a.rect},DataNode.prototype.initNodeMeasure=function(){this.measures={width:r.a.Rectangle.base,height:r.a.Rectangle.height}},DataNode.prototype.isPending=function(){if(this.root)return!1;if(0==this.openBy.length)return!0;for(var e=0;e<this.openBy.length;e++)if(this.openBy[e]!=this)return!1;return!0},DataNode.prototype.removeOpenByNode=function(e){this.openBy.splice(this.openBy.indexOf(e),1)},DataNode}(o.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(3),o=n(154),i=n(92),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=function(e){function ModelNode(t){var n=e.call(this,t)||this;return n.incomingNodes=[],n.outgoingNodes=[],n}return a(ModelNode,e),ModelNode.prototype.initNodeShape=function(){if(this.res instanceof r.e){var e=this.res.getRole();e==r.c.annotationProperty||e==r.c.datatypeProperty||e==r.c.objectProperty||e==r.c.ontologyProperty||e==r.c.property?this.shape=i.a.rect:e==r.c.conceptScheme||e==r.c.skosCollection||e==r.c.skosOrderedCollection?this.shape=i.a.square:e==r.c.individual||e==r.c.limeLexicon||e==r.c.ontolexForm||e==r.c.ontolexLexicalEntry||e==r.c.ontolexLexicalSense?this.shape=i.a.octagon:e==r.c.xLabel?this.shape=i.a.label:(r.c.cls,this.shape=i.a.circle),this.res.getAdditionalProperty("isDatatype")&&(this.shape=i.a.rect)}else this.shape=i.a.rect},ModelNode.prototype.initNodeMeasure=function(){var e=this.getNodeShape();e==i.a.circle?this.measures={radius:o.a.Circle.radius}:e==i.a.rect?this.res.getAdditionalProperty("isDatatype")?this.measures={width:70,height:30}:this.measures={width:o.a.Rectangle.base,height:o.a.Rectangle.height}:e==i.a.square?this.measures={width:o.a.Square.side,height:o.a.Square.side}:e==i.a.label?this.measures={width:o.a.Label.base,height:o.a.Label.height}:e==i.a.octagon&&(this.measures={width:o.a.Octagon.base,height:o.a.Octagon.height})},ModelNode.prototype.removeIncomingNode=function(e){this.incomingNodes.splice(this.incomingNodes.indexOf(e),1)},ModelNode.prototype.removeOutgoingNode=function(e){this.outgoingNodes.splice(this.outgoingNodes.indexOf(e),1)},ModelNode}(i.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(155),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(e){function UmlLink(t,n,r){var o=e.call(this,t,n,r)||this;return o.offset=0,o}return o(UmlLink,e),UmlLink.prototype.getRole=function(){return this.res.getRole()},UmlLink.prototype.isReflexive=function(){return this.res.getAdditionalProperty("reflexive")},UmlLink}(r.a)},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c});var r=n(3),o=n(154),i=n(92),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=function(e){function UmlNode(t){var n=e.call(this,t)||this;return n.listPropInfo=[],n.explicit=t.getAdditionalProperty(r.a.EXPLICIT)||void 0==t.getAdditionalProperty(r.a.EXPLICIT),n.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABPUlEQVR42mNkoBAwDk4D7hzr/v/q2mKGv78+g/nMbLwMYlpxDCpWJYwEDTi7wvM/69/nDEJCQgzsXMIMb189ZPjy5QvD9+/fGbiENBiMI7Yz4jQAZPO3+0sZFFSNGFikZBk4pRsYPh7xZ3j69CnYABCWNMgCuqSUEasBx+bo/Rfi52CQM3BgYJAWZWC4fo3h/u1LDH///gVjkEtA3rFKuYTdgMPTFP9z8YoxyMnJMbx7947h/5/PYI2/fv0CY5ALQHzngqe4DQD5nY2NDWwbiIYZANL88eNHsDqfyne4vcDG/AfMBmmEAZABIABy1a+/LAyh9W+xGwAKxOcXpmGNb5DtIFfImxUwmPm0YzcAFo3f3t2A80EugWmWUbFisEk8gDsa0RPSr+8fIKH//R+DjEEyg7FnC+GERCoYeAMAAHCnETraWggAAAAASUVORK5CYII=",n.explicit||(n.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABTklEQVR42s2SvUoDQRSFz2ZcSFyza6KYIGyMgqI2CqJNIBai5DUs7H0ASyGtb2DpewhpLERfQIJBiGiUGPdndjIzzg6aQnYJYqG3Ge4w851zfwz8Moz/CejdX8pB9xqCBTrPmDnky9uYqdSMsYDOzbkk4h2Tlq0/Uu8FYRiARSFMqwx389BIBcTK9PkWhbkFkLwN096F377AoP8KxiINcdyaclI3EgHtqzNp5bKYKi2BTFvgj0/o9x4ghACkUE587aq6c5wMuGs1pZl14BRmQQMfECE45xB8CC6GCkA1aLl+kg6IayeEKLsUGTKh1bkCxPbD0NPv1vdO00sghvzMxOieRZE+fe9NOQE2Gs1kQNzEfqeVOO9YndEAxcV9uGuNZMDXGJnXHeVcSNWPAfgwglNaRXXrKH2M3xeJUV83jUYMxUoN8ysH4xfpp/H3gA9iGKIR2Fuw7gAAAABJRU5ErkJggg=="),n}return a(UmlNode,e),UmlNode.prototype.initNodeShape=function(){this.shape=i.a.rect},UmlNode.prototype.initNodeMeasure=function(){this.measures={width:o.a.RectangleUml.base,height:o.a.RectangleUml.height}},UmlNode}(i.b),l=function(){function NodePropRange(){}return NodePropRange}(),c=function(){function PropInfo(e,t){this.x=0,this.y=0,this.property=e,this.range=t;for(var n="",o="0123456789abcdefghijklmnopqrstuvwxyz",i=0;i<10;i++){n+=o[Math.round(Math.random()*(o.length-1))]}this.id=n;var a=e.getRole(),s=e.isDeprecated(),l=e.getAdditionalProperty(r.a.EXPLICIT)||void 0==e.getAdditionalProperty(r.a.EXPLICIT);a==r.c.property?(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNElEQVR42mNkoBAwDi4DjFJnqLCwsDD8/fsXyPvP8P8/RJqR8T9c6f///xnOzc64g2EAUHM9kHIRExOz+fLlCwMzMzPDz5+/GH7//glWBtQHNAhswBGgwB6gIY1wA4zTZsoBJZbunZVuc/wVA8Pdu78Yzp49y/DixQuG79+/MXz58hXF2SBDGBkZo8/OSn8EN4CVlfVhdXUiw+nTTxmOHDnC8PHjR0Lel0cxgImJ6WFycjLD2rVrGd69e4dX5/fv3xk4OTkRBgD9Lwf080MDAwOw0+EBxMgIDjR0zaBA5uHhkQeGA6oXhISEGF6+fInT5l+/fsG9JioqiuoFUCACnWXz48cPrJpBMQOyHWSAsrIyaiAiRyNQwgaXZhCWlZXFjEYYALrEnJjUB7T5JNaUSA4YeAMABKCiERklUHkAAAAASUVORK5CYII=",l?s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEKSURBVDhPYxhmICQxTyUirVgFROPDUOWoAChRD8SHsyvb/8fnVv1PzK/9H5VR+h8oho4PA3E9VBsEAAXkQBJf//z5f/XZ2/9rJ8393yAl+79aVPx/qYLy/ziPIGyGyEG1QwwA2Xb5ydv/y7cf/5/rFfw/yd4DrDg6MPp/kYzC/8jQBHRDUA0ISy74f/Tqs/+Z5a1gzTADQDjBxReF7xmaiN2AvjmrwQrwGQDS7BoQg2kAyAt5NV0YBoCcnq+sAab9otL+27gHgTGGAUB8ODa7AqwJZGO5oDAYg/wPCkT34DiwRm0TW5Aa1EAEAaAAOBpBBqBjmGZDa1eYZtRohAGghDkxGKp8eAAGBgDcUPI2SI7rSgAAAABJRU5ErkJggg=="):(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDklEQVR42mNkoBAwDi4D5u+8osIEFPn3n4EBRoMAMhsEEt117mAYANRcD6RceLjYbX79/s3AxMTM8OfPX4Z///6haAaCI0C8B2hII9wAoGY5ILU0wk3b5s0PBoaPH34zPHv5huHj568MIMN+/f6H7nKQIdFAQx7BDWBhZnpoZ67G8OL1N4YHj58zfPvxm5D35VEMAPrzoZmBBsOVm/cZvnz7iVcnyFVsrKyYBshKijA8fPaGoGZQmHCwoRkA8gIHOyte2//8/cvw4yfEazxcHKgGgAKRjZXJBkuAwW3+9fsvw+dvPxgkRQRQAxE5GoHYBpfmH79+M4gI8GJGI5Ih5oSCHpqQTmIkJHLBwBsAAM6MjhFjOKJoAAAAAElFTkSuQmCC",s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEHSURBVDhPYxhmYPPuIyrEYKhyVACUqAfiw/uOnf+/ff/x/zsPnvy/dd/x/0AxdHwYiOuh2iAAKCAHkvj1////D99//T+3c9//eeFR/2cEhv6fFZ/8f+XMBdgMkYNqhxgAsu3tl+//bz188X/t5Jn/l/VMBites3TN/xmxif/XrdqMbgiqASDBZ+++/gd5AaQZZgAIL588C4W/bvt+7Aacu3YPrACfASDNa7ZhMQDkBZDtIEXIBoCcPictG0xv2Hno/4qNu8AYwwAgPgwKfZAmkI1TfAPAGOR/UCCCbAZpnLtsA0gNaiCCAFAAHI0gA9AxTPPC1VthmlGjEQaAEubEYKjy4QEYGAB2WG70riFcdwAAAABJRU5ErkJggg=="))):a==r.c.objectProperty?(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABR0lEQVR42mNkoBAwDi4DjFJnqLCwsDD8/fsXyPvP8P8/RJqR8T9c6f///xnOzc64g2EAUHM9kHIRExOz+fLlCwMzMzPDz5+/GH7//glWBtQHNAhswBGgwB6gIY1wA4zTZsoBJZYenpVuAxL4BXTA5ct3GFrXXGb4/v0bw5cvX1GcDTKEkZEx+uys9EdwA1hZWR9WV0czeEqyMbz7zsCQ3bWG4d6zd/i8L49iABMT08Pk5GQGfw1Gho+fPjLUzt6N04Dv378zcHJyIgwA+l8O6OeHBgYGDMW+qmBFMANAgYauGRTIPDw88sBwQPWCkJAQQ1+GA4oByODXr18MHz9+BLNFRUVRvQAKRKCzbOaW+zOAYiG9dyuKZpAYyHaQAcrKyqiBiByNQAkbdD/DNIOwrKwsZjTCANAl5sSkPqDNJ7GmRHLAwBsAALUKqhEyJXIIAAAAAElFTkSuQmCC",l?s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEUSURBVDhPYxhmICQxTyUirVgFROPDUOWoAChRD8SHsyvb/8fnVv1PzK/9H5VR+h8oho4PA3E9VBsEAAXkQBK//v//D8IXN2z436Oq+r9aVPx/qYLy/ziPIGyGyEG1QwwA2Xbx0Yv/f4AGnFq4+H9ZUBRYcXRg9P8iGYX/kaEJ6IagGhCWXPD/6NVn/z98/fV//7SZcANAOMHF93+SvQec7xmaiN2Avjmr/z989hqvASDNrgExmAaAvJBX04VhAMjp+coaYNovKu2/jXsQGGMYAMSHY7MrwAbsnjn7f7mgMBiD/A8KRPfgOLBGbRNbkGbUQAQBoAA4GoEYbDMyhmk2tHaFaUaNRhgASpgTg6HKhwdgYAAA+zn/7fDhmB4AAAAASUVORK5CYII="):(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABJUlEQVR42mNkoBAwDi4D5u+8osIEFPn3n4EBRoMAMhsEEt117mAYANRcD6RceLjYbX79/s3AxMTM8OfPX4Z///6haAaCI0C8B2hII9wAoGY5ILU02k3bBsT/+4+B4f27jwxHb7xmABn26/c/dJeDDIkGGvIIbgALM9NDO0s1BmkuZoaffxgY9p+9w/D640983pdHMQDoz4dmBhoMcgLMDD9+/mA4fvUJTgNArmJjZcU0QFZShEFfgR+sCJcBIM2gMOFgQzMA5AUOdlYGJwMZnAb8+fsX6LrfYDYPFweqAaBAZGNlsvEwVWT4A7Rl2+lHGDb/+v2X4fO3HwySIgKogYgcjUBsg83ZIM0/fv1mEBHgxYxGJEPMiUl9QM0nsaZEcsDAGwAAWfGWEYq7oC0AAAAASUVORK5CYII=",s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEMSURBVDhPYxhmYPPuIyrEYKhyVACUqAfiw/uOnf+/ff/x/zsPnvy/dd/x/0AxdHwYiOuh2iAAKCAHkvjz//9/EL5/4uT/1YlJ/2cEhv6fFZ/8f+XMBdgMkYNqhxgAsu3t1+9gA+7sO/B/44y5YMVrlq75PyM28f+6VZvRDUE1ACT47N3X/7+AJlzbsRNuAAgvnzzr/7KeyXD+uu37sRtw7tq9/5+ArsBnAEjzmm1YDAB5ARSA6AaAnD4nLRtMb9h56P+KjbvAGMMAID4MCn2QAVf37vs/xTcAjEH+BwUiyGaQxrnLNoA0owYiCAAFwNEIxGCbkTFM88LVW2GaUaMRBoAS5sRgqPLhARgYAC6/dV7Hn3ksAAAAAElFTkSuQmCC"))):a==r.c.annotationProperty?(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5UlEQVR42mNkoBAwDi4D/q9hUGFgATL+wgSwqAKKMYYw3MEwAKi5Hki5MIgx2DB8AbKYgfgnEP9GMowRTB8BknuAhjTCDfi/lkEOKLGUIRioGQZuA/ELIP4OxF/Q3A0yhJEhmjGY4RHCAFaGhwy+UFtBdnwk6H15VAOYgAYEADkHgPgdAa0gV3EiG7AGaAAz0AADIOcsWhD/x6IZFMg8QANC0L0gBOS8xGPzLySviaJ7ARSInMBA/IFD8xeo7SADlNECESUaGZFiAl0zCMtiiUa4IWsZzAmGPUhTMMNJ5GCiCAy8AQCXyk0RhxpIKAAAAABJRU5ErkJggg==",l?s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAD/SURBVDhP3ZGtDsJAEIT7FDiKqSYBg+IhUCg8pgSDbDCYJhhCgiWEwPFXBAFFTvFgy8x1C21BoNnky2XvduZu97w/C2uiwO5yMP+yp+XFwMEYPOw5EnsEJ7AHO8W81gdrVZYGDnx3YFEADpOuxLWKxH5FZs1Akqj3NspMoFG5GvA2GtwjMcOOmEHHFV+mfZk1ArnNw6LJhwE3aZDAAOLMgBxG3UJut27NGRg1uAL0akIYALeH3Bkw5xw2CjQqz7XAAUKUfwGfvmjX0xZ481r5aIGD4fQh4o1xFUME7N8NkbdSuATlITKwmX4jn10mE68Aa8rfmAWKW7+g5f8RnvcE5a5BsdCi0w8AAAAASUVORK5CYII="):(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA20lEQVR42mNkoBAwDi4Dft1ZoIIi8h+LKqAYm0rCHQwDgJrrgZQLAyeDDcNvIIsJiP8C8T8kwxjB9BEguQdoSCPcgF93F8gBJZYyyAE1w8AnIP4JNeQ3mrtBhjAyRLMpJzxCGMDE8JBBGqrhNRZNmEAe1QAGoAGyQPIlSICAVpAlzMgG3AEawAg0QBDIeYcWxP+xaGaAGqCC7gU2IOcHAZv/QNns6F4ABSILMBD/4tD8B2oAyHs8aIGIEo2MSDGBrhmEObFEI9yQuwvMCYY9EABtPokcTBSBgTcAAFdiVRFX/THeAAAAAElFTkSuQmCC",s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADvSURBVDhP3ZGxCsIwEIb7JE6+g8/RUd0619nRl3BzEh0KIpQizkIpQqHgorVVEMyDnPcnV0mjgnMPPkJy9//JXbyOhaqyvqotsP9yJuXt4MSMSdU9I3UTaovqvaaoFZkJTvR0QnEBUyQLisY+RSOf4klAp2TpmqXQiFwMkIDBM6N8PdfgrDxsKQ4Dqo+7tslPA27BNgDFZtHaSzuWQSUGD5PMV2zANMXaAHsIrwJrRG69AAPk1X4Bnr6fhqYFGJTCRwsYjEweN0ZDHiKD/vUQcSuEZ8YdIoIPzTfiJS6N+MKgxv3GJrh48A9S3o3wvBeiEpDfUcNdoAAAAABJRU5ErkJggg=="))):a==r.c.ontologyProperty?(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABK0lEQVR42mNkoBAwDi4DmrK8VJiZWRj+/v0DlfqPpOw/XF3dtG13MAwAaq4HUi7iYqI2n798ZWBlYWb49v0nw+/fv1E0A8ERIN4DNKQRbgBQsxyQWlrbt9YGouYfw61bVxkOrJvK8O3bd4bPX76guxxkSDTQkEdwA1hZ2R5mppQy8GuZMzD8+sIwq7eC4eWzR/i8L49iADMT88Pc7DQGLnkrho/vPzCsmd+N04DPX74z8PJwYhpgamLEYOwaB1aEywCQ5n///jLw8/HIY3hBVESIITCpGqcBP37+ZngPdB0ISEqIohoACkQODk6b5OIucKAtmliJovnjpy/gAH334RODtoYyaiAiRyMQ26A7G6b589dvDGrK8pjRiGSIOTGpD6j5JNaUSA4YeAMAswqUEUY7AdAAAAAASUVORK5CYII=",l?s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEeSURBVDhPYxhmIC0+XCU7NUYFRGcmRYJpdDYIQ5WjAqBEPRAfbqjI/1+ck/y/ojD9f1563H+g5v9AcWR8GIjrodogACggB5L4//vXfxC+sWH9/z5Vlf/1osL/axRk/+e4O2IzRA6qHWIAyLZnt6/+///3z/8Lixb8bwryBSvO8vf4Xy4t+T8z2AfdEFQDslOi/z++df7/r++f/h+dPhVuAAjnOtn+z7OzgPMjIYZhGrBs3pT/r58/wWsASHOInzumASAvtNYWYxgAcnqZsgKYjosI+O/uZA3GGAYA8eGCzASwAQdnTvtfJcAPxiD/gwIRZCtIo7G+JkgzaiCCAFAAHI1ADLYZGcM0W5sZwDSjRiMMACXMicFQ5cMDMDAAADvi/ViVyndCAAAAAElFTkSuQmCC"):(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABEUlEQVR42mNkoBAwDi4DzuxbrUKMJhOn0DsYBgA11wMpFw5Obpvfv34xMDEzMfz7+4fh79+/6PqPAPEeoCGNcAOAmuWA1FJjG38bsBImBoaPH98zPLl1lgFk2N+/v7EZEg005BHcAGZm5ofaulYMrPwiDAz/fjNcv3CU4dvn9/h8Io9iAJB6qK1nwsAhIMHw4/tPhvs3zuA0AOQqVjY2TAPEJWUZRGQ0wIpwGQDSzPD/HwMrO4c8hhdY2TgYlHWscBrwFxioP3/8ALO5uHkwXLCUmZnVRsPIgeH3n98Mt84fwLD59+9fDD++fWEQEpVADUTkaARiG2zOBmkG0fyCQpjRiGSIOZEJ6SRGQiIXDLwBABZfjBFcAuzKAAAAAElFTkSuQmCC",s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAENSURBVDhPYxhm4NDebSrEYKhyVACUqAfiw2dOHPp//NDu/yeP7P1/ZP/O/0AxdHwYiOuh2iAAKCAHkvj/589/EH58/Nj/tUkJ/+cF+f9flBD7f+usqdgMkYNqhxgAsu37pw/////98//+3j3/90I17Vq24P+CuKj/e9YsQzcE1QCQ4Kd3L4EG/Pp/c8c2uAEgvHlK//+NfZ1w/t4dG7EbcO/m5f/fv37CawBI897t6zENAHkBFIDoBoCcviQ9GUzv37Xl/45Nq8EYwwAgPgwKfbABe3f9n+XrBcYg/4MCEWQzSOPa5QtAmlEDEQSAAuBoBGKwzcgYpnnTWnBAYkYjDAAlzInBUOXDAzAwAADUhHalqJBFpAAAAABJRU5ErkJggg=="))):a==r.c.datatypeProperty&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABIUlEQVR42mNkoBAwDi4DjGYWq7AwMzP8+fuXgQko9Y/hP1gcmQ0C59J772AYANRcD6RcREVEbb5++8bAzMzE8OPHD4a/v/+gaAaCI0C8B2hII9wAoGY5ILV0X1q9zVGGxwz3fv9nOHP2LMOLZ88ZvgMN+/LtK7rLQYZEAw15BDeAlZX1YXViHMPpJy8Yjh49yvDh4wdC3pdHMYCZmflhSnIKw+o1qxnevXuHV+f3b98ZOLk4MQ0wNDAEOv0MQc1/gYHMw8sjj+EFYSFhhhcvX+DU/Of3b6DXPoLZIiIiqAaAApGTg9Pm+4/vWDV//fyF4fvPHwwfP3xkUFZRRg1E5GgEYhtcmr9//cYgKy+HGY1IhpgTCnpoQjqJkZDIBQNvAAAG2JAR8W6wDAAAAABJRU5ErkJggg==",l?s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEMSURBVDhPYxhmICQvRSWiOFMFROPDUOWoAChRD8SHs9tr/8dXFf5PrC3+H1Wa/R8oho4PA3E9VBsEAAXkQBJf/3z7f/Xtg/9r50793yAr/b9aXOx/qbLi/7ggL2yGyEF0AwGIA7Lt8tv7/5cf3/0/N9j3f5KHI1hxdHTw/yIF2f+RCeHohqAaEFaQ/v/os1v/M1urwJphBoBwgq8bCt8zMQK7AX2rF4AV4DMApNk1JhjTAJAX8roaMAwAOT1fQwVM+6XF/rcBhgcIYxgAxIdjK/LAmkA2lgsLgjHI/6BAdI8LA2vUtjUDqUENRBAACoCjEWQAOoZpNnS1g2lGjUYYAEqYE4OhyocHYGAAAHg284Hj1OwvAAAAAElFTkSuQmCC"):(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDElEQVR42mNkoBAwDi4D5l85oMIEFPrH8J8BRoMAMhsEEnUc7mAYANRcD6RceNi5bH79/sXAxMzE8OfvX4Z///6haAaCI0C8B2hII9wAoGY5ILU0QtvC5g3Dd4aPv/8yPHvziuHj1y8MIMN+/fuD7nKQIdFAQx7BDWBhYn5op6bN8OLbV4YHz58wfPv9k5D35VEMAPrzoZmGHsOV+7cZvvz8hlfnr9+/GdhYWTENkBWRYHj45jlBzaAw4WBlk8fwAgcrO17bQYH6AxgmIMDDwYlqACgQ2ZhYbLAEGNzmX3//MHz+8Y1BUkAYNRCRoxGIbXBpBtkuwsuPGY1IhpgTCnpoQjqJkZDIBQNvAADVzI4Rz7nPqQAAAABJRU5ErkJggg==",s&&(this.xlink="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEJSURBVDhPYxhmYPORfSrEYKhyVACUqAfiw/vOn/y//fjB/ztPHv6/9fiB/0AxdHwYiOuh2iAAKCAHkvj1/9f/D7++/D+3b9f/eVER/2eEBv2flZzwf+WC2dgMkYNqhxgAsu3t90//b714/H/tzKn/l03uBytes2b5/xmJcf/XbV6LbgiqASDBZ18//Ad5AaQZZgAIL5+FMBCE1+3fid2Ac/dugBXgMwCkec3+HZgGgLwAsh2kCNkAkNPnZGeA6Q2Hdv9fsWszGGMYAMSHQaEP0gSycUqAHxiD/A8KRJDNII1zN6wEqUENRBAACoCjEWQAOoZpXrh1HUwzajTCAFDCnBgMVT48AAMDAPwVcDaZM+/UAAAAAElFTkSuQmCC")))}return PropInfo}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(3),i=n(135),a=n(10),s=n(13),l=n(180),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function AbstractHistValidComponent(e,t){this.sortingDirectionList=[i.d.Unordered,i.d.Ascending,i.d.Descending],this.operationSorting=this.sortingDirectionList[0],this.timeSorting=this.sortingDirectionList[2],this.showFilterBox=!1,this.operations=[],this.performers=[],this.limit=100,this.page=0,this.revisionNumber=0,this.sharedModals=e,this.hvModals=t}return AbstractHistValidComponent.prototype.getPreviousCommits=function(){this.page--,this.listCommits()},AbstractHistValidComponent.prototype.getNextCommits=function(){this.page++,this.listCommits()},AbstractHistValidComponent.prototype.inspectParams=function(e){return this.hvModals.inspectParams(e)},AbstractHistValidComponent.prototype.getCommitDelta=function(e){return this.hvModals.getCommitDelta(e)},AbstractHistValidComponent.prototype.sortOperation=function(e){this.operationSorting=e,this.init()},AbstractHistValidComponent.prototype.sortTime=function(e){this.timeSorting=e,this.init()},AbstractHistValidComponent.prototype.toggleFilterBox=function(){this.showFilterBox=!this.showFilterBox},AbstractHistValidComponent.prototype.onFilterApplied=function(e){this.operations=e.operations,this.performers=e.performers,this.fromTime=e.fromTime,this.toTime=e.toTime,this.init()},AbstractHistValidComponent.prototype.getFormattedFromTime=function(){return null==this.fromTime?null:new Date(this.fromTime).toISOString()},AbstractHistValidComponent.prototype.getFormattedToTime=function(){return null==this.toTime?null:new Date(this.toTime).toISOString()},AbstractHistValidComponent.prototype.getPerformersIRI=function(){var e;return this.performers.length>0&&(e=[],this.performers.forEach(function(t){e.push(new o.b(t.getIri()))})),e},AbstractHistValidComponent.prototype.isLargeWidth=function(){return window.innerWidth>1440},AbstractHistValidComponent.prototype.showOtherParamButton=function(e){return this.isLargeWidth()?e.operationParameters.length>3:e.operationParameters.length>2},AbstractHistValidComponent.prototype.openValueResourceView=function(e){try{var t=void 0;e.startsWith("<")&&e.endsWith(">")?t=a.a.parseURI(e):e.startsWith("_:")&&(t=a.a.parseBNode(e)),null!=t&&this.sharedModals.openResourceView(t,!0)}catch(e){}},AbstractHistValidComponent=c([n.i(r.c)({selector:"abs-hv-component",template:n(816),host:{class:"pageComponent"}}),p("design:paramtypes",[s.a,l.a])],AbstractHistValidComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(305),i=n(7),a=n(13),s=n(475),l=n(180),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function HistoryComponent(t,n,r){var o=e.call(this,n,r)||this;return o.historyService=t,o}return c(HistoryComponent,e),HistoryComponent.prototype.ngOnInit=function(){this.init()},HistoryComponent.prototype.init=function(){var e=this;i.a.startLoadingDiv(i.a.blockDivFullScreen),this.page=0,this.commits=[],this.historyService.getCommitSummary(this.operations,this.getPerformersIRI(),null,this.getFormattedFromTime(),this.getFormattedToTime(),this.limit).subscribe(function(t){i.a.stopLoadingDiv(i.a.blockDivFullScreen),e.pageCount=t.pageCount,e.tipRevisionNumber=t.tipRevisionNumber,null!=e.tipRevisionNumber&&e.listCommits()})},HistoryComponent.prototype.listCommits=function(){var e=this;i.a.startLoadingDiv(i.a.blockDivFullScreen),this.historyService.getCommits(this.tipRevisionNumber,this.operations,this.getPerformersIRI(),null,this.getFormattedFromTime(),this.getFormattedToTime(),this.operationSorting,this.timeSorting,this.page,this.limit).subscribe(function(t){e.commits=t,i.a.stopLoadingDiv(i.a.blockDivFullScreen)})},HistoryComponent=p([n.i(r.c)({selector:"history-component",template:n(816),host:{class:"pageComponent"}}),d("design:paramtypes",[o.a,a.a,l.a])],HistoryComponent)}(s.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return m});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(305),l=n(10),c=n(7),p=n(6),d=n(13),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e){function CommitDeltaModalData(t){var n=e.call(this)||this;return n.commit=t,n}return u(CommitDeltaModalData,e),CommitDeltaModalData}(i.d),m=function(){function CommitDeltaModal(e,t,n){this.dialog=e,this.historyService=t,this.sharedModals=n,this.truncated=!1,this.context=e.context}return CommitDeltaModal.prototype.ngOnInit=function(){var e=this;c.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.historyService.getCommitDelta(this.context.commit).subscribe(function(t){e.additions=t.additions,e.removals=t.removals;var n=t.additionsTruncated,r=t.removalsTruncated;(n||r)&&(e.truncated=!0,n?(e.messageTruncated="For performance issue, the additions reported have been limited to "+n+" triples",r&&(e.messageTruncated+=" as well as the removals")):e.messageTruncated="For performance issue, the removals reported have been limited to "+r+" triples"),c.a.stopLoadingDiv(e.blockingDivElement.nativeElement)})},CommitDeltaModal.prototype.getShow=function(e){if(e instanceof a.d)return e.toNT();if(e instanceof a.b){var t=l.a.getQName(e.getURI(),p.a.getPrefixMappings());return null!=t?t:e.toNT()}if(e instanceof a.f){if(e.isTypedLiteral()){var n=e.getDatatype(),r=l.a.getQName(n,p.a.getPrefixMappings());return r!=n?'"'+e.getValue()+'"^^'+r:e.toNT()}return e.toNT()}},CommitDeltaModal.prototype.openResource=function(e){e.isResource()&&this.sharedModals.openResourceView(e,!0)},CommitDeltaModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},f([n.i(r.F)("blockingDiv"),h("design:type",r.e)],CommitDeltaModal.prototype,"blockingDivElement",void 0),CommitDeltaModal=f([n.i(r.c)({selector:"commit-modal",template:n(1848)}),h("design:paramtypes",[o.g,s.a,d.a])],CommitDeltaModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(10),s=n(13),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function OperationParamsModalData(t){var n=e.call(this)||this;return n.commit=t,n}return l(OperationParamsModalData,e),OperationParamsModalData}(i.d),u=function(){function OperationParamsModal(e,t){this.dialog=e,this.sharedModals=t,this.context=e.context}return OperationParamsModal.prototype.openValueResourceView=function(e){try{var t=void 0;e.startsWith("<")&&e.endsWith(">")?t=a.a.parseURI(e):e.startsWith("_:")&&(t=a.a.parseBNode(e)),null!=t&&this.sharedModals.openResourceView(t,!0)}catch(e){}},OperationParamsModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},OperationParamsModal=c([n.i(r.c)({selector:"operation-params-modal",template:n(1849)}),p("design:paramtypes",[o.g,s.a])],OperationParamsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(5),i=n(564),a=n(3),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function OperationSelectModal(e,t){this.dialog=e,this.servicesService=t,this.NOT_SELECTED="---",this.extensionPaths=[],this.serviceClasses=[this.NOT_SELECTED],this.operations=[],this.operationsToAdd=[],this.context=e.context}return OperationSelectModal.prototype.ngAfterViewInit=function(){var e=this;this.servicesService.getExtensionPaths().subscribe(function(t){e.extensionPaths=t,e.selectedExtensionPath=e.extensionPaths[0],e.onExtPathChange()})},OperationSelectModal.prototype.onExtPathChange=function(){var e=this;this.servicesService.getServiceClasses(this.selectedExtensionPath).subscribe(function(t){e.serviceClasses=e.serviceClasses.concat(t)})},OperationSelectModal.prototype.onServClassChange=function(){var e=this;if(this.selectedServiceClasses==this.NOT_SELECTED)return void(this.operations=[]);this.servicesService.getServiceOperations(this.selectedExtensionPath,this.selectedServiceClasses).subscribe(function(t){e.operations=[],t.forEach(function(t){e.operations.push({service:t,checked:!1,filtered:!1})})})},OperationSelectModal.prototype.addOperations=function(){var e=this;this.operations.forEach(function(t){t.checked&&-1==e.operationsToAdd.indexOf(t.service)&&e.operationsToAdd.push(t.service)}),this.operationsToAdd.sort(function(e,t){return e>t?1:e<t?-1:0})},OperationSelectModal.prototype.removeOperations=function(e){for(var t=0;t<this.operationsToAdd.length;t++)if(this.operationsToAdd[t]==e)return void this.operationsToAdd.splice(t,1)},OperationSelectModal.prototype.getOperationShow=function(e,t){if(t){var n,r=e.split("/");return n=r[r.length-2],n+="/"+r[r.length-1]}return e.substring(e.lastIndexOf("/")+1)},OperationSelectModal.prototype.onFilterChanged=function(){for(var e=0;e<this.operations.length;e++)this.getOperationShow(this.operations[e].service).toLowerCase().includes(this.filterKey.toLowerCase())?this.operations[e].filtered=!1:this.operations[e].filtered=!0},OperationSelectModal.prototype.ok=function(e){var t=this,n=[];this.operationsToAdd.forEach(function(e){n.push(new a.b(e,t.getOperationShow(e,!0)))}),0==n.length&&this.cancel(),e.stopPropagation(),e.preventDefault(),this.dialog.close(n)},OperationSelectModal.prototype.cancel=function(){this.dialog.dismiss()},OperationSelectModal=s([n.i(r.c)({selector:"operation-select-modal",template:n(1850)}),l("design:paramtypes",[o.g,i.a])],OperationSelectModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(135),s=n(180),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function ValidationCommentsModalData(t){var n=e.call(this)||this;return n.commits=t,n}return l(ValidationCommentsModalData,e),ValidationCommentsModalData}(i.d),u=function(){function ValidationCommentsModal(e,t){this.dialog=e,this.hvModals=t,this.commits=[],this.context=e.context}return ValidationCommentsModal.prototype.ngOnInit=function(){var e=this;this.context.commits.forEach(function(t){var n=new a.f(t.commit,t.user,t.operation,t.operationParameters,t.startTime,t.endTime,t.commentAllowed);n.comment=t.comment,e.commits.push(n)})},ValidationCommentsModal.prototype.inspectParams=function(e){return this.hvModals.inspectParams(e)},ValidationCommentsModal.prototype.getCommitDelta=function(e){return this.hvModals.getCommitDelta(e)},ValidationCommentsModal.prototype.ok=function(e){var t=this;this.commits.forEach(function(e){t.context.commits.find(function(t){return e.commit.equals(t.commit)}).comment=e.comment}),e.stopPropagation(),e.preventDefault(),this.dialog.close()},ValidationCommentsModal.prototype.cancel=function(){this.dialog.dismiss()},ValidationCommentsModal=c([n.i(r.c)({selector:"validation-comments-modal",template:n(1851)}),p("design:paramtypes",[o.g,s.a])],ValidationCommentsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(4),i=n(565),a=n(17),s=n(7),l=n(20),c=n(2),p=n(13),d=n(475),u=n(180),f=n(480),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function ValidationComponent(t,n,r,o,i){var a=e.call(this,o,i)||this;return a.validationService=t,a.basicModals=n,a.modal=r,a.ACTION_ACCEPT={value:"accept",show:"Accept"},a.ACTION_REJECT={value:"reject",show:"Reject"},a.ACTION_NONE={value:"------",show:"------"},a.validationActions=[a.ACTION_NONE,a.ACTION_ACCEPT,a.ACTION_REJECT],a.VALIDATION_ACT_ATTR="validationAction",a.COMMENT_ATTR="comment",a}return h(ValidationComponent,e),ValidationComponent.prototype.ngOnInit=function(){this.isValidator=a.a.isAuthorized(l.a.validation),this.isValidator?this.validationActions=[this.ACTION_NONE,this.ACTION_ACCEPT,this.ACTION_REJECT]:this.validationActions=[this.ACTION_NONE,this.ACTION_REJECT],this.init()},ValidationComponent.prototype.init=function(){var e=this;this.page=0,this.commits=[];var t;t=this.isValidator?this.validationService.getStagedCommitSummary(this.operations,this.getPerformersIRI(),this.getFormattedFromTime(),this.getFormattedToTime(),this.limit):this.validationService.getCurrentUserStagedCommitSummary(this.operations,this.getFormattedFromTime(),this.getFormattedToTime(),this.limit),s.a.startLoadingDiv(s.a.blockDivFullScreen),t.subscribe(function(t){s.a.stopLoadingDiv(s.a.blockDivFullScreen),e.pageCount=t.pageCount,e.tipTime=t.tipTime,null!=e.tipTime&&e.listCommits()})},ValidationComponent.prototype.listCommits=function(){var e=this,t=this.getFormattedToTime();null==t&&(t=this.tipTime);var n;n=this.isValidator?this.validationService.getCommits(this.operations,this.getPerformersIRI(),t,this.getFormattedFromTime(),this.operationSorting,this.timeSorting,this.page,this.limit):this.validationService.getCurrentUserCommits(this.operations,t,this.getFormattedFromTime(),this.operationSorting,this.timeSorting,this.page,this.limit),s.a.startLoadingDiv(s.a.blockDivFullScreen),n.subscribe(function(t){e.commits=t,e.commits.forEach(function(t){return t[e.VALIDATION_ACT_ATTR]=e.ACTION_NONE}),s.a.stopLoadingDiv(s.a.blockDivFullScreen)})},ValidationComponent.prototype.editComment=function(e){var t=this;this.basicModals.prompt("Comment",null,null,e[this.COMMENT_ATTR]).then(function(n){e[t.COMMENT_ATTR]=n},function(){})},ValidationComponent.prototype.acceptAll=function(){for(var e=0;e<this.commits.length;e++)this.commits[e][this.VALIDATION_ACT_ATTR]=this.ACTION_ACCEPT},ValidationComponent.prototype.rejectAll=function(){for(var e=0;e<this.commits.length;e++)this.commits[e][this.VALIDATION_ACT_ATTR]=this.ACTION_REJECT},ValidationComponent.prototype.validate=function(){var e=this,t=[];this.commits.forEach(function(n){n.commentAllowed&&n[e.VALIDATION_ACT_ATTR]==e.ACTION_REJECT&&t.push(n)});for(var n=!1,r=0,o=t;r<o.length;r++){if(null==o[r][this.COMMENT_ATTR]){n=!0;break}}n?this.promptCommentsPreview(t).then(function(){e.validateImpl()},function(){}):this.validateImpl()},ValidationComponent.prototype.validateImpl=function(){s.a.startLoadingDiv(s.a.blockDivFullScreen),this.validateCommitsRecursively(this.commits.slice())},ValidationComponent.prototype.promptCommentsPreview=function(e){var t=new f.a(e),n=new o.b(t,void 0,f.a),r={context:n.keyboard(27).size("lg").toJSON()};return this.modal.open(f.b,r).result},ValidationComponent.prototype.validateCommitsRecursively=function(e){var t,n=this;if(0==e.length)s.a.stopLoadingDiv(s.a.blockDivFullScreen),this.init();else{for(var r=e[0],o=1;o<e.length;o++)e[o].endTime<r.endTime&&(r=e[o]);if(r[this.VALIDATION_ACT_ATTR]==this.ACTION_ACCEPT)t=this.validationService.accept(r.commit);else{if(r[this.VALIDATION_ACT_ATTR]!=this.ACTION_REJECT)return e.splice(e.indexOf(r),1),void this.validateCommitsRecursively(e);var i=r.commentAllowed?r[this.COMMENT_ATTR]:null;t=this.isValidator?this.validationService.reject(r.commit,i):this.validationService.rejectCurrentUserCommit(r.commit,i)}t.subscribe(function(){e.splice(e.indexOf(r),1),n.validateCommitsRecursively(e)})}},ValidationComponent=g([n.i(r.c)({selector:"validation-component",template:n(1852),host:{class:"pageComponent"}}),m("design:paramtypes",[i.a,c.a,o.c,p.a,u.a])],ValidationComponent)}(d.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(79),i=n(46),a=n(83),s=n(6),l=n(13),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function HomeComponent(e,t,n,r){this.router=e,this.sharedModals=t,this.administrationService=n,this.sanitizer=r,this.privacyStatementAvailable=!1}return HomeComponent.prototype.ngOnInit=function(){var e=this;this.privacyStatementAvailable=s.a.getSystemSettings().privacyStatementAvailable;var t=s.a.getSystemSettings().homeContent;null!=t&&(this.safeCustomContentFromPref=this.sanitizer.bypassSecurityTrustHtml(t)),n(1609),n(1610),fetch("assets/ext/home/custom_content.html").then(function(e){return e.text()}).then(function(t){e.safeCustomContentFromFile=e.sanitizer.bypassSecurityTrustHtml(t)})},HomeComponent.prototype.isUserLogged=function(){return s.a.isLoggedIn()},HomeComponent.prototype.onLogin=function(){s.a.getLoggedUser().isAdmin()?this.router.navigate(["/Projects"]):this.sharedModals.changeProject()},HomeComponent.prototype.downloadPrivacyStatement=function(){this.administrationService.downloadPrivacyStatement().subscribe()},HomeComponent=c([n.i(r.c)({selector:"home-component",template:n(1853),host:{class:"pageComponent"}}),p("design:paramtypes",[i.c,l.a,a.a,o.c])],HomeComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(7),l=n(50),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function BrokenAlignmentComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!0,o.rolesUpdated=!1,o.namespaces=[],o.HTTP_DEFERENCIATION={show:"Http dereferenciation",value:"dereference"},o}return c(BrokenAlignmentComponent,e),BrokenAlignmentComponent.prototype.ngAfterViewInit=function(){this.initNamespaces()},BrokenAlignmentComponent.prototype.onRolesChanged=function(e){this.rolesToCheck=e,this.rolesUpdated=!0},BrokenAlignmentComponent.prototype.initNamespaces=function(){var e=this;s.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listAlignedNamespaces(this.rolesToCheck).subscribe(function(t){s.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.rolesUpdated=!1,e.namespaces=[];for(var n=0;n<t.length;n++)e.namespaces.push({namespace:t[n].namespace,count:t[n].count,check:!0,locations:t[n].locations,resolutions:null,chosenResolutionLocation:null,chosenResolutionOpt:null});e.namespaces.forEach(function(t){var n={};0==t.locations.length&&(n.remote=[e.HTTP_DEFERENCIATION]);for(var r=0;r<t.locations.length;r++)if("local"==t.locations[r].type){var o={show:"project: '"+t.locations[r].name+"'",value:t.locations[r].name};null==n[t.locations[r].type]?n[t.locations[r].type]=[o]:n[t.locations[r].type].push(o)}else{var o={show:"Endpoint: "+t.locations[r].sparqlEndpoint,value:t.locations[r].sparqlEndpoint};null!=t.locations[r].sparqlEndpoint&&(null==n[t.locations[r].type]?n[t.locations[r].type]=[o]:n[t.locations[r].type].push(o)),t.locations[r].dereferenceable&&(null==n[t.locations[r].type]?n[t.locations[r].type]=[e.HTTP_DEFERENCIATION]:n[t.locations[r].type].push(e.HTTP_DEFERENCIATION))}t.resolutions=n,t.chosenResolutionLocation=Object.keys(n)[0],t.chosenResolutionOpt=n[t.chosenResolutionLocation][0].value})})},BrokenAlignmentComponent.prototype.executeIcv=function(){var e=this,t=[];if(0==this.namespaces.length)return void this.basicModals.alert("No alignments","There are no alignments for the selected resource type(s) on which run the ICV","warning");for(var n=0;n<this.namespaces.length;n++)this.namespaces[n].check&&t.push(this.namespaces[n].namespace);if(0==t.length)return void this.basicModals.alert("Missing namespaces","You need to select at least a namespace in order to run the ICV","warning");for(var r={},n=0;n<this.namespaces.length;n++)this.namespaces[n].check&&(r[this.namespaces[n].namespace]=this.namespaces[n].chosenResolutionLocation+":"+this.namespaces[n].chosenResolutionOpt);s.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listBrokenAlignments(r,this.rolesToCheck).subscribe(function(t){s.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=t,e.initPaging(e.brokenRecordList)})},BrokenAlignmentComponent.prototype.checkAllNs=function(e){for(var t=0;t<this.namespaces.length;t++)this.namespaces[t].check=e},BrokenAlignmentComponent.prototype.objectKeys=function(e){return Object.keys(e)},BrokenAlignmentComponent=p([n.i(r.c)({selector:"broken-alignment",template:n(1854),host:{class:"pageComponent"}}),d("design:paramtypes",[l.a,i.a,a.a])],BrokenAlignmentComponent)}(o.a);(function(){function NsCheckItem(){}})(),function(){function NsResolution(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(14),l=n(11),c=n(50),p=n(7),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function BrokenDefinitionComponent(t,n,r,o){var i=e.call(this,r,o)||this;return i.icvService=t,i.browsingModals=n,i.checkLanguages=!1,i.checkRoles=!0,i.noteProperty=l.d.note,i}return d(BrokenDefinitionComponent,e),BrokenDefinitionComponent.prototype.executeIcv=function(){var e=this;p.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listBrokenDefinitions(this.rolesToCheck,this.noteProperty).subscribe(function(t){p.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=t,e.initPaging(e.brokenRecordList)})},BrokenDefinitionComponent.prototype.changeProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Change property",[l.d.note]).then(function(t){e.noteProperty=t},function(){})},BrokenDefinitionComponent=u([n.i(r.c)({selector:"broken-definition-component",template:n(1855),host:{class:"pageComponent"}}),f("design:paramtypes",[c.a,s.a,i.a,a.a])],BrokenDefinitionComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(3),l=n(7),c=n(36),p=n(50),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function ConflictualLabelComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!0,o}return d(ConflictualLabelComponent,e),ConflictualLabelComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listResourcesWithSameLabels(this.rolesToCheck).subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=[],t.forEach(function(t){for(var n,r=t.getAdditionalProperty("xlabel"),o=c.a.createLiteral(t.getAdditionalProperty("label")),i=0;i<e.brokenRecordList.length;i++)if(e.brokenRecordList[i].label.getShow()==o.getShow()){n=e.brokenRecordList[i];break}if(null!=n)n.resources.push(t);else if(null!=r){var a=new s.b(r,o.getShow(),s.c.xLabel);a.setAdditionalProperty(s.a.LANG,o.getLang()),e.brokenRecordList.push({resources:[t],label:a})}else e.brokenRecordList.push({resources:[t],label:o})}),e.initPaging(e.brokenRecordList)})},ConflictualLabelComponent=u([n.i(r.c)({selector:"conflictual-label-component",template:n(1856),host:{class:"pageComponent"}}),f("design:paramtypes",[p.a,i.a,a.a])],ConflictualLabelComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(50),l=n(7),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function CyclicConceptComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!1,o}return c(CyclicConceptComponent,e),CyclicConceptComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listConceptsHierarchicalCycles().subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=t,e.initPaging(e.brokenRecordList)})},CyclicConceptComponent=p([n.i(r.c)({selector:"cyclic-concept-component",template:n(1857),host:{class:"pageComponent"}}),d("design:paramtypes",[s.a,i.a,a.a])],CyclicConceptComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(50),i=n(33),a=n(10),s=n(7),l=n(2),c=n(14),p=n(13),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function DanglingConceptComponent(e,t,n,r,o){this.icvService=e,this.skosService=t,this.basicModals=n,this.browsingModals=r,this.sharedModals=o,this.selectedScheme=null}return DanglingConceptComponent.prototype.ngOnInit=function(){var e=this;this.skosService.getAllSchemes().subscribe(function(t){e.schemeList=t,a.a.sortResources(e.schemeList,a.b.show)})},DanglingConceptComponent.prototype.runIcv=function(){var e=this;this.brokenConceptList=null,this.brokenConceptMap=null,s.a.startLoadingDiv(document.getElementById("blockDivIcv")),null==this.selectedScheme?this.icvService.listDanglingConceptsForAllSchemes().subscribe(function(t){e.brokenConceptMap=[],a.a.sortResources(t,a.b.show),t.forEach(function(t){var n=t.getAdditionalProperty("dangScheme"),r=e.schemeList.find(function(e){return e.getURI()==n}),o=e.brokenConceptMap.find(function(e){return e.scheme.equals(r)});null==o?(o={scheme:r,concepts:[t]},e.brokenConceptMap.push(o)):o.concepts.push(t)}),e.brokenConceptMap.sort(function(e,t){return e.scheme.getShow().localeCompare(t.scheme.getShow())}),s.a.stopLoadingDiv(document.getElementById("blockDivIcv"))}):this.icvService.listDanglingConcepts(this.selectedScheme).subscribe(function(t){a.a.sortResources(t,a.b.show),e.brokenConceptList=t,s.a.stopLoadingDiv(document.getElementById("blockDivIcv"))})},DanglingConceptComponent.prototype.setAsTopConcept=function(e,t){var n=this;this.skosService.addTopConcept(e,t).subscribe(function(e){n.runIcv()})},DanglingConceptComponent.prototype.setAllTopConcept=function(){var e=this;this.icvService.setAllDanglingAsTopConcept(this.selectedScheme).subscribe(function(t){e.runIcv()})},DanglingConceptComponent.prototype.selectBroader=function(e,t){var n=this;this.browsingModals.browseConceptTree("Select a skos:broader",[t],!0).then(function(t){n.skosService.addBroaderConcept(e,t).subscribe(function(e){n.runIcv()})},function(){})},DanglingConceptComponent.prototype.selectBroaderForAll=function(){var e=this;this.browsingModals.browseConceptTree("Select a skos:broader",[this.selectedScheme],!1).then(function(t){e.icvService.setBroaderForAllDangling(e.selectedScheme,t).subscribe(function(t){e.runIcv()})},function(){})},DanglingConceptComponent.prototype.removeFromScheme=function(e,t){var n=this;this.basicModals.confirm("Remove from scheme","Warning, if this concept has narrowers, removing the dangling concept from the scheme may generate other dangling concepts. Are you sure to proceed?").then(function(r){n.skosService.removeConceptFromScheme(e,t).subscribe(function(e){n.runIcv()})},function(){})},DanglingConceptComponent.prototype.removeAllFromScheme=function(){var e=this;this.basicModals.confirm("Remove from scheme","Warning, if the concepts have narrowers, removing them may generate other dangling concepts. Are you sure to proceed?").then(function(t){e.icvService.removeAllDanglingFromScheme(e.selectedScheme).subscribe(function(t){e.runIcv()})},function(){})},DanglingConceptComponent.prototype.deleteConcept=function(e){var t=this;this.skosService.deleteConcept(e).subscribe(function(e){t.runIcv()})},DanglingConceptComponent.prototype.deleteAll=function(e){var t=this;this.icvService.deleteAllDanglingConcepts(this.selectedScheme).subscribe(function(e){t.runIcv()})},DanglingConceptComponent.prototype.onResourceClick=function(e){this.sharedModals.openResourceView(e,!1)},DanglingConceptComponent=d([n.i(r.c)({selector:"dangling-concept-component",template:n(1858),host:{class:"pageComponent"}}),u("design:paramtypes",[o.a,i.a,l.a,c.a,p.a])],DanglingConceptComponent)}();!function(){function BrokenConceptEntry(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(11),i=n(106),a=n(50),s=n(7),l=n(6),c=n(2),p=n(14),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function DanglingXLabelComponent(e,t,n,r){this.icvService=e,this.classesService=t,this.browsingModals=n,this.basicModals=r}return DanglingXLabelComponent.prototype.runIcv=function(){var e=this;s.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listDanglingXLabels().subscribe(function(t){e.brokenLabelList=t,s.a.stopLoadingDiv(document.getElementById("blockDivIcv"))},function(e){s.a.stopLoadingDiv(document.getElementById("blockDivIcv"))})},DanglingXLabelComponent.prototype.deleteLabel=function(e){var t=this;this.classesService.deleteInstance(e,o.e.label).subscribe(function(e){t.runIcv()})},DanglingXLabelComponent.prototype.assignLabel=function(e){var t=this,n=[o.e.prefLabel,o.e.altLabel,o.e.hiddenLabel];this.basicModals.selectResource("Set skosxl:Label as",null,n).then(function(n){var r=l.a.getWorkingProjectCtx().getProjectPreferences().activeSchemes;t.browsingModals.browseConceptTree("Assign xLabel to concept",r,!0).then(function(r){t.icvService.setDanglingXLabel(r,n,e).subscribe(function(e){t.runIcv()})},function(){})},function(){})},DanglingXLabelComponent.prototype.deleteAllLabel=function(){var e=this;this.icvService.deleteAllDanglingXLabel().subscribe(function(t){e.runIcv()})},DanglingXLabelComponent=d([n.i(r.c)({selector:"dangling-label-component",template:n(1859),host:{class:"pageComponent"}}),u("design:paramtypes",[a.a,i.a,p.a,c.a])],DanglingXLabelComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(69),i=n(13),a=n(2),s=n(7),l=n(50),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function DisjointExactMatchConceptComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!1,o}return c(DisjointExactMatchConceptComponent,e),DisjointExactMatchConceptComponent.prototype.executeIcv=function(){var e=this;s.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listConceptsExactMatchDisjoint().subscribe(function(t){s.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=t,e.initPaging(e.brokenRecordList)})},DisjointExactMatchConceptComponent=p([n.i(r.c)({selector:"disjoint-exact-match-component",template:n(1860),host:{class:"pageComponent"}}),d("design:paramtypes",[l.a,a.a,i.a])],DisjointExactMatchConceptComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(7),l=n(50),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function DisjointRelatedConceptComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!1,o}return c(DisjointRelatedConceptComponent,e),DisjointRelatedConceptComponent.prototype.executeIcv=function(){var e=this;s.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listConceptsRelatedDisjoint().subscribe(function(t){s.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=t,e.initPaging(e.brokenRecordList)})},DisjointRelatedConceptComponent=p([n.i(r.c)({selector:"disjoint-related-component",template:n(1861),host:{class:"pageComponent"}}),d("design:paramtypes",[l.a,i.a,a.a])],DisjointRelatedConceptComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(3),l=n(7),c=n(36),p=n(50),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function ExtraSpaceLabelComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!0,o}return d(ExtraSpaceLabelComponent,e),ExtraSpaceLabelComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listResourcesWithExtraSpacesInLabel(this.rolesToCheck).subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=[],t.forEach(function(t){var n=t.getAdditionalProperty("xlabel"),r=c.a.createLiteral(t.getAdditionalProperty("label"));if(null!=n){var o=new s.b(n,r.getShow(),s.c.xLabel);o.setAdditionalProperty(s.a.LANG,r.getLang()),e.brokenRecordList.push({resource:t,label:o})}else e.brokenRecordList.push({resource:t,label:r})}),e.initPaging(e.brokenRecordList)})},ExtraSpaceLabelComponent=u([n.i(r.c)({selector:"extra-space-label-component",template:n(1862),host:{class:"pageComponent"}}),f("design:paramtypes",[p.a,i.a,a.a])],ExtraSpaceLabelComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(50),l=n(7),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function HierarchicalRedundancyComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!1,o.sameScheme=!0,o}return c(HierarchicalRedundancyComponent,e),HierarchicalRedundancyComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listConceptsHierarchicalRedundancies(this.sameScheme).subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=t,e.initPaging(e.brokenRecordList)})},HierarchicalRedundancyComponent=p([n.i(r.c)({selector:"hierarchical-redundancy-component",template:n(1863),host:{class:"pageComponent"}}),d("design:paramtypes",[s.a,i.a,a.a])],HierarchicalRedundancyComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=function(){function IcvComponent(){}return IcvComponent=o([n.i(r.c)({selector:"icv-component",template:'\n        <div class="vbox">\n            <router-outlet></router-outlet>\n        </div>\n    ',host:{class:"pageComponent"}})],IcvComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(46),i=n(11),a=n(17),s=n(20),l=n(6),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function IcvListComponent(e){this.router=e,this.structuralIcv={open:!0,list:[{name:"Dangling concepts",model:[i.d.uri],lexicalization:[],routeName:"/Icv/DanglingConcept",description:"skos:Concept(s) that have no skos:broader or are not skos:topConceptOf in the skos:ConceptScheme where they belong",authAction:s.a.icvGenericConcept},{name:"Omitted topConcept",model:[i.d.uri],lexicalization:[],routeName:"/Icv/NoTopConceptScheme",description:"skos:ConceptScheme(s) that have no top concept",authAction:s.a.icvGenericConcept},{name:"Concepts in no scheme",model:[i.d.uri],lexicalization:[],routeName:"/Icv/NoSchemeConcept",description:"skos:Concept(s) that doesn't belong to any scheme",authAction:s.a.icvGenericConcept},{name:"TopConcept with broader",model:[i.d.uri],lexicalization:[],routeName:"/Icv/TopConceptWithBroader",description:"skos:Concept(s) that are skos:topConceptOf some scheme and have some skos:broader concept",authAction:s.a.icvGenericConcept},{name:"Concepts related disjoint relations",model:[i.d.uri],lexicalization:[],routeName:"/Icv/DisjointRelatedConcept",description:"skos:Concept(s) connected to another with both the skos:related and the skos:broaderTransitive (skos:related relation is disjoint with skos:broaderTransitive)",authAction:s.a.icvGenericConcept},{name:"Concepts exactMatch disjoint relations",model:[i.d.uri],lexicalization:[],routeName:"/Icv/DisjointExactMatchConcept",description:"skos:Concept(s) connected to another with both the skos:exactMatch and one of skos:broadMatch or skos:relatedMatch (skos:exactMatch relation is disjoint with skos:broadMatch and skos:relatedMatch)",authAction:s.a.icvGenericConcept},{name:"Hierarchical redundancies",model:[i.d.uri],lexicalization:[],routeName:"/Icv/HierarchicalRedundancy",description:"skos:Concept(s) that have redundant hierarchical relations with another concept",authAction:s.a.icvGenericConcept},{name:"Cyclic hierarchical concepts",model:[i.d.uri],lexicalization:[],routeName:"/Icv/HierarchicalCycle",description:"skos:Concept(s) that compose a hierarchical cycle through the skos:narrower and skos:broader relations",authAction:s.a.icvGenericConcept}]},this.labelIcv={open:!0,list:[{name:"No skos:prefLabel resources",model:[],lexicalization:[i.d.uri],routeName:"/Icv/NoLabelResource",description:"skos:Concept(s) or skos:ConceptScheme(s) that don't have any skos:prefLabel",authAction:s.a.icvGenericResource},{name:"No skosxl:prefLabel resources",model:[],lexicalization:[i.e.uri],routeName:"/Icv/NoLabelResource",description:"skos:Concept(s) or skos:ConceptScheme(s) that don't have any skosxl:prefLabel",authAction:s.a.icvGenericResource},{name:"No mandatory label resources",model:[],lexicalization:[],routeName:"/Icv/NoMandatoryLabelResource",description:"Resources that don't have any label in the given languages",authAction:s.a.icvGenericResource},{name:"Only alternative label resources",model:[],lexicalization:[i.d.uri,i.e.uri],routeName:"/Icv/OnlyAltLabelResource",description:"Resources that have an alternative label but not a preferred in the same language",authAction:s.a.icvGenericResource},{name:"No language tag label resources",model:[],lexicalization:[],routeName:"/Icv/NoLangLabelResource",description:"Resources that have a label without language tag",authAction:s.a.icvGenericResource},{name:"Overlapped label resources",model:[],lexicalization:[],routeName:"/Icv/OverlappedLabelResource",description:"Resources that have the same label in the same language duplicated as pref, alt or hidden label",authAction:s.a.icvGenericResource},{name:"Conflictual label resources",model:[],lexicalization:[i.d.uri,i.e.uri],routeName:"/Icv/ConflictualLabelResource",description:"Resources or, specifically, concepts in the same scheme, that have the same preferred label in the same language",authAction:s.a.icvGenericResource},{name:"Extra whitespace label resources",model:[],lexicalization:[],routeName:"/Icv/ExtraSpaceLabelResource",description:"Resources that have some extra whitespace in a label",authAction:s.a.icvGenericResource},{name:"Multiple preferred labels resources",model:[],lexicalization:[i.d.uri,i.e.uri],routeName:"/Icv/MutliplePrefLabelResource",description:"Resources that have multiple preferred labels in the same language",authAction:s.a.icvGenericResource},{name:"Dangling skosxl:Label(s)",model:[],lexicalization:[i.e.uri],routeName:"/Icv/DanglingXLabel",description:"skosxl:Label(s) that are not linked with any skos:Concept",authAction:s.a.icvDanglingXLabel}]},this.genericIcv={open:!0,list:[{name:"No definition resources",model:[i.d.uri],lexicalization:[],routeName:"/Icv/NoDefinitionResource",description:"Resources that don't have any skos definition in the given language(s)",authAction:s.a.icvGenericResource},{name:"Broken alignments",model:[],lexicalization:[],routeName:"/Icv/BrokenAlignment",description:"Alignment where the object resource doesn't exist or is deprecated",authAction:s.a.icvGenericResource},{name:"Broken definitions",model:[],lexicalization:[],routeName:"/Icv/BrokenDefinition",description:"Definitions of resources  where the object resource doesn't exist or is deprecated",authAction:s.a.icvGenericResource},{name:"Invalid URI local resources",model:[],lexicalization:[],routeName:"/Icv/InvalidURI",description:"Locally defined resources whith syntactically invalid URI",authAction:s.a.icvGenericResource}]}}return IcvListComponent.prototype.ngOnInit=function(){this.lexicalizationModel=l.a.getWorkingProject().getLexicalizationModelType(),this.dataModel=l.a.getWorkingProject().getModelType()},IcvListComponent.prototype.goToIcv=function(e){if(void 0==e.routeName)return void alert(e.name+" still not available");e.param?this.router.navigate([e.routeName,e.param]):this.router.navigate([e.routeName])},IcvListComponent.prototype.isIcvAuthorized=function(e){return a.a.isAuthorized(e.authAction)},IcvListComponent.prototype.togglePanel=function(e){e.open=!e.open},IcvListComponent.prototype.isCompatibleWithProject=function(e){return!(0!=e.lexicalization.length&&-1==e.lexicalization.indexOf(this.lexicalizationModel)||0!=e.model.length&&-1==e.model.indexOf(this.dataModel))},IcvListComponent=c([n.i(r.c)({selector:"icv-list",template:n(1865),host:{class:"pageComponent"}}),p("design:paramtypes",[o.c])],IcvListComponent)}();!function(){function ICVElement(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(7),l=n(50),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function InvalidUriComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkRoles=!1,o.checkLanguages=!1,o}return c(InvalidUriComponent,e),InvalidUriComponent.prototype.executeIcv=function(){var e=this;s.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listLocalInvalidURIs().subscribe(function(t){s.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=t,e.initPaging(e.brokenRecordList)})},InvalidUriComponent=p([n.i(r.c)({selector:"invalid-uri-component",template:n(1866),host:{class:"pageComponent"}}),d("design:paramtypes",[l.a,i.a,a.a])],InvalidUriComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(66),l=n(7),c=n(50),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function MultiplePrefLabelComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!0,o}return p(MultiplePrefLabelComponent,e),MultiplePrefLabelComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listResourcesWithMorePrefLabelSameLang(this.rolesToCheck).subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=[],t.forEach(function(t){var n=s.a.fromTagsToLanguages(t.getAdditionalProperty("duplicateLang").split(","));e.brokenRecordList.push({resource:t,langs:n})}),e.initPaging(e.brokenRecordList)})},MultiplePrefLabelComponent=d([n.i(r.c)({selector:"multiple-pref-label-component",template:n(1867),host:{class:"pageComponent"}}),u("design:paramtypes",[c.a,i.a,a.a])],MultiplePrefLabelComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(66),l=n(7),c=n(50),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function NoDefinitionResourceComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkRoles=!0,o.checkLanguages=!0,o}return p(NoDefinitionResourceComponent,e),NoDefinitionResourceComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listResourcesNoDef(this.rolesToCheck,this.langsToCheck).subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=[],t.forEach(function(t){var n=s.a.fromTagsToLanguages(t.getAdditionalProperty("missingLang").split(","));e.brokenRecordList.push({resource:t,langs:n})}),e.initPaging(e.brokenRecordList)})},NoDefinitionResourceComponent=d([n.i(r.c)({selector:"no-definition-component",template:n(1868),host:{class:"pageComponent"}}),u("design:paramtypes",[c.a,i.a,a.a])],NoDefinitionResourceComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(11),i=n(50),a=n(23),s=n(12),l=n(33),c=n(111),p=n(6),d=n(25),u=n(13),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function NoLabelResourceComponent(e,t,n,r,o,i,a){this.icvService=e,this.skosService=t,this.skosxlService=n,this.resourcesService=r,this.propService=o,this.creationModals=i,this.sharedModals=a}return NoLabelResourceComponent.prototype.ngOnInit=function(){this.lexicalizationModel=p.a.getWorkingProject().getLexicalizationModelType(),this.lexicalizationModel==o.d.uri?(this.title="No skos:prefLabel resource",this.message="skos:Concept(s), skos:ConceptScheme(s) and skos:Collection(s) that don't have a skos:prefLabel.",this.actionLabel="Add skos:prefLabel"):this.lexicalizationModel==o.e.uri?(this.title="No skosxl:prefLabel resource",this.message="skos:Concept(s), skos:ConceptScheme(s) and skos:Collection(s) that don't have a skos:prefLabel.",this.actionLabel="Add skosxl:prefLabel"):this.lexicalizationModel==o.b.uri&&(this.title="No rdfs:label resource",this.message="owl:Class(es) and instances that don't have a rdfs:label.",this.actionLabel="Add rdfs:label")},NoLabelResourceComponent.prototype.runIcv=function(){var e=this;this.lexicalizationModel==o.d.uri?this.icvService.listResourcesWithNoSKOSPrefLabel().subscribe(function(t){e.brokenResourceList=t}):this.lexicalizationModel==o.e.uri&&this.icvService.listResourcesWithNoSKOSXLPrefLabel().subscribe(function(t){e.brokenResourceList=t})},NoLabelResourceComponent.prototype.fix=function(e){var t=this;this.lexicalizationModel==o.d.uri?this.creationModals.newPlainLiteral("Add skos:prefLabel").then(function(n){t.skosService.setPrefLabel(e,n[0]).subscribe(function(e){t.runIcv()})},function(){}):this.lexicalizationModel==o.e.uri?this.creationModals.newXLabel("Add skosxl:prefLabel").then(function(n){t.skosxlService.setPrefLabel(e,n.labels[0],n.cls).subscribe(function(e){t.runIcv()})},function(){}):this.creationModals.newPlainLiteral("Add rdfs:label").then(function(n){t.resourcesService.addValue(e,o.b.label,n[0]).subscribe(function(e){t.runIcv()})},function(){})},NoLabelResourceComponent.prototype.onResourceClick=function(e){this.sharedModals.openResourceView(e,!1)},NoLabelResourceComponent=f([n.i(r.c)({selector:"no-label-resource-component",template:n(1869),host:{class:"pageComponent"}}),h("design:paramtypes",[i.a,l.a,c.a,s.a,a.a,d.a,u.a])],NoLabelResourceComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(3),l=n(11),c=n(7),p=n(50),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function NoLangLabelComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!0,o}return d(NoLangLabelComponent,e),NoLangLabelComponent.prototype.executeIcv=function(){var e=this;c.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listResourcesWithNoLanguageTagForLabel(this.rolesToCheck).subscribe(function(t){c.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=[],t.forEach(function(t){var n=t.getAdditionalProperty("xlabel"),r=t.getAdditionalProperty("label");null!=n?e.brokenRecordList.push({resource:t,label:new s.b(n,r,s.c.xLabel)}):e.brokenRecordList.push({resource:t,label:new s.f(r,l.j.string.getURI())})}),e.initPaging(e.brokenRecordList)})},NoLangLabelComponent=u([n.i(r.c)({selector:"no-lang-label-component",template:n(1870),host:{class:"pageComponent"}}),f("design:paramtypes",[p.a,i.a,a.a])],NoLangLabelComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(66),l=n(7),c=n(50),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function NoMandatoryLabelComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!0,o.checkRoles=!0,o}return p(NoMandatoryLabelComponent,e),NoMandatoryLabelComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listResourcesNoLexicalization(this.rolesToCheck,this.langsToCheck).subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=[],t.forEach(function(t){var n=s.a.fromTagsToLanguages(t.getAdditionalProperty("missingLang").split(","));e.brokenRecordList.push({resource:t,langs:n})}),e.initPaging(e.brokenRecordList)})},NoMandatoryLabelComponent=d([n.i(r.c)({selector:"no-mandatory-label-component",template:n(1871),host:{class:"pageComponent"}}),u("design:paramtypes",[c.a,i.a,a.a])],NoMandatoryLabelComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(1),i=(n.n(o),n(50)),a=n(33),s=n(7),l=n(14),c=n(13),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function NoSchemeConceptComponent(e,t,n,r){this.icvService=e,this.skosService=t,this.browsingModals=n,this.sharedModals=r}return NoSchemeConceptComponent.prototype.runIcv=function(){var e=this;s.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listConceptsWithNoScheme().subscribe(function(t){e.brokenConceptList=t,s.a.stopLoadingDiv(document.getElementById("blockDivIcv"))})},NoSchemeConceptComponent.prototype.addToScheme=function(e){var t=this;this.browsingModals.browseSchemeList("Select a scheme").then(function(n){t.skosService.addConceptToScheme(e,n).subscribe(function(e){t.runIcv()})},function(){})},NoSchemeConceptComponent.prototype.addAllToScheme=function(){var e=this;this.browsingModals.browseSchemeList("Select a scheme").then(function(t){e.icvService.addAllConceptsToScheme(t).subscribe(function(t){e.runIcv()})},function(){})},NoSchemeConceptComponent.prototype.deleteConcept=function(e){var t=this;this.skosService.deleteConcept(e).subscribe(function(e){t.runIcv()})},NoSchemeConceptComponent.prototype.deleteAllConcept=function(){var e=this,t=[];t=this.brokenConceptList.map(function(t){return e.skosService.deleteConcept(t)}),o.Observable.forkJoin(t).subscribe(function(t){e.runIcv()})},NoSchemeConceptComponent.prototype.onResourceClick=function(e){this.sharedModals.openResourceView(e,!1)},NoSchemeConceptComponent=p([n.i(r.c)({selector:"no-scheme-concept-component",template:n(1872),host:{class:"pageComponent"}}),d("design:paramtypes",[i.a,a.a,l.a,c.a])],NoSchemeConceptComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(1),i=(n.n(o),n(50)),a=n(33),s=n(7),l=n(21),c=n(2),p=n(14),d=n(25),u=n(13),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function NoTopConceptSchemeComponent(e,t,n,r,o,i,a){this.icvService=e,this.skosService=t,this.preferences=n,this.basicModals=r,this.browsingModals=o,this.creationModals=i,this.sharedModals=a}return NoTopConceptSchemeComponent.prototype.runIcv=function(){var e=this;s.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listConceptSchemesWithNoTopConcept().subscribe(function(t){e.brokenSchemeList=t,s.a.stopLoadingDiv(document.getElementById("blockDivIcv"))})},NoTopConceptSchemeComponent.prototype.selectTopConcept=function(e){var t=this;this.browsingModals.browseConceptTree("Select a top concept",[e],!0).then(function(n){t.skosService.addTopConcept(n,e).subscribe(function(e){t.runIcv()})},function(){})},NoTopConceptSchemeComponent.prototype.createTopConcept=function(e){var t=this;this.creationModals.newConceptCf("Create new skos:Concept",null,null,null,!0).then(function(e){t.skosService.createConcept(e.label,e.schemes,e.uriResource,null,e.cls,null,e.cfValue).subscribe(function(e){t.runIcv()},function(n){n.name.endsWith("PrefAltLabelClashException")&&t.basicModals.confirm("Warning",n.message+" Do you want to force the creation?","warning").then(function(n){t.skosService.createConcept(e.label,e.schemes,e.uriResource,null,e.cls,null,e.cfValue,!1).subscribe(function(e){t.runIcv()})},function(e){})})},function(){})},NoTopConceptSchemeComponent.prototype.deleteScheme=function(e){var t=this;this.basicModals.confirm("Delete scheme","Warning, deleting this scheme, if it contains some concepts, will generate concepts in no scheme. Are you sure to proceed?").then(function(n){t.skosService.deleteConceptScheme(e).subscribe(function(e){t.runIcv()})},function(){})},NoTopConceptSchemeComponent.prototype.deleteAllScheme=function(){var e=this;this.basicModals.confirm("Delete scheme","Warning, deleting the schemes, if they contain some concepts, will generate concepts in no scheme. Are you sure to proceed?").then(function(t){var n=[];n=e.brokenSchemeList.map(function(t){return e.skosService.deleteConceptScheme(t)}),o.Observable.forkJoin(n).subscribe(function(t){e.runIcv()})},function(){})},NoTopConceptSchemeComponent.prototype.onResourceClick=function(e){this.sharedModals.openResourceView(e,!1)},NoTopConceptSchemeComponent=f([n.i(r.c)({selector:"no-top-concept-scheme-component",template:n(1873),host:{class:"pageComponent"}}),h("design:paramtypes",[i.a,a.a,l.a,c.a,p.a,d.a,u.a])],NoTopConceptSchemeComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(66),l=n(7),c=n(50),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function OnlyAltLabelResourceComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!0,o}return p(OnlyAltLabelResourceComponent,e),OnlyAltLabelResourceComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listResourcesWithAltNoPrefLabel(this.rolesToCheck).subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=[],t.forEach(function(t){var n=s.a.fromTagsToLanguages(t.getAdditionalProperty("missingLang").split(","));e.brokenRecordList.push({resource:t,langs:n})}),e.initPaging(e.brokenRecordList)})},OnlyAltLabelResourceComponent=d([n.i(r.c)({selector:"only-alt-label-resource-component",template:n(1874),host:{class:"pageComponent"}}),u("design:paramtypes",[c.a,i.a,a.a])],OnlyAltLabelResourceComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(69),i=n(2),a=n(13),s=n(3),l=n(7),c=n(36),p=n(50),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function OverlappedLabelComponent(t,n,r){var o=e.call(this,n,r)||this;return o.icvService=t,o.checkLanguages=!1,o.checkRoles=!0,o}return d(OverlappedLabelComponent,e),OverlappedLabelComponent.prototype.executeIcv=function(){var e=this;l.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listResourcesWithOverlappedLabels(this.rolesToCheck).subscribe(function(t){l.a.stopLoadingDiv(document.getElementById("blockDivIcv")),e.brokenRecordList=[],t.forEach(function(t){for(var n,r=t.getAdditionalProperty("xlabel"),o=c.a.createLiteral(t.getAdditionalProperty("label")),i=0;i<e.brokenRecordList.length;i++)if(e.brokenRecordList[i].label.getShow()==o.getShow()){n=e.brokenRecordList[i];break}if(null!=n)n.resources.push(t);else if(null!=r){var a=new s.b(r,o.getShow(),s.c.xLabel);a.setAdditionalProperty(s.a.LANG,o.getLang()),e.brokenRecordList.push({resources:[t],label:a})}else e.brokenRecordList.push({resources:[t],label:o})}),e.initPaging(e.brokenRecordList)})},OverlappedLabelComponent=u([n.i(r.c)({selector:"overlapped-label-component",template:n(1875),host:{class:"pageComponent"}}),f("design:paramtypes",[p.a,i.a,a.a])],OverlappedLabelComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(7),i=n(50),a=n(33),s=n(13),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function TopConceptWithBroaderComponent(e,t,n){this.icvService=e,this.skosService=t,this.sharedModals=n}return TopConceptWithBroaderComponent.prototype.runIcv=function(){var e=this;o.a.startLoadingDiv(document.getElementById("blockDivIcv")),this.icvService.listTopConceptsWithBroader().subscribe(function(t){e.brokenRecordList=t,o.a.stopLoadingDiv(document.getElementById("blockDivIcv"))})},TopConceptWithBroaderComponent.prototype.removeBroaders=function(e){var t=this,n=e.concept,r=e.scheme;this.icvService.removeBroadersToConcept(n,r).subscribe(function(e){t.runIcv()})},TopConceptWithBroaderComponent.prototype.removeAsTopConceptOf=function(e){var t=this,n=e.concept,r=e.scheme;this.skosService.removeTopConcept(n,r).subscribe(function(e){t.runIcv()})},TopConceptWithBroaderComponent.prototype.removeBroadersToAll=function(){var e=this;this.icvService.removeBroadersToAllConcepts().subscribe(function(t){e.runIcv()})},TopConceptWithBroaderComponent.prototype.removeAllAsTopConceptOf=function(){var e=this;this.icvService.removeAllAsTopConceptsWithBroader().subscribe(function(t){e.runIcv()})},TopConceptWithBroaderComponent.prototype.onResourceClick=function(e){this.sharedModals.openResourceView(e,!1)},TopConceptWithBroaderComponent=l([n.i(r.c)({selector:"top-concept-with-broader-component",template:n(1876),host:{class:"pageComponent"}}),c("design:paramtypes",[i.a,a.a,s.a])],TopConceptWithBroaderComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(4),i=n(41),a=(n.n(i),n(3)),s=n(110),l=n(17),c=n(10),p=n(7),d=n(20),u=n(2),f=n(297),h=n(507),g=n(508),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(){function MetadataRegistryComponent(e,t,n){this.metadataRegistryService=e,this.basicModals=t,this.modal=n,this.lexicalizationSets=[]}return MetadataRegistryComponent.prototype.ngOnInit=function(){this.initCatalogRecords()},MetadataRegistryComponent.prototype.initCatalogRecords=function(e){var t=this;this.metadataRegistryService.getCatalogRecords().subscribe(function(n){t.catalogs=n,t.selectedCatalog=null,t.activeDatasetMetadata=null,t.selectedVersion=null,t.lexicalizationSets=[],null!=e&&t.catalogs.forEach(function(n){if(n.identity==e)return void t.selectCatalog(n)})})},MetadataRegistryComponent.prototype.selectCatalog=function(e){this.selectedCatalog!=e&&(this.selectedCatalog=e,this.selectedVersion=null,this.lexicalizationSets=[],this.initActiveDatasetMetadata())},MetadataRegistryComponent.prototype.initActiveDatasetMetadata=function(){var e=this;this.metadataRegistryService.getDatasetMetadata(new a.b(this.selectedCatalog.abstractDataset.identity)).subscribe(function(t){e.activeDatasetMetadata=t,e.initEmbeddedLexicalizationSets()})},MetadataRegistryComponent.prototype.onDatasetUpdate=function(){this.initActiveDatasetMetadata()},MetadataRegistryComponent.prototype.discoverDataset=function(){var e=this;this.basicModals.prompt("Discover Dataset",{value:"Resource IRI",tooltip:"This IRI can be directly the IRI of the VoID description of the Dataset (the instance of void:Dataset) or the IRI of any resource in the Dataset that points to this VoID description"}).then(function(t){c.a.testIRI(t)?(p.a.startLoadingDiv(p.a.blockDivFullScreen),e.metadataRegistryService.discoverDataset(new a.b(t)).subscribe(function(t){p.a.stopLoadingDiv(p.a.blockDivFullScreen),e.initCatalogRecords()})):e.basicModals.alert("Invalid IRI","'"+t+"' is not a valid IRI")})},MetadataRegistryComponent.prototype.addCatalogRecord=function(){var e=this,t=new f.a("New Catalog Record"),n=new o.b(t,void 0,f.a),r={context:n.keyboard(27).toJSON()};this.modal.open(f.b,r).result.then(function(t){e.initCatalogRecords()},function(){})},MetadataRegistryComponent.prototype.deleteCatalogRecord=function(){var e=this;this.metadataRegistryService.deleteCatalogRecord(new a.b(this.selectedCatalog.identity)).subscribe(function(t){e.initCatalogRecords()})},MetadataRegistryComponent.prototype.addDatasetVersion=function(){var e=this,t=new h.a(this.selectedCatalog.identity),n=new o.b(t,void 0,h.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(h.b,r).result.then(function(t){e.initCatalogRecords(e.selectedCatalog.identity)},function(){})},MetadataRegistryComponent.prototype.deleteDatasetVersion=function(){var e=this;this.metadataRegistryService.deleteDatasetVersion(new a.b(this.selectedVersion.identity)).subscribe(function(t){e.initCatalogRecords()})},MetadataRegistryComponent.prototype.onVersionUpdate=function(){this.initCatalogRecords(this.selectedCatalog.identity)},MetadataRegistryComponent.prototype.initEmbeddedLexicalizationSets=function(){var e=this;p.a.startLoadingDiv(this.lexSetBlockDivElement.nativeElement),this.metadataRegistryService.getEmbeddedLexicalizationSets(new a.b(this.selectedCatalog.abstractDataset.identity)).subscribe(function(t){p.a.stopLoadingDiv(e.lexSetBlockDivElement.nativeElement),e.lexicalizationSets=t,e.selectedLexicalizationSet=null})},MetadataRegistryComponent.prototype.assessLexicalizationModel=function(){var e=this;p.a.startLoadingDiv(this.lexSetBlockDivElement.nativeElement),this.metadataRegistryService.assessLexicalizationModel(new a.b(this.selectedCatalog.abstractDataset.identity)).subscribe(function(t){p.a.stopLoadingDiv(e.lexSetBlockDivElement.nativeElement),e.initEmbeddedLexicalizationSets()})},MetadataRegistryComponent.prototype.addEmbeddedLexicalizationSet=function(){var e=this,t=new g.a(this.selectedCatalog.abstractDataset.identity),n=new o.b(t,void 0,g.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(g.b,r).result.then(function(t){e.initEmbeddedLexicalizationSets()},function(){})},MetadataRegistryComponent.prototype.deleteEmbeddedLexicalizationSet=function(){var e=this;this.metadataRegistryService.deleteEmbeddedLexicalizationSet(new a.b(this.selectedLexicalizationSet.identity)).subscribe(function(t){e.initEmbeddedLexicalizationSets()})},MetadataRegistryComponent.prototype.deleteAllEmbeddedLexicalizationSet=function(){var e=this,t=[];this.lexicalizationSets.forEach(function(n){t.push(e.metadataRegistryService.deleteEmbeddedLexicalizationSet(new a.b(n.identity)))}),p.a.startLoadingDiv(this.lexSetBlockDivElement.nativeElement),i.Observable.forkJoin(t).subscribe(function(t){p.a.stopLoadingDiv(e.lexSetBlockDivElement.nativeElement),e.initEmbeddedLexicalizationSets()})},MetadataRegistryComponent.prototype.isAddDatasetAuthorized=function(){return l.a.isAuthorized(d.a.metadataRegistryCreate)},MetadataRegistryComponent.prototype.isRemoveDatasetAuthorized=function(){return l.a.isAuthorized(d.a.metadataRegistryDelete)},MetadataRegistryComponent.prototype.isEditDatasetAuthorized=function(){return l.a.isAuthorized(d.a.metadataRegistryUpdate)},MetadataRegistryComponent.prototype.isAddEmbeddedLexicalizationSetAuthorized=function(){return l.a.isAuthorized(d.a.metadataRegistryCreate)},MetadataRegistryComponent.prototype.isRemoveEmbeddedLexicalizationSetAuthorized=function(){return l.a.isAuthorized(d.a.metadataRegistryDelete)},m([n.i(r.F)("blockDiv"),v("design:type",r.e)],MetadataRegistryComponent.prototype,"lexSetBlockDivElement",void 0),MetadataRegistryComponent=m([n.i(r.c)({selector:"metadata-registry-component",template:n(1879),host:{class:"pageComponent"},styles:[".activePanel { border: 2px solid #cde8ff; border-radius: 6px; }"]}),v("design:paramtypes",[s.a,u.a,o.c])],MetadataRegistryComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(4),i=n(5),a=n(3),s=n(110),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function NewDatasetVersionModalData(t){var n=e.call(this)||this;return n.catalogRecordIdentity=t,n}return l(NewDatasetVersionModalData,e),NewDatasetVersionModalData}(o.d),u=function(){function NewDatasetVersionModal(e,t){this.dialog=e,this.metadataRegistryService=t,this.context=e.context}return NewDatasetVersionModal.prototype.isInputValid=function(){return null!=this.versionInfo&&""!=this.versionInfo.trim()},NewDatasetVersionModal.prototype.ok=function(e){var t=this,n=null;null!=this.dataset&&(n=new a.b(this.dataset)),this.metadataRegistryService.addDatasetVersion(new a.b(this.context.catalogRecordIdentity),this.versionInfo,n).subscribe(function(n){e.stopPropagation(),e.preventDefault(),t.dialog.close()})},NewDatasetVersionModal.prototype.cancel=function(){this.dialog.dismiss()},NewDatasetVersionModal=c([n.i(r.c)({selector:"dataset-version-modal",template:n(1881)}),p("design:paramtypes",[i.g,s.a])],NewDatasetVersionModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(11),l=n(110),c=n(10),p=n(2),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function NewEmbeddedLexicalizationModalData(t){var n=e.call(this)||this;return n.catalogRecordIdentity=t,n}return d(NewEmbeddedLexicalizationModalData,e),NewEmbeddedLexicalizationModalData}(i.d),g=function(){function NewEmbeddedLexicalizationModal(e,t,n){this.dialog=e,this.basicModals=t,this.metadataRegistryService=n,this.lexicalModelList=[{value:s.b.uri,label:"RDFS"},{value:s.d.uri,label:"SKOS"},{value:s.e.uri,label:"SKOSXL"},{value:s.f.uri,label:"OntoLex"}],this.lexicalizationModel=this.lexicalModelList[0].value,this.context=e.context}return NewEmbeddedLexicalizationModal.prototype.isInputValid=function(){return null!=this.language&&""!=this.language.trim()},NewEmbeddedLexicalizationModal.prototype.ok=function(e){var t,n,r=this;if(null!=this.lexicalizationSet){if(!c.a.testIRI(this.lexicalizationSet))return void this.basicModals.alert("Invalid data","'"+this.lexicalizationSet+"' is not a valid IRI","warning");t=new a.b(this.lexicalizationSet)}if(null!=this.lexiconDataset){if(!c.a.testIRI(this.lexiconDataset))return void this.basicModals.alert("Invalid data","'"+this.lexiconDataset+"' is not a valid IRI","warning");n=new a.b(this.lexiconDataset)}if(!new RegExp("^[a-z]{2,3}(?:-[A-Z]{2,3}(?:-[a-zA-Z]{4})?)?$").test(this.language))return void this.basicModals.alert("Invalid data","'"+this.language+"' is not a valid language tag","warning");this.metadataRegistryService.addEmbeddedLexicalizationSet(new a.b(this.context.catalogRecordIdentity),new a.b(this.lexicalizationModel),this.language,t,n,this.references,this.lexicalEntries,this.lexicalizations,this.percentage,this.avgNumOfLexicalizations).subscribe(function(t){e.stopPropagation(),e.preventDefault(),r.dialog.close()})},NewEmbeddedLexicalizationModal.prototype.cancel=function(){this.dialog.dismiss()},NewEmbeddedLexicalizationModal=u([n.i(r.c)({selector:"embedded-lexicalization-modal",template:n(1882)}),f("design:paramtypes",[o.g,p.a,l.a])],NewEmbeddedLexicalizationModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(1),i=(n.n(o),n(42)),a=n(563),s=n(109),l=n(94),c=n(306),p=n(164),d=n(7),u=n(2),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function MetadataVocabulariesComponent(e,t,n,r,o,i){this.metadataExporterService=e,this.exportService=t,this.extensionService=n,this.settingsService=r,this.pluginService=o,this.basicModals=i}return MetadataVocabulariesComponent.prototype.ngOnInit=function(){var e=this;this.exportService.getOutputFormats().subscribe(function(t){e.exportFormats=t;for(var n=0;n<e.exportFormats.length;n++)if("Turtle"==e.exportFormats[n].name)return void(e.selectedExportFormat=e.exportFormats[n])}),this.extensionService.getExtensions(i.a.DATASET_METADATA_EXPORTER_ID).subscribe(function(t){e.exporters=t})},MetadataVocabulariesComponent.prototype.onExtensionChange=function(){var e=this;null!=this.selectedExporter&&(this.settingsStructs=[],this.selectedExporter.settingsScopes.forEach(function(t){e.settingsService.getSettings(e.selectedExporter.id,t).subscribe(function(n){e.settingsStructs.push({settings:n,scope:t})})}),this.settingsService.getSettings(i.a.DATASET_METADATA_EXPORTER_ID,i.c.PROJECT).subscribe(function(t){e.extensionPointSettings=t}))},MetadataVocabulariesComponent.prototype.saveSettings=function(){var e=this,t=[];if(this.isCommonSettingsConfigure()){if(this.extensionPointSettings.properties.length>0){var n=this.extensionPointSettings.getPropertiesAsMap();t.push(this.settingsService.storeSettings(i.a.DATASET_METADATA_EXPORTER_ID,i.c.PROJECT,n))}for(var r=0;r<this.settingsStructs.length;r++){if(!this.isExporterSettingsConfigured(this.settingsStructs[r]))return;var a=this.settingsStructs[r].settings.getPropertiesAsMap();t.push(this.settingsService.storeSettings(this.selectedExporter.id,this.settingsStructs[r].scope,a))}o.Observable.forkJoin(t).subscribe(function(t){e.basicModals.alert("Save settings","Settings saved succesfully")})}},MetadataVocabulariesComponent.prototype.export=function(){var e=this,t=[];if(this.isCommonSettingsConfigure()){for(var n=0;n<this.settingsStructs.length;n++){if(!this.isExporterSettingsConfigured(this.settingsStructs[n]))return;var r=this.settingsStructs[n].settings.getPropertiesAsMap();t.push(this.settingsService.storeSettings(this.selectedExporter.id,this.settingsStructs[n].scope,r))}d.a.startLoadingDiv(d.a.blockDivFullScreen),o.Observable.forkJoin(t).subscribe(function(t){var n={factoryId:e.selectedExporter.id};e.metadataExporterService.export(n,e.selectedExportFormat).subscribe(function(t){d.a.stopLoadingDiv(d.a.blockDivFullScreen);var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Export Metadata",null,n,"metadata_export."+e.selectedExportFormat.defaultFileExtension)})})}},MetadataVocabulariesComponent.prototype.isCommonSettingsConfigure=function(){return!this.extensionPointSettings.requireConfiguration()||(this.basicModals.alert("Missing configuration","Required parameter(s) missing in extension point configuration ("+this.extensionPointSettings.shortName+")","warning"),!1)},MetadataVocabulariesComponent.prototype.isExporterSettingsConfigured=function(e){return!e.settings.requireConfiguration()||(this.basicModals.alert("Missing configuration","Required parameter(s) missing in exporter configuration ("+e.settings.shortName+", scope: "+e.scope+")","warning"),!1)},MetadataVocabulariesComponent=f([n.i(r.c)({selector:"metadata-vocabularies-component",template:n(1883),host:{class:"pageComponent"}}),h("design:paramtypes",[a.a,s.a,l.a,p.a,c.a,u.a])],MetadataVocabulariesComponent)}();!function(){function SettingsStruct(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(293),s=n(76),l=n(136),c=n(237),p=n(2),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function ImportFromDatasetCatalogModalData(t){void 0===t&&(t="Modal Title");var n=e.call(this)||this;return n.title=t,n}return d(ImportFromDatasetCatalogModalData,e),ImportFromDatasetCatalogModalData}(i.d),g=function(){function ImportFromDatasetCatalogModal(e,t,n,r,o){this.dialog=e,this.modal=t,this.basicModals=n,this.ontoMgrService=r,this.inOutService=o,this.useDataDump=!1,this.lockFormat=!0,this.importAllowances=[{allowance:s.e.nowhere,show:"Do not resolve"},{allowance:s.e.web,show:"Resolve from web"},{allowance:s.e.webFallbackToMirror,show:"Resolve from web with fallback to Ontology Mirror"},{allowance:s.e.mirror,show:"Resolve from Ontology Mirror"},{allowance:s.e.mirrorFallbackToWeb,show:"Resolve from Ontology Mirror with fallback to Web"}],this.selectedImportAllowance=this.importAllowances[1].allowance,this.context=e.context}return ImportFromDatasetCatalogModal.prototype.openDatasetCatalog=function(){var e=this,t=new a.a,n=new i.b(t,void 0,a.a),r={context:n.keyboard(27).dialogClass("modal-dialog modal-xl").toJSON()};this.modal.open(a.b,r).result.then(function(t){if(e.preloadCatalog=t.dataset.id+" - "+t.dataset.getPreferredTitle().getValue()+" @"+t.dataset.getPreferredTitle().getLang(),e.ontologyIRI=null!=t.dataset.ontologyIRI?t.dataset.ontologyIRI.getURI():null,e.dataDump=t.dataDump.accessURL,null!=e.dataDump){var n=e.dataDump.substring(e.dataDump.lastIndexOf(".")+1);e.formats.forEach(function(t){t.defaultFileExtension==n&&(e.rdfFormat=t)})}})},ImportFromDatasetCatalogModal.prototype.ngOnInit=function(){var e=this;this.inOutService.getInputRDFFormats().subscribe(function(t){e.formats=t;for(var n=0;n<e.formats.length;n++)if("RDF/XML"==e.formats[n].name){e.rdfFormat=e.formats[n];break}})},ImportFromDatasetCatalogModal.prototype.ok=function(e){if(null==this.ontologyIRI)return void this.basicModals.alert("Import from Dataset Catalog","The selected Dataset does not provide any ontology IRI, so it cannot be imported. Please change the Dataset.","warning");e.stopPropagation(),e.preventDefault();var t=this.useDataDump?this.dataDump:null,n=null!=t?this.rdfFormat:null,r={ontologyIRI:this.ontologyIRI,dataDump:t,rdfFormat:n,transitiveImportAllowance:this.selectedImportAllowance};this.dialog.close(r)},ImportFromDatasetCatalogModal.prototype.cancel=function(){this.dialog.dismiss()},ImportFromDatasetCatalogModal=u([n.i(r.c)({selector:"import-datset-catalog-modal",template:n(1884)}),f("design:paramtypes",[o.g,i.c,p.a,c.a,l.a])],ImportFromDatasetCatalogModal)}();!function(){function ImportFromDatasetCatalogModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(4),i=n(3),a=n(76),s=n(555),l=n(161),c=n(162),p=n(17),d=n(10),u=n(7),f=n(20),h=n(2),g=n(13),m=n(512),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function NamespacesAndImportsComponent(e,t,n,r,o){this.metadataService=e,this.refactorService=t,this.basicModals=n,this.sharedModals=r,this.modal=o,this.bind=!0,this.nsBaseURISubmitted=!1}return NamespacesAndImportsComponent.prototype.ngOnInit=function(){this.refreshBaseURI(),this.refreshDefaultNamespace(),this.refreshImports(),this.refreshNSPrefixMappings()},NamespacesAndImportsComponent.prototype.refreshBaseURI=function(){var e=this;this.metadataService.getBaseURI().subscribe(function(t){e.pristineBaseURI=t,e.baseURI=t,e.baseUriRes=new i.b(e.baseURI)})},NamespacesAndImportsComponent.prototype.refreshDefaultNamespace=function(){var e=this;this.metadataService.getDefaultNamespace().subscribe(function(t){e.pristineNamespace=t,e.namespace=t})},NamespacesAndImportsComponent.prototype.refreshImports=function(){var e=this;this.metadataService.getImports().subscribe(function(t){e.importTree=t})},NamespacesAndImportsComponent.prototype.refreshNSPrefixMappings=function(){var e=this;this.metadataService.getNamespaceMappings().subscribe(function(t){e.nsPrefMappingList=t,e.selectedMapping=null})},NamespacesAndImportsComponent.prototype.bindNamespaceBaseURI=function(){this.bind=!this.bind},NamespacesAndImportsComponent.prototype.onBaseURIChanged=function(e){this.baseURI=e,this.bind&&(this.namespace=this.baseURI,this.baseURI.endsWith("/")||this.baseURI.endsWith("#")||(this.namespace=this.namespace+"#"))},NamespacesAndImportsComponent.prototype.onNamespaceChanged=function(e){this.namespace=e,this.bind&&(this.namespace.endsWith("#")?this.baseURI=this.namespace.slice(0,-1):this.baseURI=this.namespace)},NamespacesAndImportsComponent.prototype.areNamespaceBaseURIChanged=function(){return this.baseURI!=this.pristineBaseURI||this.namespace!=this.pristineNamespace},NamespacesAndImportsComponent.prototype.isBaseURIValid=function(){return this.baseURI&&d.a.testIRI(this.baseURI)},NamespacesAndImportsComponent.prototype.isNamespaceValid=function(){return this.namespace&&d.a.testIRI(this.namespace)&&(this.namespace.endsWith("#")||this.namespace.endsWith("/"))},NamespacesAndImportsComponent.prototype.applyNamespaceBaseURI=function(){var e=this;if(this.nsBaseURISubmitted=!0,this.isBaseURIValid()&&this.isNamespaceValid()){var t="Save change of ";this.baseURI!=this.pristineBaseURI&&this.namespace!=this.pristineNamespace?(t+="baseURI and namespace? (Attention, baseURI refactoring could be a long process)",this.basicModals.confirm("Refactor",t,"warning").then(function(t){u.a.startLoadingDiv(u.a.blockDivFullScreen),e.metadataService.setDefaultNamespace(e.namespace).subscribe(function(t){e.refactorService.replaceBaseURI(e.baseURI).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.basicModals.alert("Refactor","BaseURI and namespace have been updated successfully"),e.refreshBaseURI(),e.refreshDefaultNamespace(),e.nsBaseURISubmitted=!0})})},function(t){e.namespace=e.pristineNamespace,e.baseURI=e.pristineBaseURI,e.nsBaseURISubmitted=!0})):this.baseURI!=this.pristineBaseURI?(t+="baseURI? (Attention, baseURI refactoring could be a long process)",this.basicModals.confirm("Refactor",t,"warning").then(function(t){u.a.startLoadingDiv(u.a.blockDivFullScreen),e.refactorService.replaceBaseURI(e.baseURI).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.basicModals.alert("Refactor","BaseURI has been updated successfully and refactor complete."),e.refreshBaseURI(),e.nsBaseURISubmitted=!0})},function(t){e.baseURI=e.pristineBaseURI,e.nsBaseURISubmitted=!0})):this.namespace!=this.pristineNamespace&&(t+="namespace?",this.basicModals.confirm("Save changes",t,"warning").then(function(t){e.metadataService.setDefaultNamespace(e.namespace).subscribe(function(t){e.basicModals.alert("Refactor","Mamespace has been updated successfully"),e.refreshDefaultNamespace(),e.nsBaseURISubmitted=!0})},function(t){e.namespace=e.pristineNamespace,e.nsBaseURISubmitted=!0}))}else this.basicModals.alert("Error","Please insert valid namespace and baseURI","error")},NamespacesAndImportsComponent.prototype.selectMapping=function(e){this.selectedMapping==e?this.selectedMapping=null:this.selectedMapping=e},NamespacesAndImportsComponent.prototype.addMapping=function(){var e=this;this.sharedModals.prefixNamespace("Add prefix namespace mapping").then(function(t){e.metadataService.setNSPrefixMapping(t.prefix,t.namespace).subscribe(function(t){e.refreshNSPrefixMappings()})},function(){})},NamespacesAndImportsComponent.prototype.removeMapping=function(){var e=this;this.metadataService.removeNSPrefixMapping(this.selectedMapping.namespace).subscribe(function(t){e.refreshNSPrefixMappings()})},NamespacesAndImportsComponent.prototype.changeMapping=function(){var e=this;this.sharedModals.prefixNamespace("Change prefix namespace mapping",this.selectedMapping.prefix,this.selectedMapping.namespace,!0).then(function(t){e.metadataService.changeNSPrefixMapping(t.prefix,t.namespace).subscribe(function(t){e.refreshNSPrefixMappings()})},function(){})},NamespacesAndImportsComponent.prototype.importFromWeb=function(){var e=this;this.sharedModals.importOntology("Import from web",a.f.fromWeb).then(function(t){u.a.startLoadingDiv(u.a.blockDivFullScreen),e.metadataService.addFromWeb(t.baseURI,t.transitiveImportAllowance,t.altURL,t.rdfFormat).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.refreshImports(),e.refreshNSPrefixMappings(),e.refreshBaseUriResView()})},function(){})},NamespacesAndImportsComponent.prototype.importFromWebToMirror=function(){var e=this;this.sharedModals.importOntology("Import from web to mirror",a.f.fromWebToMirror).then(function(t){u.a.startLoadingDiv(u.a.blockDivFullScreen),e.metadataService.addFromWebToMirror(t.baseURI,t.mirrorFile,t.transitiveImportAllowance,t.altURL,t.rdfFormat).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.refreshImports(),e.refreshNSPrefixMappings(),e.refreshBaseUriResView()})},function(){})},NamespacesAndImportsComponent.prototype.importFromLocalFile=function(){var e=this;this.sharedModals.importOntology("Import from local file",a.f.fromLocalFile).then(function(t){u.a.startLoadingDiv(u.a.blockDivFullScreen),e.metadataService.addFromLocalFile(t.baseURI,t.localFile,t.mirrorFile,t.transitiveImportAllowance).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.refreshImports(),e.refreshNSPrefixMappings(),e.refreshBaseUriResView()})},function(){})},NamespacesAndImportsComponent.prototype.importFromOntologyMirror=function(){var e=this;this.sharedModals.importOntology("Import from ontology mirror",a.f.fromOntologyMirror).then(function(t){u.a.startLoadingDiv(u.a.blockDivFullScreen),e.metadataService.addFromMirror(t.mirror.baseURI,t.mirror.file,t.transitiveImportAllowance).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.refreshImports(),e.refreshNSPrefixMappings(),e.refreshBaseUriResView()})},function(){})},NamespacesAndImportsComponent.prototype.importFromDatasetCatalog=function(){var e=this;this.sharedModals.importFromDatasetCatalog("Import from Dataset Catalog").then(function(t){u.a.startLoadingDiv(u.a.blockDivFullScreen),e.metadataService.addFromWeb(t.ontologyIRI,t.transitiveImportAllowance,t.dataDump,t.rdfFormat).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.refreshImports(),e.refreshNSPrefixMappings(),e.refreshBaseUriResView()})},function(){})},NamespacesAndImportsComponent.prototype.removeImport=function(e){var t=this;u.a.startLoadingDiv(u.a.blockDivFullScreen),this.metadataService.removeImport(e.id).subscribe(function(e){u.a.stopLoadingDiv(u.a.blockDivFullScreen),t.refreshImports(),t.refreshNSPrefixMappings(),t.refreshBaseUriResView()})},NamespacesAndImportsComponent.prototype.onInportTreeUpdate=function(){this.refreshImports()},NamespacesAndImportsComponent.prototype.openOntologyMirror=function(){var e=this,t=new o.b,n={context:t.keyboard(27).toJSON()};this.modal.open(m.a,n).result.then(function(t){t&&e.refreshImports()},function(){})},NamespacesAndImportsComponent.prototype.refreshBaseUriResView=function(){this.viewChildResView.buildResourceView(this.baseUriRes)},NamespacesAndImportsComponent.prototype.onOntologyUpdated=function(){this.refreshImports(),this.refreshNSPrefixMappings()},NamespacesAndImportsComponent.prototype.isAddNsPrefixMappingAuthorized=function(){return p.a.isAuthorized(f.a.metadataSetNsPrefixMapping)},NamespacesAndImportsComponent.prototype.isRemoveNsPrefixMappingAuthorized=function(){return p.a.isAuthorized(f.a.metadataRemoveNsPrefixMapping)},NamespacesAndImportsComponent.prototype.isChangeNsPrefixMappingAuthorized=function(){return p.a.isAuthorized(f.a.metadataChangeNsPrefixMapping)},NamespacesAndImportsComponent.prototype.isBaseuriNsEditAuthorized=function(){return p.a.isAuthorized(f.a.metadataSetDefaultNs)&&p.a.isAuthorized(f.a.refactorReplaceBaseUri)},NamespacesAndImportsComponent.prototype.isAddImportAuthorized=function(){return p.a.isAuthorized(f.a.metadataAddImport)},v([n.i(r.F)(s.a),b("design:type",s.a)],NamespacesAndImportsComponent.prototype,"viewChildResView",void 0),NamespacesAndImportsComponent=v([n.i(r.c)({selector:"namespaces-imports-component",template:n(1888),host:{class:"pageComponent"}}),b("design:paramtypes",[l.a,c.a,h.a,g.a,o.c])],NamespacesAndImportsComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(5),i=n(237),a=n(17),s=n(7),l=n(20),c=n(2),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function OntologyMirrorModal(e,t,n){this.dialog=e,this.ontoMgrService=t,this.basicModals=n,this.changed=!1,this.context=e.context}return OntologyMirrorModal.prototype.ngOnInit=function(){this.refreshOntoMirror()},OntologyMirrorModal.prototype.refreshOntoMirror=function(){var e=this;this.ontoMgrService.getOntologyMirror().subscribe(function(t){e.mirrorList=t})},OntologyMirrorModal.prototype.updateMirrorFromWebWithUri=function(e){var t=this;this.basicModals.prompt("Update ontology mirror from web",{value:"BaseURI"}).then(function(n){s.a.startLoadingDiv(t.blockingDivElement.nativeElement),t.ontoMgrService.updateOntologyMirrorEntry("updateFromBaseURI",n,e.file).subscribe(function(e){s.a.stopLoadingDiv(t.blockingDivElement.nativeElement),t.refreshOntoMirror()})},function(){})},OntologyMirrorModal.prototype.updateMirrorFromWebFromAltUrl=function(e){var t=this;this.basicModals.prompt("Update ontology mirror from web",{value:"URL"}).then(function(n){s.a.startLoadingDiv(t.blockingDivElement.nativeElement),t.ontoMgrService.updateOntologyMirrorEntry("updateFromAlternativeURL",e.baseURI,e.file,n).subscribe(function(e){s.a.stopLoadingDiv(t.blockingDivElement.nativeElement),t.refreshOntoMirror()})},function(){})},OntologyMirrorModal.prototype.updateMirrorFromLocalFile=function(e){var t=this;this.basicModals.selectFile("Update mirror",null,null,null,".rdf, .owl, .xml, .ttl, .nt, .n3").then(function(n){s.a.startLoadingDiv(t.blockingDivElement.nativeElement),t.ontoMgrService.updateOntologyMirrorEntry("updateFromFile",e.baseURI,e.file,null,n).subscribe(function(e){s.a.stopLoadingDiv(t.blockingDivElement.nativeElement)})},function(){})},OntologyMirrorModal.prototype.deleteOntoMirror=function(e){var t=this;this.ontoMgrService.deleteOntologyMirrorEntry(e.baseURI,e.file).subscribe(function(e){t.changed=!0,t.refreshOntoMirror()})},OntologyMirrorModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.changed)},OntologyMirrorModal.prototype.isUpdateMirrorAuthorized=function(){return a.a.isAuthorized(l.a.ontManagerUpdateOntologyMirror)},OntologyMirrorModal.prototype.isDeleteMirrorAuthorized=function(){return a.a.isAuthorized(l.a.ontManagerDeleteOntologyMirror)},p([n.i(r.F)("blockingDiv"),d("design:type",r.e)],OntologyMirrorModal.prototype,"blockingDivElement",void 0),OntologyMirrorModal=p([n.i(r.c)({selector:"onto-mirror-modal",template:n(1889)}),d("design:paramtypes",[o.g,i.a,c.a])],OntologyMirrorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function PrefixNamespaceModalData(t,n,r,o){void 0===t&&(t="Modal Title"),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!1);var i=e.call(this)||this;return i.title=t,i.prefix=n,i.namespace=r,i.namespaceReadonly=o,i}return a(PrefixNamespaceModalData,e),PrefixNamespaceModalData}(o.d),p=function(){function PrefixNamespaceModal(e){this.dialog=e,this.context=e.context,this.prefix=this.context.prefix,this.namespace=this.context.namespace}return PrefixNamespaceModal.prototype.isInputValid=function(){var e=this.prefix&&""!=this.prefix.trim(),t=this.namespace&&""!=this.namespace.trim(),n=this.prefix!=this.context.prefix,r=this.namespace!=this.context.namespace;return e&&t&&(n||r)},PrefixNamespaceModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close({prefix:this.prefix,namespace:this.namespace})},PrefixNamespaceModal.prototype.cancel=function(){this.dialog.dismiss()},PrefixNamespaceModal=s([n.i(r.c)({selector:"mapping-modal",template:n(1890)}),l("design:paramtypes",[i.g])],PrefixNamespaceModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){e.sparql="sparql",e.explore="explore"}(r||(r={}));(function(){function GraphModelRecord(){}})(),function(){function GraphClassAxiomFilter(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(45),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(e){function InvokableReporter(){return null!==e&&e.apply(this,arguments)||this}return o(InvokableReporter,e),InvokableReporter}(r.a),a=(function(){function InvokableReporterDefinition(){}}(),function(e){function ServiceInvocation(){return null!==e&&e.apply(this,arguments)||this}o(ServiceInvocation,e)}(r.a),function(){function ServiceInvocationDefinition(){}return ServiceInvocationDefinition}());(function(){function Report(){}})(),function(){function Section(){}}()},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r;!function(e){e.any="any",e.creation="creation",e.deletion="deletion",e.update="update"}(r||(r={}));var o=function(){function Notification(){}return Notification}();!function(){function CronDefinition(){}}()},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=function(){function RDFFormat(e,t,n,r,o,i,a){this.name=e,this.charset=t,this.fileExtensions=n,this.standardURI=r,this.mimetypes=o,this.defaultMIMEType=i,this.defaultFileExtension=a}return RDFFormat}(),o=function(){function DataFormat(e,t,n){this.name=e,this.defaultMimeType=t,this.defaultFileExtension=n}return DataFormat}()},function(e,t,n){"use strict";n.d(t,"a",function(){return R});var r=n(34),o=n(0),i=n(22),a=n(973),s=n(974),l=n(975),c=n(446),p=n(447),d=n(448),u=n(449),f=n(450),h=n(451),g=n(452),m=n(453),v=n(454),b=n(2),y=n(14),x=n(48),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=function(){function CustomFormModule(){}return CustomFormModule=C([n.i(o.b)({imports:[r.a,i.a,x.a],providers:[b.a,y.a],declarations:[d.a,p.a,a.a,u.b,s.a,l.a,c.b,f.a,h.b,g.a,m.b,v.b],exports:[p.a,a.a],entryComponents:[d.a,u.b,c.b,f.a,g.a,h.b,m.b,v.b]})],CustomFormModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return ye});var r=n(34),o=n(0),i=n(22),a=n(1026),s=n(1027),l=n(1028),c=n(1029),p=n(1030),d=n(1031),u=n(1032),f=n(1033),h=n(1034),g=n(1035),m=n(1036),v=n(1037),b=n(1038),y=n(1039),x=n(1040),C=n(1041),R=n(1043),S=n(1042),P=n(1044),E=n(1045),w=n(1046),I=n(1047),A=n(1048),_=n(1049),L=n(1050),M=n(1051),k=n(1052),O=n(1053),N=n(1054),T=n(1055),D=n(1056),j=n(303),F=n(1057),U=n(1058),V=n(1063),G=n(1064),B=n(555),z=n(543),H=n(544),W=n(545),q=n(546),$=n(547),Y=n(548),X=n(1059),K=n(549),Q=n(1060),J=n(550),Z=n(551),ee=n(552),te=n(553),ne=n(28),re=n(1061),oe=n(1062),ie=n(556),ae=n(558),se=n(559),le=n(560),ce=n(539),pe=n(1065),de=n(1066),ue=n(1067),fe=n(1068),he=n(1069),ge=n(232),me=n(48),ve=n(184),be=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ye=function(){function ResourceViewModule(){}return ResourceViewModule=be([n.i(o.b)({imports:[r.a,i.a,me.a,ve.a,ge.a],declarations:[re.a,pe.a,de.a,oe.a,V.a,he.a,a.a,B.a,G.a,ie.b,ae.a,se.a,le.a,U.a,s.a,ue.a,fe.a,l.a,c.a,p.a,d.a,u.a,f.a,h.a,g.a,m.a,v.a,b.a,y.a,x.a,R.a,C.a,S.a,P.a,E.a,w.a,F.a,I.a,A.a,_.a,L.a,M.a,k.a,O.a,N.a,T.a,D.a,z.b,H.b,W.b,q.b,$.b,Y.b,K.b,X.a,J.b,Q.a,Z.b,ee.b,te.b,ce.a],exports:[B.a,ae.a],providers:[ne.a,j.a],entryComponents:[z.b,H.b,W.b,J.b,q.b,$.b,Y.b,K.b,X.a,Z.b,ee.b,te.b,ie.b,ce.a]})],ResourceViewModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(5),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function NotificationSettingsModal(e){this.dialog=e,this.context=e.context}return NotificationSettingsModal.prototype.ok=function(){this.dialog.close()},NotificationSettingsModal=i([n.i(r.c)({selector:"notifications-settings-modal",template:n(1891)}),a("design:paramtypes",[o.g])],NotificationSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(516),l=n(12),c=n(188),p=n(36),d=n(10),u=n(13),f=n(520),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function NotificationsComponent(e,t,n,r){this.notificationsService=e,this.resourceService=t,this.sharedModals=n,this.modal=r,this.sortOrder=b.TIME_ASCENDING}return NotificationsComponent.prototype.ngOnInit=function(){this.init()},NotificationsComponent.prototype.init=function(){var e=this;this.notificationsService.listNotifications().subscribe(function(t){var n=t.map(function(e){return e.resource}).filter(function(e,t,n){return n.indexOf(e)==t}).map(function(e){return d.a.parseNode(e)}).filter(function(e){return e instanceof a.b});e.resourceService.getResourcesInfo(n).subscribe(function(n){e.notifications=[],t.forEach(function(t){var r={resource:t.resource,role:t.role,action:t.action,timestamp:t.timestamp,annotatedRes:n.find(function(e){return t.resource==e.toNT()}),roleShow:d.a.getResourceRoleLabel(t.role),timestampShow:p.a.parseDateTime(t.timestamp)};e.notifications.push(r)}),e.notifications.sort(function(e,t){return-e.timestamp.getTime()-t.timestamp.getTime()})})})},NotificationsComponent.prototype.clear=function(){var e=this;this.notificationsService.clearNotifications().subscribe(function(){e.init()})},NotificationsComponent.prototype.settings=function(){var e=new i.b,t={context:e.keyboard(27).toJSON()};this.modal.open(f.a,t)},NotificationsComponent.prototype.openResource=function(e){this.sharedModals.openResourceView(e,!0)},NotificationsComponent.prototype.changeResourceOrder=function(){this.sortOrder==b.RESOURCE_ASCENDING?(this.sortOrder=b.RESOURCE_DESCENDING,this.notifications.sort(function(e,t){return-e.annotatedRes.getShow().localeCompare(t.annotatedRes.getShow())})):(this.sortOrder=b.RESOURCE_ASCENDING,this.notifications.sort(function(e,t){return e.annotatedRes.getShow().localeCompare(t.annotatedRes.getShow())}))},NotificationsComponent.prototype.changeRoleOrder=function(){this.sortOrder==b.ROLE_ASCENDING?(this.sortOrder=b.ROLE_DESCENDING,this.notifications.sort(function(e,t){return-e.role.localeCompare(t.role)})):(this.sortOrder=b.ROLE_ASCENDING,this.notifications.sort(function(e,t){return e.role.localeCompare(t.role)}))},NotificationsComponent.prototype.changeActionOrder=function(){this.sortOrder==b.ACTION_ASCENDING?(this.sortOrder=b.ACTION_DESCENDING,this.notifications.sort(function(e,t){return-e.action.localeCompare(t.action)})):(this.sortOrder=b.ACTION_ASCENDING,this.notifications.sort(function(e,t){return e.action.localeCompare(t.action)}))},NotificationsComponent.prototype.changeTimeOrder=function(){this.sortOrder==b.TIME_ASCENDING?(this.sortOrder=b.TIME_DESCENDING,this.notifications.sort(function(e,t){return-e.timestamp.getTime()-t.timestamp.getTime()})):(this.sortOrder=b.TIME_ASCENDING,this.notifications.sort(function(e,t){return e.timestamp.getTime()-t.timestamp.getTime()}))},NotificationsComponent=g([n.i(r.c)({selector:"notifications-component",template:n(1892),host:{class:"pageComponent"}}),m("design:paramtypes",[c.a,l.a,u.a,o.l])],NotificationsComponent)}(),b=function(){function SortOrder(){}return SortOrder.RESOURCE_DESCENDING="resource_descending",SortOrder.RESOURCE_ASCENDING="resource_ascending",SortOrder.ROLE_DESCENDING="role_descending",SortOrder.ROLE_ASCENDING="role_ascending",SortOrder.ACTION_DESCENDING="action_descending",SortOrder.ACTION_ASCENDING="action_ascending",SortOrder.TIME_DESCENDING="time_descending",SortOrder.TIME_ASCENDING="time_ascending",SortOrder}();!function(e){function EnrichedNotification(){return null!==e&&e.apply(this,arguments)||this}h(EnrichedNotification,e)}(s.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(7),i=n(6),a=n(21),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function VocbenchPreferencesComponent(e){this.properties=e,this.themes=o.a.themes,this.selectedTheme=this.themes[0]}return VocbenchPreferencesComponent.prototype.ngOnInit=function(){var e=this;this.showFlags=this.properties.getShowFlags();var t=i.a.getWorkingProjectCtx().getProjectPreferences().projectThemeId;this.themes.forEach(function(n){n.id==t&&(e.selectedTheme=n)})},VocbenchPreferencesComponent.prototype.onShowFlagChange=function(){this.properties.setShowFlags(this.showFlags)},VocbenchPreferencesComponent.prototype.changeTheme=function(e){this.selectedTheme=e,this.properties.setProjectTheme(this.selectedTheme.id)},VocbenchPreferencesComponent=s([n.i(r.c)({selector:"vb-preferences-component",template:n(1899),host:{class:"pageComponent"}}),l("design:paramtypes",[a.a])],VocbenchPreferencesComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),o=(n.n(r),n(60)),i=n(96),a=n(6),s=function(){function AbstractProjectComponent(e,t,n,r,o){this.userService=e,this.metadataService=t,this.vbCollaboration=n,this.vbProp=r,this.dtValidator=o}return AbstractProjectComponent.prototype.ngOnInit=function(){this.initProjects()},AbstractProjectComponent.prototype.initProjectDirectories=function(){var e=this,t=this.retrieveCollapsedDirectoriesCookie();this.projectDirs=[],this.projectList.forEach(function(n){var r=n.getFacet(o.e.dir),i=e.projectDirs.find(function(e){return e.dir==r});null==i&&(i=new l(r),i.open=!t.some(function(e){return e==r}),e.projectDirs.push(i)),i.projects.push(n)}),this.projectDirs.sort(function(e,t){return null==e.dir?1:null==t.dir?-1:e.dir.localeCompare(t.dir)})},AbstractProjectComponent.prototype.accessProject=function(e){return a.a.setWorkingProject(e),a.a.setProjectChanged(!0),r.Observable.forkJoin(this.vbProp.initProjectUserBindings(a.a.getWorkingProjectCtx()),this.vbProp.initUserProjectPreferences(a.a.getWorkingProjectCtx()),this.vbProp.initProjectSettings(a.a.getWorkingProjectCtx()),this.vbCollaboration.initCollaborationSystem(),this.userService.listUserCapabilities(),this.metadataService.getNamespaceMappings(),this.dtValidator.initDatatypeRestrictions())},AbstractProjectComponent.prototype.isWorkingProject=function(e){var t=a.a.getWorkingProject();return void 0!=t&&t.getName()==e.getName()},AbstractProjectComponent.prototype.toggleDirectory=function(e){e.open=!e.open,this.storeCollpasedDirectoriesCookie()},AbstractProjectComponent.prototype.storeCollpasedDirectoriesCookie=function(){var e=[];this.projectDirs.forEach(function(t){if(!t.open){var n=null!=t.dir?t.dir:"null";e.push(n)}}),i.a.setCookie(i.a.PROJECT_COLLAPSED_DIRS,e.join(","))},AbstractProjectComponent.prototype.retrieveCollapsedDirectoriesCookie=function(){var e=[],t=i.a.getCookie(i.a.PROJECT_COLLAPSED_DIRS);return null!=t&&(e=t.split(",")),e.forEach(function(e,t,n){"null"==e&&(n[t]=null)}),e},AbstractProjectComponent}(),l=function(){function ProjectDirEntry(e){this.dir=e,this.open=!0,this.projects=[]}return ProjectDirEntry}()},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r,o=n(0),i=n(46),a=n(5),s=n(4),l=n(3),c=n(76),p=n(42),d=n(60),u=n(32),f=n(11),h=n(536),g=n(94),m=n(136),v=n(306),b=n(71),y=n(54),x=n(10),C=n(7),R=n(197),S=n(2),P=n(13),E=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},I=function(){function CreateProjectComponent(e,t,n,o,i,a,s,p,u){this.projectService=e,this.pluginService=t,this.extensionService=n,this.inOutService=o,this.prefService=i,this.router=a,this.basicModals=s,this.sharedModals=p,this.modal=u,this.preloadOptNone=r.NONE,this.preloadOptFromLocalFile=r.FROM_LOCAL_FILE,this.preloadOptFromURI=r.FROM_URI,this.preloadOptFromDatasetCatalog=r.FROM_DATASET_CATALOG,this.preloadOptList=[this.preloadOptNone,this.preloadOptFromLocalFile,this.preloadOptFromURI,this.preloadOptFromDatasetCatalog],this.selectedPreloadOpt=this.preloadOptList[0],this.importAllowances=[{allowance:c.e.nowhere,show:"Do not resolve"},{allowance:c.e.web,show:"Resolve from web"},{allowance:c.e.webFallbackToMirror,show:"Resolve from web with fallback to Ontology Mirror"},{allowance:c.e.mirror,show:"Resolve from Ontology Mirror"},{allowance:c.e.mirrorFallbackToWeb,show:"Resolve from Ontology Mirror with fallback to Web"}],this.selectedImportAllowance=this.importAllowances[1].allowance,this.baseUriForced=!1,this.baseUriLocked=!1,this.ontoModelList=[{value:new l.b(f.b.uri),label:"RDFS"},{value:new l.b(f.c.uri),label:"OWL"},{value:new l.b(f.d.uri),label:"SKOS"},{value:new l.b(f.f.uri),label:"OntoLex"},{value:new l.b(f.g.uri),label:"EDOAL"}],this.ontoModelType=this.ontoModelList[1].value,this.ontoModelForced=!1,this.ontoModelLocked=!1,this.lexicalModelList=[{value:new l.b(f.b.uri),label:"RDFS"},{value:new l.b(f.d.uri),label:"SKOS"},{value:new l.b(f.e.uri),label:"SKOSXL"},{value:new l.b(f.f.uri),label:"OntoLex"}],this.lexicalModelType=this.lexicalModelList[0].value,this.lexicalModelForced=!1,this.lexicalModelLocked=!1,this.history=!1,this.validation=!1,this.blacklisting=!1,this.repositoryAccessList=[d.a.CreateLocal,d.a.CreateRemote,d.a.AccessExistingRemote],this.selectedRepositoryAccess=this.repositoryAccessList[0],this.remoteRepoConfigs=[],this.DEFAULT_REPO_EXTENSION_ID="it.uniroma2.art.semanticturkey.extension.impl.repositoryimplconfigurer.predefined.PredefinedRepositoryImplConfigurer",this.DEFAULT_REPO_CONFIG_TYPE="it.uniroma2.art.semanticturkey.extension.impl.repositoryimplconfigurer.predefined.RDF4JNativeSailConfigurerConfiguration",this.backendTypes=[d.b.openrdf_NativeStore,d.b.openrdf_MemoryStore,d.b.graphdb_FreeSail],this.selectedCoreRepoBackendType=this.backendTypes[0],this.selectedSupportRepoBackendType=this.backendTypes[0],this.extPointPanelOpen=!1,this.uriGenUseDefaultSetting=!0,this.uriGenPluginConfMap=new Map,this.rendEngUseDefaultSetting=!0,this.rendEngPluginConfMap=new Map,this.useResourceMetadata=!1,this.metadataAssociations=[{role:null,pattern:null}],this.enableSHACL=!1,this.enableTrivialInference=!1}return CreateProjectComponent.prototype.ngOnInit=function(){var e=this;this.extensionService.getExtensions(p.a.REPO_IMPL_CONFIGURER_ID).subscribe(function(t){e.dataRepoExtensions=t,setTimeout(function(){e.dataRepoConfigurator.selectExtensionAndConfiguration(e.DEFAULT_REPO_EXTENSION_ID,e.DEFAULT_REPO_CONFIG_TYPE)})}),this.extensionService.getExtensions(p.a.REPO_IMPL_CONFIGURER_ID).subscribe(function(t){e.supportRepoExtensions=t,setTimeout(function(){e.supportRepoConfigurator.selectExtensionAndConfiguration(e.DEFAULT_REPO_EXTENSION_ID,e.DEFAULT_REPO_CONFIG_TYPE)})}),this.pluginService.getAvailablePlugins(p.a.URI_GENERATOR_ID).subscribe(function(t){e.uriGenPluginList=t,e.selectedUriGenPlugin=e.uriGenPluginList[0],e.onUriGenPluginChanged()}),this.pluginService.getAvailablePlugins(p.a.RENDERING_ENGINE_ID).subscribe(function(t){e.rendEngPluginList=t,e.selectedRendEngPlugin=e.rendEngPluginList[0],e.onRendEnginePluginChanged()}),this.initProjectList(),this.resourceTypes=[l.c.undetermined,l.c.annotationProperty,l.c.cls,l.c.concept,l.c.conceptScheme,l.c.dataRange,l.c.datatypeProperty,l.c.individual,l.c.limeLexicon,l.c.objectProperty,l.c.ontolexForm,l.c.ontolexLexicalEntry,l.c.ontolexLexicalSense,l.c.ontology,l.c.ontologyProperty,l.c.property,l.c.skosCollection,l.c.skosOrderedCollection,l.c.xLabel].map(function(e){return{role:e,show:x.a.getResourceRoleLabel(e,!0)}}),this.initRemoteRepoAccessConfigurations()},CreateProjectComponent.prototype.onProjectNameChange=function(){this.isSelectedRepoAccessCreateMode()&&null!=this.projectName&&(this.dataRepoId=this.projectName.trim().replace(new RegExp(" ","g"),"_")+"_core",this.supportRepoId=this.projectName.trim().replace(new RegExp(" ","g"),"_")+"_support")},CreateProjectComponent.prototype.onPreloadChange=function(){this.baseUriForced=!1,this.baseUriLocked=!1,this.ontoModelForced=!1,this.ontoModelLocked=!1,this.lexicalModelForced=!1,this.lexicalModelLocked=!1,this.preloadFile=null,this.preloadUri=null,this.preloadCatalog=null,this.preloadedData=null,this.selectedPreloadOpt==r.FROM_LOCAL_FILE&&null==this.inputFormats&&this.initDataFormats()},CreateProjectComponent.prototype.preloadFromFileChanged=function(e){var t=this;this.preloadedData&&(this.preloadedData.summary=null),this.baseUriForced=!1,this.baseUriLocked=!1,this.ontoModelForced=!1,this.ontoModelLocked=!1,this.lexicalModelForced=!1,this.lexicalModelLocked=!1,this.preloadFile=e,this.inOutService.getParserFormatForFileName(this.preloadFile.name).subscribe(function(e){if(null!=e)for(var n=0;n<t.inputFormats.length;n++)t.inputFormats[n].name==e&&(t.selectedInputFormat=t.inputFormats[n])})},CreateProjectComponent.prototype.preloadFromFile=function(){var e=this;C.a.startLoadingDiv(C.a.blockDivFullScreen),this.projectService.preloadDataFromFile(this.preloadFile,this.selectedInputFormat.name).subscribe(function(t){C.a.stopLoadingDiv(C.a.blockDivFullScreen),e.preloadedResponseDataHandler(t)})},CreateProjectComponent.prototype.initDataFormats=function(){var e=this;this.inOutService.getInputRDFFormats().subscribe(function(t){e.inputFormats=t;for(var n=[],r=0,o=0;o<e.inputFormats.length;o++)e.inputFormats[o].fileExtensions.forEach(function(e){return n.push("."+e)}),"RDF/XML"==e.inputFormats[o].name&&(r=o);e.selectedInputFormat=e.inputFormats[r],n=n.filter(function(e,t){return n.indexOf(e)==t}),e.filePickerAccept=n.join(",")})},CreateProjectComponent.prototype.preloadFromUri=function(){var e=this;C.a.startLoadingDiv(C.a.blockDivFullScreen),this.projectService.preloadDataFromURL(this.preloadUri).subscribe(function(t){C.a.stopLoadingDiv(C.a.blockDivFullScreen),e.preloadedResponseDataHandler(t)})},CreateProjectComponent.prototype.preloadFromDatasetCatalog=function(){var e=this;this.sharedModals.datasetCatalog().then(function(t){e.preloadCatalog=t.dataset.id+" - "+t.dataset.getPreferredTitle().getValue()+" @"+t.dataset.getPreferredTitle().getLang(),C.a.startLoadingDiv(C.a.blockDivFullScreen);var n;null!=t.dataDump?n=t.dataDump.accessURL:null!=t.dataset.ontologyIRI&&(n=t.dataset.ontologyIRI.getURI()),null!=n?e.projectService.preloadDataFromURL(n).subscribe(function(t){C.a.stopLoadingDiv(C.a.blockDivFullScreen),e.preloadedResponseDataHandler(t)}):e.basicModals.alert("Preload from Dataset Catalog","The selected dataset doesn't have a data dump neither an ontology IRI, so cannot be used to preload data.","warning")},function(){})},CreateProjectComponent.prototype.preloadedResponseDataHandler=function(e){if(e.warnings.length>0){var t="";e.warnings.forEach(function(e){t+=e.message+"\n"}),this.basicModals.alert("Preload data",t,"warning")}this.preloadedData={summary:e,option:this.selectedPreloadOpt},null!=e.baseURI&&(this.baseUri=e.baseURI,this.baseUriForced=!0,this.baseUriLocked=!0),null!=e.model&&(this.forceOntoModel(e.model.getURI()),this.ontoModelForced=!0,this.ontoModelLocked=!0),null!=e.lexicalizationModel&&(this.forceLexicalModel(e.lexicalizationModel.getURI()),this.lexicalModelForced=!0,this.lexicalModelLocked=!0)},CreateProjectComponent.prototype.onOntoModelChanged=function(){this.ontoModelType.getURI()!=f.f.uri||this.lexicalModelForced?this.isEdoalProject()&&!this.lexicalModelForced&&this.forceLexicalModel(f.b.uri):this.forceLexicalModel(f.f.uri)},CreateProjectComponent.prototype.forceOntoModel=function(e){var t=this;this.ontoModelList.forEach(function(n){n.value.getURI()==e&&(t.ontoModelType=n.value)})},CreateProjectComponent.prototype.forceLexicalModel=function(e){var t=this;this.lexicalModelList.forEach(function(n){n.value.getURI()==e&&(t.lexicalModelType=n.value)})},CreateProjectComponent.prototype.isEdoalProject=function(){return this.ontoModelType.getURI()==f.g.uri},CreateProjectComponent.prototype.isOntoModelOntolex=function(){return this.ontoModelType.getURI()==f.f.uri},CreateProjectComponent.prototype.initProjectList=function(){var e=this;this.projectService.listProjects().subscribe(function(t){e.projectList=t,e.leftProjectList=[],e.projectList.forEach(function(t){"remote"==t.getRepositoryLocation().location&&e.leftProjectList.push(t)})})},CreateProjectComponent.prototype.updateRightProjectList=function(){var e=this;this.rightProjectList=[],this.projectList.forEach(function(t){t.getName()!=e.leftProject.getName()&&e.rightProjectList.push(t)})},CreateProjectComponent.prototype.initRemoteRepoAccessConfigurations=function(){var e=this;this.prefService.getSystemSettings([u.a.setting_remote_configs]).subscribe(function(t){null!=t[u.a.setting_remote_configs]?(e.remoteRepoConfigs=JSON.parse(t[u.a.setting_remote_configs]),null!=e.selectedRemoteRepoConfig?e.selectedRemoteRepoConfig=e.remoteRepoConfigs.find(function(t){return t.serverURL==e.selectedRemoteRepoConfig.serverURL}):1==e.remoteRepoConfigs.length&&(e.selectedRemoteRepoConfig=e.remoteRepoConfigs[0])):(e.remoteRepoConfigs=[],e.selectedRemoteRepoConfig=null)})},CreateProjectComponent.prototype.onRepoAccessChange=function(){this.selectedRepositoryAccess==d.a.CreateRemote&&this.onProjectNameChange()},CreateProjectComponent.prototype.isSelectedRepoAccessRemote=function(){return this.selectedRepositoryAccess==d.a.CreateRemote||this.selectedRepositoryAccess==d.a.AccessExistingRemote},CreateProjectComponent.prototype.isSelectedRepoAccessCreateMode=function(){return this.selectedRepositoryAccess==d.a.CreateLocal||this.selectedRepositoryAccess==d.a.CreateRemote},CreateProjectComponent.prototype.configureRemoteRepositoryAccess=function(){var e=this;this.sharedModals.configureRemoteRepositoryAccess().then(function(){e.initRemoteRepoAccessConfigurations()})},CreateProjectComponent.prototype.changeRemoteRepository=function(e){var t=this;if(null==this.selectedRemoteRepoConfig)return void this.basicModals.alert("Missing configuration","You need to select a configuration for the selected remote Repository Access. Please, select an existing one from the related combobox or create a new one.","warning");var n="data"==e?"Select Remote Data Repository":"Select Remote History/Validation Repository";this.sharedModals.selectRemoteRepository(n,this.selectedRemoteRepoConfig).then(function(n){"data"==e?t.dataRepoId=n.id:t.supportRepoId=n.id})},CreateProjectComponent.prototype.onUriGenPluginChanged=function(){var e=this,t=this.uriGenPluginConfMap.get(this.selectedUriGenPlugin.factoryID);if(null!=t)return this.selectedUriGenPluginConfList=t,void(this.selectedUriGenPluginConf=this.selectedUriGenPluginConfList[0]);this.pluginService.getPluginConfigurations(this.selectedUriGenPlugin.factoryID).subscribe(function(t){e.uriGenPluginConfMap.set(t.factoryID,t.configurations),e.selectedUriGenPluginConfList=t.configurations,e.selectedUriGenPluginConf=e.selectedUriGenPluginConfList[0]})},CreateProjectComponent.prototype.configureUriGenConf=function(){var e=this;this.sharedModals.configurePlugin(this.selectedUriGenPluginConf).then(function(t){e.selectedUriGenPluginConf.properties=t.properties},function(){})},CreateProjectComponent.prototype.onRendEnginePluginChanged=function(){var e=this,t=this.rendEngPluginConfMap.get(this.selectedRendEngPlugin.factoryID);if(null!=t)return this.selectedRendEngPluginConfList=t,void(this.selectedRendEngPluginConf=this.selectedRendEngPluginConfList[0]);this.pluginService.getPluginConfigurations(this.selectedRendEngPlugin.factoryID).subscribe(function(t){e.rendEngPluginConfMap.set(t.factoryID,t.configurations),e.selectedRendEngPluginConfList=t.configurations,e.selectedRendEngPluginConf=e.selectedRendEngPluginConfList[0]})},CreateProjectComponent.prototype.configureRendEngConf=function(){var e=this;this.sharedModals.configurePlugin(this.selectedRendEngPluginConf).then(function(t){e.selectedRendEngPluginConf.properties=t.properties},function(){})},CreateProjectComponent.prototype.selectMetadataPattern=function(e){var t=new h.a("Select a pattern"),n=new s.b(t,void 0,h.a),r={context:n.toJSON()};return this.modal.open(h.b,r).result.then(function(t){e.pattern=t},function(){})},CreateProjectComponent.prototype.addMetadataAssociation=function(){this.metadataAssociations.push({role:null,pattern:null})},CreateProjectComponent.prototype.removeMetadataAssociation=function(e){1==this.metadataAssociations.length?(this.metadataAssociations[0].role=null,this.metadataAssociations[0].pattern=null):this.metadataAssociations.slice(this.metadataAssociations.indexOf(e),1)},CreateProjectComponent.prototype.onShacleEnableChange=function(){var e=this;this.enableSHACL&&null==this.shaclSettings&&this.projectService.createEmptySHACLSettingsForm().subscribe(function(t){e.shaclSettings=t})},CreateProjectComponent.prototype.create=function(){var e=this;if(!this.projectName||""==this.projectName.trim())return void this.basicModals.alert("Create project","Project name is missing or not valid","warning");if(this.selectedPreloadOpt!=this.preloadOptNone&&null==this.preloadedData)return void this.basicModals.alert("Create project","No data preloaded. Please, load data or select '"+this.preloadOptNone+"' if you don't want to preload any.","warning");if(!this.baseUri||""==this.baseUri.trim()||!x.a.testIRI(this.baseUri))return void this.basicModals.alert("Create project","BaseURI is missing or not valid","warning");if(this.isEdoalProject()&&(null==this.leftProject||null==this.rightProject))return void this.basicModals.alert("Create project","Left or right dataset missing","warning");var t=new d.c(this.selectedRepositoryAccess);if(this.isSelectedRepoAccessRemote()){if(null==this.selectedRemoteRepoConfig)return void this.basicModals.alert("Missing configuration","You need to select a configuration for the selected remote Repository Access. Please, select an existing one from the related combobox or create a new one.","warning");t.setConfiguration(this.selectedRemoteRepoConfig)}var n;if(this.isSelectedRepoAccessCreateMode()){if(this.selectedDataRepoConfig.requireConfiguration())return void this.basicModals.alert("Create project","Data Repository ("+this.selectedDataRepoConfig.shortName+") requires to be configured","warning");n={factoryId:this.selectedDataRepoExtension.id,configType:this.selectedDataRepoConfig.type,configuration:this.selectedDataRepoConfig.getPropertiesAsMap()}}var o,i=null!=this.supportRepoId?this.supportRepoId:this.projectName+"_support";if((this.validation||this.history)&&this.isSelectedRepoAccessCreateMode()){if(this.selectedSupportRepoConfig.requireConfiguration())return void this.basicModals.alert("Create project","History/Validation Repository ("+this.selectedSupportRepoConfig.shortName+") requires to be configured","warning");o={factoryId:this.selectedSupportRepoExtension.id,configType:this.selectedSupportRepoConfig.type,configuration:this.selectedSupportRepoConfig.getPropertiesAsMap()}}var a,s;this.isSelectedRepoAccessCreateMode()||(a=this.selectedCoreRepoBackendType,(this.validation||this.history)&&(s=this.selectedSupportRepoBackendType));var l,c;this.isEdoalProject()&&(l=this.leftProject.getName(),c=this.rightProject.getName());var p;if(!this.uriGenUseDefaultSetting){if(this.selectedUriGenPluginConf.requireConfiguration())return void this.basicModals.alert("Create project","UriGenerator Plugin ("+this.selectedUriGenPluginConf.shortName+") requires configuration","warning");p={factoryId:this.selectedUriGenPlugin.factoryID,configType:this.selectedUriGenPluginConf.type,properties:this.selectedUriGenPluginConf.getPropertiesAsMap()}}var u;if(!this.rendEngUseDefaultSetting){if(this.selectedRendEngPluginConf.requireConfiguration())return void this.basicModals.alert("Create project","Rendering Engine Plugin ("+this.selectedRendEngPluginConf.shortName+") requires configuration","warning");u={factoryId:this.selectedRendEngPlugin.factoryID,configType:this.selectedRendEngPluginConf.type,properties:this.selectedRendEngPluginConf.getPropertiesAsMap()}}var f,h,g;this.preloadedData&&(f=this.preloadedData.summary.preloadedDataFile,h=this.preloadedData.option==r.FROM_LOCAL_FILE?this.selectedInputFormat.name:this.preloadedData.summary.preloadedDataFormat,g=this.selectedImportAllowance);var m;if(this.useResourceMetadata){if(this.metadataAssociations.some(function(e){return null==e.role||null==e.pattern}))return void this.basicModals.alert("Create project","An incomplete association has been detected in the configuration of Resource Metadata. Please, fix it or disabled the Resource Metadata","warning");m=this.metadataAssociations.map(function(e){return{first:e.role.role,second:e.pattern.reference}})}var v;if(this.enableSHACL&&this.isSelectedRepoAccessCreateMode()){if(v=new Map,this.shaclSettings.requireConfiguration())return void this.basicModals.alert("Create project","You have enabled SHACL validation, but it requires configuration","warning");this.shaclSettings.properties.forEach(function(e){v.set(e.name,e.value)})}C.a.startLoadingDiv(C.a.blockDivFullScreen),this.projectService.createProject(this.projectName,this.baseUri,this.ontoModelType,this.lexicalModelType,this.history,this.validation,this.blacklisting,t,this.dataRepoId,i,n,a,o,s,l,c,p,u,m,this.enableSHACL,v,this.enableTrivialInference,f,h,g).subscribe(function(t){C.a.stopLoadingDiv(C.a.blockDivFullScreen),e.basicModals.alert("Create project","Project created successfully").then(function(){return e.router.navigate(["/Projects"])})},function(t){e.projectService.handleMissingChangetrackierSailError(t,e.basicModals)})},E([n.i(o.F)("dataRepoConfigurator"),w("design:type",R.a)],CreateProjectComponent.prototype,"dataRepoConfigurator",void 0),E([n.i(o.F)("supportRepoConfigurator"),w("design:type",R.a)],CreateProjectComponent.prototype,"supportRepoConfigurator",void 0),CreateProjectComponent=E([n.i(o.c)({selector:"create-project-component",template:n(1900),host:{class:"pageComponent"}}),w("design:paramtypes",[y.a,v.a,g.a,m.a,b.a,i.c,S.a,P.a,a.l])],CreateProjectComponent)}();!function(e){e.NONE="Do not preload any data",e.FROM_LOCAL_FILE="Preload from local file",e.FROM_URI="Preload from URI",e.FROM_DATASET_CATALOG="Preload from Dataset Catalog"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(60),s=n(54),l=n(7),c=n(233),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function ProjectACLModal(e,t,n){this.dialog=e,this.modal=t,this.projectService=n,this.context=e.context}return ProjectACLModal.prototype.ngOnInit=function(){this.init()},ProjectACLModal.prototype.init=function(){var e=this;l.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.projectService.getAccessStatusMap().subscribe(function(t){l.a.stopLoadingDiv(e.blockingDivElement.nativeElement),e.statusMap=t,e.aclTable=[],e.consumerList=e.statusMap.map(function(e){return e.name}),e.consumerList.unshift("SYSTEM"),e.statusMap.forEach(function(t){var n=t.name,r={project:n,lock:{status:t.lock,title:e.getLockLevelTitle(n,t.lock),class:"lock-badge "+(null!=t.lock.lockingConsumer?"lock-active":"lock-default")},cols:[]};e.consumerList.forEach(function(o){var i=e.findProjectConsumerACL(n,o),a={consumer:o,accessLevelCell:{available:i?i.availableACLLevel:null,acquired:i?i.acquiredACLLevel:null,title:e.getAccessLevelTitle(n,o,i,t.lock),class:e.getAccessLevelClass(n,o,i,t.lock)}};r.cols.push(a)}),e.aclTable.push(r)})})},ProjectACLModal.prototype.findProjectConsumerACL=function(e,t){return e==t?null:this.statusMap.find(function(t){return t.name==e}).consumers.find(function(e){return e.name==t})},ProjectACLModal.prototype.getAccessLevelTitle=function(e,t,n,r){var o="";return e!=t&&(o+="Available Access Level: Project '"+e+"'",n.availableACLLevel==a.j.RW?o+=" grants Read and Write":n.availableACLLevel==a.j.R?o+=" grants Read":o+=" doesn't grant any",o+=" access to '"+t+"'",null!=n.acquiredACLLevel&&(o+="\nAcquired Access Level: Project '"+e+"' is accessed by '"+t+"'",n.acquiredACLLevel==a.j.RW?o+=" in Read and Write level":n.availableACLLevel==a.j.R&&(o+=" in Read level")),r.lockingConsumer==t&&(o+="\nAquired Lock Level: Project '"+e+"' is locked by '"+t+"'",r.acquiredLockLevel==a.k.R?o+=" in Read level":r.acquiredLockLevel==a.k.W&&(o+=" in Write level"))),o},ProjectACLModal.prototype.getAccessLevelClass=function(e,t,n,r){var o="text-center fixedColInner";return e==t?o+=" disabledCell":(null!=n.acquiredACLLevel&&(o+=" accessed"),r.lockingConsumer==t&&(o+=" locked")),o},ProjectACLModal.prototype.getLockLevelTitle=function(e,t){var n="";return n="Available Lock Level: Project '"+e+"'",t.availableLockLevel==a.k.NO?n+=" cannot be locked by any consumer":t.availableLockLevel==a.k.W?n+=" can be locked to prevent writing operations by other consumers":t.availableLockLevel==a.k.R&&(n+=" can be locked to prevent access by other consumers"),null!=t.lockingConsumer&&(n+="\nAcquired Lock Level: Project '"+e+"' is locked by '"+t.lockingConsumer+"'",t.acquiredLockLevel==a.k.W?n+=" in Write level":t.acquiredLockLevel==a.k.R&&(n+=" in Read level")),n},ProjectACLModal.prototype.editProjectACL=function(e){var t=this,n=new c.a(new a.f(e)),r=new i.b(n,void 0,c.a),o={context:r.size("sm").keyboard(27).toJSON()};return this.modal.open(c.b,o).result.then(function(e){e&&t.init()})},ProjectACLModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},p([n.i(r.F)("blockingDiv"),d("design:type",r.e)],ProjectACLModal.prototype,"blockingDivElement",void 0),ProjectACLModal=p([n.i(r.c)({selector:"project-acl-modal",template:n(1902),styles:[n(2095)]}),d("design:paramtypes",[o.g,i.c,s.a])],ProjectACLModal)}();(function(){function AclTableRow(){}})(),function(){function LockCell(){}}(),function(){function AclTableCol(){}}(),function(){function AccessLevelCell(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r=n(0),o=n(46),i=n(4),a=n(41),s=(n.n(a),n(60)),l=n(161),c=n(54),p=n(307),d=n(55),u=n(96),f=n(138),h=n(7),g=n(112),m=n(6),v=n(21),b=n(2),y=n(523),x=n(233),C=n(525),R=n(527),S=n(529),P=n(530),E=n(531),w=n(532),I=n(533),A=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),_=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},L=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=function(e){function ProjectComponent(t,n,r,o,i,a,l,c,p,d){var u=e.call(this,n,r,o,i,a)||this;return u.projectService=t,u.repositoriesService=l,u.basicModals=c,u.modal=p,u.router=d,u.columnIDs=[s.h.accessed,s.h.history,s.h.lexicalization,s.h.location,s.h.model,s.h.name,s.h.open,s.h.validation],u}return A(ProjectComponent,e),ProjectComponent.prototype.initProjects=function(){var e=this;this.visualizationMode=u.a.getCookie(u.a.PROJECT_VIEW_MODE)==s.d.dir?s.d.dir:s.d.list,this.columnOrder={};var t=s.i.getDefaultProjectTableColumns();this.getCustomColumnsSetting().forEach(function(n,r){var o=t.find(function(e){return e.id==n});e.columnOrder[n]={show:o.name,order:r,flex:o.flex}}),this.projectService.listProjects().subscribe(function(t){e.projectList=t,e.initProjectDirectories()})},ProjectComponent.prototype.openOrCloseProject=function(e){e.isOpen()?this.closeProject(e):this.openProject(e)},ProjectComponent.prototype.openProject=function(e){var t=this;h.a.startLoadingDiv(h.a.blockDivFullScreen),this.projectService.accessProject(e).subscribe(function(n){h.a.stopLoadingDiv(h.a.blockDivFullScreen),e.setOpen(!0),t.accessProject(e).subscribe()},function(e){t.projectService.handleMissingChangetrackierSailError(e,t.basicModals)})},ProjectComponent.prototype.activateProject=function(e){var t=m.a.getWorkingProject();void 0!=t&&t.getName()==e.getName()||this.accessProject(e).subscribe()},ProjectComponent.prototype.createProject=function(){this.router.navigate(["/Projects/CreateProject"])},ProjectComponent.prototype.deleteProject=function(e){var t=this;if(e.isOpen())return void this.basicModals.alert("Delete project",e.getName()+" is currently open. Please, close the project and then retry.","warning");this.basicModals.confirm("Delete project","Warning, this operation will delete the project "+e.getName()+". Are you sure to proceed?","warning").then(function(n){t.projectService.getRepositories(e,!0).subscribe(function(n){t.deleteImpl(e).subscribe(function(){n.length>0&&t.deleteRemoteRepo(e,n)})})},function(){})},ProjectComponent.prototype.deleteImpl=function(e){var t=this;return this.projectService.deleteProject(e).map(function(e){t.initProjects()})},ProjectComponent.prototype.deleteRemoteRepo=function(e,t){var n=this;this.selectRemoteRepoToDelete(e,t).subscribe(function(e){e.length>0&&(h.a.startLoadingDiv(h.a.blockDivFullScreen),n.repositoriesService.deleteRemoteRepositories(e).subscribe(function(t){if(h.a.stopLoadingDiv(h.a.blockDivFullScreen),t.some(function(e){return null!=e})){var r=new w.a(e,t),o=new i.b(r,void 0,w.a),a={context:o.keyboard(27).size("lg").toJSON()};n.modal.open(w.b,a)}}))})},ProjectComponent.prototype.selectRemoteRepoToDelete=function(e,t){var n=new E.a(e,t),r=new i.b(n,void 0,E.a),o={context:r.keyboard(27).toJSON()};return a.Observable.fromPromise(this.modal.open(E.b,o).result.then(function(e){return e}))},ProjectComponent.prototype.closeProject=function(e){h.a.startLoadingDiv(h.a.blockDivFullScreen),this.projectService.disconnectFromProject(e).subscribe(function(t){e.setOpen(!1),h.a.stopLoadingDiv(h.a.blockDivFullScreen)})},ProjectComponent.prototype.openPropertyModal=function(e){var t=new S.a(e),n=new i.b(t,void 0,S.a),r={context:n.size("lg").keyboard(27).toJSON()};return this.modal.open(S.b,r)},ProjectComponent.prototype.openACLModal=function(){var e=this;this.projectList.length>50?this.basicModals.confirm("ACL matrix","Warning: there are a lot of projects ("+this.projectList.length+"), thus the ACL matrix might be slow to load and hardly readable. Do you want to continue anyway?\n\nAlternatively the ACL for a specific project is available from the related action menu, 'Edit ACL' entry.","warning").then(function(){e.openACLMatrix()},function(){}):this.openACLMatrix()},ProjectComponent.prototype.openACLMatrix=function(){var e=new i.b,t={context:e.dialogClass("modal-dialog modal-xl").keyboard(27).toJSON()};return this.modal.open(C.a,t)},ProjectComponent.prototype.editACL=function(e){var t=new x.a(e),n=new i.b(t,void 0,x.a),r={context:n.size("sm").keyboard(27).toJSON()};return this.modal.open(x.b,r)},ProjectComponent.prototype.editRemoteRepoCredential=function(e){if(e.isOpen())return void this.basicModals.alert("Edit remote repository credentials","You cannot edit credentials of remote repositories linked to an open project. Please, close the project and retry","warning");var t=new I.a(e),n=new i.b(t,void 0,I.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(I.b,r)},ProjectComponent.prototype.editDirectory=function(e,t){var n=this,r=[];this.projectDirs.forEach(function(e){null!=e.dir&&r.push(e.dir)});var o=new R.a(e,t,r),a=new i.b(o,void 0,R.a),s={context:a.keyboard(27).toJSON()};return this.modal.open(R.b,s).result.then(function(){n.initProjects()},function(){})},ProjectComponent.prototype.renameDirectory=function(e){var t=this;this.basicModals.prompt("Rename project directory",{value:"Directory name"},null,e).then(function(n){n!=e&&(t.projectDirs.some(function(e){return e.dir==n})?t.basicModals.confirm("Rename project directory","Warning: a project directory named '"+n+"' already exists. You will move there all the projects contained in directory '"+e+"'. Do you want to continue?","warning").then(function(){t.projectService.renameProjectFacetDir(e,n).subscribe(function(){t.initProjects()})},function(){}):t.projectService.renameProjectFacetDir(e,n).subscribe(function(){t.initProjects()}))})},ProjectComponent.prototype.editDescription=function(e){var t=this;this.basicModals.prompt("Project description",{value:"Description"},null,e.getDescription(),!0).then(function(n){""==n.trim()&&(n=null),t.projectService.setProjectProperty(e,"description",n).subscribe(function(){e.setDescription(n)})},function(){})},ProjectComponent.prototype.settings=function(){var e=this,t=new i.b,n={context:t.size("sm").keyboard(27).toJSON()};this.modal.open(P.a,n).result.then(function(){e.initProjects()},function(){})},ProjectComponent.prototype.getCustomColumnsSetting=function(){var e=s.i.defaultTableOrder,t=u.a.getCookie(u.a.PROJECT_TABLE_ORDER);return null!=t&&(e=t.split(",")),e},ProjectComponent=_([n.i(r.c)({selector:"project-component",template:n(1903),host:{class:"pageComponent"}}),L("design:paramtypes",[c.a,d.a,l.a,g.a,v.a,f.a,p.a,b.a,i.c,o.c])],ProjectComponent)}(y.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(54),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ProjectDirModalData(t,n,r){var o=e.call(this)||this;return o.project=t,o.currentDir=n,o.availableDirs=r,o}return s(ProjectDirModalData,e),ProjectDirModalData}(i.d),d=function(){function ProjectDirModal(e,t){this.dialog=e,this.projectService=t,this.context=e.context}return ProjectDirModal.prototype.ngOnInit=function(){this.directories=this.context.availableDirs,this.directories.sort(function(e,t){return e.toLocaleLowerCase().localeCompare(t.toLocaleLowerCase())}),this.dirName=this.context.currentDir},ProjectDirModal.prototype.ok=function(){var e=this,t=null!=this.dirName&&""!=this.dirName.trim()?this.dirName:null;this.context.currentDir!=t?this.projectService.setProjectFacetDir(this.context.project.getName(),t).subscribe(function(){e.dialog.close()}):this.cancel()},ProjectDirModal.prototype.cancel=function(){this.dialog.dismiss()},ProjectDirModal=l([n.i(r.c)({selector:"project-dir-modal",template:n(1904)}),c("design:paramtypes",[o.g,a.a])],ProjectDirModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(46),i=n(5),a=n(60),s=n(161),l=n(54),c=n(55),p=n(96),d=n(138),u=n(112),f=n(21),h=n(523),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function ProjectListModal(t,n,r,o,i,a,s,l){var c=e.call(this,n,r,o,i,a)||this;return c.dialog=t,c.projectService=s,c.router=l,c.context=t.context,c}return g(ProjectListModal,e),ProjectListModal.prototype.initProjects=function(){var e=this;this.visualizationMode=p.a.getCookie(p.a.PROJECT_VIEW_MODE)==a.d.dir?a.d.dir:a.d.list,this.projectService.listProjects(null,!0,!0).subscribe(function(t){e.projectList=t,e.initProjectDirectories()})},ProjectListModal.prototype.changeVisualizationMode=function(e){this.visualizationMode=e,p.a.setCookie(p.a.PROJECT_VIEW_MODE,e)},ProjectListModal.prototype.ok=function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.dialog.close(),this.router.navigate(["/Home"]).then(function(){t.accessProject(t.selectedProject).subscribe()})},ProjectListModal.prototype.cancel=function(){this.dialog.dismiss()},ProjectListModal=m([n.i(r.c)({selector:"project-list-modal",template:n(1905)}),v("design:paramtypes",[i.g,c.a,s.a,u.a,f.a,d.a,l.a,o.c])],ProjectListModal)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(4),i=n(5),a=n(54),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ProjectPropertiesModalData(t){var n=e.call(this)||this;return n.project=t,n}return s(ProjectPropertiesModalData,e),ProjectPropertiesModalData}(o.d),d=function(){function ProjectPropertiesModal(e,t){this.dialog=e,this.projectService=t,this.propertyList=[],this.context=e.context}return ProjectPropertiesModal.prototype.ngOnInit=function(){var e=this;this.projectService.getProjectPropertyMap(this.context.project).subscribe(function(t){t.sort(function(e,t){return e.name.localeCompare(t.name)}),e.propertyList=t})},ProjectPropertiesModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},ProjectPropertiesModal.prototype.cancel=function(){this.dialog.dismiss()},ProjectPropertiesModal=l([n.i(r.c)({selector:"project-properties-modal",template:n(1906)}),c("design:paramtypes",[i.g,a.a])],ProjectPropertiesModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(5),i=n(60),a=n(96),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function ProjectTableConfigModal(e){this.dialog=e,this.visualizationModes=[{show:"Projects",mode:i.d.list},{show:"Directories",mode:i.d.dir}],this.columns=[],this.context=e.context}return ProjectTableConfigModal.prototype.ngOnInit=function(){var e=a.a.getCookie(a.a.PROJECT_VIEW_MODE)==i.d.dir?i.d.dir:i.d.list;this.selectedVisualizationMode=this.visualizationModes.find(function(t){return t.mode==e}),this.initColumnTable()},ProjectTableConfigModal.prototype.initColumnTable=function(){this.columns=i.i.getDefaultProjectTableColumns();var e=this.getCustomColumnsSetting();this.columns.forEach(function(t){-1==e.indexOf(t.id)&&(t.show=!1)}),this.columns.sort(function(t,n){var r=e.indexOf(t.id);-1==r&&(r=99);var o=e.indexOf(n.id);return-1==o&&(o=99),r>o?1:r<o?-1:0})},ProjectTableConfigModal.prototype.getCustomColumnsSetting=function(){var e=i.i.defaultTableOrder,t=a.a.getCookie(a.a.PROJECT_TABLE_ORDER);return null!=t&&(e=t.split(",")),e},ProjectTableConfigModal.prototype.selectColumn=function(e){this.selectedColumn==e?this.selectedColumn=null:this.selectedColumn=e},ProjectTableConfigModal.prototype.moveUp=function(){var e=this.columns.indexOf(this.selectedColumn);this.columns.splice(e-1,0,this.columns.splice(e,1)[0])},ProjectTableConfigModal.prototype.moveDown=function(){var e=this.columns.indexOf(this.selectedColumn);this.columns.splice(e+1,0,this.columns.splice(e,1)[0])},ProjectTableConfigModal.prototype.reset=function(){a.a.deleteCookie(a.a.PROJECT_TABLE_ORDER),this.initColumnTable()},ProjectTableConfigModal.prototype.ok=function(){var e=a.a.getCookie(a.a.PROJECT_VIEW_MODE),t=this.selectedVisualizationMode.mode,n=a.a.getCookie(a.a.PROJECT_TABLE_ORDER),r=this.columns.filter(function(e){return e.show}).map(function(e){return e.id}).join(",");e!=t||n!=r?(a.a.setCookie(a.a.PROJECT_TABLE_ORDER,r),a.a.setCookie(a.a.PROJECT_VIEW_MODE,t),this.dialog.close()):this.dialog.dismiss()},ProjectTableConfigModal=s([n.i(r.c)({selector:"proj-table-conf-modal",template:n(1907)}),l("design:paramtypes",[o.g])],ProjectTableConfigModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function DeleteRemoteRepoModalData(t,n){var r=e.call(this)||this;return r.project=t,r.repositories=n,r}return a(DeleteRemoteRepoModalData,e),DeleteRemoteRepoModalData}(i.d),p=function(){function DeleteRemoteRepoModal(e){this.dialog=e,this.context=e.context}return DeleteRemoteRepoModal.prototype.ngOnInit=function(){var e=this;this.selectionList=[],this.context.repositories.forEach(function(t){e.selectionList.push(!1)})},DeleteRemoteRepoModal.prototype.checkAll=function(e){for(var t=0;t<this.selectionList.length;t++)this.selectionList[t]=e},DeleteRemoteRepoModal.prototype.ok=function(e){for(var t=[],n=0;n<this.selectionList.length;n++)this.selectionList[n]&&t.push(this.context.repositories[n].remoteRepoSummary);e.stopPropagation(),e.preventDefault(),this.dialog.close(t)},DeleteRemoteRepoModal=s([n.i(r.c)({selector:"delete-remote-repo-modal",template:n(1908)}),l("design:paramtypes",[o.g])],DeleteRemoteRepoModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function DeleteRepositoryReportModalData(t,n){var r=e.call(this)||this;return r.deletingRepositories=t,r.exceptions=n,r}return a(DeleteRepositoryReportModalData,e),DeleteRepositoryReportModalData}(i.d),p=function(){function DeleteRepositoryReportModal(e){this.dialog=e,this.context=e.context}return DeleteRepositoryReportModal.prototype.ngOnInit=function(){var e=this;this.failReports=[],this.context.exceptions.forEach(function(t,n){null!=t&&e.failReports.push({repositoryID:e.context.deletingRepositories[n].repositoryId,exception:t})}),this.message="The deletion of the following remote "+(this.failReports.length>1?"repositories":"repository")+" has failed:"},DeleteRepositoryReportModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},DeleteRepositoryReportModal=s([n.i(r.c)({selector:"delete-repo-report-modal",template:n(1909),styles:[".stacktrace { max-height: 100px; overflow: auto; white-space: pre; }"]}),l("design:paramtypes",[o.g])],DeleteRepositoryReportModal)}();!function(){function FailReport(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(54),s=n(2),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function RemoteRepoEditorModalData(t){var n=e.call(this)||this;return n.project=t,n}return l(RemoteRepoEditorModalData,e),RemoteRepoEditorModalData}(i.d),u=function(){function RemoteRepoEditorModal(e,t,n){this.dialog=e,this.projectService=t,this.basicModals=n,this.allowBatchModify=!1,this.BATCH_ATTR="batch",this.MATCH_USERNAME_ATTR="matchUsername",this.context=e.context}return RemoteRepoEditorModal.prototype.ngOnInit=function(){this.initRepos()},RemoteRepoEditorModal.prototype.initRepos=function(){var e=this;this.projectService.getRepositories(this.context.project,!0).subscribe(function(t){if(e.pristineRepoSummaries=JSON.parse(JSON.stringify(t)),e.repoSummaries=t,e.repoSummaries.length>1){e.allowBatchModify=!0;for(var n=0;n<e.repoSummaries.length;n++)e.repoSummaries[n][e.BATCH_ATTR]=!0,e.repoSummaries[n][e.MATCH_USERNAME_ATTR]=!0}})},RemoteRepoEditorModal.prototype.applyChange=function(e){var t=this;if(e[this.BATCH_ATTR]){var n=this.pristineRepoSummaries[this.repoSummaries.indexOf(e)].remoteRepoSummary.username;this.projectService.batchModifyRepostoryAccessCredentials(this.context.project,e.remoteRepoSummary.serverURL,e[this.MATCH_USERNAME_ATTR],n,e.remoteRepoSummary.username,e.remoteRepoSummary.password).subscribe(function(r){var o="Credentials for remote repositories with serverURL "+e.remoteRepoSummary.serverURL;e[t.MATCH_USERNAME_ATTR]&&(o+=" and username '"+n+"'"),o+=" have been updated",t.basicModals.alert("Credentials updated",o),t.initRepos()})}else this.projectService.modifyRepositoryAccessCredentials(this.context.project,e.id,e.remoteRepoSummary.username,e.remoteRepoSummary.password).subscribe(function(n){t.basicModals.alert("Credentials updated","Credentials for the '"+e.id+"' remote repository have been updated")})},RemoteRepoEditorModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},RemoteRepoEditorModal=c([n.i(r.c)({selector:"remote-repo-editor-modal",template:n(1910)}),p("design:paramtypes",[o.g,a.a,s.a])],RemoteRepoEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(2),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ImportPatternModalData(t,n){var r=e.call(this)||this;return r.title=t,r.existingPatterns=n,r}return s(ImportPatternModalData,e),ImportPatternModalData}(i.d),d=function(){function ImportPatternModal(e,t){this.dialog=e,this.basicModals=t,this.context=e.context}return ImportPatternModal.prototype.fileChangeEvent=function(e){this.file=e},ImportPatternModal.prototype.isDataValid=function(){return null!=this.file&&null!=this.name&&""!=this.name.trim()},ImportPatternModal.prototype.ok=function(){var e=this;if(this.context.existingPatterns.some(function(t){return t.name==e.name}))return void this.basicModals.alert("Metadata Pattern already existing","A Metadata Pattern with the same already exists. Please change the name and retry","warning");this.dialog.close({file:this.file,name:this.name})},ImportPatternModal.prototype.cancel=function(){this.dialog.dismiss()},ImportPatternModal=l([n.i(r.c)({selector:"import-pattern-modal",template:n(1911)}),c("design:paramtypes",[o.g,a.a])],ImportPatternModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(183),l=n(163),c=n(10),p=n(2),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function MetadataAssociationEditorModalData(t,n){var r=e.call(this)||this;return r.title=t,r.existingAssociations=n,r}return d(MetadataAssociationEditorModalData,e),MetadataAssociationEditorModalData}(i.d),g=function(){function MetadataAssociationEditorModal(e,t,n){this.dialog=e,this.resourceMetadataService=t,this.basicModals=n,this.roles=[a.c.undetermined,a.c.annotationProperty,a.c.cls,a.c.concept,a.c.conceptScheme,a.c.dataRange,a.c.datatypeProperty,a.c.individual,a.c.limeLexicon,a.c.objectProperty,a.c.ontolexForm,a.c.ontolexLexicalEntry,a.c.ontolexLexicalSense,a.c.ontology,a.c.ontologyProperty,a.c.property,a.c.skosCollection,a.c.skosOrderedCollection,a.c.xLabel],this.context=e.context}return MetadataAssociationEditorModal.prototype.ngOnInit=function(){var e=this;this.resourceTypes=this.roles.map(function(e){return{role:e,show:c.a.getResourceRoleLabel(e,!0)}}),this.resourceMetadataService.getPatternIdentifiers().subscribe(function(t){e.patterns=t.map(function(e){return s.a.convertReferenceToPatternStruct(e)})})},MetadataAssociationEditorModal.prototype.isDataValid=function(){return null!=this.selectedPattern&&null!=this.selectedType},MetadataAssociationEditorModal.prototype.ok=function(){var e=this;if(this.context.existingAssociations.some(function(t){return t.role==e.selectedType.role&&t.pattern.reference==e.selectedPattern.reference}))return void this.basicModals.alert("Association already existing","An association between the same resource type and pattern already exists.","warning");this.resourceMetadataService.addAssociation(this.selectedType.role,this.selectedPattern.reference).subscribe(function(){e.dialog.close()})},MetadataAssociationEditorModal.prototype.cancel=function(){this.dialog.dismiss()},MetadataAssociationEditorModal=u([n.i(r.c)({selector:"metadata-assosiaction-editor-modal",template:n(1912)}),f("design:paramtypes",[o.g,l.a,p.a])],MetadataAssociationEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(0),o=n(5),i=n(4),a=n(183),s=n(163),l=n(2),c=n(302),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function MetadataFactoryPatternSelectionModalData(t){var n=e.call(this)||this;return n.title=t,n}return p(MetadataFactoryPatternSelectionModalData,e),MetadataFactoryPatternSelectionModalData}(i.d),h=function(){function MetadataFactoryPatternSelectionModal(e,t,n,r){this.dialog=e,this.resourceMetadataService=t,this.basicModals=n,this.modal=r,this.context=e.context}return MetadataFactoryPatternSelectionModal.prototype.ngOnInit=function(){var e=this;this.resourceMetadataService.getFactoryPatternIdentifiers().subscribe(function(t){e.patterns=t.map(function(e){return a.a.convertReferenceToPatternStruct(e)})})},MetadataFactoryPatternSelectionModal.prototype.showPattern=function(){var e=new c.a("Metadata Pattern",[],this.selectedPattern.reference,!0),t=new i.b(e,void 0,c.a),n={context:t.size("lg").toJSON()};return this.modal.open(c.b,n).result},MetadataFactoryPatternSelectionModal.prototype.isDataValid=function(){return null!=this.selectedPattern},MetadataFactoryPatternSelectionModal.prototype.ok=function(){this.dialog.close(this.selectedPattern)},MetadataFactoryPatternSelectionModal.prototype.cancel=function(){this.dialog.dismiss()},MetadataFactoryPatternSelectionModal=d([n.i(r.c)({selector:"metadata-factory-pattern-modal",template:n(1913)}),u("design:paramtypes",[o.g,s.a,l.a,o.l])],MetadataFactoryPatternSelectionModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return f});var r=n(0),o=n(5),i=n(4),a=n(183),s=n(163),l=n(2),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function MetadataPatternLibraryModalData(t,n,r){var o=e.call(this)||this;return o.title=t,o.patternToShare=n,o.existinPatterns=r,o}return c(MetadataPatternLibraryModalData,e),MetadataPatternLibraryModalData}(i.d),f=function(){function MetadataPatternLibraryModal(e,t,n){this.dialog=e,this.resourceMetadataService=t,this.basicModals=n,this.context=e.context}return MetadataPatternLibraryModal.prototype.ngOnInit=function(){this.deletePatternAuthorized=!0,null!=this.context.patternToShare?(this.name=this.context.patternToShare.name,this.nameTooltip="The name to assign to the shared Pattern"):this.nameTooltip="The name to assign to the imported Pattern",this.initLibrary()},MetadataPatternLibraryModal.prototype.initLibrary=function(){var e=this;this.resourceMetadataService.getLibraryPatternIdentifiers().subscribe(function(t){e.patterns=t.map(function(e){return a.a.convertReferenceToPatternStruct(e)}),e.selectedPattern=null})},MetadataPatternLibraryModal.prototype.deletePattern=function(){var e=this;this.basicModals.confirm("Delete Metadata Pattern","You are deleting the Metadata Pattern '"+this.selectedPattern.name+"' from the library. Are you sure?","warning").then(function(){e.resourceMetadataService.deletePattern(e.selectedPattern.reference).subscribe(function(){e.initLibrary()})},function(){})},MetadataPatternLibraryModal.prototype.storePatternInLibraryImpl=function(){var e=this;this.resourceMetadataService.storePatternInLibrary(this.context.patternToShare.reference,this.name).subscribe(function(){e.cancel()})},MetadataPatternLibraryModal.prototype.importPatternImpl=function(){var e=this;this.resourceMetadataService.importPatternFromLibrary(this.selectedPattern.reference,this.name).subscribe(function(){e.dialog.close()})},MetadataPatternLibraryModal.prototype.isOkEnabled=function(){return null!=this.context.patternToShare?null!=this.name&&""!=this.name.trim():null!=this.selectedPattern},MetadataPatternLibraryModal.prototype.ok=function(){var e=this;null!=this.context.patternToShare?this.patterns.some(function(t){return t.name==e.name})?this.basicModals.confirm(this.context.title,"A shared Pattern with the same name already exists. It will be replaced. Do you want to continue?","warning").then(function(){return e.storePatternInLibraryImpl()},function(){}):this.storePatternInLibraryImpl():this.context.existinPatterns.some(function(t){return t.name==e.name})?this.basicModals.confirm(this.context.title,"A Pattern with the same name already exists. It will be replaced. Do you want to continue?","warning").then(function(){return e.importPatternImpl()},function(){}):this.importPatternImpl()},MetadataPatternLibraryModal.prototype.cancel=function(){this.dialog.dismiss()},MetadataPatternLibraryModal=p([n.i(r.c)({selector:"metadata-pattern-library-modal",template:n(1915)}),d("design:paramtypes",[o.g,s.a,l.a])],MetadataPatternLibraryModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(4),i=n(183),a=n(163),s=n(17),l=n(10),c=n(2),p=n(534),d=n(535),u=n(302),f=n(537),h=n(20),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function ResourceMetadataComponent(e,t,n){this.resourceMetadataService=e,this.basicModals=t,this.modal=n}return ResourceMetadataComponent.prototype.ngOnInit=function(){this.createPatternAuthorized=s.a.isAuthorized(h.a.resourceMetadataPatternCreate),this.deletePatternAuthorized=s.a.isAuthorized(h.a.resourceMetadataPatternDelete),this.modifyPatternAuthorized=s.a.isAuthorized(h.a.resourceMetadataPatternUpdate),this.createAssociationAuthorized=s.a.isAuthorized(h.a.resourceMetadataAssociationCreate),this.deleteAssociationAuthorized=s.a.isAuthorized(h.a.resourceMetadataAssociationDelete),this.initAssociations(),this.initPatterns()},ResourceMetadataComponent.prototype.initPatterns=function(){var e=this;this.resourceMetadataService.getPatternIdentifiers().subscribe(function(t){e.patterns=t.map(function(e){return i.a.convertReferenceToPatternStruct(e)}),e.selectedPattern=null})},ResourceMetadataComponent.prototype.createPattern=function(){var e=this;this.openPatternEditor("Create Metadata Pattern").then(function(){return e.initPatterns()},function(){})},ResourceMetadataComponent.prototype.editPattern=function(){var e=this;this.openPatternEditor("Edit Metadata Pattern",this.selectedPattern.reference).then(function(){return e.initPatterns()},function(){})},ResourceMetadataComponent.prototype.deletePattern=function(){var e=this,t=this.associations.some(function(t){return t.pattern.reference==e.selectedPattern.reference}),n="You are deleting the pattern "+this.selectedPattern.name+".\n";t&&(n+="Note: the Metadata Pattern is used in one (or more) association. By deleting the pattern, the association(s) will be deleted as well.\n"),n+="Do you want to continue?",this.basicModals.confirm("Delete Metadata Pattern",n,"warning").then(function(){e.resourceMetadataService.deletePattern(e.selectedPattern.reference).subscribe(function(){e.initPatterns(),t&&e.initAssociations()})},function(){})},ResourceMetadataComponent.prototype.clonePattern=function(){var e=this;this.basicModals.prompt("Clone Metadata Pattern",{value:"Name",tooltip:"The name of the new pattern"}).then(function(t){if(e.patterns.some(function(e){return e.name==t}))return void e.basicModals.alert("Already existing Pattern","A Metadata Pattern with the name '"+t+"' already exists","warning");e.resourceMetadataService.clonePattern(e.selectedPattern.reference,t).subscribe(function(){e.initPatterns()})},function(){})},ResourceMetadataComponent.prototype.importPattern=function(){var e=this,t=new p.a("Import Metadata Pattern",this.patterns),n=new o.b(t,void 0,p.a),r={context:n.keyboard(27).toJSON()};this.modal.open(p.b,r).result.then(function(t){e.resourceMetadataService.importPattern(t.file,t.name).subscribe(function(){e.initPatterns()})},function(){})},ResourceMetadataComponent.prototype.exportPattern=function(){var e=this;this.resourceMetadataService.exportPattern(this.selectedPattern.reference).subscribe(function(t){var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Export Metadata Pattern",null,n,e.selectedPattern.name+".cfg")})},ResourceMetadataComponent.prototype.importPatternFromLibrary=function(){var e=this;this.openPatterLibrary("Import shared Metadata Pattern").then(function(t){e.initPatterns()},function(){})},ResourceMetadataComponent.prototype.storePatternInLibrary=function(){this.openPatterLibrary("Share Metadata Pattern",this.selectedPattern)},ResourceMetadataComponent.prototype.openPatternEditor=function(e,t){var n=null!=t&&t.startsWith("factory"),r=new u.a(e,this.patterns,t,n),i=new o.b(r,void 0,u.a),a={context:i.size("lg").toJSON()};return this.modal.open(u.b,a).result},ResourceMetadataComponent.prototype.openPatterLibrary=function(e,t){var n=new f.a(e,t,this.patterns),r=new o.b(n,void 0,f.a),i={context:r.toJSON()};return this.modal.open(f.b,i).result},ResourceMetadataComponent.prototype.initAssociations=function(){var e=this;this.resourceMetadataService.listAssociations().subscribe(function(t){e.associations=t,e.associations.forEach(function(e){e.roleLabel=l.a.getResourceRoleLabel(e.role,!0)}),e.selectedAssociation=null})},ResourceMetadataComponent.prototype.createAssociation=function(){var e=this;this.openAssociationEditor("Add Metadata Association").then(function(){return e.initAssociations()},function(){})},ResourceMetadataComponent.prototype.deleteAssociation=function(){var e=this;this.basicModals.confirm("Delete Metadata Association","You are deleting the association between '"+this.selectedAssociation.role+"' and '"+this.selectedAssociation.pattern.reference+"'. Are you sure?","warning").then(function(){e.resourceMetadataService.deleteAssociation(e.selectedAssociation.ref).subscribe(function(){return e.initAssociations()})},function(){})},ResourceMetadataComponent.prototype.openAssociationEditor=function(e){var t=new d.a(e,this.associations),n=new o.b(t,void 0,d.a),r={context:n.toJSON()};return this.modal.open(d.b,r).result},ResourceMetadataComponent=g([n.i(r.c)({selector:"resource-metadata-component",template:n(1916),host:{class:"pageComponent"}}),m("design:paramtypes",[a.a,c.a,o.c])],ResourceMetadataComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(5),i=n(45),a=n(32),s=n(71),l=n(6),c=n(21),p=n(2),d=n(13),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function ResViewSettingsModal(e,t,n,r,o){this.dialog=e,this.vbProp=t,this.prefService=n,this.basicModals=r,this.sharedModals=o,this.context=e.context}return ResViewSettingsModal.prototype.ngOnInit=function(){this.initTemplate()},ResViewSettingsModal.prototype.initTemplate=function(){this.template=l.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.resViewPartitionFilter},ResViewSettingsModal.prototype.loadTemplate=function(){var e=this;this.sharedModals.loadConfiguration("Load template",i.c.TEMPLATE_STORE,!0,!1).then(function(t){var n=t.configuration.properties.find(function(e){return"template"==e.name});null!=n&&(e.template=n.value,e.updateTemplate())})},ResViewSettingsModal.prototype.storeTemplate=function(){var e={template:this.template};this.sharedModals.storeConfiguration("Store template",i.c.TEMPLATE_STORE,e)},ResViewSettingsModal.prototype.setUserDefault=function(){var e=this;this.basicModals.confirm("Set as default","You are setting the current template as default configuration for all the projects. Are you sure?","warning").then(function(){e.prefService.setPUSettingUserDefault(a.a.pref_res_view_partition_filter,l.a.getLoggedUser().getEmail(),JSON.stringify(e.template)).subscribe()},function(){})},ResViewSettingsModal.prototype.restoreDefault=function(){var e=this;this.basicModals.confirm("Restore default","You are overriding the current template by restoring the default configuration. Are you sure?","warning").then(function(){e.prefService.setPUSetting(a.a.pref_res_view_partition_filter,null).subscribe(function(){e.vbProp.refreshResourceViewPartitionFilter().subscribe(function(){e.initTemplate()})})},function(){})},ResViewSettingsModal.prototype.updateTemplate=function(){this.vbProp.setResourceViewPartitionFilter(this.template)},ResViewSettingsModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},ResViewSettingsModal=u([n.i(r.c)({selector:"res-view-settings-modal",template:n(1917)}),f("design:paramtypes",[o.g,c.a,s.a,p.a,d.a])],ResViewSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(4),o=n(539),i=function(){function AbstractResourceView(e,t){this.resViewService=e,this.modal=t}return AbstractResourceView.prototype.openSettings=function(){var e=new r.b,t={context:e.keyboard(27).size("lg").toJSON()};return this.modal.open(o.a,t).result},AbstractResourceView}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var r,o=n(8),i=function(){function MultipleActionHelper(){}return MultipleActionHelper.executeActions=function(e,t,n,r,i,a){var s=this;null==i&&(i=[]),o.c.disableErrorInterception(),0==e.length?(i.length>0&&(null!=r?r(i):1==i.length?this.handleSingleMultiActionError(i[0],t,n):this.handleMultipleMultiActionError(i,t,n)),o.c.enableErrorInterception(),null!=a&&a()):e[0].function.subscribe(function(o){e.shift(),s.executeActions(e,t,n,r,i,a)},function(o){i.push({value:e[0].value,error:o}),e.shift(),s.executeActions(e,t,n,r,i,a)})},MultipleActionHelper.handleSingleMultiActionError=function(e,t,n){var r="The "+t+" of "+e.value.toNT()+" has failed due to the following reason:\n"+e.error.name+(null!=e.error.message?":\n"+e.error.message:""),o=e.error.stack;n.alert("Error",r,"error",o)},MultipleActionHelper.handleMultipleMultiActionError=function(e,t,n){var r="The "+t+" of the following values have failed:";e.forEach(function(e){r+="\n\n"+e.value.toNT()+"\nReason:\n"+e.error.name+(null!=e.error.message?":\n"+e.error.message:"")}),n.alert("Error",r,"error")},MultipleActionHelper}();(function(){function MultiActionFunction(){}})(),function(){function MultiActionError(){}}();!function(e){e.addition="addition",e.deletion="deletion"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(3),i=n(24),a=n(16),s=n(12),l=n(17),c=n(10),p=n(2),d=n(28),u=n(541),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function PartitionRenderer(e,t,n,o){this.update=new r.i,this.dblclickObj=new r.i,this.partitionCollapsed=!1,this.addAuthorized=!0,this.addDisabled=!1,this.addExteranlResourceAllowed=!1,this.addManuallyAllowed=!1,this.resourcesService=e,this.cfService=t,this.basicModals=n,this.resViewModals=o}return PartitionRenderer.prototype.ngOnInit=function(){this.label=i.c.getResourceViewPartitionLabel(this.partition)},PartitionRenderer.prototype.ngOnChanges=function(e){(e.resource||e.readonly)&&this.initActionsStatus()},PartitionRenderer.prototype.initActionsStatus=function(){this.addDisabled=!this.resource.getAdditionalProperty(o.a.EXPLICIT)&&!c.a.isResourceInStagingAdd(this.resource)||this.readonly||!l.b.isAuthorized(this.partition,l.c.C,this.resource),this.addExteranlResourceAllowed=-1!=i.c.addExternalResourcePartition.indexOf(this.partition),this.addManuallyAllowed=-1!=i.c.addManuallyPartition.indexOf(this.partition)},PartitionRenderer.prototype.addHandler=function(e,t){var n=this;e?t==i.d.manually?this.addManually(e,!1):t==i.d.remote?this.addExternal(e,!1):this.add(e,!1):this.getPredicateToEnrich().subscribe(function(e){e&&(t==i.d.manually?n.addManually(e,!0):t==i.d.remote?n.addExternal(e,!0):n.add(e,!0))})},PartitionRenderer.prototype.addMultiple=function(e,t,n){var r=this;u.a.executeActions(e,u.b.addition,this.basicModals,t,n,function(){return r.update.emit()})},PartitionRenderer.prototype.handleSingleMultiAddError=function(e){u.a.handleSingleMultiActionError(e,u.b.addition,this.basicModals)},PartitionRenderer.prototype.handleMultipleMultiAddError=function(e){u.a.handleMultipleMultiActionError(e,u.b.addition,this.basicModals)},PartitionRenderer.prototype.addManually=function(e,t){var n=this;this.resViewModals.addManualValue(e,t).then(function(e){var t=e.property,r=e.value;n.checkTypeCompliantForManualAdd(t,r).subscribe(function(e){if(e)n.resourcesService.addValue(n.resource,t,r).subscribe(function(e){return n.update.emit()});else{var o="The type of value is not compliant with the range of the property "+t.getShow()+". The operation may cause inconsistencies and malfunction. Do you want to force the add operation? ";n.basicModals.confirm("Warning",o,"warning").then(function(e){n.resourcesService.addValue(n.resource,t,r).subscribe(function(e){return n.update.emit()})},function(e){})}})},function(){})},PartitionRenderer.prototype.addExternal=function(e,t){var n=this;this.resViewModals.browseExternalResource("Select external resource",e,t).then(function(e){n.resourcesService.addValue(n.resource,e.property,e.resource).subscribe(function(e){return n.update.emit()})},function(){})},PartitionRenderer.prototype.removeHandler=function(e,t){var n=this;null==t?this.basicModals.confirm("Delete all values","You are deleting all the "+e.getShow()+" values. Are you sure?","warning").then(function(t){return n.removeAllValues(e)},function(e){}):this.removePredicateObject(e,t)},PartitionRenderer.prototype.removeAllValues=function(e){var t=this,n=[];this.predicateObjectList.forEach(function(r){if(r.getPredicate().equals(e)){r.getObjects().forEach(function(r){n.push({function:t.getRemoveFunction(e,r),value:r})}),u.a.executeActions(n,u.b.deletion,t.basicModals,null,null,function(){return t.update.emit()})}})},PartitionRenderer.prototype.getRemoveFunction=function(e,t){return e.getAdditionalProperty(o.a.HAS_CUSTOM_RANGE)&&t.isResource()&&!t.getAdditionalProperty(o.a.NOT_REIFIED)?this.cfService.removeReifiedResource(this.resource,e,t):this.getRemoveFunctionImpl(e,t)},PartitionRenderer.prototype.removeAllRicursively=function(e){var t=this;0!=e.length&&e[0].subscribe(function(n){e.shift(),e.length>0?t.removeAllRicursively(e):t.update.emit()})},PartitionRenderer.prototype.editHandler=function(e,t){},PartitionRenderer.prototype.onObjectUpdate=function(){this.update.emit()},PartitionRenderer.prototype.objectDblClick=function(e){e.isResource()&&this.dblclickObj.emit(e)},PartitionRenderer.prototype.renderAsReified=function(e,t){return e.getAdditionalProperty(o.a.HAS_CUSTOM_RANGE)&&t.isResource()},f([n.i(r.r)("pred-obj-list"),h("design:type",Array)],PartitionRenderer.prototype,"predicateObjectList",void 0),f([n.i(r.r)(),h("design:type",o.e)],PartitionRenderer.prototype,"resource",void 0),f([n.i(r.r)(),h("design:type",Boolean)],PartitionRenderer.prototype,"rendering",void 0),f([n.i(r.r)(),h("design:type",Boolean)],PartitionRenderer.prototype,"readonly",void 0),f([n.i(r._7)(),h("design:type",Object)],PartitionRenderer.prototype,"update",void 0),f([n.i(r._7)(),h("design:type",r.i)],PartitionRenderer.prototype,"dblclickObj",void 0),PartitionRenderer=f([n.i(r.c)({selector:"partition-renderer",template:n(38),styles:[".hidden: { visibility: hidden; }"]}),h("design:paramtypes",[s.a,a.a,p.a,d.a])],PartitionRenderer)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(0),o=n(5),i=n(4),a=n(10),s=n(6),l=n(2),c=n(14),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function AddManuallyValueData(t,n){void 0===n&&(n=!0);var r=e.call(this)||this;return r.property=t,r.propChangeable=n,r}return p(AddManuallyValueData,e),AddManuallyValueData}(i.d),h=function(){function AddManuallyValueModal(e,t,n){this.dialog=e,this.browsingModals=t,this.basicModals=n,this.context=e.context}return AddManuallyValueModal.prototype.ngOnInit=function(){document.getElementById("toFocus").focus(),this.rootProperty=this.context.property,this.enrichingProperty=this.rootProperty},AddManuallyValueModal.prototype.changeProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Select a property",[this.rootProperty]).then(function(t){e.enrichingProperty=t},function(){})},AddManuallyValueModal.prototype.ok=function(e){var t;try{if(this.inputTxt.startsWith("<")&&this.inputTxt.endsWith(">"))t=a.a.parseURI(this.inputTxt);else if(this.inputTxt.startsWith("_:"))t=a.a.parseBNode(this.inputTxt);else if(this.inputTxt.startsWith('"'))t=a.a.parseLiteral(this.inputTxt);else{if(!a.a.isQName(this.inputTxt,s.a.getPrefixMappings()))throw new Error("Not a valid N-Triples representation: "+this.inputTxt);t=a.a.parseQName(this.inputTxt,s.a.getPrefixMappings())}}catch(e){return void this.basicModals.alert("Invalid value",e,"error")}e.stopPropagation(),e.preventDefault(),this.dialog.close({value:t,property:this.enrichingProperty})},AddManuallyValueModal.prototype.cancel=function(){this.dialog.dismiss()},AddManuallyValueModal.prototype.onKeydown=function(e){13==e.which&&this.isInputValid()&&this.ok(e)},AddManuallyValueModal.prototype.isInputValid=function(){return void 0!=this.inputTxt&&""!=this.inputTxt.trim()},AddManuallyValueModal=d([n.i(r.c)({selector:"add-manual-modal",template:n(1925)}),u("design:paramtypes",[o.g,c.a,l.a])],AddManuallyValueModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r,o=n(0),i=n(5),a=n(4),s=n(3),l=n(11),c=n(23),p=n(7),d=n(6),u=n(14),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function AddPropertyValueModalData(t,n,r,o,i,a){void 0===t&&(t="Add property value"),void 0===o&&(o=!0),void 0===a&&(a=!0);var s=e.call(this)||this;return s.title=t,s.resource=n,s.property=r,s.propChangeable=o,s.rootProperty=i,s.allowMultiselection=a,s}return f(AddPropertyValueModalData,e),AddPropertyValueModalData}(a.d),v=function(){function AddPropertyValueModal(e,t,n,r){this.dialog=e,this.propService=t,this.browsingModals=n,this.elementRef=r,this.treeListCtx=p.b.addPropValue,this.multiselection=!1,this.showAllClass=!1,this.defaultRootClasses=[l.b.resource],this.showAspectSelector=!1,this.treeListAspectSelector={show:"Existing Resource",id:0},this.manchExprAspectSelector={show:"Manchester Expression",id:1},this.dataRangeAspectSelector={show:"Enumeration",id:2},this.selectedAspectSelector=this.treeListAspectSelector,this.showInversePropertyCheckbox=!1,this.checkedResources=[],this.inverseProp=!1,this.context=e.context}return AddPropertyValueModal.prototype.ngOnInit=function(){this.rootProperty=this.context.rootProperty?this.context.rootProperty:this.context.property,this.enrichingProperty=this.context.property,this.updateRange(this.rootProperty)},AddPropertyValueModal.prototype.ngAfterViewInit=function(){p.a.setFullSizeModal(this.elementRef)},AddPropertyValueModal.prototype.changeAspectSelector=function(e){if(this.selectedAspectSelector=e,this.selectedAspectSelector==this.manchExprAspectSelector){this.elementRef.nativeElement.parentElement.style.removeProperty("flex")}else p.a.setFullSizeModal(this.elementRef)},AddPropertyValueModal.prototype.changeProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Select a property",[this.rootProperty]).then(function(t){e.enrichingProperty.equals(t)||(e.enrichingProperty=t,e.updateRange(e.enrichingProperty))},function(){})},AddPropertyValueModal.prototype.updateRange=function(e){var t=this;return this.updateShowAspectSelector(),this.rootProperty.equals(l.d.member)?(this.viewType=r.classAndIndividual,void(this.rootsForClsIndList=[l.d.concept,l.d.collection])):this.rootProperty.equals(l.b.range)&&this.context.resource.getRole()==s.c.datatypeProperty?void(this.viewType=r.datatypeList):void this.propService.getRange(e).subscribe(function(e){var n=e.ranges;e.formCollection;if(void 0==e)t.viewType=r.classAndIndividual;else if(n.type==c.b.undetermined)t.viewType=r.classAndIndividual;else if(n.type==c.b.resource){var o=n.rangeCollection?n.rangeCollection.resources:null;if(null!=o)if(1==o.length){var i=o[0];i.equals(l.b.class)||i.equals(l.c.class)?(t.viewType=r.classTree,t.rootsForClsTree=null):i.equals(l.d.concept)?(t.schemes=d.a.getWorkingProjectCtx().getProjectPreferences().activeSchemes,t.viewType=r.conceptTree):i.equals(l.d.conceptScheme)?t.viewType=r.schemeList:i.equals(l.c.objectProperty)?(t.viewType=r.propertyTree,t.propertyType=s.c.objectProperty):i.equals(l.i.property)?(t.viewType=r.propertyTree,t.propertyType=s.c.property):i.equals(l.e.label)?(t.viewType=r.classAndIndividual,t.rootsForClsIndList=o):(i.equals(l.i.list),t.viewType=r.classAndIndividual,t.rootsForClsIndList=o)}else t.viewType=r.classAndIndividual,t.rootsForClsIndList=o;else t.viewType=r.classAndIndividual}})},AddPropertyValueModal.prototype.updateShowAspectSelector=function(){this.context.resource.getRole()==s.c.datatypeProperty&&this.enrichingProperty.equals(l.b.range)?this.treeListAspectSelector.show="Existing Datatype":this.treeListAspectSelector.show="Existing Resource",this.showAspectSelector=!1,this.showInversePropertyCheckbox=!1,(this.rootProperty.equals(l.b.domain)||this.rootProperty.equals(l.b.range)&&this.context.resource.getRole()!=s.c.datatypeProperty||this.rootProperty.equals(l.b.subClassOf)||this.rootProperty.equals(l.c.equivalentClass)||this.rootProperty.equals(l.c.complementOf)||this.rootProperty.equals(l.c.disjointWith))&&(this.showAspectSelector=!0,this.aspectSelectors=[this.treeListAspectSelector,this.manchExprAspectSelector],this.selectedAspectSelector=this.aspectSelectors[0]),this.rootProperty.equals(l.b.range)&&this.context.resource.getRole()==s.c.datatypeProperty&&(this.showAspectSelector=!0,this.aspectSelectors=[this.treeListAspectSelector,this.dataRangeAspectSelector],this.selectedAspectSelector=this.aspectSelectors[0]),(this.rootProperty.equals(l.c.propertyDisjointWith)||this.rootProperty.equals(l.c.equivalentProperty)||this.rootProperty.equals(l.b.subPropertyOf)||this.rootProperty.equals(l.c.inverseOf))&&(this.showInversePropertyCheckbox=!0)},AddPropertyValueModal.prototype.onResourceSelected=function(e){this.selectedResource=e},AddPropertyValueModal.prototype.onPropertySelected=function(e){this.onResourceSelected(e),null!=e&&e.getRole()!=s.c.objectProperty&&(this.inverseProp=!1)},AddPropertyValueModal.prototype.isInversePropertyCheckboxEnabled=function(){var e;if(this.multiselection){var t=!1;this.checkedResources.forEach(function(e){e.getRole()!=s.c.objectProperty&&(t=!0)}),e=!t}else e=null!=this.selectedResource&&this.selectedResource.getRole()==s.c.objectProperty;return e||(this.inverseProp=!1),e},AddPropertyValueModal.prototype.onConceptTreeSchemeChange=function(){this.selectedResource=null},AddPropertyValueModal.prototype.onMultiselectionChange=function(e){this.multiselection=e,this.inverseProp=!1},AddPropertyValueModal.prototype.isOkEnabled=function(){return this.selectedAspectSelector==this.manchExprAspectSelector?this.manchExpr&&""!=this.manchExpr.trim():this.selectedAspectSelector==this.dataRangeAspectSelector?null!=this.datarange&&this.datarange.length>0:this.multiselection?this.checkedResources.length>0:null!=this.selectedResource},AddPropertyValueModal.prototype.ok=function(e){if(e.stopPropagation(),e.preventDefault(),this.selectedAspectSelector==this.manchExprAspectSelector){var t={property:this.enrichingProperty,value:this.manchExpr};this.dialog.close(t)}else if(this.selectedAspectSelector==this.dataRangeAspectSelector){var t={property:this.enrichingProperty,value:this.datarange};this.dialog.close(t)}else{var n=void 0;this.multiselection?n=this.checkedResources:(this.selectedResource.deleteAdditionalProperty(s.a.SELECTED),n=[this.selectedResource]);var t={property:this.enrichingProperty,value:n};this.showInversePropertyCheckbox&&(t.inverseProperty=this.inverseProp),this.dialog.close(t)}},AddPropertyValueModal.prototype.cancel=function(){this.dialog.dismiss()},AddPropertyValueModal=h([n.i(o.c)({selector:"add-property-value-modal",template:n(1926)}),g("design:paramtypes",[i.g,c.a,u.a,o.e])],AddPropertyValueModal)}();(function(){function AspectSelector(){}})(),function(){function AddPropertyValueModalReturnData(){}}();!function(e){e.classTree="classTree",e.conceptTree="conceptTree",e.propertyTree="propertyTree",e.schemeList="schemeList",e.datatypeList="datatypeList",e.classAndIndividual="classAndIndividual"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return x}),n.d(t,"b",function(){return C});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(11)),l=n(71),c=n(54),p=n(23),d=n(96),u=n(8),f=n(6),h=n(21),g=n(2),m=n(14),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function BrowseExternalResourceModalData(t,n,r){void 0===r&&(r=!0);var o=e.call(this)||this;return o.title=t,o.property=n,o.propChangeable=r,o}return v(BrowseExternalResourceModalData,e),BrowseExternalResourceModalData}(i.d),C=function(){function BrowseExternalResourceModal(e,t,n,r,o,i,a){this.dialog=e,this.projService=t,this.preferenceService=n,this.propService=r,this.vbProp=o,this.basicModals=i,this.browsingModals=a,this.projectList=[],this.context=e.context}return BrowseExternalResourceModal.prototype.ngOnInit=function(){var e=this;this.rootProperty=this.context.property,this.enrichingProperty=this.rootProperty,null!=this.enrichingProperty&&this.checkPropertyRangeResource(this.enrichingProperty).subscribe(function(t){t||(e.basicModals.alert("Invalid property range",e.enrichingProperty.getShow()+" range doesn't admit resources. You cannot enrich this property with a remote value","warning"),e.cancel())}),this.projService.listProjects(f.a.getWorkingProject(),!1,!0).subscribe(function(t){for(var n=0;n<t.length;n++)t[n].isOpen()&&t[n].getName()!=f.a.getWorkingProject().getName()&&e.projectList.push(t[n]);e.restoreLastProject()})},BrowseExternalResourceModal.prototype.restoreLastProject=function(){var e=this,t=d.a.getCookie(d.a.ALIGNMENT_LAST_EXPLORED_PROJECT);null!=t&&(this.projectList.forEach(function(n){n.getName()==t&&(e.project=n)}),null!=this.project&&this.onProjectChange())},BrowseExternalResourceModal.prototype.restoreLastType=function(){var e=d.a.getCookie(d.a.ALIGNMENT_LAST_CHOSEN_TYPE);null!=e&&(this.activeView=e)},BrowseExternalResourceModal.prototype.onProjectChange=function(){var e=this;u.c.removeContextProject(),u.c.setContextProject(this.project),d.a.setCookie(d.a.ALIGNMENT_LAST_EXPLORED_PROJECT,this.project.getName()),this.remoteProjCtx=new f.b(this.project);var t=[this.vbProp.initProjectUserBindings(this.remoteProjCtx),this.vbProp.initUserProjectPreferences(this.remoteProjCtx),this.vbProp.initProjectSettings(this.remoteProjCtx)];a.Observable.forkJoin(t).subscribe(function(){e.activeView=null,e.remoteResource=null,e.isProjectSKOS()?e.preferenceService.getActiveSchemes(e.project.getName()).subscribe(function(t){e.schemes=t,e.restoreLastType()}):e.restoreLastType()})},BrowseExternalResourceModal.prototype.onAlignTypeChanged=function(){d.a.setCookie(d.a.ALIGNMENT_LAST_CHOSEN_TYPE,this.activeView),this.remoteResource=null},BrowseExternalResourceModal.prototype.changeProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Select a property",[this.rootProperty]).then(function(t){e.enrichingProperty.getURI()!=t.getURI()&&e.checkPropertyRangeResource(t).subscribe(function(n){n?e.enrichingProperty=t:e.basicModals.alert("Invalid property range",t.getShow()+" range doesn't admit resources. You cannot enrich this property with a remote value","warning")})},function(){})},BrowseExternalResourceModal.prototype.checkPropertyRangeResource=function(e){return this.propService.getRange(e).map(function(e){var t=e.ranges;if(void 0!=e){var n=t.rangeCollection?t.rangeCollection.resources:null;if(t.type==p.b.literal||null!=n&&1==n.length&&n[0].getURI()==s.b.literal.getURI())return!1}return!0})},BrowseExternalResourceModal.prototype.onResourceSelected=function(e){this.remoteResource=e},BrowseExternalResourceModal.prototype.onSchemeChanged=function(){this.remoteResource=null},BrowseExternalResourceModal.prototype.isProjectSKOS=function(){return this.project.getModelType()==s.d.uri},BrowseExternalResourceModal.prototype.isOkClickable=function(){return void 0!=this.remoteResource},BrowseExternalResourceModal.prototype.ok=function(e){u.c.removeContextProject(),e.stopPropagation(),this.dialog.close({resource:this.remoteResource,property:this.enrichingProperty})},BrowseExternalResourceModal.prototype.cancel=function(){u.c.removeContextProject(),this.dialog.dismiss()},BrowseExternalResourceModal=b([n.i(r.c)({selector:"browse-external-resource-modal",template:n(1927)}),y("design:paramtypes",[o.g,c.a,l.a,p.a,h.a,g.a,m.a])],BrowseExternalResourceModal)}();!function(){function BrowseExternalResourceModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(121),l=n(7),c=n(2),p=n(13),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function ClassListCreatorModalData(t){void 0===t&&(t="Modal Title");var n=e.call(this)||this;return n.title=t,n}return d(ClassListCreatorModalData,e),ClassListCreatorModalData}(i.d),g=function(){function ClassListCreatorModal(e,t,n,r,o){this.dialog=e,this.manchService=t,this.basicModals=n,this.sharedModals=r,this.elementRef=o,this.classList=[],this.context=e.context}return ClassListCreatorModal.prototype.ngAfterViewInit=function(){l.a.setFullSizeModal(this.elementRef)},ClassListCreatorModal.prototype.addClassToList=function(){for(var e=0;e<this.classList.length;e++)if(this.classList[e].getNominalValue()==this.selectedTreeClass.getNominalValue())return void(this.duplicateResource=this.classList[e]);var t=new a.b(this.selectedTreeClass.getURI(),this.selectedTreeClass.getShow(),this.selectedTreeClass.getRole());t.setAdditionalProperty(a.a.EXPLICIT,this.selectedTreeClass.getAdditionalProperty(a.a.EXPLICIT)),this.classList.push(t),this.duplicateResource=null},ClassListCreatorModal.prototype.addExpressionToList=function(){var e=this;this.sharedModals.manchesterExpression("New manchester expression").then(function(t){e.manchService.checkExpression(t).subscribe(function(n){if(n.valid){for(var r=0;r<e.classList.length;r++)if(e.classList[r].getShow()==t)return void(e.duplicateResource=e.classList[r]);var o=new a.d(t,t,a.c.cls);o.setAdditionalProperty(a.a.EXPLICIT,!0),e.classList.push(o),e.duplicateResource=null}else{var i=n.details.map(function(e){return e.msg});e.basicModals.alert("Invalid Expression","'"+t+"' is not a valid Manchester Expression","error",i.join("\n"))}})})},ClassListCreatorModal.prototype.removeFromList=function(){this.classList.splice(this.classList.indexOf(this.selectedListElement),1),this.selectedListElement=null,this.duplicateResource=null},ClassListCreatorModal.prototype.onTreeClassSelected=function(e){this.selectedTreeClass=e},ClassListCreatorModal.prototype.onListElementSelected=function(e){this.selectedListElement=e},ClassListCreatorModal.prototype.isListElementSelected=function(e){return this.selectedListElement==e},ClassListCreatorModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.classList)},ClassListCreatorModal.prototype.cancel=function(){this.dialog.dismiss()},ClassListCreatorModal=u([n.i(r.c)({selector:"class-list-creator-modal",template:n(1928)}),f("design:paramtypes",[o.g,s.a,c.a,p.a,r.e])],ClassListCreatorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(7),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function ConstituentListCreatorModalData(t){void 0===t&&(t="Modal Title");var n=e.call(this)||this;return n.title=t,n}return l(ConstituentListCreatorModalData,e),ConstituentListCreatorModalData}(i.d),u=function(){function ConstituentListCreatorModal(e,t){this.dialog=e,this.elementRef=t,this.list=[],this.ordered=!0,this.context=e.context}return ConstituentListCreatorModal.prototype.ngAfterViewInit=function(){s.a.setFullSizeModal(this.elementRef)},ConstituentListCreatorModal.prototype.addConstituentToList=function(){var e=this.selectedConstituentSource.clone();e.deleteAdditionalProperty(a.a.SELECTED),this.list.push(e)},ConstituentListCreatorModal.prototype.removeConstituentFromList=function(){this.list.splice(this.list.indexOf(this.selectedConstituentTarget),1),this.selectedConstituentTarget=null},ConstituentListCreatorModal.prototype.moveUp=function(){var e=this.list.indexOf(this.selectedConstituentTarget);this.list.splice(e-1,0,this.list.splice(e,1)[0])},ConstituentListCreatorModal.prototype.moveDown=function(){var e=this.list.indexOf(this.selectedConstituentTarget);this.list.splice(e+1,0,this.list.splice(e,1)[0])},ConstituentListCreatorModal.prototype.isFirstInList=function(){return this.list[0]==this.selectedConstituentTarget},ConstituentListCreatorModal.prototype.isLastInList=function(){return this.list[this.list.length-1]==this.selectedConstituentTarget},ConstituentListCreatorModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close({list:this.list,ordered:this.ordered})},ConstituentListCreatorModal.prototype.cancel=function(){this.dialog.dismiss()},ConstituentListCreatorModal=c([n.i(r.c)({selector:"constituent-list-creator-modal",template:n(1929)}),p("design:paramtypes",[o.g,r.e])],ConstituentListCreatorModal)}();!function(){function ConstituentListCreatorModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function CopyLocalesModalData(t,n){var r=e.call(this)||this;return r.value=t,r.locales=n,r}return a(CopyLocalesModalData,e),CopyLocalesModalData}(i.d),p=function(){function CopyLocalesModal(e){this.dialog=e,this.locales=[],this.context=e.context}return CopyLocalesModal.prototype.ngOnInit=function(){var e=this;this.context.locales.forEach(function(t){e.locales.push({locale:t,checked:!0})})},CopyLocalesModal.prototype.isOkDisabled=function(){for(var e=0;e<this.locales.length;e++)if(this.locales[e].checked)return!1;return!0},CopyLocalesModal.prototype.ok=function(e){var t=[];this.locales.forEach(function(e){e.checked&&t.push(e.locale)}),this.dialog.close(t)},CopyLocalesModal.prototype.cancel=function(){this.dialog.dismiss()},CopyLocalesModal=s([n.i(r.c)({selector:"copy-locale-modal",template:n(1930)}),l("design:paramtypes",[o.g])],CopyLocalesModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(23),s=n(10),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function DataRangeEditorModalData(t){var n=e.call(this)||this;return n.datarangeNode=t,n}return l(DataRangeEditorModalData,e),DataRangeEditorModalData}(i.d),u=function(){function DataRangeEditorModal(e,t){this.dialog=e,this.propertyService=t,this.datarangePristine=[],this.datarange=[],this.context=e.context}return DataRangeEditorModal.prototype.ngOnInit=function(){var e=this;this.propertyService.getDatarangeLiterals(this.context.datarangeNode).subscribe(function(t){e.datarange=t,e.datarangePristine=t.slice()})},DataRangeEditorModal.prototype.ok=function(e){var t=this,n=!1;if(this.datarange.length!=this.datarangePristine.length)n=!0;else{for(var r=0;r<this.datarange.length;r++)if(!s.a.containsNode(this.datarangePristine,this.datarange[r])){n=!0;break}if(!n)for(var r=0;r<this.datarangePristine.length;r++)if(!s.a.containsNode(this.datarange,this.datarangePristine[r])){n=!0;break}}n?this.propertyService.updateDataranges(this.context.datarangeNode,this.datarange).subscribe(function(n){e.stopPropagation(),e.preventDefault(),t.dialog.close()}):this.cancel()},DataRangeEditorModal.prototype.cancel=function(){this.dialog.dismiss()},DataRangeEditorModal=c([n.i(r.c)({selector:"data-range-editor-modal",template:n(1932)}),p("design:paramtypes",[o.g,a.a])],DataRangeEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return m});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(11),l=n(108),c=n(138),p=n(626),d=n(2),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e){function DataTypeRestrictionsModalData(t,n,r){var o=e.call(this)||this;return o.title=t,o.datatype=n,o.restriction=r,o}return u(DataTypeRestrictionsModalData,e),DataTypeRestrictionsModalData}(i.d),m=function(){function DataTypeRestrictionsModal(e,t,n,r){this.dialog=e,this.datatypeService=t,this.basicModals=n,this.dtValidator=r,this.ASPECT_FACETS="Facets",this.ASPECT_MANCHESTER="Manchester",this.ASPECT_ENUMERATION="Enumeration",this.aspectSelectors=[this.ASPECT_FACETS,this.ASPECT_MANCHESTER,this.ASPECT_ENUMERATION],this.selectedAspect=this.ASPECT_FACETS,this.literalEnumerations=[],this.context=e.context}return DataTypeRestrictionsModal.prototype.ngOnInit=function(){var e=this;null!=this.context.restriction&&(this.datatypeService.getRestrictionDescription(this.context.restriction).subscribe(function(t){null!=t.facets?(e.facetsDescription=t.facets,e.selectedAspect=e.ASPECT_FACETS,e.manchesterCtx=p.a.datatypeFacets):null!=t.enumerations&&(e.literalEnumerations=t.enumerations,e.selectedAspect=e.ASPECT_ENUMERATION,e.manchesterCtx=p.a.datatypeEnumeration)}),this.manchExpr=this.context.restriction.getShow())},DataTypeRestrictionsModal.prototype.onEnumerationChanged=function(e){this.literalEnumerations=e},DataTypeRestrictionsModal.prototype.ok=function(e){var t,n=this;this.selectedAspect==this.ASPECT_FACETS?t=this.getApplyFacetsFn():this.selectedAspect==this.ASPECT_MANCHESTER?t=this.getApplyManchesterFn():this.selectedAspect==this.ASPECT_ENUMERATION&&(t=this.getApplyEnumerationFn()),null!=t&&t.subscribe(function(){n.dtValidator.initDatatypeRestrictions().subscribe(),e.stopPropagation(),e.preventDefault(),n.dialog.close()})},DataTypeRestrictionsModal.prototype.cancel=function(){this.dialog.dismiss()},DataTypeRestrictionsModal.prototype.getApplyManchesterFn=function(){return null!=this.manchExpr?this.datatypeService.setDatatypeManchesterRestriction(this.context.datatype,this.manchExpr):(this.basicModals.alert("Empty expression","You have to provide a valid manchester expression.","warning"),null)},DataTypeRestrictionsModal.prototype.getApplyEnumerationFn=function(){return null!=this.literalEnumerations&&this.literalEnumerations.length>0?this.datatypeService.setDatatypeEnumerationRestrictions(this.context.datatype,this.literalEnumerations):(this.basicModals.alert("Missing values","You have to provide at least one value.","warning"),null)},DataTypeRestrictionsModal.prototype.getApplyFacetsFn=function(){if(null==this.facetsDescription.facets.minExclusive&&null==this.facetsDescription.facets.minInclusive&&null==this.facetsDescription.facets.maxExclusive&&null==this.facetsDescription.facets.maxInclusive&&(null==this.facetsDescription.facets.pattern||""==this.facetsDescription.facets.pattern.trim()))return this.basicModals.alert("Missing facets","No facets has been provided. Please, fill at least one of the available facets","warning"),null;var e=this.facetsDescription.facets.minExclusive;null==e&&(e=this.facetsDescription.facets.minInclusive);var t=this.facetsDescription.facets.maxExclusive;if(null==t&&(t=this.facetsDescription.facets.maxInclusive),null!=e&&null!=t&&e>=t)return this.basicModals.alert("Invalid facets","The minimun and maximum facets are inconsistent.","warning"),null;if(null!=this.facetsDescription.facets.pattern)try{new RegExp(this.facetsDescription.facets.pattern)}catch(e){return this.basicModals.alert("Invalid pattern","The provided pattern is not valid","warning"),null}var n={};if(null!=this.facetsDescription.facets.pattern&&""!=this.facetsDescription.facets.pattern.trim()&&(n[s.j.pattern.toNT()]=new a.f(this.facetsDescription.facets.pattern).toNT()),null!=this.facetsDescription.facets.minExclusive){var r=Number.isInteger(this.facetsDescription.facets.minExclusive)?s.j.integer.getURI():s.j.decimal.getURI();n[s.j.minExclusive.toNT()]=new a.f(this.facetsDescription.facets.minExclusive+"",r).toNT()}if(null!=this.facetsDescription.facets.minInclusive){var r=Number.isInteger(this.facetsDescription.facets.minExclusive)?s.j.integer.getURI():s.j.decimal.getURI();n[s.j.minInclusive.toNT()]=new a.f(this.facetsDescription.facets.minInclusive+"",r).toNT()}if(null!=this.facetsDescription.facets.maxExclusive){var r=Number.isInteger(this.facetsDescription.facets.minExclusive)?s.j.integer.getURI():s.j.decimal.getURI();n[s.j.maxExclusive.toNT()]=new a.f(this.facetsDescription.facets.maxExclusive+"",r).toNT()}if(null!=this.facetsDescription.facets.maxInclusive){var r=Number.isInteger(this.facetsDescription.facets.minExclusive)?s.j.integer.getURI():s.j.decimal.getURI();n[s.j.maxInclusive.toNT()]=new a.f(this.facetsDescription.facets.maxInclusive+"",r).toNT()}return this.datatypeService.setDatatypeFacetsRestriction(this.context.datatype,this.facetsDescription.base,n)},DataTypeRestrictionsModal=f([n.i(r.c)({selector:"datatype-restrictions-modal",template:n(1934)}),h("design:paramtypes",[o.g,l.a,d.a,c.a])],DataTypeRestrictionsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(7),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function InstanceListCreatorModalData(t){void 0===t&&(t="Modal Title");var n=e.call(this)||this;return n.title=t,n}return l(InstanceListCreatorModalData,e),InstanceListCreatorModalData}(i.d),u=function(){function InstanceListCreatorModal(e,t){this.dialog=e,this.elementRef=t,this.instanceList=[],this.context=e.context}return InstanceListCreatorModal.prototype.ngAfterViewInit=function(){s.a.setFullSizeModal(this.elementRef)},InstanceListCreatorModal.prototype.addToList=function(){for(var e=0;e<this.instanceList.length;e++)if(this.instanceList[e].getURI()==this.selectedSourceInstance.getURI())return void(this.duplicateInstance=this.instanceList[e]);var t=new a.b(this.selectedSourceInstance.getURI(),this.selectedSourceInstance.getShow(),this.selectedSourceInstance.getRole());t.setAdditionalProperty(a.a.EXPLICIT,this.selectedSourceInstance.getAdditionalProperty(a.a.EXPLICIT)),this.instanceList.push(t),this.duplicateInstance=null},InstanceListCreatorModal.prototype.removeFromList=function(){this.instanceList.splice(this.instanceList.indexOf(this.selectedTargetInstance),1),this.selectedTargetInstance=null,this.duplicateInstance=null},InstanceListCreatorModal.prototype.onTreeClassSelected=function(e){this.selectedClass=e},InstanceListCreatorModal.prototype.onSourceListInstanceSelected=function(e){this.selectedSourceInstance=e},InstanceListCreatorModal.prototype.onTargetListInstanceSelected=function(e){this.selectedTargetInstance=e},InstanceListCreatorModal.prototype.isTargetListInstanceSelected=function(e){return this.selectedTargetInstance==e},InstanceListCreatorModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.instanceList)},InstanceListCreatorModal.prototype.cancel=function(){this.dialog.dismiss()},InstanceListCreatorModal=c([n.i(r.c)({selector:"instance-list-creator-modal",template:n(1935)}),p("design:paramtypes",[o.g,r.e])],InstanceListCreatorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return m});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(10),l=n(7),c=n(6),p=n(2),d=n(14),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e){function PropertyChainCreatorModalData(t,n,r,o){void 0===t&&(t="Create a property chain"),void 0===r&&(r=!0);var i=e.call(this)||this;return i.title=t,i.property=n,i.propChangeable=r,i.chain=o,i}return u(PropertyChainCreatorModalData,e),PropertyChainCreatorModalData}(i.d),m=function(){function PropertyChainCreatorModal(e,t,n,r){this.dialog=e,this.elementRef=t,this.browsingModals=n,this.basicModals=r,this.inverseProp=!1,this.propChain=[],this.inversePrefix="INVERSE ",this.context=e.context}return PropertyChainCreatorModal.prototype.ngOnInit=function(){var e=this;if(this.rootProperty=this.context.property,this.enrichingProperty=this.rootProperty,null!=this.context.chain){this.context.chain.getAdditionalProperty(a.a.MEMBERS).forEach(function(t){var n,r=!1;if(t.getShow().startsWith(e.inversePrefix)){r=!0;var o=t.getShow().substring(e.inversePrefix.length);n=s.a.isQName(o,c.a.getPrefixMappings())?s.a.parseQName(o,c.a.getPrefixMappings()):s.a.parseURI(o),n.setShow(e.inversePrefix+o),n.setRole(a.c.objectProperty)}else n=t;e.propChain.push({property:n,inverse:r})})}},PropertyChainCreatorModal.prototype.ngAfterViewInit=function(){l.a.setFullSizeModal(this.elementRef)},PropertyChainCreatorModal.prototype.changeProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Select a property",[this.rootProperty]).then(function(t){e.enrichingProperty.getURI()!=t.getURI()&&(e.enrichingProperty=t)},function(){})},PropertyChainCreatorModal.prototype.onPropertySelected=function(e){this.selectedTreeProperty=e,null!=e&&e.getRole()!=a.c.objectProperty&&(this.inverseProp=!1)},PropertyChainCreatorModal.prototype.onChainPropertySelected=function(e){this.selectedChainProperty==e?this.selectedChainProperty=null:this.selectedChainProperty=e},PropertyChainCreatorModal.prototype.addPropertyToChain=function(){var e=this.selectedTreeProperty.clone();this.inverseProp&&e.setShow(this.inversePrefix+e.getShow()),this.propChain.push({property:e,inverse:this.inverseProp})},PropertyChainCreatorModal.prototype.removePropertyFromChain=function(){this.propChain.splice(this.propChain.indexOf(this.selectedChainProperty),1),this.selectedChainProperty=null},PropertyChainCreatorModal.prototype.moveDown=function(){var e=this.propChain.indexOf(this.selectedChainProperty);this.propChain.splice(e,1),this.propChain.splice(e+1,0,this.selectedChainProperty)},PropertyChainCreatorModal.prototype.moveUp=function(){var e=this.propChain.indexOf(this.selectedChainProperty);this.propChain.splice(e,1),this.propChain.splice(e-1,0,this.selectedChainProperty)},PropertyChainCreatorModal.prototype.isSelectedPropFirst=function(){return this.selectedChainProperty==this.propChain[0]},PropertyChainCreatorModal.prototype.isSelectedPropLast=function(){return this.selectedChainProperty==this.propChain[this.propChain.length-1]},PropertyChainCreatorModal.prototype.isOkEnabled=function(){return this.propChain.length>0},PropertyChainCreatorModal.prototype.ok=function(e){var t=this;if(this.propChain.length<2)return void this.basicModals.alert("Invalid property chain","The property chain must contain at least of two properties","warning");e.stopPropagation(),e.preventDefault();var n=[];this.propChain.forEach(function(e){e.inverse?n.push(t.inversePrefix+e.property.toNT()):n.push(e.property.toNT())});var r={property:this.enrichingProperty,chain:n};this.dialog.close(r)},PropertyChainCreatorModal.prototype.cancel=function(){this.dialog.dismiss()},PropertyChainCreatorModal=f([n.i(r.c)({selector:"property-chain-creator-modal",template:n(1936)}),h("design:paramtypes",[o.g,r.e,d.a,p.a])],PropertyChainCreatorModal)}();(function(){function PropertyListCreatorModalReturnData(){}})(),function(){function PropertyChainItem(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return f});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(11),l=n(14),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function RdfsMembersModalData(t,n){void 0===n&&(n=!0);var r=e.call(this)||this;return r.property=t,r.propChangeable=n,r}return c(RdfsMembersModalData,e),RdfsMembersModalData}(i.d),f=function(){function RdfsMembersModal(e,t){this.dialog=e,this.browsingModals=t,this.constituentCls=s.k.component,this.memberN=1,this.context=e.context}return RdfsMembersModal.prototype.ngOnInit=function(){this.updateRdfNProp(),this.rootProperty=this.context.property,this.enrichingProperty=this.rdfN},RdfsMembersModal.prototype.updateRdfNProp=function(){this.rdfN=new a.b(s.i.namespace+"_"+this.memberN,"rdf:_"+this.memberN,a.c.objectProperty),this.enrichingProperty=this.rdfN},RdfsMembersModal.prototype.changeProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Select a property",[this.rootProperty]).then(function(t){e.enrichingProperty.getURI()!=t.getURI()&&(e.enrichingProperty=t)},function(){})},RdfsMembersModal.prototype.ok=function(e){this.dialog.close({property:this.enrichingProperty,value:this.selectedConstituent})},RdfsMembersModal.prototype.cancel=function(){this.dialog.dismiss()},RdfsMembersModal=p([n.i(r.c)({selector:"rdfs-members-modal",template:n(1937)}),d("design:paramtypes",[o.g,l.a])],RdfsMembersModal)}();!function(){function RdfsMembersModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(3),i=(n(24),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function AbstractResViewResource(){this.deleteOutput=new r.i,this.dblClick=new r.i}return AbstractResViewResource.prototype.delete=function(){this.deleteOutput.emit()},AbstractResViewResource.prototype.resourceDblClick=function(){this.resource.isResource()&&this.dblClick.emit()},i([n.i(r.r)(),a("design:type",o.e)],AbstractResViewResource.prototype,"subject",void 0),i([n.i(r.r)(),a("design:type",o.b)],AbstractResViewResource.prototype,"predicate",void 0),i([n.i(r.r)(),a("design:type",o.m)],AbstractResViewResource.prototype,"resource",void 0),i([n.i(r.r)(),a("design:type",Boolean)],AbstractResViewResource.prototype,"rendering",void 0),i([n.i(r.r)(),a("design:type",Boolean)],AbstractResViewResource.prototype,"readonly",void 0),i([n.i(r.r)(),a("design:type",String)],AbstractResViewResource.prototype,"partition",void 0),i([n.i(r._7)("delete"),a("design:type",Object)],AbstractResViewResource.prototype,"deleteOutput",void 0),i([n.i(r._7)(),a("design:type",r.i)],AbstractResViewResource.prototype,"dblClick",void 0),AbstractResViewResource}()},function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n(0),o=n(5),i=n(41),a=(n.n(i),n(292)),s=n(3),l=n(60),c=n(32),p=n(24),d=n(11),u=n(107),f=n(110),h=n(12),g=n(190),m=n(188),v=n(193),b=n(17),y=n(36),x=n(8),C=n(10),R=n(7),S=n(20),P=n(112),E=n(6),w=n(15),I=n(21),A=n(2),_=n(540),L=n(541),M=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),k=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},N=function(e){function ResourceViewEditorComponent(t,n,o,i,a,s,l,c,p,d,u,f){var h=e.call(this,t,n)||this;return h.versionService=o,h.resourcesService=i,h.collaborationService=a,h.metadataRegistryService=s,h.notificationsService=l,h.eventHandler=c,h.vbProp=p,h.vbCollaboration=d,h.basicModals=u,h.collabModals=f,h.readonly=!1,h.dblclickObj=new r.i,h.update=new r.i,h.viewInitialized=!1,h.eventSubscriptions=[],h.unknownHost=!1,h.unexistingResource=!1,h.resourcePositionLocalProj=!1,h.resViewResponse=null,h.broadersColl=null,h.classAxiomColl=null,h.constituentsColl=null,h.datatypeDefinitionColl=null,h.denotationsColl=null,h.disjointPropertiesColl=null,h.domainsColl=null,h.equivalentPropertiesColl=null,h.evokedLexicalConceptsColl=null,h.formBasedPreviewColl=null,h.formRepresentationsColl=null,h.importsColl=null,h.inverseofColl=null,h.labelRelationsColl=null,h.lexicalFormsColl=null,h.lexicalizationsColl=null,h.lexicalSensesColl=null,h.membersColl=null,h.membersOrderedColl=null,h.notesColl=null,h.propertiesColl=null,h.propertyFacets=null,h.rangesColl=null,h.rdfsMembersColl=null,h.schemesColl=null,h.subPropertyChainsColl=null,h.subtermsColl=null,h.superpropertiesColl=null,h.topconceptofColl=null,h.typesColl=null,h.showInferredPristine=!1,h.showInferred=!1,h.rendering=!0,h.collaborationAvailable=!1,h.collaborationWorking=!1,h.issuesStruct={btnClass:"",issues:null},h.versioningAvailable=!1,h.notificationsAvailable=!1,h.settingsAvailable=!0,h.eventSubscriptions.push(c.resourceRenamedEvent.subscribe(function(e){return h.onResourceRenamed(e.oldResource,e.newResource)})),h.eventSubscriptions.push(c.resourceDeprecatedEvent.subscribe(function(e){return h.onResourceUpdated(e)})),h.eventSubscriptions.push(c.collaborationSystemStatusChanged.subscribe(function(){return h.onCollaborationSystemStatusChange()})),h.eventSubscriptions.push(c.notificationStatusChangedEvent.subscribe(function(){return h.initNotificationsAvailable()})),h.eventSubscriptions.push(c.resourceUpdatedEvent.subscribe(function(e){return h.onResourceUpdated(e)})),h}return M(ResourceViewEditorComponent,e),ResourceViewEditorComponent.prototype.ngOnChanges=function(e){var t=E.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences();if(this.showInferred=t.resViewPreferences.inference,this.rendering=t.resViewPreferences.rendering,this.valueFilterLangEnabled=t.filterValueLang.enabled,e.resource&&e.resource.currentValue){if(!e.resource.firstChange){if(e.resource.previousValue.getNominalValue()==this.resource.getNominalValue())return}this.viewInitialized&&this.buildResourceView(this.resource)}},ResourceViewEditorComponent.prototype.ngOnInit=function(){this.activeVersion=E.a.getContextVersion(),this.readonly=this.readonly||null!=this.activeVersion||null!=x.c.getContextVersion()},ResourceViewEditorComponent.prototype.ngAfterViewInit=function(){this.viewInitialized=!0,this.buildResourceView(this.resource)},ResourceViewEditorComponent.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},ResourceViewEditorComponent.prototype.buildResourceView=function(e){var t=this;this.showInferredPristine=this.showInferred,R.a.startLoadingDiv(this.blockDivElement.nativeElement),null!=this.activeVersion&&x.c.setContextVersion(this.activeVersion),this.resViewService.getResourceView(e,this.showInferred).subscribe(function(e){x.c.removeContextVersion(),t.resViewResponse=e,t.fillPartitions(),t.unknownHost=!1,R.a.stopLoadingDiv(t.blockDivElement.nativeElement)},function(e){e.name.endsWith("UnknownHostException")&&(t.unknownHost=!0)}),setTimeout(function(){t.collaborationWorking=t.vbCollaboration.isWorking(),t.resource instanceof s.b&&t.collaborationWorking&&t.initCollaboration(),t.versioningAvailable=null==t.projectCtx,t.collaborationAvailable=t.collaborationWorking&&t.resource.isURIResource()&&null==t.projectCtx,t.settingsAvailable=t.context!=p.b.modal,t.initNotificationsAvailable()})},ResourceViewEditorComponent.prototype.fillPartitions=function(){var e=this,t=this.resViewResponse.resource;this.resource=y.a.createRDFResource(t),this.update.emit(this.resource),this.resourcePosition=s.i.deserialize(this.resource.getAdditionalProperty(s.a.RESOURCE_POSITION)),this.resource.getRole()!=s.c.mention||this.resourcePosition.isLocal()||(this.readonly=!0),this.resourcePosition instanceof s.j?(this.resourcePositionLocalProj=this.resourcePosition.project==E.a.getWorkingProject().getName(),this.resourcePositionDetails=this.resourcePosition.project):this.resourcePosition instanceof s.k&&this.metadataRegistryService.getDatasetMetadata(this.resourcePosition.datasetMetadata).subscribe(function(t){null!=t.title?e.resourcePositionDetails=t.title+", "+t.uriSpace:e.resourcePositionDetails=t.uriSpace});var n=E.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.resViewPartitionFilter[this.resource.getRole()];null==n&&(n=[]),this.broadersColl=this.initPartition(p.a.broaders,n,!0),this.classAxiomColl=this.initPartition(p.a.classaxioms,n,!0),this.constituentsColl=this.initPartition(p.a.constituents,n,!1),this.datatypeDefinitionColl=this.initPartition(p.a.datatypeDefinitions,n,!0),this.denotationsColl=this.initPartition(p.a.denotations,n,!0),this.disjointPropertiesColl=this.initPartition(p.a.disjointProperties,n,!0),this.domainsColl=this.initPartition(p.a.domains,n,!0),this.equivalentPropertiesColl=this.initPartition(p.a.equivalentProperties,n,!0),this.evokedLexicalConceptsColl=this.initPartition(p.a.evokedLexicalConcepts,n,!0),this.inverseofColl=this.initFacetsPartition(p.a.facets,n),this.formBasedPreviewColl=this.initPartition(p.a.formBasedPreview,n,!0),this.formRepresentationsColl=this.initPartition(p.a.formRepresentations,n,!0),this.importsColl=this.initPartition(p.a.imports,n,!0),this.labelRelationsColl=this.initPartition(p.a.labelRelations,n,!0),this.lexicalizationsColl=this.initPartition(p.a.lexicalizations,n,!1),this.lexicalFormsColl=this.initPartition(p.a.lexicalForms,n,!0),this.lexicalSensesColl=this.initPartition(p.a.lexicalSenses,n,!0),this.membersColl=this.initPartition(p.a.members,n,!0),this.membersOrderedColl=this.initOrderedMembersPartition(p.a.membersOrdered,n),this.notesColl=this.initPartition(p.a.notes,n,!0),this.propertiesColl=this.initPartition(p.a.properties,n,!0),this.rangesColl=this.initPartition(p.a.ranges,n,!0),this.rdfsMembersColl=this.initPartition(p.a.rdfsMembers,n,!1),this.schemesColl=this.initPartition(p.a.schemes,n,!0),this.subtermsColl=this.initPartition(p.a.subterms,n,!0),this.subPropertyChainsColl=this.initPartition(p.a.subPropertyChains,n,!0),this.superpropertiesColl=this.initPartition(p.a.superproperties,n,!0),this.topconceptofColl=this.initPartition(p.a.topconceptof,n,!0),this.typesColl=this.initPartition(p.a.types,n,!0),this.resViewResponse[p.a.lexicalizations]&&0!=this.resViewResponse[p.a.lexicalizations].length||this.resViewResponse[p.a.properties]&&0!=this.resViewResponse[p.a.properties].length||this.resViewResponse[p.a.types]&&0!=this.resViewResponse[p.a.types].length||this.resViewResponse[p.a.broaders]||this.resViewResponse[p.a.classaxioms]||this.resViewResponse[p.a.constituents]||this.resViewResponse[p.a.datatypeDefinitions]||this.resViewResponse[p.a.denotations]||this.resViewResponse[p.a.disjointProperties]||this.resViewResponse[p.a.domains]||this.resViewResponse[p.a.equivalentProperties]||this.resViewResponse[p.a.evokedLexicalConcepts]||this.resViewResponse[p.a.facets]||this.resViewResponse[p.a.formBasedPreview]||this.resViewResponse[p.a.formRepresentations]||this.resViewResponse[p.a.imports]||this.resViewResponse[p.a.labelRelations]||this.resViewResponse[p.a.lexicalForms]||this.resViewResponse[p.a.lexicalSenses]||this.resViewResponse[p.a.members]||this.resViewResponse[p.a.membersOrdered]||this.resViewResponse[p.a.notes]||this.resViewResponse[p.a.ranges]||this.resViewResponse[p.a.rdfsMembers]||this.resViewResponse[p.a.subPropertyChains]||this.resViewResponse[p.a.schemes]||this.resViewResponse[p.a.subterms]||this.resViewResponse[p.a.superproperties]||this.resViewResponse[p.a.topconceptof]?this.unexistingResource=!1:this.unexistingResource=!0},ResourceViewEditorComponent.prototype.initPartition=function(e,t,n){var r,o=this.resViewResponse[e];return null!=o&&b.b.isAuthorized(e,b.c.R,this.resource)&&-1==t.indexOf(e)&&(r=y.a.createPredicateObjectsList(o),this.filterPredObjList(r),n&&this.sortObjects(r),e==p.a.properties&&this.resolveForeignURI(r)),r},ResourceViewEditorComponent.prototype.initFacetsPartition=function(e,t){var n,r=this.resViewResponse[e];if(null!=r&&b.b.isAuthorized(e,b.c.R,this.resource)&&-1==t.indexOf(e)){this.propertyFacets=[];for(var o in r)"inverseOf"!=o&&this.propertyFacets.push({name:o,value:r[o].value,explicit:r[o].explicit});n=y.a.createPredicateObjectsList(r.inverseOf),this.filterPredObjList(n),this.sortObjects(n)}return n},ResourceViewEditorComponent.prototype.initOrderedMembersPartition=function(e,t){var n,r=this.resViewResponse[e];if(null!=r&&b.b.isAuthorized(e,b.c.R,this.resource)&&-1==t.indexOf(p.a.membersOrdered)){n=y.a.createPredicateObjectsList(r);for(var o=0;o<n.length;o++)for(var i=n[o].getObjects(),a=0;a<i.length;a++)if(i[a].getAdditionalProperty(s.a.EXPLICIT))for(var l=i[a].getAdditionalProperty(s.a.MEMBERS),c=0;c<l.length;c++)l[c].setAdditionalProperty(s.a.EXPLICIT,!0);this.filterPredObjList(n),this.sortObjects(n)}return n},ResourceViewEditorComponent.prototype.filterPredObjList=function(e){this.filterInferredFromPredObjList(e),this.filterValueLanguageFromPrefObjList(e)},ResourceViewEditorComponent.prototype.filterInferredFromPredObjList=function(e){if(!this.showInferred)for(var t=0;t<e.length;t++){for(var n=e[t].getObjects(),r=0;r<n.length;r++){var o=n[r].getTripleGraphs();C.a.containsNode(o,new s.b(d.a.inferenceGraph))&&(n.splice(r,1),r--)}0==n.length&&(e.splice(t,1),t--)}},ResourceViewEditorComponent.prototype.filterValueLanguageFromPrefObjList=function(e){if(this.valueFilterLangEnabled=E.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().filterValueLang.enabled,this.valueFilterLangEnabled){var t=E.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().filterValueLang.languages;if(0==t.length)return;for(var n=0;n<e.length;n++){for(var r=e[n].getObjects(),o=0;o<r.length;o++){var i=r[o].getAdditionalProperty(s.a.LANG);null!=i&&-1==t.indexOf(i)&&(r.splice(o,1),o--)}0==r.length&&(e.splice(n,1),n--)}}},ResourceViewEditorComponent.prototype.sortObjects=function(e){for(var t=this.rendering?C.b.show:C.b.value,n=0;n<e.length;n++){var r=e[n].getObjects();C.a.sortResources(r,t)}},ResourceViewEditorComponent.prototype.resolveForeignURI=function(e){var t=this;if(b.a.isAuthorized(S.a.resourcesGetResourcePosition)){var n=[];e.forEach(function(e){e.getObjects().forEach(function(e){e instanceof s.b&&e.getRole()==s.c.mention&&n.push(e)})}),n.length>0&&this.resourcesService.getResourcesPosition(n).subscribe(function(n){var r=[],o={};for(var a in n){var c=n[a];if(c.isLocal()){var p=c.project;p!=E.a.getWorkingProject().getName()&&(null==o[p]?o[p]=[a]:o[p].push(a))}else if(c.isRemote());else{var d=new URL(a);/\.(gif|jpg|jpeg|tiff|png)$/i.test(d.pathname)&&r.push(a)}}var u=[],f=[];for(var p in o){var h=o[p].map(function(e){return new s.b(e)});x.c.setContextProject(new l.f(p)),u.push(t.resourcesService.getResourcesInfo(h).map(function(e){f=f.concat(e)}).finally(function(){return x.c.removeContextProject()}))}i.Observable.forkJoin(u).subscribe(function(){e.forEach(function(e){e.getObjects().forEach(function(e,t,n){if(e instanceof s.b&&e.getRole()==s.c.mention){var r=f.find(function(t){return t.equals(e)});if(null!=r){var o=n[t].clone();o.setShow(r.getShow()),o.setRole(r.getRole()),o.setNature(r.getNature()),n[t]=o}}})})}),r.forEach(function(t){var n=new Image;n.onload=function(){e.forEach(function(e){e.getObjects().forEach(function(e,n,r){if(e instanceof s.b&&e.getRole()==s.c.mention&&e.getURI()==t){var o=r[n].clone();o.setAdditionalProperty(s.a.IS_IMAGE,!0),r[n]=o}})})},n.src=t})})}},ResourceViewEditorComponent.prototype.switchInferred=function(){this.showInferred=!this.showInferred,this.vbProp.setInferenceInResourceView(this.showInferred),this.showInferredPristine?(R.a.startLoadingDiv(this.blockDivElement.nativeElement),this.fillPartitions(),R.a.stopLoadingDiv(this.blockDivElement.nativeElement)):this.buildResourceView(this.resource)},ResourceViewEditorComponent.prototype.switchRendering=function(){this.rendering=!this.rendering,this.vbProp.setRenderingInResourceView(this.rendering)},ResourceViewEditorComponent.prototype.switchValueFilterLang=function(){this.valueFilterLangEnabled=!this.valueFilterLangEnabled;var e=E.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().filterValueLang;e.enabled=this.valueFilterLangEnabled,this.vbProp.setValueFilterLanguages(e),R.a.startLoadingDiv(this.blockDivElement.nativeElement),this.fillPartitions(),R.a.stopLoadingDiv(this.blockDivElement.nativeElement)},ResourceViewEditorComponent.prototype.listVersions=function(){var e=this;this.versionService.getVersions().subscribe(function(t){if(e.versionList=t,null!=e.activeVersion)for(var n=0;n<e.versionList.length;n++)e.versionList[n].versionId==e.activeVersion.versionId&&(e.activeVersion=e.versionList[n])})},ResourceViewEditorComponent.prototype.switchToVersion=function(e){this.activeVersion!=e&&(this.activeVersion=e,this.buildResourceView(this.resource)),this.readonly=null!=this.activeVersion||null!=E.a.getContextVersion()},ResourceViewEditorComponent.prototype.initNotificationsAvailable=function(){this.notificationsAvailable=null==this.projectCtx&&this.resource instanceof s.b&&E.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().notificationStatus!=c.q.no_notifications,this.notificationsAvailable&&this.initNotificationsStatus()},ResourceViewEditorComponent.prototype.initNotificationsStatus=function(){var e=this;this.notificationsService.isWatching(this.resource).subscribe(function(t){e.isWatching=t})},ResourceViewEditorComponent.prototype.changeNotificationStatus=function(){var e,t=this;e=this.isWatching?this.notificationsService.stopWatching(this.resource):this.notificationsService.startWatching(this.resource),e.subscribe(function(){t.isWatching=!t.isWatching})},ResourceViewEditorComponent.prototype.assertInferredStatements=function(){var e=this,t=[this.broadersColl,this.classAxiomColl,this.constituentsColl,this.denotationsColl,this.disjointPropertiesColl,this.domainsColl,this.equivalentPropertiesColl,this.evokedLexicalConceptsColl,this.formBasedPreviewColl,this.formRepresentationsColl,this.importsColl,this.inverseofColl,this.labelRelationsColl,this.lexicalFormsColl,this.lexicalSensesColl,this.membersColl,this.membersOrderedColl,this.notesColl,this.propertiesColl,this.rangesColl,this.rdfsMembersColl,this.schemesColl,this.subPropertyChainsColl,this.subtermsColl,this.superpropertiesColl,this.topconceptofColl,this.typesColl],n=[];if(t.forEach(function(t){null!=t&&t.forEach(function(t){t.getObjects().forEach(function(r){C.a.isTripleInferred(r)&&n.push({function:e.resourcesService.addValue(e.resource,t.getPredicate(),r),value:r})})})}),0==n.length)this.basicModals.alert("Assert inferred statements","There are no inferred statements to assert","warning");else{var r=function(){R.a.stopLoadingDiv(e.blockDivElement.nativeElement),e.buildResourceView(e.resource)};R.a.startLoadingDiv(this.blockDivElement.nativeElement),L.a.executeActions(n,L.b.addition,this.basicModals,null,null,r)}},ResourceViewEditorComponent.prototype.initCollaboration=function(){var e=this;this.collaborationService.listIssuesAssignedToResource(this.resource).subscribe(function(t){if(e.issuesStruct={btnClass:"",issues:null},t.length>0){for(var n=0;n<t.length;n++){if("10000"==t[n].getStatusId()){e.issuesStruct.btnClass="todo-issues";break}"3"==t[n].getStatusId()?e.issuesStruct.btnClass="in-progress-issues":"10001"==t[n].getStatusId()&&"in-progress-issues"!=e.issuesStruct.btnClass&&(e.issuesStruct.btnClass="done-issues")}e.issuesStruct.issues=t}},function(t){e.collaborationWorking&&(e.basicModals.alert("Collaboration System error","The Collaboration System seems to be configured but it's not working (configuration could be not valid or the server may be not reachable), so it will be disabled.","error",t.stack),e.vbCollaboration.setWorking(!1))})},ResourceViewEditorComponent.prototype.createIssue=function(){var e=this;this.collabModals.createIssue().then(function(t){R.a.startLoadingDiv(e.blockDivElement.nativeElement),e.collaborationService.createIssue(e.resource,t).subscribe(function(t){R.a.stopLoadingDiv(e.blockDivElement.nativeElement),e.initCollaboration()})},function(){})},ResourceViewEditorComponent.prototype.assignToIssue=function(){var e=this;this.collabModals.openIssueList().then(function(t){R.a.startLoadingDiv(e.blockDivElement.nativeElement),e.collaborationService.assignResourceToIssue(t.getKey(),e.resource).subscribe(function(t){R.a.stopLoadingDiv(e.blockDivElement.nativeElement),e.initCollaboration()})},function(){})},ResourceViewEditorComponent.prototype.onCollaborationSystemStatusChange=function(){this.collaborationWorking=this.vbCollaboration.isWorking(),this.collaborationWorking&&this.initCollaboration()},ResourceViewEditorComponent.prototype.discoverDataset=function(){var e=this;R.a.startLoadingDiv(this.blockDivElement.nativeElement),this.metadataRegistryService.discoverDataset(this.resource).subscribe(function(t){R.a.stopLoadingDiv(e.blockDivElement.nativeElement),e.buildResourceView(e.resource)})},ResourceViewEditorComponent.prototype.objectDblClick=function(e){this.dblclickObj.emit(e)},ResourceViewEditorComponent.prototype.onResourceRenamed=function(e,t){this.resource.isURIResource()&&this.resource.getURI()==e.getURI()&&(this.resource.setURI(t.getURI()),this.buildResourceView(this.resource))},ResourceViewEditorComponent.prototype.onResourceUpdated=function(e){this.resource.getNominalValue()==e.getNominalValue()&&this.buildResourceView(this.resource)},k([n.i(r.r)(),O("design:type",s.e)],ResourceViewEditorComponent.prototype,"resource",void 0),k([n.i(r.r)(),O("design:type",Boolean)],ResourceViewEditorComponent.prototype,"readonly",void 0),k([n.i(r.r)(),O("design:type",String)],ResourceViewEditorComponent.prototype,"context",void 0),k([n.i(r.r)(),O("design:type",E.b)],ResourceViewEditorComponent.prototype,"projectCtx",void 0),k([n.i(r._7)(),O("design:type",r.i)],ResourceViewEditorComponent.prototype,"dblclickObj",void 0),k([n.i(r._7)(),O("design:type",r.i)],ResourceViewEditorComponent.prototype,"update",void 0),k([n.i(r.F)("blockDiv"),O("design:type",r.e)],ResourceViewEditorComponent.prototype,"blockDivElement",void 0),ResourceViewEditorComponent=k([n.i(r.c)({selector:"resource-view-editor",template:n(1942),host:{class:"vbox"},styles:["\n        .todo-issues { color: #337ab7 }\n        .in-progress-issues { color: #f0ad4e }\n        .done-issues { color: #5cb85c }\n        .panel-heading .btn.active .glyphicon { color: #4285f4; } "]}),O("design:paramtypes",[g.a,o.l,v.a,h.a,u.a,f.a,m.a,w.a,I.a,P.a,A.a,a.a])],ResourceViewEditorComponent)}(_.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(24),s=n(7),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function ResourceViewModalData(t,n,r){void 0===n&&(n=!0);var o=e.call(this)||this;return o.resource=t,o.readonly=n,o.projectCtx=r,o}return l(ResourceViewModalData,e),ResourceViewModalData}(i.d),u=function(){function ResourceViewModal(e,t){this.dialog=e,this.elementRef=t,this.resViewCtx=a.b.modal,this.context=e.context}return ResourceViewModal.prototype.ngAfterViewInit=function(){s.a.setFullSizeModal(this.elementRef)},ResourceViewModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},ResourceViewModal=c([n.i(r.c)({selector:"resource-view-modal",template:n(1943)}),p("design:paramtypes",[o.g,r.e])],ResourceViewModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function AbstractResViewVisualizationMode(e){var t=this;this.empty=new r.i,this.eventSubscriptions=[],this.eventHandler=e,this.eventSubscriptions.push(e.refreshDataBroadcastEvent.subscribe(function(){t.onRefreshDataBroadcast()}))}return AbstractResViewVisualizationMode.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},o([n.i(r._7)(),i("design:type",r.i)],AbstractResViewVisualizationMode.prototype,"empty",void 0),AbstractResViewVisualizationMode}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(32),i=n(6),a=n(15),s=n(559),l=n(560),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function ResourceViewModeDispatcher(e){var t=this;this.eventHandler=e,this.empty=new r.i,this.tabSelect=new r.i,this.eventSubscriptions=[],this.eventHandler.resViewModeChangedEvent.subscribe(function(e){if(e.fromVbPref)t.empty.emit();else{var n,r=e.mode;n=r==o.e.splitted?t.resViewTabbedChild.getMainResource():t.resViewSplittedChild.getMainResource(),t.resViewMode=r,setTimeout(function(){t.selectResource(n)})}})}return ResourceViewModeDispatcher.prototype.ngOnInit=function(){this.resViewMode=i.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.mode},ResourceViewModeDispatcher.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},ResourceViewModeDispatcher.prototype.selectResource=function(e){this.resViewMode==o.e.splitted?this.resViewSplittedChild.selectResource(e):this.resViewTabbedChild.selectResource(e)},ResourceViewModeDispatcher.prototype.deleteResource=function(e){this.resViewMode==o.e.splitted?(this.resViewSplittedChild.deleteResource(e),this.empty.emit()):this.resViewTabbedChild.deleteResource(e)},ResourceViewModeDispatcher.prototype.onTabSelected=function(e){this.tabSelect.emit(e)},ResourceViewModeDispatcher.prototype.onEmpty=function(){this.empty.emit()},c([n.i(r.F)(l.a),p("design:type",l.a)],ResourceViewModeDispatcher.prototype,"resViewTabbedChild",void 0),c([n.i(r.F)(s.a),p("design:type",s.a)],ResourceViewModeDispatcher.prototype,"resViewSplittedChild",void 0),c([n.i(r._7)(),p("design:type",r.i)],ResourceViewModeDispatcher.prototype,"empty",void 0),c([n.i(r._7)(),p("design:type",r.i)],ResourceViewModeDispatcher.prototype,"tabSelect",void 0),ResourceViewModeDispatcher=c([n.i(r.c)({selector:"resource-view-mode-dispatcher",template:n(1944),host:{class:"vbox"}}),p("design:paramtypes",[a.a])],ResourceViewModeDispatcher)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(3),i=n(15),a=n(557),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ResourceViewSplittedComponent(t){var n=e.call(this,t)||this;return n.resStack=[],n}return s(ResourceViewSplittedComponent,e),ResourceViewSplittedComponent.prototype.selectResource=function(e){this.resource=e},ResourceViewSplittedComponent.prototype.deleteResource=function(e){this.resource=null,this.object=null,this.resStack=[],this.empty.emit()},ResourceViewSplittedComponent.prototype.closeSecondaryResView=function(){this.object=null,this.resStack=[]},ResourceViewSplittedComponent.prototype.previousResView=function(){this.object=this.resStack.pop()},ResourceViewSplittedComponent.prototype.getMainResource=function(){return this.resource},ResourceViewSplittedComponent.prototype.objectDblClick=function(e){null!=this.object&&this.object.getNominalValue()!=e.getNominalValue()&&this.resource.getNominalValue()!=e.getNominalValue()?(this.resStack.push(this.object),this.object=e):null==this.object&&(this.object=e)},ResourceViewSplittedComponent.prototype.onMainResourceUpdate=function(e){this.resource[o.a.SHOW]=e.getShow(),this.resource[o.a.ROLE]=e.getRole()},ResourceViewSplittedComponent.prototype.onSecondaryResourceUpdate=function(e){this.object[o.a.SHOW]=e.getShow(),this.object[o.a.ROLE]=e.getRole()},ResourceViewSplittedComponent.prototype.onRefreshDataBroadcast=function(){this.deleteResource(null)},ResourceViewSplittedComponent=l([n.i(r.c)({selector:"resource-view-splitted",template:n(1945),host:{class:"hbox"}}),c("design:paramtypes",[i.a])],ResourceViewSplittedComponent)}(a.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(6),i=n(15),a=n(557),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ResourceViewTabbedComponent(t){var n=e.call(this,t)||this;return n.tabs=[],n.sync=!1,n.tabSelect=new r.i,n.eventHandler.resViewTabSyncChangedEvent.subscribe(function(e){n.sync=e}),n}return s(ResourceViewTabbedComponent,e),ResourceViewTabbedComponent.prototype.ngOnInit=function(){this.sync=o.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.syncTabs},ResourceViewTabbedComponent.prototype.selectResource=function(e){var t=this.getTabWithResource(e);null!=t?this.selectTab(t):this.addTab(e)},ResourceViewTabbedComponent.prototype.deleteResource=function(e){var t=this.getTabWithResource(e);null!=t&&this.closeTab(t)},ResourceViewTabbedComponent.prototype.getMainResource=function(){for(var e=null,t=0;t<this.tabs.length;t++)if(this.tabs[t].active){e=this.tabs[t].resource;break}return e},ResourceViewTabbedComponent.prototype.objectDblClick=function(e){var t=this.getTabWithResource(e);null!=t?this.selectTab(t,!0):this.addTab(e)},ResourceViewTabbedComponent.prototype.getTabWithResource=function(e){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].resource.getNominalValue()==e.getNominalValue())return this.tabs[t];return null},ResourceViewTabbedComponent.prototype.addTab=function(e){this.deactivateCurrentActiveTab(),this.tabs.push({resource:e,active:!0})},ResourceViewTabbedComponent.prototype.selectTab=function(e,t){this.deactivateCurrentActiveTab(),e.active=!0,this.sync&&t&&this.tabSelect.emit(e.resource)},ResourceViewTabbedComponent.prototype.closeTab=function(e){var t=this.tabs.indexOf(e);e.active&&this.tabs.length>1&&(t==this.tabs.length-1?this.selectTab(this.tabs[t-1],!0):this.selectTab(this.tabs[t+1],!0)),this.tabs.splice(t,1),0==this.tabs.length&&this.empty.emit()},ResourceViewTabbedComponent.prototype.closeAllTabs=function(){this.tabs=[],this.empty.emit()},ResourceViewTabbedComponent.prototype.deactivateCurrentActiveTab=function(){for(var e=0;e<this.tabs.length;e++)this.tabs[e].active&&(this.tabs[e].active=!1)},ResourceViewTabbedComponent.prototype.onResourceUpdate=function(e,t){t.resource=e},ResourceViewTabbedComponent.prototype.onRefreshDataBroadcast=function(){this.closeAllTabs()},l([n.i(r._7)(),c("design:type",r.i)],ResourceViewTabbedComponent.prototype,"tabSelect",void 0),ResourceViewTabbedComponent=l([n.i(r.c)({selector:"resource-view-tabbed",template:n(1946),host:{class:"vbox"}}),c("design:paramtypes",[i.a])],ResourceViewTabbedComponent)}(a.a);!function(){function Tab(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return r});var r,o=n(41),i=(n.n(o),n(3)),a=n(47),s=n(11),l=function(){function DefinitionEnrichmentHelper(){}return DefinitionEnrichmentHelper.getDefinitionEnrichmentInfo=function(e,t,n){s.d.definition;return this.fillDefinitionCustomRangeConfig(e,n).flatMap(function(){if(n.hasLiteralRange){var e=[new a.c(i.h.literal,i.h.literal)];return e=e.concat(n.customForms),o.Observable.fromPromise(t.selectCustomForm("Select a range",e).then(function(e){return e.getId()==i.h.literal?{type:r.literal}:{type:r.customForm,form:e}},function(){return{type:null}}))}return 1==n.customForms.length?o.Observable.of({type:r.customForm,form:n.customForms[0]}):o.Observable.fromPromise(t.selectCustomForm("Select a Custom Range",n.customForms).then(function(e){return{type:r.customForm,form:e}},function(){return{type:null}}))})},DefinitionEnrichmentHelper.fillDefinitionCustomRangeConfig=function(e,t){return null!=t.customForms?o.Observable.of(null):e.getRange(s.d.definition).flatMap(function(e){var n=e.ranges,r=e.formCollection.getForms();return t.hasLiteralRange=null!=n,t.customForms=r,o.Observable.of(null)})},DefinitionEnrichmentHelper}();!function(){function DefinitionEnrichmentInfo(){}}();!function(e){e.literal="literal",e.customForm="customForm"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(76),i=n(8),a=n(10),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function DatasetCatalogsServices(e){this.httpMgr=e,this.serviceName="DatasetCatalogs"}return DatasetCatalogsServices.prototype.searchDataset=function(e,t,n,r){var i={connectorSpec:JSON.stringify(e),query:t,facets:JSON.stringify(n),page:r};return this.httpMgr.doGet(this.serviceName,"searchDataset",i).map(function(e){var t=[];return e.content.forEach(function(e){var n=[];e.titles.forEach(function(e){n.push(a.a.parseLiteral(e))});var r=[];e.descriptions.forEach(function(e){r.push(a.a.parseLiteral(e))});var i=new o.b(e.id);i.datasetPage=e.datasetPage,i.descriptions=r,i.facets=e.facets,i.ontologyIRI=null!=e.ontologyIRI?a.a.parseURI(e.ontologyIRI):null,i.score=e.score,i.titles=n,t.push(i)}),{content:t,page:e.page,pageSize:e.pageSize,totalResults:e.totalResults,tail:e.tail,facetAggregations:e.facetAggregations}})},DatasetCatalogsServices.prototype.describeDataset=function(e,t){var n={connectorSpec:JSON.stringify(e),datasetId:t};return this.httpMgr.doGet(this.serviceName,"describeDataset",n).map(function(e){var t=[];e.titles.forEach(function(e){t.push(a.a.parseLiteral(e))});var n=[];e.descriptions.forEach(function(e){n.push(a.a.parseLiteral(e))});var r=[];e.dataDumps.forEach(function(e){r.push(o.c.deserialize(e))});var i=new o.d(e.id);return i.dataDumps=r,i.datasetPage=e.datasetPage,i.descriptions=n,i.facets=e.facets,i.id=e.id,i.lexicalizationModel=e.lexicalizationModel,i.model=e.model,i.ontologyIRI=null!=e.ontologyIRI?a.a.parseURI(e.ontologyIRI):null,i.sparqlEndpoint=e.sparqlEndpoint,i.titles=t,i.uriPrefix=e.uriPrefix,i})},DatasetCatalogsServices=s([n.i(r.g)(),l("design:paramtypes",[i.a])],DatasetCatalogsServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function DatasetMetadataServices(e){this.httpMgr=e,this.serviceName="DatasetMetadata"}return DatasetMetadataServices.prototype.export=function(e,t){var n={exporterSpecification:JSON.stringify(e),outputFormat:t.name};return this.httpMgr.downloadFile(this.serviceName,"export",n,!0)},DatasetMetadataServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],DatasetMetadataServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function ServicesServices(e){this.httpMgr=e,this.serviceName="Services"}return ServicesServices.prototype.getExtensionPaths=function(){var e={};return this.httpMgr.doGet(this.serviceName,"getExtensionPaths",e)},ServicesServices.prototype.getServiceClasses=function(e){var t={extensionPath:e};return this.httpMgr.doGet(this.serviceName,"getServiceClasses",t).map(function(e){return e.sort(function(e,t){return e>t?1:e<t?-1:0}),e})},ServicesServices.prototype.getServiceOperations=function(e,t){var n={extensionPath:e,serviceClass:t};return this.httpMgr.doGet(this.serviceName,"getServiceOperations",n).map(function(e){return e.sort(function(e,t){return e>t?1:e<t?-1:0}),e})},ServicesServices=i([n.i(r.g)(),a("design:paramtypes",[o.a])],ServicesServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(135),i=n(3),a=n(8),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function ValidationServices(e){this.httpMgr=e,this.serviceName="Validation"}return ValidationServices.prototype.getStagedCommitSummary=function(e,t,n,r,o){var i={operationFilter:e,performerFilter:t,timeLowerBound:n,timeUpperBound:r,limit:o};return this.httpMgr.doGet(this.serviceName,"getStagedCommitSummary",i)},ValidationServices.prototype.getCurrentUserStagedCommitSummary=function(e,t,n,r){var o={operationFilter:e,timeLowerBound:t,timeUpperBound:n,limit:r};return this.httpMgr.doGet(this.serviceName,"getCurrentUserStagedCommitSummary",o)},ValidationServices.prototype.getCommits=function(e,t,n,r,o,i,a,s){var l=this,c={operationFilter:e,performerFilter:t,timeLowerBound:r,timeUpperBound:n,operationSorting:o,timeSorting:i,page:a,limit:s};return this.httpMgr.doGet(this.serviceName,"getCommits",c).map(function(e){return l.parseCommitInfoList(e)})},ValidationServices.prototype.getCurrentUserCommits=function(e,t,n,r,o,i,a){var s=this,l={operationFilter:e,timeLowerBound:n,timeUpperBound:t,operationSorting:r,timeSorting:o,page:i,limit:a};return this.httpMgr.doGet(this.serviceName,"getCurrentUserCommits",l).map(function(e){return s.parseCommitInfoList(e)})},ValidationServices.prototype.parseCommitInfoList=function(e){for(var t=[],n=0;n<e.length;n++)!function(){var r=e[n],a=new i.b(r.commit),s=void 0,l=r.user;null!=l&&(s=new i.b(l["@id"],l.show));var c=void 0,p=r.operation;null!=p&&(c=new i.b(p["@id"]));var d=[],u=r.operationParameters;null!=u&&u.forEach(function(e){null!=e.value&&d.push(new o.e(e.name,e.value))});var f=void 0,h=r.startTime;null!=h&&(f=new Date(h));var g=void 0,m=r.endTime;null!=m&&(g=new Date(m));var v=r.commentAllowed,b=new o.f(a,s,c,d,f,g,v);t.push(b)}();return t},ValidationServices.prototype.accept=function(e){var t={validatableCommit:e};return this.httpMgr.doPost(this.serviceName,"accept",t)},ValidationServices.prototype.reject=function(e,t){var n={validatableCommit:e,comment:t};return this.httpMgr.doPost(this.serviceName,"reject",n)},ValidationServices.prototype.rejectCurrentUserCommit=function(e,t){var n={validatableCommit:e,comment:t};return this.httpMgr.doPost(this.serviceName,"rejectCurrentUserCommit",n)},ValidationServices=s([n.i(r.g)(),l("design:paramtypes",[a.a])],ValidationServices)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(136),a=n(238),s=n(2),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function LoadShapesModal(e,t,n,r){this.dialog=e,this.shaclService=t,this.inOutService=n,this.basicModals=r,this.context=e.context}return LoadShapesModal.prototype.ngOnInit=function(){var e=this;this.inOutService.getInputRDFFormats().subscribe(function(t){e.inputFormats=t,e.selectedInputFormat=e.inputFormats.find(function(e){return"Turtle"==e.name})})},LoadShapesModal.prototype.fileChangeEvent=function(e){var t=this;this.file=e,this.inOutService.getParserFormatForFileName(this.file.name).subscribe(function(e){t.selectedInputFormat=t.inputFormats.find(function(t){return t.name==e})})},LoadShapesModal.prototype.ok=function(e){var t=this;this.shaclService.loadShapes(this.file,this.selectedInputFormat,this.clearExisting).subscribe(function(){t.basicModals.alert("Load SHACL shapes","Shacl shapes loaded succesfully").then(function(){e.stopPropagation(),e.preventDefault(),t.dialog.close()})})},LoadShapesModal.prototype.cancel=function(){this.dialog.dismiss()},LoadShapesModal=l([n.i(r.c)({selector:"load-shapes-modal",template:n(1952)}),c("design:paramtypes",[o.g,a.a,i.a,s.a])],LoadShapesModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return R});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(3)),l=n(156),c=n(45),p=n(157),d=n(23),u=n(137),f=n(10),h=n(6),g=n(2),m=n(13),v=n(239),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function AdvancedGraphApplicationModalData(t,n,r){var o=e.call(this)||this;return o.header=t,o.headers=n,o.graphApplication=r,o}return b(AdvancedGraphApplicationModalData,e),AdvancedGraphApplicationModalData}(i.d),R=function(){function AdvancedGraphApplicationModal(e,t,n,r,o){this.dialog=e,this.s2rdfService=t,this.basicModals=n,this.sharedModals=r,this.modal=o,this.alreadyDefinedNodes=[],this.newDefinedNodes=[],this.globalPrefixMappings=[],this.localPrefixMappings=[],this.PRED_PLACEHOLDER="{{pred}}",this.context=e.context}return AdvancedGraphApplicationModal.prototype.ngOnInit=function(){var e=this;this.context.header.nodes.forEach(function(t){e.alreadyDefinedNodes.push(t)}),this.s2rdfService.getPrefixMappings().subscribe(function(t){e.globalPrefixMappings=t,null!=e.context.graphApplication&&e.restorePrefixNsMappings(e.context.graphApplication.prefixMapping)}),null!=this.context.graphApplication&&(this.graphPattern=this.context.graphApplication.pattern,this.defaultPredicate=this.context.graphApplication.defaultPredicate)},AdvancedGraphApplicationModal.prototype.selectNode=function(e){this.selectedNode==e?this.selectedNode=null:this.selectedNode=e},AdvancedGraphApplicationModal.prototype.addNode=function(){var e=this,t=new v.a(this.context.header,null,null,null,null,this.newDefinedNodes),n=new i.b(t,void 0,v.a),r={context:n.keyboard(27).size("lg").toJSON()};this.modal.open(v.b,r).result.then(function(t){e.newDefinedNodes.push(t)},function(){})},AdvancedGraphApplicationModal.prototype.removeNode=function(){var e=this;if(-1!=this.newDefinedNodes.indexOf(this.selectedNode))this.newDefinedNodes.splice(this.newDefinedNodes.indexOf(this.selectedNode),1),this.selectedNode=null;else{p.e.isNodeReferenced(this.context.header,this.selectedNode)?this.basicModals.confirm("Delete node","Warning: the node '"+this.selectedNode.nodeId+"' is used in one or more graph application. This operation will affect also the graph application. Do you want to continue?","warning").then(function(t){e.removeNodeImpl()},function(){}):this.removeNodeImpl()}},AdvancedGraphApplicationModal.prototype.removeNodeImpl=function(){var e=this;this.s2rdfService.removeNodeFromHeader(this.context.header.id,this.selectedNode.nodeId).subscribe(function(t){e.alreadyDefinedNodes.splice(e.alreadyDefinedNodes.indexOf(e.selectedNode),1),e.selectedNode=null})},AdvancedGraphApplicationModal.prototype.changeUriConverter=function(e){var t=new v.a(this.context.header,e,d.b.resource,null,null,null),n=new i.b(t,void 0,v.a),r={context:n.keyboard(27).size("lg").toJSON()};this.modal.open(v.b,r).result.then(function(t){e.converter=t.converter},function(){})},AdvancedGraphApplicationModal.prototype.changeLiteralConverter=function(e){var t=new v.a(this.context.header,e,d.b.literal,null,null,null),n=new i.b(t,void 0,v.a),r={context:n.keyboard(27).size("lg").toJSON()};this.modal.open(v.b,r).result.then(function(t){e.converter=t.converter},function(){})},AdvancedGraphApplicationModal.prototype.selectMapping=function(e){e.explicit&&(this.selectedMapping==e?this.selectedMapping=null:this.selectedMapping=e)},AdvancedGraphApplicationModal.prototype.addMapping=function(){var e=this;this.sharedModals.prefixNamespace("Add prefix-namespace mapping").then(function(t){if(e.globalPrefixMappings.some(function(e){return e.prefix==t.prefix})||e.localPrefixMappings.some(function(e){return e.prefix==t.prefix}))e.basicModals.alert("Add prefix-namespace mapping","A mapping with prefix "+t.prefix+" is already defined","warning");else if(e.globalPrefixMappings.some(function(e){return e.namespace==t.namespace})||e.localPrefixMappings.some(function(e){return e.namespace==t.namespace}))e.basicModals.alert("Add prefix-namespace mapping","A mapping with namespace "+t.namespace+" is already defined","warning");else{var n={prefix:t.prefix,namespace:t.namespace,explicit:!0};e.localPrefixMappings.push(n),setTimeout(function(){e.prefixNsTableElement.nativeElement.scrollTop=e.prefixNsTableElement.nativeElement.scrollHeight,e.selectMapping(n)})}})},AdvancedGraphApplicationModal.prototype.removeMapping=function(){this.localPrefixMappings.splice(this.localPrefixMappings.indexOf(this.selectedMapping),1)},AdvancedGraphApplicationModal.prototype.restorePrefixNsMappings=function(e){var t=this;for(var n in e)!function(n){t.globalPrefixMappings.some(function(t){return t.prefix==n&&t.namespace==e[n]})||t.localPrefixMappings.push({prefix:n,namespace:e[n],explicit:!0})}(n)},AdvancedGraphApplicationModal.prototype.updateDefaultPredicate=function(e){this.defaultPredicate=e},AdvancedGraphApplicationModal.prototype.validatePattern=function(){var e=this,t="";this.globalPrefixMappings.forEach(function(e){t+="prefix "+e.prefix+": <"+e.namespace+">\n"}),this.localPrefixMappings.forEach(function(e){t+="prefix "+e.prefix+": <"+e.namespace+">\n"}),t+="rule it.uniroma2.art.FakeRule id:rule {\n",t+="nodes = {\n",t+="subject uri "+this.context.header.pearlFeature+" .\n",this.context.headers.forEach(function(n){n.id!=e.context.header.id&&n.nodes.forEach(function(n){t+=n.nodeId+" uri "+e.context.header.pearlFeature+" .\n"})}),this.alreadyDefinedNodes.forEach(function(n){t+=n.nodeId+" "+n.converter.type+" "+e.context.header.pearlFeature+" .\n"}),this.newDefinedNodes.forEach(function(n){t+=n.nodeId+" "+n.converter.type+" "+e.context.header.pearlFeature+" .\n"}),t+="}\n",t+="graph = {\n";var n=this.graphPattern;return n.includes(this.PRED_PLACEHOLDER)&&(n=n.replace(this.PRED_PLACEHOLDER,this.defaultPredicate.toNT())),t+=n+"\n",t+="}\n",t+="}\n",this.s2rdfService.validateGraphPattern(t).map(function(t){return t.valid?(t.usedNodes.forEach(function(e,t,n){n[t]=e.substring(1)}),t.usedNodes.indexOf("subject")&&t.usedNodes.splice(t.usedNodes.indexOf("subject"),1),t):(e.basicModals.alert("Advanced Graph Application","The provided graph pattern is not valid.","warning",t.details),t)})},AdvancedGraphApplicationModal.prototype.saveGraph=function(){var e=this;if(!this.isOkEnabled())return void this.basicModals.alert("Store Advanced Graph Application","The Graph Application is not completed. Please, provide a list of nodes and a graph pattern.","warning");this.validatePattern().subscribe(function(t){if(t.valid){var n=[];t.usedNodes.forEach(function(t){var r=e.newDefinedNodes.find(function(e){return e.nodeId==t});null==r&&(r=e.alreadyDefinedNodes.find(function(e){return e.nodeId==t})),n.push(r)});var r={};t.usedPrefixes.forEach(function(t){var n;e.localPrefixMappings.forEach(function(e){e.prefix==t&&(n=e.namespace)}),null==n&&e.globalPrefixMappings.forEach(function(e){e.prefix==t&&(n=e.namespace)}),r[t]=n});var o={pattern:e.graphPattern,nodes:n,prefixMapping:r,defaultPredicate:null!=e.defaultPredicate?e.defaultPredicate.toNT():null};e.sharedModals.storeConfiguration("Save Advanced Graph Application",c.c.ADVANCED_GRAPH_APPLICATION_STORE,o).then(function(){e.basicModals.alert("Save configuration","Configuration saved succesfully")},function(){})}})},AdvancedGraphApplicationModal.prototype.loadGraph=function(){var e=this;this.s2rdfService.getDefaultAdvancedGraphApplicationConfigurations().subscribe(function(t){e.sharedModals.loadConfiguration("Load Advanced Graph Application",c.c.ADVANCED_GRAPH_APPLICATION_STORE,!0,!0,t).then(function(t){e.newDefinedNodes=[],e.selectedNode=null,e.localPrefixMappings=[],e.selectedMapping=null,e.graphPattern=null,null!=t.configuration?e.setLoadedGraphApplication(t.configuration):e.s2rdfService.getConfiguration(t.reference.identifier).subscribe(function(t){e.setLoadedGraphApplication(t)})},function(){})})},AdvancedGraphApplicationModal.prototype.setLoadedGraphApplication=function(e){for(var t=this,n=e.properties,r=[],o=0;o<n.length;o++)if("pattern"==n[o].name)this.graphPattern=n[o].value;else if("nodes"==n[o].name)r=n[o].value;else if("prefixMapping"==n[o].name){var i=n[o].value;this.restorePrefixNsMappings(i)}else"defaultPredicate"==n[o].name&&null!=n[o].value&&(this.defaultPredicate=new s.b(n[o].value));var c=[],p=[];r.forEach(function(e){p.push(t.getAdaptedNodeId(e.nodeId).map(function(n){if(n!=e.nodeId){var r=e.nodeId;c.push({old:r,new:n}),e.nodeId=n;var o=new RegExp("(?<!\\w)\\$"+r+"\\b","g");t.graphPattern=t.graphPattern.replace(o,"$"+n)}}))}),a.Observable.forkJoin(p).subscribe(function(){if(c.length>0){var e=c.map(function(e){return" - '"+e.old+"'  '"+e.new+"'"}).join("\n");t.basicModals.alert("Load Advanced Graph Application","One or more nodes defined in the loaded Advanced Graph Application, have ID already in use by other nodes. They have been replaced:\n"+e,"warning")}c.forEach(function(e){r.forEach(function(t){for(var n in t.converter.params){var r=t.converter.params[n];if("string"==typeof r)t.converter.params[n]==e.old&&(t.converter.params[n]=e.new);else if(Array.isArray(r))r.forEach(function(t){t==e.old&&(t=e.new)});else if("object"==typeof r)for(var o in r)r[o]==e.old&&(r[o]=e.new)}})}),r.forEach(function(e){e.converter.contractUri==l.e.NAMESPACE+"default"&&e.converter.type==l.a.literal&&null!=e.converter.language&&null!=t.context.header.nameStruct.lang&&(e.converter.language=t.context.header.nameStruct.lang)}),t.newDefinedNodes=r})},AdvancedGraphApplicationModal.prototype.getAdaptedNodeId=function(e){var t=this;return this.s2rdfService.isNodeIdAlreadyUsed(e).flatMap(function(n){if(n){var r=e+"_1";return t.getAdaptedNodeId(r)}return a.Observable.of(e)})},AdvancedGraphApplicationModal.prototype.isOkEnabled=function(){return(this.newDefinedNodes.length>0||this.alreadyDefinedNodes.length>0)&&null!=this.graphPattern&&""!=this.graphPattern.trim()},AdvancedGraphApplicationModal.prototype.ok=function(){var e=this;if(this.graphPattern.includes(this.PRED_PLACEHOLDER)&&null==this.defaultPredicate)return void this.basicModals.alert("Missing default predicate","The graph pattern contains the {{pred}} placeholder, but a default predicate has not been provided","warning");this.validatePattern().subscribe(function(t){if(t.valid){var n=[];e.newDefinedNodes.forEach(function(t){n.push(e.s2rdfService.addNodeToHeader(e.context.header.id,t.nodeId,t.converter.type,t.converter.contractUri,t.converter.datatypeUri,t.converter.language,t.converter.params,t.memoize))});var r={};t.usedPrefixes.forEach(function(t){var n;e.localPrefixMappings.forEach(function(e){e.prefix==t&&(n=e.namespace)}),null!=n&&(r[t]=n)}),0!=n.length?a.Observable.forkJoin(n).subscribe(function(){e.addOrUpdateAdvancedGraphApplication(t.usedNodes,r).subscribe(function(){e.dialog.close()})}):e.addOrUpdateAdvancedGraphApplication(t.usedNodes,r).subscribe(function(){e.dialog.close()})}})},AdvancedGraphApplicationModal.prototype.addOrUpdateAdvancedGraphApplication=function(e,t){return null==this.context.graphApplication?this.s2rdfService.addAdvancedGraphApplicationToHeader(this.context.header.id,this.graphPattern,e,t,this.defaultPredicate):this.s2rdfService.updateAdvancedGraphApplication(this.context.header.id,this.context.graphApplication.id,this.graphPattern,e,t,this.defaultPredicate)},AdvancedGraphApplicationModal.prototype.cancel=function(){this.dialog.dismiss()},AdvancedGraphApplicationModal.prototype.getDatatypeShow=function(e){return f.a.getQName(e,h.a.getPrefixMappings())},y([n.i(r.F)("prefixnstable"),x("design:type",r.e)],AdvancedGraphApplicationModal.prototype,"prefixNsTableElement",void 0),AdvancedGraphApplicationModal=y([n.i(r.c)({selector:"advanced-graph-modal",template:n(1953)}),x("design:paramtypes",[o.g,u.a,g.a,m.a,o.l])],AdvancedGraphApplicationModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y});var r=n(0),o=n(5),i=n(4),a=n(157),s=n(137),l=n(10),c=n(6),p=n(2),d=n(567),u=n(570),f=n(239),h=n(23),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function HeaderEditorModalData(t,n){var r=e.call(this)||this;return r.headerId=t,r.headers=n,r}return g(HeaderEditorModalData,e),HeaderEditorModalData}(i.d),y=function(){function HeaderEditorModal(e,t,n,r){this.dialog=e,this.s2rdfService=t,this.basicModals=n,this.modal=r,this.ignoreInitialized=!1,this.changed=!1,this.context=e.context}return HeaderEditorModal.prototype.ngOnInit=function(){this.initHeader()},HeaderEditorModal.prototype.initHeader=function(){var e=this;this.selectedGraph=null,this.selectedNode=null,this.s2rdfService.getHeaderFromId(this.context.headerId).subscribe(function(t){e.header=t,e.ignoreInitialized||(e.ignoreInitialized=!0)})},HeaderEditorModal.prototype.onIgnoreChange=function(){var e=this;this.s2rdfService.ignoreHeader(this.header.id,this.header.ignore).subscribe(function(){e.initHeader(),e.changed=!0})},HeaderEditorModal.prototype.selectNode=function(e){this.header.ignore||(this.selectedNode==e?this.selectedNode=null:this.selectedNode=e)},HeaderEditorModal.prototype.removeNode=function(){var e=this;a.e.isNodeReferenced(this.header,this.selectedNode)?this.basicModals.confirm("Delete node","Warning: the node '"+this.selectedNode.nodeId+"' is used in one or more graph application. This operation will affect also the graph application. Do you want to continue?","warning").then(function(t){e.removeNodeImpl()},function(){}):this.removeNodeImpl()},HeaderEditorModal.prototype.removeNodeImpl=function(){var e=this;this.s2rdfService.removeNodeFromHeader(this.header.id,this.selectedNode.nodeId).subscribe(function(t){e.initHeader(),e.changed=!0})},HeaderEditorModal.prototype.changeUriConverter=function(e){var t=this,n=new f.a(this.header,e,h.b.resource,null,null,null),r=new i.b(n,void 0,f.a),o={context:r.keyboard(27).size("lg").toJSON()};this.modal.open(f.b,o).result.then(function(n){e.converter=n.converter,e.memoize=n.memoize,t.s2rdfService.updateNodeInHeader(t.header.id,e.nodeId,e.converter.type,e.converter.contractUri,e.converter.datatypeUri,e.converter.language,e.converter.params,e.memoize).subscribe(function(e){t.initHeader(),t.changed=!0})},function(){})},HeaderEditorModal.prototype.changeLiteralConverter=function(e){var t=this,n=new f.a(this.header,e,h.b.literal,null,null,null),r=new i.b(n,void 0,f.a),o={context:r.keyboard(27).size("lg").toJSON()};this.modal.open(f.b,o).result.then(function(n){e.converter=n.converter,t.s2rdfService.updateNodeInHeader(t.header.id,e.nodeId,e.converter.type,e.converter.contractUri,e.converter.datatypeUri,e.converter.language,e.converter.params,e.memoize).subscribe(function(e){t.initHeader(),t.changed=!0})},function(){})},HeaderEditorModal.prototype.selectGraph=function(e){this.header.ignore||(this.selectedGraph==e?this.selectedGraph=null:this.selectedGraph=e)},HeaderEditorModal.prototype.isSimpleGraphApplication=function(e){return e instanceof a.b},HeaderEditorModal.prototype.editGraph=function(){var e=this;if(this.selectedGraph instanceof a.b){var t=new u.a(this.header,this.selectedGraph),n=new i.b(t,void 0,b),r={context:n.keyboard(27).toJSON()};this.modal.open(u.b,r).result.then(function(){e.initHeader(),e.changed=!0},function(){})}else{var t=new d.a(this.header,this.context.headers,this.selectedGraph),n=new i.b(t,void 0,d.a),r={context:n.keyboard(27).toJSON()};this.modal.open(d.b,r).result.then(function(){e.initHeader(),e.changed=!0},function(){})}},HeaderEditorModal.prototype.addSimpleGraphApplication=function(){var e=this,t=new u.a(this.header),n=new i.b(t,void 0,u.a),r={context:n.keyboard(27).toJSON()};this.modal.open(u.b,r).result.then(function(){e.initHeader(),e.changed=!0},function(){})},HeaderEditorModal.prototype.addAdvancedGraphApplication=function(){var e=this,t=new d.a(this.header,this.context.headers),n=new i.b(t,void 0,d.a),r={context:n.keyboard(27).toJSON()};this.modal.open(d.b,r).result.then(function(){e.initHeader(),e.changed=!0},function(){})},HeaderEditorModal.prototype.removeGraph=function(){var e=this;this.s2rdfService.removeGraphApplicationFromHeader(this.header.id,this.selectedGraph.id).subscribe(function(t){e.initHeader(),e.changed=!0})},HeaderEditorModal.prototype.ok=function(){var e=this;this.changed&&this.header.isMultiple?this.basicModals.confirm("Multiple headers","There are multiple headers with the same name ("+this.header.nameStruct.name+"). Do you want to apply the changes to all of them?","warning").then(function(t){e.s2rdfService.replicateMultipleHeader(e.header.id).subscribe(function(){e.dialog.close()})},function(){e.dialog.close()}):this.dialog.close()},HeaderEditorModal.prototype.getDatatypeShow=function(e){return l.a.getQName(e,c.a.getPrefixMappings())},HeaderEditorModal=m([n.i(r.c)({selector:"header-editor-modal",template:n(1957)}),v("design:paramtypes",[o.g,s.a,p.a,i.c])],HeaderEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(157),s=n(2),l=n(71),c=n(32),p=n(41),d=(n.n(p),this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}()),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function Sheet2RdfSettingsModalData(t){var n=e.call(this)||this;return n.fsNamingStrategy=t,n}return d(Sheet2RdfSettingsModalData,e),Sheet2RdfSettingsModalData}(i.d),g=function(){function Sheet2RdfSettingsModal(e,t,n){this.dialog=e,this.prefService=t,this.basicModals=n,this.fsNamingStrategies=[{show:"Column alphabetic index",title:"1st column => 'col_A'; 2nd column => 'col_B'",strategy:a.a.columnAlphabeticIndex},{show:"Column numeric index",title:"1st column => 'col_0'; 2nd column => 'col_1'",strategy:a.a.columnNumericIndex},{show:"Normalized header name",title:"Column header 'First header' => 'col_0_first_header",strategy:a.a.normalizedHeaderName}],this.context=e.context}return Sheet2RdfSettingsModal.prototype.ngOnInit=function(){var e=this;this.fsNamingStrategies.forEach(function(t){t.strategy==e.context.fsNamingStrategy&&(e.fsNamingStrategy=t)})},Sheet2RdfSettingsModal.prototype.ok=function(){var e=this;this.fsNamingStrategy.strategy!=this.context.fsNamingStrategy&&this.basicModals.confirm("Sheet2RDF settings","Warning: Changing the settings requires to re-initialize the model related to the current spreadsheet. All the changes applied to the headers will be discarder. Do you want to continue?","warning").then(function(t){var n=[];e.fsNamingStrategy.strategy!=e.context.fsNamingStrategy&&n.push(e.prefService.setPUSetting(c.a.pref_s2rdf_fs_naming_strategy,e.fsNamingStrategy.strategy)),p.Observable.forkJoin(n).subscribe(function(t){e.dialog.close(e.fsNamingStrategy.strategy)})},function(t){e.cancel()})},Sheet2RdfSettingsModal.prototype.cancel=function(){this.dialog.dismiss()},Sheet2RdfSettingsModal=u([n.i(r.c)({selector:"s2rdf-settings-modal",template:n(1959)}),f("design:paramtypes",[o.g,l.a,s.a])],Sheet2RdfSettingsModal)}();!function(){function FsNsStruct(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return x}),n.d(t,"b",function(){return C});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(3)),l=n(156),c=n(11),p=n(23),d=n(12),u=n(137),f=n(10),h=n(6),g=n(14),m=n(239),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function SimpleGraphApplicationModalData(t,n){var r=e.call(this)||this;return r.header=t,r.graphApplication=n,r}return v(SimpleGraphApplicationModalData,e),SimpleGraphApplicationModalData}(i.d),C=function(){function SimpleGraphApplicationModal(e,t,n,r,o,i){this.dialog=e,this.s2rdfService=t,this.propService=n,this.resourceService=r,this.browsingModals=o,this.modal=i,this.resourceRangeType={type:p.b.resource,show:"Resource"},this.literalRangeType={type:p.b.literal,show:"Literal"},this.assertType=!1,this.datatype=c.i.langString,this.availableNodes=[],this.context=e.context}return SimpleGraphApplicationModal.prototype.ngOnInit=function(){var e=this;this.rangeTypes=[this.resourceRangeType,this.literalRangeType],(t=this.availableNodes).push.apply(t,this.context.header.nodes),1==this.availableNodes.length&&null!=this.availableNodes[0].converter&&null!=this.availableNodes[0].converter.datatypeUri&&(this.datatype=new s.b(this.availableNodes[0].converter.datatypeUri)),null!=this.context.graphApplication&&(this.property=this.context.graphApplication.property,null!=this.property&&this.updateHeaderPropertyRange(),this.availableNodes.forEach(function(t){t.nodeId==e.context.graphApplication.nodeId&&(e.selectedNode=t)}));var t},SimpleGraphApplicationModal.prototype.changeProperty=function(){var e=this;this.browsingModals.browsePropertyTree("Select property").then(function(t){e.property=t,e.updateHeaderPropertyRange()},function(){})},SimpleGraphApplicationModal.prototype.updateHeaderPropertyRange=function(){var e=this;this.rangeCollection=[],this.rangeTypes=[this.resourceRangeType,this.literalRangeType],this.selectedRangeType=null,this.assertableTypes=[],this.assertedType=null,this.allowedDatatypes=[],this.propService.getRange(this.property).subscribe(function(t){t.ranges.type!=p.b.undetermined&&e.rangeTypes.forEach(function(n){n.type==t.ranges.type&&(e.selectedRangeType=n)}),e.annotateRangeCollection(t).subscribe(function(){if(t.ranges.type==p.b.literal?(e.rangeTypes=[e.literalRangeType],e.rangeCollection.length>0&&(1==e.rangeCollection.length&&e.rangeCollection[0].equals(c.b.literal)||(e.allowedDatatypes=e.rangeCollection))):t.ranges.type==p.b.resource?(e.rangeTypes=[e.resourceRangeType],e.assertableTypes=e.rangeCollection,e.rangeCollection.some(function(e){return e.equals(c.b.literal)})&&(1==e.rangeCollection.length?e.rangeTypes=[e.literalRangeType]:e.rangeTypes.push(e.literalRangeType))):t.ranges.type==p.b.undetermined&&(e.rangeTypes=[e.resourceRangeType,e.literalRangeType]),null!=e.context.graphApplication){var n=e.context.graphApplication.nodeId;e.availableNodes.forEach(function(t){t.nodeId==n&&(e.selectedNode=t)}),null!=e.selectedNode.converter&&null!=e.selectedNode.converter.datatypeUri&&(e.forceRangeType(p.b.literal),e.datatype=new s.b(e.selectedNode.converter.datatypeUri));var r=e.context.graphApplication.type;if(null!=r){e.assertType=!0;var o=f.a.indexOfNode(e.assertableTypes,r);-1!=o?e.assertedType=e.assertableTypes[o]:(e.assertableTypes.push(r),e.assertedType=e.assertableTypes[e.assertableTypes.length-1])}}})})},SimpleGraphApplicationModal.prototype.annotateRangeCollection=function(e){var t=this;if(null!=e.ranges.rangeCollection){var n=e.ranges.rangeCollection.resources;return this.resourceService.getResourcesInfo(n).map(function(e){t.rangeCollection=e})}return a.Observable.of(null)},SimpleGraphApplicationModal.prototype.forceRangeType=function(e){var t=this;this.rangeTypes.forEach(function(n){n.type==e&&(t.selectedRangeType=n)})},SimpleGraphApplicationModal.prototype.addAssertedType=function(){var e=this;this.browsingModals.browseClassTree("Select class",this.rangeCollection).then(function(t){f.a.containsNode(e.assertableTypes,t)||(e.assertableTypes.push(t),e.assertedType=t)})},SimpleGraphApplicationModal.prototype.isLangSelectionVisible=function(){return null!=this.datatype&&this.datatype.equals(c.i.langString)},SimpleGraphApplicationModal.prototype.isNodeSelectionEnabled=function(){return null!=this.property&&null!=this.selectedRangeType&&!(this.selectedRangeType.type==p.b.literal&&null==this.datatype)},SimpleGraphApplicationModal.prototype.getNodeSerialization=function(e){var t=e.nodeId;if(null!=e.converter)if(t+=" "+e.converter.type,e.converter.contractUri==l.e.NAMESPACE+"default"){if(null!=e.converter.language&&(t+="@"+e.converter.language),null!=e.converter.datatypeUri){var n=f.a.getQName(e.converter.datatypeUri,h.a.getPrefixMappings());n==e.converter.datatypeUri&&(n="<"+e.converter.datatypeUri+">"),t+="^^"+n}}else t+="(",t+=e.converter.contractUri.replace(l.e.NAMESPACE,l.e.PREFIX+":"),"{}"!=JSON.stringify(e.converter.params)&&(t+="(...)"),t+=")";return t},SimpleGraphApplicationModal.prototype.addNode=function(){var e,t=this,n=this.selectedRangeType.type==p.b.literal?this.datatype:null;this.selectedRangeType.type==p.b.literal&&this.datatype.equals(c.i.langString)&&1==this.availableNodes.length&&null!=this.availableNodes[0].converter&&(e=this.availableNodes[0].converter.language);var r=new m.a(this.context.header,null,this.selectedRangeType.type,e,n,this.availableNodes),o=new i.b(r,void 0,m.a),a={context:o.keyboard(27).size("lg").toJSON()};this.modal.open(m.b,a).result.then(function(e){t.availableNodes.push(e),t.selectedNode=e},function(){})},SimpleGraphApplicationModal.prototype.getNodeNotCompliantError=function(){var e=null;return null!=this.selectedNode&&null!=this.selectedNode.converter&&null!=this.selectedRangeType&&(this.selectedRangeType.type==p.b.resource&&this.selectedNode.converter.type!=l.a.uri?e="the type of converter used to create the node ("+this.selectedNode.converter.type+") is not compliant with the selected range type ("+this.selectedRangeType.show+")":this.selectedRangeType.type==p.b.literal&&(this.selectedNode.converter.type!=l.a.literal?e="the type of converter used to create the node ("+this.selectedNode.converter.type+") is not compliant with the selected range type ("+this.selectedRangeType.show+")":this.datatype.equals(c.i.langString)?this.selectedNode.converter.datatypeCapability!=this.datatype.getURI()&&null==this.selectedNode.converter.language&&(e="the chosen datatype ("+this.datatype.getShow()+") is not compliant with the converter that produces the selected node"):this.selectedNode.converter.datatypeUri!=this.datatype.getURI()&&this.selectedNode.converter.datatypeCapability!=this.datatype.getURI()&&(e="the chosen datatype ("+this.datatype.getShow()+") is not the same of the selected node"))),null!=e?"The selected node is not compliant with the choices made: "+e:e},SimpleGraphApplicationModal.prototype.isOkEnabled=function(){return null!=this.selectedNode&&null==this.getNodeNotCompliantError()},SimpleGraphApplicationModal.prototype.ok=function(){var e=this,t=!1;this.context.header.nodes.forEach(function(n){n.nodeId==e.selectedNode.nodeId&&(t=!0)}),t?this.createOrUpdateGraphApplication():this.s2rdfService.addNodeToHeader(this.context.header.id,this.selectedNode.nodeId,this.selectedNode.converter.type,this.selectedNode.converter.contractUri,this.selectedNode.converter.datatypeUri,this.selectedNode.converter.language,this.selectedNode.converter.params,this.selectedNode.memoize).subscribe(function(t){e.createOrUpdateGraphApplication()})},SimpleGraphApplicationModal.prototype.createOrUpdateGraphApplication=function(){var e,t=this;this.selectedRangeType.type==p.b.resource&&this.assertType&&(e=this.assertedType);var n;n=null==this.context.graphApplication?this.s2rdfService.addSimpleGraphApplicationToHeader(this.context.header.id,this.property,this.selectedNode.nodeId,e):this.s2rdfService.updateSimpleGraphApplication(this.context.header.id,this.context.graphApplication.id,this.property,this.selectedNode.nodeId,e),n.subscribe(function(e){t.dialog.close()})},SimpleGraphApplicationModal.prototype.cancel=function(){this.dialog.dismiss()},SimpleGraphApplicationModal.prototype.annotateResources=function(e){return this.resourceService.getResourcesInfo(e).map(function(t){for(var n=0;n<e.length;n++)e[n]=t[f.a.indexOfNode(t,e[n])]})},SimpleGraphApplicationModal=b([n.i(r.c)({selector:"simple-graph-modal",template:n(1960)}),y("design:paramtypes",[o.g,u.a,p.a,d.a,g.a,o.l])],SimpleGraphApplicationModal)}();!function(){function HeaderRangeType(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(137),s=n(14),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function SubjectHeaderEditorModalData(t,n){var r=e.call(this)||this;return r.headers=t,r.subjectHeader=n,r}return l(SubjectHeaderEditorModalData,e),SubjectHeaderEditorModalData}(i.d),u=function(){function SubjectHeaderEditorModal(e,t,n){this.dialog=e,this.s2rdfService=t,this.browsingModals=n,this.assertType=!1,this.memoize=!1,this.context=e.context}return SubjectHeaderEditorModal.prototype.ngOnInit=function(){var e=this;this.context.headers.forEach(function(t){t.id==e.context.subjectHeader.id&&(e.selectedHeader=t)}),this.type=this.context.subjectHeader.graph.type,null!=this.type&&(this.assertType=!0),null!=this.context.subjectHeader.node.converter&&(this.selectedConverter=this.context.subjectHeader.node.converter,this.memoize=this.context.subjectHeader.node.memoize)},SubjectHeaderEditorModal.prototype.changeType=function(){var e=this;this.browsingModals.browseClassTree("Select class").then(function(t){e.type=t})},SubjectHeaderEditorModal.prototype.onConverterUpdate=function(e){this.selectedConverter=e.converter,this.memoize=e.memoize},SubjectHeaderEditorModal.prototype.isOkEnabled=function(){var e=!0;if(null!=this.selectedConverter)for(var t in this.selectedConverter.params){var n=this.selectedConverter.params[t];if(null!=n){if("string"==typeof n&&""==n.trim())e=!1;else if(Array.isArray(n))0==n.length?e=!1:n.forEach(function(t){null==t&&(e=!1)});else if("object"==typeof n)if("{}"==JSON.stringify(n))e=!1;else for(var r in n)null!=r&&null!=n[r]||(e=!1)}else e=!1}return null!=this.selectedHeader&&(!this.assertType||this.type)&&null!=this.selectedConverter&&e},SubjectHeaderEditorModal.prototype.ok=function(){var e=this;this.s2rdfService.updateSubjectHeader(this.selectedHeader.id,this.selectedConverter.contractUri,this.selectedConverter.params,this.type,this.memoize).subscribe(function(t){e.dialog.close()})},SubjectHeaderEditorModal.prototype.cancel=function(){this.dialog.dismiss()},SubjectHeaderEditorModal=c([n.i(r.c)({selector:"subject-header-editor-modal",template:n(1961)}),p("design:paramtypes",[o.g,a.a,s.a])],SubjectHeaderEditorModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(4),i=n(32),a=n(157),s=n(185),l=n(109),c=n(71),p=n(137),d=n(8),u=n(7),f=n(310),h=n(2),g=n(13),m=n(568),v=n(569),b=n(571),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(){function Sheet2RdfComponent(e,t,n,r,o,i,s){this.s2rdfService=e,this.codaService=t,this.exportService=n,this.prefService=r,this.basicModals=o,this.sharedModals=i,this.modal=s,this.useHeader=!0,this.fsNamingStrategy=a.a.columnNumericIndex,this.maxSizePreviews=20,this.pearlValidation={valid:!0},this.maxPanelSize=16,this.minPanelSize=1,this.initialPanelSize=4,this.previewPanelFlex=this.initialPanelSize,this.pearlPanelFlex=this.initialPanelSize,this.topPanelFlex=this.initialPanelSize,this.triplesPanelFlex=this.initialPanelSize,this.dragging=!1}return Sheet2RdfComponent.prototype.ngOnInit=function(){var e=this;d.c.initSessionToken(),this.exportService.getOutputFormats().subscribe(function(t){e.exportFormats=t}),this.prefService.getPUSettings([i.a.pref_s2rdf_use_headers,i.a.pref_s2rdf_fs_naming_strategy]).subscribe(function(t){var n=t[i.a.pref_s2rdf_use_headers];null!=n&&(e.useHeader="false"!=n);var r=t[i.a.pref_s2rdf_fs_naming_strategy];null!=r&&(e.fsNamingStrategy=r)})},Sheet2RdfComponent.prototype.beforeUnloadHandler=function(e){this.s2rdfService.closeSession().subscribe()},Sheet2RdfComponent.prototype.loadSpreadsheet=function(){var e=this;this.s2rdfService.uploadSpreadsheet(this.spreadsheetFile,this.fsNamingStrategy).subscribe(function(t){e.resetAll(),e.initHeaders(),e.initTablePreview()})},Sheet2RdfComponent.prototype.resetAll=function(){this.resetSheetPreview(),this.resetPearlEditor(),this.resetTriplePreview()},Sheet2RdfComponent.prototype.resetSheetPreview=function(){this.headers=null,this.tablePreview=null,this.truncatedRows=null,this.totalRows=null},Sheet2RdfComponent.prototype.initHeaders=function(){var e=this;this.s2rdfService.getHeaders().subscribe(function(t){e.subjectHeader=t.subject,e.headers=t.headers,e.headers.forEach(function(t){return e.initHeaderCssClass(t)})})},Sheet2RdfComponent.prototype.initTablePreview=function(){var e=this;u.a.startLoadingDiv(u.a.blockDivFullScreen),this.s2rdfService.getTablePreview(this.maxSizePreviews).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.truncatedRows=t.returned,e.totalRows=t.total,e.tablePreview=t.rows})},Sheet2RdfComponent.prototype.fileChangeEvent=function(e){this.spreadsheetFile=e,this.loadSpreadsheet()},Sheet2RdfComponent.prototype.initHeaderCssClass=function(e){if(e.ignore)return void(e.cssClass="ignoreHeader");if(0==e.graph.length&&0==e.nodes.length)return void(e.cssClass="unconfiguredHeader");if(e.graph.length>0&&e.nodes.length>0){for(var t=this,n=0;n<e.graph.length;n++){var r=function(n){var r=e.graph[n];if(r instanceof a.b){if(null!=r.property)for(var o=0;o<e.nodes.length;o++)if(e.nodes[o].nodeId==r.nodeId&&null!=e.nodes[o].converter)return e.cssClass="configuredHeader",{value:void 0}}else if(r instanceof a.c&&null!=r.pattern&&null!=r.nodeIds&&r.nodeIds.length>0){for(var i=!0,s=0,l=r.nodeIds;s<l.length;s++){var c=l[s];!function(e){t.headers.forEach(function(t){t.nodes.some(function(t){return t.nodeId==e})||(i=!0)})}(c)}if(i)return e.cssClass="configuredHeader",{value:void 0}}}(n);if("object"==typeof r)return r.value}return void(e.cssClass="incompleteHeader")}return void(e.cssClass="incompleteHeader")},Sheet2RdfComponent.prototype.getSubjHeaderCssClass=function(){return null!=this.subjectHeader?null!=this.subjectHeader.id&&null!=this.subjectHeader.node.converter?"configuredHeader":"incompleteHeader":null},Sheet2RdfComponent.prototype.editHeader=function(e){var t=this,n=new m.a(e.id,this.headers),r=new o.b(n,void 0,m.a),i={context:r.keyboard(27).size("lg").toJSON()};this.modal.open(m.b,i).result.then(function(){t.initHeaders()},function(){})},Sheet2RdfComponent.prototype.editSubjectHeader=function(){var e=this,t=new b.a(this.headers,this.subjectHeader),n=new o.b(t,void 0,b.a),r={context:n.keyboard(27).size("lg").toJSON()};this.modal.open(b.b,r).result.then(function(){e.initHeaders()},function(){})},Sheet2RdfComponent.prototype.exportStatus=function(){var e=this;this.s2rdfService.exportStatus().subscribe(function(t){var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Export Mapping Status",null,n,"s2rdf_status.json")})},Sheet2RdfComponent.prototype.loadStatus=function(e){var t=this;this.s2rdfService.importStatus(e).subscribe(function(){t.initHeaders()})},Sheet2RdfComponent.prototype.resetPearlEditor=function(){this.pearl="",this.pearlValidation={valid:!0,details:null}},Sheet2RdfComponent.prototype.onPearlChange=function(){var e=this;clearTimeout(this.pearlValidationTimer),this.pearlValidationTimer=window.setTimeout(function(){e.checkPearl()},1e3)},Sheet2RdfComponent.prototype.generatePearl=function(){var e=this;this.s2rdfService.getPearl().subscribe(function(t){e.pearl=t,e.checkPearl(),e.triplesPreview=null})},Sheet2RdfComponent.prototype.loadPearl=function(e){var t=this;this.s2rdfService.uploadPearl(e).subscribe(function(e){t.pearl=e})},Sheet2RdfComponent.prototype.checkPearl=function(){var e=this;if(void 0==this.pearl)return void(this.pearlValidation={valid:!0});this.codaService.validatePearl(this.pearl).subscribe(function(t){e.pearlValidation=t})},Sheet2RdfComponent.prototype.exportPearl=function(){var e=new Blob([this.pearl],{type:"text/plain"}),t=window.URL.createObjectURL(e);this.basicModals.downloadLink("Save SPARQL results",null,t,"pearl_export.pr").then(function(e){window.URL.revokeObjectURL(t)},function(){})},Sheet2RdfComponent.prototype.insertConverter=function(){var e=this;this.sharedModals.selectConverter("Pick a converter",null).then(function(t){e.viewChildCodemirror.insertAtCursor(t.projectionOperator)},function(){})},Sheet2RdfComponent.prototype.resetTriplePreview=function(){this.totalTriples=0,this.truncatedTriples=0,this.triplesPreview=null,this.selectedTriplePreviewRow=null},Sheet2RdfComponent.prototype.generateTriples=function(){if(null!=this.pearlValidation&&!this.pearlValidation.valid)return void this.basicModals.alert("Invalid pearl code","Pearl code contains errors.","warning");this.invokeGetTriplesPreview()},Sheet2RdfComponent.prototype.invokeGetTriplesPreview=function(){var e=this;this.s2rdfService.savePearl(this.pearl).subscribe(function(t){e.resetTriplePreview(),u.a.startLoadingDiv(u.a.blockDivFullScreen),e.s2rdfService.getTriplesPreview(e.maxSizePreviews).subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.totalTriples=t.total,e.truncatedTriples=t.returned,e.triplesPreview=t.triples})})},Sheet2RdfComponent.prototype.selectTriplePreviewRow=function(e){if(this.selectedTablePreviewRow=null,this.selectedTriplePreviewRow==e)this.selectedTriplePreviewRow=null;else{this.selectedTriplePreviewRow=e;for(var t=0;t<this.tablePreview.length;t++)this.tablePreview[t].idx==this.selectedTriplePreviewRow.row&&(this.selectedTablePreviewRow=this.tablePreview[t],document.getElementById("tableRow"+this.selectedTablePreviewRow.idx).scrollIntoView({block:"end",behavior:"smooth"}))}},Sheet2RdfComponent.prototype.addTriples=function(){var e=this;u.a.startLoadingDiv(u.a.blockDivFullScreen),this.s2rdfService.addTriples().subscribe(function(t){u.a.stopLoadingDiv(u.a.blockDivFullScreen),e.basicModals.alert("Triples added","The generated triples have been added")})},Sheet2RdfComponent.prototype.exportTriplesAs=function(e){var t=this;this.s2rdfService.exportTriples(e).subscribe(function(n){var r=window.URL.createObjectURL(n);t.basicModals.downloadLink("Export triples in "+e.name,null,r,"triples."+e.defaultFileExtension)})},Sheet2RdfComponent.prototype.settings=function(){var e=this,t=new v.a(this.fsNamingStrategy),n=new o.b(t,void 0,v.a),r={context:n.keyboard(27).toJSON()};this.modal.open(v.b,r).result.then(function(t){e.fsNamingStrategy=t,e.loadSpreadsheet()},function(){})},Sheet2RdfComponent.prototype.onMousedownX=function(e){e.preventDefault(),this.dragging=!0,this.startMousedownX=e.clientX,this.onMousemove=this.draggingHandler},Sheet2RdfComponent.prototype.onMousedownY=function(e){e.preventDefault(),this.dragging=!0,this.startMousedownY=e.clientY,this.onMousemove=this.draggingHandler},Sheet2RdfComponent.prototype.onMouseup=function(){this.dragging&&(this.onMousemove=function(e){},this.dragging=!1,this.startMousedownX=null,this.startMousedownY=null)},Sheet2RdfComponent.prototype.onMousemove=function(e){},Sheet2RdfComponent.prototype.draggingHandler=function(e){if(null!=this.startMousedownX){var t=e.clientX,n=this.startMousedownX-t,r=this.pearlPanelRef.nativeElement.offsetWidth,o=this.previewPanelRef.nativeElement.offsetWidth;this.pearlPanelFlex=(r+n)/(o-n)*this.previewPanelFlex,this.pearlPanelFlex>this.maxPanelSize?this.pearlPanelFlex=this.maxPanelSize:this.pearlPanelFlex<this.minPanelSize&&(this.pearlPanelFlex=this.minPanelSize),this.startMousedownX=e.clientX}else{var i=e.clientY,a=this.startMousedownY-i,s=this.topPanelRef.nativeElement.offsetHeight,l=this.triplesPanelRef.nativeElement.offsetHeight;this.triplesPanelFlex=(l+a)/(s-a)*this.topPanelFlex,this.triplesPanelFlex>this.maxPanelSize?this.triplesPanelFlex=this.maxPanelSize:this.triplesPanelFlex<this.minPanelSize&&(this.triplesPanelFlex=this.minPanelSize),this.startMousedownY=e.clientY}},y([n.i(r.F)("previewPanel",{read:r.e}),x("design:type",r.e)],Sheet2RdfComponent.prototype,"previewPanelRef",void 0),y([n.i(r.F)("pearlPanel",{read:r.e}),x("design:type",r.e)],Sheet2RdfComponent.prototype,"pearlPanelRef",void 0),y([n.i(r.F)("topPanel",{read:r.e}),x("design:type",r.e)],Sheet2RdfComponent.prototype,"topPanelRef",void 0),y([n.i(r.F)("triplesPanel",{read:r.e}),x("design:type",r.e)],Sheet2RdfComponent.prototype,"triplesPanelRef",void 0),y([n.i(r.F)(f.a),x("design:type",f.a)],Sheet2RdfComponent.prototype,"viewChildCodemirror",void 0),y([n.i(r._4)("window:beforeunload",["$event"]),x("design:type",Function),x("design:paramtypes",[Event]),x("design:returntype",void 0)],Sheet2RdfComponent.prototype,"beforeUnloadHandler",null),Sheet2RdfComponent=y([n.i(r.c)({selector:"s2rdf-component",template:n(1962),host:{class:"pageComponent","(mousemove)":"onMousemove($event)","(mouseup)":"onMouseup()","(mouseleave)":"onMouseup()"},styles:["\n        .columnHeader { \n            background: linear-gradient(#f6f9fb, #d4dce9);\n            border: 1px solid #a9b4c6 !important;\n            text-align: center;\n            font-weight: bold;\n            padding: 1px 6px;\n            white-space: nowrap;\n        }\n        .spreadsheetCell {\n            background: #fff;\n            border: 1px solid #d6d7dc;\n            padding: 2px 6px;\n            cursor: pointer;\n            text-align: center;\n            white-space: nowrap;\n            max-width: 100px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        .oddTablePreviewRow {\n            background-color: #eee;\n        }\n        .configuredHeader { color: green; }\n        .ignoredHeader { color: gray; }\n        .unconfiguredHeader { color: black; }\n        .incompleteHeader { color: red; }\n    "]}),x("design:paramtypes",[p.a,s.a,l.a,c.a,h.a,g.a,o.c])],Sheet2RdfComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,o=n(0),i=n(5),a=n(135),s=n(54),l=n(11),c=n(6),p=n(193),d=n(2),u=n(308),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function CreateDiffingTaskModal(e,t,n,o,i){this.dialog=e,this.projectService=t,this.versionsService=n,this.diffingService=o,this.basicModals=i,this.modes=[{mode:r.projects,show:"Compare the current project with an external one"},{mode:r.versions,show:"Compare two different versions of the current project"}],this.leftDataset={},this.rightDataset={},this.context=e.context}return CreateDiffingTaskModal.prototype.onModeChange=function(){var e=this;this.leftDataset={},this.rightDataset={},this.mode==r.projects?(null==this.projects&&this.projectService.listProjects(c.a.getWorkingProject(),!1,!0).subscribe(function(t){e.projects=t.filter(function(e){return e.getModelType()==l.d.uri})}),this.leftDataset.project=c.a.getWorkingProject()):(this.leftDataset.project=c.a.getWorkingProject(),this.rightDataset.project=c.a.getWorkingProject(),null==this.versions?this.versionsService.getVersions().subscribe(function(t){e.versions=[{versionId:"CURRENT",dateTimeLocal:"---",dateTime:null,repositoryId:null,repositoryLocation:null,repositoryStatus:a.b.INITIALIZED}],e.versions=e.versions.concat(t),e.leftDataset.version=e.versions[0]}):this.leftDataset.version=this.versions[0])},CreateDiffingTaskModal.prototype.isOkEnabled=function(){return this.mode==r.projects?null!=this.leftDataset.project&&null!=this.rightDataset.project:null!=this.leftDataset.project&&null!=this.rightDataset.project&&null!=this.leftDataset.version&&null!=this.rightDataset.version},CreateDiffingTaskModal.prototype.ok=function(){var e=this,t=[],n=c.a.getWorkingProjectCtx().getProjectPreferences().projectLanguagesPreference;if(null==n||1==n.length&&"*"==n[0]||(t=n),this.mode==r.projects){if(!this.leftDataset.project.isRepositoryRemote())return void this.basicModals.alert("SKOS diffing","Cannot run a SKOS diffing task on project '"+this.leftDataset.project.getName()+"' since it is hosted on a repository that does not have a SPARQL endpoint","warning");if(!this.rightDataset.project.isRepositoryRemote())return void this.basicModals.alert("SKOS diffing","Cannot run a SKOS diffing task on project '"+this.rightDataset.project.getName()+"' since it is hosted on a repository that does not have a SPARQL endpoint","warning");this.diffingService.runDiffing(this.leftDataset.project,this.rightDataset.project,null,null,t).subscribe(function(t){e.dialog.close(t)})}else{if(this.leftDataset.version==this.rightDataset.version)return void this.basicModals.alert("SKOS diffing","Cannot compare two identical versions of the project","warning");if((null==this.leftDataset.version.repositoryId||null==this.leftDataset.version.repositoryId)&&!this.leftDataset.project.isRepositoryRemote())return void this.basicModals.alert("SKOS diffing","Cannot run a SKOS diffing task on version 'CURRENT' since it is hosted on a repository that does not have a SPARQL endpoint","warning");if(null!=this.leftDataset.version.repositoryId&&this.leftDataset.version.repositoryLocation!=a.a.REMOTE)return void this.basicModals.alert("SKOS diffing","Cannot run a SKOS diffing task on version '"+this.leftDataset.version.versionId+"' since it is hosted on a repository that does not have a SPARQL endpoint","warning");if(null!=this.rightDataset.version.repositoryId&&this.rightDataset.version.repositoryLocation!=a.a.REMOTE)return void this.basicModals.alert("SKOS diffing","Cannot run a SKOS diffing task on version '"+this.rightDataset.version.versionId+"' since it is hosted on a repository that does not have a SPARQL endpoint","warning");this.diffingService.runDiffing(this.leftDataset.project,this.rightDataset.project,this.leftDataset.version.repositoryId,this.rightDataset.version.repositoryId,t).subscribe(function(t){e.dialog.close(t)})}},CreateDiffingTaskModal.prototype.cancel=function(){this.dialog.dismiss()},CreateDiffingTaskModal=f([n.i(o.c)({selector:"create-diffing-task-modal",template:n(1963)}),h("design:paramtypes",[i.g,s.a,p.a,u.a,d.a])],CreateDiffingTaskModal)}();!function(e){e.versions="versions",e.projects="projects"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(1002)),l=n(308),c=n(193),p=n(7),d=n(6),u=n(2),f=n(573),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function SkosDiffingComponent(e,t,n,r){this.diffingService=e,this.versionsService=t,this.basicModals=n,this.modal=r,this.serverDown=!1,this.resultFormats=[s.a.html,s.a.pdf,s.a.json],this.selectedResultFormat=this.resultFormats[0]}return SkosDiffingComponent.prototype.ngOnInit=function(){this.listTasks()},SkosDiffingComponent.prototype.listTasks=function(){var e=this;this.diffingService.getAllTasksInfo(d.a.getWorkingProject().getName()).subscribe(function(t){e.serverDown=!1,e.tasks=t,e.tasks.some(function(e){return null!=e.leftDataset.versionRepoId||null!=e.rightDataset.versionRepoId})&&e.initVersions().subscribe(function(){e.tasks.forEach(function(t){if(""==t.leftDataset.versionRepoId)t.leftDataset.versionId="CURRENT";else{var n=e.versions.find(function(e){return e.repositoryId==t.leftDataset.versionRepoId});t.leftDataset.versionId=null!=n?n.versionId:t.leftDataset.versionRepoId}if(""==t.rightDataset.versionRepoId)t.rightDataset.versionId="CURRENT";else{var n=e.versions.find(function(e){return e.repositoryId==t.rightDataset.versionRepoId});t.rightDataset.versionId=null!=n?n.versionId:t.rightDataset.versionRepoId}})})},function(t){e.serverDown=!0,e.basicModals.alert("SKOS diffing server error","The SKOS diffing server didn't respond, make sure it is up and running.","warning")})},SkosDiffingComponent.prototype.initVersions=function(){var e=this;return null!=this.versions?a.Observable.of(null):this.versionsService.getVersions().map(function(t){e.versions=t})},SkosDiffingComponent.prototype.selectTask=function(e){this.selectedTask==e?this.selectedTask=null:this.selectedTask=e},SkosDiffingComponent.prototype.createTask=function(){var e=this,t=new i.b,n={context:t.keyboard(27).size("lg").toJSON()};this.modal.open(f.a,n).result.then(function(){e.listTasks()},function(){})},SkosDiffingComponent.prototype.deleteTask=function(){var e=this;this.diffingService.deleteTask(this.selectedTask.taskId).subscribe(function(){e.listTasks()})},SkosDiffingComponent.prototype.downloadTaskResult=function(){var e=this;p.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.diffingService.getTaskResult(this.selectedTask.taskId,this.selectedResultFormat).subscribe(function(t){p.a.stopLoadingDiv(e.blockingDivElement.nativeElement);var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Download SKOS diffing result",null,n,"result."+e.selectedResultFormat)})},h([n.i(r.F)("blockingDiv"),g("design:type",r.e)],SkosDiffingComponent.prototype,"blockingDivElement",void 0),SkosDiffingComponent=h([n.i(r.c)({selector:"skos-diffing",template:n(1964),host:{class:"pageComponent"}}),g("design:paramtypes",[l.a,c.a,u.a,o.l])],SkosDiffingComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(4),i=n(68),a=n(3),s=n(231),l=n(93),c=n(109),p=n(51),d=n(191),u=n(17),f=n(7),h=n(20),g=n(6),m=n(21),v=n(2),b=n(13),y=n(576),x=n(240),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(){function AbstractSparqlTabComponent(e,t,n,o,i,a,l,c,p){this.updateName=new r.i,this.savedStatus=new r.i,this.queryMode=s.b.query,this.inferred=!1,this.sampleQuery="SELECT * WHERE {\n    ?s ?p ?o .\n} LIMIT 10",this.queryInProgress=!1,this.queryValid=!0,this.asc_Order="_asc",this.desc_Order="_desc",this.resultsPage=0,this.resultsTotPage=0,this.resultsLimit=100,this.sparqlService=e,this.exportService=t,this.configurationsService=n,this.searchService=o,this.basicModals=i,this.sharedModals=a,this.graphModals=l,this.modal=c,this.vbProp=p}return AbstractSparqlTabComponent.prototype.ngOnInit=function(){for(var e=g.a.getPrefixMappings(),t="",n=0;n<e.length;n++)t+="PREFIX "+e[n].prefix+": <"+e[n].namespace+">\n";this.sampleQuery=t+"\n"+this.sampleQuery,this.query=this.sampleQuery},AbstractSparqlTabComponent.prototype.doQuery=function(){var e=this,t=(new Date).getTime();if(this.queryResult=null,this.resultsPage=0,this.resultsTotPage=0,this.queryCache=this.query,this.queryMode==s.b.query){if(!u.a.isAuthorized(h.a.sparqlEvaluateQuery))return void this.basicModals.alert("Operation denied","You are not authorized to perform SPARQL query");f.a.startLoadingDiv(f.a.blockDivFullScreen),this.evaluateQueryImpl().subscribe(function(n){f.a.stopLoadingDiv(f.a.blockDivFullScreen),e.sparqlResponseHandler(n,t)})}else{if(!u.a.isAuthorized(h.a.sparqlExecuteUpdate))return void this.basicModals.alert("Operation denied","You are not authorized to perform SPARQL update");f.a.startLoadingDiv(f.a.blockDivFullScreen),this.executeUpdateImpl().subscribe(function(n){f.a.stopLoadingDiv(f.a.blockDivFullScreen),e.sparqlResponseHandler(n,t)})}},AbstractSparqlTabComponent.prototype.sparqlResponseHandler=function(e,t){this.respSparqlJSON=e.sparql;var n=(new Date).getTime(),r=n-t;this.queryTime=this.getPrettyPrintTime(r),this.resultType=e.resultType,e.resultType==s.c.tuple||e.resultType==s.c.graph?(this.headers=e.sparql.head.vars,this.queryResult=e.sparql.results.bindings,this.resultsTotPage=Math.floor(this.queryResult.length/this.resultsLimit),this.queryResult.length%this.resultsLimit>0&&this.resultsTotPage++):e.resultType==s.c.boolean&&(this.headers=["boolean"],this.queryResult=Boolean(e.sparql.boolean))},AbstractSparqlTabComponent.prototype.onQueryChange=function(e){this.query=e.query,this.queryValid=e.valid,this.queryMode=e.mode,this.savedStatus.emit(!1)},AbstractSparqlTabComponent.prototype.clear=function(){this.respSparqlJSON=null,this.headers=null,this.queryResult=null,this.queryTime=null,this.resultsPage=0,this.resultsTotPage=0},AbstractSparqlTabComponent.prototype.exportAsJSON=function(){this.downloadSavedResult(JSON.stringify(this.respSparqlJSON),"json")},AbstractSparqlTabComponent.prototype.exportAsCSV=function(){var e="";if(this.resultType==s.c.tuple||this.resultType==s.c.graph){for(var t=this.headers,n=0;n<t.length;n++)e+=t[n]+",";e=e.slice(0,-1),e+="\n";for(var r=this.queryResult,o=0;o<r.length;o++){for(var n=0;n<t.length;n++)void 0!=r[o][t[n]]?e+=this.escapeForCSV(r[o][t[n]])+",":e+=",";e=e.slice(0,-1),e+="\n"}}else this.resultType==s.c.boolean&&(e+="result\n"+this.queryResult);this.downloadSavedResult(e,"csv")},AbstractSparqlTabComponent.prototype.escapeForCSV=function(e){var t=e.value;return"bnode"!=e.type||t.startsWith("_:")?(t.includes(String.fromCodePoint(34))||t.includes(String.fromCodePoint(44))||t.includes(String.fromCodePoint(10))||t.includes(String.fromCodePoint(13)))&&(t=t.replace(/"/g,'""'),t='"'+t+'"'):t="_:"+t,t},AbstractSparqlTabComponent.prototype.exportAsTSV=function(){var e="";if(this.resultType==s.c.tuple||this.resultType==s.c.graph){for(var t=this.headers,n=0;n<t.length;n++)e+=t[n]+"\t";e=e.slice(0,-1),e+="\n";for(var r=this.queryResult,o=0;o<r.length;o++){for(var n=0;n<t.length;n++)void 0!=r[o][t[n]]?e+=this.escapeForTSV(r[o][t[n]])+"\t":e+="\t";e=e.slice(0,-1),e+="\n"}}else this.resultType==s.c.boolean&&(e+="?result\n"+this.queryResult);this.downloadSavedResult(e,"tsv")},AbstractSparqlTabComponent.prototype.escapeForTSV=function(e){var t=e.value;return"uri"==e.type?t="<"+t+">":"bnode"!=e.type||t.startsWith("_:")?"literal"==e.type&&(t=t.replace(/\t/g,"\\t"),t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t='"'+t+'"',void 0!=e["xml:lang"]&&(t+="@"+e["xml:lang"]),void 0!=e.datatype&&(t+="^^"+e.datatype)):t="_:"+t,t},AbstractSparqlTabComponent.prototype.exportAsSpradsheet=function(e){var t=this;f.a.startLoadingDiv(f.a.blockDivFullScreen),this.sparqlService.exportQueryResultAsSpreadsheet(this.queryCache,e,this.inferred).subscribe(function(n){f.a.stopLoadingDiv(f.a.blockDivFullScreen);var r=window.URL.createObjectURL(n);t.basicModals.downloadLink("Export SPARQL results",null,r,"sparql_export."+e)})},AbstractSparqlTabComponent.prototype.exportAsRdf=function(){var e=new y.b(this.queryCache,this.inferred),t=new o.b(e,void 0,y.b),n={context:t.keyboard(27).toJSON()};return this.modal.open(y.a,n).result},AbstractSparqlTabComponent.prototype.downloadSavedResult=function(e,t){var n=new Blob([e],{type:"text/plain"}),r=window.URL.createObjectURL(n),o="result."+t;this.basicModals.downloadLink("Export SPARQL results",null,r,o).then(function(e){window.URL.revokeObjectURL(r)},function(){})},AbstractSparqlTabComponent.prototype.getPrettyPrintTime=function(e){if(e<1e3)return e+" millisec";var t=Math.floor(e/1e3),n=e%1e3;return n<10?n="00"+n:n<100&&(n="0"+n),t+","+n+" sec"},AbstractSparqlTabComponent.prototype.getBindingShow=function(e){if("uri"==e.type)return"<"+e.value+">";if("bnode"==e.type)return"_:"+e.value;if("literal"==e.type){var t='"'+e.value+'"';return e["xml:lang"]&&(t+="@"+e["xml:lang"]),e.datatype&&(t+="^^<"+e.datatype+">"),t}},AbstractSparqlTabComponent.prototype.sortResult=function(e){this.sortOrder==e+this.asc_Order?(this.queryResult.sort(function(t,n){var r=t[e]?t[e].value:"",o=n[e]?n[e].value:"";return-r.localeCompare(o)}),this.sortOrder=e+this.desc_Order):(this.queryResult.sort(function(t,n){var r=t[e]?t[e].value:"",o=n[e]?n[e].value:"";return r.localeCompare(o)}),this.sortOrder=e+this.asc_Order)},AbstractSparqlTabComponent.prototype.isOpenGraphEnabled=function(){return"graph"==this.resultType&&this.queryResult.length>0},AbstractSparqlTabComponent.prototype.openGraph=function(){var e=this;this.queryResult.length>100?this.basicModals.confirm("Graph view","Attention: The graph you are trying to show will have a large amount of nodes and links. It could be really confused and not much readable. Do you want to show it anyway?","warning").then(function(t){e.graphModals.openGraphQuertyResult(e.queryResult)},function(e){}):this.graphModals.openGraphQuertyResult(this.queryResult)},AbstractSparqlTabComponent.prototype.setLoadedQueryConf=function(e){for(var t,n=this,r=!1,o=e.properties,i=0;i<o.length;i++)"sparql"==o[i].name?t=o[i].value:"includeInferred"==o[i].name&&(r=o[i].value);this.query=t,this.inferred=r,setTimeout(function(){n.viewChildYasgui.forceContentUpdate(),n.savedStatus.emit(!0)})},AbstractSparqlTabComponent.prototype.onBindingClick=function(e){if(this.isBindingResource(e)){var t=void 0;t="uri"==e.type?new a.b(e.value):new a.d("_:"+e.value),this.sharedModals.openResourceView(t,!1)}},AbstractSparqlTabComponent.prototype.isBindingResource=function(e){return"uri"==e.type||"bnode"==e.type},C([n.i(r.F)(x.a),R("design:type",x.a)],AbstractSparqlTabComponent.prototype,"viewChildYasgui",void 0),C([n.i(r._7)(),R("design:type",r.i)],AbstractSparqlTabComponent.prototype,"updateName",void 0),C([n.i(r._7)(),R("design:type",r.i)],AbstractSparqlTabComponent.prototype,"savedStatus",void 0),AbstractSparqlTabComponent=C([n.i(r.c)({}),R("design:paramtypes",[d.a,c.a,l.a,p.a,v.a,b.a,i.a,o.c,m.a])],AbstractSparqlTabComponent)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v});var r=n(0),o=n(4),i=n(5),a=n(109),s=n(94),l=n(191),c=n(42),p=n(13),d=n(2),u=n(7),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function ExportResultAsRdfModalData(t,n){var r=e.call(this)||this;return r.query=t,r.inferred=n,r}return f(ExportResultAsRdfModalData,e),ExportResultAsRdfModalData}(o.d),v=function(){function ExportResultAsRdfModal(e,t,n,r,o,i){this.dialog=e,this.exportService=t,this.extensionServices=n,this.sparqlService=r,this.basicModals=o,this.sharedModals=i,this.applyFilter=!1,this.filtersChain=[],this.context=e.context}return ExportResultAsRdfModal.prototype.ngOnInit=function(){var e=this;this.exportService.getOutputFormats().subscribe(function(t){e.exportFormats=t;for(var n=0;n<e.exportFormats.length;n++)if("RDF/XML"==e.exportFormats[n].name)return void(e.selectedExportFormat=e.exportFormats[n])}),this.extensionServices.getExtensions(c.a.RDF_TRANSFORMERS_ID).subscribe(function(t){e.filters=t})},ExportResultAsRdfModal.prototype.ok=function(e){var t,n=this;if(this.applyFilter){for(var r=0;r<this.filtersChain.length;r++)if(this.requireConfiguration(this.filtersChain[r]))return void this.basicModals.alert("Missing filter configuration","An export filter ("+this.filtersChain[r].selectedFactory.id+") needs to be configured","warning");for(var o=[],r=0;r<this.filtersChain.length;r++)o.push(this.filtersChain[r].convertToFilteringPipelineStep());t=JSON.stringify(o)}u.a.startLoadingDiv(u.a.blockDivFullScreen),this.sparqlService.exportGraphQueryResultAsRdf(this.context.query,this.selectedExportFormat,this.context.inferred,t).subscribe(function(e){u.a.stopLoadingDiv(u.a.blockDivFullScreen);var t=window.URL.createObjectURL(e);n.basicModals.downloadLink("Export SPARQL results",null,t,"sparql_export."+n.selectedExportFormat.defaultFileExtension)}),e.stopPropagation(),this.dialog.close()},ExportResultAsRdfModal.prototype.cancel=function(){this.dialog.dismiss()},ExportResultAsRdfModal.prototype.selectFilterChainElement=function(e){this.selectedFilterChainElement==e?this.selectedFilterChainElement=null:this.selectedFilterChainElement=e},ExportResultAsRdfModal.prototype.isSelectedFilterFirst=function(){return this.selectedFilterChainElement==this.filtersChain[0]},ExportResultAsRdfModal.prototype.isSelectedFilterLast=function(){return this.selectedFilterChainElement==this.filtersChain[this.filtersChain.length-1]},ExportResultAsRdfModal.prototype.appendFilter=function(){this.filtersChain.push(new b(this.filters))},ExportResultAsRdfModal.prototype.removeFilter=function(){this.filtersChain.splice(this.filtersChain.indexOf(this.selectedFilterChainElement),1),this.selectedFilterChainElement=null},ExportResultAsRdfModal.prototype.moveFilterDown=function(){var e=this.filtersChain.indexOf(this.selectedFilterChainElement);this.filtersChain.splice(e,1),this.filtersChain.splice(e+1,0,this.selectedFilterChainElement)},ExportResultAsRdfModal.prototype.moveFilterUp=function(){var e=this.filtersChain.indexOf(this.selectedFilterChainElement);this.filtersChain.splice(e,1),this.filtersChain.splice(e-1,0,this.selectedFilterChainElement)},ExportResultAsRdfModal.prototype.onExtensionUpdated=function(e,t){e.selectedFactory=t},ExportResultAsRdfModal.prototype.onConfigurationUpdated=function(e,t){e.selectedConfiguration=t},ExportResultAsRdfModal.prototype.configureFilter=function(e){var t=e.selectedConfiguration;this.sharedModals.configurePlugin(t).then(function(t){e.selectedConfiguration=t;for(var n=e.selectedFactory.configurations,r=0;r<n.length;r++)n[r].shortName==e.selectedConfiguration.shortName&&(n[r]=e.selectedConfiguration)},function(){})},ExportResultAsRdfModal.prototype.requireConfiguration=function(e){var t=e.selectedConfiguration;return!(null==t||!t.requireConfiguration())},ExportResultAsRdfModal.prototype.retrievePluginConfigurations=function(e,t){for(var n=0;n<e.availableFactories.length;n++)if(e.availableFactories[n].id==t)return e.availableFactories[n].configurations},ExportResultAsRdfModal=h([n.i(r.c)({selector:"export-as-rdf-modal",template:n(1965)}),g("design:paramtypes",[i.g,a.a,s.a,l.a,d.a,p.a])],ExportResultAsRdfModal)}(),b=function(){function FilterChainElement(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());this.availableFactories=t}return FilterChainElement.prototype.convertToFilteringPipelineStep=function(){var e={filter:null},t={factoryId:this.selectedFactory.id,configuration:null},n=this.selectedConfiguration;return t.configuration=n.getPropertiesAsMap(),e.filter=t,e},FilterChainElement}()},function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return b});var r=n(0),o=n(5),i=n(4),a=n(1),s=(n.n(a),n(3)),l=n(231),c=n(108),p=n(10),d=n(2),u=n(25),f=n(13),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function QueryParameterizerModalData(t){var n=e.call(this)||this;return n.variableBindings=t,n}return h(QueryParameterizerModalData,e),QueryParameterizerModalData}(i.d),b=function(){function QueryParameterizerModal(e,t,n,r,o){this.dialog=e,this.datatypeService=t,this.basicModals=n,this.sharedModals=r,this.creationModals=o,this.bindings=[],this.bindingTypes=[{show:"Assignment",value:l.a.assignment},{show:"Constraint: role",value:l.a.constraint,specialization:"role"},{show:"Constraint: datatype",value:l.a.constraint,specialization:"datatype"}],this.roles=[{show:"Annotation Property",value:s.c.annotationProperty},{show:"Class",value:s.c.cls},{show:"Collection",value:s.c.skosCollection},{show:"Concept",value:s.c.concept},{show:"ConceptScheme",value:s.c.conceptScheme},{show:"Datatype Property",value:s.c.datatypeProperty},{show:"Individual",value:s.c.individual},{show:"Lexical Entry",value:s.c.ontolexLexicalEntry},{show:"Lexicon",value:s.c.limeLexicon},{show:"Object Property",value:s.c.objectProperty},{show:"Ontology Property",value:s.c.ontologyProperty},{show:"Property",value:s.c.property}],this.context=e.context}return QueryParameterizerModal.prototype.ngOnInit=function(){var e=this;if(this.context.variableBindings){var t=this.context.variableBindings,n=this;for(var r in t)!function(){var o,i,a,s=void 0,c=void 0;t[r].bindingType==l.a.constraint?null!=t[r].datatype?n.bindingTypes.forEach(function(e){e.value==l.a.constraint&&"datatype"==e.specialization&&(i=e)}):null!=t[r].resourceRole&&(n.bindingTypes.forEach(function(e){e.value==l.a.constraint&&"role"==e.specialization&&(i=e)}),s=t[r].resourceRole):(n.bindingTypes.forEach(function(e){e.value==l.a.assignment&&(i=e)}),c=t[r].value),o={varName:r,displayName:t[r].displayName,description:t[r].description,bindingType:i,datatype:a,resourceRole:s,value:c},"datatype"==o.bindingType.specialization?n.initDatatypes().subscribe(function(){a=e.datatypes[p.a.indexOfNode(e.datatypes,p.a.parseURI(t[r].datatype))],o.datatype=a,e.bindings.push(o)}):n.bindings.push(o)}()}else this.initDatatypes().subscribe()},QueryParameterizerModal.prototype.initDatatypes=function(){var e=this;return null==this.datatypes?this.datatypeService.getDatatypes().map(function(t){t.sort(function(e,t){return e.getShow().localeCompare(t.getShow())}),e.datatypes=t}):a.Observable.of()},QueryParameterizerModal.prototype.addBinding=function(){this.bindings.push({varName:null,bindingType:this.bindingTypes[0]})},QueryParameterizerModal.prototype.removeBinding=function(e){this.bindings.splice(this.bindings.indexOf(e),1)},QueryParameterizerModal.prototype.onBindingTypeChange=function(){this.initDatatypes().subscribe()},QueryParameterizerModal.prototype.setAssignemntValue=function(e,t){t==s.h.resource?this.sharedModals.pickResource("Select a resource").then(function(t){e.value=t.toNT()},function(){}):t==s.h.literal&&this.creationModals.newTypedLiteral("Create literal").then(function(t){e.value=t[0].toNT()},function(){})},QueryParameterizerModal.prototype.updateValue=function(e,t){e.value=null!=t?t.toNT():null},QueryParameterizerModal.prototype.ok=function(e){for(var t={},n=0;n<this.bindings.length;n++){var r=this.bindings[n];if(null==r.varName||""==r.varName.trim())return void this.basicModals.alert("Missing binding name","Missing binding name at position "+(n+1)+", please insert a name","warning");if(null!=t[r.varName])return void this.basicModals.alert("Duplicated binding name","Duplicated binding name '"+r.varName+"', please change the name or delete the binding","warning");if(t[r.varName]={bindingType:r.bindingType.value,displayName:r.displayName,description:r.description},r.bindingType.value==l.a.assignment){if(null==r.value)return void this.basicModals.alert("Incomplete binding","Incomplete parameterization for binding '"+r.varName+"', please set a value or delete the binding","warning");t[r.varName].value=r.value}else if(r.bindingType.value==l.a.constraint)if("role"==r.bindingType.specialization){if(null==r.resourceRole)return void this.basicModals.alert("Incomplete binding","Incomplete parameterization for binding '"+r.varName+"', please set a role or delete the binding","warning");t[r.varName].resourceRole=r.resourceRole}else if("datatype"==r.bindingType.specialization){if(null==r.datatype)return void this.basicModals.alert("Incomplete binding","Incomplete parameterization for binding '"+r.varName+"', please set a datatype or delete the binding","warning");t[r.varName].datatype=r.datatype.toNT()}}this.dialog.close(t)},QueryParameterizerModal.prototype.cancel=function(){this.dialog.dismiss()},QueryParameterizerModal=g([n.i(r.c)({selector:"query-parameterizer-modal",template:n(1967)}),m("design:paramtypes",[o.g,c.a,d.a,f.a,u.a])],QueryParameterizerModal)}();(function(){function BindingStruct(){}})(),function(){function BindingTypeStruct(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,o=n(0),i=n(93),a=n(13),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function SparqlComponent(e,t){this.sharedModals=e,this.configurationService=t,this.tabs=[]}return SparqlComponent.prototype.ngOnInit=function(){this.addQueryTab()},SparqlComponent.prototype.addQueryTab=function(){var e=this.getActiveTab();null!=e&&(e.active=!1),this.tabs.push({active:!0,name:"Unnamed Query",type:r.query,saved:!1})},SparqlComponent.prototype.addParameterizationTab=function(){var e=this.getActiveTab();null!=e&&(e.active=!1),this.tabs.push({active:!0,name:"Unnamed Parameterized Query",type:r.parameterization,saved:!1})},SparqlComponent.prototype.selectTab=function(e){this.getActiveTab().active=!1,e.active=!0},SparqlComponent.prototype.closeTab=function(e){var t=this.tabs.indexOf(e);e.active&&this.tabs.length>1&&(t==this.tabs.length-1?this.tabs[t-1].active=!0:this.tabs[t+1].active=!0),this.tabs.splice(t,1)},SparqlComponent.prototype.getActiveTab=function(){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].active)return this.tabs[e]},SparqlComponent=s([n.i(o.c)({selector:"sparql-component",template:n(1968),host:{class:"pageComponent"},styles:["\n        .addQueryBtn {\n            padding: 4px 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px 4px 0px 0px;\n            font-weight: bold;\n            color: rgb(51, 122, 183);\n            line-height: 1.42857143;\n            background-color: #eee;\n        }\n    "]}),l("design:paramtypes",[a.a,i.a])],SparqlComponent)}();!function(){function Tab(){}}();!function(e){e.query="query",e.parameterization="parameterization"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(3),i=(n(7),n(6)),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function AbstractNode(e){var t=this;this.nodeSelected=new r.i,this.nodeChecked=new r.i,this.eventSubscriptions=[],this.checked=!1,this.eventHandler=e,this.eventSubscriptions.push(e.resourceRenamedEvent.subscribe(function(e){return t.onResourceRenamed(e.oldResource,e.newResource)})),this.eventSubscriptions.push(e.resourceDeprecatedEvent.subscribe(function(e){return t.onResourceDeprecated(e)}))}return AbstractNode.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},AbstractNode.prototype.selectNode=function(){this.nodeSelected.emit(this.node)},AbstractNode.prototype.onNodeCheckChange=function(){this.nodeChecked.emit({node:this.node,checked:this.checked})},AbstractNode.prototype.onResourceRenamed=function(e,t){e.equals(this.node)&&(this.node.setURI(t.getURI()),this.node.setAdditionalProperty(o.a.QNAME,t.getAdditionalProperty(o.a.QNAME)),this.node.setShow(t.getShow()))},AbstractNode.prototype.onResourceDeprecated=function(e){if(e instanceof o.b&&e.equals(this.node)){var t=this.node.clone();t.setAdditionalProperty(o.a.DEPRECATED,!0),this.node=t,this.selectNode()}},a([n.i(r.r)(),s("design:type",o.b)],AbstractNode.prototype,"node",void 0),a([n.i(r.r)(),s("design:type",Boolean)],AbstractNode.prototype,"rendering",void 0),a([n.i(r.r)(),s("design:type",Boolean)],AbstractNode.prototype,"multiselection",void 0),a([n.i(r.r)(),s("design:type",Boolean)],AbstractNode.prototype,"showDeprecated",void 0),a([n.i(r.r)(),s("design:type",String)],AbstractNode.prototype,"context",void 0),a([n.i(r.r)(),s("design:type",i.b)],AbstractNode.prototype,"projectCtx",void 0),a([n.i(r._7)(),s("design:type",Object)],AbstractNode.prototype,"nodeSelected",void 0),a([n.i(r._7)(),s("design:type",Object)],AbstractNode.prototype,"nodeChecked",void 0),AbstractNode}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(91),i=n(3),a=n(17),s=n(7),l=n(6),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function AbstractPanel(e,t,n,o,i,a,s,l){var c=this;this.editable=!0,this.deletable=!0,this.readonly=!1,this.allowMultiselection=!1,this.nodeSelected=new r.i,this.nodeChecked=new r.i,this.multiselectionStatus=new r.i,this.advancedSearchEvent=new r.i,this.rendering=!0,this.multiselection=!1,this.showDeprecated=!0,this.eventSubscriptions=[],this.selectedNode=null,this.checkedNodes=[],this.cfService=e,this.resourceService=t,this.basicModals=n,this.graphModals=o,this.eventHandler=i,this.vbProp=a,this.actionResolver=s,this.multiEnrichment=l,this.eventSubscriptions.push(i.showDeprecatedChangedEvent.subscribe(function(e){return c.showDeprecated=e}))}return AbstractPanel.prototype.ngOnInit=function(){this.showDeprecated=this.vbProp.getShowDeprecated(),this.panelActions=this.actionResolver.getActionsForRole(this.panelRole)},AbstractPanel.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},AbstractPanel.prototype.isActionVisible=function(e){return"C"==e.editType||"D"==e.editType&&this.deletable},AbstractPanel.prototype.isActionDisabled=function(e){return this.readonly||!e.conditions.pre.selectionRequired&&!a.a.isAuthorized(e.id)||e.conditions.pre.selectionRequired&&(!this.selectedNode||e.conditions.pre.explicitRequired&&!this.selectedNode.getAdditionalProperty(i.a.EXPLICIT)||!a.a.isAuthorized(e.id,this.selectedNode))},AbstractPanel.prototype.toggleMultiselection=function(){this.multiselection=!this.multiselection,this.multiselectionStatus.emit(this.multiselection)},AbstractPanel.prototype.openDataGraph=function(){this.graphModals.openDataGraph(this.selectedNode,this.rendering)},AbstractPanel.prototype.openModelGraph=function(){this.graphModals.openModelGraph(null,this.rendering)},AbstractPanel.prototype.enrichMultiSubject=function(){this.multiEnrichment.enrichMultiSubject(this.checkedNodes)},AbstractPanel.prototype.isOpenGraphEnabled=function(e){return this.context==s.b.dataPanel&&(null==e?this.isOpenGraphEnabled(o.a.dataOriented)||this.isOpenGraphEnabled(o.a.modelOriented):e!=o.a.dataOriented||null!=this.selectedNode)},AbstractPanel.prototype.isOpenSettingsAvailable=function(){return null==this.projectCtx&&this.isContextDataPanel()},AbstractPanel.prototype.advancedSearch=function(e){this.advancedSearchEvent.emit(e)},AbstractPanel.prototype.onNodeSelected=function(e){this.selectedNode=e,this.nodeSelected.emit(e)},AbstractPanel.prototype.onNodeChecked=function(e){this.checkedNodes=e,this.nodeChecked.emit(e)},AbstractPanel.prototype.isContextDataPanel=function(){return this.context==s.b.dataPanel},c([n.i(r.r)(),p("design:type",Boolean)],AbstractPanel.prototype,"editable",void 0),c([n.i(r.r)(),p("design:type",Boolean)],AbstractPanel.prototype,"deletable",void 0),c([n.i(r.r)(),p("design:type",Boolean)],AbstractPanel.prototype,"readonly",void 0),c([n.i(r.r)(),p("design:type",Boolean)],AbstractPanel.prototype,"allowMultiselection",void 0),c([n.i(r.r)(),p("design:type",String)],AbstractPanel.prototype,"context",void 0),c([n.i(r.r)(),p("design:type",l.b)],AbstractPanel.prototype,"projectCtx",void 0),c([n.i(r._7)(),p("design:type",Object)],AbstractPanel.prototype,"nodeSelected",void 0),c([n.i(r._7)(),p("design:type",Object)],AbstractPanel.prototype,"nodeChecked",void 0),c([n.i(r._7)(),p("design:type",Object)],AbstractPanel.prototype,"multiselectionStatus",void 0),c([n.i(r._7)("advancedSearch"),p("design:type",r.i)],AbstractPanel.prototype,"advancedSearchEvent",void 0),AbstractPanel}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(3),i=n(10),a=(n(7),n(6)),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function AbstractStruct(e){var t=this;this.rendering=!0,this.multiselection=!1,this.showDeprecated=!0,this.nodeSelected=new r.i,this.nodeChecked=new r.i,this.eventSubscriptions=[],this.checkedNodes=[],this.eventHandler=e,this.eventSubscriptions.push(e.refreshDataBroadcastEvent.subscribe(function(){return t.init()})),this.eventSubscriptions.push(e.refreshTreeListEvent.subscribe(function(e){-1!=e.indexOf(t.structRole)&&t.init()}))}return AbstractStruct.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},AbstractStruct.prototype.onNodeSelected=function(e){void 0!=this.selectedNode&&this.selectedNode.deleteAdditionalProperty(o.a.SELECTED),this.selectedNode=e,this.selectedNode.setAdditionalProperty(o.a.SELECTED,!0),this.nodeSelected.emit(e)},AbstractStruct.prototype.onNodeChecked=function(e){if(e.checked)this.checkedNodes.push(e.node);else{var t=i.a.indexOfNode(this.checkedNodes,e.node);-1!=t&&this.checkedNodes.splice(t,1)}this.nodeChecked.emit(this.checkedNodes)},s([n.i(r.r)(),l("design:type",Boolean)],AbstractStruct.prototype,"rendering",void 0),s([n.i(r.r)(),l("design:type",Boolean)],AbstractStruct.prototype,"multiselection",void 0),s([n.i(r.r)(),l("design:type",Boolean)],AbstractStruct.prototype,"showDeprecated",void 0),s([n.i(r.r)(),l("design:type",String)],AbstractStruct.prototype,"context",void 0),s([n.i(r.r)(),l("design:type",a.b)],AbstractStruct.prototype,"projectCtx",void 0),s([n.i(r._7)(),l("design:type",Object)],AbstractStruct.prototype,"nodeSelected",void 0),s([n.i(r._7)(),l("design:type",Object)],AbstractStruct.prototype,"nodeChecked",void 0),s([n.i(r.F)("scrollableContainer"),l("design:type",r.e)],AbstractStruct.prototype,"scrollableElement",void 0),AbstractStruct}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(41),i=(n.n(o),n(3)),a=n(32),s=n(11),l=n(70),c=n(17),p=n(8),d=n(10),u=n(7),f=n(20),h=n(6),g=n(15),m=n(194),v=n(583),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function LexicalEntryListComponent(t,n){var o=e.call(this,n)||this;return o.ontolexService=t,o.requireSettings=new r.i,o.structRole=i.c.ontolexLexicalEntry,o.safeToGo={safe:!0},o.eventSubscriptions.push(n.lexicalEntryCreatedEvent.subscribe(function(e){e.lexicon.getURI()==o.lexicon.getURI()&&o.onListNodeCreated(e.entry)})),o.eventSubscriptions.push(n.lexicalEntryDeletedEvent.subscribe(function(e){return o.onListNodeDeleted(e)})),o}return b(LexicalEntryListComponent,e),LexicalEntryListComponent.prototype.ngOnInit=function(){c.a.isAuthorized(f.a.ontolexGetLexicalEntry)&&this.init()},LexicalEntryListComponent.prototype.ngOnChanges=function(e){(e.index&&!e.index.firstChange||e.lexicon&&!e.lexicon.firstChange)&&this.init()},LexicalEntryListComponent.prototype.initImpl=function(){var e=this,t=h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().lexEntryListPreferences.visualization;t==a.g.indexBased&&void 0!=this.index?this.checkInitializationSafe().subscribe(function(){e.safeToGo.safe&&(u.a.startLoadingDiv(e.blockDivElement.nativeElement),e.ontolexService.getLexicalEntriesByAlphabeticIndex(e.index,e.lexicon,p.b.getRequestOptions(e.projectCtx)).subscribe(function(t){d.a.sortResources(t,e.rendering?d.b.show:d.b.value),e.list=t,u.a.stopLoadingDiv(e.blockDivElement.nativeElement),e.pendingSearchRes&&e.openListAt(e.pendingSearchRes)}))}):a.g.searchBased},LexicalEntryListComponent.prototype.forceSafeness=function(){this.safeToGo={safe:!0},h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().lexEntryListPreferences.safeToGoMap[this.getInitRequestChecksum()]=this.safeToGo,this.initImpl()},LexicalEntryListComponent.prototype.checkInitializationSafe=function(){var e=this,t=h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().lexEntryListPreferences,n=t.safeToGoMap;this.safeToGoLimit=t.safeToGoLimit,this.unsafeIndexOneChar=1==t.indexLength;var r=this.getInitRequestChecksum(),i=n[r];return null!=i?(this.safeToGo=i,o.Observable.of(null)):(u.a.startLoadingDiv(this.blockDivElement.nativeElement),this.ontolexService.countLexicalEntriesByAlphabeticIndex(this.index,this.lexicon,p.b.getRequestOptions(this.projectCtx)).flatMap(function(t){return u.a.stopLoadingDiv(e.blockDivElement.nativeElement),i={safe:t<e.safeToGoLimit,count:t},n[r]=i,e.safeToGo=i,o.Observable.of(null)}))},LexicalEntryListComponent.prototype.getInitRequestChecksum=function(){return"lexicon:"+(null!=this.lexicon?this.lexicon.toNT():null)+"&index:"+this.index},LexicalEntryListComponent.prototype.forceList=function(e){this.safeToGo={safe:!0},this.setInitialStatus(),this.list=e},LexicalEntryListComponent.prototype.onListNodeCreated=function(e){(h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().lexEntryListPreferences.visualization=a.g.indexBased)&&e.getShow().toLocaleLowerCase().startsWith(this.index.toLocaleLowerCase())&&(this.list.unshift(e),this.context==u.b.addPropValue&&this.selectNode(e))},LexicalEntryListComponent.prototype.onListNodeDeleted=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].getURI()==e.getURI()){if(h.a.getWorkingProject().isValidationEnabled()){var n=this.list[t].clone();n.setGraphs([new i.b(s.a.stagingRemoveGraph+h.a.getWorkingProject().getBaseURI())]),n.setAdditionalProperty(i.a.EXPLICIT,!1),n.setAdditionalProperty(i.a.SELECTED,!1),this.list[t]=n}else this.list.splice(t,1);break}},LexicalEntryListComponent.prototype.selectNode=function(e){void 0!=this.selectedNode&&this.selectedNode.deleteAdditionalProperty(i.a.SELECTED),this.selectedNode=e,this.selectedNode.setAdditionalProperty(i.a.SELECTED,!0),this.nodeSelected.emit(e)},y([n.i(r._12)(v.a),x("design:type",r._13)],LexicalEntryListComponent.prototype,"viewChildrenNode",void 0),y([n.i(r.r)(),x("design:type",String)],LexicalEntryListComponent.prototype,"index",void 0),y([n.i(r.r)(),x("design:type",i.b)],LexicalEntryListComponent.prototype,"lexicon",void 0),y([n.i(r._7)(),x("design:type",Object)],LexicalEntryListComponent.prototype,"requireSettings",void 0),LexicalEntryListComponent=y([n.i(r.c)({selector:"lexical-entry-list",template:n(1972),host:{class:"treeListComponent"}}),x("design:paramtypes",[l.a,g.a])],LexicalEntryListComponent)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(15),i=n(195),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function LexicalEntryListNodeComponent(t){return e.call(this,t)||this}return a(LexicalEntryListNodeComponent,e),LexicalEntryListNodeComponent=s([n.i(r.c)({selector:"lexical-entry-list-node",template:n(1973)}),l("design:paramtypes",[o.a])],LexicalEntryListNodeComponent)}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(0),o=n(4),i=n(1),a=(n.n(i),n(68)),s=n(3),l=n(32),c=n(11),p=n(16),d=n(70),u=n(12),f=n(51),h=n(8),g=n(10),m=n(97),v=n(7),b=n(6),y=n(15),x=n(21),C=n(2),R=n(196),S=n(95),P=n(582),E=n(585),w=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),I=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_=function(e){function LexicalEntryListPanelComponent(t,n,o,i,a,l,c,p,d,u,f){var h=e.call(this,i,a,l,c,p,d,u,f)||this;return h.ontolexService=t,h.searchService=n,h.modal=o,h.hideSearch=!1,h.lexiconChangeable=!1,h.lexiconChanged=new r.i,h.indexChanged=new r.i,h.panelRole=s.c.ontolexLexicalEntry,h.alphabet=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],h.firstDigitIndex=h.alphabet[0],h.secondDigitIndex=h.alphabet[0],h.eventSubscriptions.push(p.lexiconChangedEvent.subscribe(function(e){e.project.getName()==b.a.getWorkingProjectCtx(h.projectCtx).getProject().getName()&&h.onLexiconChanged(e.lexicon)})),h.eventSubscriptions.push(p.lexicalEntryCreatedEvent.subscribe(function(e){return h.onLexicalEntryCreated(e.lexicon,e.entry)})),h}return w(LexicalEntryListPanelComponent,e),LexicalEntryListPanelComponent.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this);var n;n=void 0==this.lexicon?b.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().activeLexicon:this.lexicon,this.lexiconChangeable?this.ontolexService.getLexicons(h.b.getRequestOptions(this.projectCtx)).subscribe(function(e){t.lexiconList=e,t.workingLexicon=t.lexiconList[g.a.indexOfNode(t.lexiconList,n)],t.initLexiconLang()}):(this.workingLexicon=n,this.initLexiconLang()),this.visualizationMode=b.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().lexEntryListPreferences.visualization,this.indexLenght=b.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().lexEntryListPreferences.indexLength,this.onDigitChange()},LexicalEntryListPanelComponent.prototype.ngOnChanges=function(e){e.lexicon&&e.lexicon.currentValue&&(this.workingLexicon=this.lexicon)},LexicalEntryListPanelComponent.prototype.initLexiconLang=function(){var e=this;null!=this.workingLexicon&&this.ontolexService.getLexiconLanguage(this.workingLexicon,h.b.getRequestOptions(this.projectCtx)).subscribe(function(t){e.lexiconLang=t})},LexicalEntryListPanelComponent.prototype.getActionContext=function(){return{metaClass:c.f.lexicalEntry,loadingDivRef:this.viewChildList.blockDivElement,lexicon:{res:this.workingLexicon,lang:this.lexiconLang}}},LexicalEntryListPanelComponent.prototype.isActionDisabled=function(t){return e.prototype.isActionDisabled.call(this,t)||!this.workingLexicon},LexicalEntryListPanelComponent.prototype.doSearch=function(e){var t=this;this.lastSearch=e;var n,r,o=b.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings;o.restrictLang&&(n=o.languages,r=o.includeLocales),v.a.startLoadingDiv(this.viewChildList.blockDivElement.nativeElement),this.searchService.searchLexicalEntry(e,o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,[this.workingLexicon],n,r,h.b.getRequestOptions(this.projectCtx)).subscribe(function(n){if(v.a.stopLoadingDiv(t.viewChildList.blockDivElement.nativeElement),0==n.length)return void t.basicModals.alert("Search","No results found for '"+e+"'","warning");g.a.sortResources(n,t.rendering?g.b.show:g.b.value),t.visualizationMode==l.g.indexBased?1==n.length?t.selectSearchedResource(n[0]):t.basicModals.selectResource("Search",n.length+" results found.",n,t.rendering).then(function(e){t.selectSearchedResource(e)},function(){}):t.viewChildList.forceList(n)})},LexicalEntryListPanelComponent.prototype.selectAdvancedSearchedResource=function(e){var t=this;this.ontolexService.getLexicalEntryLexicons(e,h.b.getRequestOptions(this.projectCtx)).subscribe(function(n){if(g.a.containsNode(n,t.workingLexicon))t.selectSearchedResource(e);else{var r="Searched LexicalEntry '"+e.getShow()+"' is not reachable in the list since it belongs to the following";n.length>1?r+=" lexicon. If you want to activate one of these lexicons and continue the search, please select the lexicon you want to activate and press OK.":r+=" lexicon. If you want to activate the lexicon and continue the search, please select it and press OK.",t.basicModals.selectResource("Search",r,n,t.rendering).then(function(n){t.vbProp.setActiveLexicon(b.a.getWorkingProjectCtx(t.projectCtx),n),setTimeout(function(){t.selectSearchedResource(e)})},function(){})}})},LexicalEntryListPanelComponent.prototype.selectSearchedResource=function(e){var t=this;this.visualizationMode==l.g.indexBased?this.getSearchedEntryIndex(e).subscribe(function(n){t.firstDigitIndex=n.charAt(0),t.secondDigitIndex=n.charAt(1),t.onDigitChange(),setTimeout(function(){t.openAt(e)})}):(this.viewChildList.forceList([e]),setTimeout(function(){t.openAt(e)}))},LexicalEntryListPanelComponent.prototype.openAt=function(e){this.viewChildList.openListAt(e)},LexicalEntryListPanelComponent.prototype.getSearchedEntryIndex=function(e){return null!=e.getAdditionalProperty("index")?i.Observable.of(e.getAdditionalProperty("index").toLocaleUpperCase()):this.ontolexService.getLexicalEntryIndex(e,h.b.getRequestOptions(this.projectCtx)).map(function(e){return e.toLocaleUpperCase()})},LexicalEntryListPanelComponent.prototype.refresh=function(){this.visualizationMode==l.g.indexBased?this.viewChildList.init():this.visualizationMode==l.g.searchBased&&void 0!=this.lastSearch&&this.doSearch(this.lastSearch)},LexicalEntryListPanelComponent.prototype.onLexiconSelectionChange=function(){this.initLexiconLang(),this.lexiconChanged.emit(this.workingLexicon)},LexicalEntryListPanelComponent.prototype.getLexiconRendering=function(e){return g.a.getRendering(e,this.rendering)},LexicalEntryListPanelComponent.prototype.settings=function(){var e=this,t=new o.b,n={context:t.keyboard(27).toJSON()};return this.modal.open(E.a,n).result.then(function(t){var n=b.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().lexEntryListPreferences;e.visualizationMode=n.visualization,e.visualizationMode==l.g.searchBased?(e.viewChildList.forceList([]),e.lastSearch=null):(e.indexLenght=n.indexLength,e.onDigitChange())},function(){})},LexicalEntryListPanelComponent.prototype.onDigitChange=function(){this.index=1==this.indexLenght?this.firstDigitIndex:this.firstDigitIndex+this.secondDigitIndex,this.indexChanged.emit(this.index)},LexicalEntryListPanelComponent.prototype.onLexiconChanged=function(e){this.workingLexicon=e,this.initLexiconLang(),this.visualizationMode==l.g.searchBased&&null!=this.lastSearch&&(this.viewChildList.forceList([]),this.lastSearch=null)},LexicalEntryListPanelComponent.prototype.onLexicalEntryCreated=function(e,t){var n=this;this.visualizationMode==l.g.indexBased&&e.equals(this.workingLexicon)&&this.getSearchedEntryIndex(t).subscribe(function(e){n.firstDigitIndex=e.charAt(0),n.secondDigitIndex=e.charAt(1),n.onDigitChange()})},I([n.i(r.r)(),A("design:type",Boolean)],LexicalEntryListPanelComponent.prototype,"hideSearch",void 0),I([n.i(r.r)(),A("design:type",s.b)],LexicalEntryListPanelComponent.prototype,"lexicon",void 0),I([n.i(r.r)(),A("design:type",Boolean)],LexicalEntryListPanelComponent.prototype,"lexiconChangeable",void 0),I([n.i(r._7)(),A("design:type",Object)],LexicalEntryListPanelComponent.prototype,"lexiconChanged",void 0),I([n.i(r._7)(),A("design:type",Object)],LexicalEntryListPanelComponent.prototype,"indexChanged",void 0),I([n.i(r.F)(P.a),A("design:type",P.a)],LexicalEntryListPanelComponent.prototype,"viewChildList",void 0),LexicalEntryListPanelComponent=I([n.i(r.c)({selector:"lexical-entry-list-panel",template:n(1974),host:{class:"vbox"}}),A("design:paramtypes",[d.a,f.a,o.c,p.a,u.a,C.a,a.a,y.a,x.a,m.a,S.a])],LexicalEntryListPanelComponent)}(R.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(32),a=n(6),s=n(21),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function LexicalEntryListSettingsModal(e,t){this.dialog=e,this.vbProp=t,this.visualizationModes=[{label:"Index based",value:i.g.indexBased},{label:"Search based",value:i.g.searchBased}],this.lenghtChoices=[1,2],this.context=e.context}return LexicalEntryListSettingsModal.prototype.ngOnInit=function(){var e=a.a.getWorkingProjectCtx().getProjectPreferences().lexEntryListPreferences;this.pristineLexEntryPref=JSON.parse(JSON.stringify(e)),this.visualization=e.visualization,this.safeToGoLimit=e.safeToGoLimit,this.indexLenght=e.indexLength},LexicalEntryListSettingsModal.prototype.ok=function(e){this.pristineLexEntryPref.visualization!=this.visualization&&this.vbProp.setLexicalEntryListVisualization(this.visualization),this.visualization==i.g.indexBased&&(this.pristineLexEntryPref.safeToGoLimit!=this.safeToGoLimit&&this.vbProp.setLexicalEntryListSafeToGoLimit(this.safeToGoLimit),this.pristineLexEntryPref.indexLength!=this.indexLenght&&this.vbProp.setLexicalEntryListIndexLenght(this.indexLenght)),e.stopPropagation(),e.preventDefault(),this.dialog.close()},LexicalEntryListSettingsModal.prototype.cancel=function(){this.dialog.dismiss()},LexicalEntryListSettingsModal=l([n.i(r.c)({selector:"lex-entry-list-settings-modal",template:n(1975)}),c("design:paramtypes",[o.g,s.a])],LexicalEntryListSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(3),i=n(11),a=n(70),s=n(17),l=n(8),c=n(10),p=n(7),d=n(20),u=n(6),f=n(15),h=n(21),g=n(194),m=n(587),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function LexiconListComponent(t,n,r){var i=e.call(this,r)||this;return i.ontolexService=t,i.vbProp=n,i.structRole=o.c.limeLexicon,i.eventSubscriptions.push(r.lexiconCreatedEvent.subscribe(function(e){return i.onListNodeCreated(e)})),i.eventSubscriptions.push(r.lexiconDeletedEvent.subscribe(function(e){return i.onListNodeDeleted(e)})),i.eventSubscriptions.push(r.lexiconChangedEvent.subscribe(function(e){e.project.getName()==u.a.getWorkingProjectCtx(i.projectCtx).getProject().getName()&&(null!=e.lexicon?i.activeLexicon=i.list.find(function(t){return t.equals(e.lexicon)}):i.activeLexicon=null)})),i}return v(LexiconListComponent,e),LexiconListComponent.prototype.ngOnInit=function(){s.a.isAuthorized(d.a.ontolexGetLexicon)&&this.init()},LexiconListComponent.prototype.initImpl=function(){var e=this;p.a.startLoadingDiv(this.blockDivElement.nativeElement),this.ontolexService.getLexicons(l.b.getRequestOptions(this.projectCtx)).subscribe(function(t){c.a.sortResources(t,e.rendering?c.b.show:c.b.value);for(var n=0;n<t.length;n++){var r=u.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().activeLexicon;if(null!=r&&t[n].equals(r)){e.activeLexicon=t[n];break}}e.list=t,p.a.stopLoadingDiv(e.blockDivElement.nativeElement)})},LexiconListComponent.prototype.onListNodeCreated=function(e){this.list.unshift(e),this.context==p.b.addPropValue&&this.selectNode(e)},LexiconListComponent.prototype.onListNodeDeleted=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].getURI()==e.getURI()){if(u.a.getWorkingProject().isValidationEnabled()){var n=this.list[t].clone();n.setGraphs([new o.b(i.a.stagingRemoveGraph+u.a.getWorkingProject().getBaseURI())]),n.setAdditionalProperty(o.a.EXPLICIT,!1),n.setAdditionalProperty(o.a.SELECTED,!1),this.list[t]=n}else this.list.splice(t,1);break}},LexiconListComponent.prototype.selectNode=function(e){void 0!=this.selectedNode&&this.selectedNode.deleteAdditionalProperty(o.a.SELECTED),this.selectedNode=e,this.selectedNode.setAdditionalProperty(o.a.SELECTED,!0),this.nodeSelected.emit(e)},LexiconListComponent.prototype.toggleLexicon=function(e){this.activeLexicon==e?this.activeLexicon=null:this.activeLexicon=e,this.vbProp.setActiveLexicon(u.a.getWorkingProjectCtx(this.projectCtx),this.activeLexicon)},b([n.i(r._12)(m.a),y("design:type",r._13)],LexiconListComponent.prototype,"viewChildrenNode",void 0),LexiconListComponent=b([n.i(r.c)({selector:"lexicon-list",template:n(1977),host:{class:"treeListComponent"}}),y("design:paramtypes",[a.a,h.a,f.a])],LexiconListComponent)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(195),i=n(15),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function LexiconListNodeComponent(t){return e.call(this,t)||this}return a(LexiconListNodeComponent,e),LexiconListNodeComponent=s([n.i(r.c)({selector:"lexicon-list-node",template:n(1978)}),l("design:paramtypes",[i.a])],LexiconListNodeComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(68),i=n(3),a=n(11),s=n(16),l=n(12),c=n(51),p=n(8),d=n(10),u=n(97),f=n(6),h=n(15),g=n(21),m=n(2),v=n(196),b=n(95),y=n(586),x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(e){function LexiconListPanelComponent(t,n,r,o,a,s,l,c,p){var d=e.call(this,n,r,o,a,s,l,c,p)||this;return d.searchService=t,d.hideSearch=!1,d.panelRole=i.c.limeLexicon,d}return x(LexiconListPanelComponent,e),LexiconListPanelComponent.prototype.getActionContext=function(){return{metaClass:a.h.lexicon,loadingDivRef:this.viewChildList.blockDivElement}},LexiconListPanelComponent.prototype.doSearch=function(e){var t,n,r=this,o=f.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings;o.restrictLang&&(t=o.languages,n=o.includeLocales),this.searchService.searchResource(e,[i.c.limeLexicon],o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,t,n,null,null,p.b.getRequestOptions(this.projectCtx)).subscribe(function(t){0==t.length?r.basicModals.alert("Search","No results found for '"+e+"'","warning"):1==t.length?r.openAt(t[0]):(d.a.sortResources(t,r.rendering?d.b.show:d.b.value),r.basicModals.selectResource("Search",t.length+" results found.",t,r.rendering).then(function(e){r.openAt(e)},function(){}))})},LexiconListPanelComponent.prototype.openAt=function(e){this.viewChildList.openListAt(e)},LexiconListPanelComponent.prototype.refresh=function(){this.viewChildList.init()},C([n.i(r.r)(),R("design:type",Boolean)],LexiconListPanelComponent.prototype,"hideSearch",void 0),C([n.i(r.F)(y.a),R("design:type",y.a)],LexiconListPanelComponent.prototype,"viewChildList",void 0),LexiconListPanelComponent=C([n.i(r.c)({selector:"lexicon-list-panel",template:n(1979),host:{class:"vbox"}}),R("design:paramtypes",[c.a,s.a,l.a,m.a,o.a,h.a,g.a,u.a,b.a])],LexiconListPanelComponent)}(v.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(160),a=(n(7),n(6)),s=n(15),l=n(592),c=n(599),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function ClassIndividualTreePanelComponent(e,t){var n=this;this.individualService=e,this.eventHandler=t,this.allowMultiselection=!1,this.nodeSelected=new r.i,this.advancedSearchEvent=new r.i,this.selectedClass=null,this.eventSubscriptions=[],this.maxPanelSize=16,this.minPanelSize=1,this.classPanelFlex=6,this.instancePanelFlex=4,this.dragging=!1,this.eventSubscriptions.push(t.classDeletedEvent.subscribe(function(e){return n.onClassDeleted(e)})),this.eventSubscriptions.push(t.instanceDeletedEvent.subscribe(function(e){return n.onInstanceDeleted(e.instance)}))}return ClassIndividualTreePanelComponent.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},ClassIndividualTreePanelComponent.prototype.selectSearchedResource=function(e){var t=this;e.getRole()==o.c.cls?this.viewChildTree.openTreeAt(e):this.individualService.getNamedTypes(e).subscribe(function(n){t.viewChildTree.openTreeAt(n[0]),t.viewChildInstanceList.openAt(e)})},ClassIndividualTreePanelComponent.prototype.openClassTreeAt=function(e){e.getRole()==o.c.cls&&this.viewChildTree.openTreeAt(e)},ClassIndividualTreePanelComponent.prototype.onClassSelected=function(e){this.selectedClass=e,null!=this.selectedInstance&&(this.selectedInstance.setAdditionalProperty(o.a.SELECTED,!1),this.selectedInstance=null),this.nodeSelected.emit(e)},ClassIndividualTreePanelComponent.prototype.onInstanceSelected=function(e){this.selectedInstance=e,this.nodeSelected.emit(e)},ClassIndividualTreePanelComponent.prototype.onClassDeleted=function(e){this.selectedClass.equals(e)&&(this.selectedClass=null)},ClassIndividualTreePanelComponent.prototype.onInstanceDeleted=function(e){this.selectedInstance.equals(e)&&(this.selectedInstance=null)},ClassIndividualTreePanelComponent.prototype.onClassChangeRequest=function(e){this.openClassTreeAt(e)},ClassIndividualTreePanelComponent.prototype.advancedSearch=function(e){this.advancedSearchEvent.emit(e)},ClassIndividualTreePanelComponent.prototype.onMousedown=function(e){e.preventDefault(),this.dragging=!0,this.startMousedownY=e.clientY,this.onMousemove=this.draggingHandler},ClassIndividualTreePanelComponent.prototype.onMouseup=function(){this.dragging&&(this.onMousemove=function(e){},this.dragging=!1)},ClassIndividualTreePanelComponent.prototype.onMousemove=function(e){},ClassIndividualTreePanelComponent.prototype.draggingHandler=function(e){var t=e.clientY,n=this.startMousedownY-t,r=this.classPanelRef.nativeElement.offsetHeight,o=this.instancePanelRef.nativeElement.offsetHeight;this.classPanelFlex=(r-n)/(o+n)*this.instancePanelFlex,this.classPanelFlex>this.maxPanelSize?this.classPanelFlex=this.maxPanelSize:this.classPanelFlex<this.minPanelSize&&(this.classPanelFlex=this.minPanelSize),this.startMousedownY=e.clientY},p([n.i(r.r)(),d("design:type",Boolean)],ClassIndividualTreePanelComponent.prototype,"readonly",void 0),p([n.i(r.r)(),d("design:type",Boolean)],ClassIndividualTreePanelComponent.prototype,"editable",void 0),p([n.i(r.r)(),d("design:type",String)],ClassIndividualTreePanelComponent.prototype,"context",void 0),p([n.i(r.r)(),d("design:type",a.b)],ClassIndividualTreePanelComponent.prototype,"projectCtx",void 0),p([n.i(r.r)(),d("design:type",Boolean)],ClassIndividualTreePanelComponent.prototype,"allowMultiselection",void 0),p([n.i(r._7)(),d("design:type",Object)],ClassIndividualTreePanelComponent.prototype,"nodeSelected",void 0),p([n.i(r._7)("advancedSearch"),d("design:type",r.i)],ClassIndividualTreePanelComponent.prototype,"advancedSearchEvent",void 0),p([n.i(r.F)("clsPanel",{read:r.e}),d("design:type",r.e)],ClassIndividualTreePanelComponent.prototype,"classPanelRef",void 0),p([n.i(r.F)("instPanel",{read:r.e}),d("design:type",r.e)],ClassIndividualTreePanelComponent.prototype,"instancePanelRef",void 0),p([n.i(r.F)(l.a),d("design:type",l.a)],ClassIndividualTreePanelComponent.prototype,"viewChildTree",void 0),p([n.i(r.F)(c.a),d("design:type",c.a)],ClassIndividualTreePanelComponent.prototype,"viewChildInstanceList",void 0),ClassIndividualTreePanelComponent=p([n.i(r.c)({selector:"class-individual-tree-panel",template:n(1981),host:{class:"blockingDivHost vbox","(mousemove)":"onMousemove($event)","(mouseup)":"onMouseup()","(mouseleave)":"onMouseup()"}}),d("design:paramtypes",[i.a,s.a])],ClassIndividualTreePanelComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(3),i=n(106),a=n(51),s=n(17),l=n(8),c=n(10),p=n(7),d=n(20),u=n(6),f=n(15),h=n(2),g=n(13),m=n(241),v=n(591),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function ClassTreeComponent(t,n,r,i,a){var s=e.call(this,r,i,a)||this;return s.clsService=t,s.searchService=n,s.filterEnabled=!1,s.structRole=o.c.cls,s.viewInitialized=!1,s.eventSubscriptions.push(r.classDeletedEvent.subscribe(function(e){return s.onTreeNodeDeleted(e)})),s}return b(ClassTreeComponent,e),ClassTreeComponent.prototype.ngOnChanges=function(e){e.rootClasses&&this.init()},ClassTreeComponent.prototype.initImpl=function(){var e=this;if(s.a.isAuthorized(d.a.classesGetClassTaxonomy)){var t=this.rootClasses;void 0!=t&&0!=t.length||(t=[new o.b(u.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().classTreePreferences.rootClassUri)]),p.a.startLoadingDiv(this.blockDivElement.nativeElement),this.clsService.getClassesInfo(t,l.b.getRequestOptions(this.projectCtx)).subscribe(function(t){c.a.sortResources(t,e.rendering?c.b.show:c.b.value),e.roots=e.roots.concat(t),p.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){p.a.stopLoadingDiv(e.blockDivElement.nativeElement)})}},ClassTreeComponent.prototype.openTreeAt=function(e){var t,n=this;void 0==this.rootClasses||0==this.rootClasses.length?t=new o.b(u.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().classTreePreferences.rootClassUri):void 0!=this.rootClasses&&1==this.rootClasses.length&&(t=this.rootClasses[0]),this.searchService.getPathFromRoot(e,o.c.cls,null,null,null,null,null,t,l.b.getRequestOptions(this.projectCtx)).subscribe(function(t){if(0==t.length)return void n.onTreeNodeNotFound(e);n.openRoot(t)})},y([n.i(r.r)("roots"),x("design:type",Array)],ClassTreeComponent.prototype,"rootClasses",void 0),y([n.i(r.r)(),x("design:type",Boolean)],ClassTreeComponent.prototype,"filterEnabled",void 0),y([n.i(r._12)(v.a),x("design:type",r._13)],ClassTreeComponent.prototype,"viewChildrenNode",void 0),ClassTreeComponent=y([n.i(r.c)({selector:"class-tree",template:n(1982),host:{class:"treeListComponent"}}),x("design:paramtypes",[i.a,a.a,f.a,h.a,g.a])],ClassTreeComponent)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(3),i=n(11),a=n(106),s=n(8),l=n(10),c=n(7),p=n(6),d=n(15),u=n(2),f=n(13),h=n(242),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function ClassTreeNodeComponent(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.clsService=t,i.root=!1,i.filterEnabled=!1,i.showInstanceNumber=!1,i.eventSubscriptions.push(n.subClassCreatedEvent.subscribe(function(e){return i.onChildCreated(e.superClass,e.subClass)})),i.eventSubscriptions.push(n.superClassAddedEvent.subscribe(function(e){return i.onParentAdded(e.superClass,e.subClass)})),i.eventSubscriptions.push(n.superClassUpdatedEvent.subscribe(function(e){i.onParentRemoved(e.oldParent,e.child),i.onParentAdded(e.newParent,e.child)})),i.eventSubscriptions.push(n.classDeletedEvent.subscribe(function(e){return i.onTreeNodeDeleted(e)})),i.eventSubscriptions.push(n.superClassRemovedEvent.subscribe(function(e){return i.onParentRemoved(e.superClass,e.subClass)})),i.eventSubscriptions.push(n.instanceDeletedEvent.subscribe(function(e){return i.onInstanceDeleted(e.cls)})),i.eventSubscriptions.push(n.instanceCreatedEvent.subscribe(function(e){return i.onInstanceCreated(e.cls)})),i.eventSubscriptions.push(n.typeRemovedEvent.subscribe(function(e){return i.onInstanceDeleted(e.type)})),i.eventSubscriptions.push(n.typeAddedEvent.subscribe(function(e){return i.onInstanceCreated(e.type)})),i.eventSubscriptions.push(n.classFilterChangedEvent.subscribe(function(){return i.initShowExpandCollapseBtn()})),i}return g(ClassTreeNodeComponent,e),t=ClassTreeNodeComponent,ClassTreeNodeComponent.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.showInstanceNumber=p.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().classTreePreferences.showInstancesNumber&&(this.context==c.b.dataPanel||this.context==c.b.clsIndTree),this.node.getURI()!=i.c.thing.getURI()&&this.node.getURI()!=i.b.resource.getURI()||!this.root||"1"!=this.node.getAdditionalProperty(o.a.MORE)||this.expandNode().subscribe()},ClassTreeNodeComponent.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),t.filterEnabled&&this.initFilter()},ClassTreeNodeComponent.prototype.expandNodeImpl=function(){var e=this;return this.clsService.getSubClasses(this.node,this.showInstanceNumber,s.b.getRequestOptions(this.projectCtx)).map(function(t){l.a.sortResources(t,e.rendering?l.b.show:l.b.value),e.children=t,e.initFilter(),e.open=!0,0==e.children.length&&(e.open=!1,e.node.setAdditionalProperty(o.a.MORE,0))})},ClassTreeNodeComponent.prototype.initFilter=function(){var e=this,t=p.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().classTreePreferences;this.children.forEach(function(n){n.filtered=e.filterEnabled&&null!=t.filter.map[e.node.getURI()]&&-1!=t.filter.map[e.node.getURI()].indexOf(n.getURI())})},ClassTreeNodeComponent.prototype.initShowExpandCollapseBtn=function(){if(this.node.getAdditionalProperty(o.a.MORE))if(this.children.length>0){for(var e=p.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().classTreePreferences.filter,t=!1,n=0;n<this.children.length;n++){var r=null!=e.map[this.node.getURI()]&&-1!=e.map[this.node.getURI()].indexOf(this.children[n].getURI());if((this.showDeprecated||!this.children[n].isDeprecated())&&(!e.enabled||!r)){t=!0;break}}this.showExpandCollapseBtn=t}else this.showExpandCollapseBtn=!0;else this.showExpandCollapseBtn=!1},ClassTreeNodeComponent.prototype.onInstanceDeleted=function(e){if(this.node.getURI()==e.getURI()){var t=this.node.getAdditionalProperty(o.a.NUM_INST);this.node.setAdditionalProperty(o.a.NUM_INST,t-1)}},ClassTreeNodeComponent.prototype.onInstanceCreated=function(e){if(this.node.getURI()==e.getURI()){var t=this.node.getAdditionalProperty(o.a.NUM_INST);this.node.setAdditionalProperty(o.a.NUM_INST,t+1)}},m([n.i(r._12)(t),v("design:type",r._13)],ClassTreeNodeComponent.prototype,"viewChildrenNode",void 0),m([n.i(r.r)(),v("design:type",Boolean)],ClassTreeNodeComponent.prototype,"root",void 0),m([n.i(r.r)(),v("design:type",Boolean)],ClassTreeNodeComponent.prototype,"filterEnabled",void 0),ClassTreeNodeComponent=t=m([n.i(r.c)({selector:"class-tree-node",template:n(1983)}),v("design:paramtypes",[a.a,d.a,u.a,f.a])],ClassTreeNodeComponent);var t}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n(0),o=n(4),i=n(91),a=n(68),s=n(3),l=n(11),c=n(16),p=n(12),d=n(51),u=n(10),f=n(97),h=n(7),g=n(6),m=n(15),v=n(21),b=n(2),y=n(243),x=n(95),C=n(590),R=n(593),S=n(8),P=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),E=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},I=function(e){function ClassTreePanelComponent(t,n,r,o,i,a,c,p,d,u){var f=e.call(this,r,o,i,a,c,p,d,u)||this;return f.searchService=t,f.modal=n,f.hideSearch=!1,f.panelRole=s.c.cls,f.rendering=!1,f.creatingClassType=l.c.class,f}return P(ClassTreePanelComponent,e),ClassTreePanelComponent.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.filterEnabled=g.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().classTreePreferences.filter.enabled,g.a.getWorkingProjectCtx(this.projectCtx).getProject().getModelType()==l.b.uri&&(this.creatingClassType=l.b.class)},ClassTreePanelComponent.prototype.getActionContext=function(){return{metaClass:this.creatingClassType,loadingDivRef:this.viewChildTree.blockDivElement}},ClassTreePanelComponent.prototype.refresh=function(){this.viewChildTree.init()},ClassTreePanelComponent.prototype.doSearch=function(e){var t,n,r=this,o=g.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings;o.restrictLang&&(t=o.languages,n=o.includeLocales),h.a.startLoadingDiv(this.viewChildTree.blockDivElement.nativeElement),this.searchService.searchResource(e,[s.c.cls],o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,t,n,null,null,S.b.getRequestOptions(this.projectCtx)).subscribe(function(t){h.a.stopLoadingDiv(r.viewChildTree.blockDivElement.nativeElement),0==t.length?r.basicModals.alert("Search","No results found for '"+e+"'","warning"):1==t.length?r.openTreeAt(t[0]):(u.a.sortResources(t,r.rendering?u.b.show:u.b.value),r.basicModals.selectResource("Search",t.length+" results found.",t,r.rendering).then(function(e){r.openTreeAt(e)},function(){}))})},ClassTreePanelComponent.prototype.openTreeAt=function(e){this.viewChildTree.openTreeAt(e)},ClassTreePanelComponent.prototype.isOpenIncrementalModelGraphEnabled=function(){return this.isOpenGraphEnabled(i.a.modelOriented)&&null!=this.selectedNode&&this.selectedNode.getAdditionalProperty(s.a.EXPLICIT)},ClassTreePanelComponent.prototype.openIncrementalGraph=function(){this.graphModals.openModelGraph(this.selectedNode,this.rendering)},ClassTreePanelComponent.prototype.openUmlGraph=function(){this.graphModals.openUmlGraph(this.rendering)},ClassTreePanelComponent.prototype.settings=function(){var e=this,t=new o.b,n={context:t.keyboard(27).toJSON()};return this.modal.open(R.a,n).result.then(function(t){e.filterEnabled=g.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().classTreePreferences.filter.enabled,e.refresh()},function(){e.filterEnabled=g.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().classTreePreferences.filter.enabled})},E([n.i(r.r)(),w("design:type",Boolean)],ClassTreePanelComponent.prototype,"hideSearch",void 0),E([n.i(r.r)(),w("design:type",Array)],ClassTreePanelComponent.prototype,"roots",void 0),E([n.i(r.F)(C.a),w("design:type",C.a)],ClassTreePanelComponent.prototype,"viewChildTree",void 0),ClassTreePanelComponent=E([n.i(r.c)({selector:"class-tree-panel",template:n(1984),host:{class:"vbox"}}),w("design:paramtypes",[d.a,o.c,c.a,p.a,b.a,a.a,m.a,v.a,f.a,x.a])],ClassTreePanelComponent)}(y.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(5),i=n(3),a=n(11),s=n(106),l=n(12),c=n(96),p=n(10),d=n(6),u=n(21),f=n(2),h=n(14),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function ClassTreeSettingsModal(e,t,n,r,o,i){this.dialog=e,this.clsService=t,this.resourceService=n,this.vbProp=r,this.basicModals=o,this.browsingModals=i,this.filterMapRes=[],this.renderingClasses=!1,this.renderingFilter=!1,this.context=e.context}return ClassTreeSettingsModal.prototype.ngOnInit=function(){var e=this,t=d.a.getWorkingProjectCtx().getProjectPreferences().classTreePreferences;this.pristineClassPref=JSON.parse(JSON.stringify(t)),this.resourceService.getResourceDescription(new i.b(t.rootClassUri)).subscribe(function(t){e.rootClass=t}),this.filterEnabled=t.filter.enabled;var n=[];for(var r in t.filter.map)n.push(new i.b(r));n.length>0&&this.resourceService.getResourcesInfo(n).subscribe(function(t){t.forEach(function(t){e.filterMapRes.push({cls:t,subClasses:null})})}),this.showInstNumb=t.showInstancesNumber},ClassTreeSettingsModal.prototype.changeClass=function(){var e=this;this.browsingModals.browseClassTree("Select root class",[a.b.resource]).then(function(t){if("false"!=c.a.getCookie(c.a.WARNING_CUSTOM_ROOT,d.a.getLoggedUser().getIri())){if(d.a.getWorkingProject().getModelType()==a.b.uri&&t.getURI()!=a.b.resource.getURI()||t.getURI()!=a.b.resource.getURI()&&t.getURI()!=a.c.thing.getURI()){e.basicModals.alertCheckWarning("Warning","Selecting a specific class as a root could hide newly created classes that are not subclasses of the chosen root.",c.a.WARNING_CUSTOM_ROOT)}}e.rootClass=t},function(){})},ClassTreeSettingsModal.prototype.updateRootClass=function(e){var t=this,n=new i.b(e,null,i.c.cls);this.resourceService.getResourcePosition(n).subscribe(function(e){if(e.isLocal())t.rootClass=n;else{t.basicModals.alert("Error","Wrong URI: no resource with URI "+n.getNominalValue()+" exists in the current project","error");var r=t.rootClass;t.rootClass=null,setTimeout(function(){return t.rootClass=r})}})},ClassTreeSettingsModal.prototype.selectFilteredClass=function(e){var t=this;this.selectedFilteredClass=e;var n=this.getFilterMapEntry(this.selectedFilteredClass);null==n.subClasses&&this.clsService.getSubClasses(this.selectedFilteredClass,!1).subscribe(function(e){p.a.sortResources(e,p.b.show);var r=d.a.getWorkingProjectCtx().getProjectPreferences().classTreePreferences,o=r.filter.map[t.selectedFilteredClass.getURI()];n.subClasses=[],e.forEach(function(e){null!=o?n.subClasses.push({checked:-1==o.indexOf(e.getURI()),disabled:e.getURI()==a.c.thing.getURI(),resource:e}):n.subClasses.push({checked:!0,disabled:e.getURI()==a.c.thing.getURI(),resource:e})})})},ClassTreeSettingsModal.prototype.getFilterSubClasses=function(){return null!=this.selectedFilteredClass?this.getFilterMapEntry(this.selectedFilteredClass).subClasses:[]},ClassTreeSettingsModal.prototype.addFilter=function(){var e=this;this.browsingModals.browseClassTree("Select class",[a.b.resource]).then(function(t){null==e.getFilterMapEntry(t)?e.filterMapRes.push({cls:t,subClasses:null}):e.basicModals.alert("Error","A filter for class "+t.getShow()+" already exists.","warning")},function(){})},ClassTreeSettingsModal.prototype.removeFilter=function(){for(var e=0;e<this.filterMapRes.length;e++)if(this.filterMapRes[e].cls.getURI()==this.selectedFilteredClass.getURI())return this.selectedFilteredClass=null,void this.filterMapRes.splice(e,1)},ClassTreeSettingsModal.prototype.checkAllClasses=function(e){this.getFilterMapEntry(this.selectedFilteredClass).subClasses.forEach(function(t){t.disabled||(t.checked=e)})},ClassTreeSettingsModal.prototype.getFilterMapEntry=function(e){for(var t=0;t<this.filterMapRes.length;t++)if(this.filterMapRes[t].cls.getURI()==e.getURI())return this.filterMapRes[t];return null},ClassTreeSettingsModal.prototype.ok=function(e){var t={};this.filterMapRes.forEach(function(e){var n=[];if(null==e.subClasses)n=d.a.getWorkingProjectCtx().getProjectPreferences().classTreePreferences.filter.map[e.cls.getURI()];else for(var r=0;r<e.subClasses.length;r++)e.subClasses[r].checked||n.push(e.subClasses[r].resource.getURI());t[e.cls.getURI()]=n}),JSON.stringify(this.pristineClassPref.filter.map)==JSON.stringify(t)&&this.pristineClassPref.filter.enabled==this.filterEnabled||this.vbProp.setClassTreeFilter({map:t,enabled:this.filterEnabled}),this.pristineClassPref.rootClassUri!=this.rootClass.getURI()&&this.vbProp.setClassTreeRoot(this.rootClass.getURI()),this.pristineClassPref.showInstancesNumber!=this.showInstNumb&&this.vbProp.setShowInstancesNumber(this.showInstNumb),this.pristineClassPref.rootClassUri!=this.rootClass.getURI()?(e.stopPropagation(),e.preventDefault(),this.dialog.close()):this.cancel()},ClassTreeSettingsModal.prototype.cancel=function(){this.dialog.dismiss()},ClassTreeSettingsModal=g([n.i(r.c)({selector:"class-tree-settings-modal",template:n(1985)}),m("design:paramtypes",[o.g,s.a,l.a,u.a,f.a,h.a])],ClassTreeSettingsModal)}();(function(){function FilterMapEntry(){}})(),function(){function SubClassFilterItem(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(3),i=n(11),a=n(108),s=n(17),l=n(8),c=n(10),p=n(7),d=n(20),u=n(6),f=n(15),h=n(194),g=n(595),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function DatatypeListComponent(t,n){var r=e.call(this,n)||this;return r.datatypeService=t,r.full=!1,r.structRole=o.c.dataRange,r.eventSubscriptions.push(n.datatypeCreatedEvent.subscribe(function(e){return r.onListNodeCreated(e)})),r.eventSubscriptions.push(n.datatypeDeletedEvent.subscribe(function(e){return r.onListNodeDeleted(e)})),r}return m(DatatypeListComponent,e),DatatypeListComponent.prototype.ngOnInit=function(){s.a.isAuthorized(d.a.datatypesGetDatatype)&&this.init()},DatatypeListComponent.prototype.initImpl=function(){var e=this;p.a.startLoadingDiv(this.blockDivElement.nativeElement),this.full?this.datatypeService.getDatatypes(l.b.getRequestOptions(this.projectCtx)).subscribe(function(t){e.getDatatyepsRespHandler(t)}):this.datatypeService.getDeclaredDatatypes(l.b.getRequestOptions(this.projectCtx)).subscribe(function(t){e.getDatatyepsRespHandler(t)})},DatatypeListComponent.prototype.getDatatyepsRespHandler=function(e){c.a.sortResources(e,this.rendering?c.b.show:c.b.value),this.list=e,p.a.stopLoadingDiv(this.blockDivElement.nativeElement)},DatatypeListComponent.prototype.onListNodeCreated=function(e){this.list.unshift(e),this.context==p.b.addPropValue&&this.selectNode(e)},DatatypeListComponent.prototype.onListNodeDeleted=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].getURI()==e.getURI()){if(u.a.getWorkingProject().isValidationEnabled()){var n=this.list[t].clone();n.setGraphs([new o.b(i.a.stagingRemoveGraph+u.a.getWorkingProject().getBaseURI())]),n.setAdditionalProperty(o.a.EXPLICIT,!1),n.setAdditionalProperty(o.a.SELECTED,!1),this.list[t]=n}else this.list.splice(t,1);break}this.selectedNode=null},DatatypeListComponent.prototype.selectNode=function(e){void 0!=this.selectedNode&&this.selectedNode.deleteAdditionalProperty(o.a.SELECTED),this.selectedNode=e,this.selectedNode.setAdditionalProperty(o.a.SELECTED,!0),this.nodeSelected.emit(e)},v([n.i(r.r)(),b("design:type",Boolean)],DatatypeListComponent.prototype,"full",void 0),v([n.i(r._12)(g.a),b("design:type",r._13)],DatatypeListComponent.prototype,"viewChildrenNode",void 0),DatatypeListComponent=v([n.i(r.c)({selector:"datatype-list",template:n(1986),host:{class:"treeListComponent"}}),b("design:paramtypes",[a.a,f.a])],DatatypeListComponent)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(15),i=n(195),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function DatatypeListNodeComponent(t){return e.call(this,t)||this}return a(DatatypeListNodeComponent,e),DatatypeListNodeComponent=s([n.i(r.c)({selector:"datatype-list-node",template:n(1987)}),l("design:paramtypes",[o.a])],DatatypeListNodeComponent)}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(68),i=n(3),a=n(11),s=n(16),l=n(12),c=n(51),p=n(10),d=n(97),u=n(6),f=n(15),h=n(21),g=n(2),m=n(196),v=n(95),b=n(594),y=n(8),x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(e){function DatatypeListPanelComponent(t,n,r,o,a,s,l,c,p){var d=e.call(this,n,r,o,a,s,l,c,p)||this;return d.searchService=t,d.full=!1,d.panelRole=i.c.dataRange,d}return x(DatatypeListPanelComponent,e),DatatypeListPanelComponent.prototype.getActionContext=function(){return{metaClass:a.b.datatype,loadingDivRef:this.viewChildList.blockDivElement}},DatatypeListPanelComponent.prototype.refresh=function(){this.viewChildList.init()},DatatypeListPanelComponent.prototype.doSearch=function(e){var t,n,r=this,o=u.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings;o.restrictLang&&(t=o.languages,n=o.includeLocales),this.searchService.searchResource(e,[i.c.dataRange],o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,t,n,null,null,y.b.getRequestOptions(this.projectCtx)).subscribe(function(t){0==t.length?r.basicModals.alert("Search","No results found for '"+e+"'","warning"):1==t.length?r.openAt(t[0]):(p.a.sortResources(t,r.rendering?p.b.show:p.b.value),r.basicModals.selectResource("Search",t.length+" results found.",t,r.rendering).then(function(e){r.openAt(e)},function(){}))})},DatatypeListPanelComponent.prototype.openAt=function(e){this.viewChildList.openListAt(e)},C([n.i(r.r)(),R("design:type",Boolean)],DatatypeListPanelComponent.prototype,"full",void 0),C([n.i(r.F)(b.a),R("design:type",b.a)],DatatypeListPanelComponent.prototype,"viewChildList",void 0),DatatypeListPanelComponent=C([n.i(r.c)({selector:"datatype-list-panel",template:n(1988),host:{class:"vbox"}}),R("design:paramtypes",[c.a,s.a,l.a,g.a,o.a,f.a,h.a,d.a,v.a])],DatatypeListPanelComponent)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(41),i=(n.n(o),n(3)),a=n(32),s=n(11),l=n(106),c=n(17),p=n(8),d=n(10),u=n(7),f=n(20),h=n(6),g=n(15),m=n(21),v=n(2),b=n(194),y=n(598),x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(e){function InstanceListComponent(t,n,r,o){var a=e.call(this,o)||this;return a.clsService=t,a.vbProp=n,a.basicModals=r,a.instanceLimit=1e4,a.structRole=i.c.individual,a.list=[],a.eventSubscriptions.push(o.instanceDeletedEvent.subscribe(function(e){null!=a.cls&&e.cls.equals(a.cls)&&a.onListNodeDeleted(e.instance)})),a.eventSubscriptions.push(o.instanceCreatedEvent.subscribe(function(e){null!=a.cls&&e.cls.equals(a.cls)&&a.onListNodeCreated(e.instance)})),a.eventSubscriptions.push(o.typeRemovedEvent.subscribe(function(e){return a.onTypeRemoved(e.resource,e.type)})),a}return x(InstanceListComponent,e),InstanceListComponent.prototype.ngOnChanges=function(e){e.cls&&this.init()},InstanceListComponent.prototype.initImpl=function(){var e=this;if(c.a.isAuthorized(f.a.classesGetInstances)){var t=h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().instanceListPreferences.visualization;null!=this.cls?t==a.h.standard?this.getNumberOfInstances(this.cls).subscribe(function(t){if(t>e.instanceLimit){var n=[{value:"Continue anyway",description:null},{value:"Switch visualization of instance list to search-based mode",description:"Visualization mode can be changed also from the instance panel settings"}];e.basicModals.select("Too much instances","Warning: the selected class ("+e.cls.getShow()+") has too many instances ("+t+"). Retrieving them all could be a very long process, you might experience performance decrease. What do you want to do?",n,"warning").then(function(t){t==n[0]?e.initStandardModeInstanceList():(e.vbProp.setInstanceListVisualization(a.h.searchBased),e.initImpl())},function(){})}else e.initStandardModeInstanceList()}):this.resumePendingSearch():setTimeout(function(){e.setInitialStatus()})}},InstanceListComponent.prototype.initStandardModeInstanceList=function(){var e=this;u.a.startLoadingDiv(this.blockDivElement.nativeElement),this.clsService.getInstances(this.cls,p.b.getRequestOptions(this.projectCtx)).subscribe(function(t){u.a.stopLoadingDiv(e.blockDivElement.nativeElement),d.a.sortResources(t,e.rendering?d.b.show:d.b.value),e.list=t,e.resumePendingSearch()})},InstanceListComponent.prototype.resumePendingSearch=function(){var e=this;this.pendingSearchRes&&(this.pendingSearchCls&&this.pendingSearchCls.equals(this.cls)||!this.pendingSearchCls)&&(h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().instanceListPreferences.visualization==a.h.standard?this.openListAt(this.pendingSearchRes):(this.forceList([this.pendingSearchRes]),setTimeout(function(){e.openListAt(e.pendingSearchRes)})))},InstanceListComponent.prototype.selectNode=function(e){void 0!=this.selectedNode&&this.selectedNode.deleteAdditionalProperty(i.a.SELECTED),this.selectedNode=e,this.selectedNode.setAdditionalProperty(i.a.SELECTED,!0),this.nodeSelected.emit(e)},InstanceListComponent.prototype.getNumberOfInstances=function(e){return h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().classTreePreferences.showInstancesNumber?o.Observable.of(this.cls.getAdditionalProperty(i.a.NUM_INST)):this.clsService.getNumberOfInstances(e,p.b.getRequestOptions(this.projectCtx))},InstanceListComponent.prototype.forceList=function(e){this.setInitialStatus(),this.list=e},InstanceListComponent.prototype.onListNodeDeleted=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].equals(e)){if(h.a.getWorkingProject().isValidationEnabled()){var n=this.list[t].clone();n.setGraphs([new i.b(s.a.stagingRemoveGraph+h.a.getWorkingProject().getBaseURI())]),n.setAdditionalProperty(i.a.EXPLICIT,!1),n.setAdditionalProperty(i.a.SELECTED,!1),this.list[t]=n}else this.list.splice(t,1);break}},InstanceListComponent.prototype.onListNodeCreated=function(e){this.list.unshift(e),this.context==u.b.addPropValue&&this.selectNode(e)},InstanceListComponent.prototype.onTypeRemoved=function(e,t){if(this.cls&&this.cls.equals(t))for(var n=0;n<this.list.length;n++)if(this.list[n].equals(e)){this.list.splice(n,1);break}},C([n.i(r.r)(),R("design:type",i.b)],InstanceListComponent.prototype,"cls",void 0),C([n.i(r._12)(y.a),R("design:type",r._13)],InstanceListComponent.prototype,"viewChildrenNode",void 0),InstanceListComponent=C([n.i(r.c)({selector:"instance-list",template:n(1989),host:{class:"treeListComponent"}}),R("design:paramtypes",[l.a,m.a,v.a,g.a])],InstanceListComponent)}(b.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(15),i=n(195),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function InstanceListNodeComponent(t){return e.call(this,t)||this}return a(InstanceListNodeComponent,e),InstanceListNodeComponent=s([n.i(r.c)({selector:"instance-list-node",template:n(1990)}),l("design:paramtypes",[o.a])],InstanceListNodeComponent)}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(68)),l=n(3),c=n(32),p=n(16),d=n(160),u=n(12),f=n(51),h=n(8),g=n(10),m=n(97),v=n(7),b=n(6),y=n(15),x=n(21),C=n(2),R=n(196),S=n(95),P=n(597),E=n(600),w=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),I=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_=function(e){function InstanceListPanelComponent(t,n,o,i,a,s,c,p,d,u,f){var h=e.call(this,i,a,s,c,p,d,u,f)||this;return h.searchService=t,h.individualService=n,h.modal=o,h.hideSearch=!1,h.classChange=new r.i,h.panelRole=l.c.individual,h.rendering=!1,h}return w(InstanceListPanelComponent,e),InstanceListPanelComponent.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.visualizationMode=b.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().instanceListPreferences.visualization},InstanceListPanelComponent.prototype.getActionContext=function(){return{metaClass:this.cls,loadingDivRef:this.viewChildList.blockDivElement}},InstanceListPanelComponent.prototype.isActionDisabled=function(t){return e.prototype.isActionDisabled.call(this,t)||!this.cls},InstanceListPanelComponent.prototype.refresh=function(){this.visualizationMode==c.h.standard?this.viewChildList.init():this.visualizationMode==c.h.searchBased&&void 0!=this.lastSearch&&this.doSearch(this.lastSearch)},InstanceListPanelComponent.prototype.doSearch=function(e){var t=this;this.lastSearch=e;var n,r,o=b.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings;o.restrictLang&&(n=o.languages,r=o.includeLocales);var i;i=this.extendSearchToAllIndividuals()?this.searchService.searchResource(e,[l.c.individual],o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,n,r,null,null,h.b.getRequestOptions(this.projectCtx)):this.searchService.searchInstancesOfClass(this.cls,e,o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,n,r,h.b.getRequestOptions(this.projectCtx)),v.a.startLoadingDiv(this.viewChildList.blockDivElement.nativeElement),i.subscribe(function(n){if(v.a.stopLoadingDiv(t.viewChildList.blockDivElement.nativeElement),0==n.length)return void t.basicModals.alert("Search","No results found for '"+e+"'","warning");g.a.sortResources(n,t.rendering?g.b.show:g.b.value),t.visualizationMode==c.h.standard?1==n.length?t.selectSearchedResource(n[0]):t.basicModals.selectResource("Search",n.length+" results found.",n,t.rendering).then(function(e){t.selectSearchedResource(e)},function(){}):t.viewChildList.forceList(n)})},InstanceListPanelComponent.prototype.selectSearchedResource=function(e){var t=this;this.extendSearchToAllIndividuals()?this.individualService.getNamedTypes(e).subscribe(function(n){t.getClassOfIndividual(e,n).subscribe(function(r){null!=r&&(r.equals(t.cls)?t.viewChildList.openListAt(e):(t.classChange.emit(n[0]),t.viewChildList.openListAt(e)))})}):this.viewChildList.openListAt(e)},InstanceListPanelComponent.prototype.getClassOfIndividual=function(e,t){var n=this;return t.some(function(e){return e.equals(n.cls)})?a.Observable.of(this.cls):1==t.length?a.Observable.fromPromise(this.basicModals.confirm("Search","Searched instance "+e.getShow()+" belong to a different class "+t[0].getShow()+". Do you want to switch class?").then(function(){return t[0]},function(){return null})):a.Observable.fromPromise(this.basicModals.selectResource("Search","Searched instance "+e.getShow()+" belong to the following classes. If you want to complete the search, select one of them and confirm",t,this.rendering).then(function(e){return e},function(){return null}))},InstanceListPanelComponent.prototype.extendSearchToAllIndividuals=function(){return b.a.getWorkingProjectCtx().getProjectPreferences().searchSettings.extendToAllIndividuals&&this.context==v.b.dataPanel},InstanceListPanelComponent.prototype.settings=function(){var e=this,t=new i.b,n={context:t.keyboard(27).toJSON()};return this.modal.open(E.a,n).result.then(function(t){var n=b.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().instanceListPreferences;e.visualizationMode=n.visualization,e.visualizationMode==c.h.searchBased?(e.viewChildList.forceList([]),e.lastSearch=null):e.refresh()},function(){})},InstanceListPanelComponent.prototype.openAt=function(e){this.viewChildList.openListAt(e)},I([n.i(r.r)(),A("design:type",Boolean)],InstanceListPanelComponent.prototype,"hideSearch",void 0),I([n.i(r.r)(),A("design:type",l.b)],InstanceListPanelComponent.prototype,"cls",void 0),I([n.i(r._7)(),A("design:type",r.i)],InstanceListPanelComponent.prototype,"classChange",void 0),I([n.i(r.F)(P.a),A("design:type",P.a)],InstanceListPanelComponent.prototype,"viewChildList",void 0),InstanceListPanelComponent=I([n.i(r.c)({selector:"instance-list-panel",template:n(1991),host:{class:"vbox"}}),A("design:paramtypes",[f.a,d.a,o.l,p.a,u.a,C.a,s.a,y.a,x.a,m.a,S.a])],InstanceListPanelComponent)}(R.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(32),a=n(6),s=n(21),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function InstanceListSettingsModal(e,t){this.dialog=e,this.vbProp=t,this.visualizationModes=[{label:"Standard",value:i.h.standard},{label:"Search based",value:i.h.searchBased}],this.context=e.context}return InstanceListSettingsModal.prototype.ngOnInit=function(){var e=a.a.getWorkingProjectCtx().getProjectPreferences().instanceListPreferences;this.pristineInstancePref=JSON.parse(JSON.stringify(e)),this.visualization=e.visualization},InstanceListSettingsModal.prototype.ok=function(e){this.pristineInstancePref.visualization!=this.visualization&&this.vbProp.setInstanceListVisualization(this.visualization),e.stopPropagation(),e.preventDefault(),this.dialog.close()},InstanceListSettingsModal.prototype.cancel=function(){this.dialog.dismiss()},InstanceListSettingsModal=l([n.i(r.c)({selector:"instance-list-settings-modal",template:n(1992)}),c("design:paramtypes",[o.g,s.a])],InstanceListSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(3),i=n(11),a=n(23),s=n(51),l=n(17),c=n(8),p=n(10),d=n(7),u=n(20),f=n(15),h=n(2),g=n(13),m=n(241),v=n(602),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function PropertyTreeComponent(t,n,r,i,a){var s=e.call(this,r,i,a)||this;return s.propertyService=t,s.searchService=n,s.structRole=o.c.property,s.eventSubscriptions.push(r.topPropertyCreatedEvent.subscribe(function(e){return s.onTopPropertyCreated(e)})),s.eventSubscriptions.push(r.propertyDeletedEvent.subscribe(function(e){return s.onTreeNodeDeleted(e)})),s}return b(PropertyTreeComponent,e),PropertyTreeComponent.prototype.ngOnChanges=function(e){e.resource&&this.init()},PropertyTreeComponent.prototype.initImpl=function(){var e=this;if(l.a.isAuthorized(u.a.propertiesGetPropertyTaxonomy)){d.a.startLoadingDiv(this.blockDivElement.nativeElement);var t=this.rendering?p.b.show:p.b.value;this.rootProperties?this.propertyService.getPropertiesInfo(this.rootProperties,c.b.getRequestOptions(this.projectCtx)).subscribe(function(n){p.a.sortResources(n,t),e.roots=n,d.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){d.a.stopLoadingDiv(e.blockDivElement.nativeElement)}):this.resource?this.propertyService.getRelevantPropertiesForResource(this.resource,c.b.getRequestOptions(this.projectCtx)).subscribe(function(n){var r=!1;n.forEach(function(e){e.equals(i.b.comment)&&(r=!0)}),r||n.push(i.b.comment),e.propertyService.getPropertiesInfo(n,c.b.getRequestOptions(e.projectCtx)).subscribe(function(n){p.a.sortResources(n,t),e.roots=n,d.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){d.a.stopLoadingDiv(e.blockDivElement.nativeElement)})},function(t){d.a.stopLoadingDiv(e.blockDivElement.nativeElement)}):this.type==o.c.objectProperty?this.propertyService.getTopObjectProperties(c.b.getRequestOptions(this.projectCtx)).subscribe(function(n){p.a.sortResources(n,t),e.roots=n,d.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){d.a.stopLoadingDiv(e.blockDivElement.nativeElement)}):this.type==o.c.annotationProperty?this.propertyService.getTopAnnotationProperties(c.b.getRequestOptions(this.projectCtx)).subscribe(function(n){p.a.sortResources(n,t),e.roots=n,d.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){d.a.stopLoadingDiv(e.blockDivElement.nativeElement)}):this.type==o.c.datatypeProperty?this.propertyService.getTopDatatypeProperties(c.b.getRequestOptions(this.projectCtx)).subscribe(function(n){p.a.sortResources(n,t),e.roots=n,d.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){d.a.stopLoadingDiv(e.blockDivElement.nativeElement)}):this.type==o.c.ontologyProperty?this.propertyService.getTopOntologyProperties(c.b.getRequestOptions(this.projectCtx)).subscribe(function(n){p.a.sortResources(n,t),e.roots=n,d.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){d.a.stopLoadingDiv(e.blockDivElement.nativeElement)}):(this.type,o.c.property,this.propertyService.getTopProperties(c.b.getRequestOptions(this.projectCtx)).subscribe(function(n){p.a.sortResources(n,t),e.roots=n,d.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){d.a.stopLoadingDiv(e.blockDivElement.nativeElement)}))}},PropertyTreeComponent.prototype.openTreeAt=function(e){var t=this;this.searchService.getPathFromRoot(e,o.c.property,null,null,null,null,null,null,c.b.getRequestOptions(this.projectCtx)).subscribe(function(n){if(0==n.length)return void t.onTreeNodeNotFound(e);t.openRoot(n)})},PropertyTreeComponent.prototype.onTopPropertyCreated=function(e){this.roots.unshift(e),this.context==d.b.addPropValue&&this.openRoot([e])},y([n.i(r.r)(),x("design:type",o.b)],PropertyTreeComponent.prototype,"resource",void 0),y([n.i(r.r)(),x("design:type",String)],PropertyTreeComponent.prototype,"type",void 0),y([n.i(r.r)("roots"),x("design:type",Array)],PropertyTreeComponent.prototype,"rootProperties",void 0),y([n.i(r._12)(v.a),x("design:type",r._13)],PropertyTreeComponent.prototype,"viewChildrenNode",void 0),PropertyTreeComponent=y([n.i(r.c)({selector:"property-tree",template:n(1993),host:{class:"treeListComponent"}}),x("design:paramtypes",[a.a,s.a,f.a,h.a,g.a])],PropertyTreeComponent)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(3),i=n(23),a=n(8),s=n(10),l=n(15),c=n(2),p=n(13),d=n(242),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e){function PropertyTreeNodeComponent(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.propService=t,i.eventSubscriptions.push(n.subPropertyCreatedEvent.subscribe(function(e){return i.onChildCreated(e.superProperty,e.subProperty)})),i.eventSubscriptions.push(n.superPropertyAddedEvent.subscribe(function(e){return i.onParentAdded(e.superProperty,e.subProperty)})),i.eventSubscriptions.push(n.propertyDeletedEvent.subscribe(function(e){return i.onTreeNodeDeleted(e)})),i.eventSubscriptions.push(n.superPropertyRemovedEvent.subscribe(function(e){return i.onParentRemoved(e.superProperty,e.property)})),i.eventSubscriptions.push(n.superPropertyUpdatedEvent.subscribe(function(e){i.onParentRemoved(e.oldParent,e.child),i.onParentAdded(e.newParent,e.child)})),i}return u(PropertyTreeNodeComponent,e),t=PropertyTreeNodeComponent,PropertyTreeNodeComponent.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},PropertyTreeNodeComponent.prototype.expandNodeImpl=function(){var e=this;return this.propService.getSubProperties(this.node,a.b.getRequestOptions(this.projectCtx)).map(function(t){s.a.sortResources(t,e.rendering?s.b.show:s.b.value),e.children=t,e.open=!0,0==e.children.length&&(e.open=!1,e.node.setAdditionalProperty(o.a.MORE,0))})},f([n.i(r._12)(t),h("design:type",r._13)],PropertyTreeNodeComponent.prototype,"viewChildrenNode",void 0),PropertyTreeNodeComponent=t=f([n.i(r.c)({selector:"property-tree-node",template:n(1994)}),h("design:paramtypes",[i.a,l.a,c.a,p.a])],PropertyTreeNodeComponent);var t}(d.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n(0),o=n(68),i=n(3),a=n(11),s=n(16),l=n(12),c=n(51),p=n(10),d=n(97),u=n(7),f=n(6),h=n(15),g=n(21),m=n(2),v=n(243),b=n(95),y=n(601),x=n(8),C=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),R=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},S=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(e){function PropertyTreePanelComponent(t,n,r,o,a,s,l,c,p){var d=e.call(this,n,r,o,a,s,l,c,p)||this;return d.searchService=t,d.panelRole=i.c.property,d.rendering=!1,d}return C(PropertyTreePanelComponent,e),PropertyTreePanelComponent.prototype.getActionContext=function(e){return{metaClass:e?this.convertRoleToClass(e):this.convertRoleToClass(this.selectedNode.getRole()),loadingDivRef:this.viewChildTree.blockDivElement}},PropertyTreePanelComponent.prototype.refresh=function(){this.viewChildTree.init()},PropertyTreePanelComponent.prototype.doSearch=function(e){var t,n,r=this,o=f.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings;o.restrictLang&&(t=o.languages,n=o.includeLocales),u.a.startLoadingDiv(this.viewChildTree.blockDivElement.nativeElement),this.searchService.searchResource(e,[i.c.property],o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,t,n,null,null,x.b.getRequestOptions(this.projectCtx)).subscribe(function(t){u.a.stopLoadingDiv(r.viewChildTree.blockDivElement.nativeElement),0==t.length?r.basicModals.alert("Search","No results found for '"+e+"'","warning"):1==t.length?r.openTreeAt(t[0]):(p.a.sortResources(t,r.rendering?p.b.show:p.b.value),r.basicModals.selectResource("Search",t.length+" results found.",t,r.rendering).then(function(e){r.openTreeAt(e)},function(){}))})},PropertyTreePanelComponent.prototype.openTreeAt=function(e){this.viewChildTree.openTreeAt(e)},PropertyTreePanelComponent.prototype.convertRoleToClass=function(e){var t;return e==i.c.property?t=a.i.property:e==i.c.datatypeProperty?t=a.c.datatypeProperty:e==i.c.objectProperty?t=a.c.objectProperty:e==i.c.annotationProperty?t=a.c.annotationProperty:e==i.c.ontologyProperty&&(t=a.c.ontologyProperty),t},R([n.i(r.r)(),S("design:type",i.b)],PropertyTreePanelComponent.prototype,"resource",void 0),R([n.i(r.r)(),S("design:type",String)],PropertyTreePanelComponent.prototype,"type",void 0),R([n.i(r.r)("roots"),S("design:type",Array)],PropertyTreePanelComponent.prototype,"rootProperties",void 0),R([n.i(r.F)(y.a),S("design:type",y.a)],PropertyTreePanelComponent.prototype,"viewChildTree",void 0),PropertyTreePanelComponent=R([n.i(r.c)({selector:"property-tree-panel",template:n(1995),host:{class:"vbox"}}),S("design:paramtypes",[c.a,s.a,l.a,m.a,o.a,h.a,g.a,d.a,b.a])],PropertyTreePanelComponent)}(v.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(5),i=n(3),a=n(32),s=n(11),l=n(51),c=n(10),p=n(7),d=n(6),u=n(2),f=n(14),h=n(25),g=n(13),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(){function AdvancedSearchModal(e,t,n,r,o,i){this.dialog=e,this.searchService=t,this.basicModals=n,this.sharedModals=r,this.browsingModals=o,this.creationModals=i,this.statuses=[{show:"Anything",value:a.r.ANYTHING},{show:"Not deprecated",value:a.r.NOT_DEPRECATED},{show:"Only deprecated",value:a.r.ONLY_DEPRECATED}],this.selectedStatus=this.statuses[0].value,this.useURI=!0,this.useLocalName=!0,this.useNotes=!0,this.searchModes=[{show:"Starts with",value:a.f.startsWith},{show:"Contains",value:a.f.contains},{show:"Ends with",value:a.f.endsWith},{show:"Exact",value:a.f.exact},{show:"Fuzzy",value:a.f.fuzzy}],this.restrictLang=!1,this.includeLocales=!1,this.typesGroups=[],this.showSchemeSelector=!1,this.schemesGroups=[],this.ingoingLinks=[],this.outgoingLinksValue=[],this.outgoingLinksFreeText=[],this.context=e.context}return AdvancedSearchModal.prototype.ngOnInit=function(){var e=d.a.getWorkingProjectCtx().getProjectPreferences().searchSettings;this.useLocalName=e.useLocalName,this.useURI=e.useURI,this.useNotes=e.useNotes,this.activeSearchMode=e.stringMatchMode,this.restrictLang=e.restrictLang,this.includeLocales=e.includeLocales,this.languages=e.languages;var t=d.a.getWorkingProject().getModelType();this.showSchemeSelector=t==s.d.uri||t==s.f.uri,d.a.getWorkingProject().isValidationEnabled()&&this.statuses.push({show:"Under validation",value:a.r.UNDER_VALIDATION},{show:"Under validation for deprecation",value:a.r.UNDER_VALIDATION_FOR_DEPRECATION})},AdvancedSearchModal.prototype.selectRestrictionLanguages=function(){var e=this;this.sharedModals.selectLanguages("Language restrictions",this.languages,!0).then(function(t){e.languages=t},function(){})},AdvancedSearchModal.prototype.addTypesGroup=function(){this.typesGroups.push([])},AdvancedSearchModal.prototype.deleteTypesGroup=function(e){this.typesGroups.splice(e,1)},AdvancedSearchModal.prototype.addType=function(e){this.browsingModals.browseClassTree("Select a class").then(function(t){e.push(t)})},AdvancedSearchModal.prototype.deleteType=function(e,t){e.splice(t,1)},AdvancedSearchModal.prototype.updateType=function(e,t,n){e[t]=n},AdvancedSearchModal.prototype.addSchemesGroup=function(){this.schemesGroups.push([])},AdvancedSearchModal.prototype.deleteSchemesGroup=function(e){this.schemesGroups.splice(e,1)},AdvancedSearchModal.prototype.addScheme=function(e){this.browsingModals.browseSchemeList("Select a scheme").then(function(t){e.push(t)})},AdvancedSearchModal.prototype.deleteScheme=function(e,t){e.splice(t,1)},AdvancedSearchModal.prototype.updateScheme=function(e,t,n){e[t]=n},AdvancedSearchModal.prototype.addIngoingGroup=function(){this.ingoingLinks.push({first:null,second:[]})},AdvancedSearchModal.prototype.deleteIngoingGroup=function(e){this.ingoingLinks.splice(e,1)},AdvancedSearchModal.prototype.updatePropIngoing=function(e,t){e.first=t},AdvancedSearchModal.prototype.addIngoingValue=function(e){this.sharedModals.pickResource("Select a resource").then(function(t){e.second.push(t)},function(){})},AdvancedSearchModal.prototype.deleteIngoingValue=function(e,t){e.second.splice(t,1)},AdvancedSearchModal.prototype.updateIngoingValue=function(e,t,n){e.second[t]=n},AdvancedSearchModal.prototype.addOutgoingGroupValue=function(){this.outgoingLinksValue.push({first:null,second:[]})},AdvancedSearchModal.prototype.deleteOutgoingGroupValue=function(e){this.outgoingLinksValue.splice(e,1)},AdvancedSearchModal.prototype.updatePropOutgoingValue=function(e,t){e.first=t},AdvancedSearchModal.prototype.addOutgoingValue=function(e,t){t==i.h.resource?this.sharedModals.pickResource("Select a resource").then(function(t){e.second.push(t)},function(){}):t==i.h.literal&&this.creationModals.newTypedLiteral("Create literal").then(function(t){e.second.push(t[0])},function(){})},AdvancedSearchModal.prototype.deleteOutgoingValue=function(e,t){e.second.splice(t,1)},AdvancedSearchModal.prototype.updateOutgoingValue=function(e,t,n){e.second[t]=n},AdvancedSearchModal.prototype.addOutgoingGroupFreeText=function(){this.outgoingLinksFreeText.push({predicate:null,searchString:null,mode:d.a.getWorkingProjectCtx().getProjectPreferences().searchSettings.stringMatchMode})},AdvancedSearchModal.prototype.deleteOutgoingGroupFreeText=function(e){this.outgoingLinksFreeText.splice(e,1)},AdvancedSearchModal.prototype.updatePropOutgoingFreeText=function(e,t){e.predicate=t},AdvancedSearchModal.prototype.ok=function(e){var t,n,r=this;this.restrictLang&&(t=this.languages,n=this.includeLocales);var o=[];this.typesGroups.forEach(function(e){var t=[];e.forEach(function(e){null!=e&&t.push(e)}),t.length>0&&o.push(t)}),0==o.length&&(o=null);var i=[];this.schemesGroups.forEach(function(e){var t=[];e.forEach(function(e){null!=e&&t.push(e)}),t.length>0&&i.push(t)}),0==i.length&&(i=null);var a=[];this.ingoingLinks.forEach(function(e){if(null!=e.first){var t=[];e.second.forEach(function(e){null!=e&&t.push(e)}),t.length>0&&a.push({first:e.first,second:t})}}),0==a.length&&(a=null);var s=[];this.outgoingLinksValue.forEach(function(e){if(null!=e.first){var t=[];e.second.forEach(function(e){null!=e&&t.push(e)}),t.length>0&&s.push({first:e.first,second:t})}}),0==s.length&&(s=null);var l=[];this.outgoingLinksFreeText.forEach(function(e){null!=e.predicate&&null!=e.searchString&&""!=e.searchString.trim()&&l.push(e)}),0==l.length&&(l=null),p.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.searchService.advancedSearch(this.searchString,this.useLocalName,this.useURI,this.useNotes,this.activeSearchMode,this.selectedStatus,t,n,o,i,a,s,l).subscribe(function(t){p.a.stopLoadingDiv(r.blockingDivElement.nativeElement),0==t.length?r.basicModals.alert("Search","No results found","warning"):(c.a.sortResources(t,c.b.show),r.basicModals.selectResource("Search",t.length+" results found.",t,!0).then(function(t){e.stopPropagation(),e.preventDefault(),r.dialog.close(t)},function(){}))})},AdvancedSearchModal.prototype.cancel=function(){this.dialog.dismiss()},m([n.i(r.F)("blockingDiv"),v("design:type",r.e)],AdvancedSearchModal.prototype,"blockingDivElement",void 0),AdvancedSearchModal=m([n.i(r.c)({selector:"advanced-search-modal",template:n(1996)}),v("design:paramtypes",[o.g,l.a,u.a,g.a,f.a,h.a])],AdvancedSearchModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return b});var r=n(0),o=n(5),i=n(4),a=n(45),s=n(231),l=n(93),c=n(51),p=n(240),d=n(10),u=n(7),f=n(2),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function CustomSearchModalData(t){var n=e.call(this)||this;return n.searchParameterizationReference=t,n}return h(CustomSearchModalData,e),CustomSearchModalData}(i.d),b=function(){function CustomSearchModal(e,t,n,r){this.dialog=e,this.basicModals=t,this.configurationService=n,this.searchService=r,this.staticParameterization=!0,this.inferred=!1,this.detailsOn=!1,this.context=e.context}return CustomSearchModal.prototype.ngOnInit=function(){var e=this;this.configurationService.getConfiguration(a.c.SPARQL_PARAMETERIZATION_STORE,this.context.searchParameterizationReference).subscribe(function(t){for(var n=t.properties,r=0;r<n.length;r++)if("relativeReference"==n[r].name){var o=n[r].value;if(null==o)return e.basicModals.alert("Missing SPARQL query","The stored SPARQL query referenced by the selected custom search does not exist anymore.","warning"),void e.cancel();e.configurationService.getConfiguration(a.c.SPARQL_STORE,o).subscribe(function(t){for(var n=t.properties,r=0;r<n.length;r++)"sparql"==n[r].name?e.query=n[r].value:"includeInferred"==n[r].name&&(e.inferred=n[r].value)})}else if("variableBindings"==n[r].name){e.parameterization=n[r].value;for(var i in e.parameterization)e.parameterization[i].bindingType!=s.a.assignment&&(e.staticParameterization=!1)}else"description"==n[r].name&&(e.description=n[r].value)})},CustomSearchModal.prototype.onVarBindingsUpdate=function(e){this.bindingsMap=e},CustomSearchModal.prototype.ok=function(e){for(var t=this,n=0,r=Array.from(this.bindingsMap.keys());n<r.length;n++){var o=r[n];if(null==this.bindingsMap.get(o))return void this.basicModals.alert("Missing binding","Missing variable binding '"+o+"'","warning")}u.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.searchService.customSearch(this.context.searchParameterizationReference,this.bindingsMap).subscribe(function(e){u.a.stopLoadingDiv(t.blockingDivElement.nativeElement),0==e.length?t.basicModals.alert("Search","No results found","warning"):(d.a.sortResources(e,d.b.show),t.basicModals.selectResource("Search",e.length+" results found.",e,!0).then(function(e){t.dialog.close(e)},function(){}))})},CustomSearchModal.prototype.cancel=function(){this.dialog.dismiss()},g([n.i(r.F)("blockingDiv"),m("design:type",r.e)],CustomSearchModal.prototype,"blockingDivElement",void 0),g([n.i(r.F)(p.a),m("design:type",p.a)],CustomSearchModal.prototype,"viewChildYasgui",void 0),CustomSearchModal=g([n.i(r.c)({selector:"custom-search-modal",template:n(1997)}),m("design:paramtypes",[o.g,f.a,l.a,c.a])],CustomSearchModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(5),i=n(45),a=n(164),s=n(2),l=n(13),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function LoadCustomSearchModal(e,t,n,r){this.dialog=e,this.settingsService=t,this.basicModals=n,this.sharedModals=r,this.context=e.context}return LoadCustomSearchModal.prototype.ngOnInit=function(){var e=this;this.settingsService.getSettingsScopes(i.c.CUSTOM_SEARCH_STORE).subscribe(function(t){e.scopes=t,e.selectedScope=e.scopes[0],e.initReferences()})},LoadCustomSearchModal.prototype.initReferences=function(){var e=this;this.settingsService.getSettings(i.c.CUSTOM_SEARCH_STORE,this.selectedScope).subscribe(function(t){e.settings=t,e.references=[],e.selectedRef=null,e.settings.properties.forEach(function(t){if("searchSPARQLParameterizationReferences"==t.name){t.value.forEach(function(t){var n=(i.b.getRelativeReferenceScope(t.substring(0,t.indexOf(":"))),t.substring(t.indexOf(":")+1));e.references.push(new i.b(null,null,n,t))})}})})},LoadCustomSearchModal.prototype.add=function(){var e=this;this.sharedModals.loadConfiguration("Select stored parameterized SPARQL query",i.c.SPARQL_PARAMETERIZATION_STORE,!1,!1).then(function(t){var n=t.reference.relativeReference,r=!1;if(e.references.forEach(function(e){e.relativeReference==n&&(r=!0)}),r)return void e.basicModals.alert("Duplicated Custom Search","The stored parameterized SPARQL query '"+n+"' is already in the Stored Custom Search list. It will not be added","warning");var o=[];e.references.forEach(function(e){o.push(e.relativeReference)}),o.push(n),e.settings.properties.forEach(function(e){"searchSPARQLParameterizationReferences"==e.name&&(e.value=o)}),e.settingsService.storeSettings(i.c.CUSTOM_SEARCH_STORE,e.selectedScope,e.settings.getPropertiesAsMap()).subscribe(function(t){e.initReferences()})},function(){})},LoadCustomSearchModal.prototype.selectReference=function(e){this.selectedRef==e?this.selectedRef=null:this.selectedRef=e},LoadCustomSearchModal.prototype.deleteReference=function(e){var t=this,n=[];this.references.forEach(function(t){t!=e&&n.push(t.relativeReference)}),this.settings.properties.forEach(function(e){"searchSPARQLParameterizationReferences"==e.name&&(e.value=n)}),this.settingsService.storeSettings(i.c.CUSTOM_SEARCH_STORE,this.selectedScope,this.settings.getPropertiesAsMap()).subscribe(function(e){t.initReferences()})},LoadCustomSearchModal.prototype.ok=function(e){this.dialog.close(this.selectedRef.relativeReference)},LoadCustomSearchModal.prototype.cancel=function(){this.dialog.dismiss()},LoadCustomSearchModal=c([n.i(r.c)({selector:"load-custom-search",template:n(1998)}),p("design:paramtypes",[o.g,a.a,s.a,l.a])],LoadCustomSearchModal)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return m});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(32),l=n(7),c=n(6),p=n(21),d=n(13),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e){function SearchSettingsModalData(t,n,r){var o=e.call(this)||this;return o.role=t,o.structureCtx=n,o.projectCtx=r,o}return u(SearchSettingsModalData,e),SearchSettingsModalData}(i.d),m=function(){function SearchSettingsModal(e,t,n){this.dialog=e,this.vbProp=t,this.sharedModals=n,this.settingsForInstancePanel=!1,this.settingsForConceptPanel=!1,this.stringMatchModes=[{show:"Starts with",value:s.f.startsWith},{show:"Contains",value:s.f.contains},{show:"Ends with",value:s.f.endsWith},{show:"Exact",value:s.f.exact},{show:"Fuzzy",value:s.f.fuzzy}],this.useURI=!0,this.useLocalName=!0,this.useNotes=!0,this.restrictLang=!1,this.includeLocales=!1,this.useAutocompletion=!1,this.restrictConceptSchemes=!0,this.extendsToAllIndividuals=!1,this.context=e.context}return SearchSettingsModal.prototype.ngOnInit=function(){this.settingsForConceptPanel=this.context.role==a.c.concept,this.settingsForInstancePanel=this.context.role==a.c.individual&&this.context.structureCtx==l.b.dataPanel,this.settings=c.a.getWorkingProjectCtx(this.context.projectCtx).getProjectPreferences().searchSettings,this.activeStringMatchMode=this.settings.stringMatchMode,this.useURI=this.settings.useURI,this.useLocalName=this.settings.useLocalName,this.useNotes=this.settings.useNotes,this.restrictLang=this.settings.restrictLang,this.includeLocales=this.settings.includeLocales,this.languages=this.settings.languages,this.useAutocompletion=this.settings.useAutocompletion,this.restrictConceptSchemes=this.settings.restrictActiveScheme,this.extendsToAllIndividuals=this.settings.extendToAllIndividuals},SearchSettingsModal.prototype.selectRestrictionLanguages=function(){var e=this;this.sharedModals.selectLanguages("Language restrictions",this.languages,!0,this.context.projectCtx).then(function(t){e.languages=t,e.updateSettings()},function(){})},SearchSettingsModal.prototype.updateSettings=function(){this.vbProp.setSearchSettings(c.a.getWorkingProjectCtx(this.context.projectCtx),{stringMatchMode:this.activeStringMatchMode,useURI:this.useURI,useLocalName:this.useLocalName,useNotes:this.useNotes,restrictLang:this.restrictLang,includeLocales:this.includeLocales,languages:this.languages,useAutocompletion:this.useAutocompletion,restrictActiveScheme:this.restrictConceptSchemes,extendToAllIndividuals:this.extendsToAllIndividuals})},SearchSettingsModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},SearchSettingsModal=f([n.i(r.c)({selector:"search-settings-modal",template:n(2e3),styles:[".form-control[readonly]:not([disabled]) { background-color: #fff; }"]}),h("design:paramtypes",[o.g,p.a,d.a])],SearchSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(3),i=n(51),a=n(33),s=n(17),l=n(8),c=n(10),p=n(7),d=n(20),u=n(15),f=n(2),h=n(13),g=n(241),m=n(609),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function CollectionTreeComponent(t,n,r,i,a){var s=e.call(this,r,i,a)||this;return s.skosService=t,s.searchService=n,s.structRole=o.c.skosCollection,s.eventSubscriptions.push(r.rootCollectionCreatedEvent.subscribe(function(e){return s.onRootCollectionCreated(e)})),s.eventSubscriptions.push(r.collectionDeletedEvent.subscribe(function(e){return s.onTreeNodeDeleted(e)})),s.eventSubscriptions.push(r.nestedCollectionAddedEvent.subscribe(function(e){return s.onNestedCollectionAdded(e.nested,e.container)})),s.eventSubscriptions.push(r.nestedCollectionAddedFirstEvent.subscribe(function(e){return s.onNestedCollectionAdded(e.nested,e.container)})),s.eventSubscriptions.push(r.nestedCollectionAddedLastEvent.subscribe(function(e){return s.onNestedCollectionAdded(e.nested,e.container)})),s.eventSubscriptions.push(r.nestedCollectionAddedInPositionEvent.subscribe(function(e){return s.onNestedCollectionAdded(e.nested,e.container)})),s}return v(CollectionTreeComponent,e),CollectionTreeComponent.prototype.initImpl=function(){var e=this;s.a.isAuthorized(d.a.skosGetCollectionTaxonomy)&&(p.a.startLoadingDiv(this.blockDivElement.nativeElement),this.skosService.getRootCollections(l.b.getRequestOptions(this.projectCtx)).subscribe(function(t){c.a.sortResources(t,e.rendering?c.b.show:c.b.value),e.roots=t,p.a.stopLoadingDiv(e.blockDivElement.nativeElement)},function(t){p.a.stopLoadingDiv(e.blockDivElement.nativeElement)}))},CollectionTreeComponent.prototype.openTreeAt=function(e){var t=this;this.searchService.getPathFromRoot(e,o.c.skosCollection,null,null,null,null,null,null,l.b.getRequestOptions(this.projectCtx)).subscribe(function(n){if(0==n.length)return void t.onTreeNodeNotFound(e);t.openRoot(n)})},CollectionTreeComponent.prototype.onRootCollectionCreated=function(e){this.roots.unshift(e),this.context==p.b.addPropValue&&this.openRoot([e])},CollectionTreeComponent.prototype.onNestedCollectionAdded=function(e,t){for(var n=0;n<this.roots.length;n++)if(this.roots[n].getNominalValue()==e.getURI()){this.roots.splice(n,1);break}},b([n.i(r._12)(m.a),y("design:type",r._13)],CollectionTreeComponent.prototype,"viewChildrenNode",void 0),CollectionTreeComponent=b([n.i(r.c)({selector:"collection-tree",template:n(2001),host:{class:"treeListComponent"}}),y("design:paramtypes",[a.a,i.a,u.a,f.a,h.a])],CollectionTreeComponent)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(3),i=n(33),a=n(8),s=n(10),l=n(15),c=n(2),p=n(13),d=n(242),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e){function CollectionTreeNodeComponent(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.skosService=t,i.eventSubscriptions.push(n.collectionDeletedEvent.subscribe(function(e){return i.onTreeNodeDeleted(e)})),i.eventSubscriptions.push(n.nestedCollectionCreatedEvent.subscribe(function(e){return i.onChildCreated(e.container,e.nested)})),i.eventSubscriptions.push(n.nestedCollectionAddedEvent.subscribe(function(e){return i.onChildCreated(e.container,e.nested)})),i.eventSubscriptions.push(n.nestedCollectionAddedFirstEvent.subscribe(function(e){return i.onNestedCollectionAddedFirst(e.nested,e.container)})),i.eventSubscriptions.push(n.nestedCollectionAddedLastEvent.subscribe(function(e){return i.onNestedCollectionAddedLast(e.nested,e.container)})),i.eventSubscriptions.push(n.nestedCollectionAddedInPositionEvent.subscribe(function(e){return i.onNestedCollectionAddedInPosition(e.nested,e.container,e.position)})),i.eventSubscriptions.push(n.nestedCollectionRemovedEvent.subscribe(function(e){return i.onParentRemoved(e.container,e.nested)})),i}return u(CollectionTreeNodeComponent,e),t=CollectionTreeNodeComponent,CollectionTreeNodeComponent.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},CollectionTreeNodeComponent.prototype.expandNodeImpl=function(){var e=this;return this.skosService.getNestedCollections(this.node,a.b.getRequestOptions(this.projectCtx)).map(function(t){s.a.sortResources(t,e.rendering?s.b.show:s.b.value),e.children=t,e.open=!0,0==e.children.length&&(e.open=!1,e.node.setAdditionalProperty(o.a.MORE,0))})},CollectionTreeNodeComponent.prototype.onNestedCollectionAddedFirst=function(e,t){this.node.getURI()==t.getURI()&&(this.children.unshift(e),this.node.setAdditionalProperty(o.a.MORE,1),this.open=!0)},CollectionTreeNodeComponent.prototype.onNestedCollectionAddedLast=function(e,t){this.node.getURI()==t.getURI()&&(this.children.push(e),this.node.setAdditionalProperty(o.a.MORE,1),this.open=!0)},CollectionTreeNodeComponent.prototype.onNestedCollectionAddedInPosition=function(e,t,n){this.node.getURI()==t.getURI()&&(this.children.splice(n,0,e),this.node.setAdditionalProperty(o.a.MORE,1),this.open=!0)},f([n.i(r._12)(t),h("design:type",r._13)],CollectionTreeNodeComponent.prototype,"viewChildrenNode",void 0),CollectionTreeNodeComponent=t=f([n.i(r.c)({selector:"collection-tree-node",template:n(2002)}),h("design:paramtypes",[i.a,l.a,c.a,p.a])],CollectionTreeNodeComponent);var t}(d.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(68),i=n(3),a=n(16),s=n(12),l=n(51),c=n(8),p=n(10),d=n(97),u=n(7),f=n(6),h=n(15),g=n(21),m=n(2),v=n(243),b=n(95),y=n(608),x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(e){function CollectionTreePanelComponent(t,n,r,o,a,s,l,c,p){var d=e.call(this,n,r,o,a,s,l,c,p)||this;return d.searchService=t,d.panelRole=i.c.skosCollection,d}return x(CollectionTreePanelComponent,e),CollectionTreePanelComponent.prototype.getActionContext=function(e){return{metaClass:e?p.a.convertRoleToClass(e):p.a.convertRoleToClass(this.selectedNode.getRole()),loadingDivRef:this.viewChildTree.blockDivElement}},CollectionTreePanelComponent.prototype.refresh=function(){this.viewChildTree.init()},CollectionTreePanelComponent.prototype.doSearch=function(e){var t,n,r=this,o=f.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings;o.restrictLang&&(t=o.languages,n=o.includeLocales),u.a.startLoadingDiv(this.viewChildTree.blockDivElement.nativeElement),this.searchService.searchResource(e,[i.c.skosCollection],o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,t,n,null,null,c.b.getRequestOptions(this.projectCtx)).subscribe(function(t){u.a.stopLoadingDiv(r.viewChildTree.blockDivElement.nativeElement),0==t.length?r.basicModals.alert("Search","No results found for '"+e+"'","warning"):1==t.length?r.openTreeAt(t[0]):(p.a.sortResources(t,r.rendering?p.b.show:p.b.value),r.basicModals.selectResource("Search",t.length+" results found.",t,r.rendering).then(function(e){r.openTreeAt(e)},function(){}))})},CollectionTreePanelComponent.prototype.openTreeAt=function(e){this.viewChildTree.openTreeAt(e)},C([n.i(r.F)(y.a),R("design:type",y.a)],CollectionTreePanelComponent.prototype,"viewChildTree",void 0),CollectionTreePanelComponent=C([n.i(r.c)({selector:"collection-tree-panel",template:n(2003),host:{class:"vbox"}}),R("design:paramtypes",[l.a,a.a,s.a,m.a,o.a,h.a,g.a,d.a,b.a])],CollectionTreePanelComponent)}(v.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(41),i=(n.n(o),n(3)),a=n(32),s=n(51),l=n(33),c=n(17),p=n(8),d=n(10),u=n(7),f=n(20),h=n(6),g=n(15),m=n(2),v=n(13),b=n(241),y=n(612),x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(e){function ConceptTreeComponent(t,n,o,a,s){var l=e.call(this,o,a,s)||this;return l.skosService=t,l.searchService=n,l.conceptRemovedFromScheme=new r.i,l.requireSettings=new r.i,l.structRole=i.c.concept,l.safeToGo={safe:!0},l.eventSubscriptions.push(o.topConceptCreatedEvent.subscribe(function(e){return l.onTopConceptCreated(e.concept,e.schemes)})),l.eventSubscriptions.push(o.conceptDeletedEvent.subscribe(function(e){return l.onTreeNodeDeleted(e)})),l.eventSubscriptions.push(o.conceptRemovedFromSchemeEvent.subscribe(function(e){return l.onConceptRemovedFromScheme(e.concept,e.scheme)})),l.eventSubscriptions.push(o.conceptRemovedAsTopConceptEvent.subscribe(function(e){return l.onConceptRemovedFromScheme(e.concept,e.scheme)})),l.eventSubscriptions.push(o.multischemeModeChangedEvent.subscribe(function(){return l.init()})),l}return x(ConceptTreeComponent,e),ConceptTreeComponent.prototype.ngOnChanges=function(e){e.schemes&&this.init()},ConceptTreeComponent.prototype.initImpl=function(){var e=this;if(c.a.isAuthorized(f.a.skosGetConceptTaxonomy)){var t=h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences;t.visualization==a.j.hierarchyBased?(this.lastInitTimestamp=(new Date).getTime(),this.checkInitializationSafe().subscribe(function(){if(e.safeToGo.safe){var t=h.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().conceptTreePreferences,n=t.broaderProps.map(function(e){return new i.b(e)}),r=t.narrowerProps.map(function(e){return new i.b(e)}),o=t.includeSubProps;u.a.startLoadingDiv(e.blockDivElement.nativeElement),e.skosService.getTopConcepts(e.lastInitTimestamp,e.schemes,t.multischemeMode,n,r,o,p.b.getRequestOptions(e.projectCtx)).subscribe(function(t){if(t.timestamp==e.lastInitTimestamp){u.a.stopLoadingDiv(e.blockDivElement.nativeElement);var n=t.concepts;d.a.sortResources(n,e.rendering?d.b.show:d.b.value),e.roots=n,e.pendingSearchPath&&e.openRoot(e.pendingSearchPath)}})}})):(t.visualization,a.j.searchBased)}},ConceptTreeComponent.prototype.forceSafeness=function(){this.safeToGo.safe=!0,h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences.safeToGoMap[this.getInitRequestChecksum()]=this.safeToGo,this.initImpl()},ConceptTreeComponent.prototype.checkInitializationSafe=function(){var e=this,t=h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences,n=t.multischemeMode,r=t.broaderProps.map(function(e){return new i.b(e)}),a=t.narrowerProps.map(function(e){return new i.b(e)}),s=t.includeSubProps,l=t.safeToGoMap;this.safeToGoLimit=t.safeToGoLimit;var c=this.getInitRequestChecksum(),d=l[c];return null!=d?(this.safeToGo=d,o.Observable.of(null)):(u.a.startLoadingDiv(this.blockDivElement.nativeElement),this.skosService.countTopConcepts(this.lastInitTimestamp,this.schemes,n,r,a,s,p.b.getRequestOptions(this.projectCtx)).flatMap(function(t){u.a.stopLoadingDiv(e.blockDivElement.nativeElement);var n={safe:t.count<e.safeToGoLimit,count:t.count};return l[c]=n,t.timestamp!=e.lastInitTimestamp?o.Observable.of(null):(e.safeToGo=n,o.Observable.of(null))}))},ConceptTreeComponent.prototype.getInitRequestChecksum=function(){var e=h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences,t=e.multischemeMode,n=e.broaderProps.map(function(e){return new i.b(e)}),r=e.narrowerProps.map(function(e){return new i.b(e)}),o=e.includeSubProps;return"schemes:"+this.schemes.map(function(e){return e.toNT()}).join(",")+"&multischemeMode:"+t+"&broaderProps:"+n+"&narrowerProps:"+r+"&includeSubProps:"+o},ConceptTreeComponent.prototype.forceList=function(e){this.safeToGo={safe:!0},this.setInitialStatus(),this.roots=e},ConceptTreeComponent.prototype.openTreeAt=function(e){var t=this,n=h.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences,r=n.multischemeMode,o=n.broaderProps.map(function(e){return new i.b(e)}),a=n.narrowerProps.map(function(e){return new i.b(e)}),s=n.includeSubProps;this.searchService.getPathFromRoot(e,i.c.concept,this.schemes,r,o,a,s,null,p.b.getRequestOptions(this.projectCtx)).subscribe(function(n){if(0==n.length)return void t.onTreeNodeNotFound(e);t.openRoot(n)})},ConceptTreeComponent.prototype.onTopConceptCreated=function(e,t){if(void 0==this.schemes)d.a.containsNode(this.roots,e)||(this.roots.unshift(e),this.context==u.b.addPropValue&&this.openRoot([e]));else if(null!=this.schemes)for(var n=0;n<t.length;n++)if(d.a.containsNode(this.schemes,t[n])){this.roots.unshift(e),this.context==u.b.addPropValue&&this.openRoot([e]);break}},ConceptTreeComponent.prototype.onConceptRemovedFromScheme=function(e,t){},C([n.i(r.r)(),R("design:type",Array)],ConceptTreeComponent.prototype,"schemes",void 0),C([n.i(r._7)(),R("design:type",Object)],ConceptTreeComponent.prototype,"conceptRemovedFromScheme",void 0),C([n.i(r._7)(),R("design:type",Object)],ConceptTreeComponent.prototype,"requireSettings",void 0),C([n.i(r._12)(y.a),R("design:type",r._13)],ConceptTreeComponent.prototype,"viewChildrenNode",void 0),ConceptTreeComponent=C([n.i(r.c)({selector:"concept-tree",template:n(2004),host:{class:"treeListComponent"}}),R("design:paramtypes",[l.a,s.a,g.a,m.a,v.a])],ConceptTreeComponent)}(b.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),o=n(3),i=n(33),a=n(8),s=n(10),l=n(6),c=n(15),p=n(2),d=n(13),u=n(242),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function ConceptTreeNodeComponent(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.skosService=t,i.eventSubscriptions.push(n.conceptDeletedEvent.subscribe(function(e){return i.onTreeNodeDeleted(e)})),i.eventSubscriptions.push(n.narrowerCreatedEvent.subscribe(function(e){return i.onChildCreated(e.broader,e.narrower)})),i.eventSubscriptions.push(n.broaderAddedEvent.subscribe(function(e){return i.onParentAdded(e.broader,e.narrower)})),i.eventSubscriptions.push(n.conceptRemovedFromSchemeEvent.subscribe(function(e){return i.onConceptRemovedFromScheme(e.concept,e.scheme)})),i.eventSubscriptions.push(n.broaderRemovedEvent.subscribe(function(e){return i.onParentRemoved(e.broader,e.concept)})),i.eventSubscriptions.push(n.broaderUpdatedEvent.subscribe(function(e){i.onParentRemoved(e.oldParent,e.child),i.onParentAdded(e.newParent,e.child)})),i}return f(ConceptTreeNodeComponent,e),t=ConceptTreeNodeComponent,ConceptTreeNodeComponent.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},ConceptTreeNodeComponent.prototype.expandNodeImpl=function(){var e=this,t=l.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences,n=[];t.broaderProps.forEach(function(e){return n.push(new o.b(e))});var r=[];t.narrowerProps.forEach(function(e){return r.push(new o.b(e))});var i=t.includeSubProps;return this.skosService.getNarrowerConcepts(this.node,this.schemes,t.multischemeMode,n,r,i,a.b.getRequestOptions(this.projectCtx)).map(function(t){s.a.sortResources(t,e.rendering?s.b.show:s.b.value),e.children=t,e.open=!0,0==e.children.length&&(e.open=!1,e.node.setAdditionalProperty(o.a.MORE,0))})},ConceptTreeNodeComponent.prototype.onConceptRemovedFromScheme=function(e,t){},h([n.i(r.r)(),g("design:type",Array)],ConceptTreeNodeComponent.prototype,"schemes",void 0),h([n.i(r._12)(t),g("design:type",r._13)],ConceptTreeNodeComponent.prototype,"viewChildrenNode",void 0),ConceptTreeNodeComponent=t=h([n.i(r.c)({selector:"concept-tree-node",template:n(2005)}),g("design:paramtypes",[i.a,c.a,p.a,d.a])],ConceptTreeNodeComponent);var t}(u.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(33),l=n(7),c=n(6),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function AddToSchemeModalData(t,n,r){void 0===t&&(t="Modal Title");var o=e.call(this)||this;return o.title=t,o.concept=n,o.scheme=r,o}return p(AddToSchemeModalData,e),AddToSchemeModalData}(i.d),h=function(){function AddToSchemeModal(e,t){this.dialog=e,this.skosService=t,this.setTopConcept=!0,this.schemeList=[],this.collapsed=!0,this.context=e.context}return AddToSchemeModal.prototype.ngOnInit=function(){var e=this;this.skosService.getSchemesOfConcept(this.context.concept).subscribe(function(t){t.forEach(function(t){e.schemeList.push({scheme:t,checked:!0})})})},AddToSchemeModal.prototype.isOkEnabled=function(){if(this.schemeList.length>0){for(var e=0;e<this.schemeList.length;e++)if(this.schemeList[e].checked)return!0;return!1}return!0},AddToSchemeModal.prototype.ok=function(e){var t=this,n=c.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences,r=[];n.broaderProps.forEach(function(e){return r.push(new a.b(e))});var o=[];n.narrowerProps.forEach(function(e){return o.push(new a.b(e))});var i=n.includeSubProps,s=[];this.schemeList.forEach(function(e){e.checked&&s.push(e.scheme)}),l.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.skosService.addMultipleConceptsToScheme(this.context.scheme,this.context.concept,null,r,o,i,s,this.setTopConcept).subscribe(function(n){l.a.stopLoadingDiv(t.blockingDivElement.nativeElement),e.stopPropagation(),e.preventDefault(),t.dialog.close()})},AddToSchemeModal.prototype.cancel=function(){this.dialog.dismiss()},d([n.i(r.F)("blockingDiv"),u("design:type",r.e)],AddToSchemeModal.prototype,"blockingDivElement",void 0),AddToSchemeModal=d([n.i(r.c)({selector:"add-to-scheme-modal",template:n(2006)}),u("design:paramtypes",[o.g,s.a])],AddToSchemeModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r=n(0),o=n(4),i=n(1),a=(n.n(i),n(68)),s=n(3),l=n(32),c=n(16),p=n(12),d=n(51),u=n(33),f=n(17),h=n(8),g=n(10),m=n(97),v=n(7),b=n(20),y=n(6),x=n(15),C=n(21),R=n(2),S=n(14),P=n(243),E=n(95),w=n(611),I=n(613),A=n(615),_=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),L=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},M=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},k=function(e){function ConceptTreePanelComponent(t,n,o,i,a,l,c,p,d,u,f,h){var g=e.call(this,a,l,c,p,d,u,f,h)||this;return g.skosService=t,g.searchService=n,g.browsingModals=o,g.modal=i,g.schemeChangeable=!1,g.schemeChanged=new r.i,g.panelRole=s.c.concept,g.eventSubscriptions.push(d.schemeChangedEvent.subscribe(function(e){y.a.getWorkingProjectCtx(g.projectCtx).getProject().getName()==e.project.getName()&&g.onSchemeChanged(e.schemes)})),g}return _(ConceptTreePanelComponent,e),ConceptTreePanelComponent.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.visualizationMode=y.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences.visualization,this.modelType=y.a.getWorkingProjectCtx(this.projectCtx).getProject().getModelType(),void 0===this.schemes?this.workingSchemes=y.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().activeSchemes:this.workingSchemes=this.schemes,this.schemeChangeable&&(this.skosService.getAllSchemes(h.b.getRequestOptions(this.projectCtx)).subscribe(function(e){g.a.sortResources(e,t.rendering?g.b.show:g.b.value),t.schemeList=e}),this.workingSchemes.length>0?(this.selectedSchemeUri=this.workingSchemes[0].getURI(),this.workingSchemes=[this.workingSchemes[0]]):this.selectedSchemeUri="---")},ConceptTreePanelComponent.prototype.getActionContext=function(){return{metaClass:g.a.convertRoleToClass(this.panelRole,this.modelType),loadingDivRef:this.viewChildTree.blockDivElement,schemes:this.workingSchemes}},ConceptTreePanelComponent.prototype.isActionDisabled=function(t){return e.prototype.isActionDisabled.call(this,t)||"C"==t.editType&&this.isNoSchemeMode()},ConceptTreePanelComponent.prototype.refresh=function(){this.visualizationMode=y.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences.visualization,this.visualizationMode==l.j.hierarchyBased?this.viewChildTree.init():this.visualizationMode==l.j.searchBased&&void 0!=this.lastSearch&&this.doSearch(this.lastSearch)},ConceptTreePanelComponent.prototype.isNoSchemeMode=function(){return 0==this.workingSchemes.length},ConceptTreePanelComponent.prototype.onSchemeSelectionChange=function(){var e=this.getSchemeResourceFromUri(this.selectedSchemeUri);this.workingSchemes=null!=e?[e]:[],this.schemeChanged.emit(e)},ConceptTreePanelComponent.prototype.getSchemeResourceFromUri=function(e){for(var t=0;t<this.schemeList.length;t++)if(this.schemeList[t].getURI()==e)return this.schemeList[t];return null},ConceptTreePanelComponent.prototype.getSchemeRendering=function(e){return g.a.getRendering(e,this.rendering)},ConceptTreePanelComponent.prototype.doSearch=function(e){var t=this;this.lastSearch=e;var n,r,o=y.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences(),i=o.searchSettings;i.restrictLang&&(n=i.languages,r=i.includeLocales);var a=[];i.restrictActiveScheme&&(this.schemeChangeable?a.push(this.getSchemeResourceFromUri(this.selectedSchemeUri)):a=this.workingSchemes),v.a.startLoadingDiv(this.viewChildTree.blockDivElement.nativeElement),this.searchService.searchResource(e,[s.c.concept],i.useLocalName,i.useURI,i.useNotes,i.stringMatchMode,n,r,a,o.conceptTreePreferences.multischemeMode,h.b.getRequestOptions(this.projectCtx)).subscribe(function(n){v.a.stopLoadingDiv(t.viewChildTree.blockDivElement.nativeElement),g.a.sortResources(n,t.rendering?g.b.show:g.b.value),t.visualizationMode=o.conceptTreePreferences.visualization,t.visualizationMode==l.j.hierarchyBased?0==n.length?t.basicModals.alert("Search","No results found for '"+e+"'","warning"):1==n.length?t.selectSearchedResource(n[0]):t.basicModals.selectResource("Search",n.length+" results found.",n,t.rendering).then(function(e){t.selectSearchedResource(e)},function(){}):(0==n.length&&t.basicModals.alert("Search","No results found for '"+e+"'","warning"),t.viewChildTree.forceList(n))})},ConceptTreePanelComponent.prototype.selectSearchedResource=function(e){var t=this;this.getSearchedConceptSchemes(e).subscribe(function(n){var r=!1;if(0==t.workingSchemes.length)r=!0;else for(var o=0;o<n.length;o++)if(g.a.containsNode(t.workingSchemes,n[o])){r=!0;break}if(r)t.selectResourceVisualizationModeAware(e);else if(0==n.length)t.basicModals.confirm("Search","Searched concept '"+e.getShow()+"' does not belong to any scheme. Do you want to switch to no-scheme mode?","warning").then(function(n){t.vbProp.setActiveSchemes(y.a.getWorkingProjectCtx(t.projectCtx),[]),setTimeout(function(){t.selectResourceVisualizationModeAware(e)})},function(e){});else{var i="Searched concept '"+e.getShow()+"' is not reachable in the tree since it belongs to the following";n.length>1?i+=" schemes. If you want to activate one of these schemes and continue the search, please select the scheme you want to activate and press OK.":i+=" scheme. If you want to activate the scheme and continue the search, please select it and press OK.",t.resourceService.getResourcesInfo(n).subscribe(function(n){t.basicModals.selectResource("Search",i,n,t.rendering).then(function(n){t.vbProp.setActiveSchemes(y.a.getWorkingProjectCtx(t.projectCtx),t.workingSchemes.concat(n)),setTimeout(function(){t.selectResourceVisualizationModeAware(e)})},function(){})})}})},ConceptTreePanelComponent.prototype.selectResourceVisualizationModeAware=function(e){var t=this;this.visualizationMode=y.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences.visualization,this.visualizationMode==l.j.hierarchyBased?this.openTreeAt(e):(this.viewChildTree.forceList([e]),setTimeout(function(){t.viewChildTree.openRoot([e])}))},ConceptTreePanelComponent.prototype.getSearchedConceptSchemes=function(e){var t=e.getAdditionalProperty(s.a.SCHEMES);return null==t?this.skosService.getSchemesOfConcept(e):i.Observable.of(t)},ConceptTreePanelComponent.prototype.openTreeAt=function(e){this.viewChildTree.openTreeAt(e)},ConceptTreePanelComponent.prototype.settings=function(){var e=this,t=new o.b,n={context:t.keyboard(27).toJSON()};return this.modal.open(A.a,n).result.then(function(t){e.visualizationMode=y.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().conceptTreePreferences.visualization,e.visualizationMode==l.j.searchBased?(e.viewChildTree.forceList([]),e.lastSearch=null):e.refresh()},function(){})},ConceptTreePanelComponent.prototype.isAddToSchemeEnabled=function(){return null!=this.selectedNode&&this.isContextDataPanel()&&this.editable&&f.a.isAuthorized(b.a.skosAddMultipleToScheme)},ConceptTreePanelComponent.prototype.addToScheme=function(){var e=this;this.browsingModals.browseSchemeList("Select scheme").then(function(t){var n=new I.a("Add concepts to scheme",e.selectedNode,t),r=new o.b(n,void 0,I.a),i={context:r.keyboard(27).toJSON()};return e.modal.open(I.b,i).result},function(){})},ConceptTreePanelComponent.prototype.onConceptRemovedFromScheme=function(e){this.selectedNode=null},ConceptTreePanelComponent.prototype.onSchemeChanged=function(e){this.workingSchemes=e,this.visualizationMode=y.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences.visualization,this.visualizationMode==l.j.searchBased&&null!=this.lastSearch&&(this.viewChildTree.forceList([]),this.lastSearch=null)},L([n.i(r.r)(),M("design:type",Array)],ConceptTreePanelComponent.prototype,"schemes",void 0),L([n.i(r.r)(),M("design:type",Boolean)],ConceptTreePanelComponent.prototype,"schemeChangeable",void 0),L([n.i(r._7)(),M("design:type",Object)],ConceptTreePanelComponent.prototype,"schemeChanged",void 0),L([n.i(r.F)(w.a),M("design:type",w.a)],ConceptTreePanelComponent.prototype,"viewChildTree",void 0),ConceptTreePanelComponent=L([n.i(r.c)({selector:"concept-tree-panel",template:n(2007),host:{class:"vbox"}}),M("design:paramtypes",[u.a,d.a,S.a,o.c,c.a,p.a,R.a,a.a,x.a,C.a,m.a,E.a])],ConceptTreePanelComponent)}(P.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(5),i=n(3),a=n(32),s=n(11),l=n(71),c=n(23),p=n(12),d=n(10),u=n(6),f=n(21),h=n(14),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function ConceptTreeSettingsModal(e,t,n,r,o,i){this.dialog=e,this.resourceService=t,this.propService=n,this.prefService=r,this.vbProp=o,this.browsingModals=i,this.visualizationModes=[{label:"Hierarchy based",value:a.j.hierarchyBased},{label:"Search based",value:a.j.searchBased}],this.broaderProps=[],this.narrowerProps=[],this.multischemeModes=[a.i.or,a.i.and],this.context=e.context}return ConceptTreeSettingsModal.prototype.ngOnInit=function(){var e=this,t=u.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences;this.pristineConcPref=JSON.parse(JSON.stringify(t)),this.selectedMultischemeMode=t.multischemeMode,this.safeToGoLimit=t.safeToGoLimit,this.baseBroaderProp=t.baseBroaderUri,this.initBroaderProps(t.broaderProps),this.initNarrowerProps(t.narrowerProps),this.includeSubProps=t.includeSubProps,this.syncInverse=t.syncInverse,this.visualization=t.visualization,this.userGroup=u.a.getProjectUserBinding().getGroup(),null!=this.userGroup&&this.prefService.getPGSettings([a.a.pref_concept_tree_base_broader_prop],this.userGroup.iri,u.a.getWorkingProject()).subscribe(function(t){e.userGroupBaseBroaderProp=t[a.a.pref_concept_tree_base_broader_prop]})},ConceptTreeSettingsModal.prototype.initBroaderProps=function(e){var t=this;if(e.length>0){var n=[];e.forEach(function(e){n.push(new i.b(e))}),this.resourceService.getResourcesInfo(n).subscribe(function(e){t.broaderProps=e})}},ConceptTreeSettingsModal.prototype.initNarrowerProps=function(e){var t=this;if(e.length>0){var n=[];e.forEach(function(e){n.push(new i.b(e))}),this.resourceService.getResourcesInfo(n).subscribe(function(e){t.narrowerProps=e})}},ConceptTreeSettingsModal.prototype.changeBaseBroaderProperty=function(){var e=this,t=s.d.broader;null!=this.userGroup&&(t=new i.b(this.userGroupBaseBroaderProp)),this.browsingModals.browsePropertyTree("Select root class",[t]).then(function(t){e.baseBroaderProp=t.getURI()},function(){})},ConceptTreeSettingsModal.prototype.addBroader=function(){var e=this;this.browsingModals.browsePropertyTree("Select a broader property",[s.d.broader]).then(function(t){d.a.containsNode(e.broaderProps,t)||(e.broaderProps.push(t),e.syncInverse&&e.syncProps())},function(){})},ConceptTreeSettingsModal.prototype.addNarrower=function(){var e=this;this.browsingModals.browsePropertyTree("Select a narrower property",[s.d.narrower]).then(function(t){d.a.containsNode(e.narrowerProps,t)||(e.narrowerProps.push(t),e.syncInverse&&e.syncProps())},function(){})},ConceptTreeSettingsModal.prototype.removeBroader=function(){var e=this;this.broaderProps.splice(this.broaderProps.indexOf(this.selectedBroader),1),this.syncInverse&&this.propService.getInverseProperties([this.selectedBroader]).subscribe(function(t){t.forEach(function(t){var n=d.a.indexOfNode(e.narrowerProps,t);-1!=n&&e.narrowerProps.splice(n,1)})}),this.selectedBroader=null},ConceptTreeSettingsModal.prototype.removeNarrower=function(){var e=this;this.narrowerProps.splice(this.narrowerProps.indexOf(this.selectedNarrower),1),this.syncInverse&&this.propService.getInverseProperties([this.selectedNarrower]).subscribe(function(t){t.forEach(function(t){var n=d.a.indexOfNode(e.broaderProps,t);-1!=n&&e.broaderProps.splice(n,1)})}),this.selectedNarrower=null},ConceptTreeSettingsModal.prototype.onSyncChange=function(){this.syncInverse&&this.syncProps()},ConceptTreeSettingsModal.prototype.syncProps=function(){var e=this;this.broaderProps.length>0&&this.propService.getInverseProperties(this.broaderProps).subscribe(function(t){t.forEach(function(t){if(!d.a.containsNode(e.narrowerProps,t)){var n=t.getAdditionalProperty("inverseOf"),r=d.a.indexOfNode(e.broaderProps,new i.b(n));e.narrowerProps.splice(r,0,t)}})}),this.narrowerProps.length>0&&this.propService.getInverseProperties(this.narrowerProps).subscribe(function(t){t.forEach(function(t){if(!d.a.containsNode(e.broaderProps,t)){var n=t.getAdditionalProperty("inverseOf"),r=d.a.indexOfNode(e.narrowerProps,new i.b(n));e.broaderProps.splice(r,0,t)}})})},ConceptTreeSettingsModal.prototype.applyGroupSettings=function(){var e=this,t=[a.a.pref_concept_tree_base_broader_prop,a.a.pref_concept_tree_broader_props,a.a.pref_concept_tree_narrower_props,a.a.pref_concept_tree_include_subprops,a.a.pref_concept_tree_sync_inverse];this.prefService.getPGSettings(t,this.userGroup.iri,u.a.getWorkingProject()).subscribe(function(t){var n=t[a.a.pref_concept_tree_base_broader_prop];e.baseBroaderProp=null!=n?n:s.d.broader.getURI();var r=t[a.a.pref_concept_tree_broader_props];null!=r?e.initBroaderProps(r.split(",")):e.broaderProps=[];var o=t[a.a.pref_concept_tree_narrower_props];null!=o?e.initNarrowerProps(o.split(",")):e.narrowerProps=[],e.includeSubProps="false"!=t[a.a.pref_concept_tree_include_subprops],e.syncInverse="false"!=t[a.a.pref_concept_tree_sync_inverse]})},ConceptTreeSettingsModal.prototype.ok=function(e){this.pristineConcPref.visualization!=this.visualization&&this.vbProp.setConceptTreeVisualization(this.visualization);var t=!1,n=!1;if(this.visualization==a.j.hierarchyBased){if(this.pristineConcPref.multischemeMode!=this.selectedMultischemeMode&&this.vbProp.setMultischemeMode(this.selectedMultischemeMode),this.pristineConcPref.safeToGoLimit!=this.safeToGoLimit&&this.vbProp.setConceptTreeSafeToGoLimit(this.safeToGoLimit),this.pristineConcPref.baseBroaderUri!=this.baseBroaderProp&&this.vbProp.setConceptTreeBaseBroaderProp(this.baseBroaderProp),this.pristineConcPref.includeSubProps!=this.includeSubProps&&this.vbProp.setConceptTreeIncludeSubProps(this.includeSubProps),this.pristineConcPref.syncInverse!=this.syncInverse&&this.vbProp.setConceptTreeSyncInverse(this.syncInverse),this.pristineConcPref.broaderProps.length!=this.broaderProps.length&&(t=!0),!t)for(var r=0;r<this.pristineConcPref.broaderProps.length;r++){var o=this.pristineConcPref.broaderProps[r];if(!d.a.containsNode(this.broaderProps,new i.b(o))){t=!0;break}}if(!t)for(var r=0;r<this.broaderProps.length;r++)if(-1==this.pristineConcPref.broaderProps.indexOf(this.broaderProps[r].getURI())){t=!0;break}if(t){var s=[];this.broaderProps.forEach(function(e){return s.push(e.getURI())}),this.vbProp.setConceptTreeBroaderProps(s)}if(this.pristineConcPref.narrowerProps.length!=this.narrowerProps.length&&(n=!0),!n)for(var r=0;r<this.pristineConcPref.narrowerProps.length;r++){var o=this.pristineConcPref.narrowerProps[r];if(!d.a.containsNode(this.narrowerProps,new i.b(o))){n=!0;break}}if(!n)for(var r=0;r<this.narrowerProps.length;r++)if(-1==this.pristineConcPref.narrowerProps.indexOf(this.narrowerProps[r].getURI())){n=!0;break}if(n){var l=[];this.narrowerProps.forEach(function(e){return l.push(e.getURI())}),this.vbProp.setConceptTreeNarrowerProps(l)}}t||n||this.pristineConcPref.includeSubProps!=this.includeSubProps||this.pristineConcPref.visualization!=this.visualization||this.pristineConcPref.multischemeMode!=this.selectedMultischemeMode?(e.stopPropagation(),e.preventDefault(),this.dialog.close()):this.cancel()},ConceptTreeSettingsModal.prototype.cancel=function(){this.dialog.dismiss()},ConceptTreeSettingsModal=g([n.i(r.c)({selector:"concept-tree-settings-modal",template:n(2008)}),m("design:paramtypes",[o.g,p.a,c.a,l.a,f.a,h.a])],ConceptTreeSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(3),i=n(11),a=n(33),s=n(17),l=n(8),c=n(10),p=n(7),d=n(20),u=n(6),f=n(15),h=n(21),g=n(194),m=n(617),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function SchemeListComponent(t,n,r){var i=e.call(this,r)||this;return i.skosService=t,i.vbProp=n,i.structRole=o.c.conceptScheme,i.eventSubscriptions.push(r.schemeCreatedEvent.subscribe(function(e){return i.onListNodeCreated(e)})),i.eventSubscriptions.push(r.schemeDeletedEvent.subscribe(function(e){return i.onListNodeDeleted(e)})),i.eventSubscriptions.push(r.schemeChangedEvent.subscribe(function(e){u.a.getWorkingProjectCtx(i.projectCtx).getProject().getName()==e.project.getName()&&i.onSchemeChanged(e.schemes)})),i}return v(SchemeListComponent,e),SchemeListComponent.prototype.ngOnInit=function(){s.a.isAuthorized(d.a.skosGetSchemes)&&this.init()},SchemeListComponent.prototype.initImpl=function(){var e=this;p.a.startLoadingDiv(this.blockDivElement.nativeElement),this.skosService.getAllSchemes(l.b.getRequestOptions(this.projectCtx)).subscribe(function(t){c.a.sortResources(t,e.rendering?c.b.show:c.b.value);for(var n=0;n<t.length;n++){var r=c.a.containsNode(u.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().activeSchemes,t[n]);e.list.push({checked:r,scheme:t[n]})}p.a.stopLoadingDiv(e.blockDivElement.nativeElement)})},SchemeListComponent.prototype.onListNodeCreated=function(e){var t={checked:!1,scheme:e};this.list.unshift(t),this.context==p.b.addPropValue&&this.selectNode(t)},SchemeListComponent.prototype.onListNodeDeleted=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].scheme.getURI()==e.getURI()){if(u.a.getWorkingProject().isValidationEnabled()){var n=this.list[t].scheme.clone();n.setGraphs([new o.b(i.a.stagingRemoveGraph+u.a.getWorkingProject().getBaseURI())]),n.setAdditionalProperty(o.a.EXPLICIT,!1),n.setAdditionalProperty(o.a.SELECTED,!1),this.list[t].scheme=n}else this.list.splice(t,1);break}c.a.containsNode(u.a.getWorkingProjectCtx().getProjectPreferences().activeSchemes,this.selectedNode)&&this.updateActiveSchemesPref(),this.selectedNode=null},SchemeListComponent.prototype.selectNode=function(e){void 0!=this.selectedNode&&this.selectedNode.deleteAdditionalProperty(o.a.SELECTED),this.selectedNode=e.scheme,this.selectedNode.setAdditionalProperty(o.a.SELECTED,!0),this.nodeSelected.emit(e.scheme)},SchemeListComponent.prototype.ensureNodeVisibility=function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].scheme.getURI()==e.getURI()){if(t>=this.nodeLimit){var n=(t-this.nodeLimit)/this.increaseRate+1;this.nodeLimit=this.nodeLimit+this.increaseRate*n}break}},SchemeListComponent.prototype.activateAllScheme=function(){for(var e=0;e<this.list.length;e++)this.list[e].checked=!0;this.updateActiveSchemesPref()},SchemeListComponent.prototype.deactivateAllScheme=function(){for(var e=0;e<this.list.length;e++)this.list[e].checked=!1;this.updateActiveSchemesPref()},SchemeListComponent.prototype.updateActiveSchemesPref=function(){this.vbProp.setActiveSchemes(u.a.getWorkingProjectCtx(this.projectCtx),this.collectCheckedSchemes())},SchemeListComponent.prototype.collectCheckedSchemes=function(){for(var e=[],t=0;t<this.list.length;t++)this.list[t].checked&&e.push(this.list[t].scheme);return e},SchemeListComponent.prototype.onSchemeChanged=function(e){this.list.forEach(function(t){return t.checked=c.a.containsNode(e,t.scheme)})},b([n.i(r._12)(m.a),y("design:type",r._13)],SchemeListComponent.prototype,"viewChildrenNode",void 0),SchemeListComponent=b([n.i(r.c)({selector:"scheme-list",template:n(2009),host:{class:"treeListComponent"}}),y("design:paramtypes",[a.a,h.a,f.a])],SchemeListComponent)}(g.a);!function(){function SchemeListItem(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(15),i=n(195),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function SchemeListNodeComponent(t){return e.call(this,t)||this}return a(SchemeListNodeComponent,e),SchemeListNodeComponent=s([n.i(r.c)({selector:"scheme-list-node",template:n(2010)}),l("design:paramtypes",[o.a])],SchemeListNodeComponent)}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n(0),o=n(68),i=n(3),a=n(32),s=n(16),l=n(12),c=n(51),p=n(33),d=n(8),u=n(10),f=n(97),h=n(7),g=n(6),m=n(15),v=n(21),b=n(2),y=n(196),x=n(95),C=n(616),R=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),S=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(e){function SchemeListPanelComponent(t,n,r,o,a,s,l,c,p,d){var u=e.call(this,r,o,a,s,l,c,p,d)||this;return u.skosService=t,u.searchService=n,u.panelRole=i.c.conceptScheme,u}return R(SchemeListPanelComponent,e),SchemeListPanelComponent.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.modelType=g.a.getWorkingProjectCtx(this.projectCtx).getProject().getModelType(),this.multischemeMode=g.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences.multischemeMode},SchemeListPanelComponent.prototype.getActionContext=function(){return{metaClass:u.a.convertRoleToClass(this.panelRole,this.modelType),loadingDivRef:this.viewChildList.blockDivElement}},SchemeListPanelComponent.prototype.doSearch=function(e){var t,n,r=this,o=g.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings;o.restrictLang&&(t=o.languages,n=o.includeLocales),this.searchService.searchResource(e,[i.c.conceptScheme],o.useLocalName,o.useURI,o.useNotes,o.stringMatchMode,t,n,null,null,d.b.getRequestOptions(this.projectCtx)).subscribe(function(t){0==t.length?r.basicModals.alert("Search","No results found for '"+e+"'","warning"):1==t.length?r.openAt(t[0]):(u.a.sortResources(t,r.rendering?u.b.show:u.b.value),r.basicModals.selectResource("Search",t.length+" results found.",t,r.rendering).then(function(e){r.openAt(e)},function(){}))})},SchemeListPanelComponent.prototype.openAt=function(e){this.viewChildList.openListAt(e)},SchemeListPanelComponent.prototype.activateAllScheme=function(){this.viewChildList.activateAllScheme()},SchemeListPanelComponent.prototype.deactivateAllScheme=function(){this.viewChildList.deactivateAllScheme()},SchemeListPanelComponent.prototype.switchMultischemeMode=function(){this.multischemeMode=this.multischemeMode==a.i.and?a.i.or:a.i.and,this.vbProp.setMultischemeMode(this.multischemeMode),this.eventHandler.multischemeModeChangedEvent.emit()},SchemeListPanelComponent.prototype.isAddAllConceptsEnabled=function(){return null!=this.selectedNode&&this.isContextDataPanel()},SchemeListPanelComponent.prototype.addAllConcepts=function(){var e=this;this.basicModals.confirm("Add concepts to scheme","You are going to add all the existing concepts to the scheme '"+this.selectedNode.getShow()+"'. Are you sure?","warning").then(function(t){h.a.startLoadingDiv(h.a.blockDivFullScreen),e.skosService.addMultipleConceptsToScheme(e.selectedNode).subscribe(function(t){h.a.stopLoadingDiv(h.a.blockDivFullScreen),u.a.containsNode(g.a.getWorkingProjectCtx(e.projectCtx).getProjectPreferences().activeSchemes,e.selectedNode)&&e.eventHandler.refreshTreeListEvent.emit([i.c.concept])})},function(){})},SchemeListPanelComponent.prototype.refresh=function(){this.viewChildList.init()},S([n.i(r.F)(C.a),P("design:type",C.a)],SchemeListPanelComponent.prototype,"viewChildList",void 0),SchemeListPanelComponent=S([n.i(r.c)({selector:"scheme-list-panel",template:n(2011),host:{class:"vbox"}}),P("design:paramtypes",[p.a,c.a,s.a,l.a,b.a,o.a,m.a,v.a,f.a,x.a])],SchemeListPanelComponent)}(y.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(5),i=n(21),a=n(15),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function TreeListSettingsModal(e,t,n){this.dialog=e,this.vbProp=t,this.eventHandler=n,this.context=e.context}return TreeListSettingsModal.prototype.ngOnInit=function(){this.showDeprecated=this.vbProp.getShowDeprecated()},TreeListSettingsModal.prototype.onShowDeprecatedChange=function(){this.vbProp.setShowDeprecated(this.showDeprecated),this.eventHandler.showDeprecatedChangedEvent.emit(this.showDeprecated)},TreeListSettingsModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},TreeListSettingsModal=s([n.i(r.c)({selector:"tree-list-settings-modal",template:n(2013)}),l("design:paramtypes",[o.g,i.a,a.a])],TreeListSettingsModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(5),i=n(158),a=n(55),s=n(6),l=n(2),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function ChangePasswordModal(e,t,n,r){this.dialog=e,this.userService=t,this.authService=n,this.basicModals=r,this.context=e.context}return ChangePasswordModal.prototype.isInputValid=function(){return void 0!=this.oldPwd&&""!=this.oldPwd.trim()&&void 0!=this.newPwd&&""!=this.newPwd.trim()&&void 0!=this.newPwdConfirm&&""!=this.newPwdConfirm.trim()&&this.isNewPwdConfirmOk()},ChangePasswordModal.prototype.isNewPwdConfirmOk=function(){return this.newPwd==this.newPwdConfirm},ChangePasswordModal.prototype.ok=function(e){var t=this;this.userService.changePassword(s.a.getLoggedUser().getEmail(),this.oldPwd,this.newPwd).subscribe(function(e){t.basicModals.alert("Password changed","Your password has been succesfully changed. Now you will be logged out.").then(function(e){t.authService.logout().subscribe(function(e){t.dialog.close()})})})},ChangePasswordModal.prototype.cancel=function(){this.dialog.dismiss()},ChangePasswordModal=c([n.i(r.c)({selector:"change-pwd-modal",template:n(2014)}),p("design:paramtypes",[o.g,a.a,i.a,l.a])],ChangePasswordModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(46),i=n(3),a=n(80),s=n(83),l=n(158),c=n(55),p=n(7),d=n(21),u=n(2),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function RegistrationComponent(e,t,n,r,o,i,a){this.userService=e,this.administrationService=t,this.authService=n,this.vbProp=r,this.basicModals=o,this.router=i,this.activeRoute=a,this.firstAccess=!1,this.privacyStatementAvailable=!1}return RegistrationComponent.prototype.ngOnInit=function(){this.firstAccess="1"==this.activeRoute.snapshot.params.firstAccess,this.privacyStatementAvailable=this.vbProp.isPrivacyStatementAvailable()},RegistrationComponent.prototype.fillDefaultUser=function(){this.userForm.givenName="Admin",this.userForm.familyName="Admin",this.userForm.email="admin@vocbench.com",this.userForm.password="admin",this.userForm.confirmedPassword="admin"},RegistrationComponent.prototype.submit=function(){var e=this;if(!(this.userForm.email&&this.userForm.password&&""!=this.userForm.password.trim()&&this.userForm.confirmedPassword&&""!=this.userForm.confirmedPassword.trim()&&this.userForm.givenName&&""!=this.userForm.givenName.trim()&&this.userForm.familyName&&""!=this.userForm.familyName.trim()))return void this.basicModals.alert("Invalid data","Please fill all the required fields","error");if(this.userForm.urlAsIri&&(null==this.userForm.url||""==this.userForm.url.trim()))return void this.basicModals.alert("Invalid data","You checked the option to use the personal URL as user IRI, but the URL is not provided. Please enter a valid URL or uncheck the above option","error");if(!a.f.isValidEmail(this.userForm.email))return void this.basicModals.alert("Invalid data","Please enter a valid e-mail address","error");if(this.userForm.password!=this.userForm.confirmedPassword)return void this.basicModals.alert("Invalid data","Password and confirmed password are different.","error");if(this.userForm.urlAsIri&&!a.f.isIriValid(this.userForm.iri))return void this.basicModals.alert("Invalid data","Please enter a valid IRI.","error");var t=null;null!=this.userForm.iri&&(t=new i.b(this.userForm.iri)),p.a.startLoadingDiv(p.a.blockDivFullScreen),this.userService.registerUser(this.userForm.email,this.userForm.password,this.userForm.givenName,this.userForm.familyName,t,this.userForm.address,this.userForm.affiliation,this.userForm.url,this.userForm.avatarUrl,this.userForm.phone,this.userForm.languageProficiencies,this.userForm.customProperties).subscribe(function(t){p.a.stopLoadingDiv(p.a.blockDivFullScreen);var n;n=e.firstAccess?"The administrator account has been created. Now you will be automatically logged in with the email ("+e.userForm.email+") and the password you provided":"Your account has been created and is now pending activation. After the system administrator accepts your request, it will be possible to login with your email ("+e.userForm.email+") and the password you provided",e.basicModals.alert("Registration complete",n).then(function(t){e.firstAccess?e.authService.login(e.userForm.email,e.userForm.password).subscribe(function(){e.router.navigate(["/Sysconfig"])}):e.router.navigate(["/Home"])})})},RegistrationComponent.prototype.downloadPrivacyStatement=function(){this.administrationService.downloadPrivacyStatement().subscribe()},RegistrationComponent=f([n.i(r.c)({selector:"registration-component",template:n(2016),host:{class:"pageComponent"}}),h("design:paramtypes",[c.a,s.a,l.a,d.a,u.a,o.c,o.d])],RegistrationComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(46),i=n(2),a=n(55),s=n(7),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function ResetPasswordComponent(e,t,n,r){this.userService=e,this.basicModals=t,this.router=n,this.activeRoute=r}return ResetPasswordComponent.prototype.ngOnInit=function(){this.token=this.activeRoute.snapshot.params.token},ResetPasswordComponent.prototype.isEmailValid=function(){return null!=this.email&&""!=this.email.trim()},ResetPasswordComponent.prototype.reset=function(){var e=this;s.a.startLoadingDiv(s.a.blockDivFullScreen),this.userService.resetPassword(this.email,this.token).subscribe(function(t){s.a.stopLoadingDiv(s.a.blockDivFullScreen),e.basicModals.alert("Reset password","Password has been successfully reset. You will receive an e-mail with the new temporary password.").then(function(t){e.router.navigate(["/Home"])})})},ResetPasswordComponent=l([n.i(r.c)({selector:"reset-password-component",template:n(2017),host:{class:"pageComponent"}}),c("design:paramtypes",[a.a,i.a,o.c,o.d])],ResetPasswordComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(6),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function UserProfileComponent(){}return UserProfileComponent.prototype.ngOnInit=function(){this.user=o.a.getLoggedUser()},UserProfileComponent=i([n.i(r.c)({selector:"user-profile-component",template:n(2021),host:{class:"pageComponent"}}),a("design:paramtypes",[])],UserProfileComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(8),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=function(e){function StMetadataRegistry(){var t=null!==e&&e.apply(this,arguments)||this;return t.artifactId="st-metadata-registry-services",t}return i(StMetadataRegistry,e),StMetadataRegistry=a([n.i(r.g)()],StMetadataRegistry)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(1),i=(n.n(o),n(55)),a=n(6),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function UserResolver(e){this.userService=e}return UserResolver.prototype.resolve=function(e,t){return a.a.isLoggedIn()?o.Observable.of(a.a.getLoggedUser()):this.userService.getUser()},UserResolver=s([n.i(r.g)(),l("design:paramtypes",[i.a])],UserResolver)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return r});var r,o=n(0),i=n(22),a=n(56),s=(n.n(a),n(4)),l=n(121),c=n(32),p=n(51),d=n(2380),u=(n.n(d),n(627)),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function ManchesterEditorComponent(e,t,n){this.manchesterService=e,this.searchServices=t,this.modal=n,this.markers=[],this.codeValid=!0,this.propagateChange=function(e){}}return e=ManchesterEditorComponent,ManchesterEditorComponent.prototype.ngAfterViewInit=function(){var e=this;this.cmEditor=a.fromTextArea(this.textareaElement.nativeElement,{lineNumbers:!0,mode:"manchester",indentUnit:4,indentWithTabs:!0,lineWrapping:!0,readOnly:this.disabled,viewportMargin:1/0,extraKeys:{"Ctrl-Space":"autocomplete"},hintOptions:{hint:function(t,n){return e.asyncHintFunction()}}}),this.cmEditor.on("change",function(t){e.onCodeChange(t.getDoc().getValue())})},ManchesterEditorComponent.prototype.ngOnChanges=function(e){e.disabled&&null!=this.cmEditor&&this.cmEditor.setOption("readOnly",e.disabled.currentValue)},ManchesterEditorComponent.prototype.onCodeChange=function(e){var t=this;clearTimeout(this.codeValidationTimer),this.codeValidationTimer=window.setTimeout(function(){t.validateExpression(e)},1e3)},ManchesterEditorComponent.prototype.onClick=function(){var e=new s.b,t={context:e.dialogClass("modal-dialog").keyboard(27).toJSON()};return this.modal.open(u.a,t)},ManchesterEditorComponent.prototype.asyncHintFunction=function(){for(var e=/[\w|:$]+/,t=this.cmEditor.getDoc().getCursor(),n=this.cmEditor.getDoc().getLine(t.line),r=t.ch,o=r;o&&e.test(n.charAt(o-1));)--o;var i=o!=r&&n.slice(o,r);if(""!=i){if(-1!=i.indexOf(":")){for(var s=o;s<=r;s++)if(":"==n.charAt(s)){o=s+1;break}return this.searchServices.searchURIList(i,c.f.startsWith,200).map(function(e){return e.length>199?(e.sort(),e.push("..."),{from:a.Pos(t.line,o),to:a.Pos(t.line,r),list:e}):{from:a.Pos(t.line,o),to:a.Pos(t.line,r),list:e.sort()}}).toPromise()}var l=["SOME","ONLY","VALUE","MIN","MAX","EXACTLY","SELF","LENGTH","MINLENGTH","MAXLENGTH","PATTERN","LANGRANGE","OR","AND","NOT","THAT"],p=l.filter(function(e){return e.startsWith(i.toUpperCase())}).sort();return this.searchServices.searchPrefix(i,c.f.startsWith).map(function(e){var n=[];if(e.length>0&&p.length>0)return p.forEach(function(e){"SOME"==e||"ONLY"==e||"VALUE"==e||"MIN"==e||"MAX"==e||"EXACTLY"==e||"SELF"==e?n.push({text:e,className:"quantifier"}):"LANGRANGE"==e||"LENGTH"==e||"MAXLENGTH"==e||"MINLENGTH"==e||"PATTERN"==e||"<"==e||"<="==e||">"==e||">="==e?n.push({text:e,className:"facet"}):"AND"!=e&&"OR"!=e&&"NOT"!=e&&"THAT"!=e||n.push({text:e,className:"conjuction"})}),e.sort().forEach(function(t){0==e.indexOf(t)?n.push({text:t+":",className:"hint-separator"}):n.push({text:t+":"})}),{from:a.Pos(t.line,o),to:a.Pos(t.line,r),list:n};p.length>0?p.forEach(function(e){"SOME"==e||"ONLY"==e||"VALUE"==e||"MIN"==e||"MAX"==e||"EXACTLY"==e||"SELF"==e||"INVERSE"==e?n.push({text:e,className:"quantifier"}):"LANGRANGE"==e||"LENGTH"==e||"MAXLENGTH"==e||"MINLENGTH"==e||"PATTERN"==e||"<"==e||"<="==e||">"==e||">="==e?n.push({text:e,className:"facet"}):"AND"!=e&&"OR"!=e&&"NOT"!=e&&"THAT"!=e||n.push({text:e,className:"conjuction"})}):e.length>0&&e.sort().forEach(function(e){n.push({text:e+":"})});var i={from:a.Pos(t.line,o),to:a.Pos(t.line,r),list:n};return i.list.length>0?i:void 0}).toPromise()}},ManchesterEditorComponent.prototype.errorMarks=function(e){var t=this;this.markers.forEach(function(e){e.clear()}),e.forEach(function(e){if("semantic"==e.type){for(var n=e.qname+"\\b|"+e.iri,r=t.cmEditor.getDoc().getSearchCursor(new RegExp(n)),o=0;o<=e.occurrence;o++)r.findNext();var i=t.cmEditor.getDoc().markText(r.from(),r.to(),{className:"underline",title:e.msg});t.markers.push(i)}else{var a=t.cmEditor.getDoc().posFromIndex(e.occurrence),s=e.occurrence+e.offendingTerm.length,l=t.cmEditor.getDoc().posFromIndex(s),c=e.expectedTokens.join("\n");if("<EOF>"==e.offendingTerm){var p=t.cmEditor.getDoc().posFromIndex(e.occurrence-1),d=t.cmEditor.getDoc().posFromIndex(e.occurrence),i=t.cmEditor.getDoc().markText(p,d,{className:"underline",title:c});t.markers.push(i)}else{var i=t.cmEditor.getDoc().markText(a,l,{className:"underline",title:c});t.markers.push(i)}}})},ManchesterEditorComponent.prototype.validateExpression=function(e){var t,n=this;t=this.context==r.datatypeFacets?this.manchesterService.checkDatatypeExpression(e):this.context==r.datatypeEnumeration?this.manchesterService.checkLiteralEnumerationExpression(e):this.manchesterService.checkExpression(e),t.subscribe(function(t){if(""!=e)if(n.codeValid=t.valid,n.errorMarks(t.details),n.codeValid)n.propagateChange(e);else{var r=t.details.map(function(e){return e.msg});n.codeInvalidDetails=r.join("\n"),n.propagateChange(null)}else n.codeValid=!0})},ManchesterEditorComponent.prototype.insertAtCursor=function(e){var t=this.cmEditor.getDoc().getCursor();this.cmEditor.getDoc().replaceRange(e,t,t)},ManchesterEditorComponent.prototype.writeValue=function(e){null!=e&&this.cmEditor.setValue(e)},ManchesterEditorComponent.prototype.registerOnChange=function(e){this.propagateChange=e},ManchesterEditorComponent.prototype.registerOnTouched=function(e){},f([n.i(o.r)(),h("design:type",String)],ManchesterEditorComponent.prototype,"context",void 0),f([n.i(o.r)(),h("design:type",Boolean)],ManchesterEditorComponent.prototype,"disabled",void 0),f([n.i(o.F)("txtarea"),h("design:type",Object)],ManchesterEditorComponent.prototype,"textareaElement",void 0),ManchesterEditorComponent=e=f([n.i(o.c)({selector:"manchester-editor",template:n(2024),providers:[{provide:i.b,useExisting:n.i(o._14)(function(){return e}),multi:!0}],host:{class:"vbox"}}),h("design:paramtypes",[l.a,p.a,s.c])],ManchesterEditorComponent);var e}();!function(e){e.datatypeFacets="datatypeFacets",e.datatypeEnumeration="datatypeEnumeration"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(5),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function HelperModal(e){this.dialog=e}return HelperModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},HelperModal=i([n.i(r.c)({selector:"helper-modal",template:n(2025),styles:[n(2103)]}),a("design:paramtypes",[o.g])],HelperModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function AlertCheckModalData(t,n,r,o,i){void 0===t&&(t="Modal Title"),void 0===n&&(n="Modal Body!"),void 0===r&&(r="Label check"),void 0===o&&(o="info");var a=e.call(this)||this;return a.title=t,a.message=n,a.checkboxLabel=r,a.type=o,a.details=i,a}return a(AlertCheckModalData,e),AlertCheckModalData}(o.d),p=function(){function AlertCheckModal(e){switch(this.dialog=e,this.check=!1,this.detailsCollapsed=!0,this.context=e.context,this.context.type){case"info":this.msgStyle="vbox alert alert-info",this.headerStyle="modal-title text-info";break;case"error":this.msgStyle="vbox alert alert-danger",this.headerStyle="modal-title text-danger";break;case"warning":this.msgStyle="vbox alert alert-warning",this.headerStyle="modal-title text-warning";break;default:this.msgStyle="vbox alert alert-info",this.headerStyle="modal-title text-info"}}return AlertCheckModal.prototype.ok=function(){this.dialog.close(this.check)},AlertCheckModal=s([n.i(r.c)({selector:"alert-check-modal",template:n(2032)}),l("design:paramtypes",[i.g])],AlertCheckModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function AlertModalData(t,n,r,o){void 0===t&&(t="Modal Title"),void 0===n&&(n="Modal Body!"),void 0===r&&(r="info");var i=e.call(this)||this;return i.title=t,i.message=n,i.type=r,i.details=o,i}return a(AlertModalData,e),AlertModalData}(o.d),p=function(){function AlertModal(e){switch(this.dialog=e,this.detailsCollapsed=!0,this.context=e.context,this.context.type){case"info":this.msgStyle="vbox alert alert-info",this.headerStyle="modal-title text-info";break;case"error":this.msgStyle="vbox alert alert-danger",this.headerStyle="modal-title text-danger";break;case"warning":this.msgStyle="vbox alert alert-warning",this.headerStyle="modal-title text-warning";break;default:this.msgStyle="vbox alert alert-info",this.headerStyle="modal-title text-info"}}return AlertModal.prototype.ok=function(){this.dialog.close(!0)},AlertModal=s([n.i(r.c)({selector:"alert-modal",template:n(2033)}),l("design:paramtypes",[i.g])],AlertModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ConfirmCheckModalData(t,n,r,o,i,a){void 0===t&&(t="Modal Title"),void 0===n&&(n="Modal Body!"),void 0===r&&(r="Label check"),void 0===o&&(o="info"),void 0===i&&(i="Yes"),void 0===a&&(a="No");var s=e.call(this)||this;return s.title=t,s.message=n,s.checkboxLabel=r,s.type=o,s.yesText=i,s.noText=a,s}return a(ConfirmCheckModalData,e),ConfirmCheckModalData}(o.d),p=function(){function ConfirmCheckModal(e){switch(this.dialog=e,this.check=!1,this.context=e.context,this.context.type){case"info":this.msgStyle="alert alert-info",this.headerStyle="modal-title text-info";break;case"error":this.msgStyle="alert alert-danger",this.headerStyle="modal-title text-danger";break;case"warning":this.msgStyle="alert alert-warning",this.headerStyle="modal-title text-warning";break;default:this.msgStyle="alert alert-info",this.headerStyle="modal-title text-info"}}return ConfirmCheckModal.prototype.ok=function(e){this.dialog.close(this.check)},ConfirmCheckModal.prototype.cancel=function(){this.dialog.dismiss()},ConfirmCheckModal=s([n.i(r.c)({selector:"confirm-modal",template:n(2034)}),l("design:paramtypes",[i.g])],ConfirmCheckModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ConfirmModalData(t,n,r,o,i){void 0===t&&(t="Modal Title"),void 0===n&&(n="Modal Body!"),void 0===r&&(r="info"),void 0===o&&(o="Yes"),void 0===i&&(i="No");var a=e.call(this)||this;return a.title=t,a.message=n,a.type=r,a.yesText=o,a.noText=i,a}return a(ConfirmModalData,e),ConfirmModalData}(o.d),p=function(){function ConfirmModal(e){switch(this.dialog=e,this.context=e.context,this.context.type){case"info":this.msgStyle="alert alert-info",this.headerStyle="modal-title text-info";break;case"error":this.msgStyle="alert alert-danger",this.headerStyle="modal-title text-danger";break;case"warning":this.msgStyle="alert alert-warning",this.headerStyle="modal-title text-warning";break;default:this.msgStyle="alert alert-info",this.headerStyle="modal-title text-info"}}return ConfirmModal.prototype.ok=function(e){this.dialog.close(!0)},ConfirmModal.prototype.cancel=function(){this.dialog.dismiss()},ConfirmModal=s([n.i(r.c)({selector:"confirm-modal",template:n(2035)}),l("design:paramtypes",[i.g])],ConfirmModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(79),i=n(4),a=n(5),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function DownloadModalData(t,n,r,o){void 0===t&&(t="Modal Title");var i=e.call(this)||this;return i.title=t,i.message=n,i.downloadLink=r,i.fileName=o,i}return s(DownloadModalData,e),DownloadModalData}(i.d),d=function(){function DownloadModal(e,t){this.dialog=e,this.sanitizer=t,this.context=e.context}return DownloadModal.prototype.ngOnInit=function(){this.safeDownloadLink=this.sanitizer.bypassSecurityTrustUrl(this.context.downloadLink)},DownloadModal.prototype.ok=function(e){this.dialog.close(!0)},DownloadModal=l([n.i(r.c)({selector:"download-modal",template:n(2036)}),c("design:paramtypes",[a.g,o.c])],DownloadModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function FilePickerModalData(t,n,r,o,i){void 0===t&&(t="Modal Title");var a=e.call(this)||this;return a.title=t,a.message=n,a.label=r,a.placeholder=o,a.accept=i,a}return a(FilePickerModalData,e),FilePickerModalData}(o.d),p=function(){function FilePickerModal(e){this.dialog=e,this.context=e.context}return FilePickerModal.prototype.ngOnInit=function(){},FilePickerModal.prototype.fileChangeEvent=function(e){this.pickedFile=e},FilePickerModal.prototype.ok=function(e){this.dialog.close(this.pickedFile)},FilePickerModal.prototype.cancel=function(){this.dialog.dismiss()},FilePickerModal=s([n.i(r.c)({selector:"file-picker-modal",template:n(2037)}),l("design:paramtypes",[i.g])],FilePickerModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function PromptModalData(t,n,r,o,i,a,s){void 0===t&&(t="Modal Title"),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===s&&(s=!1);var l=e.call(this)||this;return l.title=t,l.label=n,l.message=r,l.value=o,l.hideNo=i,l.inputOptional=a,l.inputSanitized=s,l}return a(PromptModalData,e),PromptModalData}(o.d),p=function(){function PromptModal(e){this.dialog=e,this.submitted=!1,this.context=e.context,this.inputTxt=this.context.value}return PromptModal.prototype.ngOnInit=function(){document.getElementById("toFocus").focus()},PromptModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.inputTxt)},PromptModal.prototype.cancel=function(){this.dialog.dismiss()},PromptModal.prototype.onKeydown=function(e){13==e.which&&(this.submitted=!0,this.isInputValid()&&this.ok(e))},PromptModal.prototype.isInputValid=function(){return void 0!=this.inputTxt&&""!=this.inputTxt.trim()},PromptModal=s([n.i(r.c)({selector:"prompt-modal",template:n(2038)}),l("design:paramtypes",[i.g])],PromptModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function PromptPrefixedModalData(t,n,r,o,i,a,s,l){void 0===t&&(t="Modal Title"),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===l&&(l=!1);var c=e.call(this)||this;return c.title=t,c.prefix=n,c.label=r,c.value=o,c.hideNo=i,c.inputOptional=a,c.inputSanitized=s,c.prefixEditable=l,c}return a(PromptPrefixedModalData,e),PromptPrefixedModalData}(o.d),p=function(){function PromptPrefixedModal(e){this.dialog=e,this.namespaceLocked=!0,this.submitted=!1,this.context=e.context,this.prefixedTxt=this.context.value}return PromptPrefixedModal.prototype.ngAfterViewInit=function(){document.getElementById("toFocus").focus()},PromptPrefixedModal.prototype.unlockNamespace=function(){this.namespaceLocked=!this.namespaceLocked,this.namespaceLocked?this.fromExpandedToPrefixed():this.expandedTxt=this.context.prefix+(null!=this.prefixedTxt?this.prefixedTxt:"")},PromptPrefixedModal.prototype.fromExpandedToPrefixed=function(){var e=this.expandedTxt.lastIndexOf(".");e>0?(this.context.prefix=this.expandedTxt.substring(0,e+1),this.prefixedTxt=this.expandedTxt.substring(e+1)):this.prefixedTxt=null},PromptPrefixedModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();var t;t=this.namespaceLocked?this.context.prefix+this.prefixedTxt:this.expandedTxt,this.dialog.close(t)},PromptPrefixedModal.prototype.cancel=function(){this.dialog.dismiss()},PromptPrefixedModal.prototype.onKeydown=function(e){13==e.which&&(this.submitted=!0,this.isInputValid()&&this.ok(e))},PromptPrefixedModal.prototype.isInputValid=function(){return this.namespaceLocked?void 0!=this.prefixedTxt&&""!=this.prefixedTxt.trim():void 0!=this.expandedTxt&&""!=this.expandedTxt.trim()},PromptPrefixedModal=s([n.i(r.c)({selector:"prompt-prefixed-modal",template:n(2039)}),l("design:paramtypes",[i.g])],PromptPrefixedModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function PromptPropertiesModalData(t,n,r){var o=e.call(this)||this;return o.title=t,o.properties=n,o.allowEmpty=r,o}return a(PromptPropertiesModalData,e),PromptPropertiesModalData}(o.d),p=function(){function PromptPropertiesModal(e){this.dialog=e,this.mapKeys=[],this.context=e.context,this.properties=JSON.parse(JSON.stringify(this.context.properties))}return PromptPropertiesModal.prototype.ngOnInit=function(){for(var e in this.properties)this.mapKeys.push(e)},PromptPropertiesModal.prototype.isOkClickable=function(){var e=this;if(this.context.allowEmpty)return!0;var t=!1;return this.mapKeys.forEach(function(n){null!=e.properties[n]&&""!=e.properties[n].trim()||(t=!0)}),!t},PromptPropertiesModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.properties)},PromptPropertiesModal.prototype.cancel=function(){this.dialog.dismiss()},PromptPropertiesModal=s([n.i(r.c)({selector:"prompt-prop-modal",template:n(2040)}),l("design:paramtypes",[i.g])],PromptPropertiesModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function CustomFormSelectionModalData(t,n,r){void 0===r&&(r=!1);var o=e.call(this)||this;return o.title=t,o.cfList=n,o.hideNo=r,o}return a(CustomFormSelectionModalData,e),CustomFormSelectionModalData}(o.d),p=function(){function CustomFormSelectionModal(e){this.dialog=e,this.context=e.context}return CustomFormSelectionModal.prototype.selectCF=function(e){this.selectedCF=e},CustomFormSelectionModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close(this.selectedCF)},CustomFormSelectionModal.prototype.cancel=function(){this.dialog.dismiss()},CustomFormSelectionModal=s([n.i(r.c)({selector:"cf-selection-modal",template:n(2041)}),l("design:paramtypes",[i.g])],CustomFormSelectionModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ResourceSelectionModalData(t,n,r,o){void 0===t&&(t="Modal Title"),void 0===o&&(o=!0);var i=e.call(this)||this;return i.title=t,i.message=n,i.resourceList=r,i.rendering=o,i}return a(ResourceSelectionModalData,e),ResourceSelectionModalData}(o.d),p=function(){function ResourceSelectionModal(e){this.dialog=e,this.context=e.context,this.rendering=this.context.rendering}return ResourceSelectionModal.prototype.isResourceSelected=function(e){return this.resourceSelected==e},ResourceSelectionModal.prototype.onResourceSelected=function(e){this.resourceSelected=e},ResourceSelectionModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close(this.resourceSelected)},ResourceSelectionModal.prototype.cancel=function(){this.dialog.dismiss()},ResourceSelectionModal=s([n.i(r.c)({selector:"resource-selection-modal",template:n(2042)}),l("design:paramtypes",[i.g])],ResourceSelectionModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function SelectionModalData(t,n,r,o){void 0===t&&(t="Modal Title"),void 0===o&&(o="info");var i=e.call(this)||this;return i.title=t,i.message=n,i.options=r,i.type=o,i}return a(SelectionModalData,e),SelectionModalData}(i.d),p=function(){function SelectionModal(e){this.dialog=e,this.context=e.context}return SelectionModal.prototype.ngOnInit=function(){switch(this.size=20,this.context.options.length<this.size&&(this.size=this.context.options.length),this.optionsWithDescription=this.context.options.length>0&&"object"==typeof this.context.options[0],this.context.type){case"info":this.msgStyle="alert alert-info",this.headerStyle="modal-title text-info";break;case"error":this.msgStyle="alert alert-danger",this.headerStyle="modal-title text-danger";break;case"warning":this.msgStyle="alert alert-warning",this.headerStyle="modal-title text-warning";break;default:this.msgStyle="alert alert-info",this.headerStyle="modal-title text-info"}},SelectionModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close(this.optionSelected)},SelectionModal.prototype.cancel=function(){this.dialog.dismiss()},SelectionModal=s([n.i(r.c)({selector:"selection-modal",template:n(2043)}),l("design:paramtypes",[o.g])],SelectionModal)}();!function(){function SelectionOption(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ClassIndividualTreeModalData(t,n,r){void 0===t&&(t="Modal Title");var o=e.call(this)||this;return o.title=t,o.classes=n,o.projectCtx=r,o}return s(ClassIndividualTreeModalData,e),ClassIndividualTreeModalData}(i.d),d=function(){function ClassIndividualTreeModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return ClassIndividualTreeModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},ClassIndividualTreeModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedInstance)},ClassIndividualTreeModal.prototype.cancel=function(){this.dialog.dismiss()},ClassIndividualTreeModal.prototype.onInstanceSelected=function(e){this.selectedInstance=e},ClassIndividualTreeModal=l([n.i(r.c)({selector:"class-individual-tree-modal",template:n(2044)}),c("design:paramtypes",[o.g,r.e])],ClassIndividualTreeModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ClassTreeModalData(t,n,r){void 0===t&&(t="Modal Title"),void 0===n&&(n=null);var o=e.call(this)||this;return o.title=t,o.roots=n,o.projectCtx=r,o}return s(ClassTreeModalData,e),ClassTreeModalData}(i.d),d=function(){function ClassTreeModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return ClassTreeModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},ClassTreeModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedClass)},ClassTreeModal.prototype.cancel=function(){this.dialog.dismiss()},ClassTreeModal.prototype.onClassSelected=function(e){this.selectedClass=e},ClassTreeModal=l([n.i(r.c)({selector:"class-tree-modal",template:n(2045)}),c("design:paramtypes",[o.g,r.e])],ClassTreeModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function CollectionTreeModalData(t,n){void 0===t&&(t="Modal Title");var r=e.call(this)||this;return r.title=t,r.projectCtx=n,r}return s(CollectionTreeModalData,e),CollectionTreeModalData}(i.d),d=function(){function CollectionTreeModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return CollectionTreeModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},CollectionTreeModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedCollection)},CollectionTreeModal.prototype.cancel=function(){this.dialog.dismiss()},CollectionTreeModal.prototype.onCollectionSelected=function(e){this.selectedCollection=e},CollectionTreeModal=l([n.i(r.c)({selector:"collection-tree-modal",template:n(2046)}),c("design:paramtypes",[o.g,r.e])],CollectionTreeModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function ConceptTreeModalData(t,n,r,o){void 0===t&&(t="Modal Title"),void 0===r&&(r=!1);var i=e.call(this)||this;return i.title=t,i.schemes=n,i.schemeChangeable=r,i.projectCtx=o,i}return s(ConceptTreeModalData,e),ConceptTreeModalData}(i.d),d=function(){function ConceptTreeModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return ConceptTreeModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},ConceptTreeModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedConcept)},ConceptTreeModal.prototype.cancel=function(){this.dialog.dismiss()},ConceptTreeModal.prototype.onConceptSelected=function(e){this.selectedConcept=e},ConceptTreeModal=l([n.i(r.c)({selector:"concept-tree-modal",template:n(2047)}),c("design:paramtypes",[o.g,r.e])],ConceptTreeModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function DatatypeListModalData(t){void 0===t&&(t="Modal Title");var n=e.call(this)||this;return n.title=t,n}return s(DatatypeListModalData,e),DatatypeListModalData}(i.d),d=function(){function DatatypeListModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return DatatypeListModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},DatatypeListModal.prototype.onNodeSelected=function(e){this.selectedNode=e},DatatypeListModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedNode)},DatatypeListModal.prototype.cancel=function(){this.dialog.dismiss()},DatatypeListModal=l([n.i(r.c)({selector:"datatype-list-modal",template:n(2048)}),c("design:paramtypes",[o.g,r.e])],DatatypeListModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function InstanceListModalData(t,n){void 0===t&&(t="Modal Title");var r=e.call(this)||this;return r.title=t,r.cls=n,r}return s(InstanceListModalData,e),InstanceListModalData}(i.d),d=function(){function InstanceListModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return InstanceListModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},InstanceListModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedInstance)},InstanceListModal.prototype.cancel=function(){this.dialog.dismiss()},InstanceListModal.prototype.onInstanceSelected=function(e){this.selectedInstance=e},InstanceListModal=l([n.i(r.c)({selector:"instance-list-modal",template:n(2049)}),c("design:paramtypes",[o.g,r.e])],InstanceListModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var r=n(0),o=n(5),i=n(4),a=n(12),s=n(8),l=n(7),c=n(6),p=n(311),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function LexicalEntryListModalData(t,n,r,o,i,a,s){void 0===t&&(t="Modal Title"),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===a&&(a=!1);var l=e.call(this)||this;return l.title=t,l.lexicon=n,l.lexiconChangeable=r,l.editable=o,l.deletable=i,l.allowMultiselection=a,l.projectCtx=s,l}return d(LexicalEntryListModalData,e),LexicalEntryListModalData}(i.d),g=function(){function LexicalEntryListModal(e,t,n,r){this.dialog=e,this.modal=t,this.resourceService=n,this.elementRef=r,this.checkedResources=[],this.multiselection=!1,this.context=e.context}return LexicalEntryListModal.prototype.ngOnInit=function(){var e=this;if(this.activeLexicon=this.context.lexicon,null==this.activeLexicon){var t=c.a.getWorkingProjectCtx(this.context.projectCtx).getProjectPreferences().activeLexicon;null!=t&&this.resourceService.getResourceDescription(t,s.b.getRequestOptions(this.context.projectCtx)).subscribe(function(t){e.activeLexicon=t})}},LexicalEntryListModal.prototype.ngAfterViewInit=function(){l.a.setFullSizeModal(this.elementRef)},LexicalEntryListModal.prototype.onLexiconSelected=function(e){this.selectedEntry=e},LexicalEntryListModal.prototype.changeLexicon=function(){var e=this;this.browseLexiconList("Select a Lexicon").then(function(t){e.activeLexicon=t},function(){})},LexicalEntryListModal.prototype.browseLexiconList=function(e){var t=new p.a(e,this.context.projectCtx),n=new i.b(t,void 0,p.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(p.b,r).result},LexicalEntryListModal.prototype.isOkEnabled=function(){return this.multiselection?this.checkedResources.length>0:null!=this.selectedEntry},LexicalEntryListModal.prototype.ok=function(e){var t=this.multiselection?this.checkedResources:this.selectedEntry;e.stopPropagation(),e.preventDefault(),this.dialog.close(t)},LexicalEntryListModal.prototype.cancel=function(){this.dialog.dismiss()},LexicalEntryListModal=u([n.i(r.c)({selector:"lexical-entry-list-modal",template:n(2050)}),f("design:paramtypes",[o.g,i.c,a.a,r.e])],LexicalEntryListModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function PropertyTreeModalData(t,n,r,o,i){void 0===t&&(t="Modal Title");var a=e.call(this)||this;return a.title=t,a.rootProperties=n,a.resource=r,a.type=o,a.projectCtx=i,a}return s(PropertyTreeModalData,e),PropertyTreeModalData}(i.d),d=function(){function PropertyTreeModal(e,t){this.dialog=e,this.elementRef=t,this.showAll=!1,this.context=e.context}return PropertyTreeModal.prototype.ngOnInit=function(){this.domainRes=this.context.resource},PropertyTreeModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},PropertyTreeModal.prototype.onPropertySelected=function(e){this.selectedProperty=e},PropertyTreeModal.prototype.onShowAllChanged=function(){this.selectedProperty=null,this.showAll?this.domainRes=null:this.domainRes=this.context.resource},PropertyTreeModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedProperty)},PropertyTreeModal.prototype.cancel=function(){this.dialog.dismiss()},PropertyTreeModal=l([n.i(r.c)({selector:"class-tree-modal",template:n(2052)}),c("design:paramtypes",[o.g,r.e])],PropertyTreeModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function SchemeListModalData(t,n){void 0===t&&(t="Modal Title");var r=e.call(this)||this;return r.title=t,r.projectCtx=n,r}return s(SchemeListModalData,e),SchemeListModalData}(i.d),d=function(){function SchemeListModal(e,t){this.dialog=e,this.elementRef=t,this.context=e.context}return SchemeListModal.prototype.ngAfterViewInit=function(){a.a.setFullSizeModal(this.elementRef)},SchemeListModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedScheme)},SchemeListModal.prototype.cancel=function(){this.dialog.dismiss()},SchemeListModal.prototype.onSchemeSelected=function(e){this.selectedScheme=e},SchemeListModal=l([n.i(r.c)({selector:"scheme-list-modal",template:n(2053)}),c("design:paramtypes",[o.g,r.e])],SchemeListModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(4),i=n(5),a=n(3),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function NewPlainLiteralModalData(t,n,r,o,i,a,s){void 0===t&&(t="Create new label"),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a={constrain:!1,locale:!0}),void 0===s&&(s={enabled:!1,allowSameLang:!0});var l=e.call(this)||this;return l.title=t,l.value=n,l.valueReadonly=r,l.lang=o,l.langReadonly=i,l.langConstraints=a,l.multiLabelOpt=s,l}return s(NewPlainLiteralModalData,e),NewPlainLiteralModalData}(o.d),d=function(){function NewPlainLiteralModal(e){this.dialog=e,this.viewInitialized=!1,this.values=[],this.context=e.context}return NewPlainLiteralModal.prototype.ngOnInit=function(){this.lang=this.context.lang,this.value=this.context.value,document.getElementById("toFocus").focus()},NewPlainLiteralModal.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.viewInitialized=!0})},NewPlainLiteralModal.prototype.onKeydown=function(e){13==e.which&&(e.shiftKey||e.altKey||e.ctrlKey||0==this.values.length&&this.isInputValid()&&this.ok(e))},NewPlainLiteralModal.prototype.isInputValid=function(){return void 0!=this.value&&""!=this.value.trim()},NewPlainLiteralModal.prototype.addValue=function(){this.values.push(new a.f(this.value,null,this.lang)),this.value=null},NewPlainLiteralModal.prototype.removeValue=function(e){this.values.splice(this.values.indexOf(e),1)},NewPlainLiteralModal.prototype.isDuplicateLangViolated=function(){var e=this,t=!1;return!this.context.multiLabelOpt.allowSameLang&&null!=this.value&&this.value.length>0&&this.values.forEach(function(n){n.getLang()==e.lang&&(t=!0)}),t},NewPlainLiteralModal.prototype.isOkWarningActive=function(){return this.values.length>0&&null!=this.value&&""!=this.value.trim()},NewPlainLiteralModal.prototype.isAddValueEnabled=function(){return null!=this.value&&""!=this.value.trim()&&null!=this.lang&&!this.isDuplicateLangViolated()},NewPlainLiteralModal.prototype.isOkEnabled=function(){return this.values.length>0||this.isInputValid()&&null!=this.lang},NewPlainLiteralModal.prototype.ok=function(e){var t;t=this.context.multiLabelOpt.enabled&&this.values.length>0?this.values:[new a.f(this.value,null,this.lang)],this.dialog.close(t)},NewPlainLiteralModal.prototype.cancel=function(){this.dialog.dismiss()},NewPlainLiteralModal=l([n.i(r.c)({selector:"new-plain-literal-modal",template:n(2054)}),c("design:paramtypes",[i.g])],NewPlainLiteralModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r=n(0),o=n(4),i=n(5),a=n(165),s=n(16),l=n(14),c=n(2),p=n(3),d=n(47),u=n(11),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function NewLexiconCfModalData(t,n){void 0===t&&(t="Modal title"),void 0===n&&(n=!1);var r=e.call(this)||this;return r.title=t,r.clsChangeable=n,r}return f(NewLexiconCfModalData,e),NewLexiconCfModalData}(o.d),v=function(e){function NewLexiconCfModal(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.dialog=t,i.viewInitialized=!1,i.context=t.context,i}return f(NewLexiconCfModal,e),NewLexiconCfModal.prototype.ngOnInit=function(){this.resourceClass=u.h.lexicon,this.selectCustomForm()},NewLexiconCfModal.prototype.ngAfterViewInit=function(){var e=this;this.inputToFocus.nativeElement.focus(),setTimeout(function(){e.viewInitialized=!0})},NewLexiconCfModal.prototype.changeClass=function(){this.changeClassWithRoot(u.h.lexicon)},NewLexiconCfModal.prototype.isStandardFormDataValid=function(){return void 0!=this.title&&""!=this.title.trim()&&null!=this.title_lang&&null!=this.lang},NewLexiconCfModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();var t=this.collectCustomFormData(),n={uriResource:null,title:new p.f(this.title,null,this.title_lang),language:this.lang,cls:null,cfValue:null};null!=this.uri&&""!=this.uri.trim()&&(n.uriResource=new p.b(this.uri)),null!=this.customFormId&&null!=t&&(n.cfValue=new d.a(this.customFormId,t)),this.dialog.close(n)},NewLexiconCfModal.prototype.cancel=function(){this.dialog.dismiss()},h([n.i(r.F)("toFocus"),g("design:type",r.e)],NewLexiconCfModal.prototype,"inputToFocus",void 0),NewLexiconCfModal=h([n.i(r.c)({selector:"new-lexicon-cf-modal",template:n(2056)}),g("design:paramtypes",[i.g,s.a,c.a,l.a])],NewLexiconCfModal)}(a.a);!function(){function NewLexiconCfModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(47),l=n(11),c=n(16),p=n(2),d=n(14),u=n(165),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function NewOntoLexicalizationCfModalData(t,n,r){void 0===t&&(t="Modal title"),void 0===r&&(r=!0);var o=e.call(this)||this;return o.title=t,o.lexicalizationProp=n,o.clsChangeable=r,o}return f(NewOntoLexicalizationCfModalData,e),NewOntoLexicalizationCfModalData}(i.d),v=function(e){function NewOntoLexicalizationCfModal(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.dialog=t,i.createPlainCheck=!0,i.createSenseCheck=!0,i.pickerRoles=[a.c.cls,a.c.individual,a.c.property,a.c.concept,a.c.conceptScheme,a.c.skosCollection],i.context=t.context,i}return f(NewOntoLexicalizationCfModal,e),NewOntoLexicalizationCfModal.prototype.ngOnInit=function(){this.resourceClass=l.f.lexicalSense,this.context.lexicalizationProp.getURI()==l.f.isDenotedBy.getURI()?(this.linkToReference=!1,this.createSense=!1):this.context.lexicalizationProp.getURI()==l.f.sense.getURI()?(this.linkToReference=!0,this.createSense=!0):this.context.lexicalizationProp.getURI()==l.f.denotes.getURI()&&(this.linkToReference=!0,this.createSense=!1),this.selectCustomForm()},NewOntoLexicalizationCfModal.prototype.changeClass=function(){this.changeClassWithRoot(l.f.lexicalSense)},NewOntoLexicalizationCfModal.prototype.pickLexicalEntry=function(){var e=this;this.browsingModals.browseLexicalEntryList("Select a LexicalEntry").then(function(t){e.linkedResource=t.getURI()})},NewOntoLexicalizationCfModal.prototype.updateLinkedRes=function(e){this.linkedResource=null!=e?e.getURI():null},NewOntoLexicalizationCfModal.prototype.isStandardFormDataValid=function(){return this.linkToReference,null!=this.linkedResource&&""!=this.linkedResource.trim()},NewOntoLexicalizationCfModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();var t=this.collectCustomFormData(),n={linkedResource:new a.b(this.linkedResource),createPlain:this.createPlainCheck,createSense:this.createSenseCheck,cls:this.resourceClass,cfValue:null};this.resourceClass.getURI()!=l.f.lexicalSense.getURI()&&(n.cls=this.resourceClass),this.createSense&&null!=this.customFormId&&null!=t&&(n.cfValue=new s.a(this.customFormId,t)),this.dialog.close(n)},NewOntoLexicalizationCfModal.prototype.cancel=function(){this.dialog.dismiss()},NewOntoLexicalizationCfModal=h([n.i(r.c)({selector:"new-ontolexicalization-cf-modal",template:n(2057)}),g("design:paramtypes",[o.g,c.a,p.a,d.a])],NewOntoLexicalizationCfModal)}(u.a);!function(){function NewOntoLexicalizationCfModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r=n(0),o=n(4),i=n(5),a=n(165),s=n(16),l=n(14),c=n(2),p=n(3),d=n(47),u=n(11),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function NewResourceCfModalData(t,n,r){void 0===t&&(t="Modal title"),void 0===r&&(r=!0);var o=e.call(this)||this;return o.title=t,o.cls=n,o.clsChangeable=r,o}return f(NewResourceCfModalData,e),NewResourceCfModalData}(o.d),v=function(e){function NewResourceCfModal(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.dialog=t,i.context=t.context,i}return f(NewResourceCfModal,e),NewResourceCfModal.prototype.ngOnInit=function(){this.resourceClass=this.context.cls,this.selectCustomForm()},NewResourceCfModal.prototype.changeClass=function(){var e=this.context.cls;e.getURI()==u.c.class.getURI()&&(e=u.b.class),this.changeClassWithRoot(e)},NewResourceCfModal.prototype.isStandardFormDataValid=function(){return null!=this.uri&&""!=this.uri.trim()},NewResourceCfModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();var t=this.collectCustomFormData(),n={uriResource:new p.b(this.uri),cls:this.resourceClass,cfValue:null};null!=this.customFormId&&null!=t&&(n.cfValue=new d.a(this.customFormId,t)),this.dialog.close(n)},NewResourceCfModal.prototype.cancel=function(){this.dialog.dismiss()},NewResourceCfModal=h([n.i(r.c)({selector:"new-resource-cf-modal",template:n(2058)}),g("design:paramtypes",[i.g,s.a,c.a,l.a])],NewResourceCfModal)}(a.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return m});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(47),l=n(16),c=n(2),p=n(14),d=n(165),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e){function NewResourceWithLiteralCfModalData(t,n,r,o,i,a){void 0===t&&(t="Modal title"),void 0===r&&(r=!0),void 0===o&&(o="Label"),void 0===a&&(a={constrain:!1,locale:!0});var s=e.call(this)||this;return s.title=t,s.cls=n,s.clsChangeable=r,s.literalLabel=o,s.lang=i,s.langConstraints=a,s}return u(NewResourceWithLiteralCfModalData,e),NewResourceWithLiteralCfModalData}(i.d),m=function(e){function NewResourceWithLiteralCfModal(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.dialog=t,i.viewInitialized=!1,i.context=t.context,i}return u(NewResourceWithLiteralCfModal,e),NewResourceWithLiteralCfModal.prototype.ngOnInit=function(){this.lang=this.context.lang,this.resourceClass=this.context.cls,this.selectCustomForm()},NewResourceWithLiteralCfModal.prototype.ngAfterViewInit=function(){var e=this;this.inputToFocus.nativeElement.focus(),setTimeout(function(){e.viewInitialized=!0})},NewResourceWithLiteralCfModal.prototype.changeClass=function(){this.changeClassWithRoot(this.context.cls)},NewResourceWithLiteralCfModal.prototype.isStandardFormDataValid=function(){return void 0!=this.label&&""!=this.label.trim()&&null!=this.lang},NewResourceWithLiteralCfModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();var t=this.collectCustomFormData(),n={uriResource:null,literal:new a.f(this.label,null,this.lang),cls:this.resourceClass,cfValue:null};null!=this.uri&&""!=this.uri.trim()&&(n.uriResource=new a.b(this.uri)),null!=this.customFormId&&null!=t&&(n.cfValue=new s.a(this.customFormId,t)),this.dialog.close(n)},NewResourceWithLiteralCfModal.prototype.cancel=function(){this.dialog.dismiss()},f([n.i(r.F)("toFocus"),h("design:type",r.e)],NewResourceWithLiteralCfModal.prototype,"inputToFocus",void 0),NewResourceWithLiteralCfModal=f([n.i(r.c)({selector:"new-resource-lit-cf-modal",template:n(2059)}),h("design:paramtypes",[o.g,l.a,c.a,p.a])],NewResourceWithLiteralCfModal)}(d.a);!function(){function NewResourceWithLiteralCfModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(47),l=n(11),c=n(16),p=n(12),d=n(6),u=n(2),f=n(14),h=n(165),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function NewConceptCfModalData(t,n,r,o,i,a){void 0===t&&(t="Modal title"),void 0===i&&(i=!0);var s=e.call(this)||this;return s.title=t,s.broader=n,s.schemes=r,s.cls=o,s.clsChangeable=i,s.lang=a,s}return g(NewConceptCfModalData,e),NewConceptCfModalData}(i.d),y=function(e){function NewConceptCfModal(t,n,r,o,i){var a=e.call(this,r,o,i)||this;return a.dialog=t,a.resourceService=n,a.viewInitialized=!1,a.broaderProp=l.d.broader,a.context=t.context,a}return g(NewConceptCfModal,e),NewConceptCfModal.prototype.ngOnInit=function(){var e=this;if(this.lang=this.context.lang,this.resourceClass=this.context.cls?this.context.cls:l.d.concept,this.selectCustomForm(),this.context.broader){var t=d.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.baseBroaderUri;t!=l.d.broader.getURI()&&this.resourceService.getResourceDescription(new a.b(t)).subscribe(function(t){e.broaderProp=t})}},NewConceptCfModal.prototype.ngAfterViewInit=function(){var e=this;this.inputToFocus.nativeElement.focus(),setTimeout(function(){e.viewInitialized=!0})},NewConceptCfModal.prototype.onSchemesChanged=function(e){this.schemes=e},NewConceptCfModal.prototype.changeClass=function(){this.changeClassWithRoot(l.d.concept)},NewConceptCfModal.prototype.changeBroaderProp=function(){var e=this;this.browsingModals.browsePropertyTree("Change property",[l.d.broader]).then(function(t){e.broaderProp=t},function(){})},NewConceptCfModal.prototype.isStandardFormDataValid=function(){return void 0!=this.label&&""!=this.label.trim()&&null!=this.lang&&null!=this.schemes&&this.schemes.length>0},NewConceptCfModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();var t=this.collectCustomFormData(),n={uriResource:null,label:new a.f(this.label,null,this.lang),cls:this.resourceClass,broaderProp:null,schemes:this.schemes,cfValue:null};null!=this.uri&&""!=this.uri.trim()&&(n.uriResource=new a.b(this.uri)),this.broaderProp.getURI()!=l.d.broader.getURI()&&(n.broaderProp=this.broaderProp),null!=this.customFormId&&null!=t&&(n.cfValue=new s.a(this.customFormId,t)),this.dialog.close(n)},NewConceptCfModal.prototype.cancel=function(){this.dialog.dismiss()},m([n.i(r.F)("toFocus"),v("design:type",r.e)],NewConceptCfModal.prototype,"inputToFocus",void 0),NewConceptCfModal=m([n.i(r.c)({selector:"new-concept-cf-modal",template:n(2060)}),v("design:paramtypes",[o.g,p.a,c.a,u.a,f.a])],NewConceptCfModal)}(h.a);!function(){function NewConceptCfModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return b});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(47),l=n(16),c=n(33),p=n(6),d=n(2),u=n(14),f=n(165),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function NewConceptFromLabelModalData(t,n,r,o,i){void 0===t&&(t="Modal title"),void 0===o&&(o=!0);var a=e.call(this)||this;return a.title=t,a.xLabel=n,a.cls=r,a.clsChangeable=o,a.sibling=i,a}return h(NewConceptFromLabelModalData,e),NewConceptFromLabelModalData}(i.d),b=function(e){function NewConceptFromLabelModal(t,n,r,o,i){var a=e.call(this,r,o,i)||this;return a.dialog=t,a.skosService=n,a.positionList=[y.AS_TOP_CONCEPT,y.AS_NARROWER,y.AS_SIBLING],a.position=a.positionList[0],a.context=t.context,a}return h(NewConceptFromLabelModal,e),NewConceptFromLabelModal.prototype.ngOnInit=function(){this.resourceClass=this.context.cls,this.selectCustomForm(),this.context.sibling&&(this.sibling=this.context.sibling,this.updateBroaderOfSibling())},NewConceptFromLabelModal.prototype.changeClass=function(){this.changeClassWithRoot(this.context.cls)},NewConceptFromLabelModal.prototype.onSchemesChanged=function(e){this.schemes=e},NewConceptFromLabelModal.prototype.isStandardFormDataValid=function(){return(!this.isPositionNarrower()||null!=this.broader)&&((!this.isPositionSibling()||!(null==this.sibling||this.multipleSiblingBroaders&&null==this.selectedSiblingBroader))&&(null!=this.schemes&&0!=this.schemes.length))},NewConceptFromLabelModal.prototype.onPositionChange=function(){this.broader=null,this.selectedSiblingBroader=null,this.multipleSiblingBroaders=!1},NewConceptFromLabelModal.prototype.isPositionNarrower=function(){return this.position==y.AS_NARROWER},NewConceptFromLabelModal.prototype.selectBroader=function(){var e=this;this.browsingModals.browseConceptTree("Select broader").then(function(t){e.broader=t},function(){})},NewConceptFromLabelModal.prototype.isPositionSibling=function(){return this.position==y.AS_SIBLING},NewConceptFromLabelModal.prototype.selectSibling=function(){var e=this;this.browsingModals.browseConceptTree("Select sibling").then(function(t){e.sibling=t,e.updateBroaderOfSibling()},function(){})},NewConceptFromLabelModal.prototype.updateBroaderOfSibling=function(){var e=this,t=p.a.getWorkingProjectCtx().getProjectPreferences().activeSchemes;this.skosService.getBroaderConcepts(this.sibling,t).subscribe(function(t){0==t.length?(e.multipleSiblingBroaders=!1,e.siblingBroaders=t,e.selectedSiblingBroader=null):1==t.length?e.selectedSiblingBroader=t[0]:(e.multipleSiblingBroaders=!0,e.siblingBroaders=t,e.selectedSiblingBroader=null)})},NewConceptFromLabelModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault();var t=this.collectCustomFormData(),n={uriResource:null,broader:null,cls:null,schemes:this.schemes,cfValue:null};null!=this.uri&&""!=this.uri.trim()&&(n.uriResource=new a.b(this.uri)),this.isPositionNarrower()&&(n.broader=this.broader),this.isPositionSibling()&&(n.broader=this.selectedSiblingBroader),this.resourceClass.getURI()!=this.context.cls.getURI()&&(n.cls=this.resourceClass),null!=this.customFormId&&null!=t&&(n.cfValue=new s.a(this.customFormId,t)),this.dialog.close(n)},NewConceptFromLabelModal.prototype.cancel=function(){this.dialog.dismiss()},NewConceptFromLabelModal=g([n.i(r.c)({selector:"new-concept-from-label-modal",template:n(2061)}),m("design:paramtypes",[o.g,c.a,l.a,d.a,u.a])],NewConceptFromLabelModal)}(f.a),y=function(){function SpawnPosition(){}return SpawnPosition.AS_TOP_CONCEPT="Top Concept",SpawnPosition.AS_NARROWER="Child of Concept",SpawnPosition.AS_SIBLING="Sibling of Concept",SpawnPosition}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(11),l=n(2),c=n(14),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function NewXLabelModalData(t,n,r,o,i,a,s){void 0===t&&(t="Create new label"),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=!0),void 0===s&&(s={enabled:!1,allowSameLang:!0});var l=e.call(this)||this;return l.title=t,l.value=n,l.valueReadonly=r,l.lang=o,l.langReadonly=i,l.clsChangeable=a,l.multiLabelOpt=s,l}return p(NewXLabelModalData,e),NewXLabelModalData}(i.d),h=function(){function NewXLabelModal(e,t,n){this.dialog=e,this.browsingModals=t,this.basicModals=n,this.viewInitialized=!1,this.labelClass=s.e.label,this.values=[],this.context=e.context}return NewXLabelModal.prototype.ngOnInit=function(){this.lang=this.context.lang,this.value=this.context.value,document.getElementById("toFocus").focus()},NewXLabelModal.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.viewInitialized=!0})},NewXLabelModal.prototype.onKeydown=function(e){13==e.which&&(e.shiftKey||e.altKey||e.ctrlKey||0==this.values.length&&this.isInputValid()&&this.ok(e))},NewXLabelModal.prototype.changeClass=function(){var e=this,t=s.e.label;this.browsingModals.browseClassTree("Change class",[t]).then(function(t){e.labelClass=t},function(){})},NewXLabelModal.prototype.isInputValid=function(){return void 0!=this.value&&""!=this.value.trim()},NewXLabelModal.prototype.addValue=function(){this.values.push(new a.f(this.value,null,this.lang)),this.value=null},NewXLabelModal.prototype.removeValue=function(e){this.values.splice(this.values.indexOf(e),1)},NewXLabelModal.prototype.isDuplicateLangViolated=function(){var e=this,t=!1;return!this.context.multiLabelOpt.allowSameLang&&null!=this.value&&this.value.length>0&&this.values.forEach(function(n){n.getLang()==e.lang&&(t=!0)}),t},NewXLabelModal.prototype.isOkWarningActive=function(){return this.values.length>0&&null!=this.value&&""!=this.value.trim()},NewXLabelModal.prototype.isAddValueEnabled=function(){return null!=this.value&&""!=this.value.trim()&&null!=this.lang&&!this.isDuplicateLangViolated()},NewXLabelModal.prototype.isOkEnabled=function(){return this.values.length>0||this.isInputValid()&&null!=this.lang},NewXLabelModal.prototype.ok=function(e){var t;t=this.context.multiLabelOpt.enabled&&this.values.length>0?this.values:[new a.f(this.value,null,this.lang)];var n={labels:t,cls:this.labelClass};this.dialog.close(n)},NewXLabelModal.prototype.cancel=function(){this.dialog.dismiss()},NewXLabelModal=d([n.i(r.c)({selector:"new-xlabel-modal",template:n(2062)}),u("design:paramtypes",[o.g,c.a,l.a])],NewXLabelModal)}();!function(){function NewXLabelModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(0),o=n(5),i=n(4),a=n(10),s=n(6),l=n(138),c=n(2),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function NewTypedLiteralModalData(t,n,r,o,i,a){void 0===t&&(t="Create new label"),void 0===i&&(i=!1),void 0===a&&(a=!1);var s=e.call(this)||this;return s.title=t,s.predicate=n,s.allowedDatatypes=r,s.dataRanges=o,s.multivalue=i,s.validate=a,s}return p(NewTypedLiteralModalData,e),NewTypedLiteralModalData}(i.d),h=function(){function NewTypedLiteralModal(e,t,n){this.dialog=e,this.basicModals=t,this.dtValidator=n,this.showAspectSelector=!1,this.typedLiteralAspectSelector="Typed literal",this.dataRangeAspectSelector="DataRange",this.aspectSelectors=[this.typedLiteralAspectSelector,this.dataRangeAspectSelector],this.selectedAspectSelector=this.aspectSelectors[0],this.notValidatableType=!1,this.values=[],this.context=e.context}return NewTypedLiteralModal.prototype.ngOnInit=function(){null!=this.context.allowedDatatypes&&null!=this.context.dataRanges?(this.showAspectSelector=!0,this.selectedDataRange=this.context.dataRanges[0]):null!=this.context.allowedDatatypes?this.selectedAspectSelector=this.typedLiteralAspectSelector:null!=this.context.dataRanges?(this.selectedAspectSelector=this.dataRangeAspectSelector,this.selectedDataRange=this.context.dataRanges[0]):this.selectedAspectSelector=this.typedLiteralAspectSelector},NewTypedLiteralModal.prototype.addValue=function(){if(this.selectedAspectSelector==this.typedLiteralAspectSelector){if(!this.context.validate||!this.dtValidator.isValid(this.value,this.datatype))return void this.basicModals.alert("Invalid value","The inserted value '"+this.value.getValue()+"' is not a valid "+this.datatype.getShow(),"warning");this.values.push(this.value),this.value=null}else this.values.push(this.value),this.value=null},NewTypedLiteralModal.prototype.isAddValueEnabled=function(){return null!=this.value&&""!=this.value.getValue()&&!a.a.containsNode(this.values,this.value)},NewTypedLiteralModal.prototype.removeValue=function(e){this.values.splice(this.values.indexOf(e),1)},NewTypedLiteralModal.prototype.getDataRangePreview=function(e){for(var t="OneOf: [",n=0;n<e.length;n++){var r=e[n];t+=JSON.stringify(r.getValue());var o=a.a.getQName(r.getDatatype(),s.a.getPrefixMappings());if(o==r.getDatatype()&&(o="<"+r.getDatatype()+">"),t+="^^"+o,t+=", ",2==n&&e.length>3){t+="...";break}}return t+="]"},NewTypedLiteralModal.prototype.onDatatypeChange=function(e){this.datatype=e,this.notValidatableType=!this.dtValidator.isValidableType(e)},NewTypedLiteralModal.prototype.isOkEnabled=function(){return this.values.length>0||null!=this.value&&""!=this.value.getValue()},NewTypedLiteralModal.prototype.isOkWarningActive=function(){return this.values.length>0&&null!=this.value},NewTypedLiteralModal.prototype.ok=function(e){var t;if(this.context.multivalue)if(this.values.length>0)t=this.values;else if(this.selectedAspectSelector==this.typedLiteralAspectSelector){if(this.context.validate&&!this.dtValidator.isValid(this.value,this.datatype))return void this.basicModals.alert("Invalid value","The inserted value '"+this.value.getValue()+"' is not a valid "+this.datatype.getShow(),"warning");t=[this.value]}else t=[this.value];else if(this.selectedAspectSelector==this.typedLiteralAspectSelector){if(this.context.validate&&!this.dtValidator.isValid(this.value,this.datatype))return void this.basicModals.alert("Invalid value","The inserted value '"+this.value.getValue()+"' is not a valid "+this.datatype.getShow(),"warning");t=[this.value]}else t=[this.value];this.dialog.close(t)},NewTypedLiteralModal.prototype.cancel=function(){this.dialog.dismiss()},NewTypedLiteralModal=d([n.i(r.c)({selector:"new-typed-lang-modal",template:n(2064)}),u("design:paramtypes",[o.g,c.a,l.a])],NewTypedLiteralModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(5),i=n(4),a=n(93),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function LoadConfigurationModalData(t,n,r,o,i){void 0===r&&(r=!0),void 0===o&&(o=!0);var a=e.call(this)||this;return a.title=t,a.configurationComponent=n,a.allowLoad=r,a.allowDelete=o,a.additionalReferences=i,a}return s(LoadConfigurationModalData,e),LoadConfigurationModalData}(i.d),d=function(){function LoadConfigurationModal(e,t){this.dialog=e,this.configurationService=t,this.context=e.context}return LoadConfigurationModal.prototype.ngOnInit=function(){this.initReferences()},LoadConfigurationModal.prototype.initReferences=function(){var e=this;this.configurationService.getConfigurationReferences(this.context.configurationComponent).subscribe(function(t){e.references=t})},LoadConfigurationModal.prototype.selectReference=function(e){this.selectedRef==e?this.selectedRef=null:this.selectedRef=e},LoadConfigurationModal.prototype.deleteReference=function(e){var t=this;this.configurationService.deleteConfiguration(this.context.configurationComponent,e.relativeReference).subscribe(function(e){t.selectedRef=null,t.initReferences()})},LoadConfigurationModal.prototype.ok=function(e){var t=this;if(this.context.allowLoad)if(null!=this.context.additionalReferences&&-1!=this.context.additionalReferences.indexOf(this.selectedRef)){var n={configuration:null,reference:this.selectedRef};this.dialog.close(n)}else this.configurationService.getConfiguration(this.context.configurationComponent,this.selectedRef.relativeReference).subscribe(function(e){var n={configuration:e,reference:t.selectedRef};t.dialog.close(n)});else{var n={configuration:null,reference:this.selectedRef};this.dialog.close(n)}},LoadConfigurationModal.prototype.cancel=function(){this.dialog.dismiss()},LoadConfigurationModal=l([n.i(r.c)({selector:"load-configuration",template:n(2065)}),c("design:paramtypes",[o.g,a.a])],LoadConfigurationModal)}();!function(){function LoadConfigurationModalReturnData(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(0),o=n(5),i=n(4),a=n(45),s=n(42),l=n(93),c=n(2),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function StoreConfigurationModalData(t,n,r,o){var i=e.call(this)||this;return i.title=t,i.configurationComponent=n,i.configurationObject=r,i.relativeRef=o,i}return p(StoreConfigurationModalData,e),StoreConfigurationModalData}(i.d),h=function(){function StoreConfigurationModal(e,t,n){this.dialog=e,this.configurationsService=t,this.basicModals=n,this.context=e.context}return StoreConfigurationModal.prototype.ngOnInit=function(){var e=this;this.configurationsService.getConfigurationManager(this.context.configurationComponent).subscribe(function(t){e.scopes=t.configurationScopes,e.selectedScope=e.scopes[0],e.context.relativeRef&&(e.identifier=e.context.relativeRef.substring(e.context.relativeRef.indexOf(":")+1),e.selectedScope=a.b.getRelativeReferenceScope(e.context.relativeRef))}),this.configurationsService.getConfigurationReferences(this.context.configurationComponent).subscribe(function(t){e.references=t})},StoreConfigurationModal.prototype.selectReference=function(e){this.selectedRef=e,this.identifier=this.selectedRef.identifier.substring(this.selectedRef.identifier.indexOf(":")),this.selectedScope=this.selectedRef.getReferenceScope()},StoreConfigurationModal.prototype.ok=function(e){var t=this;if(!new RegExp("^[\\w\\s.,-]+$").test(this.identifier))return void this.basicModals.alert("Invalid ID","ID contains character(s) not allowed","warning");var n=s.e.serializeScope(this.selectedScope),r=n+":"+this.identifier;this.configurationsService.storeConfiguration(this.context.configurationComponent,r,this.context.configurationObject).subscribe(function(n){e.stopPropagation(),t.dialog.close(r)})},StoreConfigurationModal.prototype.cancel=function(){this.dialog.dismiss()},StoreConfigurationModal=d([n.i(r.c)({selector:"store-configuration",template:n(2066)}),u("design:paramtypes",[o.g,l.a,c.a])],StoreConfigurationModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return f});var r=n(0),o=n(4),i=n(5),a=n(661),s=n(185),l=n(156),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function ConverterPickerModalData(t,n,r){void 0===t&&(t="Modal Title");var o=e.call(this)||this;return o.title=t,o.message=n,o.capabilities=r,o}return c(ConverterPickerModalData,e),ConverterPickerModalData}(o.d),f=function(){function ConverterPickerModal(e,t,n){this.dialog=e,this.modal=t,this.codaService=n,this.concerterTypeConstrained=!1,this.projectionOperator="",this.context=e.context}return ConverterPickerModal.prototype.ngOnInit=function(){var e=this;this.codaService.listConverterContracts().subscribe(function(t){null!=e.context.capabilities&&0!=e.context.capabilities.length?-1!=e.context.capabilities.indexOf(l.a.node)?e.converters=t:(e.converters=[],t.forEach(function(t){var n=t.getRDFCapability();n==l.a.node?e.converters.push(t):n==l.a.uri?-1!=e.context.capabilities.indexOf(l.a.uri)&&e.converters.push(t):n==l.a.literal&&-1!=e.context.capabilities.indexOf(l.a.literal)&&e.converters.push(t)})):e.converters=t}),null!=this.context.capabilities&&(this.context.capabilities.length>0&&-1==this.context.capabilities.indexOf(l.a.node)&&-1==this.context.capabilities.indexOf(l.a.uri)||1==this.context.capabilities.length&&this.context.capabilities[0]==l.a.uri)&&(this.concerterTypeConstrained=!0)},ConverterPickerModal.prototype.selectConverter=function(e){if(e!=this.selectedConverter){this.selectedConverter=e,this.selectedConverter.getRDFCapability()==l.a.literal||this.selectedConverter.getRDFCapability()==l.a.node&&null!=this.context.capabilities&&this.context.capabilities.length>0&&-1==this.context.capabilities.indexOf(l.a.node)&&-1==this.context.capabilities.indexOf(l.a.uri)?this.selectedConverterType=l.a.literal:this.selectedConverterType=l.a.uri;var t=this.selectedConverter.getSignatures();this.selectedSignature=t[0];for(var n=1;n<t.length;n++)t[n].getParameters().length<this.selectedSignature.getParameters().length&&(this.selectedSignature=t[n]);this.updateProjectionOperator()}},ConverterPickerModal.prototype.chooseSignature=function(){var e=this,t=new a.a("Choose the signature for "+this.selectedConverter.getName(),null,this.selectedConverter.getSignatures(),this.selectedSignature),n=new o.b(t,void 0,a.a),r={context:n.keyboard(27).toJSON()};return this.modal.open(a.b,r).result.then(function(t){e.selectedSignature=t,e.updateProjectionOperator()},function(){})},ConverterPickerModal.prototype.isSignatureEditable=function(){if(null!=this.selectedConverter){var e=this.selectedConverter.getSignatures();if(1==e.length)return!1;for(var t=0;t<e.length;t++)if(e[t].getParameters().length>0)return!0;return!1}return!1},ConverterPickerModal.prototype.updateProjectionOperator=function(){this.projectionOperator=l.b.getConverterProjectionOperator(this.selectedConverter,this.selectedSignature,this.selectedConverterType)},ConverterPickerModal.prototype.switchConverterType=function(e){this.selectedConverterType=e,this.updateProjectionOperator()},ConverterPickerModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close({projectionOperator:this.projectionOperator,contractDesctiption:this.selectedConverter})},ConverterPickerModal.prototype.cancel=function(){this.dialog.dismiss()},ConverterPickerModal=p([n.i(r.c)({selector:"converter-picker-modal",template:n(2067)}),d("design:paramtypes",[i.g,i.l,s.a])],ConverterPickerModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(4),i=n(5),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function SignaturePickerModalData(t,n,r,o){void 0===t&&(t="Modal Title");var i=e.call(this)||this;return i.title=t,i.message=n,i.signatures=r,i.selected=o,i}return a(SignaturePickerModalData,e),SignaturePickerModalData}(o.d),p=function(){function SignaturePickerModal(e){this.dialog=e,this.context=e.context}return SignaturePickerModal.prototype.ngOnInit=function(){this.selectedSignature=this.context.selected},SignaturePickerModal.prototype.selectSignature=function(e){this.selectedSignature=e},SignaturePickerModal.prototype.ok=function(e){e.stopPropagation(),this.dialog.close(this.selectedSignature)},SignaturePickerModal.prototype.cancel=function(){this.dialog.dismiss()},SignaturePickerModal=s([n.i(r.c)({selector:"signature-picker-modal",template:n(2068)}),l("design:paramtypes",[i.g])],SignaturePickerModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u});var r=n(0),o=n(5),i=n(4),a=n(66),s=n(6),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function LanguageSelectorModalData(t,n,r,o){void 0===n&&(n=[]),void 0===r&&(r=!1);var i=e.call(this)||this;return i.title=t,i.languages=n,i.projectAware=r,i.projectCtx=o,i}return l(LanguageSelectorModalData,e),LanguageSelectorModalData}(i.d),u=function(){function LanguageSelectorModal(e){this.dialog=e,this.context=e.context}return LanguageSelectorModal.prototype.ngOnInit=function(){var e;this.languageItems=[],e=this.context.projectAware?s.a.getWorkingProjectCtx(this.context.projectCtx).getProjectSettings().projectLanguagesSetting:a.a.getSystemLanguages();for(var t=0;t<e.length;t++)this.languageItems.push({lang:e[t],selected:-1!=this.context.languages.indexOf(e[t].tag)})},LanguageSelectorModal.prototype.ok=function(e){for(var t=[],n=0;n<this.languageItems.length;n++)this.languageItems[n].selected&&t.push(this.languageItems[n].lang.tag);e.stopPropagation(),this.dialog.close(t)},LanguageSelectorModal.prototype.cancel=function(){this.dialog.dismiss()},LanguageSelectorModal=c([n.i(r.c)({selector:"lang-selector-modal",template:n(2069)}),p("design:paramtypes",[o.g])],LanguageSelectorModal)}();!function(){function LanguageItem(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ManchesterExprModalData(t,n){void 0===t&&(t="Create a new manchester expression");var r=e.call(this)||this;return r.title=t,r.expression=n,r}return a(ManchesterExprModalData,e),ManchesterExprModalData}(i.d),p=function(){function ManchesterExprModal(e){this.dialog=e,this.context=e.context}return ManchesterExprModal.prototype.ngOnInit=function(){this.expression=this.context.expression},ManchesterExprModal.prototype.isOkEnabled=function(){return null!=this.expression&&""!=this.expression.trim()},ManchesterExprModal.prototype.ok=function(e){this.dialog.close(this.expression)},ManchesterExprModal.prototype.cancel=function(){this.dialog.dismiss()},ManchesterExprModal=s([n.i(r.c)({selector:"manchester-modal",template:n(2070)}),l("design:paramtypes",[o.g])],ManchesterExprModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function PluginConfigModalData(t){var n=e.call(this)||this;return n.configuration=t,n}return a(PluginConfigModalData,e),PluginConfigModalData}(i.d),p=function(){function PluginConfigModal(e){this.dialog=e,this.context=e.context}return PluginConfigModal.prototype.ngOnInit=function(){this.config=this.context.configuration.clone()},PluginConfigModal.prototype.isOkClickable=function(){return!this.config.requireConfiguration()},PluginConfigModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.config)},PluginConfigModal.prototype.cancel=function(){this.dialog.dismiss()},PluginConfigModal=s([n.i(r.c)({selector:"plugin-config-modal",template:n(2071)}),l("design:paramtypes",[o.g])],PluginConfigModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(5),i=n(32),a=n(71),s=n(2),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function RemoteAccessConfigModal(e,t,n){this.dialog=e,this.basicModals=t,this.prefService=n,this.savedConfigs=[],this.newConfig={serverURL:null,username:null,password:null},this.context=e.context}return RemoteAccessConfigModal.prototype.ngOnInit=function(){var e=this;this.prefService.getSystemSettings([i.a.setting_remote_configs]).subscribe(function(t){null!=t[i.a.setting_remote_configs]&&(e.savedConfigs=JSON.parse(t[i.a.setting_remote_configs]))})},RemoteAccessConfigModal.prototype.createConfiguration=function(){for(var e=0;e<this.savedConfigs.length;e++)if(this.savedConfigs[e].serverURL==this.newConfig.serverURL)return void this.basicModals.alert("Duplicate configuration","A configuration for the serverURL '"+this.newConfig.serverURL+"' already exists","warning");this.savedConfigs.push(this.newConfig),this.updateConfigurations(),this.newConfig={serverURL:null,username:null,password:null}},RemoteAccessConfigModal.prototype.deleteConfig=function(e){var t=this;this.basicModals.confirm("Delete configuration","You are deleting the configuration. Are you sure?","warning").then(function(){t.savedConfigs.splice(t.savedConfigs.indexOf(e),1),t.updateConfigurations()},function(){})},RemoteAccessConfigModal.prototype.updateConfServerURL=function(e,t){e.serverURL=t,this.updateConfigurations()},RemoteAccessConfigModal.prototype.updateConfUsername=function(e,t){e.username=t,this.updateConfigurations()},RemoteAccessConfigModal.prototype.updateConfPassword=function(e,t){e.password=t,this.updateConfigurations()},RemoteAccessConfigModal.prototype.updateConfigurations=function(){var e;e=0==this.savedConfigs.length?null:JSON.stringify(this.savedConfigs),this.prefService.setSystemSetting(i.a.setting_remote_configs,e).subscribe()},RemoteAccessConfigModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close()},RemoteAccessConfigModal=l([n.i(r.c)({selector:"remote-access-config-modal",template:n(2072)}),c("design:paramtypes",[o.g,s.a,a.a])],RemoteAccessConfigModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(0),o=n(4),i=n(5),a=n(307),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function RemoteRepoSelectionModalData(t,n){var r=e.call(this)||this;return r.title=t,r.repoConfig=n,r}return s(RemoteRepoSelectionModalData,e),RemoteRepoSelectionModalData}(o.d),d=function(){function RemoteRepoSelectionModal(e,t){this.dialog=e,this.repoService=t,this.context=e.context}return RemoteRepoSelectionModal.prototype.ngOnInit=function(){var e=this;this.repoService.getRemoteRepositories(this.context.repoConfig.serverURL,this.context.repoConfig.username,this.context.repoConfig.password).subscribe(function(t){e.repoList=t,e.repoList.sort(function(e,t){return e.id.toLocaleLowerCase().localeCompare(t.id.toLocaleLowerCase())})})},RemoteRepoSelectionModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedRepo)},RemoteRepoSelectionModal.prototype.cancel=function(){this.dialog.dismiss()},RemoteRepoSelectionModal=l([n.i(r.c)({selector:"remote-repo-select-modal",template:n(2073)}),c("design:paramtypes",[i.g,a.a])],RemoteRepoSelectionModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r=n(0),o=n(5),i=n(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function ResourcePickerModalData(t,n,r){var o=e.call(this)||this;return o.title=t,o.roles=n,o.editable=r,o}return a(ResourcePickerModalData,e),ResourcePickerModalData}(i.d),p=function(){function ResourcePickerModal(e){this.dialog=e,this.context=e.context}return ResourcePickerModal.prototype.updateResource=function(e){this.resource=e},ResourcePickerModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.resource)},ResourcePickerModal.prototype.cancel=function(){this.dialog.dismiss()},ResourcePickerModal=s([n.i(r.c)({selector:"resource-picker-modal",template:n(2074)}),l("design:paramtypes",[o.g])],ResourcePickerModal)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return f});var r=n(0),o=n(5),i=n(4),a=n(83),s=n(55),l=n(6),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function UserSelectionModalData(t,n,r){void 0===t&&(t="Select user"),void 0===n&&(n=!1),void 0===r&&(r=[]);var o=e.call(this)||this;return o.title=t,o.projectDepending=n,o.unselectableUsers=r,o}return c(UserSelectionModalData,e),UserSelectionModalData}(i.d),f=function(){function UserSelectionModal(e,t,n){this.dialog=e,this.userService=t,this.adminService=n,this.userList=[],this.context=e.context}return UserSelectionModal.prototype.ngOnInit=function(){var e=this;this.context.projectDepending?this.userService.listUsersBoundToProject(l.a.getWorkingProject().getName()).subscribe(function(t){e.userList=t}):this.userService.listUsers().subscribe(function(t){e.userList=t})},UserSelectionModal.prototype.selectUser=function(e){this.isUserSelectable(e)&&(this.selectedUser==e?this.selectedUser=null:this.selectedUser=e)},UserSelectionModal.prototype.isUserSelectable=function(e){for(var t=0;t<this.context.unselectableUsers.length;t++)if(e.getEmail()==this.context.unselectableUsers[t].getEmail())return!1;return!0},UserSelectionModal.prototype.ok=function(e){e.stopPropagation(),e.preventDefault(),this.dialog.close(this.selectedUser)},UserSelectionModal.prototype.cancel=function(){this.dialog.dismiss()},UserSelectionModal=p([n.i(r.c)({selector:"user-selection-modal",template:n(2075)}),d("design:paramtypes",[o.g,s.a,a.a])],UserSelectionModal)}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=Array.prototype,o=r.slice,i=r.map},function(e,t,n){"use strict";var r=n(170),o=n(703),i=n.i(o.a)(r.a),a=i.right;i.left;t.a=a},function(e,t,n){"use strict";function ascendingComparator(e){return function(t,o){return n.i(r.a)(e(t),o)}}var r=n(170);t.a=function(e){return 1===e.length&&(e=ascendingComparator(e)),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}},function(e,t,n){"use strict";var r=n(712);t.a=function(e,t){var o=n.i(r.a)(e,t);return o?Math.sqrt(o):o}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,o,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=o=n;++a<i;)null!=(n=e[a])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=o=n;++a<i;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,o=e.length,i=-1;if(null==t){for(;++i<o;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<o;)null!=(n=e[i])&&r>n&&(r=n)}else for(;++i<o;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<o;)null!=(n=t(e[i],i,e))&&r>n&&(r=n);return r}},function(e,t,n){"use strict";function pair(e,t){return[e,t]}t.a=pair},function(e,t,n){"use strict";t.a=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}},function(e,t,n){"use strict";t.a=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},function(e,t,n){"use strict";function tickIncrement(e,t,n){var a=(t-e)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),l=a/Math.pow(10,s);return s>=0?(l>=r?10:l>=o?5:l>=i?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=r?10:l>=o?5:l>=i?2:1)}function tickStep(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),l=a/s;return l>=r?s*=10:l>=o?s*=5:l>=i&&(s*=2),t<e?-s:s}t.c=tickIncrement,t.a=tickStep;var r=Math.sqrt(50),o=Math.sqrt(10),i=Math.sqrt(2);t.b=function(e,t,n){var r,o,i,a,s=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=tickIncrement(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));++s<o;)i[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));++s<o;)i[s]=(e-s)/a;return r&&i.reverse(),i}},function(e,t,n){"use strict";function length(e){return e.length}var r=n(706);t.a=function(e){if(!(a=e.length))return[];for(var t=-1,o=n.i(r.a)(e,length),i=new Array(o);++t<o;)for(var a,s=-1,l=i[t]=new Array(a);++s<a;)l[s]=e[s][t];return i}},function(e,t,n){"use strict";var r=n(205);t.a=function(e,t){var o,i,a=e.length,s=0,l=-1,c=0,p=0;if(null==t)for(;++l<a;)isNaN(o=n.i(r.a)(e[l]))||(i=o-c,c+=i/++s,p+=i*(o-c));else for(;++l<a;)isNaN(o=n.i(r.a)(t(e[l],l,e)))||(i=o-c,c+=i/++s,p+=i*(o-c));if(s>1)return p/(s-1)}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return l});var r=Math.cos,o=Math.sin,i=Math.PI,a=i/2,s=2*i,l=Math.max},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=Math.PI/180,o=180/Math.PI},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=Array.prototype,o=r.slice},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(62),o=n(715),i=n(1306),a=n(1305),s=n(716),l=n(1308),c=n(1311),p=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];t.a=function(){function contours(e){var t=d(e);if(Array.isArray(t))t=t.slice().sort(i.a);else{var o=n.i(r.l)(e),a=o[0],s=o[1];t=n.i(r.a)(a,s,t),t=n.i(r.h)(Math.floor(a/t)*t,Math.floor(s/t)*t,t)}return t.map(function(t){return contour(e,t)})}function contour(e,t){var r=[],o=[];return isorings(e,t,function(i){u(i,e,t),n.i(a.a)(i)>0?r.push([i]):o.push(i)}),o.forEach(function(e){for(var t,o=0,i=r.length;o<i;++o)if(-1!==n.i(l.a)((t=r[o])[0],e))return void t.push(e)}),{type:"MultiPolygon",value:t,coordinates:r}}function isorings(n,r,o){function stitch(e){var t,n,r=[e[0][0]+i,e[0][1]+a],s=[e[1][0]+i,e[1][1]+a],l=index(r),c=index(s);(t=f[l])?(n=u[c])?(delete f[t.end],delete u[n.start],t===n?(t.ring.push(s),o(t.ring)):u[t.start]=f[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete f[t.end],t.ring.push(s),f[t.end=c]=t):(t=u[c])?(n=f[l])?(delete u[t.start],delete f[n.end],t===n?(t.ring.push(s),o(t.ring)):u[n.start]=f[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete u[t.start],t.ring.unshift(r),u[t.start=l]=t):u[l]=f[c]={start:l,end:c,ring:[r,s]}}var i,a,s,l,c,d,u=new Array,f=new Array;for(i=a=-1,l=n[0]>=r,p[l<<1].forEach(stitch);++i<e-1;)s=l,l=n[i+1]>=r,p[s|l<<1].forEach(stitch);for(p[l<<0].forEach(stitch);++a<t-1;){for(i=-1,l=n[a*e+e]>=r,c=n[a*e]>=r,p[l<<1|c<<2].forEach(stitch);++i<e-1;)s=l,l=n[a*e+e+i+1]>=r,d=c,c=n[a*e+i+1]>=r,p[s|l<<1|c<<2|d<<3].forEach(stitch);p[l|c<<3].forEach(stitch)}for(i=-1,c=n[a*e]>=r,p[c<<2].forEach(stitch);++i<e-1;)d=c,c=n[a*e+i+1]>=r,p[c<<2|d<<3].forEach(stitch);p[c<<3].forEach(stitch)}function index(t){return 2*t[0]+t[1]*(e+1)*4}function smoothLinear(n,r,o){n.forEach(function(n){var i,a=n[0],s=n[1],l=0|a,c=0|s,p=r[c*e+l];a>0&&a<e&&l===a&&(i=r[c*e+l-1],n[0]=a+(o-i)/(p-i)-.5),s>0&&s<t&&c===s&&(i=r[(c-1)*e+l],n[1]=s+(o-i)/(p-i)-.5)})}var e=1,t=1,d=r.k,u=smoothLinear;return contours.contour=contour,contours.size=function(n){if(!arguments.length)return[e,t];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0&&o>0))throw new Error("invalid size");return e=r,t=o,contours},contours.thresholds=function(e){return arguments.length?(d="function"==typeof e?e:Array.isArray(e)?n.i(s.a)(o.a.call(e)):n.i(s.a)(e),contours):d},contours.smooth=function(e){return arguments.length?(u=e?smoothLinear:c.a,contours):u===smoothLinear},contours}},function(e,t,n){"use strict";function yesdrag(e,t){var i=e.document.documentElement,a=n.i(r.d)(e).on("dragstart.drag",null);t&&(a.on("click.drag",o.a,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in i?a.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}t.b=yesdrag;var r=n(63),o=n(719);t.a=function(e){var t=e.document.documentElement,i=n.i(r.d)(e).on("dragstart.drag",o.a,!0);"onselectstart"in t?i.on("selectstart.drag",o.a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}},function(e,t,n){"use strict";function nopropagation(){r.a.stopImmediatePropagation()}t.b=nopropagation;var r=n(63);t.a=function(){r.a.preventDefault(),r.a.stopImmediatePropagation()}},function(e,t,n){"use strict";var r=n(339);n.d(t,"a",function(){return r.a});var o=n(1317);n.d(t,"b",function(){return o.a});var i=n(1318);n.d(t,"c",function(){return i.a});n(1316)},function(e,t,n){"use strict";var r=(n(1325),n(1327),n(1322));n.d(t,"a",function(){return r.a});n(1326),n(1328),n(1324),n(1321),n(1320),n(1319),n(1323)},function(e,t,n){"use strict";function tpmt(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}t.a=tpmt},function(e,t,n){"use strict";function x(e){return e.x}function y(e){return e.y}t.b=x,t.c=y;var r=n(171),o=n(255),i=n(270),a=Math.PI*(3-Math.sqrt(5));t.a=function(e){function step(){tick(),h.call("tick",t),s<l&&(f.stop(),h.call("end",t))}function tick(n){var r,o,i=e.length;void 0===n&&(n=1);for(var a=0;a<n;++a)for(s+=(p-s)*c,u.each(function(e){e(s)}),r=0;r<i;++r)o=e[r],null==o.fx?o.x+=o.vx*=d:(o.x=o.fx,o.vx=0),null==o.fy?o.y+=o.vy*=d:(o.y=o.fy,o.vy=0);return t}function initializeNodes(){for(var t,n=0,r=e.length;n<r;++n){if(t=e[n],t.index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(n),i=n*a;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function initializeForce(t){return t.initialize&&t.initialize(e),t}var t,s=1,l=.001,c=1-Math.pow(l,1/300),p=0,d=.6,u=n.i(o.a)(),f=n.i(i.a)(step),h=n.i(r.a)("tick","end");return null==e&&(e=[]),initializeNodes(),t={tick:tick,restart:function(){return f.restart(step),t},stop:function(){return f.stop(),t},nodes:function(n){return arguments.length?(e=n,initializeNodes(),u.each(initializeForce),t):e},alpha:function(e){return arguments.length?(s=+e,t):s},alphaMin:function(e){return arguments.length?(l=+e,t):l},alphaDecay:function(e){return arguments.length?(c=+e,t):+c},alphaTarget:function(e){return arguments.length?(p=+e,t):p},velocityDecay:function(e){return arguments.length?(d=1-e,t):1-d},force:function(e,n){return arguments.length>1?(null==n?u.remove(e):u.set(e,initializeForce(n)),t):u.get(e)},find:function(t,n,r){var o,i,a,s,l,c=0,p=e.length;for(null==r?r=1/0:r*=r,c=0;c<p;++c)s=e[c],o=t-s.x,i=n-s.y,(a=o*o+i*i)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(h.on(e,n),t):h.on(e)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,o=n(257);t.b=function(e,t){var i=n.i(o.a)(e,t);if(!i)return e+"";var a=i[0],s=i[1],l=s-(r=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,c=a.length;return l===c?a:l>c?a+new Array(l-c+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+n.i(o.a)(e,Math.max(0,t+l-1))[0]}},function(e,t,n){"use strict";function formatSpecifier(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function FormatSpecifier(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}t.a=formatSpecifier;var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(e,t,n){"use strict";var r=n(256),o=n(1345),i=n(1346),a=n(725),s=n(1348),l=n(1349),c=n(724),p=n(1350),d=Array.prototype.map,u=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){function newFormat(e){function format(e){var a,l,p,f=E,h=w;if("c"===P)h=I(e)+h,e="";else{e=+e;var v=e<0||1/e<0;if(e=isNaN(e)?y:I(Math.abs(e),R),S&&(e=n.i(s.a)(e)),v&&0==+e&&"+"!==i&&(v=!1),f=(v?"("===i?i:b:"-"===i||"("===i?"":i)+f,h=("s"===P?u[8+c.a/3]:"")+h+(v&&"("===i?")":""),A)for(a=-1,l=e.length;++a<l;)if(48>(p=e.charCodeAt(a))||p>57){h=(46===p?g+e.slice(a+1):e.slice(a))+h,e=e.slice(0,a);break}}C&&!d&&(e=t(e,1/0));var _=f.length+e.length+h.length,L=_<x?new Array(x-_+1).join(r):"";switch(C&&d&&(e=t(L+e,L.length?x-h.length:1/0),L=""),o){case"<":e=f+e+h+L;break;case"=":e=f+L+e+h;break;case"^":e=L.slice(0,_=L.length>>1)+f+e+h+L.slice(_);break;default:e=L+f+e+h}return m(e)}e=n.i(a.a)(e);var r=e.fill,o=e.align,i=e.sign,p=e.symbol,d=e.zero,x=e.width,C=e.comma,R=e.precision,S=e.trim,P=e.type;"n"===P?(C=!0,P="g"):l.a[P]||(void 0===R&&(R=12),S=!0,P="g"),(d||"0"===r&&"="===o)&&(d=!0,r="0",o="=");var E="$"===p?f:"#"===p&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",w="$"===p?h:/[%p]/.test(P)?v:"",I=l.a[P],A=/[defgprs%]/.test(P);return R=void 0===R?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R)),format.toString=function(){return e+""},format}function formatPrefix(e,t){var o=newFormat((e=n.i(a.a)(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(n.i(r.a)(t)/3))),s=Math.pow(10,-i),l=u[8+i/3];return function(e){return o(s*e)+l}}var t=void 0===e.grouping||void 0===e.thousands?p.a:n.i(o.a)(d.call(e.grouping,Number),e.thousands+""),f=void 0===e.currency?"":e.currency[0]+"",h=void 0===e.currency?"":e.currency[1]+"",g=void 0===e.decimal?".":e.decimal+"",m=void 0===e.numerals?p.a:n.i(i.a)(d.call(e.numerals,String)),v=void 0===e.percent?"%":e.percent+"",b=void 0===e.minus?"-":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";return{format:newFormat,formatPrefix:formatPrefix}}},function(e,t,n){"use strict";function areaRingStart(){f.point=areaPointFirst}function areaRingEnd(){areaPoint(r,o)}function areaPointFirst(e,t){f.point=areaPoint,r=e,o=t,e*=c.h,t*=c.h,i=e,a=n.i(c.d)(t=t/2+c.r),s=n.i(c.e)(t)}function areaPoint(e,t){e*=c.h,t*=c.h,t=t/2+c.r;var r=e-i,o=r>=0?1:-1,l=o*r,p=n.i(c.d)(t),u=n.i(c.e)(t),f=s*u,h=a*p+f*n.i(c.d)(l),g=f*o*n.i(c.e)(l);d.add(n.i(c.f)(g,h)),i=e,a=p,s=u}n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r,o,i,a,s,l=n(173),c=n(26),p=n(125),d=(n(146),n.i(l.a)()),u=n.i(l.a)(),f={point:p.a,lineStart:p.a,lineEnd:p.a,polygonStart:function(){d.reset(),f.lineStart=areaRingStart,f.lineEnd=areaRingEnd},polygonEnd:function(){var e=+d;u.add(e<0?c.c+e:e),this.lineStart=this.lineEnd=this.point=p.a},sphere:function(){u.add(c.c)}}},function(e,t,n){"use strict";function circleStream(e,t,i,a,s,l){if(i){var c=n.i(o.d)(t),p=n.i(o.e)(t),d=a*i;null==s?(s=t+a*o.c,l=t-d/2):(s=circleRadius(c,s),l=circleRadius(c,l),(a>0?s<l:s>l)&&(s+=a*o.c));for(var u,f=s;a>0?f>l:f<l;f-=d)u=n.i(r.f)([c,-p*n.i(o.d)(f),-p*n.i(o.e)(f)]),e.point(u[0],u[1])}}function circleRadius(e,t){t=n.i(r.a)(t),t[0]-=e,n.i(r.g)(t);var i=n.i(o.s)(-t[1]);return((-t[2]<0?-i:i)+o.c-o.p)%o.c}t.a=circleStream;var r=n(206),o=(n(1358),n(26));n(259)},function(e,t,n){"use strict";function clipAntimeridianLine(e){var t,r=NaN,i=NaN,a=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(s,l){var c=s>0?o.b:-o.b,p=n.i(o.a)(s-r);n.i(o.a)(p-o.b)<o.p?(e.point(r,i=(i+l)/2>0?o.l:-o.l),e.point(a,i),e.lineEnd(),e.lineStart(),e.point(c,i),e.point(s,i),t=0):a!==c&&p>=o.b&&(n.i(o.a)(r-a)<o.p&&(r-=a*o.p),n.i(o.a)(s-c)<o.p&&(s-=c*o.p),i=clipAntimeridianIntersect(r,i,s,l),e.point(a,i),e.lineEnd(),e.lineStart(),e.point(c,i),t=0),e.point(r=s,i=l),a=c},lineEnd:function(){e.lineEnd(),r=i=NaN},clean:function(){return 2-t}}}function clipAntimeridianIntersect(e,t,r,i){var a,s,l=n.i(o.e)(e-r);return n.i(o.a)(l)>o.p?n.i(o.m)((n.i(o.e)(t)*(s=n.i(o.d)(i))*n.i(o.e)(r)-n.i(o.e)(i)*(a=n.i(o.d)(t))*n.i(o.e)(e))/(a*s*l)):(t+i)/2}function clipAntimeridianInterpolate(e,t,r,i){var a;if(null==e)a=r*o.l,i.point(-o.b,a),i.point(0,a),i.point(o.b,a),i.point(o.b,0),i.point(o.b,-a),i.point(0,-a),i.point(-o.b,-a),i.point(-o.b,0),i.point(-o.b,a);else if(n.i(o.a)(e[0]-t[0])>o.p){var s=e[0]<t[0]?o.b:-o.b;a=r*s/2,i.point(-s,a),i.point(0,a),i.point(s,a)}else i.point(t[0],t[1])}var r=n(732),o=n(26);t.a=n.i(r.a)(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-o.b,-o.l])},function(e,t,n){"use strict";var r=n(125);t.a=function(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:r.a,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}},function(e,t,n){"use strict";var r=n(206),o=n(728),i=n(26),a=n(738),s=n(732);t.a=function(e){function interpolate(t,r,i,a){n.i(o.a)(a,e,l,i,t,r)}function visible(e,r){return n.i(i.d)(e)*n.i(i.d)(r)>t}function clipLine(e){var t,r,o,s,l;return{lineStart:function(){s=o=!1,l=1},point:function(d,u){var f,h=[d,u],g=visible(d,u),m=c?g?0:code(d,u):g?code(d+(d<0?i.b:-i.b),u):0;if(!t&&(s=o=g)&&e.lineStart(),g!==o&&(!(f=intersect(t,h))||n.i(a.a)(t,f)||n.i(a.a)(h,f))&&(h[2]=1),g!==o)l=0,g?(e.lineStart(),f=intersect(h,t),e.point(f[0],f[1])):(f=intersect(t,h),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(p&&t&&c^g){var v;m&r||!(v=intersect(h,t,!0))||(l=0,c?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!g||t&&n.i(a.a)(t,h)||e.point(h[0],h[1]),t=h,o=g,r=m},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return l|(s&&o)<<1}}}function intersect(e,o,a){var s=n.i(r.a)(e),l=n.i(r.a)(o),c=[1,0,0],p=n.i(r.b)(s,l),d=n.i(r.c)(p,p),u=p[0],f=d-u*u;if(!f)return!a&&e;var h=t*d/f,g=-t*u/f,m=n.i(r.b)(c,p),v=n.i(r.d)(c,h),b=n.i(r.d)(p,g);n.i(r.e)(v,b);var y=m,x=n.i(r.c)(v,y),C=n.i(r.c)(y,y),R=x*x-C*(n.i(r.c)(v,v)-1);if(!(R<0)){var S=n.i(i.o)(R),P=n.i(r.d)(y,(-x-S)/C);if(n.i(r.e)(P,v),P=n.i(r.f)(P),!a)return P;var E,w=e[0],I=o[0],A=e[1],_=o[1];I<w&&(E=w,w=I,I=E);var L=I-w,M=n.i(i.a)(L-i.b)<i.p,k=M||L<i.p;if(!M&&_<A&&(E=A,A=_,_=E),k?M?A+_>0^P[1]<(n.i(i.a)(P[0]-w)<i.p?A:_):A<=P[1]&&P[1]<=_:L>i.b^(w<=P[0]&&P[0]<=I)){var O=n.i(r.d)(y,(-x+S)/C);return n.i(r.e)(O,v),[P,n.i(r.f)(O)]}}}function code(t,n){var r=c?e:i.b-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}var t=n.i(i.d)(e),l=6*i.h,c=t>0,p=n.i(i.a)(t)>i.p;return n.i(s.a)(visible,clipLine,interpolate,c?[0,-e]:[-i.b,e-i.b])}},function(e,t,n){"use strict";function validSegment(e){return e.length>1}function compareIntersection(e,t){return((e=e.x)[0]<0?e[1]-i.l-i.p:i.l-e[1])-((t=t.x)[0]<0?t[1]-i.l-i.p:i.l-t[1])}var r=n(730),o=n(733),i=n(26),a=n(739),s=n(62);t.a=function(e,t,i,l){return function(c){function point(t,n){e(t,n)&&c.point(t,n)}function pointLine(e,t){f.point(e,t)}function lineStart(){v.point=pointLine,f.lineStart()}function lineEnd(){v.point=point,f.lineEnd()}function pointRing(e,t){u.push([e,t]),g.point(e,t)}function ringStart(){g.lineStart(),u=[]}function ringEnd(){pointRing(u[0][0],u[0][1]),g.lineEnd();var e,t,n,r,o=g.clean(),i=h.result(),a=i.length;if(u.pop(),p.push(u),u=null,a)if(1&o){if(n=i[0],(t=n.length-1)>0){for(m||(c.polygonStart(),m=!0),c.lineStart(),e=0;e<t;++e)c.point((r=n[e])[0],r[1]);c.lineEnd()}}else a>1&&2&o&&i.push(i.pop().concat(i.shift())),d.push(i.filter(validSegment))}var p,d,u,f=t(c),h=n.i(r.a)(),g=t(h),m=!1,v={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){v.point=pointRing,v.lineStart=ringStart,v.lineEnd=ringEnd,d=[],p=[]},polygonEnd:function(){v.point=point,v.lineStart=lineStart,v.lineEnd=lineEnd,d=n.i(s.i)(d);var e=n.i(a.a)(p,l);d.length?(m||(c.polygonStart(),m=!0),n.i(o.a)(d,compareIntersection,e,i,c)):e&&(m||(c.polygonStart(),m=!0),c.lineStart(),i(null,null,1,c),c.lineEnd()),m&&(c.polygonEnd(),m=!1),d=p=null},sphere:function(){c.polygonStart(),c.lineStart(),i(null,null,1,c),c.lineEnd(),c.polygonEnd()}};return v}}},function(e,t,n){"use strict";function Intersection(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function link(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}var r=n(738),o=n(26);t.a=function(e,t,i,a,s){var l,c,p=[],d=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,i,a=e[0],c=e[t];if(n.i(r.a)(a,c)){if(!a[2]&&!c[2]){for(s.lineStart(),l=0;l<t;++l)s.point((a=e[l])[0],a[1]);return void s.lineEnd()}c[0]+=2*o.p}p.push(i=new Intersection(a,e,null,!0)),d.push(i.o=new Intersection(a,null,i,!1)),p.push(i=new Intersection(c,e,null,!1)),d.push(i.o=new Intersection(c,null,i,!0))}}),p.length){for(d.sort(t),link(p),link(d),l=0,c=d.length;l<c;++l)d[l].e=i=!i;for(var u,f,h=p[0];;){for(var g=h,m=!0;g.v;)if((g=g.n)===h)return;u=g.z,s.lineStart();do{if(g.v=g.o.v=!0,g.e){if(m)for(l=0,c=u.length;l<c;++l)s.point((f=u[l])[0],f[1]);else a(g.x,g.n.x,1,s);g=g.n}else{if(m)for(u=g.p.z,l=u.length-1;l>=0;--l)s.point((f=u[l])[0],f[1]);else a(g.x,g.p.x,-1,s);g=g.p}g=g.o,u=g.z,m=!m}while(!g.v);s.lineEnd()}}}},function(e,t,n){"use strict";t.a=function(e,t){function compose(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(compose.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),compose}},function(e,t,n){"use strict";var r=n(736),o=[null,null],i={type:"LineString",coordinates:o};t.a=function(e,t){return o[0]=e,o[1]=t,n.i(r.a)(i)}},function(e,t,n){"use strict";function lengthLineStart(){d.point=lengthPointFirst,d.lineEnd=lengthLineEnd}function lengthLineEnd(){d.point=d.lineEnd=l.a}function lengthPointFirst(e,t){e*=s.h,t*=s.h,r=e,o=n.i(s.e)(t),i=n.i(s.d)(t),d.point=lengthPoint}function lengthPoint(e,t){e*=s.h,t*=s.h;var a=n.i(s.e)(t),l=n.i(s.d)(t),c=n.i(s.a)(e-r),d=n.i(s.d)(c),u=n.i(s.e)(c),f=l*u,h=i*a-o*l*d,g=o*a+i*l*d;p.add(n.i(s.f)(n.i(s.o)(f*f+h*h),g)),r=e,o=a,i=l}var r,o,i,a=n(173),s=n(26),l=n(125),c=n(146),p=n.i(a.a)(),d={sphere:l.a,point:l.a,lineStart:lengthLineStart,lineEnd:l.a,polygonStart:l.a,polygonEnd:l.a};t.a=function(e){return p.reset(),n.i(c.a)(e,d),+p}},function(e,t,n){"use strict";function boundsPoint(e,t){e<o&&(o=e),e>a&&(a=e),t<i&&(i=t),t>s&&(s=t)}var r=n(125),o=1/0,i=o,a=-o,s=a,l={point:boundsPoint,lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var e=[[o,i],[a,s]];return a=s=-(i=o=1/0),e}};t.a=l},function(e,t,n){"use strict";var r=n(26);t.a=function(e,t){return n.i(r.a)(e[0]-t[0])<r.p&&n.i(r.a)(e[1]-t[1])<r.p}},function(e,t,n){"use strict";function longitude(e){return n.i(i.a)(e[0])<=i.b?e[0]:n.i(i.q)(e[0])*((n.i(i.a)(e[0])+i.b)%i.c-i.b)}var r=n(173),o=n(206),i=n(26),a=n.i(r.a)();t.a=function(e,t){var r=longitude(t),s=t[1],l=n.i(i.e)(s),c=[n.i(i.e)(r),-n.i(i.d)(r),0],p=0,d=0;a.reset(),1===l?s=i.l+i.p:-1===l&&(s=-i.l-i.p);for(var u=0,f=e.length;u<f;++u)if(g=(h=e[u]).length)for(var h,g,m=h[g-1],v=longitude(m),b=m[1]/2+i.r,y=n.i(i.e)(b),x=n.i(i.d)(b),C=0;C<g;++C,v=S,y=E,x=w,m=R){var R=h[C],S=longitude(R),P=R[1]/2+i.r,E=n.i(i.e)(P),w=n.i(i.d)(P),I=S-v,A=I>=0?1:-1,_=A*I,L=_>i.b,M=y*E;if(a.add(n.i(i.f)(M*A*n.i(i.e)(_),x*w+M*n.i(i.d)(_))),p+=L?I+A*i.c:I,L^v>=r^S>=r){var k=n.i(o.b)(n.i(o.a)(m),n.i(o.a)(R));n.i(o.g)(k);var O=n.i(o.b)(c,k);n.i(o.g)(O);var N=(L^I>=0?-1:1)*n.i(i.g)(O[2]);(s>N||s===N&&(k[0]||k[1]))&&(d+=L^I>=0?1:-1)}}return(p<-i.p||p<i.p&&a<-i.p)^1&d}},function(e,t,n){"use strict";var r=n(345);t.a=function(){return n.i(r.a)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(e,t,n){"use strict";function equirectangularRaw(e,t){return[e,t]}t.a=equirectangularRaw;n(87);equirectangularRaw.invert=equirectangularRaw},function(e,t,n){"use strict";function constantZero(){return 0}t.a=constantZero,t.b=function(e){return function(){return e}}},function(e,t,n){"use strict";function extendBasis(e,t){var n,r;if(enclosesWeakAll(t,e))return[t];for(n=0;n<e.length;++n)if(enclosesNot(t,e[n])&&enclosesWeakAll(encloseBasis2(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(enclosesNot(encloseBasis2(e[n],e[r]),t)&&enclosesNot(encloseBasis2(e[n],t),e[r])&&enclosesNot(encloseBasis2(e[r],t),e[n])&&enclosesWeakAll(encloseBasis3(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function enclosesNot(e,t){var n=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return n<0||n*n<r*r+o*o}function enclosesWeak(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function enclosesWeakAll(e,t){for(var n=0;n<t.length;++n)if(!enclosesWeak(e,t[n]))return!1;return!0}function encloseBasis(e){switch(e.length){case 1:return encloseBasis1(e[0]);case 2:return encloseBasis2(e[0],e[1]);case 3:return encloseBasis3(e[0],e[1],e[2])}}function encloseBasis1(e){return{x:e.x,y:e.y,r:e.r}}function encloseBasis2(e,t){var n=e.x,r=e.y,o=e.r,i=t.x,a=t.y,s=t.r,l=i-n,c=a-r,p=s-o,d=Math.sqrt(l*l+c*c);return{x:(n+i+l/d*p)/2,y:(r+a+c/d*p)/2,r:(d+o+s)/2}}function encloseBasis3(e,t,n){var r=e.x,o=e.y,i=e.r,a=t.x,s=t.y,l=t.r,c=n.x,p=n.y,d=n.r,u=r-a,f=r-c,h=o-s,g=o-p,m=l-i,v=d-i,b=r*r+o*o-i*i,y=b-a*a-s*s+l*l,x=b-c*c-p*p+d*d,C=f*h-u*g,R=(h*x-g*y)/(2*C)-r,S=(g*m-h*v)/C,P=(f*y-u*x)/(2*C)-o,E=(u*v-f*m)/C,w=S*S+E*E-1,I=2*(i+R*S+P*E),A=R*R+P*P-i*i,_=-(w?(I+Math.sqrt(I*I-4*w*A))/(2*w):A/I);return{x:r+R+S*_,y:o+P+E*_,r:_}}var r=n(1383);t.a=function(e){for(var t,o,i=0,a=(e=n.i(r.a)(r.b.call(e))).length,s=[];i<a;)t=e[i],o&&enclosesWeak(o,t)?++i:(o=encloseBasis(s=extendBasis(s,t)),i=0);return o}},function(e,t,n){"use strict";function place(e,t,n){var r,o,i,a,s=e.x-t.x,l=e.y-t.y,c=s*s+l*l;c?(o=t.r+n.r,o*=o,a=e.r+n.r,a*=a,o>a?(r=(c+a-o)/(2*c),i=Math.sqrt(Math.max(0,a/c-r*r)),n.x=e.x-r*s-i*l,n.y=e.y-r*l+i*s):(r=(c+o-a)/(2*c),i=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x+r*s-i*l,n.y=t.y+r*l+i*s)):(n.x=t.x+n.r,n.y=t.y)}function intersects(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function score(e){var t=e._,n=e.next._,r=t.r+n.r,o=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return o*o+i*i}function Node(e){this._=e,this.next=null,this.previous=null}function packEnclose(e){if(!(a=e.length))return 0;var t,o,i,a,s,l,c,p,d,u,f;if(t=e[0],t.x=0,t.y=0,!(a>1))return t.r;if(o=e[1],t.x=-o.r,o.x=t.r,o.y=0,!(a>2))return t.r+o.r;place(o,t,i=e[2]),t=new Node(t),o=new Node(o),i=new Node(i),t.next=i.previous=o,o.next=t.previous=i,i.next=o.previous=t;e:for(c=3;c<a;++c){place(t._,o._,i=e[c]),i=new Node(i),p=o.next,d=t.previous,u=o._.r,f=t._.r;do{if(u<=f){if(intersects(p._,i._)){o=p,t.next=o,o.previous=t,--c;continue e}u+=p._.r,p=p.next}else{if(intersects(d._,i._)){t=d,t.next=o,o.previous=t,--c;continue e}f+=d._.r,d=d.previous}}while(p!==d.next);for(i.previous=t,i.next=o,t.next=o.previous=o=i,s=score(t);(i=i.next)!==o;)(l=score(i))<s&&(t=i,s=l);o=t.next}for(t=[o._],i=o;(i=i.next)!==o;)t.push(i._);for(i=n.i(r.a)(t),c=0;c<a;++c)t=e[c],t.x-=i.x,t.y-=i.y;return i.r}t.a=packEnclose;var r=n(743)},function(e,t,n){"use strict";t.a=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}},function(e,t,n){"use strict";function genericArray(e,t){var o,i=t?t.length:0,a=e?Math.min(i,e.length):0,s=new Array(a),l=new Array(i);for(o=0;o<a;++o)s[o]=n.i(r.a)(e[o],t[o]);for(;o<i;++o)l[o]=t[o];return function(e){for(o=0;o<a;++o)l[o]=s[o](e);return l}}t.a=genericArray;var r=n(353);n(352)},function(e,t,n){"use strict";var r=n(351);t.a=function(e){var t=e.length;return function(o){var i=Math.floor(((o%=1)<0?++o:o)*t),a=e[(i+t-1)%t],s=e[i%t],l=e[(i+1)%t],c=e[(i+2)%t];return n.i(r.b)((o-i/t)*t,a,s,l,c)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}},function(e,t,n){"use strict";var r=n(353);t.a=function(e,t){var o,i={},a={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(o in t)o in e?i[o]=n.i(r.a)(e[o],t[o]):a[o]=t[o];return function(e){for(o in i)a[o]=i[o](e);return a}}},function(e,t,n){"use strict";function rgbSpline(e){return function(t){var o,i,a=t.length,s=new Array(a),l=new Array(a),c=new Array(a);for(o=0;o<a;++o)i=n.i(r.f)(t[o]),s[o]=i.r||0,l[o]=i.g||0,c[o]=i.b||0;return s=e(s),l=e(l),c=e(c),i.opacity=1,function(e){return i.r=s(e),i.g=l(e),i.b=c(e),i+""}}}n.d(t,"b",function(){return s});var r=n(86),o=n(351),i=n(747),a=n(174);t.a=function rgbGamma(e){function rgb(e,o){var i=t((e=n.i(r.f)(e)).r,(o=n.i(r.f)(o)).r),s=t(e.g,o.g),l=t(e.b,o.b),c=n.i(a.a)(e.opacity,o.opacity);return function(t){return e.r=i(t),e.g=s(t),e.b=l(t),e.opacity=c(t),e+""}}var t=n.i(a.c)(e);return rgb.gamma=rgbGamma,rgb}(1);var s=rgbSpline(o.a);rgbSpline(i.a)},function(e,t,n){"use strict";function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}var r=n(262),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=new RegExp(o.source,"g");t.a=function(e,t){var a,s,l,c=o.lastIndex=i.lastIndex=0,p=-1,d=[],u=[];for(e+="",t+="";(a=o.exec(e))&&(s=i.exec(t));)(l=s.index)>c&&(l=t.slice(c,l),d[p]?d[p]+=l:d[++p]=l),(a=a[0])===(s=s[0])?d[p]?d[p]+=s:d[++p]=s:(d[++p]=null,u.push({i:p,x:n.i(r.a)(a,s)})),c=i.lastIndex;return c<t.length&&(l=t.slice(c),d[p]?d[p]+=l:d[++p]=l),d.length<2?u[0]?one(u[0].x):zero(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)d[(n=u[r]).i]=n.x(e);return d.join("")})}},function(e,t,n){"use strict";var r=n(175);t.a=function sourceRandomIrwinHall(e){function randomIrwinHall(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return randomIrwinHall.source=sourceRandomIrwinHall,randomIrwinHall}(r.a)},function(e,t,n){"use strict";var r=n(175);t.a=function sourceRandomNormal(e){function randomNormal(t,n){var r,o;return t=null==t?0:+t,n=null==n?1:+n,function(){var i;if(null!=r)i=r,r=null;else do{r=2*e()-1,i=2*e()-1,o=r*r+i*i}while(!o||o>1);return t+n*i*Math.sqrt(-2*Math.log(o)/o)}}return randomNormal.source=sourceRandomNormal,randomNormal}(r.a)},function(e,t,n){"use strict";t.a=function(e,t){e=e.slice();var n,r=0,o=e.length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}},function(e,t,n){"use strict";t.a=function(e){return+e}},function(e,t,n){"use strict";function ordinal(){function scale(n){var r=n+"",o=e.get(r);if(!o){if(l!==a)return l;e.set(r,o=t.push(n))}return s[(o-1)%s.length]}var e=n.i(r.a)(),t=[],s=[],l=a;return scale.domain=function(o){if(!arguments.length)return t.slice();t=[],e=n.i(r.a)();for(var i,a,s=-1,l=o.length;++s<l;)e.has(a=(i=o[s])+"")||e.set(a,t.push(i));return scale},scale.range=function(e){return arguments.length?(s=o.b.call(e),scale):s.slice()},scale.unknown=function(e){return arguments.length?(l=e,scale):l},scale.copy=function(){return ordinal(t,s).unknown(l)},i.b.apply(scale,arguments),scale}t.a=ordinal;var r=n(255),o=n(148),i=n(75),a={name:"implicit"}},function(e,t,n){"use strict";function copy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}t.a=copy;n(126),n(75),n(149),n(356),n(358),n(357)},function(e,t,n){"use strict";var r=n(62),o=n(342);t.a=function(e,t,i,a){var s,l=n.i(r.a)(e,t,i);switch(a=n.i(o.a)(null==a?",f":a),a.type){case"s":var c=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(s=n.i(o.b)(l,c))||(a.precision=s),n.i(o.c)(a,c);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(s=n.i(o.d)(l,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=s-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(s=n.i(o.e)(l))||(a.precision=s-2*("%"===a.type))}return n.i(o.f)(a)}},function(e,t,n){"use strict";function date(e){return new Date(e)}function number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,h,g,m,v,b,y,x){function tickFormat(n){return(b(n)<n?P:v(n)<n?E:m(n)<n?w:g(n)<n?I:t(n)<n?h(n)<n?A:_:e(n)<n?L:M)(n)}function tickInterval(t,o,i,a){if(null==t&&(t=10),"number"==typeof t){var s=Math.abs(i-o)/t,l=n.i(r.f)(function(e){return e[2]}).right(k,s);l===k.length?(a=n.i(r.a)(o/f,i/f,t),t=e):l?(l=k[s/k[l-1][2]<k[l][2]/s?l-1:l],a=l[1],t=l[0]):(a=Math.max(n.i(r.a)(o,i,t),1),t=y)}return null==a?t:t.every(a)}var C=n.i(i.d)(i.a,i.a),R=C.invert,S=C.domain,P=x(".%L"),E=x(":%S"),w=x("%I:%M"),I=x("%I %p"),A=x("%a %d"),_=x("%b %d"),L=x("%B"),M=x("%Y"),k=[[b,1,s],[b,5,5*s],[b,15,15*s],[b,30,30*s],[v,1,l],[v,5,5*l],[v,15,15*l],[v,30,30*l],[m,1,c],[m,3,3*c],[m,6,6*c],[m,12,12*c],[g,1,p],[g,2,2*p],[h,1,d],[t,1,u],[t,3,3*u],[e,1,f]];return C.invert=function(e){return new Date(R(e))},C.domain=function(e){return arguments.length?S(o.a.call(e,number)):S().map(date)},C.ticks=function(e,t){var n,r=S(),o=r[0],i=r[r.length-1],a=i<o;return a&&(n=o,o=i,i=n),n=tickInterval(e,o,i,t),n=n?n.range(o,i+1):[],a?n.reverse():n},C.tickFormat=function(e,t){return null==t?tickFormat:x(t)},C.nice=function(e,t){var r=S();return(e=tickInterval(e,r[0],r[r.length-1],t))?S(n.i(a.a)(r,e)):C},C.copy=function(){return n.i(i.c)(C,calendar(e,t,h,g,m,v,b,y,x))},C}t.a=calendar;var r=n(62),o=(n(269),n(370),n(148)),i=n(126),a=(n(75),n(755)),s=1e3,l=60*s,c=60*l,p=24*c,d=7*p,u=30*p,f=365*p},function(e,t,n){"use strict";t.a=function(e){return function(){return this.matches(e)}}},function(e,t,n){"use strict";var r=n(88);t.a=function(e){return"string"==typeof e?new r.a([[document.querySelector(e)]],[document.documentElement]):new r.a([[e]],r.b)}},function(e,t,n){"use strict";function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}t.b=EnterNode;var r=n(764),o=n(88);t.a=function(){return new o.a(this._enter||this._groups.map(r.a),this._parents)},EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return new Array(e.length)}},function(e,t,n){"use strict";function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,n){return function(){this.style.setProperty(e,t,n)}}function styleFunction(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function styleValue(e,t){return e.style.getPropertyValue(t)||n.i(r.a)(e).getComputedStyle(e,null).getPropertyValue(t)}t.b=styleValue;var r=n(364);t.a=function(e,t,n){return arguments.length>1?this.each((null==t?styleRemove:"function"==typeof t?styleFunction:styleConstant)(e,t,null==n?"":n)):styleValue(this.node(),e)}},function(e,t,n){"use strict";function empty(){return[]}t.a=function(e){return null==e?empty:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";var r=n(147),o=n(150),i=n(267),a=n(366),s=n(368);t.a=function(){function area(o){var i,a,s,h,g,m=o.length,v=!1,b=new Array(m),y=new Array(m);for(null==d&&(f=u(g=n.i(r.a)())),i=0;i<=m;++i){if(!(i<m&&p(h=o[i],i,o))===v)if(v=!v)a=i,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),s=i-1;s>=a;--s)f.point(b[s],y[s]);f.lineEnd(),f.areaEnd()}v&&(b[i]=+e(h,i,o),y[i]=+l(h,i,o),f.point(t?+t(h,i,o):b[i],c?+c(h,i,o):y[i]))}if(g)return f=null,g+""||null}function arealine(){return n.i(a.a)().defined(p).curve(u).context(d)}var e=s.a,t=null,l=n.i(o.a)(0),c=s.b,p=n.i(o.a)(!0),d=null,u=i.a,f=null;return area.x=function(r){return arguments.length?(e="function"==typeof r?r:n.i(o.a)(+r),t=null,area):e},area.x0=function(t){return arguments.length?(e="function"==typeof t?t:n.i(o.a)(+t),area):e},area.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:n.i(o.a)(+e),area):t},area.y=function(e){return arguments.length?(l="function"==typeof e?e:n.i(o.a)(+e),c=null,area):l},area.y0=function(e){return arguments.length?(l="function"==typeof e?e:n.i(o.a)(+e),area):l},area.y1=function(e){return arguments.length?(c=null==e?null:"function"==typeof e?e:n.i(o.a)(+e),area):c},area.lineX0=area.lineY0=function(){return arealine().x(e).y(l)},area.lineY1=function(){return arealine().x(e).y(c)},area.lineX1=function(){return arealine().x(t).y(l)},area.defined=function(e){return arguments.length?(p="function"==typeof e?e:n.i(o.a)(!!e),area):p},area.curve=function(e){return arguments.length?(u=e,null!=d&&(f=u(d)),area):u},area.context=function(e){return arguments.length?(null==e?d=f=null:f=u(d=e),area):d},area}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.prototype.slice},function(e,t,n){"use strict";function CardinalClosed(e,t){this._context=e,this._k=(1-t)/6}t.a=CardinalClosed;var r=n(268),o=n(266);CardinalClosed.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:n.i(o.b)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function custom(e){function cardinal(t){return new CardinalClosed(t,e)}return cardinal.tension=function(e){return custom(+e)},cardinal}(0)},function(e,t,n){"use strict";function CardinalOpen(e,t){this._context=e,this._k=(1-t)/6}t.a=CardinalOpen;var r=n(266);CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:n.i(r.b)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function custom(e){function cardinal(t){return new CardinalOpen(t,e)}return cardinal.tension=function(e){return custom(+e)},cardinal}(0)},function(e,t,n){"use strict";function Radial(e){this._curve=e}function curveRadial(e){function radial(t){return new Radial(e(t))}return radial._curve=e,radial}n.d(t,"b",function(){return o}),t.a=curveRadial;var r=n(267),o=curveRadial(r.a);Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},function(e,t,n){"use strict";function lineRadial(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(n.i(r.a)(e)):t()._curve},e}t.a=lineRadial;var r=n(771);n(366)},function(e,t,n){"use strict";function peak(e){for(var t,n=-1,r=0,o=e.length,i=-1/0;++n<o;)(t=+e[n][1])>i&&(i=t,r=n);return r}var r=n(211);t.a=function(e){var t=e.map(peak);return n.i(r.a)(e).sort(function(e,n){return t[e]-t[n]})}},function(e,t,n){"use strict";t.a=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}},function(e,t,n){"use strict";var r=n(209);t.a={draw:function(e,t){var n=Math.sqrt(t/r.b);e.moveTo(n,0),e.arc(0,0,n,0,r.c)}}},function(e,t,n){"use strict";t.a={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}},function(e,t,n){"use strict";var r=Math.sqrt(1/3),o=2*r;t.a={draw:function(e,t){var n=Math.sqrt(t/o),i=n*r;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}}},function(e,t,n){"use strict";t.a={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}}},function(e,t,n){"use strict";var r=n(209),o=Math.sin(r.b/10)/Math.sin(7*r.b/10),i=Math.sin(r.c/10)*o,a=-Math.cos(r.c/10)*o;t.a={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),o=i*n,s=a*n;e.moveTo(0,-n),e.lineTo(o,s);for(var l=1;l<5;++l){var c=r.c*l/5,p=Math.cos(c),d=Math.sin(c);e.lineTo(d*n,-p*n),e.lineTo(p*o-d*s,d*o+p*s)}e.closePath()}}},function(e,t,n){"use strict";var r=Math.sqrt(3);t.a={draw:function(e,t){var n=-Math.sqrt(t/(3*r));e.moveTo(0,2*n),e.lineTo(-r*n,-n),e.lineTo(r*n,-n),e.closePath()}}},function(e,t,n){"use strict";var r=-.5,o=Math.sqrt(3)/2,i=1/Math.sqrt(12),a=3*(i/2+1);t.a={draw:function(e,t){var n=Math.sqrt(t/a),s=n/2,l=n*i,c=s,p=n*i+n,d=-c,u=p;e.moveTo(s,l),e.lineTo(c,p),e.lineTo(d,u),e.lineTo(r*s-o*l,o*s+r*l),e.lineTo(r*c-o*p,o*c+r*p),e.lineTo(r*d-o*u,o*d+r*u),e.lineTo(r*s+o*l,r*l-o*s),e.lineTo(r*c+o*p,r*p-o*c),e.lineTo(r*d+o*u,r*u-o*d),e.closePath()}}},function(e,t,n){"use strict";function formatIsoNative(e){return e.toISOString()}n.d(t,"a",function(){return o});var r=n(369),o="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||n.i(r.b)(o)},function(e,t,n){"use strict";function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function formatLocale(e){function newFormat(e,t){return function(n){var r,i,a,s=[],l=-1,c=0,p=e.length;for(n instanceof Date||(n=new Date(+n));++l<p;)37===e.charCodeAt(l)&&(s.push(e.slice(c,l)),null!=(i=o[r=e.charAt(++l)])?r=e.charAt(++l):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),c=l+1);return s.push(e.slice(c,l)),s.join("")}}function newParse(e,t){return function(o){var i,a,s=newDate(1900,void 0,1),l=parseSpecifier(s,e,o+="",0);if(l!=o.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(!t||"Z"in s||(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=utcDate(newDate(s.y,0,1)),a=i.getUTCDay(),i=a>4||0===a?r.a.ceil(i):n.i(r.a)(i),i=r.b.offset(i,7*(s.V-1)),s.y=i.getUTCFullYear(),s.m=i.getUTCMonth(),s.d=i.getUTCDate()+(s.w+6)%7):(i=localDate(newDate(s.y,0,1)),a=i.getDay(),i=a>4||0===a?r.c.ceil(i):n.i(r.c)(i),i=r.d.offset(i,7*(s.V-1)),s.y=i.getFullYear(),s.m=i.getMonth(),s.d=i.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?utcDate(newDate(s.y,0,1)).getUTCDay():localDate(newDate(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,utcDate(s)):localDate(s)}}function parseSpecifier(e,t,n,r){for(var i,a,s=0,l=t.length,c=n.length;s<l;){if(r>=c)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=P[i in o?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function parsePeriod(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=f[r[0].toLowerCase()],n+r[0].length):-1}function parseShortWeekday(e,t,n){var r=m.exec(t.slice(n));return r?(e.w=v[r[0].toLowerCase()],n+r[0].length):-1}function parseWeekday(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=g[r[0].toLowerCase()],n+r[0].length):-1}function parseShortMonth(e,t,n){var r=x.exec(t.slice(n));return r?(e.m=C[r[0].toLowerCase()],n+r[0].length):-1}function parseMonth(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1}function parseLocaleDateTime(e,n,r){return parseSpecifier(e,t,n,r)}function parseLocaleDate(e,t,n){return parseSpecifier(e,i,t,n)}function parseLocaleTime(e,t,n){return parseSpecifier(e,a,t,n)}function formatShortWeekday(e){return c[e.getDay()]}function formatWeekday(e){return l[e.getDay()]}function formatShortMonth(e){return d[e.getMonth()]}function formatMonth(e){return p[e.getMonth()]}function formatPeriod(e){return s[+(e.getHours()>=12)]}function formatQuarter(e){return 1+~~(e.getMonth()/3)}function formatUTCShortWeekday(e){return c[e.getUTCDay()]}function formatUTCWeekday(e){return l[e.getUTCDay()]}function formatUTCShortMonth(e){return d[e.getUTCMonth()]}function formatUTCMonth(e){return p[e.getUTCMonth()]}function formatUTCPeriod(e){return s[+(e.getUTCHours()>=12)]}function formatUTCQuarter(e){return 1+~~(e.getUTCMonth()/3)}var t=e.dateTime,i=e.date,a=e.time,s=e.periods,l=e.days,c=e.shortDays,p=e.months,d=e.shortMonths,u=formatRe(s),f=formatLookup(s),h=formatRe(l),g=formatLookup(l),m=formatRe(c),v=formatLookup(c),b=formatRe(p),y=formatLookup(p),x=formatRe(d),C=formatLookup(d),R={a:formatShortWeekday,A:formatWeekday,b:formatShortMonth,B:formatMonth,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:formatPeriod,q:formatQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},S={a:formatUTCShortWeekday,A:formatUTCWeekday,b:formatUTCShortMonth,B:formatUTCMonth,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:formatUTCPeriod,q:formatUTCQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},P={a:parseShortWeekday,A:parseWeekday,b:parseShortMonth,B:parseMonth,c:parseLocaleDateTime,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:parsePeriod,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:parseLocaleDate,X:parseLocaleTime,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};return R.x=newFormat(i,R),R.X=newFormat(a,R),R.c=newFormat(t,R),S.x=newFormat(i,S),S.X=newFormat(a,S),S.c=newFormat(t,S),{format:function(e){var t=newFormat(e+="",R);return t.toString=function(){return e},t},parse:function(e){var t=newParse(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=newFormat(e+="",S);return t.toString=function(){return e},t},utcParse:function(e){var t=newParse(e+="",!0);return t.toString=function(){return e},t}}}function pad(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function requote(e){return e.replace(s,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function parseWeekdayNumberSunday(e,t,n){var r=i.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var r=i.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function parseWeekNumberSunday(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function parseWeekNumberISO(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function parseWeekNumberMonday(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function parseFullYear(e,t,n){var r=i.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function parseYear(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function parseZone(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function parseQuarter(e,t,n){var r=i.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function parseMonthNumber(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function parseDayOfMonth(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function parseDayOfYear(e,t,n){var r=i.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function parseHour24(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function parseMinutes(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function parseSeconds(e,t,n){var r=i.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function parseMilliseconds(e,t,n){var r=i.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function parseMicroseconds(e,t,n){var r=i.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function parseLiteralPercent(e,t,n){var r=a.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function parseUnixTimestamp(e,t,n){var r=i.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var r=i.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+r.d.count(n.i(r.e)(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return 0===t?7:t}function formatWeekNumberSunday(e,t){return pad(r.f.count(n.i(r.e)(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||0===t?n.i(r.g)(e):r.g.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad(r.g.count(n.i(r.e)(e),e)+(4===n.i(r.e)(e).getDay()),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(r.c.count(n.i(r.e)(e)-1,e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return e=dISO(e),pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var o=e.getDay();return e=o>=4||0===o?n.i(r.g)(e):r.g.ceil(e),pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+r.b.count(n.i(r.h)(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return 0===t?7:t}function formatUTCWeekNumberSunday(e,t){return pad(r.i.count(n.i(r.h)(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||0===t?n.i(r.j)(e):r.j.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad(r.j.count(n.i(r.h)(e),e)+(4===n.i(r.h)(e).getUTCDay()),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(r.a.count(n.i(r.h)(e)-1,e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return e=UTCdISO(e),pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var o=e.getUTCDay();return e=o>=4||0===o?n.i(r.j)(e):r.j.ceil(e),pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}t.a=formatLocale;var r=n(269),o={"-":"",_:" ",0:"0"},i=/^\s*\d+/,a=/^%/,s=/[\\^$*+?|[\]().{}]/g},function(e,t,n){"use strict";var r=n(78);t.a=function(e,t){var n,o,i,a=e.__transition,s=!0;if(a){t=null==t?null:t+"";for(i in a)(n=a[i]).name===t?(o=n.state>r.a&&n.state<r.b,n.state=r.c,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):s=!1;s&&delete e.__transition}}},function(e,t,n){"use strict";var r=n(86),o=n(104);t.a=function(e,t){var i;return("number"==typeof t?o.c:t instanceof r.a?o.d:(i=n.i(r.a)(t))?(t=i,o.d):o.e)(e,t)}},function(e,t,n){"use strict";function createCell(e){return o.c[e.index]={site:e,halfedges:[]}}function cellHalfedgeAngle(e,t){var n=e.site,r=t.left,o=t.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function cellHalfedgeStart(e,t){return t[+(t.left!==e.site)]}function cellHalfedgeEnd(e,t){return t[+(t.left===e.site)]}function sortCellHalfedges(){for(var e,t,n,r,i=0,a=o.c.length;i<a;++i)if((e=o.c[i])&&(r=(t=e.halfedges).length)){var s=new Array(r),l=new Array(r);for(n=0;n<r;++n)s[n]=n,l[n]=cellHalfedgeAngle(e,o.d[t[n]]);for(s.sort(function(e,t){return l[t]-l[e]}),n=0;n<r;++n)l[n]=t[s[n]];for(n=0;n<r;++n)t[n]=l[n]}}function clipCells(e,t,i,a){var s,l,c,p,d,u,f,h,g,m,v,b,y=o.c.length,x=!0;for(s=0;s<y;++s)if(l=o.c[s]){for(c=l.site,d=l.halfedges,p=d.length;p--;)o.d[d[p]]||d.splice(p,1);for(p=0,u=d.length;p<u;)m=cellHalfedgeEnd(l,o.d[d[p]]),v=m[0],b=m[1],f=cellHalfedgeStart(l,o.d[d[++p%u]]),h=f[0],g=f[1],(Math.abs(v-h)>o.b||Math.abs(b-g)>o.b)&&(d.splice(p,0,o.d.push(n.i(r.b)(c,m,Math.abs(v-e)<o.b&&a-b>o.b?[e,Math.abs(h-e)<o.b?g:a]:Math.abs(b-a)<o.b&&i-v>o.b?[Math.abs(g-a)<o.b?h:i,a]:Math.abs(v-i)<o.b&&b-t>o.b?[i,Math.abs(h-i)<o.b?g:t]:Math.abs(b-t)<o.b&&v-e>o.b?[Math.abs(g-t)<o.b?h:e,t]:null))-1),++u);u&&(x=!1)}if(x){var C,R,S,P=1/0;for(s=0,x=null;s<y;++s)(l=o.c[s])&&(c=l.site,C=c[0]-e,R=c[1]-t,(S=C*C+R*R)<P&&(P=S,x=l));if(x){var E=[e,t],w=[e,a],I=[i,a],A=[i,t];x.halfedges.push(o.d.push(n.i(r.b)(c=x.site,E,w))-1,o.d.push(n.i(r.b)(c,w,I))-1,o.d.push(n.i(r.b)(c,I,A))-1,o.d.push(n.i(r.b)(c,A,E))-1)}}for(s=0;s<y;++s)(l=o.c[s])&&(l.halfedges.length||delete o.c[s])}t.d=createCell,t.c=cellHalfedgeStart,t.a=sortCellHalfedges,t.b=clipCells;var r=n(373),o=n(212)},function(e,t,n){"use strict";function Circle(){n.i(o.b)(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(e){var t=e.P,n=e.N;if(t&&n){var o=t.site,s=e.site,l=n.site;if(o!==l){var c=s[0],p=s[1],d=o[0]-c,u=o[1]-p,f=l[0]-c,h=l[1]-p,g=2*(d*h-u*f);if(!(g>=-i.f)){var m=d*d+u*u,v=f*f+h*h,b=(h*m-u*v)/g,y=(d*v-f*m)/g,x=a.pop()||new Circle;x.arc=e,x.site=s,x.x=b+c,x.y=(x.cy=y+p)+Math.sqrt(b*b+y*y),e.circle=x;for(var C=null,R=i.g._;R;)if(x.y<R.y||x.y===R.y&&x.x<=R.x){if(!R.L){C=R.P;break}R=R.L}else{if(!R.R){C=R;break}R=R.R}i.g.insert(C,x),C||(r=x)}}}}function detachCircle(e){var t=e.circle;t&&(t.P||(r=t.N),i.g.remove(t),a.push(t),n.i(o.b)(t),e.circle=null)}n.d(t,"a",function(){return r}),t.c=attachCircle,t.b=detachCircle;var r,o=n(374),i=n(212),a=[]},function(e,t,n){"use strict";function Transform(e,t,n){this.k=e,this.x=t,this.y=n}function transform(e){for(;!e.__zoom;)if(!(e=e.parentNode))return r;return e.__zoom}t.b=Transform,n.d(t,"a",function(){return r}),Transform.prototype={constructor:Transform,scale:function(e){return 1===e?this:new Transform(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Transform(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var r=new Transform(1,0,0);transform.prototype=Transform.prototype},function(e,t,n){"use strict";var r=(n(1607),n(62),n(1287),n(1291),n(1296),n(255),n(86),n(1310),n(171),n(338));n.d(t,"i",function(){return r.c});var o=(n(720),n(721),n(1333),n(1338));n.d(t,"a",function(){return o.a}),n.d(t,"b",function(){return o.b}),n.d(t,"c",function(){return o.c}),n.d(t,"d",function(){return o.d}),n.d(t,"e",function(){return o.e});var i=(n(342),n(1361),n(1396),n(104),n(147),n(1424),n(354),n(1441),n(1492),n(1463),n(63));n.d(t,"f",function(){return i.d}),n.d(t,"g",function(){return i.a});var a=(n(1546),n(269),n(370),n(270),n(372),n(1599),n(1604));n.d(t,"h",function(){return a.a})},function(e,t,n){e.exports=n.p+"assets/images/flag_unknown.png"},function(e,t,n){e.exports=n.p+"assets/images/cls_addChild.png"},function(e,t,n){e.exports=n.p+"assets/images/cls_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/cls_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/dataRange_create.png"},function(e,t,n){e.exports=n.p+"assets/images/dataRange_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/dataRange_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/datatypeProperty_create.png"},function(e,t,n){e.exports=n.p+"assets/images/individual_create.png"},function(e,t,n){e.exports=n.p+"assets/images/individual_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/individual_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/limeLexicon_create.png"},function(e,t,n){e.exports=n.p+"assets/images/limeLexicon_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/limeLexicon_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/ontologyProperty_create.png"},function(e,t,n){e.exports=n.p+"assets/images/property_addChild.png"},function(e,t,n){e.exports=n.p+"assets/images/property_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/property_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/skosCollection_addChild.png"},function(e,t,n){e.exports=n.p+"assets/images/skosCollection_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/skosCollection_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/folder-open.gif"},function(e,t,n){e.exports=n.p+"assets/images/folder.gif"},function(e,t,n){e.exports=n.p+"assets/images/propDatatype.png"},function(e,t,n){e.exports=n.p+"assets/images/propOntology.png"},function(e,t,n){e.exports=n.p+"assets/images/warning.png"},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">Commits</label>\r\n\r\n        <label style="white-space: pre">Operation sort: </label>\r\n        <div class="btn-group btn-group-xs" style="margin-right: 8px;" role="group">\r\n            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                <span>{{operationSorting}}</span>\r\n                <span class="glyphicon glyphicon-sort-by-alphabet"></span>\r\n            </button>\r\n            <ul class="dropdown-menu pull-right">\r\n                <li *ngFor="let sd of sortingDirectionList" style="position: relative;">\r\n                    <a (click)="sortOperation(sd)" style="margin-right: 18px;">{{sd}}</a>\r\n                    <span *ngIf="sd == operationSorting" class="glyphicon glyphicon-ok pull-right"\r\n                        style="position: absolute; right: 4px;"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <label style="white-space: pre">Time sort: </label>\r\n        <div class="btn-group btn-group-xs" style="margin-right: 8px;" role="group">\r\n            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                <span>{{timeSorting}}</span>\r\n                <span class="glyphicon glyphicon-sort-by-order"></span>\r\n            </button>\r\n            <ul class="dropdown-menu pull-right">\r\n                <li *ngFor="let sd of sortingDirectionList" style="position: relative;">\r\n                    <a (click)="sortTime(sd)" style="margin-right: 18px;">{{sd}}</a>\r\n                    <span *ngIf="sd == timeSorting" class="glyphicon glyphicon-ok pull-right"\r\n                        style="position: absolute; right: 4px;"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <button class="btn btn-xs btn-default" [ngClass]="{active: showFilterBox}" (click)="showFilterBox = !showFilterBox">\r\n            <span *ngIf="!showFilterBox">Show filters</span>\r\n            <span *ngIf="showFilterBox">Hide filters</span>\r\n            <span class="glyphicon glyphicon-filter"></span>\r\n        </button>\r\n    </div>\r\n    \r\n    <div class="panel-body vbox">\r\n\r\n        <history-filter *ngIf="showFilterBox" class="vbox" style="margin-bottom: 6px; min-height: 115px;" (apply)="onFilterApplied($event)"\r\n            [operations]="operations" [performers]="performers" [fromTime]="fromTime" [toTime]="toTime"></history-filter>\r\n\r\n        <div class="table-responsive" style="flex: 3;">\r\n\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 1%">\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Commit ID</th>\r\n                        <th class="text-center">Action</th>\r\n                        <th class="text-center">1st Param</th>\r\n                        <th class="text-center" *ngIf="isLargeWidth()">2nd Param</th>\r\n                        <th class="text-center">Other param(s)</th>\r\n                        <th class="text-center">User</th>\r\n                        <th class="text-center">Date</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of commits">\r\n                        <td class="text-center" nowrap>\r\n                            <a (click)="getCommitDelta(item)" style="cursor: pointer;">{{item.commit.getLocalName()}}</a>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <span *ngIf="item.operation" [title]="item.operation.getURI()">\r\n                                {{item.operation.getShow()}}\r\n                            </span>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <ng-template [ngIf]="item.operationParameters.length != 0">\r\n                                <label style="white-space: pre;">{{item.operationParameters[0].name}}: </label>\r\n                                <span class="clickable" (click)="openValueResourceView(item.operationParameters[0].value)">\r\n                                    {{item.operationParameters[0].value}}\r\n                                </span>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td class="text-center" *ngIf="isLargeWidth()">\r\n                            <ng-template [ngIf]="item.operationParameters.length > 1">\r\n                                <label style="white-space: pre;">{{item.operationParameters[1].name}}: </label>\r\n                                <span class="clickable" (click)="openValueResourceView(item.operationParameters[1].value)">\r\n                                    {{item.operationParameters[1].value}}\r\n                                </span>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <ng-template [ngIf]="!isLargeWidth() && item.operationParameters.length > 1">\r\n                                <label style="white-space: pre;">{{item.operationParameters[1].name}}: </label>\r\n                                <span class="clickable" (click)="openValueResourceView(item.operationParameters[1].value)">\r\n                                    {{item.operationParameters[1].value}}\r\n                                </span>\r\n                            </ng-template>\r\n                            <ng-template [ngIf]="isLargeWidth() && item.operationParameters.length > 2">\r\n                                <label style="white-space: pre;">{{item.operationParameters[2].name}}: </label>\r\n                                <span class="clickable" (click)="openValueResourceView(item.operationParameters[2].value)">\r\n                                    {{item.operationParameters[2].value}}\r\n                                </span>\r\n                            </ng-template>\r\n                            <button *ngIf="showOtherParamButton(item)" class="btn btn-xs btn-default" (click)="inspectParams(item)"\r\n                                title="Show all parameters">\r\n                                <span class="glyphicon glyphicon-option-horizontal"></span>\r\n                            </button>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <span *ngIf="item.user" [title]="item.user.getURI()">\r\n                                {{item.user.getShow()}}\r\n                            </span>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{item.endTimeLocal}}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n    \r\n    </div>\r\n\r\n    <div class="panel-footer">\r\n        <div class="btn-group btn-group-xs pull-right" role="group">\r\n            <button class="btn btn-default" title="Previous" (click)="getPreviousCommits()" [disabled]="page <= 0">\r\n                <span class="glyphicon glyphicon-triangle-left"></span>\r\n            </button>\r\n            <button class="btn btn-default" style="cursor: auto" disabled>\r\n                <span>{{page+1}} of {{pageCount}}</span>\r\n            </button>\r\n            <button class="btn btn-default" title="Next" (click)="getNextCommits()" [disabled]="page+1 >= pageCount">\r\n                <span class="glyphicon glyphicon-triangle-right"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return Z});var r=n(0),o=n(22),i=n(79),a=n(46),s=n(5),l=n(4),c=n(958),p=n(969),d=n(970),u=n(971),f=n(440),h=n(442),g=n(443),m=n(445),v=n(463),b=n(482),y=n(1073),x=n(244),C=n(138),R=n(8),S=n(97),P=n(624),E=n(625),w=n(112),I=n(15),A=n(21),_=n(1003),L=n(1004),M=n(1005),k=n(518),O=n(1006),N=n(1007),T=n(1008),D=n(1009),j=n(1010),F=n(1011),U=n(1012),V=n(1013),G=n(232),B=n(1014),z=n(1015),H=n(519),W=n(48),q=n(1016),$=n(1017),Y=n(1018),X=n(184),K=n(301),Q=n(1019),J=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Z=function(){function AppModule(){}return AppModule=J([n.i(r.b)({imports:[a.a,i.a,o.a,_.a,L.a,M.a,k.a,O.a,N.a,T.a,D.a,j.a,F.a,U.a,V.a,G.a,B.a,z.a,H.a,W.a,q.a,y.a,$.a,Y.a,X.a,K.a,Q.a,d.a,s.a.forRoot(),l.a],providers:[C.a,R.a,S.a,P.a,E.a,w.a,I.a,A.a,x.a,{provide:a.b,useClass:c.a}],declarations:[p.a,u.a,b.a,v.a,h.a,f.a,g.a,m.a],bootstrap:[p.a]})],AppModule)}()},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(6),o=function(){function CustomReuseStrategy(){this.pathWithState=["Data","Edoal","Sparql","AlignmentValidation","Sheet2RDF"],this.handlers={}}return CustomReuseStrategy.prototype.shouldDetach=function(e){return-1!=this.pathWithState.indexOf(e.routeConfig.path)},CustomReuseStrategy.prototype.store=function(e,t){this.handlers[e.routeConfig.path]=t},CustomReuseStrategy.prototype.shouldAttach=function(e){var t=this;return-1!=this.pathWithState.indexOf(e.routeConfig.path)&&r.a.isProjectChanged()?(r.a.setProjectChanged(!1),this.pathWithState.forEach(function(e){t.destroyRouteHandle(e)}),!1):!!e.routeConfig&&!!this.handlers[e.routeConfig.path]},CustomReuseStrategy.prototype.retrieve=function(e){return e.routeConfig?this.handlers[e.routeConfig.path]:null},CustomReuseStrategy.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},CustomReuseStrategy.prototype.destroyRouteHandle=function(e){var t=this.handlers[e];if(t){t.contexts.forEach(function(e,t){e.outlet&&(e.outlet.deactivate(),e.children.onOutletDeactivated())});var n=t.componentRef;n&&n.destroy(),delete this.handlers[e]}},CustomReuseStrategy}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(46),o=n(244),i=n(409),a=n(411),s=n(412),l=n(416),c=n(291),p=n(419),d=[{path:"Administration",component:i.a,canActivate:[o.c],children:[{path:"",redirectTo:"Projects",pathMatch:"full"},{path:"Users",component:p.a,canActivate:[o.b]},{path:"Roles",component:l.a,canActivate:[o.c]},{path:"Groups",component:a.a,canActivate:[o.c]},{path:"Projects",component:s.a,canActivate:[o.c]},{path:"Configuration",component:c.a,canActivate:[o.b]}]}],u=r.a.forChild(d)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(60),s=n(32),l=n(11),c=n(71),p=n(23),d=n(12),u=n(192),f=n(8),h=n(10),g=n(6),m=n(21),v=n(14),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(){function ProjectGroupsManagerComponent(e,t,n,r,o,i){this.groupsService=e,this.prefService=t,this.resourceService=n,this.propService=r,this.browsingModals=o,this.vbProp=i,this.baseBroaderProp=l.d.broader.getURI(),this.broaderProps=[],this.narrowerProps=[],this.ownedSchemes=[]}return ProjectGroupsManagerComponent.prototype.ngOnInit=function(){var e=this;this.groupsService.listGroups().subscribe(function(t){e.groups=t})},ProjectGroupsManagerComponent.prototype.ngOnChanges=function(e){e.project&&e.project.currentValue&&this.selectedGroup&&this.initSettings()},ProjectGroupsManagerComponent.prototype.isProjectSkosCompliant=function(){if(null!=this.project){var e=this.project.getModelType();return e==l.d.uri||e==l.f.uri}},ProjectGroupsManagerComponent.prototype.initSettings=function(){var e=this;if(this.projectClosed=!this.project.isOpen(),!this.projectClosed){this.prepareProjectAccess();var t=[],n=[s.a.pref_concept_tree_base_broader_prop,s.a.pref_concept_tree_broader_props,s.a.pref_concept_tree_narrower_props,s.a.pref_concept_tree_include_subprops,s.a.pref_concept_tree_sync_inverse,s.a.pref_concept_tree_visualization],r=this.prefService.getPGSettings(n,this.selectedGroup.iri,this.project).map(function(n){var r=n[s.a.pref_concept_tree_base_broader_prop];null!=r&&(e.baseBroaderProp=r);var o=[],a=n[s.a.pref_concept_tree_broader_props];if(null!=a){a.split(",").forEach(function(e){o.push(new i.b(e))})}if(e.broaderProps=[],o.length>0){var l=e.resourceService.getResourcesInfo(o).map(function(t){e.broaderProps=t});t.push(l)}var c=[],p=n[s.a.pref_concept_tree_narrower_props];if(null!=p){p.split(",").forEach(function(e){c.push(new i.b(e))})}if(e.narrowerProps=[],c.length>0){var d=e.resourceService.getResourcesInfo(c).map(function(t){e.narrowerProps=t});t.push(d)}e.includeSubProps="false"!=n[s.a.pref_concept_tree_include_subprops],e.syncInverse="false"!=n[s.a.pref_concept_tree_sync_inverse]}),a=this.groupsService.getProjectGroupBinding(this.project.getName(),this.selectedGroup.iri).map(function(n){var r=[];if(null!=n.ownedSchemes&&n.ownedSchemes.forEach(function(e){r.push(new i.b(e))}),e.ownedSchemes=[],r.length>0){var o=e.resourceService.getResourcesInfo(r).map(function(t){e.ownedSchemes=t});t.push(o)}});o.Observable.forkJoin([r,a]).subscribe(function(n){t.length>0?o.Observable.forkJoin(t).finally(function(){return e.revokeProjectAccess()}).subscribe():e.revokeProjectAccess()})}},ProjectGroupsManagerComponent.prototype.selectGroup=function(e){this.selectedGroup=e,null!=this.project&&this.initSettings()},ProjectGroupsManagerComponent.prototype.changeBaseBroaderProperty=function(){var e=this;this.prepareProjectAccess(),this.prepareProjectBrowse().subscribe(function(){e.browsingModals.browsePropertyTree("Select root class",[l.d.broader],null,null,e.lastBrowsedProjectCtx).then(function(t){e.revokeProjectAccess(),e.baseBroaderProp=t.getURI(),e.updateGroupSetting(s.a.pref_concept_tree_base_broader_prop,e.baseBroaderProp)},function(){})})},ProjectGroupsManagerComponent.prototype.addBroader=function(){var e=this;this.prepareProjectAccess(),this.prepareProjectBrowse().subscribe(function(){e.browsingModals.browsePropertyTree("Select a broader property",[l.d.broader],null,null,e.lastBrowsedProjectCtx).then(function(t){e.revokeProjectAccess(),h.a.containsNode(e.broaderProps,t)||(e.broaderProps.push(t),e.updateBroadersSetting(),e.syncInverse?e.syncInverseOfBroader().subscribe(function(){e.updateBroadersSetting(),e.updateNarrowersSetting()}):e.updateBroadersSetting())},function(){})})},ProjectGroupsManagerComponent.prototype.addNarrower=function(){var e=this;this.prepareProjectAccess(),this.prepareProjectBrowse().subscribe(function(){e.browsingModals.browsePropertyTree("Select a narrower property",[l.d.narrower],null,null,e.lastBrowsedProjectCtx).then(function(t){e.revokeProjectAccess(),h.a.containsNode(e.narrowerProps,t)||(e.narrowerProps.push(t),e.syncInverse?e.syncInverseOfNarrower().subscribe(function(){e.updateNarrowersSetting(),e.updateBroadersSetting()}):e.updateNarrowersSetting())},function(){})})},ProjectGroupsManagerComponent.prototype.removeBroader=function(){var e=this;this.broaderProps.splice(this.broaderProps.indexOf(this.selectedBroader),1),this.updateBroadersSetting(),this.syncInverse&&(this.prepareProjectAccess(),this.propService.getInverseProperties([this.selectedBroader]).subscribe(function(t){e.revokeProjectAccess();var n=!1;t.forEach(function(t){var r=h.a.indexOfNode(e.narrowerProps,t);-1!=r&&(e.narrowerProps.splice(r,1),n=!0)}),n&&e.updateNarrowersSetting()})),this.selectedBroader=null},ProjectGroupsManagerComponent.prototype.removeNarrower=function(){var e=this;this.narrowerProps.splice(this.narrowerProps.indexOf(this.selectedNarrower),1),this.updateNarrowersSetting(),this.syncInverse&&(this.prepareProjectAccess(),this.propService.getInverseProperties([this.selectedNarrower]).subscribe(function(t){e.revokeProjectAccess();var n=!1;t.forEach(function(t){var r=h.a.indexOfNode(e.broaderProps,t);-1!=r&&(e.broaderProps.splice(r,1),n=!0)}),n&&e.updateBroadersSetting()})),this.selectedNarrower=null},ProjectGroupsManagerComponent.prototype.onSyncChange=function(){var e=this;this.syncInverse&&this.syncInverseOfBroader().subscribe(function(){e.updateNarrowersSetting(),e.syncInverseOfNarrower().subscribe(function(){e.updateBroadersSetting()})})},ProjectGroupsManagerComponent.prototype.syncInverseOfBroader=function(){var e=this;return this.broaderProps.length>0?(this.prepareProjectAccess(),this.propService.getInverseProperties(this.broaderProps).map(function(t){e.revokeProjectAccess(),t.forEach(function(t){if(!h.a.containsNode(e.narrowerProps,t)){var n=t.getAdditionalProperty("inverseOf"),r=h.a.indexOfNode(e.broaderProps,new i.b(n));e.narrowerProps.splice(r,0,t)}})})):o.Observable.of()},ProjectGroupsManagerComponent.prototype.syncInverseOfNarrower=function(){var e=this;return this.narrowerProps.length>0?(this.prepareProjectAccess(),this.propService.getInverseProperties(this.narrowerProps).map(function(t){e.revokeProjectAccess(),t.forEach(function(t){if(!h.a.containsNode(e.broaderProps,t)){var n=t.getAdditionalProperty("inverseOf"),r=h.a.indexOfNode(e.narrowerProps,new i.b(n));e.broaderProps.splice(r,0,t)}})})):o.Observable.of()},ProjectGroupsManagerComponent.prototype.onIncludeSubPropsChange=function(){this.updateGroupSetting(s.a.pref_concept_tree_include_subprops,this.includeSubProps+"")},ProjectGroupsManagerComponent.prototype.updateBroadersSetting=function(){var e=[];this.broaderProps.forEach(function(t){return e.push(t.getURI())});var t;e.length>0&&(t=e.join(",")),this.updateGroupSetting(s.a.pref_concept_tree_broader_props,t)},ProjectGroupsManagerComponent.prototype.updateNarrowersSetting=function(){var e=[];this.narrowerProps.forEach(function(t){return e.push(t.getURI())});var t;e.length>0&&(t=e.join(",")),this.updateGroupSetting(s.a.pref_concept_tree_narrower_props,t)},ProjectGroupsManagerComponent.prototype.addScheme=function(){var e=this;this.prepareProjectAccess(),this.prepareProjectBrowse().subscribe(function(){e.browsingModals.browseSchemeList("Select a scheme",e.lastBrowsedProjectCtx).then(function(t){e.revokeProjectAccess(),h.a.containsNode(e.ownedSchemes,t)||(e.ownedSchemes.push(t),e.groupsService.addOwnedSchemeToGroup(e.project.getName(),e.selectedGroup.iri,t).subscribe())},function(){})})},ProjectGroupsManagerComponent.prototype.removeScheme=function(){this.ownedSchemes.splice(this.ownedSchemes.indexOf(this.selectedScheme),1),this.groupsService.removeOwnedSchemeFromGroup(this.project.getName(),this.selectedGroup.iri,this.selectedScheme).subscribe(),this.selectedScheme=null},ProjectGroupsManagerComponent.prototype.updateGroupSetting=function(e,t,n){this.prefService.setPGSetting(e,this.selectedGroup.iri,t,this.project,n).subscribe()},ProjectGroupsManagerComponent.prototype.prepareProjectAccess=function(){f.c.setContextProject(this.project),f.c.setConsumerProject(new a.f("SYSTEM"))},ProjectGroupsManagerComponent.prototype.prepareProjectBrowse=function(){if(null!=this.lastBrowsedProjectCtx&&this.lastBrowsedProjectCtx.getProject().getName()==this.project.getName())return o.Observable.of(null);this.lastBrowsedProjectCtx=new g.b(this.project);var e=[this.vbProp.initProjectUserBindings(this.lastBrowsedProjectCtx),this.vbProp.initUserProjectPreferences(this.lastBrowsedProjectCtx),this.vbProp.initProjectSettings(this.lastBrowsedProjectCtx)];return o.Observable.forkJoin(e)},ProjectGroupsManagerComponent.prototype.revokeProjectAccess=function(){f.c.removeContextProject(),f.c.removeConsumerProject()},b([n.i(r.r)(),y("design:type",a.f)],ProjectGroupsManagerComponent.prototype,"project",void 0),ProjectGroupsManagerComponent=b([n.i(r.c)({selector:"project-groups-manager",template:n(1754)}),y("design:paramtypes",[u.a,c.a,d.a,p.a,v.a,m.a])],ProjectGroupsManagerComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(2),i=n(60),a=n(32),s=n(66),l=n(21),c=n(6),p=n(71),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function ProjectSettingsComponent(e,t,n){this.prefSetService=e,this.vbProperties=t,this.basicModals=n,this.noLangActive=!0}return ProjectSettingsComponent.prototype.ngOnChanges=function(e){var t=this;null==this.languageItems?this.prefSetService.getDefaultProjectSettings([a.a.setting_languages]).subscribe(function(n){var r=n[a.a.setting_languages];try{var o=JSON.parse(r);s.a.sortLanguages(o),t.languageItems=[];for(var i=0;i<o.length;i++)t.languageItems.push({lang:o[i],active:!1});e.project&&e.project.currentValue&&t.updateActiveLanguages()}catch(e){t.basicModals.alert("Error","Initialization of system languages has encountered a problem during parsing the '"+a.a.setting_languages+"' property. Please, report this to the system administrator.","error")}}):e.project&&e.project.currentValue&&this.updateActiveLanguages()},ProjectSettingsComponent.prototype.updateActiveLanguages=function(){var e=this;this.prefSetService.getProjectSettings([a.a.setting_languages],this.project).subscribe(function(t){var n=t[a.a.setting_languages];try{var r=JSON.parse(n);s.a.sortLanguages(r);for(var o=0;o<e.languageItems.length;o++){var i=s.a.indexOf(r,e.languageItems[o].lang);-1!=i?(e.languageItems[o].active=!0,e.languageItems[o].lang.mandatory=r[i].mandatory,e.noLangActive=!1):e.languageItems[o].active=!1}}catch(t){e.basicModals.alert("Error","Initialization of languages for project '"+e.project.getName()+"' has encountered a problem during parsing the '"+a.a.setting_languages+"' settings. Please, report this to the system administrator.","error")}})},ProjectSettingsComponent.prototype.changeAllLangStatus=function(e){this.languageItems.forEach(function(t){t.active=e,e||(t.lang.mandatory=!1)}),this.updateSettings()},ProjectSettingsComponent.prototype.updateSettings=function(){for(var e=this,t=[],n=0;n<this.languageItems.length;n++)this.languageItems[n].active&&(t.push(this.languageItems[n].lang),this.languageItems[n].lang.mandatory||delete this.languageItems[n].lang.mandatory);0==t.length?(this.noLangActive=!0,this.prefSetService.setProjectSetting(a.a.setting_languages,null,this.project).subscribe(function(t){null!=c.a.getWorkingProject()&&c.a.getWorkingProject().getName()==e.project.getName()&&e.vbProperties.initProjectSettings(c.a.getWorkingProjectCtx()).subscribe()})):(this.noLangActive=!1,this.prefSetService.setProjectSetting(a.a.setting_languages,JSON.stringify(t),this.project).subscribe(function(e){c.a.getWorkingProjectCtx().getProjectSettings().projectLanguagesSetting=t}))},d([n.i(r.r)(),u("design:type",i.f)],ProjectSettingsComponent.prototype,"project",void 0),ProjectSettingsComponent=d([n.i(r.c)({selector:"project-settings",template:n(1755)}),u("design:paramtypes",[p.a,l.a,o.a])],ProjectSettingsComponent)}();!function(){function LanguageItem(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n(0),o=n(4),i=n(3),a=n(45),s=n(66),l=n(60),c=n(32),p=n(83),d=n(71),u=n(54),f=n(55),h=n(192),g=n(17),m=n(20),v=n(6),b=n(21),y=n(2),x=n(13),C=n(413),R=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},S=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(){function ProjectUsersManagerComponent(e,t,n,r,o,i,a,s,l){this.userService=e,this.projectService=t,this.adminService=n,this.groupsService=r,this.prefSettingsServices=o,this.vbProp=i,this.basicModals=a,this.sharedModals=s,this.modal=l,this.filterProficiencies=!1}return ProjectUsersManagerComponent.prototype.ngOnChanges=function(e){var t=this;e.project&&e.project.currentValue&&(this.userService.listUsersBoundToProject(this.project.getName()).subscribe(function(e){if(t.usersBound=e,t.puBinding=null,t.selectedUserRole=null,t.selectedUserGroup=null,null!=t.selectedUser){for(var n=null,r=0;r<t.usersBound.length;r++)if(t.selectedUser.getEmail()==t.usersBound[r].getEmail()){n=t.usersBound[r];break}null!=n?t.selectUser(n):t.selectedUser=null}}),this.adminService.listRoles(this.project).subscribe(function(e){t.roleList=e}),this.groupsService.listGroups().subscribe(function(e){t.groupList=e}),this.prefSettingsServices.getProjectSettings(["languages"],this.project).subscribe(function(e){var n=e.languages;try{t.projectLanguages=JSON.parse(n),s.a.sortLanguages(t.projectLanguages),t.initAvailableLanguages()}catch(e){t.basicModals.alert("Error","Initialization of languages for project '"+t.project.getName()+"' has encountered a problem during parsing the 'languages' settings. Please, report this to the system administrator.","error")}}))},ProjectUsersManagerComponent.prototype.selectUser=function(e){var t=this;this.selectedUser=e,this.adminService.getProjectUserBinding(this.project.getName(),this.selectedUser.getEmail()).subscribe(function(e){t.puBinding=e,t.selectedUserRole=null,t.selectedUserLang=null,t.initAvailableLanguages(),t.initPULanguages()}),this.isLoggedUserAdmin()&&this.prefSettingsServices.getPUSettingsOfUser([c.a.pref_res_view_partition_filter],this.selectedUser,this.project).subscribe(function(e){var n,r=e[c.a.pref_res_view_partition_filter];null!=r&&(n=JSON.parse(r)),t.puTemplate=n})},ProjectUsersManagerComponent.prototype.addUserToProject=function(){var e=this,t=new C.b("Add user to "+this.project.getName(),this.project,this.usersBound),n=new o.b(t,void 0,C.b),r={context:n.keyboard(27).toJSON()};return this.modal.open(C.a,r).result.then(function(t){var n=t.user,r=t.roles;e.adminService.addRolesToUser(e.project.getName(),n.getEmail(),r).subscribe(function(t){e.usersBound.push(n)})},function(){})},ProjectUsersManagerComponent.prototype.removeUserFromProject=function(){var e=this;this.basicModals.confirm("Remove user","You are removing the user "+this.selectedUser.getShow()+" form the project "+this.project.getName()+". Are you sure?","warning").then(function(){e.adminService.removeUserFromProject(e.project.getName(),e.selectedUser.getEmail()).subscribe(function(t){for(var n=0;n<e.usersBound.length;n++)e.usersBound[n].getEmail()==e.selectedUser.getEmail()&&e.usersBound.splice(n,1);e.puBinding.setRoles([]),e.selectedUser=null,e.selectedRole=null})},function(){})},ProjectUsersManagerComponent.prototype.cloneSettings=function(){var e=this;this.projectService.listProjects().subscribe(function(t){e.basicModals.select("Duplicate settings","Select the target project",t.map(function(e){return e.getName()})).then(function(t){e.basicModals.confirm("Duplicate settings","With this operation you will overwrite any roles, group, languages and ResourceView template assigned to "+e.selectedUser.getShow()+" in the target project '"+t+"'. Are you sure?\n\nNote: the project-level roles will not be cloned","warning").then(function(){var n=new i.b(e.selectedUser.getIri());e.adminService.clonePUBinding(n,e.project.getName(),n,t).subscribe(function(){e.basicModals.alert("Duplicate settings","Settings duplicated successfully")}),e.updateTemplate(new l.f(t))})},function(){})})},ProjectUsersManagerComponent.prototype.selectUserRole=function(e){this.selectedUserRole==e?this.selectedUserRole=null:this.selectedUserRole=e},ProjectUsersManagerComponent.prototype.selectRole=function(e){this.isRoleAlreadyAssigned(e)||(this.selectedRole==e?this.selectedRole=null:this.selectedRole=e)},ProjectUsersManagerComponent.prototype.addRole=function(){var e=this;this.adminService.addRolesToUser(this.project.getName(),this.selectedUser.getEmail(),[this.selectedRole.getName()]).subscribe(function(t){e.puBinding.addRole(e.selectedRole.getName()),e.selectedRole=null})},ProjectUsersManagerComponent.prototype.removeRole=function(){var e=this;this.adminService.removeRoleFromUser(this.project.getName(),this.selectedUser.getEmail(),this.selectedUserRole).subscribe(function(t){e.puBinding.removeRole(e.selectedUserRole),e.selectedUserRole=null})},ProjectUsersManagerComponent.prototype.isRoleAlreadyAssigned=function(e){if(void 0==this.puBinding)return!0;for(var t=this.puBinding.getRoles(),n=0;n<t.length;n++)if(t[n]==e.getName())return!0;return!1},ProjectUsersManagerComponent.prototype.selectUserGroup=function(e){this.selectedUserGroup==e?this.selectedUserGroup=null:this.selectedUserGroup=e},ProjectUsersManagerComponent.prototype.selectGroup=function(e){this.isGroupAlreadyAssigned(e)||(this.selectedGroup==e?this.selectedGroup=null:this.selectedGroup=e)},ProjectUsersManagerComponent.prototype.assignGroup=function(){var e=this;this.groupsService.assignGroupToUser(this.project.getName(),this.selectedUser.getEmail(),this.selectedGroup.iri).subscribe(function(t){e.puBinding.setGroup(e.selectedGroup),e.selectedGroup=null})},ProjectUsersManagerComponent.prototype.removeGroup=function(){var e=this;this.groupsService.removeGroupFromUser(this.project.getName(),this.selectedUser.getEmail()).subscribe(function(t){e.puBinding.removeGroup(),e.selectedUserGroup=null})},ProjectUsersManagerComponent.prototype.changeGroupLimitations=function(){var e=this,t=!this.puBinding.isSubjectToGroupLimitations();this.groupsService.setGroupLimitationsToUser(this.project.getName(),this.selectedUser.getEmail(),this.puBinding.getGroup().iri,t).subscribe(function(n){e.puBinding.setGroupLimitations(t)})},ProjectUsersManagerComponent.prototype.isGroupAlreadyAssigned=function(e){if(void 0!=this.puBinding){var t=this.puBinding.getGroup();if(null!=t)return t.iri.getURI()==e.iri.getURI()}return!1},ProjectUsersManagerComponent.prototype.toggleFilterProficencies=function(){this.filterProficiencies=!this.filterProficiencies,this.initAvailableLanguages()},ProjectUsersManagerComponent.prototype.initAvailableLanguages=function(){var e=this;this.availableLanguages=[],this.projectLanguages.forEach(function(t){var n={name:t.name,tag:t.tag,mandatory:t.mandatory};n.proficiency=e.isProficiencyLang(t.tag),e.filterProficiencies&&!n.proficiency||e.availableLanguages.push(n)})},ProjectUsersManagerComponent.prototype.initPULanguages=function(){var e=this;this.puLanguages=[],this.puBinding.getLanguages().forEach(function(t){var n=e.projectLanguages.find(function(e){return e.tag==t});if(null!=n){var r={name:n.name,tag:n.tag,mandatory:n.mandatory};r.proficiency=e.isProficiencyLang(n.tag),e.puLanguages.push(r)}}),s.a.sortLanguages(this.puLanguages)},ProjectUsersManagerComponent.prototype.selectUserLang=function(e){this.selectedUserLang==e?this.selectedUserLang=null:this.selectedUserLang=e},ProjectUsersManagerComponent.prototype.selectLang=function(e){this.isLangAlreadyAssigned(e)||(this.selectedLang==e?this.selectedLang=null:this.selectedLang=e)},ProjectUsersManagerComponent.prototype.addLanguage=function(){this.puBinding.addLanguage(this.selectedLang.tag),this.updateLanguagesOfUserInProject()},ProjectUsersManagerComponent.prototype.addAllLanguages=function(){var e=[];this.projectLanguages.forEach(function(t){e.push(t.tag)}),this.puBinding.setLanguages(e),this.updateLanguagesOfUserInProject()},ProjectUsersManagerComponent.prototype.addProficienciesLangs=function(){var e=this;this.projectLanguages.forEach(function(t){!e.isLangAlreadyAssigned(t)&&e.isProficiencyLang(t.tag)&&e.puBinding.addLanguage(t.tag)}),this.updateLanguagesOfUserInProject()},ProjectUsersManagerComponent.prototype.removeLanguage=function(){this.puBinding.removeLanguage(this.selectedUserLang.tag),this.updateLanguagesOfUserInProject()},ProjectUsersManagerComponent.prototype.removeAllLanguages=function(){this.puBinding.setLanguages([]),this.updateLanguagesOfUserInProject()},ProjectUsersManagerComponent.prototype.leaveProficienciesLangs=function(){var e=this,t=[];this.puBinding.getLanguages().forEach(function(n){e.isProficiencyLang(n)&&t.push(n)}),this.puBinding.setLanguages(t),this.updateLanguagesOfUserInProject()},ProjectUsersManagerComponent.prototype.isProficiencyLang=function(e){return null!=this.selectedUser&&-1!=this.selectedUser.getLanguageProficiencies().indexOf(e)},ProjectUsersManagerComponent.prototype.isLangAlreadyAssigned=function(e){if(void 0==this.puBinding)return!0;for(var t=this.puBinding.getLanguages(),n=0;n<t.length;n++)if(t[n]==e.tag)return!0;return!1},ProjectUsersManagerComponent.prototype.updateLanguagesOfUserInProject=function(){var e=this;this.adminService.updateLanguagesOfUserInProject(this.project.getName(),this.selectedUser.getEmail(),this.puBinding.getLanguages()).subscribe(function(t){e.selectedUserLang=null,e.initPULanguages(),v.a.getLoggedUser().getEmail()==e.selectedUser.getEmail()&&null!=v.a.getWorkingProject()&&v.a.getWorkingProject().getName()==e.project.getName()&&v.a.setProjectUserBinding(e.puBinding)})},ProjectUsersManagerComponent.prototype.loadTemplate=function(){var e=this;this.sharedModals.loadConfiguration("Load template",a.c.TEMPLATE_STORE).then(function(t){var n=t.configuration.properties.find(function(e){return"template"==e.name});null!=n&&(e.puTemplate=n.value,e.updateTemplate())})},ProjectUsersManagerComponent.prototype.storeTemplate=function(){var e={template:this.puTemplate};this.sharedModals.storeConfiguration("Store template",a.c.TEMPLATE_STORE,e)},ProjectUsersManagerComponent.prototype.updateTemplate=function(e){var t=this;null==e&&(e=this.project),this.prefSettingsServices.setPUSettingOfUser(c.a.pref_res_view_partition_filter,this.selectedUser,JSON.stringify(this.puTemplate),e).subscribe(function(){null!=v.a.getWorkingProject()&&v.a.getWorkingProject().getName()==e.getName()&&v.a.getLoggedUser().getEmail()==t.selectedUser.getEmail()&&t.vbProp.refreshResourceViewPartitionFilter().subscribe()})},ProjectUsersManagerComponent.prototype.isLoggedUserAdmin=function(){var e=v.a.getLoggedUser();return null!=e&&e.isAdmin()},ProjectUsersManagerComponent.prototype.isSelectedUserAdmin=function(){return null!=this.selectedUser&&this.selectedUser.isAdmin()},ProjectUsersManagerComponent.prototype.isRoleManagementAuthorized=function(){return g.a.isAuthorized(m.a.administrationUserRoleManagement)},ProjectUsersManagerComponent.prototype.isGroupManagementAuthorized=function(){return g.a.isAuthorized(m.a.administrationUserGroupManagement)},R([n.i(r.r)(),S("design:type",l.f)],ProjectUsersManagerComponent.prototype,"project",void 0),ProjectUsersManagerComponent=R([n.i(r.c)({selector:"project-users-manager",template:n(1756)}),S("design:paramtypes",[f.a,u.a,p.a,h.a,d.a,b.a,y.a,x.a,o.c])],ProjectUsersManagerComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(4),i=n(80),a=n(83),s=n(55),l=n(6),c=n(2),p=n(417),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function UserDetailsPanelComponent(e,t,n,o){this.userService=e,this.administrationServices=t,this.basicModals=n,this.modal=o,this.deleted=new r.i}return UserDetailsPanelComponent.prototype.isUserActive=function(){return this.user.getStatus()==i.g.ACTIVE},UserDetailsPanelComponent.prototype.isChangeStatusButtonDisabled=function(){return l.a.getLoggedUser().getEmail()==this.user.getEmail()||this.user.isAdmin()},UserDetailsPanelComponent.prototype.changeUserStatus=function(){var e=this;if(this.user.isAdmin())return void this.basicModals.alert("Change user status","Cannot change the status of an administrator. Please revoke the administrator authority first and retry","warning");this.user.getStatus()==i.g.ACTIVE?this.userService.enableUser(this.user.getEmail(),!1).subscribe(function(t){e.user.setStatus(i.g.INACTIVE)}):this.userService.enableUser(this.user.getEmail(),!0).subscribe(function(t){e.user.setStatus(i.g.ACTIVE)})},UserDetailsPanelComponent.prototype.isChangeAdminButtonDisabled=function(){return l.a.getLoggedUser().getEmail()==this.user.getEmail()||this.user.getStatus()!=i.g.ACTIVE},UserDetailsPanelComponent.prototype.changeAdministratorStatus=function(){var e=this;if(this.user.isAdmin()){this.userService.listUsers().subscribe(function(t){if(t.map(function(e){return e.isAdmin}).length<2)return void e.basicModals.alert("Revoke administrator","Cannot revoke the administrator authority to the selected user. There is only one administrator","warning");e.basicModals.confirm("Revoke administrator","You are revoking the administrator authority to "+e.user.getShow()+". Are you sure?","warning").then(function(t){e.administrationServices.removeAdministrator(e.user.getEmail()).subscribe(function(t){e.user.setAdmin(!1)})},function(e){})})}else{if(this.user.getStatus()!=i.g.ACTIVE)return void this.basicModals.alert("Add administrator","Cannot grant the administrator authority to a non-active user. Please, activate the user and retry","warning");this.basicModals.confirm("Revoke administrator","You are granting the administrator authority to "+this.user.getShow()+". Are you sure?","warning").then(function(t){e.administrationServices.setAdministrator(e.user.getEmail()).subscribe(function(t){e.user.setAdmin(!0)})})}},UserDetailsPanelComponent.prototype.isDeleteButtonDisabled=function(){return l.a.getLoggedUser().getEmail()==this.user.getEmail()},UserDetailsPanelComponent.prototype.deleteUser=function(){var e=this;this.basicModals.confirm("Delete user","You are deleting user "+this.user.getShow()+". Are you sure?","warning").then(function(){e.userService.deleteUser(e.user.getEmail()).subscribe(function(){e.deleted.emit()})},function(){})},UserDetailsPanelComponent.prototype.isChangePwdButtonDisabled=function(){return l.a.getLoggedUser().getEmail()==this.user.getEmail()},UserDetailsPanelComponent.prototype.changePassword=function(){var e=new p.b(this.user),t=new o.b(e,void 0,p.b),n={context:t.keyboard(27).toJSON()};return this.modal.open(p.a,n).result.then()},d([n.i(r.r)(),u("design:type",i.a)],UserDetailsPanelComponent.prototype,"user",void 0),d([n.i(r._7)(),u("design:type",r.i)],UserDetailsPanelComponent.prototype,"deleted",void 0),UserDetailsPanelComponent=d([n.i(r.c)({selector:"user-details-panel",template:n(1765),host:{class:"vbox"}}),u("design:paramtypes",[s.a,a.a,c.a,o.c])],UserDetailsPanelComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(120),i=n(235),a=n(54),s=n(7),l=n(420),c=n(60),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function AlignFromFileComponent(t,n,r){var o=e.call(this,t,n)||this;return o.alignmentService=r,o}return p(AlignFromFileComponent,e),AlignFromFileComponent.prototype.init=function(){},AlignFromFileComponent.prototype.fileChangeEvent=function(e){this.alignmentFile=e,this.loadAlignment()},AlignFromFileComponent.prototype.loadAlignment=function(){var e=this;this.sourceBaseURI=null,this.targetBaseURI=null;var t,n;this.isEdoalProject()?this.edoalService.getAlignedProjects().subscribe(function(r){t=new c.f(r[0]),n=new c.f(r[1]),e.loadAlignmentImpl(t,n)}):this.loadAlignmentImpl()},AlignFromFileComponent.prototype.loadAlignmentImpl=function(e,t){var n=this;s.a.startLoadingDiv(s.a.blockDivFullScreen),this.alignmentService.loadAlignment(this.alignmentFile,e,t).subscribe(function(e){s.a.stopLoadingDiv(s.a.blockDivFullScreen),n.sourceBaseURI=e.onto1,n.targetBaseURI=e.onto2,n.alignmentOverview=e})},AlignFromFileComponent=d([n.i(r.c)({selector:"alignment-file",template:n(1767),host:{class:"vbox"}}),u("design:paramtypes",[i.a,a.a,o.a])],AlignFromFileComponent)}(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(5),i=n(4),a=n(41),s=(n.n(a),n(60)),l=n(235),c=n(187),p=n(54),d=n(189),u=n(17),f=n(8),h=n(7),g=n(20),m=n(2),v=n(420),b=n(422),y=n(425),x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(e){function AlignFromRemoteSystemComponent(t,n,r,o,i,a){var s=e.call(this,t,n)||this;return s.remoteAlignmentService=r,s.mapleService=o,s.basicModals=i,s.modal=a,s.serverDown=!1,s}return x(AlignFromRemoteSystemComponent,e),AlignFromRemoteSystemComponent.prototype.init=function(){var e=this;this.isSettingsAuthorized=u.a.isAuthorized(g.a.remoteAlignmentServiceRead),this.ensureDatasetProfiled(this.leftProject,"left").subscribe(function(t){t&&e.ensureDatasetProfiled(e.rightProject,"right").subscribe(function(t){t&&e.listTask()})})},AlignFromRemoteSystemComponent.prototype.ensureDatasetProfiled=function(e,t){var n=this;return null!=e?this.checkDatasetProfiled(e).flatMap(function(r){return r?a.Observable.of(!0):n.profileProject(e,t)}):a.Observable.of(!0)},AlignFromRemoteSystemComponent.prototype.checkDatasetProfiled=function(e){return f.c.setContextProject(e),this.mapleService.checkProjectMetadataAvailability().map(function(e){return e}).finally(function(){return f.c.removeContextProject()})},AlignFromRemoteSystemComponent.prototype.profileProject=function(e,t){var n=this;return a.Observable.fromPromise(this.basicModals.confirm("Unavailable metadata","Unable to find metadata about the "+t+" project '"+e.getName()+"', do you want to generate them? (Required for the alignment)").then(function(t){return f.c.setContextProject(e),h.a.startLoadingDiv(n.blockingDivElement.nativeElement),n.mapleService.profileProject().map(function(){return h.a.stopLoadingDiv(n.blockingDivElement.nativeElement),!0}).finally(function(){return f.c.removeContextProject()})},function(e){return a.Observable.of(!1)})).flatMap(function(e){return e})},AlignFromRemoteSystemComponent.prototype.listTask=function(){var e=this;this.tasks=null,this.selectedTask=null;var t=!this.isEdoalProject();this.remoteAlignmentService.listTasks(this.leftProject,t,this.rightProject).subscribe(function(t){e.serverDown=!1,e.tasks=t},function(t){"it.uniroma2.art.semanticturkey.services.core.alignmentservices.AlignmentServiceException"==t.name&&(t.message.includes("HttpHostConnectException")?(e.serverDown=!0,e.basicModals.alert("Alignment Service server error","The Alignment Service server didn't respond, make sure it is up and running or the configuration is correct","warning")):e.basicModals.alert("Alignment Service server error",t.message,"warning",t.stack))})},AlignFromRemoteSystemComponent.prototype.selectTask=function(e){this.selectedTask==e?this.selectedTask=null:this.selectedTask=e},AlignFromRemoteSystemComponent.prototype.createTask=function(){var e=this,t=this.isEdoalProject()?this.rightProject:null,n=new b.b(this.leftProject,t),r=new i.b(n,void 0,b.b),o={context:r.keyboard(27).size("lg").toJSON()};this.modal.open(b.a,o).result.then(function(t){e.listTask()},function(){})},AlignFromRemoteSystemComponent.prototype.deleteTask=function(){var e=this;this.remoteAlignmentService.deleteTask(this.selectedTask.id).subscribe(function(){e.listTask(),e.alignmentOverview=null})},AlignFromRemoteSystemComponent.prototype.fetchAlignment=function(e){var t=this;this.rightProject=new s.f(e.rightDataset.projectName),this.remoteAlignmentService.fetchAlignment(e.id).subscribe(function(e){t.alignmentOverview=e})},AlignFromRemoteSystemComponent.prototype.settings=function(){var e=new i.b,t={context:e.keyboard(27).toJSON()};this.modal.open(y.a,t)},C([n.i(r.F)("blockingDiv"),R("design:type",r.e)],AlignFromRemoteSystemComponent.prototype,"blockingDivElement",void 0),AlignFromRemoteSystemComponent=C([n.i(r.c)({selector:"alignment-remote",template:n(1768),host:{class:"vbox"}}),R("design:paramtypes",[l.a,p.a,d.a,c.a,m.a,o.l])],AlignFromRemoteSystemComponent)}(v.a);!function(){function AlignedProjectStruct(){this.profileAvailable=!1}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(4),i=n(41),a=(n.n(i),n(181)),s=n(60),l=n(120),c=n(12),p=n(96),d=n(8),u=n(7),f=n(2),h=n(13),g=n(423),m=n(427),v=n(428),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(){function AlignmentManagementComponent(e,t,n,r,o){this.alignmentService=e,this.resourceService=t,this.basicModals=n,this.sharedModals=r,this.modal=o,this.alignmentCellList=[],this.page=0,this.qaNull="---",this.qaAcceptAll="Accept all",this.qaAcceptAllAbove="Accept all above threshold",this.qaRejectAll="Reject all",this.qaRejectAllUnder="Reject all under threshold",this.quickActionList=[this.qaNull,this.qaAcceptAll,this.qaAcceptAllAbove,this.qaRejectAll,this.qaRejectAllUnder],this.chosenQuickAction=this.quickActionList[0],this.threshold=0,this.rendering=!0,this.unknownRelation=!1,this.knownRelations=a.b.getKnownRelations()}return AlignmentManagementComponent.prototype.ngOnChanges=function(e){this.initSettings(),e.overview&&e.overview.currentValue&&(this.relationSymbols=a.b.getDefaultRelations(),this.updateRelationSymbols(),this.updateAlignmentCells())},AlignmentManagementComponent.prototype.updateRelationSymbols=function(){for(var e=0;e<this.overview.unknownRelations.length;e++)this.relationSymbols.push({relation:this.overview.unknownRelations[e],dlSymbol:this.overview.unknownRelations[e],text:this.overview.unknownRelations[e]})},AlignmentManagementComponent.prototype.updateAlignmentCells=function(){var e=this;u.a.startLoadingDiv(u.a.blockDivFullScreen),this.alignmentService.listCells(this.page,this.alignmentPerPage).subscribe(function(t){e.totPage=t.totPage,e.alignmentCellList=t.cells,e.unknownRelation=!1;for(var n=0;n<e.alignmentCellList.length;n++){var r=e.alignmentCellList[n].getRelation();if(-1==e.knownRelations.indexOf(r)){e.unknownRelation=!0;break}}var o=[];o.push(e.computeRendering(e.leftProject,"left")),e.detectRightProject().subscribe(function(){null!=e.rightProject&&o.push(e.computeRendering(e.rightProject,"right")),i.Observable.forkJoin(o).subscribe(function(){u.a.stopLoadingDiv(u.a.blockDivFullScreen)})})})},AlignmentManagementComponent.prototype.computeRendering=function(e,t){var n=this,r=[];return this.alignmentCellList.forEach(function(e){var n="left"==t?e.getEntity1():e.getEntity2();r.push(n)}),d.c.setContextProject(e),this.resourceService.getResourcesInfo(r).map(function(e){n.alignmentCellList.forEach(function(n){for(var r=0;r<e.length;r++){if("left"==t&&n.getEntity1().getURI()==e[r].getURI()){n.setEntity1(e[r]);break}if("right"==t&&n.getEntity2().getURI()==e[r].getURI()){n.setEntity2(e[r]);break}}})}).finally(function(){return d.c.removeContextProject()})},AlignmentManagementComponent.prototype.detectRightProject=function(){var e=this;return null!=this.rightProject?i.Observable.of(null):this.resourceService.getResourcePosition(this.alignmentCellList[0].getEntity2()).map(function(t){t.isLocal()&&(e.rightProject=new s.f(t.project))})},AlignmentManagementComponent.prototype.prevPage=function(){this.page--,this.updateAlignmentCells()},AlignmentManagementComponent.prototype.nextPage=function(){this.page++,this.updateAlignmentCells()},AlignmentManagementComponent.prototype.acceptAlignment=function(e){var t=this;this.alignmentService.acceptAlignment(e.getEntity1(),e.getEntity2(),e.getRelation()).subscribe(function(n){var r=t.getIndexOfCell(e);n.setEntity1(t.alignmentCellList[r].getEntity1()),n.setEntity2(t.alignmentCellList[r].getEntity2()),t.alignmentCellList[r]=n,"error"==n.getStatus()&&t.selectMappingProperty(n).then(function(n){n.property,n.setAsDefault;t.alignmentService.acceptAlignment(e.getEntity1(),e.getEntity2(),e.getRelation(),n.property,n.setAsDefault).subscribe(function(e){t.replaceAlignmentCell(e)})},function(){})})},AlignmentManagementComponent.prototype.selectMappingProperty=function(e){var t=new g.b("Invalid relation",e.getComment(),e.getEntity1()),n=new o.b(t,void 0,g.b),r={context:n.keyboard(27).toJSON()};return this.modal.open(g.a,r).result},AlignmentManagementComponent.prototype.rejectAlignment=function(e){var t=this;this.alignmentService.rejectAlignment(e.getEntity1(),e.getEntity2(),e.getRelation()).subscribe(function(n){var r=t.getIndexOfCell(e);n.setEntity1(t.alignmentCellList[r].getEntity1()),n.setEntity2(t.alignmentCellList[r].getEntity2()),t.alignmentCellList[r]=n})},AlignmentManagementComponent.prototype.getRelationRendered=function(e){for(var t=e.getRelation(),n=e.getRelation(),r=0;r<this.relationSymbols.length;r++)if(this.relationSymbols[r].relation==n){t=this.relationSymbols[r][this.showRelationType];break}return this.confOnMeter&&(t+=" ("+e.getMeasure()+")"),t},AlignmentManagementComponent.prototype.changeRelation=function(e,t){var n=this;e.getRelation()!=t&&this.basicModals.confirm("Change relation","Manually changing the relation will set automatically the measure of the alignment to 1.0. Do you want to continue?","warning").then(function(r){n.alignmentService.changeRelation(e.getEntity1(),e.getEntity2(),t).subscribe(function(e){n.replaceAlignmentCell(e)})},function(){})},AlignmentManagementComponent.prototype.getSuggestedMappingProperties=function(e){if(null!=e.getSuggestedMappingProperties())return e.getSuggestedMappingProperties();this.alignmentService.getSuggestedProperties(e.getEntity1(),e.getRelation()).subscribe(function(t){e.setSuggestedMappingProperties(t)})},AlignmentManagementComponent.prototype.changeMappingProperty=function(e,t){var n=this;t.getURI()!=e.getMappingProperty().getURI()&&this.alignmentService.changeMappingProperty(e.getEntity1(),e.getEntity2(),t).subscribe(function(e){n.replaceAlignmentCell(e)})},AlignmentManagementComponent.prototype.replaceAlignmentCell=function(e){var t=this.alignmentCellList[this.getIndexOfCell(e)];t.setComment(e.getComment()),t.setMappingProperty(e.getMappingProperty()),t.setMeasure(e.getMeasure()),t.setRelation(e.getRelation()),t.setStatus(e.getStatus()),t.setSuggestedMappingProperties(e.getSuggestedMappingProperties())},AlignmentManagementComponent.prototype.openSettings=function(){var e=this,t=+p.a.getCookie(p.a.ALIGNMENT_VALIDATION_ALIGNMENT_PER_PAGE),n=new o.b,r={context:n.keyboard(27).toJSON()};this.modal.open(v.a,r).result.then(function(){e.rejectedAlignmentAction=p.a.getCookie(p.a.ALIGNMENT_VALIDATION_REJECTED_ALIGNMENT_ACTION),e.showRelationType=p.a.getCookie(p.a.ALIGNMENT_VALIDATION_RELATION_SHOW),e.confOnMeter="true"==p.a.getCookie(p.a.ALIGNMENT_VALIDATION_SHOW_CONFIDENCE),e.alignmentPerPage=+p.a.getCookie(p.a.ALIGNMENT_VALIDATION_ALIGNMENT_PER_PAGE),t!=e.alignmentPerPage&&(e.page=0,e.updateAlignmentCells())},function(){})},AlignmentManagementComponent.prototype.initSettings=function(){this.rejectedAlignmentAction=p.a.getCookie(p.a.ALIGNMENT_VALIDATION_REJECTED_ALIGNMENT_ACTION),null==this.rejectedAlignmentAction&&(this.rejectedAlignmentAction="ask",p.a.setCookie(p.a.ALIGNMENT_VALIDATION_REJECTED_ALIGNMENT_ACTION,this.rejectedAlignmentAction,3650)),this.showRelationType=p.a.getCookie(p.a.ALIGNMENT_VALIDATION_RELATION_SHOW),null==this.showRelationType&&(this.showRelationType="relation",p.a.setCookie(p.a.ALIGNMENT_VALIDATION_RELATION_SHOW,this.showRelationType,3650)),this.confOnMeter="true"==p.a.getCookie(p.a.ALIGNMENT_VALIDATION_SHOW_CONFIDENCE),this.alignmentPerPage=+p.a.getCookie(p.a.ALIGNMENT_VALIDATION_ALIGNMENT_PER_PAGE),0==this.alignmentPerPage&&(this.alignmentPerPage=15,p.a.setCookie(p.a.ALIGNMENT_VALIDATION_ALIGNMENT_PER_PAGE,this.alignmentPerPage+"",3650)),this.rendering="false"!=p.a.getCookie(p.a.ALIGNMENT_VALIDATION_RENDERING)},AlignmentManagementComponent.prototype.toggleRendering=function(){this.rendering=!this.rendering,p.a.setCookie(p.a.ALIGNMENT_VALIDATION_RENDERING,this.rendering+"")},AlignmentManagementComponent.prototype.doQuickAction=function(){var e=this;u.a.startLoadingDiv(u.a.blockDivFullScreen),this.chosenQuickAction==this.qaAcceptAll?this.alignmentService.acceptAllAlignment().subscribe(function(t){e.updateAlignmentListAfterQuickAction(t),u.a.stopLoadingDiv(u.a.blockDivFullScreen)}):this.chosenQuickAction==this.qaAcceptAllAbove?this.alignmentService.acceptAllAbove(this.threshold).subscribe(function(t){e.updateAlignmentListAfterQuickAction(t),u.a.stopLoadingDiv(u.a.blockDivFullScreen)}):this.chosenQuickAction==this.qaRejectAll?this.alignmentService.rejectAllAlignment().subscribe(function(t){e.updateAlignmentListAfterQuickAction(t),u.a.stopLoadingDiv(u.a.blockDivFullScreen)}):this.chosenQuickAction==this.qaRejectAllUnder&&this.alignmentService.rejectAllUnder(this.threshold).subscribe(function(t){e.updateAlignmentListAfterQuickAction(t),u.a.stopLoadingDiv(u.a.blockDivFullScreen)})},AlignmentManagementComponent.prototype.updateAlignmentListAfterQuickAction=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.getIndexOfCell(n);-1!=r&&(n.setEntity1(this.alignmentCellList[r].getEntity1()),n.setEntity2(this.alignmentCellList[r].getEntity2()),this.alignmentCellList[r]=n)}},AlignmentManagementComponent.prototype.applyToOnto=function(){var e=this;"skip"==this.rejectedAlignmentAction?this.basicModals.confirm("Apply validation","This operation will add to the ontology the triples of the accepted alignments. Are you sure to continue?","warning").then(function(t){e.applyValidation(!1)},function(){}):"delete"==this.rejectedAlignmentAction?this.basicModals.confirm("Apply validation","This operation will add to the ontology the triples of the accepted alignments and delete the triples of the ones rejected. Are you sure to continue?","warning").then(function(t){e.applyValidation(!0)},function(){}):"ask"==this.rejectedAlignmentAction&&this.basicModals.confirmCheck("Apply valdiation","This operation will add to the ontology the triples of the accepted alignments. Are you sure to continue?","Delete triples of rejected alignments","warning").then(function(t){e.applyValidation(t)},function(){})},AlignmentManagementComponent.prototype.applyValidation=function(e){var t=this;u.a.startLoadingDiv(u.a.blockDivFullScreen),this.alignmentService.applyValidation(e).subscribe(function(e){u.a.stopLoadingDiv(u.a.blockDivFullScreen);var n=new m.b(e),r=new o.b(n,void 0,m.b),i={context:r.size("lg").keyboard(27).toJSON()};return t.modal.open(m.a,i).result})},AlignmentManagementComponent.prototype.export=function(){var e=this;this.alignmentService.exportAlignment().subscribe(function(t){var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Export alignment",null,n,"alignment.rdf")})},AlignmentManagementComponent.prototype.getIndexOfCell=function(e){return this.alignmentCellList.findIndex(function(t){return t.getEntity1().getURI()==e.getEntity1().getURI()&&t.getEntity2().getURI()==e.getEntity2().getURI()})},AlignmentManagementComponent.prototype.openResView=function(e,t){t&&d.c.setContextProject(this.rightProject),this.sharedModals.openResourceView(e,!0).then(function(){d.c.removeContextProject()},function(){})},b([n.i(r.r)(),y("design:type",a.e)],AlignmentManagementComponent.prototype,"overview",void 0),b([n.i(r.r)(),y("design:type",s.f)],AlignmentManagementComponent.prototype,"leftProject",void 0),b([n.i(r.r)(),y("design:type",s.f)],AlignmentManagementComponent.prototype,"rightProject",void 0),AlignmentManagementComponent=b([n.i(r.c)({selector:"alignment-management",template:n(1769),host:{class:"vbox"}}),y("design:paramtypes",[l.a,c.a,f.a,h.a,o.c])],AlignmentManagementComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(3),i=n(300),a=n(60),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function MapleDatasetComponent(){}return MapleDatasetComponent.prototype.ngOnChanges=function(e){e.dataset&&(this.shortType=new o.b(this.dataset["@type"]).getLocalName(),this.shortConformsTo=a.f.getPrettyPrintModelType(this.dataset.conformsTo),this.modelBadgeClass=this.shortConformsTo!=this.dataset.conformsTo?this.shortConformsTo.toLowerCase():"")},s([n.i(r.r)(),l("design:type",i.b)],MapleDatasetComponent.prototype,"dataset",void 0),MapleDatasetComponent=s([n.i(r.c)({selector:"maple-dataset",template:n(1772),styles:["\n        .rdfs { background-color: darkgray }\n        .owl { background-color: #ff5959 }\n        .skos { background-color: #00c5fc }\n        .ontolex { background-color: #db9602 }\n        td > label { min-width: 110px; }\n    "]}),l("design:paramtypes",[])],MapleDatasetComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(300),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function MaplePairingComponent(){this.synonymizerChange=new r.i}return MaplePairingComponent.prototype.ngOnInit=function(){var e=this.pairing.synonymizers.map(function(e){return e.score}),t=Math.max.apply(Math,e);this.selectedSynonymizer=this.pairing.synonymizers.find(function(e){return e.score==t})},MaplePairingComponent.prototype.onSynonimizerChanged=function(){this.synonymizerChange.emit(this.selectedSynonymizer)},i([n.i(r.r)(),a("design:type",o.a)],MaplePairingComponent.prototype,"pairing",void 0),i([n.i(r._7)(),a("design:type",r.i)],MaplePairingComponent.prototype,"synonymizerChange",void 0),MaplePairingComponent=i([n.i(r.c)({selector:"maple-pairing",template:n(1773)}),a("design:paramtypes",[])],MaplePairingComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(1608),i=(n.n(o),n(11)),a=n(17),s=n(20),l=n(6),c=n(21),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function AppComponent(e){this.vbProp=e,this.appVersion=n(2379).version}return AppComponent.prototype.ngOnInit=function(){this.vbProp.initStartupSystemSettings()},AppComponent.prototype.isUserLogged=function(){return l.a.isLoggedIn()},AppComponent.prototype.isUserAdmin=function(){return l.a.getLoggedUser().isAdmin()},AppComponent.prototype.isProjectOpen=function(){return void 0!=l.a.getWorkingProject()},AppComponent.prototype.isProjectEdoal=function(){return l.a.getWorkingProject().getModelType()==i.g.uri},AppComponent.prototype.isProjectHistoryEnabled=function(){var e=l.a.getWorkingProject();return void 0!=e&&e.isHistoryEnabled()},AppComponent.prototype.isProjectValidationEnabled=function(){var e=l.a.getWorkingProject();return void 0!=e&&e.isValidationEnabled()},AppComponent.prototype.isSparqlAuthorized=function(){return a.a.isAuthorized(s.a.sparqlEvaluateQuery)||a.a.isAuthorized(s.a.sparqlExecuteUpdate)},AppComponent.prototype.isDataAuthorized=function(){var e=l.a.getWorkingProject().getModelType();return e==i.g.uri||(e==i.d.uri||e==i.f.uri?a.a.isAuthorized(s.a.skosGetConceptTaxonomy)||a.a.isAuthorized(s.a.skosGetCollectionTaxonomy)||a.a.isAuthorized(s.a.skosGetSchemes)||a.a.isAuthorized(s.a.classesGetClassTaxonomy)||a.a.isAuthorized(s.a.propertiesGetPropertyTaxonomy):e==i.c.uri||e==i.b.uri?a.a.isAuthorized(s.a.classesGetClassTaxonomy)||a.a.isAuthorized(s.a.propertiesGetPropertyTaxonomy):void 0)},AppComponent.prototype.isMetadataVocAuthorized=function(){return a.a.isAuthorized(s.a.datasetMetadataExport)&&a.a.isAuthorized(s.a.datasetMetadataGetMetadata)},AppComponent.prototype.isMetadataRegistryAuthorized=function(){return a.a.isAuthorized(s.a.metadataRegistryRead)},AppComponent.prototype.isHistoryAuthorized=function(){return a.a.isAuthorized(s.a.history)&&null==l.a.getContextVersion()},AppComponent.prototype.isValidationAuthorized=function(){return null==l.a.getContextVersion()},AppComponent.prototype.isCustomFormAuthorized=function(){return a.a.isAuthorized(s.a.customFormGetFormMappings)&&a.a.isAuthorized(s.a.customFormGetCollections)&&a.a.isAuthorized(s.a.customFormGetForms)},AppComponent.prototype.isAlignValidationAuthorized=function(){return a.a.isAuthorized(s.a.alignmentLoadAlignment)&&a.a.isAuthorized(s.a.alignmentApplyAlignment)},AppComponent.prototype.isSheet2RdfAuthorized=function(){return a.a.isAuthorized(s.a.sheet2Rdf)},AppComponent.prototype.isCollaborationAuthorized=function(){return!0},AppComponent.prototype.isResourceMetadataAuthorized=function(){return a.a.isAuthorized(s.a.resourceMetadataPatternRead)&&a.a.isAuthorized(s.a.resourceMetadataAssociationRead)},AppComponent.prototype.isCustomServicesAuthorized=function(){return a.a.isAuthorized(s.a.customServiceRead)||a.a.isAuthorized(s.a.invokableReporterRead)},AppComponent.prototype.isSkosDiffingAuthorized=function(){return l.a.getWorkingProject().getModelType()==i.d.uri},AppComponent=p([n.i(r.c)({selector:"app",template:n(1783)}),d("design:paramtypes",[c.a])],AppComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return T});var r=n(46),o=n(291),i=n(421),a=n(432),s=n(440),l=n(442),c=n(443),p=n(445),d=n(447),u=n(455),f=n(463),h=n(465),g=n(476),m=n(481),v=n(482),b=n(506),y=n(509),x=n(511),C=n(521),R=n(522),S=n(524),P=n(526),E=n(538),w=n(572),I=n(574),A=n(578),_=n(621),L=n(622),M=n(623),k=n(244),O=n(625),N=[{path:"",redirectTo:"/Home",pathMatch:"full"},{path:"Home",component:v.a,resolve:{user:O.a}},{path:"Projects",component:P.a,canActivate:[k.b]},{path:"Projects/CreateProject",component:S.a,canActivate:[k.b]},{path:"Data",component:f.a,canActivate:[k.c,k.d]},{path:"Edoal",component:h.a,canActivate:[k.c,k.d]},{path:"Sparql",component:A.a,canActivate:[k.c,k.d]},{path:"Vocabularies",component:y.a,canActivate:[k.c,k.d]},{path:"Imports",component:x.a,canActivate:[k.c,k.d]},{path:"MetadataRegistry",component:b.a,canActivate:[k.c,k.d]},{path:"History",component:g.a,canActivate:[k.c,k.d]},{path:"Validation",component:m.a,canActivate:[k.c,k.d]},{path:"AlignmentValidation",component:i.a,canActivate:[k.c,k.d]},{path:"Sheet2RDF",component:w.a,canActivate:[k.c,k.d]},{path:"SkosDiffing",component:I.a,canActivate:[k.c,k.d]},{path:"Collaboration",component:a.a,canActivate:[k.c,k.d]},{path:"CustomForm",component:d.a,canActivate:[k.c,k.d]},{path:"CustomServices",component:u.a,canActivate:[k.c,k.d]},{path:"Notifications",component:C.a,canActivate:[k.c,k.d]},{path:"ResourceMetadata",component:E.a,canActivate:[k.c,k.d]},{path:"Registration/:firstAccess",component:_.a},{path:"ResetPassword/:token",component:L.a},{path:"Profile",component:M.a,canActivate:[k.c]},{path:"Preferences",component:R.a,canActivate:[k.c,k.d]},{path:"Administration",loadChildren:"./modules/administrationModule#AdministrationModule",canLoad:[k.c]},{path:"Icv",loadChildren:"./modules/icvModule#IcvModule",canLoad:[k.c,k.d]},{path:"Config/LoadData",component:l.a,canActivate:[k.c,k.d]},{path:"Config/ExportData",component:s.a,canActivate:[k.c,k.d]},{path:"Config/Refactor",component:c.a,canActivate:[k.c,k.d]},{path:"Config/Versioning",component:p.a,canActivate:[k.c,k.d]},{path:"Sysconfig",component:o.a,canActivate:[k.c]}],T=r.a.forRoot(N,{useHash:!0})},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(46),i=n(4),a=n(83),s=n(136),l=n(71),c=n(54),p=n(238),d=n(566),u=n(17),f=n(7),h=n(20),g=n(6),m=n(21),v=n(2),b=n(13),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(){function ConfigBarComponent(e,t,n,r,o,i,a,s,l,c){this.inOutService=e,this.projectService=t,this.prefService=n,this.administrationService=r,this.shaclService=o,this.vbProp=i,this.basicModals=a,this.sharedModals=s,this.router=l,this.modal=c,this.privacyStatementAvailable=!1,this.shaclEnabled=!1}return ConfigBarComponent.prototype.isProjectAccessed=function(){return this.currentProject=g.a.getWorkingProject(),void 0!=g.a.getWorkingProject()},ConfigBarComponent.prototype.isUserLogged=function(){return g.a.isLoggedIn()},ConfigBarComponent.prototype.getCtxVersion=function(){return g.a.getContextVersion()},ConfigBarComponent.prototype.changeProject=function(){this.sharedModals.changeProject()},ConfigBarComponent.prototype.onAboutMenuOpen=function(){this.privacyStatementAvailable=this.vbProp.isPrivacyStatementAvailable()},ConfigBarComponent.prototype.downloadPrivacyStatement=function(){this.administrationService.downloadPrivacyStatement().subscribe()},ConfigBarComponent.prototype.onGlobalDataManagementMenuOpen=function(){this.initAuth(),this.shaclEnabled=g.a.getWorkingProject().isShaclEnabled()},ConfigBarComponent.prototype.clearData=function(){var e=this;this.basicModals.confirm("Clear data","This operation will erase all the data stored in the project. The project will be closed and then you will be redirect to the projects page. Are you sure to proceed?","warning").then(function(){f.a.startLoadingDiv(f.a.blockDivFullScreen),e.inOutService.clearData().subscribe(function(t){e.prefService.setActiveSchemes().subscribe(),e.basicModals.alert("Clear data","All data cleared successfully."),e.projectService.disconnectFromProject(g.a.getWorkingProject()).subscribe(function(t){f.a.stopLoadingDiv(f.a.blockDivFullScreen),"/Projects"==e.router.url?e.router.navigate(["/Home"]).then(function(t){e.router.navigate(["/Projects"])}):e.router.navigate(["/Projects"])})})},function(){})},ConfigBarComponent.prototype.loadShacleShapes=function(){var e=new i.b,t={context:e.keyboard(27).toJSON()};this.modal.open(d.a,t)},ConfigBarComponent.prototype.exportShacleShapes=function(){var e=this;this.shaclService.exportShapes().subscribe(function(t){var n=window.URL.createObjectURL(t);e.basicModals.downloadLink("Export SHACL shapes",null,n,"shapes.ttl")})},ConfigBarComponent.prototype.clearShacleShapes=function(){var e=this;this.basicModals.confirm("Clear SHACL shapes","This operation will delete all the SHACL shapes stored in the project. Are you sure to proceed?","warning").then(function(){f.a.startLoadingDiv(f.a.blockDivFullScreen),e.shaclService.clearShapes().subscribe(function(){f.a.stopLoadingDiv(f.a.blockDivFullScreen),e.basicModals.alert("Clear SHACL shapes","All SHACL shapes cleared successfully.")})},function(){})},ConfigBarComponent.prototype.initAuth=function(){this.loadDataAuthorized=u.a.isAuthorized(h.a.inputOutputLoadData),this.exportDataAuthorized=u.a.isAuthorized(h.a.exportExport),this.clearDataAuthorized=u.a.isAuthorized(h.a.inputOutputClearData),this.versioningAuthorized=u.a.isAuthorized(h.a.versionsGetVersions),this.loadShapesAuthorized=u.a.isAuthorized(h.a.shaclLoadShapes),this.exportShapesAuthorized=u.a.isAuthorized(h.a.shaclExportShapes),this.clearShapesAuthorized=u.a.isAuthorized(h.a.shaclClearShapes)},ConfigBarComponent=y([n.i(r.c)({selector:"config-bar",template:n(1791)}),x("design:paramtypes",[s.a,c.a,l.a,a.a,p.a,m.a,v.a,b.a,o.c,i.c])],ConfigBarComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(76),i=n(42),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function DatasetDescriptionComponent(){this.lodCloudConnector_id="it.uniroma2.art.semanticturkey.extension.impl.datasetcatalog.lodcloud.LODCloudConnector",this.lovConnector_id="it.uniroma2.art.semanticturkey.extension.impl.datasetcatalog.lov.LOVConnector"}return DatasetDescriptionComponent.prototype.ngOnInit=function(){},DatasetDescriptionComponent.prototype.getFacetsKeys=function(){return Object.keys(this.dataset.facets)},a([n.i(r.r)(),s("design:type",o.d)],DatasetDescriptionComponent.prototype,"dataset",void 0),a([n.i(r.r)(),s("design:type",i.j)],DatasetDescriptionComponent.prototype,"extension",void 0),DatasetDescriptionComponent=a([n.i(r.c)({selector:"dataset-description",template:n(1794),host:{class:"vbox"}}),s("design:paramtypes",[])],DatasetDescriptionComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(22),i=n(156),a=n(47),s=n(16),l=n(2),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function CustomFormComponent(e,t){this.cfService=e,this.basicModals=t,this.submittedWithError=!1,this.propagateChange=function(e){}}return e=CustomFormComponent,CustomFormComponent.prototype.ngOnChanges=function(e){e.cfId&&e.cfId.currentValue&&this.initFormFields()},CustomFormComponent.prototype.initFormFields=function(){var e=this;this.cfService.getCustomFormRepresentation(this.cfId).subscribe(function(t){t.forEach(function(e){e.getAnnotations().sort(function(e,t){return e.name==a.d.Foreign||e.name==a.d.Collection?1:-1})}),t.forEach(function(e){if(e.getConverter()==i.e.NAMESPACE+"langString"&&null!=e.getConverterArg()){var t=e.getConverterArg().ph;if(null!=t){var n=t.getAnnotation(a.d.DataOneOf);n&&(e.oneOfLang=n.value.map(function(e){return e.getValue()}))}}}),e.formFields=t,e.propagateChange(e.formFields)},function(t){t.name.endsWith("PRParserException")&&e.basicModals.alert("Error","Impossible to create the CustomForm ("+e.cfId+"). Its description may contains error.","error",t.message)})},CustomFormComponent.prototype.onFormFieldChanged=function(e){this.formFields.forEach(function(t){t!=e&&t.getUserPrompt()==e.getUserPrompt()&&(t.value=e.value)}),this.propagateChange(this.formFields)},CustomFormComponent.prototype.writeValue=function(e){e&&(this.formFields=e)},CustomFormComponent.prototype.registerOnChange=function(e){this.propagateChange=e},CustomFormComponent.prototype.registerOnTouched=function(e){},c([n.i(r.r)(),p("design:type",String)],CustomFormComponent.prototype,"cfId",void 0),c([n.i(r.r)(),p("design:type",String)],CustomFormComponent.prototype,"lang",void 0),CustomFormComponent=e=c([n.i(r.c)({selector:"custom-form",template:n(1801),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}],styles:[".bottomPadding { padding-bottom: 40px; }"]}),p("design:paramtypes",[s.a,l.a])],CustomFormComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(22),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function CustomFormField(){this.propagateChange=function(e){}}return e=CustomFormField,CustomFormField.prototype.initLang=function(){if("http://art.uniroma2.it/coda/contracts/langString"==this.field.getConverter()&&null!=this.lang){if(null!=this.field.getConverterArg()&&this.field.getConverterArg().ph){var e=this.field.oneOfLang;null!=e&&-1==e.indexOf(this.lang)||(this.field.getConverterArg().ph.value=this.lang)}}},CustomFormField.prototype.onConverterLangChange=function(e,t){var n=this;window.setTimeout(function(){t.value=e,n.propagateChange(n.field)})},CustomFormField.prototype.onEntryValueChange=function(e){this.field.value=e,this.propagateChange(this.field)},CustomFormField.prototype.updateNodeField=function(e){this.field.value=null!=e?e.getNominalValue():null,this.propagateChange(this.field)},CustomFormField.prototype.onModelChanged=function(){this.propagateChange(this.field)},CustomFormField.prototype.writeValue=function(e){e&&(this.field=e,this.initLang())},CustomFormField.prototype.registerOnChange=function(e){this.propagateChange=e},CustomFormField.prototype.registerOnTouched=function(e){},i([n.i(r.r)(),a("design:type",String)],CustomFormField.prototype,"lang",void 0),CustomFormField=e=i([n.i(r.c)({selector:"custom-form-field",template:n(1802),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),a("design:paramtypes",[])],CustomFormField);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(22),i=n(47),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function CustomFormFieldList(){this.propagateChange=function(e){}}return e=CustomFormFieldList,CustomFormFieldList.prototype.addValue=function(){this.subFields.push(this.field.clone())},CustomFormFieldList.prototype.removeValue=function(e){this.subFields.splice(e,1),this.onModelChange()},CustomFormFieldList.prototype.onFieldChange=function(e){this.onModelChange()},CustomFormFieldList.prototype.onModelChange=function(){var e=[];this.subFields.forEach(function(t){null!=t.value&&e.push(t.value)}),this.field.value=e,this.propagateChange(this.field)},CustomFormFieldList.prototype.writeValue=function(e){if(e){this.field=e;var t=this.field.getAnnotation(i.d.Collection);if(this.min=t.min,this.max=0!=t.max?t.max:99,this.subFields=[],this.min>0)for(var n=0;n<t.min;n++)this.subFields.push(this.field.clone())}},CustomFormFieldList.prototype.registerOnChange=function(e){this.propagateChange=e},CustomFormFieldList.prototype.registerOnTouched=function(e){},CustomFormFieldList=e=a([n.i(r.c)({selector:"custom-form-field-list",template:n(1803),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),s("design:paramtypes",[])],CustomFormFieldList);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(182),i=n(240),a=n(17),s=n(20),l=n(179),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function CustomOperationComponent(e){this.customServiceModals=e,this.update=new r.i,this.parameters=[]}return CustomOperationComponent.prototype.ngOnInit=function(){this.editOperationAuthorized=a.a.isAuthorized(s.a.customServiceOperationUpdate)},CustomOperationComponent.prototype.ngOnChanges=function(e){var t=this;e.operation.currentValue&&(this.returns=o.b.serializeType(this.operation.returns),null!=this.operation.parameters&&(this.parameters=this.operation.parameters.map(function(e){return{prettyPrint:o.b.serializeParameter(e),required:e.required}})),this.isSparql=this.operation["@type"]==o.c.SparqlOperation,this.isSparql&&setTimeout(function(){t.viewChildYasgui.forceContentUpdate()}))},CustomOperationComponent.prototype.editOperation=function(){var e=this;this.customServiceModals.openCustomOperationEditor("Edit Custom Operation",this.operation.serviceId,this.operation).then(function(){e.update.emit()},function(){})},c([n.i(r.r)(),p("design:type",o.d)],CustomOperationComponent.prototype,"operation",void 0),c([n.i(r.r)(),p("design:type",Boolean)],CustomOperationComponent.prototype,"readonly",void 0),c([n.i(r._7)(),p("design:type",r.i)],CustomOperationComponent.prototype,"update",void 0),c([n.i(r.F)(i.a),p("design:type",i.a)],CustomOperationComponent.prototype,"viewChildYasgui",void 0),CustomOperationComponent=c([n.i(r.c)({selector:"custom-operation",template:n(1814),host:{class:"vbox"},styles:[n(177)]}),p("design:paramtypes",[l.a])],CustomOperationComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(159),i=n(17),a=n(20),s=n(179),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function CustomServiceComponent(e,t){this.customServService=e,this.customServiceModals=t}return CustomServiceComponent.prototype.ngOnChanges=function(e){e.id&&e.id.currentValue&&this.initCustomService(!1)},CustomServiceComponent.prototype.ngOnInit=function(){this.editServiceAuthorized=i.a.isAuthorized(a.a.customServiceUpdate),this.createOperationAuthorized=i.a.isAuthorized(a.a.customServiceOperationCreate),this.deleteOperationAuthorized=i.a.isAuthorized(a.a.customServiceOperationDelete)},CustomServiceComponent.prototype.initCustomService=function(e){var t=this;return this.customServService.getCustomService(this.id).subscribe(function(n){if(t.service=n,t.form={name:t.service.getProperty("name"),description:t.service.getProperty("description"),operations:t.service.getProperty("operations")},e){if(null!=t.selectedOperation){var r=t.selectedOperation.name,o=t.form.operations.value;t.selectedOperation=o.find(function(e){return e.name==r})}}else t.selectedOperation=null})},CustomServiceComponent.prototype.updateName=function(e){var t=this,n={name:e,description:this.form.description.value,operations:this.form.operations.value};this.customServService.updateCustomService(this.id,n).subscribe(function(){t.initCustomService(!0)})},CustomServiceComponent.prototype.updateDescription=function(e){var t=this,n={name:this.form.name.value,description:e,operations:this.form.operations.value};this.customServService.updateCustomService(this.id,n).subscribe(function(){t.initCustomService(!0)})},CustomServiceComponent.prototype.selectOperation=function(e){this.selectedOperation!=e&&(this.selectedOperation=e)},CustomServiceComponent.prototype.createOperation=function(){var e=this;this.customServiceModals.openCustomOperationEditor("Create Custom Operation",this.service.id).then(function(){e.initCustomService(!0)},function(){})},CustomServiceComponent.prototype.deleteOperation=function(){var e=this;this.customServService.removeOperationFromCustomService(this.service.id,this.selectedOperation.name).subscribe(function(){e.initCustomService(!1)})},CustomServiceComponent.prototype.onOperationUpdate=function(){this.initCustomService(!0)},CustomServiceComponent.prototype.reload=function(){var e=this;this.customServService.reloadCustomService(this.id).subscribe(function(){e.initCustomService(!0)})},l([n.i(r.r)(),c("design:type",String)],CustomServiceComponent.prototype,"id",void 0),CustomServiceComponent=l([n.i(r.c)({selector:"custom-service",template:n(1815),host:{class:"vbox"},styles:[n(177)]}),c("design:paramtypes",[o.a,s.a])],CustomServiceComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(159),i=n(17),a=n(20),s=n(2),l=n(179),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function CustomServicesPageComponent(e,t,n){this.customServService=e,this.basicModals=t,this.customServiceModals=n}return CustomServicesPageComponent.prototype.ngOnInit=function(){this.createServiceAuthorized=i.a.isAuthorized(a.a.customServiceCreate),this.deleteServiceAuthorized=i.a.isAuthorized(a.a.customServiceDelete),this.initServices()},CustomServicesPageComponent.prototype.initServices=function(){var e=this;this.customServService.getCustomServiceIdentifiers().subscribe(function(t){e.serviceIds=t})},CustomServicesPageComponent.prototype.selectService=function(e){this.selectedServiceId!=e&&(this.selectedServiceId=e)},CustomServicesPageComponent.prototype.createService=function(){var e=this;this.customServiceModals.openCustomServiceEditor("New Custom Service").then(function(){e.initServices()},function(){})},CustomServicesPageComponent.prototype.deleteService=function(){var e=this;this.basicModals.confirm("Delete CustomService","You are deleting CustomService '"+this.selectedServiceId+"'. Are you sure?","warning").then(function(){e.customServService.deleteCustomService(e.selectedServiceId).subscribe(function(){e.selectedServiceId=null,e.initServices()})})},CustomServicesPageComponent.prototype.reload=function(){var e=this;this.customServService.reloadCustomServices().subscribe(function(){e.initServices()})},CustomServicesPageComponent=c([n.i(r.c)({selector:"custom-services-component",template:n(1816),host:{class:"hbox"}}),p("design:paramtypes",[o.a,s.a,l.a])],CustomServicesPageComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(22),i=n(182),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function OperationTypeEditor(){this.propagateChange=function(e){}}return e=OperationTypeEditor,OperationTypeEditor.prototype.ngOnInit=function(){if(this.types=c.toTypeStructList(i.b.getAllTypes()),this.parameter&&(this.types=c.toTypeStructList([i.b.Types.boolean,i.b.Types.double,i.b.Types.float,i.b.Types.integer,i.b.Types.IRI,i.b.Types.List,i.b.Types.Literal,i.b.Types.long,i.b.Types.Map,i.b.Types.Resource,i.b.Types.short,i.b.Types.String,i.b.Types.RDFValue])),null!=this.generic){var e=i.b.getAllowedGenericArgsMap(this.generic);this.types=this.types.filter(function(t){return-1!=e.indexOf(t.type)})}},OperationTypeEditor.prototype.onSelectedTypeChange=function(){var e=this,t=i.b.getGenericTypeArgs(this.selectedType);null!=t?(this.genericArgsList=[],t.forEach(function(t){e.genericArgsList.push({name:t,arg:null})})):this.genericArgsList=null,this.buildTypeAndPropagate()},OperationTypeEditor.prototype.buildTypeAndPropagate=function(){var e={name:this.selectedType};if(-1!=i.b.getGenericTypes().indexOf(this.selectedType)){var t=[];this.genericArgsList.forEach(function(e){t.push(e.arg)}),e.typeArguments=t}this.type=e,this.propagateChange(this.type)},OperationTypeEditor.prototype.writeValue=function(e){var t=this;if(e){this.type=e,this.selectedType=this.types.find(function(e){return e.type==t.type.name}).type;var n=i.b.getGenericTypeArgs(this.selectedType);null!=n?(this.genericArgsList=[],n.forEach(function(e,n){t.genericArgsList.push({name:e,arg:t.type.typeArguments[n]})})):this.genericArgsList=null}},OperationTypeEditor.prototype.registerOnChange=function(e){this.propagateChange=e},OperationTypeEditor.prototype.registerOnTouched=function(e){},a([n.i(r.r)(),s("design:type",Boolean)],OperationTypeEditor.prototype,"parameter",void 0),a([n.i(r.r)(),s("design:type",String)],OperationTypeEditor.prototype,"generic",void 0),OperationTypeEditor=e=a([n.i(r.c)({selector:"type-editor",template:n(1821),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]})],OperationTypeEditor);var e}(),c=function(){function TypeStruct(){}return TypeStruct.toTypeStructList=function(e){return e.map(function(e){return TypeStruct.toTypeStruct(e)})},TypeStruct.toTypeStruct=function(e){var t;t=-1!=e.indexOf(".")?e.substr(e.lastIndexOf(".")+1):e;var n=i.b.getGenericTypeArgs(e);return null!=n&&(t+="<"+n.join(",")+">"),{type:e,show:t}},TypeStruct}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(45),i=n(42),a=n(186),s=n(17),l=n(7),c=n(20),p=n(2),d=n(228),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function InvokableReporterComponent(e,t,n){this.invokableReporterService=e,this.invokableReporterModals=t,this.basicModals=n,this.reportFormats=[{label:"HTML",value:null},{label:"PDF",value:"application/pdf"}],this.selectedReportFormat=this.reportFormats[0]}return InvokableReporterComponent.prototype.ngOnChanges=function(e){e.ref&&e.ref.currentValue&&this.initReporter(!1)},InvokableReporterComponent.prototype.ngOnInit=function(){this.editReporterAuthorized=s.a.isAuthorized(c.a.invokableReporterUpdate),this.createInvocationAuthorized=s.a.isAuthorized(c.a.invokableReporterSectionCreate),this.deleteInvocationAuthorized=s.a.isAuthorized(c.a.invokableReporterSectionDelete)},InvokableReporterComponent.prototype.initReporter=function(e){var t=this;this.invokableReporterService.getInvokableReporter(this.ref.relativeReference).subscribe(function(n){t.reporter=n,t.form={label:t.reporter.getProperty("label"),description:t.reporter.getProperty("description"),sections:t.reporter.getProperty("sections"),template:t.reporter.getProperty("template"),mimeType:t.reporter.getProperty("mimeType")},e?null!=t.selectedServiceInvocationIdx&&null!=t.form.sections.value&&t.form.sections.value.length>t.selectedServiceInvocationIdx?t.selectedServiceInvocation=t.form.sections.value[t.selectedServiceInvocationIdx]:t.selectedServiceInvocation=null:(t.selectedServiceInvocation=null,t.selectedServiceInvocationIdx=null)})},InvokableReporterComponent.prototype.edit=function(){var e=this;this.invokableReporterModals.openInvokableReporterEditor("Edit Invokable Report",[],this.ref).then(function(){e.initReporter(!0)},function(){})},InvokableReporterComponent.prototype.compileReport=function(){var e=this;null==this.form.sections.value||0==this.form.sections.value.length?this.basicModals.alert("Compile report","The reporter cannot be compiled since it has no service invocation provided","warning"):(l.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.invokableReporterService.compileReport(this.ref.relativeReference,!1).subscribe(function(t){l.a.stopLoadingDiv(e.blockingDivElement.nativeElement),e.invokableReporterModals.showReport(t)},function(t){e.compilationErrorHandler(t)}))},InvokableReporterComponent.prototype.compileAndDownloadReport=function(){var e=this;null==this.form.sections.value||0==this.form.sections.value.length?this.basicModals.alert("Download report","The reporter cannot be compiled since it has no service invocation provided","warning"):(l.a.startLoadingDiv(this.blockingDivElement.nativeElement),this.invokableReporterService.compileAndDownloadReport(this.ref.relativeReference,this.selectedReportFormat.value).subscribe(function(t){l.a.stopLoadingDiv(e.blockingDivElement.nativeElement);var n=window.URL.createObjectURL(t);window.open(n)},function(t){e.compilationErrorHandler(t)}))},InvokableReporterComponent.prototype.compilationErrorHandler=function(e){e.name.endsWith("InvokableReporterException")&&e.message.includes("AccessDeniedException")?this.basicModals.alert("Error","You have not enough priviledges for invoking one (or more) service invocation performed by this report.","error",e.message):this.basicModals.alert("Error",e.message,"error",e.stack)},InvokableReporterComponent.prototype.selectServiceInvocation=function(e){this.selectedServiceInvocationIdx!=e&&(this.selectedServiceInvocationIdx=e,this.selectedServiceInvocation=this.form.sections.value[e],this.selectedServiceInvocation.reporterRef=this.ref)},InvokableReporterComponent.prototype.createServiceInvocation=function(){var e=this;this.invokableReporterModals.openServiceInvocationEditor("Create Service invocation",this.ref).then(function(){e.initReporter(!0)},function(){})},InvokableReporterComponent.prototype.deleteServiceInvocation=function(){var e=this;this.invokableReporterService.removeSectionFromReporter(this.ref.relativeReference,this.selectedServiceInvocationIdx).subscribe(function(){e.initReporter(!1)})},InvokableReporterComponent.prototype.onServiceInvocationUpdate=function(){this.initReporter(!0)},f([n.i(r.r)(),h("design:type",o.b)],InvokableReporterComponent.prototype,"ref",void 0),f([n.i(r.F)("blockingDiv"),h("design:type",r.e)],InvokableReporterComponent.prototype,"blockingDivElement",void 0),InvokableReporterComponent=f([n.i(r.c)({selector:"invokable-reporter",template:n(1822),host:{class:"vbox"},styles:[n(177)]}),h("design:paramtypes",[a.a,d.a,p.a])],InvokableReporterComponent)}();(function(){function InvokableReporterForm(){}})(),function(e){function InvokableReporterFormEntry(){return null!==e&&e.apply(this,arguments)||this}u(InvokableReporterFormEntry,e)}(i.d)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(186),i=n(17),a=n(20),s=n(2),l=n(228),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function InvokableReportersPageComponent(e,t,n){this.invokableReporterService=e,this.invokableReporterModals=t,this.basicModals=n}return InvokableReportersPageComponent.prototype.ngOnInit=function(){this.createReporterAuthorized=i.a.isAuthorized(a.a.invokableReporterCreate),this.deleteReporterAuthorized=i.a.isAuthorized(a.a.invokableReporterDelete),this.initReporters()},InvokableReportersPageComponent.prototype.initReporters=function(){var e=this;this.invokableReporterService.getInvokableReporterIdentifiers().subscribe(function(t){e.reporters=t})},InvokableReportersPageComponent.prototype.selectReporter=function(e){this.selectedReporter=e},InvokableReportersPageComponent.prototype.createReporter=function(){var e=this;this.invokableReporterModals.openInvokableReporterEditor("New Invokable Report",this.reporters).then(function(){e.initReporters()},function(){})},InvokableReportersPageComponent.prototype.deleteReporter=function(){var e=this;this.basicModals.confirm("Delete Invokable Reporter","You are deleting the Invokable Reporter '"+this.selectedReporter.identifier+"'. Are you sure?","warning").then(function(){e.invokableReporterService.deleteInvokableReporter(e.selectedReporter.relativeReference).subscribe(function(){e.initReporters()})})},InvokableReportersPageComponent=c([n.i(r.c)({selector:"invokable-reporters-component",template:n(1823),host:{class:"hbox"}}),p("design:paramtypes",[o.a,l.a,s.a])],InvokableReportersPageComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(515),i=n(17),a=n(20),s=n(228),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function ServiceInvocationComponent(e){this.invokableReporterModals=e,this.update=new r.i,this.objectKeys=Object.keys}return ServiceInvocationComponent.prototype.ngOnInit=function(){this.editInvocationAuthorized=i.a.isAuthorized(a.a.invokableReporterSectionUpdate)},ServiceInvocationComponent.prototype.editInvocation=function(){var e=this;this.invokableReporterModals.openServiceInvocationEditor("Edit Service invocation",this.invocation.reporterRef,{def:this.invocation,idx:this.idx}).then(function(){e.update.emit()},function(){})},l([n.i(r.r)(),c("design:type",o.b)],ServiceInvocationComponent.prototype,"invocation",void 0),l([n.i(r.r)(),c("design:type",Number)],ServiceInvocationComponent.prototype,"idx",void 0),l([n.i(r._7)(),c("design:type",r.i)],ServiceInvocationComponent.prototype,"update",void 0),ServiceInvocationComponent=l([n.i(r.c)({selector:"service-invocation",template:n(1827),host:{class:"vbox"},styles:[n(177)]}),c("design:paramtypes",[s.a])],ServiceInvocationComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(133),i=n(134),a=n(92),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function DraggableDirective(e,t){this.d3Service=e,this._element=t}return DraggableDirective.prototype.ngOnInit=function(){this.d3Service.applyDraggableBehaviour(this._element.nativeElement,this.draggableNode,this.draggableInGraph)},s([n.i(r.r)("draggableNode"),l("design:type",a.b)],DraggableDirective.prototype,"draggableNode",void 0),s([n.i(r.r)("draggableInGraph"),l("design:type",i.b)],DraggableDirective.prototype,"draggableInGraph",void 0),DraggableDirective=s([n.i(r.o)({selector:"[draggableNode]"}),l("design:paramtypes",[o.a,r.e])],DraggableDirective)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(133),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function ZoomableDirective(e,t){this.d3Service=e,this._element=t}return ZoomableDirective.prototype.ngOnInit=function(){this.d3Service.applyZoomableBehaviour(this.zoomableOf,this._element.nativeElement)},i([n.i(r.r)("zoomableOf"),a("design:type",r.e)],ZoomableDirective.prototype,"zoomableOf",void 0),ZoomableDirective=i([n.i(r.o)({selector:"[zoomableOf]"}),a("design:paramtypes",[o.a,r.e])],ZoomableDirective)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(5),i=n(4),a=n(3),s=n(160),l=n(10),c=n(2),p=n(14),d=n(295),u=n(296),f=n(92),h=n(466),g=(n(514),this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}()),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function DataGraphPanel(t,n,r,o){var i=e.call(this,t,n)||this;return i.modal=r,i.individualService=o,i}return g(DataGraphPanel,e),DataGraphPanel.prototype.openSettings=function(){var e=new i.b,t={context:e.keyboard(27).size("lg").toJSON()};return this.modal.open(u.a,t).result},DataGraphPanel.prototype.addNode=function(){var e,t=this;l.a.roleSubsumes(a.c.property,this.role)?e=this.browsingModals.browsePropertyTree("Add node"):this.role==a.c.cls?e=this.browsingModals.browseClassTree("Add node"):this.role==a.c.concept?e=this.browsingModals.browseConceptTree("Add node"):this.role==a.c.conceptScheme?e=this.browsingModals.browseSchemeList("Add node"):this.role==a.c.dataRange?e=this.browsingModals.browseDatatypeList("Add node"):this.role==a.c.individual?e=this.browsingModals.browseClassIndividualTree("Add node"):this.role==a.c.limeLexicon?e=this.browsingModals.browseLexiconList("Add node"):this.role==a.c.ontolexLexicalEntry?e=this.browsingModals.browseLexicalEntryList("Add node"):l.a.roleSubsumes(a.c.skosCollection,this.role)&&(e=this.browsingModals.browseCollectionTree("Add node")),e.then(function(e){t.viewChildGraph.addNode(e)},function(){})},DataGraphPanel.prototype.isExpandEnabled=function(){return null!=this.selectedElement&&this.selectedElement instanceof f.b&&this.selectedElement.res instanceof a.b&&(this.selectedElement.res.getRole()==a.c.cls||this.selectedElement.res.getRole()==a.c.concept||this.selectedElement.res.getRole()==a.c.skosCollection||l.a.roleSubsumes(a.c.property,this.selectedElement.res.getRole()))},DataGraphPanel.prototype.expandSubResources=function(){this.viewChildGraph.expandSub()},DataGraphPanel.prototype.expandSuperResources=function(){this.viewChildGraph.expandSuper()},m([n.i(r.r)(),v("design:type",String)],DataGraphPanel.prototype,"role",void 0),m([n.i(r.r)(),v("design:type",String)],DataGraphPanel.prototype,"context",void 0),m([n.i(r.F)(h.a),v("design:type",h.a)],DataGraphPanel.prototype,"viewChildGraph",void 0),DataGraphPanel=m([n.i(r.c)({selector:"data-graph-panel",template:n(1832)}),v("design:paramtypes",[c.a,p.a,o.l,s.a])],DataGraphPanel)}(d.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(91),i=n(294),a=n(92),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function DataNodeComponent(t){var n=e.call(this,t)||this;return n.changeDetectorRef=t,n.graphMode=o.a.dataOriented,n}return s(DataNodeComponent,e),DataNodeComponent.prototype.ngOnInit=function(){this.initNode(),this.initMeasures()},DataNodeComponent.prototype.initMeasures=function(){this.stripeHeight=15,this.stripePercentage=Math.ceil(100*this.stripeHeight/this.measures.height)},l([n.i(r.r)("dataNode"),c("design:type",a.b)],DataNodeComponent.prototype,"node",void 0),DataNodeComponent=l([n.i(r.c)({selector:"[dataNode]",template:n(1833),styles:[n(129)]}),c("design:paramtypes",[r.D])],DataNodeComponent)}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(154),i=n(229),a=n(155),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function LinkComponent(){this.linkClicked=new r.i,this.selected=!1,this.linkClass="link",this.arrowClass=""}return LinkComponent.prototype.ngOnInit=function(){this.initLinkStyle()},LinkComponent.prototype.initLinkStyle=function(){if(null!=this.link.res){var e=this.link.res.getRole();this.arrowClass=e+"Arrow"}this.link.classAxiom&&(this.linkClass+=" linkDotted")},LinkComponent.prototype.computePath=function(){var e="M"+this.link.source.x+" "+this.link.source.y;if(this.link.source==this.link.target){var t=this.link.source.getNodeHeight()/2,n=this.link.offset>0?1:-1,r=(t+Math.abs(o.b.loopPathMultiplier*this.link.offset))*n;e=e+" c -30 "+r+" 20 "+r,e=e+" 10 "+t*n}else{var a=i.a.getIntersectionPoint(this.link);if(0!=this.link.offset){var s=i.a.computeCenter(this.link.source,this.link.target),l=i.a.calculateNormalVector(this.link.source,this.link.target,o.b.normalVectorMultiplier*this.link.offset);e=e+" Q"+(s.x+l.x)+" "+(s.y+l.y)}e=e+" "+a.x+" "+a.y}return e},LinkComponent.prototype.getLabelPosition=function(){var e={x:0,y:0};if(this.link.source==this.link.target){var t=this.link.source.getNodeHeight()/2,n=this.link.offset>0?1:-1,r=(t+Math.abs(o.b.loopPathMultiplier*this.link.offset))*n;e.x=this.link.source.x,e.y=this.link.source.y+r}else{var a=i.a.computeCenter(this.link.source,this.link.target),s=i.a.calculateNormalVector(this.link.source,this.link.target,o.b.normalVectorMultiplier*this.link.offset);e.x=a.x+s.x,e.y=a.y+s.y}return e},LinkComponent.prototype.getLabelTransform=function(){var e=this.getLabelPosition();return"translate("+e.x+","+e.y+")"},LinkComponent.prototype.getLabelRectWidth=function(){return null!=this.textElement?this.textElement.nativeElement.getBoundingClientRect().width+2:2},LinkComponent.prototype.onClick=function(e){e.stopPropagation(),null!=this.link.res&&this.linkClicked.emit(this.link)},s([n.i(r._7)(),l("design:type",r.i)],LinkComponent.prototype,"linkClicked",void 0),s([n.i(r.r)("link"),l("design:type",a.a)],LinkComponent.prototype,"link",void 0),s([n.i(r.r)(),l("design:type",Boolean)],LinkComponent.prototype,"selected",void 0),s([n.i(r.F)("textEl"),l("design:type",r.e)],LinkComponent.prototype,"textElement",void 0),LinkComponent=s([n.i(r.c)({selector:"[link]",template:n(1834),styles:[n(129)]})],LinkComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(3),i=n(11),a=n(2),s=n(14),l=n(295),c=n(467),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function ModelGraphPanel(t,n){var r=e.call(this,t,n)||this;return r.axiomFilters=[{property:i.c.complementOf,show:!1},{property:i.c.disjointWith,show:!1},{property:i.c.equivalentClass,show:!1},{property:i.b.subClassOf,show:!0}],r}return p(ModelGraphPanel,e),ModelGraphPanel.prototype.onFilterChange=function(e){this.viewChildGraph.applyFilter(e)},ModelGraphPanel.prototype.addNode=function(){var e=this;this.browsingModals.browseClassTree("Add node").then(function(t){if(!t.getAdditionalProperty(o.a.EXPLICIT))return void e.basicModals.alert("Add node","Cannot add a new node for "+t.getShow()+". In the model-oriented graph you can only add resources locally defined.","warning");e.viewChildGraph.addNode(t)},function(){})},d([n.i(r.F)(c.a),u("design:type",c.a)],ModelGraphPanel.prototype,"viewChildGraph",void 0),ModelGraphPanel=d([n.i(r.c)({selector:"model-graph-panel",template:n(1836)}),u("design:paramtypes",[a.a,s.a])],ModelGraphPanel)}(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(91),a=n(294),s=n(154),l=n(92),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function NodeModelComponent(t){var n=e.call(this,t)||this;return n.changeDetectorRef=t,n.graphMode=i.a.modelOriented,n.octagonPoints=-s.a.Octagon.base/2+s.a.Octagon.cut+" "+-s.a.Octagon.height/2+" , "+(s.a.Octagon.base/2-s.a.Octagon.cut)+" "+-s.a.Octagon.height/2+" , "+s.a.Octagon.base/2+" "+(-s.a.Octagon.height/2+s.a.Octagon.cut)+" , "+s.a.Octagon.base/2+" "+(s.a.Octagon.height/2-s.a.Octagon.cut)+" , "+(s.a.Octagon.base/2-s.a.Octagon.cut)+" "+s.a.Octagon.height/2+" , "+(-s.a.Octagon.base/2+s.a.Octagon.cut)+" "+s.a.Octagon.height/2+" , "+-s.a.Octagon.base/2+" "+(s.a.Octagon.height/2-s.a.Octagon.cut)+" , "+-s.a.Octagon.base/2+" "+(-s.a.Octagon.height/2+s.a.Octagon.cut),n.labelPoints=-s.a.Label.base/2+" "+-s.a.Label.height/2+" , "+(s.a.Label.base/2-s.a.Label.cut)+" "+-s.a.Label.height/2+" , "+s.a.Label.base/2+" 0, "+(s.a.Label.base/2-s.a.Label.cut)+" "+s.a.Label.height/2+" , "+-s.a.Label.base/2+" "+s.a.Label.height/2,n}return c(NodeModelComponent,e),NodeModelComponent.prototype.ngOnInit=function(){this.initNode(),this.nodeShape=this.node.getNodeShape(),this.isObjectProperty=this.node.res instanceof o.e&&this.node.res.getRole()==o.c.objectProperty},p([n.i(r.r)("modelNode"),d("design:type",l.b)],NodeModelComponent.prototype,"node",void 0),NodeModelComponent=p([n.i(r.c)({selector:"[modelNode]",template:n(1837),styles:[n(129)]}),d("design:paramtypes",[r.D])],NodeModelComponent)}(a.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(3),o=n(155),i=n(92),a=n(0),s=n(5),l=n(4),c=n(2),p=n(14),d=n(295),u=n(296),f=n(468),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function UmlGraphPanel(t,n,r){var o=e.call(this,t,n)||this;return o.modal=r,o.isHideArrows=!1,o.activeRemove=!1,o}return h(UmlGraphPanel,e),UmlGraphPanel.prototype.openSettings=function(){var e=new l.b,t={context:e.keyboard(27).size("lg").toJSON()};return this.modal.open(u.a,t).result},UmlGraphPanel.prototype.addNode=function(){var e=this;this.browsingModals.browseClassTree("Add node").then(function(t){if(!t.getAdditionalProperty(r.a.EXPLICIT))return void e.basicModals.alert("Add node","Cannot add a new node for "+t.getShow()+". In the class-diagram you can only add resources locally defined.","warning");e.viewChildGraph.addNode(t)},function(){})},UmlGraphPanel.prototype.removeNode=function(){this.viewChildGraph.removeNode(this.selectedElement)},UmlGraphPanel.prototype.onElementSelected=function(e){this.activeRemove=!1,this.resourceToDescribe=null,null!=e&&(e instanceof i.b?(this.selectedElement=e,this.activeRemove=!0,this.resourceToDescribe=e.res):e instanceof o.a?(this.selectedElement=e,this.resourceToDescribe=e.res):this.resourceToDescribe=e.property)},UmlGraphPanel.prototype.updateArrows=function(){this.isHideArrows=!this.isHideArrows},g([n.i(a.F)(f.a),m("design:type",f.a)],UmlGraphPanel.prototype,"viewChildGraph",void 0),UmlGraphPanel=g([n.i(a.c)({selector:"uml-graph-panel",template:n(1839)}),m("design:paramtypes",[c.a,p.a,s.l])],UmlGraphPanel)}(d.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(11),i=n(229),a=n(473),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function UmlLinkComponent(){this.linkClicked=new r.i,this.selected=!1,this.withMarker=!0,this.black=!0,this.arrowClass=""}return UmlLinkComponent.prototype.ngOnInit=function(){this.initLinkStyle()},UmlLinkComponent.prototype.initLinkStyle=function(){if(null!=this.link.res)if(this.link.isReflexive()&&(this.withMarker=!1,this.black=!1),this.link.res.equals(o.b.subClassOf))this.arrowClass="subClassArrow",this.white=!0,this.withMarker=!1,this.black=!1;else{var e=this.link.getRole();this.arrowClass=e+"Arrow"}},UmlLinkComponent.prototype.computePathUml=function(){var e=this,t=new i.b(this.link.source.x,this.link.source.y),n=new i.b(this.link.target.x,this.link.target.y),r=!1,a="M"+t.x+" "+t.y;if(this.link.loop&&0!=this.link.offset)for(var s=0,l=this.link.source.listPropInfo;s<l.length;s++){var c=l[s];c.property.equals(this.link.res)&&c.range.equals(this.link.target.res)&&(a=a+" M"+(t.x+(c.x-3))+" "+(t.y+c.y+9),t.x=t.x+(c.x-3),t.y=t.y+c.y+9,a=a+" L"+(t.x-12)+" "+t.y,t.x=t.x-12,a=a+" L"+t.x+" "+(t.y-5),a=a+" L"+(t.x+12)+" "+(t.y-5))}else{var p=this.link.source.listPropInfo.find(function(t){return t.property.equals(e.link.res)&&t.range.equals(e.link.target.res)});if(null!=p){var d=void 0;if(p.property.equals(o.b.subClassOf)&&(r=!0),a=a+" M"+(t.x+(p.x-3))+" "+(t.y+p.y+7),t.x=t.x+(p.x-3),t.y=t.y+p.y+7,d=i.a.positionArrow(t,n,this.link,r),!0===d.directionRight)return a=a+" M"+d.x+" "+t.y,a=a+" L"+(d.x+(this.link.target.getNodeWidth()/2+5))+" "+t.y,t.x=d.x+this.link.target.getNodeWidth()/2+5,a=a+" L"+t.x+" "+this.link.target.y,a=a+" L"+(n.x+this.link.target.getNodeWidth()/2)+" "+this.link.target.y;if(!0===d.directionLeft)return a=a+" M"+d.x+" "+t.y,a=a+" L"+(d.x-(this.link.target.getNodeWidth()/2+5))+" "+t.y,t.x=d.x-(this.link.target.getNodeWidth()/2+5),a=a+" L"+t.x+" "+this.link.target.y,a=a+" L"+(n.x-this.link.target.getNodeWidth()/2)+" "+this.link.target.y;!1!==d.straightArrow&&!0!==d.isSubClassOf||(a=a+" "+d.x+" "+t.y),a=a+" "+d.x+" "+d.y}}return a},UmlLinkComponent.prototype.onClick=function(e){e.stopPropagation(),null!=this.link.res&&this.linkClicked.emit(this.link)},s([n.i(r._7)(),l("design:type",r.i)],UmlLinkComponent.prototype,"linkClicked",void 0),s([n.i(r.r)("uml-link"),l("design:type",a.a)],UmlLinkComponent.prototype,"link",void 0),s([n.i(r.r)(),l("design:type",Boolean)],UmlLinkComponent.prototype,"selected",void 0),s([n.i(r.F)("textEl"),l("design:type",r.e)],UmlLinkComponent.prototype,"textElement",void 0),s([n.i(r.r)(),l("design:type",Boolean)],UmlLinkComponent.prototype,"isHideArrows",void 0),UmlLinkComponent=s([n.i(r.c)({selector:"[uml-link]",template:n(1840),styles:[n(129)]})],UmlLinkComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(294),i=n(474),a=n(11),s=n(10),l=n(91),c=n(134),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e){function UmlNodeComponent(t){var n=e.call(this,t)||this;return n.changeDetectorRef=t,n.propClicked=new r.i,n.graphMode=l.a.umlOriented,n}return p(UmlNodeComponent,e),UmlNodeComponent.prototype.ngOnInit=function(){this.initNode(),this.initMeasures()},UmlNodeComponent.prototype.ngAfterViewInit=function(){this.updateShow(),this.initPropCoord()},UmlNodeComponent.prototype.ngOnChanges=function(e){e.rendering&&!e.rendering.firstChange&&this.updateShowImpl(!0)},UmlNodeComponent.prototype.initNode=function(){this.measures=this.node.getNodeMeaseure()},UmlNodeComponent.prototype.initMeasures=function(){this.stripeHeight=18;for(var e=0,t=0,n=this.node.listPropInfo;t<n.length;t++){n[t].property.equals(a.b.subClassOf)&&e++}this.measures.height=this.stripeHeight+14*(this.node.listPropInfo.length-e)+5,this.stripePercentage=Math.ceil(100*this.stripeHeight/this.measures.height)},UmlNodeComponent.prototype.initPropCoord=function(){for(var e=0,t=0,n=this.node.listPropInfo;t<n.length;t++){var r=n[t];r.property.equals(a.b.subClassOf)?(r.x=-this.measures.width/2+3,r.y=-this.measures.height/2+3):(r.x=-this.measures.width/2+3,r.y=-this.measures.height/2+this.stripeHeight+5+14*e,e++)}},UmlNodeComponent.prototype.isSelectedProperty=function(e){return null!=this.selectedProp&&this.selectedProp.node.res.equals(this.node.res)&&this.selectedProp.prop.property.equals(e.property)&&this.selectedProp.prop.range.equals(e.range)},UmlNodeComponent.prototype.showPropSubClass=function(e){return!e.property.equals(a.b.subClassOf)},UmlNodeComponent.prototype.updateShow=function(){this.updateShowImpl(!1)},UmlNodeComponent.prototype.updateShowImpl=function(e){var t="",n=0,r="",o="",i="",l="";this.show=s.a.getRendering(this.node.res,this.rendering),this.changeDetectorRef.detectChanges();this.normalizedShow=this.show;for(var c=this.show.length;c>=0;c--)if(("/"==this.show[c]||"#"==this.show[c])&&this.show.startsWith("htt")){t=this.show.substring(this.show.length,c);break}if(null!=this.textElement){var p=this.textElement.nativeElement.getBBox().width;if(n=this.measures.width-6-14,p>n)if(p>230){n=230;var d=p/n,u=Math.floor(this.normalizedShow.length/d);this.normalizedShow=this.normalizedShow.substring(0,u),this.show.length>this.normalizedShow.length&&(this.normalizedShow=this.normalizedShow.substring(0,this.normalizedShow.length-(3+t.length))+"..."+t),e||(this.measures.width=250),n=this.measures.width-6-14}else{var f=p-this.measures.width;if(e){var d=p/n,u=Math.floor(this.normalizedShow.length/d);this.normalizedShow=this.normalizedShow.substring(0,u),this.show.length>this.normalizedShow.length&&(this.normalizedShow=this.normalizedShow.substring(0,this.normalizedShow.length-(3+t.length))+"..."+t)}else this.measures.width=this.measures.width+f+6+14}}for(var c=0;c<this.node.listPropInfo.length;c++)if(!this.node.listPropInfo[c].property.equals(a.b.subClassOf)){var h=this.node.listPropInfo[c];r=s.a.getRendering(h.property,this.rendering);for(var g=r.length;g>=0;g--)if(("/"==r[g]||"#"==r[g])&&r.startsWith("htt")){l=r.substring(r.length,g);break}o=s.a.getRendering(h.range,this.rendering);for(var m=o.length;m>=0;m--)if(("/"==o[m]||"#"==o[m])&&o.startsWith("htt")){i=o.substring(o.length,m);break}h.show=s.a.getRendering(h.property,this.rendering)+": "+s.a.getRendering(h.range,this.rendering),h.normalizedShow=h.show,this.changeDetectorRef.detectChanges();var v=document.getElementById("propTextEl"+h.id);if(null!=v){var p=v.getBBox().width,b=this.measures.width-6-12-10;if(p>b)if(p>222){e||(this.measures.width=250),b=this.measures.width-6-12-10;var d=p/b,u=Math.floor(h.normalizedShow.length/d),y=this.updatePropLenght(r,o,u,l,i);r=y.property,o=y.range,h.normalizedShow=r+": "+o}else{var f=p-this.measures.width;if(e){var d=p/b,u=Math.floor(h.normalizedShow.length/d),y=this.updatePropLenght(r,o,u,l,i);r=y.property,o=y.range,h.normalizedShow=r+": "+o}else this.measures.width=this.measures.width+f+6+12+10}}}this.changeDetectorRef.detectChanges()},UmlNodeComponent.prototype.updatePropLenght=function(e,t,n,r,o){if(e.length<t.length){var i=Math.floor(n/3);if(e.length<=i){i=2*i+(i-e.length)}else e=e.substring(0,i),e.length>r.length?e=e.substring(0,e.length-(3+r.length))+"..."+r:e.length==r.length?e=r:(e=r,e.length>3?e=e.substring(0,e.length-3)+"...":3==e.length?e=e.substring(0,e.length-2)+"..":2==e.length&&(e=e.substring(0,e.length-1)+".")),i*=2;t.length>i-2&&(t=t.substring(0,i-2),t.length>o.length?t=t.substring(0,i-2-(3+o.length))+"..."+o:t.length==o.length?t=o:(t=o,t.length>3?t=t.substring(0,t.length-3)+"...":3==t.length?t=t.substring(0,t.length-1)+".":2==t.length&&(t=t.substring(0,t.length-1)+".")))}else if(e.length==t.length){var i=Math.floor(n/2);e.length>i&&t.length>i&&(e=e.substring(0,i),t=e.substring(0,i-2),e.length>r.length?e=e.substring(0,e.length-(3+r.length))+"..."+r:e.length==r.length?e=r:(e=r,e.length>3?e=e.substring(0,e.length-3)+"...":3==e.length?e=e.substring(0,e.length-2)+"..":2==e.length&&(e=e.substring(0,e.length-1)+".")),t.length>o.length?t=t.substring(0,t.length-(3+o.length))+"..."+o:t.length==o.length?t=o:(t=o,t.length>3?t=t.substring(0,t.length-3)+"...":3==t.length?t=t.substring(0,t.length-2)+"..":2==t.length&&(t=t.substring(0,t.length-1)+".")))}else{var i=Math.floor(n/3);if(t.length<=i){var a=i-t.length;i=2*i+a}else t=t.substring(0,i),t.length>o.length?t=t.substring(0,t.length-(3+o.length))+"..."+o:t.length==o.length?t=o:(t=o,t.length>3?t=t.substring(0,t.length-3)+"...":3==t.length?t=t.substring(0,t.length-2)+"..":2==t.length&&(t=t.substring(0,t.length-1)+".")),i*=2;e.length>i-2&&(e=e.substring(0,i-2),e.length>r.length?e=e.substring(0,i-2-(3+r.length))+"..."+r:e.length==r.length?e=r:(e=r,e.length>3?e=e.substring(0,e.length-3)+"...":3==e.length?e=e.substring(0,e.length-1)+".":2==e.length&&(e=e.substring(0,e.length-1)+".")))}return{property:e,range:t}},UmlNodeComponent.prototype.onClickClass=function(){this.nodeClicked.emit(this.node)},UmlNodeComponent.prototype.onClickProp=function(e){this.propClicked.emit(e)},d([n.i(r.r)(),u("design:type",c.b)],UmlNodeComponent.prototype,"graph",void 0),d([n.i(r.r)(),u("design:type",i.a)],UmlNodeComponent.prototype,"selectedProp",void 0),d([n.i(r.r)("umlNode"),u("design:type",i.b)],UmlNodeComponent.prototype,"node",void 0),d([n.i(r._7)(),u("design:type",r.i)],UmlNodeComponent.prototype,"propClicked",void 0),d([n.i(r.F)("textEl"),u("design:type",r.e)],UmlNodeComponent.prototype,"textElement",void 0),UmlNodeComponent=d([n.i(r.c)({selector:"[umlNode]",template:n(1841),styles:[n(129)]}),u("design:paramtypes",[r.D])],UmlNodeComponent)}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(22),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=function(){function ForceControlPanel(){this.propagateChange=function(e){}}return e=ForceControlPanel,ForceControlPanel.prototype.onForceChange=function(){this.propagateChange(this.forces)},ForceControlPanel.prototype.writeValue=function(e){e&&(this.forces=e)},ForceControlPanel.prototype.registerOnChange=function(e){this.propagateChange=e},ForceControlPanel.prototype.registerOnTouched=function(e){},ForceControlPanel=e=i([n.i(r.c)({selector:"force-control-panel",template:n(1845),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]})],ForceControlPanel);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(3),i=n(13),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function ResourceDetailsPanel(e){this.sharedModals=e}return ResourceDetailsPanel.prototype.showResourceView=function(){this.sharedModals.openResourceView(this.resource,!1)},a([n.i(r.r)(),s("design:type",o.m)],ResourceDetailsPanel.prototype,"resource",void 0),ResourceDetailsPanel=a([n.i(r.c)({selector:"resource-details-panel",template:n(1846),host:{class:"vbox"}}),s("design:paramtypes",[i.a])],ResourceDetailsPanel)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(4),i=n(10),a=n(2),s=n(13),l=n(479),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function HistoryFilterComponent(e,t,n){this.modal=e,this.sharedModals=t,this.basicModals=n,this.apply=new r.i}return HistoryFilterComponent.prototype.ngOnInit=function(){null==this.operations&&(this.operations=[])},HistoryFilterComponent.prototype.selectOperationFilter=function(){var e=this,t=new o.b,n={context:t.keyboard(27).toJSON()};return this.modal.open(l.a,n).result.then(function(t){t.forEach(function(t){i.a.containsNode(e.operations,t)||e.operations.push(t)})},function(){})},HistoryFilterComponent.prototype.removeOperationFilter=function(e){this.operations.splice(this.operations.indexOf(e),1)},HistoryFilterComponent.prototype.selectOperationPerformer=function(){var e=this;this.sharedModals.selectUser("Select User",!0).then(function(t){for(var n=0;n<e.performers.length;n++)if(e.performers[n].getIri()==t.getIri())return;e.performers.push(t)},function(){})},HistoryFilterComponent.prototype.removeOperationPerformer=function(e){this.performers.splice(this.performers.indexOf(e),1)},HistoryFilterComponent.prototype.applyFilter=function(){var e=new RegExp("^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}$");return null==this.fromTime||e.test(this.fromTime)?null==this.toTime||e.test(this.toTime)?void this.apply.emit({operations:this.operations,performers:this.performers,fromTime:this.fromTime,toTime:this.toTime}):void this.basicModals.alert("Invalid time","'To' time parameter does not comply with the datetime format yyyy-MM-ddThh:mm","error"):void this.basicModals.alert("Invalid time","'From' time parameter does not comply with the datetime format yyyy-MM-ddThh:mm","error")},c([n.i(r.r)(),p("design:type",Array)],HistoryFilterComponent.prototype,"operations",void 0),c([n.i(r.r)(),p("design:type",Array)],HistoryFilterComponent.prototype,"performers",void 0),c([n.i(r.r)(),p("design:type",String)],HistoryFilterComponent.prototype,"fromTime",void 0),c([n.i(r.r)(),p("design:type",String)],HistoryFilterComponent.prototype,"toTime",void 0),c([n.i(r.r)(),p("design:type",Boolean)],HistoryFilterComponent.prototype,"hidePerformers",void 0),c([n.i(r._7)(),p("design:type",r.i)],HistoryFilterComponent.prototype,"apply",void 0),HistoryFilterComponent=c([n.i(r.c)({selector:"history-filter",template:n(1847)}),p("design:paramtypes",[o.c,s.a,a.a])],HistoryFilterComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(3),i=n(11),a=n(7),s=n(6),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function IcvConfigPanelComponent(){this.checkRoles=!1,this.checkLanguages=!1,this.rolesChange=new r.i,this.langsChange=new r.i,this.configPanelOpen=!0}return IcvConfigPanelComponent.prototype.ngOnInit=function(){if(this.checkLanguages){this.languages=[];for(var e=s.a.getWorkingProjectCtx().getProjectSettings().projectLanguagesSetting,t=0;t<e.length;t++)this.languages.push({lang:e[t],check:e[t].mandatory});this.onLangsChange()}if(this.checkRoles){var n=s.a.getWorkingProject().getModelType();this.roles=[{role:o.c.concept,show:"Concept",img:a.a.getRoleImageSrc(o.c.concept),check:n==i.d.uri},{role:o.c.conceptScheme,show:"ConceptScheme",img:a.a.getRoleImageSrc(o.c.conceptScheme),check:n==i.d.uri},{role:o.c.skosCollection,show:"Collection",img:a.a.getRoleImageSrc(o.c.skosCollection),check:!1},{role:o.c.cls,show:"Class",img:a.a.getRoleImageSrc(o.c.cls),check:n==i.c.uri},{role:o.c.individual,show:"Individual",img:a.a.getRoleImageSrc(o.c.individual),check:!1},{role:o.c.property,show:"Property",img:a.a.getRoleImageSrc(o.c.property),check:!1}],this.onRolesChange()}},IcvConfigPanelComponent.prototype.checkAllRoles=function(e){for(var t=0;t<this.roles.length;t++)this.roles[t].check=e;this.onRolesChange()},IcvConfigPanelComponent.prototype.checkAllLangs=function(e){for(var t=0;t<this.languages.length;t++)this.languages[t].check=e;this.onLangsChange()},IcvConfigPanelComponent.prototype.checkAllLangsMandatory=function(){for(var e=0;e<this.languages.length;e++)this.languages[e].check=this.languages[e].lang.mandatory;this.onLangsChange()},IcvConfigPanelComponent.prototype.onLangsChange=function(){for(var e=[],t=0;t<this.languages.length;t++)this.languages[t].check&&e.push(this.languages[t].lang.tag);this.langsChange.emit(e)},IcvConfigPanelComponent.prototype.onRolesChange=function(){for(var e=[],t=0;t<this.roles.length;t++)this.roles[t].check&&e.push(this.roles[t].role);this.rolesChange.emit(e)},l([n.i(r.r)(),c("design:type",Boolean)],IcvConfigPanelComponent.prototype,"checkRoles",void 0),l([n.i(r.r)(),c("design:type",Boolean)],IcvConfigPanelComponent.prototype,"checkLanguages",void 0),l([n.i(r._7)(),c("design:type",r.i)],IcvConfigPanelComponent.prototype,"rolesChange",void 0),l([n.i(r._7)(),c("design:type",r.i)],IcvConfigPanelComponent.prototype,"langsChange",void 0),IcvConfigPanelComponent=l([n.i(r.c)({selector:"icv-config-panel",template:n(1864),styles:[".configPanel { max-height: 170px }"]}),c("design:paramtypes",[])],IcvConfigPanelComponent)}();(function(){function LanguageCheckItem(){}})(),function(){function RoleCheckItem(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(46),o=n(244),i=n(493),a=n(494),s=n(487),l=n(501),c=n(502),p=n(505),d=n(492),u=n(498),f=n(503),h=n(504),g=n(485),m=n(499),v=n(491),b=n(488),y=n(500),x=n(496),C=n(489),R=n(490),S=n(497),P=n(486),E=n(483),w=n(484),I=n(495),A=[{path:"Icv",component:i.a,canActivate:[o.c,o.d],children:[{path:"",component:a.a,canActivate:[o.c,o.d]},{path:"DanglingConcept",component:s.a,canActivate:[o.c,o.d]},{path:"NoSchemeConcept",component:l.a,canActivate:[o.c,o.d]},{path:"NoTopConceptScheme",component:c.a,canActivate:[o.c,o.d]},{path:"TopConceptWithBroader",component:p.a,canActivate:[o.c,o.d]},{path:"DisjointRelatedConcept",component:R.a,canActivate:[o.c,o.d]},{path:"DisjointExactMatchConcept",component:C.a,canActivate:[o.c,o.d]},{path:"HierarchicalRedundancy",component:d.a,canActivate:[o.c,o.d]},{path:"HierarchicalCycle",component:P.a,canActivate:[o.c,o.d]},{path:"NoLabelResource",component:u.a,canActivate:[o.c,o.d]},{path:"OnlyAltLabelResource",component:f.a,canActivate:[o.c,o.d]},{path:"OverlappedLabelResource",component:h.a,canActivate:[o.c,o.d]},{path:"ConflictualLabelResource",component:g.a,canActivate:[o.c,o.d]},{path:"NoLangLabelResource",component:m.a,canActivate:[o.c,o.d]},{path:"ExtraSpaceLabelResource",component:v.a,canActivate:[o.c,o.d]},{path:"NoMandatoryLabelResource",component:y.a,canActivate:[o.c,o.d]},{path:"MutliplePrefLabelResource",component:x.a,canActivate:[o.c,o.d]},{path:"DanglingXLabel",component:b.a,canActivate:[o.c,o.d]},{path:"NoDefinitionResource",component:S.a,canActivate:[o.c,o.d]},{path:"BrokenAlignment",component:E.a,canActivate:[o.c,o.d]},{path:"BrokenDefinition",component:w.a,canActivate:[o.c,o.d]},{path:"InvalidURI",component:I.a,canActivate:[o.c,o.d]}]}],_=r.a.forChild(A)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(76),a=n(11),s=n(110),l=n(10),c=n(2),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function DatasetMetadataComponent(e,t){this.metadataRegistryService=e,this.basicModals=t,this.version=!1,this.update=new r.i,this.dereferUnknown="Unknown",this.dereferYes="Yes",this.dereferNo="No",this.dereferenciationValues=[this.dereferUnknown,this.dereferYes,this.dereferNo]}return DatasetMetadataComponent.prototype.ngOnChanges=function(e){e.dataset&&e.dataset.currentValue&&(null==this.dataset.dereferenciationSystem?this.dereferenciationNormalized=this.dereferUnknown:this.dataset.dereferenciationSystem==a.a.standardDereferenciation?this.dereferenciationNormalized=this.dereferYes:this.dataset.dereferenciationSystem==a.a.noDereferenciation?this.dereferenciationNormalized=this.dereferNo:(this.dereferenciationValues.push(this.dataset.dereferenciationSystem),this.dereferenciationNormalized=this.dataset.dereferenciationSystem),this.sparqlLimitations=!1,null!=this.dataset.sparqlEndpointMetadata.limitations&&(this.sparqlLimitations=-1!=this.dataset.sparqlEndpointMetadata.limitations.indexOf("<"+a.a.noAggregation+">")))},DatasetMetadataComponent.prototype.updateTitle=function(e){var t=this,n=null;null!=e&&""!=e.trim()&&(n=e),this.metadataRegistryService.setTitle(new o.b(this.dataset.identity),n).subscribe(function(e){t.update.emit()})},DatasetMetadataComponent.prototype.updateSparqlEndpoint=function(e){var t,n=this;if(null!=e&&""!=e.trim()){if(!l.a.testIRI(e)){this.basicModals.alert("Invalid SPARQL Endpoint",e+" is not a valid IRI","warning");var r=this.dataset.sparqlEndpointMetadata.id;return this.dataset.sparqlEndpointMetadata.id="nullnew",void setTimeout(function(){n.dataset.sparqlEndpointMetadata.id=r})}t=new o.b(e)}this.metadataRegistryService.setSPARQLEndpoint(new o.b(this.dataset.identity),t).subscribe(function(e){n.update.emit()})},DatasetMetadataComponent.prototype.updateDerefSystem=function(e){var t,n=this;if(e==this.dereferUnknown)t=null,null;else if(e==this.dereferYes)t=!0,a.a.standardDereferenciation;else{if(e!=this.dereferNo)return;t=!1,a.a.noDereferenciation}this.metadataRegistryService.setDereferenciability(new o.b(this.dataset.identity),t).subscribe(function(e){n.update.emit()})},DatasetMetadataComponent.prototype.updateSparqlLimitations=function(){var e=this;this.sparqlLimitations?this.metadataRegistryService.setSPARQLEndpointLimitation(new o.b(this.dataset.sparqlEndpointMetadata.id),new o.b(a.a.noAggregation)).subscribe(function(t){e.update.emit()}):this.metadataRegistryService.removeSPARQLEndpointLimitation(new o.b(this.dataset.sparqlEndpointMetadata.id),new o.b(a.a.noAggregation)).subscribe(function(t){e.update.emit()})},p([n.i(r.r)(),d("design:type",i.h)],DatasetMetadataComponent.prototype,"dataset",void 0),p([n.i(r.r)(),d("design:type",Boolean)],DatasetMetadataComponent.prototype,"version",void 0),p([n.i(r._7)(),d("design:type",Object)],DatasetMetadataComponent.prototype,"update",void 0),DatasetMetadataComponent=p([n.i(r.c)({selector:"dataset-metadata",template:n(1877)}),d("design:paramtypes",[s.a,c.a])],DatasetMetadataComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(76),a=n(11),s=n(110),l=n(10),c=n(2),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function LexicalizationSetMetadataComponent(e,t){this.metadataRegistryService=e,this.basicModals=t,this.lexicalModelMap=[{iri:a.b.uri,label:"RDFS"},{iri:a.d.uri,label:"SKOS"},{iri:a.e.uri,label:"SKOSXL"},{iri:a.f.uri,label:"OntoLex"}],this.lexicalModelOpts=["RDFS","SKOS","SKOSXL","OntoLex"]}return LexicalizationSetMetadataComponent.prototype.ngOnChanges=function(e){var t=this;e.lexicalizationSetMetadata&&e.lexicalizationSetMetadata.currentValue&&(this.lexiconDataset=this.lexicalizationSetMetadata.lexiconDataset,this.lexicalModelMap.forEach(function(e){t.lexicalizationSetMetadata.lexicalizationModel==e.iri&&(t.lexicalizationModel=e.label)}),this.language=this.lexicalizationSetMetadata.language,this.references=this.lexicalizationSetMetadata.references,this.lexicalEntries=this.lexicalizationSetMetadata.lexicalEntries,this.lexicalizations=this.lexicalizationSetMetadata.lexicalizations,this.percentage=this.lexicalizationSetMetadata.percentage,this.avgNumOfLexicalizations=this.lexicalizationSetMetadata.avgNumOfLexicalizations)},LexicalizationSetMetadataComponent.prototype.updateLexiconDataset=function(e){var t=this;e!=this.lexiconDataset&&(l.a.testIRI(e)?(this.lexiconDataset=e,this.updateLexicalizationSetMetadata()):(this.basicModals.alert("Invalid data","'"+e+"' is not a valid IRI","warning"),this.lexiconDataset=e,setTimeout(function(){t.lexiconDataset=t.lexicalizationSetMetadata.lexiconDataset})))},LexicalizationSetMetadataComponent.prototype.updateLexicalizationModel=function(e){e!=this.lexicalizationModel&&(this.lexicalizationModel=e,this.updateLexicalizationSetMetadata())},LexicalizationSetMetadataComponent.prototype.updateLanguage=function(e){var t=this;if(e!=this.language){new RegExp("^[a-z]{2,3}(?:-[A-Z]{2,3}(?:-[a-zA-Z]{4})?)?$").test(e)?(this.language=e,this.updateLexicalizationSetMetadata()):(this.basicModals.alert("Invalid data","'"+this.language+"' is not a valid language tag","warning"),this.language=e,setTimeout(function(){t.language=t.lexicalizationSetMetadata.language}))}},LexicalizationSetMetadataComponent.prototype.updateReferences=function(e){e!=this.references&&(this.references=e,this.updateLexicalizationSetMetadata())},LexicalizationSetMetadataComponent.prototype.updateLexicalEntries=function(e){e!=this.references&&(this.lexicalEntries=e,this.updateLexicalizationSetMetadata())},LexicalizationSetMetadataComponent.prototype.updateLexicalizations=function(e){e!=this.references&&(this.lexicalizations=e,this.updateLexicalizationSetMetadata())},LexicalizationSetMetadataComponent.prototype.updatePercentage=function(e){e!=this.references&&(this.percentage=e,this.updateLexicalizationSetMetadata())},LexicalizationSetMetadataComponent.prototype.updateAvgNumOfLexicalizations=function(e){e!=this.references&&(this.avgNumOfLexicalizations=e,this.updateLexicalizationSetMetadata())},LexicalizationSetMetadataComponent.prototype.updateLexicalizationSetMetadata=function(){var e=this;this.metadataRegistryService.deleteEmbeddedLexicalizationSet(new o.b(this.lexicalizationSetMetadata.identity)).subscribe(function(t){var n;e.lexicalModelMap.forEach(function(t){e.lexicalizationModel==t.label&&(n=t.iri)});var r;null!=e.lexiconDataset&&(r=new o.b(e.lexiconDataset)),e.metadataRegistryService.addEmbeddedLexicalizationSet(new o.b(e.dataset.identity),new o.b(n),e.language,new o.b(e.lexicalizationSetMetadata.identity),r,e.references,e.lexicalEntries,e.lexicalizations,e.percentage,e.avgNumOfLexicalizations).subscribe(function(t){e.lexicalizationSetMetadata.lexiconDataset=e.lexiconDataset,e.lexicalizationSetMetadata.lexicalizationModel=n,e.lexicalizationSetMetadata.language=e.language,e.lexicalizationSetMetadata.references=e.references,e.lexicalizationSetMetadata.lexicalEntries=e.lexicalEntries,e.lexicalizationSetMetadata.lexicalizations=e.lexicalizations,e.lexicalizationSetMetadata.percentage=e.percentage,e.lexicalizationSetMetadata.avgNumOfLexicalizations=e.avgNumOfLexicalizations})})},p([n.i(r.r)(),d("design:type",i.h)],LexicalizationSetMetadataComponent.prototype,"dataset",void 0),p([n.i(r.r)(),d("design:type",i.j)],LexicalizationSetMetadataComponent.prototype,"lexicalizationSetMetadata",void 0),LexicalizationSetMetadataComponent=p([n.i(r.c)({selector:"lexicalization-set-metadata",template:n(1878)}),d("design:paramtypes",[s.a,c.a])],LexicalizationSetMetadataComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function ImportTreeComponent(){this.nodeRemoved=new r.i,this.update=new r.i}return ImportTreeComponent.prototype.ngOnChanges=function(e){if(e.imports&&e.imports.currentValue)for(var t=0;t<this.imports.length;t++)this.imports[t].root=!0},ImportTreeComponent.prototype.onNodeRemoved=function(e){this.nodeRemoved.emit(e)},ImportTreeComponent.prototype.onUpdate=function(){this.update.emit()},o([n.i(r.r)(),i("design:type",Array)],ImportTreeComponent.prototype,"imports",void 0),o([n.i(r._7)(),i("design:type",Object)],ImportTreeComponent.prototype,"nodeRemoved",void 0),o([n.i(r._7)(),i("design:type",Object)],ImportTreeComponent.prototype,"update",void 0),ImportTreeComponent=o([n.i(r.c)({selector:"import-tree",template:n(1886)}),i("design:paramtypes",[])],ImportTreeComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(4),i=n(76),a=n(161),s=n(17),l=n(7),c=n(20),p=n(298),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function ImportTreeNodeComponent(e,t){this.metadataService=e,this.modal=t,this.nodeRemoved=new r.i,this.update=new r.i,this.open=!0}return ImportTreeNodeComponent.prototype.removeImport=function(){this.nodeRemoved.emit(this.import)},ImportTreeNodeComponent.prototype.repairFromLocalFile=function(){var e=this;this.openImportModal("Repair failed import from local file",i.f.fromLocalFile).then(function(t){l.a.startLoadingDiv(l.a.blockDivFullScreen),e.metadataService.getFromLocalFile(t.baseURI,t.localFile,t.mirrorFile,t.transitiveImportAllowance).subscribe(function(t){l.a.stopLoadingDiv(l.a.blockDivFullScreen),e.update.emit()})},function(){})},ImportTreeNodeComponent.prototype.repairFromWeb=function(){var e=this;this.openImportModal("Repair failed import from web",i.f.fromWeb).then(function(t){l.a.startLoadingDiv(l.a.blockDivFullScreen),e.metadataService.downloadFromWeb(t.baseURI,t.transitiveImportAllowance,t.altURL,t.rdfFormat).subscribe(function(t){l.a.stopLoadingDiv(l.a.blockDivFullScreen),e.update.emit()})},function(){})},ImportTreeNodeComponent.prototype.repairFromWebToMirror=function(){var e=this;this.openImportModal("Repair failed import from web to mirror",i.f.fromWebToMirror).then(function(t){l.a.startLoadingDiv(l.a.blockDivFullScreen),e.metadataService.downloadFromWebToMirror(t.baseURI,t.mirrorFile,t.transitiveImportAllowance,t.altURL,t.rdfFormat).subscribe(function(t){l.a.stopLoadingDiv(l.a.blockDivFullScreen),e.update.emit()})},function(){})},ImportTreeNodeComponent.prototype.openImportModal=function(e,t){var n=new p.a(e,t,this.import.id),r=new o.b(n,void 0,p.a),i={context:r.keyboard(27).toJSON()};return this.modal.open(p.b,i).result},ImportTreeNodeComponent.prototype.onNodeRemoved=function(e){this.nodeRemoved.emit(e)},ImportTreeNodeComponent.prototype.onUpdate=function(){this.update.emit()},ImportTreeNodeComponent.prototype.isDeleteImportAuthorized=function(){return s.a.isAuthorized(c.a.metadataRemoveImport)},d([n.i(r.r)(),u("design:type",i.i)],ImportTreeNodeComponent.prototype,"import",void 0),d([n.i(r._7)(),u("design:type",Object)],ImportTreeNodeComponent.prototype,"nodeRemoved",void 0),d([n.i(r._7)(),u("design:type",Object)],ImportTreeNodeComponent.prototype,"update",void 0),ImportTreeNodeComponent=d([n.i(r.c)({selector:"import-tree-node",template:n(1887)}),u("design:paramtypes",[a.a,o.c])],ImportTreeNodeComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r;!function(e){e.completed="completed",e.execution="execution",e.error="error"}(r||(r={}));var o;!function(e){e.html="html",e.pdf="pdf",e.json="json"}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(34),o=n(0),i=n(22),a=n(409),s=n(959),l=n(410),c=n(411),p=n(960),d=n(412),u=n(961),f=n(962),h=n(413),g=n(414),m=n(415),v=n(416),b=n(291),y=n(417),x=n(418),C=n(963),R=n(419),S=n(48),P=n(301),E=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(){function AdministrationModule(){}return AdministrationModule=E([n.i(o.b)({imports:[r.a,i.a,s.a,S.a,P.a],declarations:[a.a,c.a,p.a,d.a,u.a,f.a,v.a,b.a,R.a,C.a,g.a,y.a,l.a,m.a,x.a,h.a],exports:[a.a],providers:[],entryComponents:[g.a,y.a,l.a,m.a,x.a,h.a]})],AdministrationModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(34),o=n(0),i=n(22),a=n(964),s=n(965),l=n(966),c=n(421),p=n(422),d=n(967),u=n(968),f=n(424),h=n(425),g=n(426),m=n(48),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=function(){function AlignmentModule(){}return AlignmentModule=v([n.i(o.b)({imports:[r.a,i.a,m.a],declarations:[c.a,a.a,s.a,l.a,p.a,d.a,u.a,h.a,f.a,g.a],exports:[s.a],providers:[],entryComponents:[p.a,g.a,f.a,h.a]})],AlignmentModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(34),o=n(0),i=n(22),a=n(432),s=n(292),l=n(433),c=n(434),p=n(436),d=n(435),u=n(437),f=n(438),h=n(48),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=function(){function CollaborationModule(){}return CollaborationModule=g([n.i(o.b)({imports:[r.a,i.a,h.a],declarations:[a.a,l.a,c.a,p.a,d.a,u.a,f.a],exports:[a.a],providers:[s.a],entryComponents:[c.a,p.a,d.a,u.a,f.a]})],CollaborationModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n(34),o=n(0),i=n(22),a=n(455),s=n(976),l=n(977),c=n(978),p=n(456),d=n(457),u=n(458),f=n(459),h=n(179),g=n(979),m=n(980),v=n(981),b=n(460),y=n(228),x=n(461),C=n(462),R=n(982),S=n(48),P=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},E=function(){function CustomServicesModule(){}return CustomServicesModule=P([n.i(o.b)({imports:[r.a,i.a,S.a],declarations:[p.a,s.a,d.a,u.a,c.a,a.a,l.a,f.a,v.a,m.a,b.a,x.a,R.a,C.a,g.a],exports:[a.a],providers:[h.a,y.a],entryComponents:[p.a,d.a,u.a,f.a,b.a,x.a,C.a]})],CustomServicesModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(34),o=n(0),i=n(22),a=n(293),s=n(972),l=n(48),c=n(439),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(){function DatasetCatalogModule(){}return DatasetCatalogModule=p([n.i(o.b)({imports:[r.a,i.a,l.a],declarations:[s.a,a.b,c.b],exports:[],providers:[],entryComponents:[a.b,c.b]})],DatasetCatalogModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(34),o=n(0),i=n(22),a=n(465),s=n(48),l=n(184),c=n(464),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(){function EdoalModule(){}return EdoalModule=p([n.i(o.b)({imports:[r.a,i.a,s.a,l.a],declarations:[c.b,a.a],exports:[],providers:[],entryComponents:[c.b]})],EdoalModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(34),o=n(0),i=n(22),a=n(133),s=n(983),l=n(984),c=n(466),p=n(985),d=n(986),u=n(987),f=n(467),h=n(988),g=n(989),m=n(296),v=n(469),b=n(68),y=n(470),x=n(993),C=n(994),R=n(468),S=n(990),P=n(991),E=n(992),w=n(232),I=n(48),A=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_=function(){function GraphModule(){}return GraphModule=A([n.i(o.b)({imports:[r.a,i.a,I.a,w.a],declarations:[u.a,g.a,d.a,s.a,l.a,h.a,p.a,f.a,c.a,x.a,C.a,R.a,S.a,E.a,P.a,v.b,y.b,m.a],exports:[],providers:[a.a,b.a],entryComponents:[v.b,y.b,m.a]})],GraphModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(34),o=n(0),i=n(22),a=n(477),s=n(476),l=n(995),c=n(478),p=n(479),d=n(480),u=n(481),f=n(48),h=n(180),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=function(){function HistoryValidationModule(){}return HistoryValidationModule=g([n.i(o.b)({imports:[r.a,i.a,f.a],declarations:[s.a,u.a,l.a,p.a,a.b,c.b,d.b],exports:[s.a,u.a],providers:[h.a],entryComponents:[p.a,a.b,c.b,d.b]})],HistoryValidationModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n(34),o=n(0),i=n(22),a=n(483),s=n(484),l=n(485),c=n(486),p=n(487),d=n(488),u=n(489),f=n(490),h=n(491),g=n(492),m=n(493),v=n(996),b=n(494),y=n(997),x=n(495),C=n(496),R=n(497),S=n(498),P=n(499),E=n(500),w=n(501),I=n(502),A=n(503),_=n(504),L=n(505),M=n(48),k=n(184),O=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N=function(){function ICVModule(){}return ICVModule=O([n.i(o.b)({imports:[r.a,i.a,M.a,k.a,y.a],declarations:[m.a,b.a,p.a,w.a,I.a,L.a,u.a,f.a,h.a,c.a,g.a,S.a,A.a,_.a,P.a,d.a,E.a,C.a,R.a,a.a,s.a,x.a,l.a,v.a],exports:[m.a],providers:[]})],ICVModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return R});var r=n(34),o=n(0),i=n(22),a=n(998),s=n(999),l=n(506),c=n(297),p=n(507),d=n(508),u=n(509),f=n(510),h=n(298),g=n(1e3),m=n(1001),v=n(511),b=n(512),y=n(519),x=n(48),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=function(){function MetadataModule(){}return MetadataModule=C([n.i(o.b)({imports:[r.a,i.a,x.a,y.a],declarations:[u.a,v.a,l.a,a.a,s.a,g.a,m.a,h.b,f.b,b.a,c.b,p.b,d.b],exports:[],providers:[],entryComponents:[h.b,f.b,b.a,c.b,p.b,d.b]})],MetadataModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(34),o=n(0),i=n(22),a=n(521),s=n(520),l=n(232),c=n(48),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(){function NotificationsModule(){}return NotificationsModule=p([n.i(o.b)({imports:[r.a,i.a,c.a,l.a],declarations:[a.a,s.a],exports:[],providers:[],entryComponents:[s.a]})],NotificationsModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(34),o=n(0),i=n(22),a=n(524),s=n(233),l=n(526),c=n(527),p=n(528),d=n(529),u=n(530),f=n(531),h=n(532),g=n(533),m=n(48),v=n(525),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=function(){function ProjectModule(){}return ProjectModule=b([n.i(o.b)({imports:[r.a,i.a,m.a],declarations:[a.a,l.a,s.b,f.b,h.b,v.a,c.b,p.a,d.b,u.a,g.b],exports:[l.a],providers:[],entryComponents:[s.b,f.b,h.b,v.a,c.b,p.a,d.b,u.a,g.b]})],ProjectModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(34),o=n(0),i=n(22),a=n(534),s=n(535),l=n(536),c=n(302),p=n(537),d=n(538),u=n(48),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(){function ResourceMetadataModule(){}return ResourceMetadataModule=f([n.i(o.b)({imports:[r.a,i.a,u.a],providers:[],declarations:[a.b,d.a,s.b,l.b,c.b,p.b],exports:[d.a],entryComponents:[a.b,s.b,l.b,c.b,p.b]})],ResourceMetadataModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(34),o=n(0),i=n(22),a=n(46),s=n(567),l=n(1070),c=n(1071),p=n(1072),d=n(568),u=n(239),f=n(569),h=n(570),g=n(571),m=n(572),v=n(48),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=function(){function Sheet2RdfModule(){}return Sheet2RdfModule=b([n.i(o.b)({imports:[r.a,i.a,a.a,v.a],declarations:[m.a,l.a,p.a,c.a,d.b,g.b,h.b,s.b,u.b,f.b],exports:[m.a],entryComponents:[d.b,g.b,h.b,s.b,u.b,f.b]})],Sheet2RdfModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(34),o=n(0),i=n(22),a=n(576),s=n(577),l=n(578),c=n(1075),p=n(1076),d=n(48),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(){function SparqlModule(){}return SparqlModule=u([n.i(o.b)({imports:[r.a,i.a,d.a],declarations:[l.a,c.a,p.a,a.a,s.a],exports:[l.a],providers:[],entryComponents:[a.a,s.a]})],SparqlModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return re});var r=n(0),o=n(153),i=n(83),a=n(120),s=n(158),l=n(106),c=n(185),p=n(107),d=n(93),u=n(16),f=n(159),h=n(562),g=n(563),m=n(108),v=n(235),b=n(109),y=n(94),x=n(236),C=n(305),R=n(50),S=n(160),P=n(136),E=n(186),w=n(121),I=n(187),A=n(110),_=n(161),L=n(188),M=n(70),k=n(237),O=n(306),N=n(71),T=n(54),D=n(23),j=n(162),F=n(189),U=n(307),V=n(163),G=n(12),B=n(190),z=n(51),H=n(564),W=n(164),q=n(238),$=n(137),Y=n(308),X=n(33),K=n(111),Q=n(191),J=n(55),Z=n(192),ee=n(565),te=n(193),ne=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},re=function(){function STServicesModule(){}return STServicesModule=ne([n.i(r.b)({imports:[o.e],declarations:[],exports:[],providers:[i.a,a.a,s.a,l.a,c.a,p.a,d.a,u.a,f.a,m.a,h.a,g.a,v.a,b.a,y.a,x.a,C.a,R.a,S.a,P.a,E.a,w.a,I.a,_.a,A.a,L.a,M.a,k.a,O.a,N.a,T.a,D.a,j.a,F.a,U.a,V.a,G.a,B.a,z.a,H.a,W.a,q.a,$.a,X.a,Y.a,K.a,Q.a,J.a,Z.a,ee.a,te.a]})],STServicesModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return me});var r=n(34),o=n(0),i=n(22),a=n(423),s=n(427),l=n(428),c=n(429),p=n(430),d=n(431),u=n(441),f=n(444),h=n(513),g=n(566),m=n(627),v=n(628),b=n(629),y=n(2),x=n(630),C=n(631),R=n(632),S=n(633),P=n(634),E=n(635),w=n(636),I=n(637),A=n(638),_=n(639),L=n(14),M=n(640),k=n(641),O=n(642),N=n(643),T=n(644),D=n(645),j=n(646),F=n(311),U=n(647),V=n(648),G=n(25),B=n(649),z=n(1093),H=n(650),W=n(651),q=n(652),$=n(653),Y=n(654),X=n(655),K=n(656),Q=n(1094),J=n(657),Z=n(658),ee=n(659),te=n(660),ne=n(661),re=n(662),oe=n(663),ie=n(664),ae=n(665),se=n(666),le=n(667),ce=n(13),pe=n(668),de=n(518),ue=n(48),fe=n(184),he=n(301),ge=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},me=function(){function VBModalModule(){}return VBModalModule=ge([n.i(o.b)({imports:[r.a,i.a,ue.a,fe.a,de.a,he.a],declarations:[v.b,b.b,c.a,p.a,M.b,k.b,O.b,N.b,x.b,C.b,te.b,I.b,T.b,R.b,f.b,z.a,S.b,u.b,m.a,D.b,re.b,j.b,F.b,Z.b,g.a,oe.b,a.a,Y.b,X.b,H.b,W.b,B.b,q.b,$.b,J.b,K.b,ie.b,h.b,P.b,E.b,w.b,U.b,ae.a,se.b,d.a,le.b,A.b,V.b,Q.a,_.b,ne.b,ee.b,pe.b,s.a,l.a],exports:[],providers:[y.a,L.a,G.a,ce.a],entryComponents:[v.b,b.b,c.a,p.a,M.b,k.b,O.b,N.b,x.b,C.b,te.b,I.b,T.b,R.b,f.b,S.b,u.b,m.a,D.b,re.b,j.b,F.b,Z.b,g.a,oe.b,a.a,Y.b,X.b,H.b,W.b,B.b,q.b,$.b,J.b,K.b,ie.b,h.b,P.b,E.b,w.b,U.b,ae.a,se.b,d.a,le.b,A.b,V.b,_.b,ne.b,ee.b,pe.b,s.a,l.a]})],VBModalModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function LanguagePreferencesComponent(){this.panels=["rendering","editing","valuefilter"],this.activePanel=this.panels[0]}return LanguagePreferencesComponent=o([n.i(r.c)({selector:"lang-pref",template:n(1893)}),i("design:paramtypes",[])],LanguagePreferencesComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(66),i=n(6),a=n(21),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function LanguageEditingComponent(e){this.properties=e,this.languages=[]}return LanguageEditingComponent.prototype.ngOnInit=function(){var e=i.a.getProjectUserBinding().getLanguages();0==e.length&&i.a.getLoggedUser().isAdmin()?this.languages=i.a.getWorkingProjectCtx().getProjectSettings().projectLanguagesSetting:this.languages=o.a.fromTagsToLanguages(e);var t=i.a.getWorkingProjectCtx().getProjectPreferences().editingLanguage;this.editingLang=this.languages.find(function(e){return e.tag==t})},LanguageEditingComponent.prototype.updateDefaultLang=function(e){this.editingLang=e,this.properties.setEditingLanguage(this.editingLang.tag)},LanguageEditingComponent=s([n.i(r.c)({selector:"lang-editing-pref",template:n(1894)}),l("design:paramtypes",[a.a])],LanguageEditingComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(6),i=n(21),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function LanguageRenderingComponent(e){this.properties=e,this.sortOrder=c.ISO_CODE_ASCENDING,this.renderingLanguages=[],this.activeLangs=0}return LanguageRenderingComponent.prototype.ngOnInit=function(){var e=o.a.getWorkingProjectCtx().getProjectSettings().projectLanguagesSetting,t=o.a.getWorkingProjectCtx().getProjectPreferences().projectLanguagesPreference;if(1==t.length&&"*"==t[0])for(var n=0;n<e.length;n++)this.renderingLanguages.push({lang:e[n],active:!1,position:null});else{for(var n=0;n<e.length;n++)this.renderingLanguages.push({lang:e[n],active:-1!=t.indexOf(e[n].tag),position:null});for(var r=1,i=this,n=0;n<t.length;n++)!function(){var e=t[n];i.renderingLanguages.forEach(function(t){if(t.lang.tag==e)return void(t.position=r)}),r++}()}},LanguageRenderingComponent.prototype.changeAllLangStatus=function(e){if(e)for(var t=this.countActiveLangs(),n=0;n<this.renderingLanguages.length;n++)this.renderingLanguages[n].active||(this.renderingLanguages[n].active=e,this.renderingLanguages[n].position=t+1,t++);else for(var n=0;n<this.renderingLanguages.length;n++)this.renderingLanguages[n].active=e,this.renderingLanguages[n].position=null;this.updateLanguagesPref()},LanguageRenderingComponent.prototype.updateLanguagesPref=function(){var e=[],t=this.getActiveLanguageItems();t.sort(function(e,t){return e.position>t.position?1:e.position<t.position?-1:0}),t.forEach(function(t){e.push(t.lang.tag)}),this.properties.setLanguagesPreference(e)},LanguageRenderingComponent.prototype.changePositionOrder=function(){this.sortOrder==c.POSITION_ASCENDING?(this.sortOrder=c.POSITION_DESCENDING,this.renderingLanguages.sort(function(e,t){return null==e.position&&null==t.position?e.lang.tag.localeCompare(t.lang.tag):null!=e.position&&null==t.position?-1:null==e.position&&null!=t.position?1:e.position>t.position?-1:e.position<t.position?1:0})):(this.sortOrder=c.POSITION_ASCENDING,this.renderingLanguages.sort(function(e,t){return null==e.position&&null==t.position?e.lang.tag.localeCompare(t.lang.tag):null!=e.position&&null==t.position?-1:null==e.position&&null!=t.position?1:e.position>t.position?1:e.position<t.position?-1:0}))},LanguageRenderingComponent.prototype.changeIsocodeOrder=function(){this.sortOrder==c.ISO_CODE_ASCENDING?(this.sortOrder=c.ISO_CODE_DESCENDING,this.renderingLanguages.sort(function(e,t){return-e.lang.tag.localeCompare(t.lang.tag)})):(this.sortOrder=c.ISO_CODE_ASCENDING,this.renderingLanguages.sort(function(e,t){return e.lang.tag.localeCompare(t.lang.tag)}))},LanguageRenderingComponent.prototype.changeLanguageOrder=function(){this.sortOrder==c.LANGUAGE_ASCENDING?(this.sortOrder=c.LANGUAGE_DESCENDING,this.renderingLanguages.sort(function(e,t){return-e.lang.name.localeCompare(t.lang.name)})):(this.sortOrder=c.LANGUAGE_ASCENDING,this.renderingLanguages.sort(function(e,t){return e.lang.name.localeCompare(t.lang.name)}))},LanguageRenderingComponent.prototype.onPositionChange=function(e,t){for(var n=parseInt(t),r=0;r<this.renderingLanguages.length;r++)if(this.renderingLanguages[r].position==n){this.renderingLanguages[r].position=e.position,e.position=n;break}this.updateLanguagesPref()},LanguageRenderingComponent.prototype.onActiveChange=function(e){if(e.active)e.position=this.countActiveLangs();else{var t=e.position;e.position=null;for(var n=0;n<this.renderingLanguages.length;n++)this.renderingLanguages[n].position>t&&(this.renderingLanguages[n].position=this.renderingLanguages[n].position-1)}this.updateLanguagesPref()},LanguageRenderingComponent.prototype.getActiveLanguageItems=function(){for(var e=[],t=0;t<this.renderingLanguages.length;t++)this.renderingLanguages[t].active&&e.push(this.renderingLanguages[t]);return e},LanguageRenderingComponent.prototype.countActiveLangs=function(){for(var e=0,t=0;t<this.renderingLanguages.length;t++)this.renderingLanguages[t].active&&e++;return e},LanguageRenderingComponent=a([n.i(r.c)({selector:"lang-rendering-pref",template:n(1895),styles:["input[type=number]::-webkit-inner-spin-button { opacity: 1 }"]}),s("design:paramtypes",[i.a])],LanguageRenderingComponent)}(),c=(function(){function LanguageItem(){}}(),function(){function SortOrder(){}return SortOrder.POSITION_DESCENDING="position_descending",SortOrder.POSITION_ASCENDING="position_ascending",SortOrder.ISO_CODE_DESCENDING="isocode_descending",SortOrder.ISO_CODE_ASCENDING="isocode_ascending",SortOrder.LANGUAGE_DESCENDING="language_descending",SortOrder.LANGUAGE_ASCENDING="language_ascending",SortOrder}())},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(6),i=n(21),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function LanguageValueFilterComponent(e){this.vbProp=e,this.sortOrder=c.ISO_CODE_ASCENDING,this.filterLanguages=[],this.filterEnabled=!1}return LanguageValueFilterComponent.prototype.ngOnInit=function(){var e=o.a.getWorkingProjectCtx().getProjectSettings().projectLanguagesSetting,t=o.a.getWorkingProjectCtx().getProjectPreferences().filterValueLang.languages;if(1==t.length&&"*"==t[0])for(var n=0;n<e.length;n++)this.filterLanguages.push({lang:e[n],active:!1});else for(var n=0;n<e.length;n++)this.filterLanguages.push({lang:e[n],active:-1!=t.indexOf(e[n].tag)});this.filterEnabled=o.a.getWorkingProjectCtx().getProjectPreferences().filterValueLang.enabled},LanguageValueFilterComponent.prototype.toggleFilter=function(){this.filterEnabled=!this.filterEnabled,this.updatePref()},LanguageValueFilterComponent.prototype.changeAllLangStatus=function(e){this.filterLanguages.forEach(function(t){t.active=e}),this.updatePref()},LanguageValueFilterComponent.prototype.updatePref=function(){var e=[];this.getActiveLanguageItems().forEach(function(t){e.push(t.lang.tag)}),this.vbProp.setValueFilterLanguages({languages:e,enabled:this.filterEnabled})},LanguageValueFilterComponent.prototype.changeIsocodeOrder=function(){this.sortOrder==c.ISO_CODE_ASCENDING?(this.sortOrder=c.ISO_CODE_DESCENDING,this.filterLanguages.sort(function(e,t){return-e.lang.tag.localeCompare(t.lang.tag)})):(this.sortOrder=c.ISO_CODE_ASCENDING,this.filterLanguages.sort(function(e,t){return e.lang.tag.localeCompare(t.lang.tag)}))},LanguageValueFilterComponent.prototype.changeLanguageOrder=function(){this.sortOrder==c.LANGUAGE_ASCENDING?(this.sortOrder=c.LANGUAGE_DESCENDING,this.filterLanguages.sort(function(e,t){return-e.lang.tag.localeCompare(t.lang.name)})):(this.sortOrder=c.LANGUAGE_ASCENDING,this.filterLanguages.sort(function(e,t){return e.lang.tag.localeCompare(t.lang.name)}))},LanguageValueFilterComponent.prototype.onActiveChange=function(e){this.updatePref()},LanguageValueFilterComponent.prototype.getActiveLanguageItems=function(){for(var e=[],t=0;t<this.filterLanguages.length;t++)this.filterLanguages[t].active&&e.push(this.filterLanguages[t]);return e},LanguageValueFilterComponent=a([n.i(r.c)({selector:"lang-value-filter-pref",template:n(1896)}),s("design:paramtypes",[i.a])],LanguageValueFilterComponent)}(),c=(function(){function LanguageItem(){}}(),function(){function SortOrder(){}return SortOrder.POSITION_DESCENDING="position_descending",SortOrder.POSITION_ASCENDING="position_ascending",SortOrder.ISO_CODE_DESCENDING="isocode_descending",SortOrder.ISO_CODE_ASCENDING="isocode_ascending",SortOrder.LANGUAGE_DESCENDING="language_descending",SortOrder.LANGUAGE_ASCENDING="language_ascending",SortOrder}())},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(3),i=n(516),a=n(32),s=n(188),l=n(10),c=n(6),p=n(21),d=n(12),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function NotificationsPreferencesComponent(e,t,n){this.notificationsService=e,this.resourceService=t,this.vbProp=n,this.hideModeChange=!1,this.notificationOptions=[{value:a.q.no_notifications,show:"No notifications",description:"You will not receive any notification"},{value:a.q.in_app_only,show:"In-app only",description:"You will be able to read notifications only in app from a dedicated page"},{value:a.q.email_instant,show:"Email (instant)",description:"You will receive email instantly"},{value:a.q.email_daily_digest,show:"Email (daily digest)",description:"You will receive a daily email report"}],this.actions=[i.b.creation,i.b.deletion,i.b.update],this.watchingResources=[]}return NotificationsPreferencesComponent.prototype.ngOnInit=function(){var e=this;this.activeNotificationOpt=this.notificationOptions.find(function(e){return e.value==c.a.getWorkingProjectCtx().getProjectPreferences().notificationStatus}),this.initNotificationMatrix().subscribe(function(){e.initWatchingResources().subscribe()})},NotificationsPreferencesComponent.prototype.initNotificationMatrix=function(){var e=this;return this.notificationsService.getNotificationPreferences().map(function(t){e.preferences=t,e.roleStructs=Object.keys(e.preferences).map(function(e){var t=e;return{role:t,show:l.a.getResourceRoleLabel(t)}}).sort(function(e,t){return e.show.localeCompare(t.show)}),e.notificationTable={},e.roleStructs.forEach(function(t){e.notificationTable[t.role]={creation:-1!=e.preferences[t.role].indexOf(i.b.creation),deletion:-1!=e.preferences[t.role].indexOf(i.b.deletion),update:-1!=e.preferences[t.role].indexOf(i.b.update)}})})},NotificationsPreferencesComponent.prototype.initWatchingResources=function(){var e=this;return this.notificationsService.listWatching().map(function(t){var n=[];t.forEach(function(e){var t=l.a.parseNode(e);t instanceof o.b&&n.push(t)}),n.length>0&&e.resourceService.getResourcesInfo(n).subscribe(function(t){e.watchingResources=t,l.a.sortResources(e.watchingResources,l.b.show)})})},NotificationsPreferencesComponent.prototype.changeNotificationStatus=function(){this.vbProp.setNotificationStatus(this.activeNotificationOpt.value)},NotificationsPreferencesComponent.prototype.checkAllActions=function(e){for(var t in this.notificationTable)this.notificationTable[t].creation=e,this.notificationTable[t].deletion=e,this.notificationTable[t].update=e;this.updateAllNotifications()},NotificationsPreferencesComponent.prototype.checkAllActionsForRole=function(e,t){this.notificationTable[e].creation=t,this.notificationTable[e].deletion=t,this.notificationTable[e].update=t,this.updateAllNotifications()},NotificationsPreferencesComponent.prototype.updateAllNotifications=function(){var e={};for(var t in this.notificationTable){var n=[];this.notificationTable[t].creation&&n.push(i.b.creation),this.notificationTable[t].deletion&&n.push(i.b.deletion),this.notificationTable[t].update&&n.push(i.b.update),e[t]=n}this.notificationsService.storeNotificationPreferences(e).subscribe()},NotificationsPreferencesComponent.prototype.updateNotificationPref=function(e,t){this.notificationsService.updateNotificationPreferences(e,t,this.notificationTable[e][t]).subscribe()},NotificationsPreferencesComponent.prototype.stopWatching=function(e){var t=this;this.notificationsService.stopWatching(e).subscribe(function(){t.watchingResources.splice(t.watchingResources.indexOf(e),1)})},u([n.i(r.r)(),f("design:type",Boolean)],NotificationsPreferencesComponent.prototype,"hideModeChange",void 0),NotificationsPreferencesComponent=u([n.i(r.c)({selector:"notifications-pref",template:n(1897),host:{class:"vbox"}}),f("design:paramtypes",[s.a,d.a,p.a])],NotificationsPreferencesComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(32),i=n(11),a=n(6),s=n(15),l=n(21),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function ResourceViewPreferencesComponent(e,t){this.vbProp=e,this.eventHandler=t,this.rvConceptTypes=[{type:o.l.resourceView,show:"Detailed",description:"The standard form for editing RDF resources"},{type:o.l.termView,show:"Terminologist",description:"A simplified - less RDF centric - form tailored on the needs of terminologists and lexicographers"}]}return ResourceViewPreferencesComponent.prototype.ngOnInit=function(){var e=a.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences;this.resViewMode=e.mode,this.resViewTabSync=e.syncTabs,this.displayImg=e.displayImg,this.selectedRvConceptType=this.rvConceptTypes.find(function(t){return t.type==e.defaultConceptType}),this.typeSelectionAvailable=a.a.getWorkingProject().getModelType()==i.d.uri||a.a.getWorkingProject().getModelType()==i.f.uri},ResourceViewPreferencesComponent.prototype.onResViewModeChange=function(){this.vbProp.setResourceViewMode(this.resViewMode),this.eventHandler.resViewModeChangedEvent.emit({mode:this.resViewMode,fromVbPref:!0})},ResourceViewPreferencesComponent.prototype.onResViewConceptTypeChange=function(){this.vbProp.setResourceViewConceptType(this.selectedRvConceptType.type)},ResourceViewPreferencesComponent.prototype.onTabSyncChange=function(){this.vbProp.setResourceViewTabSync(this.resViewTabSync),this.eventHandler.resViewTabSyncChangedEvent.emit(this.resViewTabSync)},ResourceViewPreferencesComponent.prototype.onDisplayImgChange=function(){this.vbProp.setResourceViewDisplayImg(this.displayImg)},ResourceViewPreferencesComponent=c([n.i(r.c)({selector:"res-view-pref",template:n(1898)}),p("design:paramtypes",[l.a,s.a])],ResourceViewPreferencesComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(12),a=n(17),s=n(7),l=n(20),c=n(6),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function ResourceTripleEditorComponent(e){this.resourcesService=e,this.update=new r.i}return ResourceTripleEditorComponent.prototype.ngOnInit=function(){this.editAuthorized=a.a.isAuthorized(l.a.resourcesUpdateResourceTriplesDescription),this.validationEnabled=c.a.getWorkingProject().isValidationEnabled(),this.validationEnabled&&(this.editAuthorized=!1),this.initDescription()},ResourceTripleEditorComponent.prototype.initDescription=function(){var e=this;s.a.startLoadingDiv(this.blockDivElement.nativeElement),this.resourcesService.getOutgoingTriples(this.resource,"Turtle").subscribe(function(t){s.a.stopLoadingDiv(e.blockDivElement.nativeElement),e.description=t})},ResourceTripleEditorComponent.prototype.onDescriptionChange=function(){null==this.pristineDescription&&(this.pristineDescription=this.description)},ResourceTripleEditorComponent.prototype.isApplyEnabled=function(){return this.description!=this.pristineDescription&&null!=this.description&&""!=this.description.trim()},ResourceTripleEditorComponent.prototype.applyChanges=function(){var e=this;this.description!=this.pristineDescription&&(s.a.startLoadingDiv(this.blockDivElement.nativeElement),this.resourcesService.updateResourceTriplesDescription(this.resource,this.description,"Turtle").subscribe(function(){s.a.stopLoadingDiv(e.blockDivElement.nativeElement),e.update.emit(e.resource),e.initDescription()}))},p([n.i(r.r)(),d("design:type",o.e)],ResourceTripleEditorComponent.prototype,"resource",void 0),p([n.i(r.r)(),d("design:type",Boolean)],ResourceTripleEditorComponent.prototype,"readonly",void 0),p([n.i(r._7)(),d("design:type",r.i)],ResourceTripleEditorComponent.prototype,"update",void 0),p([n.i(r.F)("blockDiv"),d("design:type",r.e)],ResourceTripleEditorComponent.prototype,"blockDivElement",void 0),ResourceTripleEditorComponent=p([n.i(r.c)({selector:"resource-triple-editor",template:n(1918),host:{class:"vbox"}}),d("design:paramtypes",[i.a])],ResourceTripleEditorComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(3),i=n(32),a=n(11),s=n(17),l=n(20),c=n(6),p=n(3),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function ResourceViewTabContainer(){this.dblclickObj=new r.i,this.update=new r.i,this.resourceFormStruct={type:i.l.resourceView,show:"ResView"},this.simplifiedFormStruct={type:i.l.termView,show:"TermView"},this.sourceCodeStruct={type:i.l.sourceCode,show:"Code"},this.activeView=i.l.resourceView}return ResourceViewTabContainer.prototype.ngOnInit=function(){var e=c.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences;this.activeView=e.defaultConceptType,null!=e.lastConceptType&&(this.activeView=e.lastConceptType)},ResourceViewTabContainer.prototype.ngOnChanges=function(e){if(e.resource){this.rViews=[this.resourceFormStruct],this.resource.getRole()==p.c.concept&&c.a.getWorkingProject().getModelType()==a.d.uri&&this.rViews.push(this.simplifiedFormStruct),this.resource.getAdditionalProperty(o.a.EXPLICIT)&&s.a.isAuthorized(l.a.resourcesGetResourceTriplesDescription,this.resource)&&this.rViews.push(this.sourceCodeStruct);var t=e.resource.previousValue;null==t||t.equals(this.resource)||(this.activeView=c.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.lastConceptType),(null==this.activeView||this.activeView==i.l.termView&&!this.rViews.some(function(e){return e.type==i.l.termView}))&&(this.activeView=i.l.resourceView)}},ResourceViewTabContainer.prototype.changeView=function(e){this.activeView=e,this.activeView!=i.l.sourceCode&&this.resource.getRole()==p.c.concept&&(c.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.lastConceptType=this.activeView)},ResourceViewTabContainer.prototype.onObjectDblClick=function(e){this.dblclickObj.emit(e)},ResourceViewTabContainer.prototype.onResourceUpdate=function(e){this.update.emit(e)},d([n.i(r.r)(),u("design:type",o.e)],ResourceViewTabContainer.prototype,"resource",void 0),d([n.i(r._7)(),u("design:type",r.i)],ResourceViewTabContainer.prototype,"dblclickObj",void 0),d([n.i(r._7)(),u("design:type",r.i)],ResourceViewTabContainer.prototype,"update",void 0),ResourceViewTabContainer=d([n.i(r.c)({selector:"resource-view",template:n(1919),host:{class:"vbox"},styles:[n(2096)]})],ResourceViewTabContainer)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(33),d=n(15),u=n(2),f=n(14),h=n(25),g=n(28),m=n(43),v=n(6),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function BroadersPartitionRenderer(t,r,o,i,s,l,c,p,d){var u=e.call(this,t,r,o,i,s,l,c)||this;return u.skosService=p,u.eventHandler=d,u.partition=a.a.broaders,u.addBtnImgTitle="Add broader",u.addBtnImgSrc=n(273),u}return b(BroadersPartitionRenderer,e),BroadersPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},BroadersPartitionRenderer.prototype.getPredicateToEnrich=function(){var e=v.a.getWorkingProjectCtx().getProjectPreferences().conceptTreePreferences.baseBroaderUri;return e!=this.rootProperty.getURI()?this.resourcesService.getResourceDescription(new i.b(e)).map(function(e){return e}):o.Observable.of(this.rootProperty)},BroadersPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a broader",this.resource,e,t,this.rootProperty).then(function(e){var t=e.property,r=e.value,o=[];t.getURI()==n.rootProperty.getURI()?r.forEach(function(e){o.push({function:n.skosService.addBroaderConcept(n.resource,e),value:e})}):r.forEach(function(e){o.push({function:n.resourcesService.addValue(n.resource,t,e).map(function(t){n.eventHandler.broaderAddedEvent.emit({narrower:n.resource,broader:e})}),value:e})}),n.addMultiple(o)},function(){})},BroadersPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},BroadersPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(r){n.rootProperty.getURI()!=e.getURI()&&n.eventHandler.broaderRemovedEvent.emit({concept:n.resource,broader:t}),n.update.emit(null)})},BroadersPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.rootProperty.getURI()==e.getURI()?this.skosService.removeBroaderConcept(this.resource,t):this.resourcesService.removeValue(this.resource,e,t)},BroadersPartitionRenderer=y([n.i(r.c)({selector:"broaders-renderer",template:n(38)}),x("design:paramtypes",[l.a,c.a,s.a,u.a,f.a,h.a,g.a,p.a,d.a])],BroadersPartitionRenderer)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(24)),a=n(11),s=n(106),l=n(16),c=n(121),p=n(23),d=n(12),u=n(2),f=n(14),h=n(28),g=n(304),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function ClassAxiomPartitionPartitionRenderer(t,r,o,a,s,l,c,p){var d=e.call(this,t,r,o,a)||this;return d.clsService=s,d.manchService=l,d.propService=c,d.browsingModals=p,d.partition=i.a.classaxioms,d.addBtnImgTitle="Add a class axiom",d.addBtnImgSrc=n(151),d}return m(ClassAxiomPartitionPartitionRenderer,e),ClassAxiomPartitionPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},ClassAxiomPartitionPartitionRenderer.prototype.add=function(e){var t=this;if(!this.isKnownProperty(e))return void this.basicModals.alert("Unknown property",e.getShow()+" is not a class axiom known property, it cannot be handled.","error");e.getURI()==a.c.oneOf.getURI()?this.createInstanceList(e):e.getURI()==a.c.intersectionOf.getURI()||e.getURI()==a.c.unionOf.getURI()?this.createClassList(e):this.resViewModals.addPropertyValue("Add "+e.getShow(),this.resource,e,!1).then(function(n){var r=n.value;if("string"==typeof r)t.manchService.createRestriction(t.resource,e,r).subscribe(function(e){return t.update.emit(null)});else{var o=n.value,i=[];e.getURI()==a.b.subClassOf.getURI()?o.forEach(function(e){i.push({function:t.clsService.addSuperCls(t.resource,e),value:e})}):o.forEach(function(n){i.push({function:t.resourcesService.addValue(t.resource,e,n),value:n})}),t.addMultiple(i)}},function(){})},ClassAxiomPartitionPartitionRenderer.prototype.getPredicateToEnrich=function(){return o.Observable.fromPromise(this.browsingModals.browsePropertyTree("Select a property",this.rootProperties).then(function(e){return e},function(){}))},ClassAxiomPartitionPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return this.propService.getRange(e).flatMap(function(e){return o.Observable.of(p.c.isRangeCompliant(e,t))})},ClassAxiomPartitionPartitionRenderer.prototype.createClassList=function(e){var t=this;this.resViewModals.createClassList("Add "+e.getShow()).then(function(n){e.getURI()==a.c.intersectionOf.getURI()?t.clsService.addIntersectionOf(t.resource,n).subscribe(function(e){return t.update.emit(null)}):e.getURI()==a.c.unionOf.getURI()&&t.clsService.addUnionOf(t.resource,n).subscribe(function(e){return t.update.emit(null)})},function(){})},ClassAxiomPartitionPartitionRenderer.prototype.createInstanceList=function(e){var t=this;this.resViewModals.createInstanceList("Add "+e.getShow()).then(function(e){t.clsService.addOneOf(t.resource,e).subscribe(function(e){return t.update.emit(null)})},function(){})},ClassAxiomPartitionPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit(null)})},ClassAxiomPartitionPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.isKnownProperty(e)?e.getURI()==a.b.subClassOf.getURI()?t.isBNode()?this.manchService.removeExpression(this.resource,e,t):this.clsService.removeSuperCls(this.resource,t):e.getURI()==a.c.equivalentClass.getURI()||e.getURI()==a.c.disjointWith.getURI()||e.getURI()==a.c.complementOf.getURI()?t.isBNode()?this.manchService.removeExpression(this.resource,e,t):this.resourcesService.removeValue(this.resource,e,t):e.getURI()==a.c.intersectionOf.getURI()?this.clsService.removeIntersectionOf(this.resource,t):e.getURI()==a.c.unionOf.getURI()?this.clsService.removeUnionOf(this.resource,t):e.getURI()==a.c.oneOf.getURI()?this.clsService.removeOneOf(this.resource,t):void 0:this.resourcesService.removeValue(this.resource,e,t)},ClassAxiomPartitionPartitionRenderer=v([n.i(r.c)({selector:"class-axiom-renderer",template:n(38)}),b("design:paramtypes",[d.a,l.a,u.a,h.a,s.a,c.a,p.a,f.a])],ClassAxiomPartitionPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(70),c=n(23),p=n(12),d=n(2),u=n(14),f=n(25),h=n(28),g=n(43),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function ConstituentsPartitionRenderer(t,r,o,i,s,l,c,p){var d=e.call(this,t,r,o,i,s,l,c)||this;return d.ontolexService=p,d.partition=a.a.constituents,d.addBtnImgTitle="Add constituent",d.addBtnImgSrc=n(128),d}return m(ConstituentsPartitionRenderer,e),ConstituentsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},ConstituentsPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.createConstituentList("Create a constituents list").then(function(e){n.ontolexService.setLexicalEntryConstituents(n.resource,e.list,e.ordered).subscribe(function(){n.update.emit()})},function(){})},ConstituentsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},ConstituentsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.basicModals.confirm("Delete constituent","Deleting a single constituent could compromise the integrity of the constituents section. If you want to edit the constituents of the LexicalEntry, it is highly recommended to use the add procedure which will replace the current constituent list. Do you want to confirm the deletion?","warning").then(function(){n.getRemoveFunction(e,t).subscribe(function(e){n.update.emit()})},function(){})},ConstituentsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.resourcesService.removeValue(this.resource,e,t)},ConstituentsPartitionRenderer=v([n.i(r.c)({selector:"constituents-renderer",template:n(38)}),b("design:paramtypes",[c.a,p.a,s.a,d.a,u.a,f.a,h.a,l.a])],ConstituentsPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(108),c=n(23),p=n(12),d=n(2),u=n(14),f=n(25),h=n(28),g=n(43),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function DatatypeDefinitionPartitionRenderer(t,r,o,i,s,l,c,p){var d=e.call(this,t,r,o,i,s,l,c)||this;return d.datatypeService=p,d.partition=a.a.datatypeDefinitions,d.addBtnImgTitle="Set restrictions",d.addBtnImgSrc=n(89),d}return m(DatatypeDefinitionPartitionRenderer,e),DatatypeDefinitionPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},DatatypeDefinitionPartitionRenderer.prototype.add=function(){var e=this;this.resViewModals.setDatatypeFacets("Set datatype restrictions",this.resource).then(function(){e.update.emit()},function(){})},DatatypeDefinitionPartitionRenderer.prototype.editHandler=function(e,t){var n=this;this.resViewModals.setDatatypeFacets("Edit datatype restrictions",this.resource,t).then(function(){n.update.emit()},function(){})},DatatypeDefinitionPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},DatatypeDefinitionPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit()})},DatatypeDefinitionPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.datatypeService.deleteDatatypeRestriction(this.resource)},DatatypeDefinitionPartitionRenderer=v([n.i(r.c)({selector:"datatype-definition-renderer",template:n(38)}),b("design:paramtypes",[c.a,p.a,s.a,d.a,u.a,f.a,h.a,l.a])],DatatypeDefinitionPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(1),i=(n.n(o),n(24)),a=n(16),s=n(70),l=n(23),c=n(12),p=n(2),d=n(14),u=n(25),f=n(28),h=n(43),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function DenotationsPartitionRenderer(t,r,o,a,s,l,c,p){var d=e.call(this,t,r,o,a,s,l,c)||this;return d.ontolexService=p,d.partition=i.a.denotations,d.addBtnImgTitle="Add denotation",d.addBtnImgSrc=n(128),d}return g(DenotationsPartitionRenderer,e),DenotationsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},DenotationsPartitionRenderer.prototype.add=function(e,t){var n=this;e.getURI()==this.rootProperty.getURI()?this.creationModals.newOntoLexicalizationCf("Add a denotation",this.rootProperty,!1).then(function(e){n.ontolexService.addLexicalization(n.resource,e.linkedResource,e.createPlain,e.createSense,e.cls,e.cfValue).subscribe(function(e){n.update.emit()})},function(){}):this.enrichProperty(e)},DenotationsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(!0)},DenotationsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit(null)})},DenotationsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.ontolexService.removePlainLexicalization(this.resource,t)},DenotationsPartitionRenderer=m([n.i(r.c)({selector:"denotations-renderer",template:n(38)}),v("design:paramtypes",[l.a,c.a,a.a,p.a,d.a,u.a,f.a,s.a])],DenotationsPartitionRenderer)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(2),d=n(14),u=n(25),f=n(28),h=n(43),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function DisjointPropertiesPartitionRenderer(t,r,o,i,s,l,c){var p=e.call(this,t,r,o,i,s,l,c)||this;return p.partition=a.a.disjointProperties,p.addBtnImgTitle="Add a disjoint property",p.addBtnImgSrc=n(89),p}return g(DisjointPropertiesPartitionRenderer,e),DisjointPropertiesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},DisjointPropertiesPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a disjoint property",this.resource,this.rootProperty,t).then(function(e){var t=e.property,r=e.inverseProperty,o=e.value,i=[];o.forEach(function(e){i.push({function:n.propService.addPropertyDisjointWith(n.resource,e,t,r),value:e})}),n.addMultiple(i)},function(){})},DisjointPropertiesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},DisjointPropertiesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit(null)})},DisjointPropertiesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.propService.removePropertyDisjointWith(this.resource,t,e)},DisjointPropertiesPartitionRenderer=m([n.i(r.c)({selector:"disjoint-properties-renderer",template:n(38)}),v("design:paramtypes",[l.a,c.a,s.a,p.a,d.a,u.a,f.a])],DisjointPropertiesPartitionRenderer)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(121),c=n(23),p=n(12),d=n(2),u=n(14),f=n(25),h=n(28),g=n(43),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function DomainsPartitionRenderer(t,r,o,i,s,l,c,p){var d=e.call(this,t,r,o,i,s,l,c)||this;return d.manchService=p,d.partition=a.a.domains,d.addBtnImgTitle="Add a domain",d.addBtnImgSrc=n(151),d}return m(DomainsPartitionRenderer,e),DomainsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},DomainsPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a domain",this.resource,e,t).then(function(e){var t=e.property,r=e.value;if("string"==typeof r)n.manchService.createRestriction(n.resource,t,r).subscribe(function(e){return n.update.emit(null)});else{var o=[];t.getURI()==n.rootProperty.getURI()?r.forEach(function(e){o.push({function:n.propService.addPropertyDomain(n.resource,e),value:e})}):r.forEach(function(e){o.push({function:n.resourcesService.addValue(n.resource,t,e),value:e})}),n.addMultiple(o)}},function(){})},DomainsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},DomainsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;t instanceof i.d?this.manchService.isClassAxiom(t).subscribe(function(r){r?n.manchService.removeExpression(n.resource,e,t).subscribe(function(e){return n.update.emit(null)}):n.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit()})}):this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit()})},DomainsPartitionRenderer.prototype.removeAllValues=function(e){for(var t=this,n=this,r=0;r<this.predicateObjectList.length;r++)!function(){for(var a=n.predicateObjectList[r].getObjects(),s=[],l=[],c=0;c<a.length;c++){var p=a[c];p instanceof i.d?s.push(p):l.push(p)}if(s.length>0){for(var d=[],c=0;c<s.length;c++)d.push(n.manchService.isClassAxiom(s[c]));for(var u=[],c=0;c<l.length;c++)u.push(n.getRemoveFunction(e,l[c]));o.Observable.forkJoin(d).subscribe(function(n){for(var r=0;r<n.length;r++)n[r]?u.push(t.manchService.removeExpression(t.resource,e,s[r])):u.push(t.getRemoveFunction(e,s[r]));t.removeAllRicursively(u)})}else{for(var f=[],c=0;c<a.length;c++)f.push(n.getRemoveFunction(e,a[c]));n.removeAllRicursively(f)}}()},DomainsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.rootProperty.getURI()==e.getURI()?this.propService.removePropertyDomain(this.resource,t):this.resourcesService.removeValue(this.resource,e,t)},DomainsPartitionRenderer=v([n.i(r.c)({selector:"domains-renderer",template:n(38)}),b("design:paramtypes",[c.a,p.a,s.a,d.a,u.a,f.a,h.a,l.a])],DomainsPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(2),d=n(14),u=n(25),f=n(28),h=n(43),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function EquivalentPropertiesPartitionRenderer(t,r,o,i,s,l,c){var p=e.call(this,t,r,o,i,s,l,c)||this;return p.partition=a.a.equivalentProperties,p.addBtnImgTitle="Add an equivalent property",p.addBtnImgSrc=n(89),p}return g(EquivalentPropertiesPartitionRenderer,e),EquivalentPropertiesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},EquivalentPropertiesPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add an equivalent property",this.resource,e,t).then(function(e){var t=e.property,r=e.inverseProperty,o=e.value,i=[];o.forEach(function(e){i.push({function:n.propService.addEquivalentProperty(n.resource,e,t,r),value:e})}),n.addMultiple(i)},function(){})},EquivalentPropertiesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},EquivalentPropertiesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit(null)})},EquivalentPropertiesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.propService.removeEquivalentProperty(this.resource,t,e)},EquivalentPropertiesPartitionRenderer=m([n.i(r.c)({selector:"equivalent-properties-renderer",template:n(38)}),v("design:paramtypes",[l.a,c.a,s.a,p.a,d.a,u.a,f.a])],EquivalentPropertiesPartitionRenderer)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(1),i=(n.n(o),n(24)),a=n(16),s=n(70),l=n(23),c=n(12),p=n(2),d=n(14),u=n(25),f=n(28),h=n(43),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function EvokedLexicalConceptsPartitionRenderer(t,r,o,a,s,l,c,p){var d=e.call(this,t,r,o,a,s,l,c)||this;return d.ontolexService=p,d.partition=i.a.evokedLexicalConcepts,d.addBtnImgTitle="Add evoked lexical concept",d.addBtnImgSrc=n(128),d}return g(EvokedLexicalConceptsPartitionRenderer,e),EvokedLexicalConceptsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},EvokedLexicalConceptsPartitionRenderer.prototype.add=function(e,t){this.enrichProperty(e)},EvokedLexicalConceptsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(!0)},EvokedLexicalConceptsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit(null)})},EvokedLexicalConceptsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.resourcesService.removeValue(this.resource,e,t)},EvokedLexicalConceptsPartitionRenderer=m([n.i(r.c)({selector:"evoked-lexical-concepts-renderer",template:n(38)}),v("design:paramtypes",[l.a,c.a,a.a,p.a,d.a,u.a,f.a,s.a])],EvokedLexicalConceptsPartitionRenderer)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(1),i=(n.n(o),n(24)),a=n(16),s=n(23),l=n(12),c=n(2),p=n(14),d=n(25),u=n(28),f=n(43),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function FormBasedPreviewRenderer(t,n,r,o,a,s,l){var c=e.call(this,t,n,r,o,a,s,l)||this;return c.partition=i.a.formBasedPreview,c.addBtnImgTitle="",c.addBtnImgSrc=null,c}return h(FormBasedPreviewRenderer,e),FormBasedPreviewRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},FormBasedPreviewRenderer.prototype.add=function(e,t){},FormBasedPreviewRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(!0)},FormBasedPreviewRenderer.prototype.removePredicateObject=function(e,t){},FormBasedPreviewRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.resourcesService.removeValue(this.resource,e,t)},FormBasedPreviewRenderer=g([n.i(r.c)({selector:"form-based-preview-renderer",template:n(38)}),m("design:paramtypes",[s.a,l.a,a.a,c.a,p.a,d.a,u.a])],FormBasedPreviewRenderer)}(f.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(70),c=n(23),p=n(12),d=n(2),u=n(14),f=n(25),h=n(28),g=n(43),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function FormRepresentationsPartitionRenderer(t,r,o,i,s,l,c,p){var d=e.call(this,t,r,o,i,s,l,c)||this;return d.ontolexService=p,d.partition=a.a.formRepresentations,d.addBtnImgTitle="Add a representation",d.addBtnImgSrc=n(797),d}return m(FormRepresentationsPartitionRenderer,e),FormRepresentationsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},FormRepresentationsPartitionRenderer.prototype.add=function(e,t){var n=this;this.getLexiconLang().subscribe(function(t){n.lexiconLang=t,n.creationModals.newPlainLiteral("Add "+e.getShow(),null,!1,n.lexiconLang,!1,{constrain:!0,locale:!0},{enabled:!0,allowSameLang:!1}).then(function(t){var r=[];t.forEach(function(t){r.push({function:n.ontolexService.addFormRepresentation(n.resource,t,e),value:t})}),n.addMultiple(r)},function(){})})},FormRepresentationsPartitionRenderer.prototype.getLexiconLang=function(){return null==this.lexiconLang?this.ontolexService.getFormLanguage(this.resource):o.Observable.of(this.lexiconLang)},FormRepresentationsPartitionRenderer.prototype.getPredicateToEnrich=function(){return o.Observable.fromPromise(this.browsingModals.browsePropertyTree("Select a property",[this.rootProperty]).then(function(e){return e},function(){}))},FormRepresentationsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.f)},FormRepresentationsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit(null)})},FormRepresentationsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.ontolexService.removeFormRepresentation(this.resource,t,e)},FormRepresentationsPartitionRenderer=v([n.i(r.c)({selector:"form-representations-renderer",template:n(38)}),b("design:paramtypes",[c.a,p.a,s.a,d.a,u.a,f.a,h.a,l.a])],FormRepresentationsPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(76),s=n(24),l=n(16),c=n(161),p=n(23),d=n(12),u=n(2),f=n(14),h=n(25),g=n(13),m=n(28),v=n(43),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function ImportsPartitionRenderer(t,r,o,i,a,l,c,p,d){var u=e.call(this,t,r,o,i,a,l,c)||this;return u.metadataService=p,u.sharedModals=d,u.partition=s.a.imports,u.addBtnImgTitle="Add import",u.addBtnImgSrc=n(804),u}return b(ImportsPartitionRenderer,e),ImportsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},ImportsPartitionRenderer.prototype.add=function(){},ImportsPartitionRenderer.prototype.importFromWeb=function(){var e=this;this.sharedModals.importOntology("Import from web",a.f.fromWeb).then(function(t){e.metadataService.addFromWeb(t.baseURI,t.transitiveImportAllowance,t.altURL,t.rdfFormat).subscribe(function(t){e.update.emit()})},function(){})},ImportsPartitionRenderer.prototype.importFromWebToMirror=function(){var e=this;this.sharedModals.importOntology("Import from web to mirror",a.f.fromWebToMirror).then(function(t){e.metadataService.addFromWebToMirror(t.baseURI,t.mirrorFile,t.transitiveImportAllowance,t.altURL,t.rdfFormat).subscribe(function(t){e.update.emit()})},function(){})},ImportsPartitionRenderer.prototype.importFromLocalFile=function(){var e=this;this.sharedModals.importOntology("Import from local file",a.f.fromLocalFile).then(function(t){e.metadataService.addFromLocalFile(t.baseURI,t.localFile,t.mirrorFile,t.transitiveImportAllowance).subscribe(function(t){e.update.emit()})},function(){})},ImportsPartitionRenderer.prototype.importFromOntologyMirror=function(){var e=this;this.sharedModals.importOntology("Import from ontology mirror",a.f.fromOntologyMirror).then(function(t){e.metadataService.addFromMirror(t.mirror.baseURI,t.mirror.file,t.transitiveImportAllowance).subscribe(function(t){e.update.emit()})},function(){})},ImportsPartitionRenderer.prototype.importFromDatasetCatalog=function(){var e=this;this.sharedModals.importFromDatasetCatalog("Import from Dataset Catalog").then(function(t){e.metadataService.addFromWeb(t.ontologyIRI,t.transitiveImportAllowance,t.dataDump,t.rdfFormat).subscribe(function(t){e.update.emit()})},function(){})},ImportsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},ImportsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit()})},ImportsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.metadataService.removeImport(t.getNominalValue())},ImportsPartitionRenderer=y([n.i(r.c)({selector:"imports-renderer",template:n(1920)}),x("design:paramtypes",[p.a,d.a,l.a,u.a,f.a,h.a,m.a,c.a,g.a])],ImportsPartitionRenderer)}(v.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(2),d=n(14),u=n(25),f=n(28),h=n(43),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function LabelRelationsPartitionRenderer(t,r,o,i,s,l,c){var p=e.call(this,t,r,o,i,s,l,c)||this;return p.partition=a.a.labelRelations,p.addBtnImgTitle="Add a label relation",p.addBtnImgSrc=n(128),p}return g(LabelRelationsPartitionRenderer,e),LabelRelationsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},LabelRelationsPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a label relation",this.resource,e,t).then(function(e){var t=e.property,r=e.value,o=[];r.forEach(function(e){o.push({function:n.resourcesService.addValue(n.resource,t,e),value:e})}),n.addMultiple(o)},function(){})},LabelRelationsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},LabelRelationsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit()})},LabelRelationsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.resourcesService.removeValue(this.resource,e,t)},LabelRelationsPartitionRenderer=m([n.i(r.c)({selector:"label-relations-renderer",template:n(38)}),v("design:paramtypes",[l.a,c.a,s.a,p.a,d.a,u.a,f.a])],LabelRelationsPartitionRenderer)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(11),l=n(16),c=n(70),p=n(12),d=n(2),u=n(14),f=n(25),h=n(28),g=n(304),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function LexicalFormsPartitionRenderer(t,r,o,i,s,l,c){var p=e.call(this,t,r,o,i)||this;return p.creationModals=s,p.ontolexService=l,p.browsingModals=c,p.partition=a.a.lexicalForms,p.addBtnImgTitle="Add a lexical form",p.addBtnImgSrc=n(128),p}return m(LexicalFormsPartitionRenderer,e),LexicalFormsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},LexicalFormsPartitionRenderer.prototype.add=function(e,t){var n=this;if(!this.isKnownProperty(e))return void this.basicModals.alert("Unknown property",e.getShow()+" is not a lexical form known property, it cannot be handled.","error");this.getLexiconLang().subscribe(function(t){n.lexiconLang=t,n.creationModals.newResourceWithLiteralCf("Create "+e.getShow(),s.f.form,!0,"Written rep",n.lexiconLang,{constrain:!0,locale:!0}).then(function(t){e.getURI()==s.f.canonicalForm.getURI()?n.ontolexService.setCanonicalForm(n.resource,t.literal,t.uriResource,t.cfValue).subscribe(function(e){return n.update.emit(null)}):e.getURI()==s.f.otherForm.getURI()&&n.ontolexService.addOtherForm(n.resource,t.literal,t.uriResource,t.cfValue).subscribe(function(e){return n.update.emit(null)})},function(){})})},LexicalFormsPartitionRenderer.prototype.getLexiconLang=function(){return null==this.lexiconLang?this.ontolexService.getLexicalEntryLanguage(this.resource):o.Observable.of(this.lexiconLang)},LexicalFormsPartitionRenderer.prototype.getPredicateToEnrich=function(){return o.Observable.fromPromise(this.browsingModals.browsePropertyTree("Select a property",this.rootProperties).then(function(e){return e},function(){}))},LexicalFormsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},LexicalFormsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit()})},LexicalFormsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.ontolexService.removeForm(this.resource,e,t)},LexicalFormsPartitionRenderer=v([n.i(r.c)({selector:"lexical-forms-renderer",template:n(38)}),b("design:paramtypes",[p.a,l.a,d.a,h.a,f.a,c.a,u.a])],LexicalFormsPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(1),i=(n.n(o),n(24)),a=n(16),s=n(70),l=n(23),c=n(12),p=n(2),d=n(14),u=n(25),f=n(28),h=n(43),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function LexicalSensesPartitionRenderer(t,r,o,a,s,l,c,p){var d=e.call(this,t,r,o,a,s,l,c)||this;return d.ontolexService=p,d.partition=i.a.lexicalSenses,d.addBtnImgTitle="Add lexical sense",d.addBtnImgSrc=n(128),d}return g(LexicalSensesPartitionRenderer,e),LexicalSensesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},LexicalSensesPartitionRenderer.prototype.add=function(e,t){var n=this;e.getURI()==this.rootProperty.getURI()?this.creationModals.newOntoLexicalizationCf("Add a lexical sense",this.rootProperty,!1).then(function(e){n.ontolexService.addLexicalization(n.resource,e.linkedResource,e.createPlain,e.createSense,e.cls,e.cfValue).subscribe(function(e){n.update.emit()})},function(){}):this.enrichProperty(e)},LexicalSensesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(!0)},LexicalSensesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit(null)})},LexicalSensesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.ontolexService.removeReifiedLexicalization(t,!0)},LexicalSensesPartitionRenderer=m([n.i(r.c)({selector:"lexical-senses-renderer",template:n(38)}),v("design:paramtypes",[l.a,c.a,a.a,p.a,d.a,u.a,f.a,s.a])],LexicalSensesPartitionRenderer)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(47),s=n(24),l=n(11),c=n(16),p=n(70),d=n(23),u=n(12),f=n(190),h=n(33),g=n(111),m=n(2),v=n(14),b=n(25),y=n(28),x=n(303),C=n(304),R=n(234),S=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),P=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},E=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=function(e){function LexicalizationsPartitionRenderer(t,r,o,i,a,c,p,d,u,f,h,g){var m=e.call(this,t,r,o,i)||this;return m.skosService=a,m.skosxlService=c,m.propService=p,m.resViewService=d,m.ontolexService=u,m.creationModals=f,m.browsingModals=h,m.lexicalizationEnrichmentHelper=g,m.partition=s.a.lexicalizations,m.addBtnImgTitle="Add a lexicalization",m.addBtnImgSrc=n(375),m.predicateOrder=[l.e.prefLabel.getURI(),l.e.altLabel.getURI(),l.e.hiddenLabel.getURI(),l.d.prefLabel.getURI(),l.d.altLabel.getURI(),l.d.hiddenLabel.getURI(),l.b.label.getURI()],m}return S(LexicalizationsPartitionRenderer,e),LexicalizationsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},LexicalizationsPartitionRenderer.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),t.predicateObjectList&&t.predicateObjectList.currentValue){this.predicateObjectList.sort(this.sortPredicates(this.predicateOrder));for(var n=0;n<this.predicateObjectList.length;n++){this.predicateObjectList[n].getObjects().sort(function(e,t){return e.getAdditionalProperty(i.a.LANG)<t.getAdditionalProperty(i.a.LANG)?-1:e.getAdditionalProperty(i.a.LANG)>t.getAdditionalProperty(i.a.LANG)?1:0})}}},LexicalizationsPartitionRenderer.prototype.sortPredicates=function(e){return function(t,n){var r=e.indexOf(t.getPredicate().getURI()),o=e.indexOf(n.getPredicate().getURI());return-1==r?1:-1==o?-1:r-o}},LexicalizationsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(!0)},LexicalizationsPartitionRenderer.prototype.ensureInitializedRootProperties=function(){var e=this;return 0==this.rootProperties.length?this.resViewService.getLexicalizationProperties(this.resource).map(function(t){e.rootProperties=t}):o.Observable.of(null)},LexicalizationsPartitionRenderer.prototype.getPredicateToEnrich=function(){var e=this;return this.ensureInitializedRootProperties().flatMap(function(t){return 1==e.rootProperties.length?o.Observable.of(e.rootProperties[0]):o.Observable.fromPromise(e.browsingModals.browsePropertyTree("Select a property",e.rootProperties).then(function(e){return e},function(){}))})},LexicalizationsPartitionRenderer.prototype.add=function(e){var t=this;R.a.getPropertyEnrichmentInfo(e,this.propService,this.basicModals).subscribe(function(n){null!=n.type&&(n.type==R.b.customForm?t.enrichWithCustomForm(e,n.form):t.enrichWithLabel(e))})},LexicalizationsPartitionRenderer.prototype.enrichWithLabel=function(e){var t=this;if(e.equals(l.e.prefLabel)||e.equals(l.e.altLabel)||e.equals(l.e.hiddenLabel)){var n=e.equals(l.e.prefLabel);this.creationModals.newXLabel("Add "+e.getShow(),null,null,null,null,null,{enabled:!0,allowSameLang:!n}).then(function(n){t.addMultipleValues(e,n.labels,n.cls)},function(){})}else if(e.equals(l.f.isDenotedBy))this.creationModals.newOntoLexicalizationCf("Add a Lexical Entry",e,!1).then(function(e){t.ontolexService.addLexicalization(e.linkedResource,t.resource,e.createPlain,e.createSense,e.cls,e.cfValue).subscribe(function(e){t.update.emit()})},function(){});else{var n=e.equals(l.d.prefLabel);this.creationModals.newPlainLiteral("Add "+e.getShow(),null,null,null,null,null,{enabled:!0,allowSameLang:!n}).then(function(n){t.addMultipleValues(e,n)},function(){})}},LexicalizationsPartitionRenderer.prototype.enrichWithCustomForm=function(e,t){var n=this;this.resViewModals.enrichCustomForm("Add "+e.getShow(),t.getId()).then(function(r){var o=new a.a(t.getId(),r);n.resourcesService.addValue(n.resource,e,o).subscribe(function(e){return n.update.emit()})},function(){})},LexicalizationsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit()})},LexicalizationsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.isKnownProperty(e)?e.equals(l.e.prefLabel)?this.skosxlService.removePrefLabel(this.resource,t):e.equals(l.e.altLabel)?this.skosxlService.removeAltLabel(this.resource,t):e.equals(l.e.hiddenLabel)?this.skosxlService.removeHiddenLabel(this.resource,t):e.equals(l.d.prefLabel)?this.skosService.removePrefLabel(this.resource,t):e.equals(l.d.altLabel)?this.skosService.removeAltLabel(this.resource,t):e.equals(l.d.hiddenLabel)?this.skosService.removeHiddenLabel(this.resource,t):e.equals(l.b.label)?this.resourcesService.removeValue(this.resource,e,t):e.equals(l.f.isDenotedBy)?this.ontolexService.removePlainLexicalization(t,this.resource):void 0:this.resourcesService.removeValue(this.resource,e,t)},LexicalizationsPartitionRenderer.prototype.copyLocaleHandler=function(e,t){var n=t.value,r=t.locales,o=[];r.forEach(function(e){n instanceof i.f?o.push(new i.f(n.getValue(),null,e.tag)):n instanceof i.b&&o.push(new i.f(n.getShow(),null,e.tag))}),this.addMultipleValues(e,o)},LexicalizationsPartitionRenderer.prototype.addMultipleValues=function(e,t,n){var r,o=this,i=[];e.equals(l.e.prefLabel)||e.equals(l.e.altLabel)||e.equals(l.e.hiddenLabel)||e.equals(l.d.prefLabel)||e.equals(l.d.altLabel)||e.equals(l.d.hiddenLabel)?(t.forEach(function(t){i.push({function:o.lexicalizationEnrichmentHelper.getAddLabelFn(o.resource,e,t,n),value:t})}),r=function(t){if(1==t.length){var r=t[0].error;r.name.endsWith("PrefAltLabelClashException")||r.name.endsWith("BlacklistForbiddendException")?o.basicModals.confirm("Warning",r.message+" Do you want to force the creation?","warning").then(function(i){o.lexicalizationEnrichmentHelper.getAddLabelFn(o.resource,e,t[0].value,n,!r.name.endsWith("PrefAltLabelClashException"),r.name.endsWith("BlacklistForbiddendException")).subscribe(function(e){return o.update.emit(null)})},function(){}):o.handleSingleMultiAddError(t[0])}else o.handleMultipleMultiAddError(t)}):t.forEach(function(t){i.push({function:o.resourcesService.addValue(o.resource,e,t),value:t})}),this.addMultiple(i,r)},LexicalizationsPartitionRenderer=P([n.i(r.c)({selector:"lexicalizations-renderer",template:n(38)}),E("design:paramtypes",[u.a,c.a,m.a,y.a,h.a,g.a,d.a,f.a,p.a,b.a,v.a,x.a])],LexicalizationsPartitionRenderer)}(C.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(11),l=n(16),c=n(23),p=n(12),d=n(33),u=n(2),f=n(14),h=n(25),g=n(28),m=n(43),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function MembersOrderedPartitionRenderer(t,r,o,i,l,c,p,d){var u=e.call(this,t,r,o,i,l,c,p)||this;return u.skosService=d,u.partition=a.a.membersOrdered,u.membersProperty=s.d.member,u.addBtnImgTitle="Add member",u.addBtnImgSrc=n(274),u}return v(MembersOrderedPartitionRenderer,e),MembersOrderedPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},MembersOrderedPartitionRenderer.prototype.selectMember=function(e){this.selectedMember==e?this.selectedMember=null:this.selectedMember=e},MembersOrderedPartitionRenderer.prototype.add=function(){},MembersOrderedPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(!0)},MembersOrderedPartitionRenderer.prototype.addFirst=function(e){var t=this;this.resViewModals.addPropertyValue("Add a member",this.resource,this.membersProperty,!1,null,!1).then(function(e){var n=e.value,r=[{function:t.skosService.addFirstToOrderedCollection(t.resource,n[0]),value:n[0]}];t.addMultiple(r)},function(){})},MembersOrderedPartitionRenderer.prototype.addLast=function(e){var t=this;this.resViewModals.addPropertyValue("Add a member",this.resource,this.membersProperty,!1,null,!1).then(function(e){var n=e.value,r=[{function:t.skosService.addLastToOrderedCollection(t.resource,n[0]),value:n[0]}];t.addMultiple(r)},function(){})},MembersOrderedPartitionRenderer.prototype.addBefore=function(e){var t=this;this.resViewModals.addPropertyValue("Add a member",this.resource,this.membersProperty,!1,null,!1).then(function(e){var n=parseInt(t.selectedMember.getAdditionalProperty(i.a.INDEX).getValue()),r=e.value,o=[{function:t.skosService.addInPositionToOrderedCollection(t.resource,r[0],n),value:r[0]}];t.addMultiple(o)},function(){})},MembersOrderedPartitionRenderer.prototype.addAfter=function(e){var t=this;this.resViewModals.addPropertyValue("Add a member",this.resource,this.membersProperty,!1,null,!1).then(function(e){var n=parseInt(t.selectedMember.getAdditionalProperty(i.a.INDEX).getValue())+1,r=e.value,o=[{function:t.skosService.addInPositionToOrderedCollection(t.resource,r[0],n),value:r[0]}];t.addMultiple(o)},function(){})},MembersOrderedPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit(null)})},MembersOrderedPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.resourcesService.removeValue(this.resource,e,t)},MembersOrderedPartitionRenderer.prototype.removeMember=function(e){var t=this;this.skosService.removeFromOrderedCollection(this.resource,e).subscribe(function(e){return t.update.emit(null)})},MembersOrderedPartitionRenderer.prototype.getRemovePropImgTitle=function(e){return"Remove "+e.getShow()},MembersOrderedPartitionRenderer=b([n.i(r.c)({selector:"members-ordered-renderer",template:n(1921)}),y("design:paramtypes",[c.a,p.a,l.a,u.a,f.a,h.a,g.a,d.a])],MembersOrderedPartitionRenderer)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(33),d=n(15),u=n(2),f=n(14),h=n(25),g=n(28),m=n(43),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function MembersPartitionRenderer(t,r,o,i,s,l,c,p,d){var u=e.call(this,t,r,o,i,s,l,c)||this;return u.skosService=p,u.eventHandler=d,u.partition=a.a.members,u.addBtnImgTitle="Add member",u.addBtnImgSrc=n(274),u}return v(MembersPartitionRenderer,e),MembersPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},MembersPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a member",this.resource,e,t).then(function(e){var t=e.property,r=e.value,o=[];t.getURI()==n.rootProperty.getURI()?r.forEach(function(e){o.push({function:n.skosService.addToCollection(n.resource,e),value:e})}):r.forEach(function(e){o.push({function:n.resourcesService.addValue(n.resource,t,e).map(function(t){e.getRole()!=i.c.skosCollection&&e.getRole()!=i.c.skosOrderedCollection||n.eventHandler.nestedCollectionAddedEvent.emit({nested:e,container:n.resource})}),value:e})}),n.addMultiple(o)},function(){})},MembersPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},MembersPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit()})},MembersPartitionRenderer.prototype.removeAllValues=function(e){for(var t=[],n=0;n<this.predicateObjectList.length;n++)for(var r=this.predicateObjectList[n].getObjects(),o=0;o<r.length;o++)t.push(this.getRemoveFunction(e,r[o]));this.removeAllRicursively(t)},MembersPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.rootProperty.getURI()==e.getURI()?this.skosService.removeFromCollection(this.resource,t):this.resourcesService.removeValue(this.resource,e,t)},MembersPartitionRenderer=b([n.i(r.c)({selector:"members-renderer",template:n(38)}),y("design:paramtypes",[l.a,c.a,s.a,u.a,f.a,h.a,g.a,p.a,d.a])],MembersPartitionRenderer)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(33),d=n(2),u=n(14),f=n(25),h=n(28),g=n(43),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function NotesPartitionRenderer(t,r,o,i,s,l,c,p){var d=e.call(this,t,r,o,i,s,l,c)||this;return d.skosService=p,d.partition=a.a.notes,d.addBtnImgTitle="Add a note",d.addBtnImgSrc=n(375),d}return m(NotesPartitionRenderer,e),NotesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},NotesPartitionRenderer.prototype.add=function(e){this.enrichProperty(e)},NotesPartitionRenderer.prototype.getPredicateToEnrich=function(){return o.Observable.fromPromise(this.browsingModals.browsePropertyTree("Select a property",[this.rootProperty]).then(function(e){return e},function(){}))},NotesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(!0)},NotesPartitionRenderer.prototype.copyLocaleHandler=function(e,t){var n=this,r=[],o=t.value;t.locales.forEach(function(t){var a=new i.f(o.getValue(),null,t.tag);r.push({function:n.resourcesService.addValue(n.resource,e,a),value:a})}),this.addMultiple(r)},NotesPartitionRenderer.prototype.addPartitionAware=function(e,t,n){var r=this;this.skosService.addNote(e,t,n).subscribe(function(e){return r.update.emit()})},NotesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit(null)})},NotesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.resourcesService.removeValue(this.resource,e,t)},NotesPartitionRenderer=v([n.i(r.c)({selector:"notes-renderer",template:n(38)}),b("design:paramtypes",[l.a,c.a,s.a,d.a,u.a,f.a,h.a,p.a])],NotesPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(11),l=n(16),c=n(23),p=n(12),d=n(33),u=n(111),f=n(2),h=n(14),g=n(25),m=n(28),v=n(303),b=n(43),y=n(234),x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),C=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(e){function PropertiesPartitionRenderer(t,r,o,i,s,l,c,p,d,u){var f=e.call(this,t,r,o,i,s,l,c)||this;return f.skosService=p,f.skosxlService=d,f.lexicalizationEnrichmentHelper=u,f.partition=a.a.properties,f.addBtnImgSrc=n(89),f.addBtnImgTitle="Add a property value",f}return x(PropertiesPartitionRenderer,e),PropertiesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.partitionCollapsed=this.predicateObjectList.length>5},PropertiesPartitionRenderer.prototype.add=function(e){var t=this;e.equals(s.e.prefLabel)||e.equals(s.e.altLabel)||e.equals(s.e.hiddenLabel)||e.equals(s.d.prefLabel)||e.equals(s.d.altLabel)||e.equals(s.d.hiddenLabel)||e.equals(s.b.label)?y.a.getPropertyEnrichmentInfo(e,this.propService,this.basicModals).subscribe(function(n){null!=n.type&&(n.type==y.b.customForm?t.enrichWithCustomForm(e,n.form):t.enrichWithLabel(e))}):this.enrichProperty(e)},PropertiesPartitionRenderer.prototype.enrichWithLabel=function(e){var t=this;if(e.equals(s.e.prefLabel)||e.equals(s.e.altLabel)||e.equals(s.e.hiddenLabel)){var n=e.equals(s.e.prefLabel);this.creationModals.newXLabel("Add "+e.getShow(),null,null,null,null,null,{enabled:!0,allowSameLang:!n}).then(function(n){t.addMultipleLabelValues(e,n.labels,n.cls)},function(){})}else{var n=e.equals(s.d.prefLabel);this.creationModals.newPlainLiteral("Add "+e.getShow(),null,null,null,null,null,{enabled:!0,allowSameLang:!n}).then(function(n){t.addMultipleLabelValues(e,n)},function(){})}},PropertiesPartitionRenderer.prototype.addMultipleLabelValues=function(e,t,n){var r,o=this,i=[];e.equals(s.e.prefLabel)||e.equals(s.e.altLabel)||e.equals(s.e.hiddenLabel)||e.equals(s.d.prefLabel)||e.equals(s.d.altLabel)||e.equals(s.d.hiddenLabel)?(t.forEach(function(t){i.push({function:o.lexicalizationEnrichmentHelper.getAddLabelFn(o.resource,e,t,n),value:t})}),r=function(t){if(1==t.length){var r=t[0].error;r.name.endsWith("PrefAltLabelClashException")||r.name.endsWith("BlacklistForbiddendException")?o.basicModals.confirm("Warning",r.message+" Do you want to force the creation?","warning").then(function(i){o.lexicalizationEnrichmentHelper.getAddLabelFn(o.resource,e,t[0].value,n,!r.name.endsWith("PrefAltLabelClashException"),r.name.endsWith("BlacklistForbiddendException")).subscribe(function(e){return o.update.emit(null)})},function(){}):o.handleSingleMultiAddError(t[0])}else o.handleMultipleMultiAddError(t)}):t.forEach(function(t){i.push({function:o.resourcesService.addValue(o.resource,e,t),value:t})}),this.addMultiple(i,r)},PropertiesPartitionRenderer.prototype.getPredicateToEnrich=function(){return o.Observable.fromPromise(this.browsingModals.browsePropertyTree("Select a property",null,this.resource).then(function(e){return e},function(){}))},PropertiesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return this.propService.getRange(e).flatMap(function(e){return o.Observable.of(c.c.isRangeCompliant(e,t))})},PropertiesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit(null)})},PropertiesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.resourcesService.removeValue(this.resource,e,t)},PropertiesPartitionRenderer.prototype.copyLocaleHandler=function(e,t){var n=this,r=[],o=t.value;t.locales.forEach(function(t){var a=new i.f(o.getValue(),null,t.tag);r.push({function:n.resourcesService.addValue(n.resource,e,a),value:a})}),this.addMultiple(r)},PropertiesPartitionRenderer=C([n.i(r.c)({selector:"properties-renderer",template:n(38)}),R("design:paramtypes",[c.a,p.a,l.a,f.a,h.a,g.a,m.a,d.a,u.a,v.a])],PropertiesPartitionRenderer)}(b.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(1),i=(n.n(o),n(24)),a=n(16),s=n(23),l=n(12),c=n(2),p=n(14),d=n(25),u=n(28),f=n(43),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),g=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){function PropertyChainRenderer(t,r,o,a,s,l,c){var p=e.call(this,t,r,o,a,s,l,c)||this;return p.partition=i.a.subPropertyChains,p.addBtnImgTitle="Add a property chain axion",p.addBtnImgSrc=n(89),p}return h(PropertyChainRenderer,e),PropertyChainRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},PropertyChainRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.createPropertyChain("Create a property chain",e,t).then(function(e){var t=e.property,r=e.chain;n.propService.addPropertyChainAxiom(n.resource,r.join(","),t).subscribe(function(e){return n.update.emit(null)})},function(){})},PropertyChainRenderer.prototype.editHandler=function(e,t){var n=this;this.resViewModals.createPropertyChain("Create a property chain",e,!1,t).then(function(r){var o=r.chain;n.propService.updatePropertyChainAxiom(n.resource,t,o.join(","),e).subscribe(function(e){return n.update.emit(null)})},function(){})},PropertyChainRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(!0)},PropertyChainRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit(null)})},PropertyChainRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.propService.removePropertyChainAxiom(this.resource,t,e)},PropertyChainRenderer=g([n.i(r.c)({selector:"property-chain-renderer",template:n(38)}),m("design:paramtypes",[s.a,l.a,a.a,c.a,p.a,d.a,u.a])],PropertyChainRenderer)}(f.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(11),l=n(16),c=n(23),p=n(12),d=n(17),u=n(10),f=n(2),h=n(14),g=n(25),m=n(28),v=n(43),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function PropertyFacetsPartitionRenderer(t,r,o,i,s,l,c){var p=e.call(this,t,r,o,i,s,l,c)||this;return p.partition=a.a.facets,p.addBtnImgTitle="Add a inverse property",p.addBtnImgSrc=n(89),p}return b(PropertyFacetsPartitionRenderer,e),PropertyFacetsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},PropertyFacetsPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add an inverse property",this.resource,e,t).then(function(e){var t=e.property,r=e.inverseProperty,o=e.value,i=[];o.forEach(function(e){i.push({function:n.propService.addInverseProperty(n.resource,e,t,r),value:e})}),n.addMultiple(i)},function(){})},PropertyFacetsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},PropertyFacetsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit(null)})},PropertyFacetsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.propService.removeInverseProperty(this.resource,t,e)},PropertyFacetsPartitionRenderer.prototype.changeFacet=function(e){e.name==a.e.symmetric?this.setPropertyFacet(s.c.symmetricProperty,e.value):e.name==a.e.asymmetric?this.setPropertyFacet(s.c.asymmetricProperty,e.value):e.name==a.e.functional?this.setPropertyFacet(s.c.functionalProperty,e.value):e.name==a.e.inverseFunctional?this.setPropertyFacet(s.c.inverseFunctionalProperty,e.value):e.name==a.e.reflexive?this.setPropertyFacet(s.c.reflexiveProperty,e.value):e.name==a.e.irreflexive?this.setPropertyFacet(s.c.irreflexiveProperty,e.value):e.name==a.e.transitive&&this.setPropertyFacet(s.c.transitiveProperty,e.value)},PropertyFacetsPartitionRenderer.prototype.setPropertyFacet=function(e,t){var n=this;t?this.resourcesService.addValue(this.resource,s.i.type,e).subscribe(function(e){return n.update.emit(null)}):this.resourcesService.removeValue(this.resource,s.i.type,e).subscribe(function(e){return n.update.emit(null)})},PropertyFacetsPartitionRenderer.prototype.isChangeFacetDisabled=function(e){return!e.explicit||!this.resource.getAdditionalProperty(i.a.EXPLICIT)&&!u.a.isResourceInStagingAdd(this.resource)||this.readonly||!d.b.isAuthorized(this.partition,d.c.U,this.resource)},PropertyFacetsPartitionRenderer.prototype.editHandler=function(e,t){var n=this;this.resViewModals.addPropertyValue("Set inverse property",this.resource,e,!1).then(function(r){n.getRemoveFunctionImpl(e,t).subscribe(function(){var e=r.property,t=r.inverseProperty,o=r.value,i=[];o.forEach(function(r){i.push({function:n.propService.addInverseProperty(n.resource,r,e,t),value:r})}),n.addMultiple(i)})},function(){})},y([n.i(r.r)("facets"),x("design:type",Array)],PropertyFacetsPartitionRenderer.prototype,"facets",void 0),PropertyFacetsPartitionRenderer=y([n.i(r.c)({selector:"property-facets-renderer",template:n(1922)}),x("design:paramtypes",[c.a,p.a,l.a,f.a,h.a,g.a,m.a])],PropertyFacetsPartitionRenderer)}(v.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(121),c=n(23),p=n(12),d=n(2),u=n(14),f=n(25),h=n(28),g=n(43),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function RangesPartitionRenderer(t,r,o,i,s,l,c,p){var d=e.call(this,t,r,o,i,s,l,c)||this;return d.manchService=p,d.partition=a.a.ranges,d.addBtnImgTitle="Add a range",d.addBtnImgSrc=n(151),d}return m(RangesPartitionRenderer,e),RangesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},RangesPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a range",this.resource,e,t).then(function(e){var t=e.property,r=e.value;if(n.resource.getRole()==i.c.datatypeProperty){if(r instanceof Array){var o=[];r[0]instanceof i.f?n.propService.setDataRange(n.resource,r).subscribe(function(e){return n.update.emit(null)}):(t.getURI()==n.rootProperty.getURI()?r.forEach(function(e){o.push({function:n.propService.addPropertyRange(n.resource,e),value:e})}):r.forEach(function(e){o.push({function:n.resourcesService.addValue(n.resource,t,e),value:e})}),n.addMultiple(o))}}else if("string"==typeof r)n.manchService.createRestriction(n.resource,t,r).subscribe(function(e){return n.update.emit(null)});else{var a=[];t.getURI()==n.rootProperty.getURI()?r.forEach(function(e){a.push({function:n.propService.addPropertyRange(n.resource,e),value:e})}):r.forEach(function(e){a.push({function:n.resourcesService.addValue(n.resource,t,e),value:e})}),n.addMultiple(a)}},function(){})},RangesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return e.getRole()==i.c.datatypeProperty?o.Observable.of(t instanceof i.f):o.Observable.of(t instanceof i.b)},RangesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;t instanceof i.d?t.getRole()==i.c.dataRange?this.propService.removeDataranges(this.resource,t).subscribe(function(e){return n.update.emit(null)}):this.manchService.isClassAxiom(t).subscribe(function(r){r?n.manchService.removeExpression(n.resource,e,t).subscribe(function(e){return n.update.emit(null)}):n.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit()})}):this.getRemoveFunction(e,t).subscribe(function(e){return n.update.emit()})},RangesPartitionRenderer.prototype.removeAllValues=function(e){for(var t=this,n=this,r=0;r<this.predicateObjectList.length;r++)!function(){for(var a=n.predicateObjectList[r].getObjects(),s=[],l=[],c=0;c<a.length;c++){var p=a[c];p instanceof i.d?s.push(p):l.push(p)}if(s.length>0){for(var d=[],c=0;c<s.length;c++)d.push(n.manchService.isClassAxiom(s[c]));for(var u=[],c=0;c<l.length;c++)u.push(n.getRemoveFunction(e,l[c]));o.Observable.forkJoin(d).subscribe(function(n){for(var r=0;r<n.length;r++)n[r]?u.push(t.manchService.removeExpression(t.resource,e,s[r])):u.push(t.getRemoveFunction(e,s[r]));t.removeAllRicursively(u)})}else{for(var f=[],c=0;c<a.length;c++)f.push(n.getRemoveFunction(e,a[c]));n.removeAllRicursively(f)}}()},RangesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.rootProperty.getURI()==e.getURI()?this.propService.removePropertyRange(this.resource,t):this.resourcesService.removeValue(this.resource,e,t)},RangesPartitionRenderer=v([n.i(r.c)({selector:"ranges-renderer",template:n(38)}),b("design:paramtypes",[c.a,p.a,s.a,d.a,u.a,f.a,h.a,l.a])],RangesPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(33),d=n(15),u=n(2),f=n(14),h=n(25),g=n(28),m=n(43),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function RdfsMembersPartitionRenderer(t,r,o,i,s,l,c,p,d){var u=e.call(this,t,r,o,i,s,l,c)||this;return u.skosService=p,u.eventHandler=d,u.partition=a.a.rdfsMembers,u.addBtnImgTitle="Add member",u.addBtnImgSrc=n(89),u}return v(RdfsMembersPartitionRenderer,e),RdfsMembersPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},RdfsMembersPartitionRenderer.prototype.add=function(e,t){var n=this;this.resource.getRole()==i.c.ontolexLexicalEntry&&this.basicModals.confirm("Add member","It is not recommended to edit the member list from this section. There are no checks on the rdf:_n predicate so you could compromise the integrity of the list. Do you want to continue?","warning").then(function(r){n.resViewModals.addRdfsMembers(e,t).then(function(e){var t=e.property,r=e.value;n.resourcesService.addValue(n.resource,t,r).subscribe(function(e){n.update.emit(null)})},function(){})},function(e){})},RdfsMembersPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},RdfsMembersPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.resource.getRole()==i.c.ontolexLexicalEntry?this.basicModals.confirm("Delete member","Deleting a single member of an ordered constituent list could compromise the integrity of the members section. If you want to edit the members, it is highly recommended to add a new constituent list from the constituents section. Do you want to confirm the deletion?","warning").then(function(r){n.getRemoveFunction(e,t).subscribe(function(e){n.update.emit()})},function(e){}):this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit()})},RdfsMembersPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.resourcesService.removeValue(this.resource,e,t)},RdfsMembersPartitionRenderer=b([n.i(r.c)({selector:"rdfs-members-renderer",template:n(38)}),y("design:paramtypes",[l.a,c.a,s.a,u.a,f.a,h.a,g.a,p.a,d.a])],RdfsMembersPartitionRenderer)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(33),d=n(15),u=n(2),f=n(14),h=n(25),g=n(28),m=n(43),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function SchemesPartitionRenderer(t,r,o,i,s,l,c,p,d){var u=e.call(this,t,r,o,i,s,l,c)||this;return u.skosService=p,u.eventHandler=d,u.partition=a.a.schemes,u.addBtnImgTitle="Add to a ConceptScheme",u.addBtnImgSrc=n(272),u}return v(SchemesPartitionRenderer,e),SchemesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},SchemesPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add Concept to a Scheme",this.resource,e,t).then(function(e){var t=e.property,r=e.value,o=[];t.getURI()==n.rootProperty.getURI()?r.forEach(function(e){o.push({function:n.skosService.addConceptToScheme(n.resource,e),value:e})}):r.forEach(function(e){o.push({function:n.resourcesService.addValue(n.resource,t,e),value:e})}),n.addMultiple(o)},function(){})},SchemesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},SchemesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(r){n.rootProperty.getURI()!=e.getURI()&&n.eventHandler.conceptRemovedFromSchemeEvent.emit({concept:n.resource,scheme:t}),n.update.emit(null)})},SchemesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.rootProperty.getURI()==e.getURI()?this.skosService.removeConceptFromScheme(this.resource,t):this.resourcesService.removeValue(this.resource,e,t)},SchemesPartitionRenderer=b([n.i(r.c)({selector:"schemes-renderer",template:n(38)}),y("design:paramtypes",[l.a,c.a,s.a,u.a,f.a,h.a,g.a,p.a,d.a])],SchemesPartitionRenderer)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(70),c=n(23),p=n(12),d=n(2),u=n(14),f=n(25),h=n(28),g=n(43),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function SubtermsPartitionRenderer(t,r,o,i,s,l,c,p){var d=e.call(this,t,r,o,i,s,l,c)||this;return d.ontolexService=p,d.partition=a.a.subterms,d.addBtnImgTitle="Add a Subterm",d.addBtnImgSrc=n(128),d}return m(SubtermsPartitionRenderer,e),SubtermsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},SubtermsPartitionRenderer.prototype.add=function(e,t){var n=this;this.browsingModals.browseLexicalEntryList("Add a subterm",null,!0,!0,!1,!0).then(function(t){var r=[];t.forEach(function(t){r.push({function:n.ontolexService.addSubterm(n.resource,t,e),value:t})}),n.addMultiple(r)},function(){})},SubtermsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},SubtermsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit()})},SubtermsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.ontolexService.removeSubterm(this.resource,t,e)},SubtermsPartitionRenderer=v([n.i(r.c)({selector:"subterms-renderer",template:n(38)}),b("design:paramtypes",[c.a,p.a,s.a,d.a,u.a,f.a,h.a,l.a])],SubtermsPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(15),d=n(2),u=n(14),f=n(25),h=n(28),g=n(43),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function SuperPropertiesPartitionRenderer(t,r,o,i,s,l,c,p){var d=e.call(this,t,r,o,i,s,l,c)||this;return d.eventHandler=p,d.partition=a.a.superproperties,d.addBtnImgTitle="Add a superproperty",d.addBtnImgSrc=n(89),d}return m(SuperPropertiesPartitionRenderer,e),SuperPropertiesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},SuperPropertiesPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a superproperty",this.resource,e,t).then(function(e){var t=e.property,r=e.inverseProperty,o=e.value,i=[];o.forEach(function(e){i.push({function:n.propService.addSuperProperty(n.resource,e,t,r),value:e})}),n.addMultiple(i)},function(){})},SuperPropertiesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},SuperPropertiesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(e){n.update.emit(null)})},SuperPropertiesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.propService.removeSuperProperty(this.resource,t,e)},SuperPropertiesPartitionRenderer=v([n.i(r.c)({selector:"superproperties-renderer",template:n(38)}),b("design:paramtypes",[l.a,c.a,s.a,d.a,u.a,f.a,h.a,p.a])],SuperPropertiesPartitionRenderer)}(g.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(23),c=n(12),p=n(33),d=n(15),u=n(2),f=n(14),h=n(25),g=n(28),m=n(43),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function TopConceptsPartitionRenderer(t,r,o,i,s,l,c,p,d){var u=e.call(this,t,r,o,i,s,l,c)||this;return u.skosService=p,u.eventHandler=d,u.partition=a.a.topconceptof,u.addBtnImgTitle="Add to a skos:ConceptScheme as topConcept",u.addBtnImgSrc=n(272),u}return v(TopConceptsPartitionRenderer,e),TopConceptsPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},TopConceptsPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Set as top Concept of",this.resource,e,t).then(function(e){var t=e.property,r=e.value,o=[];t.getURI()==n.rootProperty.getURI()?r.forEach(function(e){o.push({function:n.skosService.addTopConcept(n.resource,e),value:e})}):r.forEach(function(e){o.push({function:n.resourcesService.addValue(n.resource,t,e).map(function(t){n.eventHandler.topConceptCreatedEvent.emit({concept:n.resource,schemes:[e]})}),value:e})}),n.addMultiple(o)},function(){})},TopConceptsPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},TopConceptsPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(r){n.rootProperty.getURI()!=e.getURI()&&n.eventHandler.conceptRemovedAsTopConceptEvent.emit({concept:n.resource,scheme:t}),n.update.emit()})},TopConceptsPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.rootProperty.getURI()==e.getURI()?this.skosService.removeTopConcept(this.resource,t):this.resourcesService.removeValue(this.resource,e,t)},TopConceptsPartitionRenderer=b([n.i(r.c)({selector:"top-concepts-renderer",template:n(38)}),y("design:paramtypes",[l.a,c.a,s.a,u.a,f.a,h.a,g.a,p.a,d.a])],TopConceptsPartitionRenderer)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(1),i=(n.n(o),n(3)),a=n(24),s=n(16),l=n(160),c=n(23),p=n(12),d=n(15),u=n(2),f=n(14),h=n(25),g=n(28),m=n(43),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(e){function TypesPartitionRenderer(t,r,o,i,s,l,c,p,d){var u=e.call(this,t,r,o,i,s,l,c)||this;return u.individualService=p,u.eventHandler=d,u.partition=a.a.types,u.addBtnImgTitle="Add a type",u.addBtnImgSrc=n(151),u}return v(TypesPartitionRenderer,e),TypesPartitionRenderer.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},TypesPartitionRenderer.prototype.add=function(e,t){var n=this;this.resViewModals.addPropertyValue("Add a type",this.resource,e,t).then(function(e){var t=e.property,r=e.value,o=[];t.getURI()==n.rootProperty.getURI()?r.forEach(function(e){o.push({function:n.individualService.addType(n.resource,e),value:e})}):r.forEach(function(e){o.push({function:n.resourcesService.addValue(n.resource,t,e).map(function(t){n.eventHandler.typeAddedEvent.emit({resource:n.resource,type:e})}),value:e})}),n.addMultiple(o)},function(){})},TypesPartitionRenderer.prototype.checkTypeCompliantForManualAdd=function(e,t){return o.Observable.of(t instanceof i.b)},TypesPartitionRenderer.prototype.removePredicateObject=function(e,t){var n=this;this.getRemoveFunction(e,t).subscribe(function(r){n.rootProperty.getURI()!=e.getURI()&&n.eventHandler.typeRemovedEvent.emit({resource:n.resource,type:t}),n.update.emit(null)})},TypesPartitionRenderer.prototype.getRemoveFunctionImpl=function(e,t){return this.rootProperty.getURI()==e.getURI()?this.individualService.removeType(this.resource,t):this.resourcesService.removeValue(this.resource,e,t)},TypesPartitionRenderer=b([n.i(r.c)({selector:"types-renderer",template:n(38)}),y("design:paramtypes",[c.a,p.a,s.a,u.a,f.a,h.a,g.a,l.a,d.a])],TypesPartitionRenderer)}(m.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(3),i=n(24),a=n(17),s=n(10),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function PredicateObjectsRenderer(){this.add=new r.i,this.remove=new r.i,this.edit=new r.i,this.update=new r.i,this.copyLocaleOutput=new r.i,this.dblclickObj=new r.i,this.addDisabled=!1,this.deleteAllDisabled=!1,this.actionMenuDisabled=!1,this.addManuallyAllowed=!1,this.addExteranlResourceAllowed=!1,this.pagingLimit=10,this.limitActive=!0}return PredicateObjectsRenderer.prototype.ngOnInit=function(){this.actionAddTitle="Add a "+this.predicateObjects.getPredicate().getShow()},PredicateObjectsRenderer.prototype.ngOnChanges=function(e){(e.resource||e.readonly)&&this.initActionsStatus()},PredicateObjectsRenderer.prototype.initActionsStatus=function(){if(this.addDisabled=!this.resource.getAdditionalProperty(o.a.EXPLICIT)&&!s.a.isResourceInStagingAdd(this.resource)||this.readonly||!a.b.isAuthorized(this.partition,a.c.C,this.resource),this.deleteAllDisabled=!this.resource.getAdditionalProperty(o.a.EXPLICIT)||s.a.isResourceInStaging(this.resource)||this.readonly||!a.b.isAuthorized(this.partition,a.c.D,this.resource),!this.deleteAllDisabled)for(var e=0,t=this.predicateObjects.getObjects();e<t.length;e++){var n=t[e];if(!a.b.isAuthorized(this.partition,a.c.D,this.resource,n)){this.deleteAllDisabled=!0;break}}this.actionMenuDisabled=this.addDisabled&&this.deleteAllDisabled,this.addManuallyAllowed=-1!=i.c.addManuallyPartition.indexOf(this.partition),this.addExteranlResourceAllowed=-1!=i.c.addExternalResourcePartition.indexOf(this.partition)},PredicateObjectsRenderer.prototype.addValue=function(){this.add.emit(i.d.default)},PredicateObjectsRenderer.prototype.addManually=function(){this.add.emit(i.d.manually)},PredicateObjectsRenderer.prototype.addExternalValue=function(){this.add.emit(i.d.remote)},PredicateObjectsRenderer.prototype.removeValue=function(e){this.remove.emit(e)},PredicateObjectsRenderer.prototype.removeAllValues=function(){this.remove.emit()},PredicateObjectsRenderer.prototype.onEdit=function(e){this.edit.emit(e)},PredicateObjectsRenderer.prototype.onUpdate=function(){this.update.emit()},PredicateObjectsRenderer.prototype.onDblClick=function(e){this.dblclickObj.emit(e)},PredicateObjectsRenderer.prototype.onCopyLocale=function(e,t){this.copyLocaleOutput.emit({value:t,locales:e})},PredicateObjectsRenderer.prototype.showObject=function(e){return!this.limitActive||e<this.pagingLimit},PredicateObjectsRenderer.prototype.showAllButton=function(){return this.limitActive&&this.pagingLimit<this.predicateObjects.getObjects().length},PredicateObjectsRenderer.prototype.showAll=function(){this.limitActive=!1},l([n.i(r.r)("pred-obj"),c("design:type",o.g)],PredicateObjectsRenderer.prototype,"predicateObjects",void 0),l([n.i(r.r)(),c("design:type",o.e)],PredicateObjectsRenderer.prototype,"resource",void 0),l([n.i(r.r)(),c("design:type",Boolean)],PredicateObjectsRenderer.prototype,"readonly",void 0),l([n.i(r.r)(),c("design:type",Boolean)],PredicateObjectsRenderer.prototype,"rendering",void 0),l([n.i(r.r)(),c("design:type",String)],PredicateObjectsRenderer.prototype,"partition",void 0),l([n.i(r._7)(),c("design:type",r.i)],PredicateObjectsRenderer.prototype,"add",void 0),l([n.i(r._7)(),c("design:type",r.i)],PredicateObjectsRenderer.prototype,"remove",void 0),l([n.i(r._7)(),c("design:type",r.i)],PredicateObjectsRenderer.prototype,"edit",void 0),l([n.i(r._7)(),c("design:type",Object)],PredicateObjectsRenderer.prototype,"update",void 0),l([n.i(r._7)("copyLocale"),c("design:type",Object)],PredicateObjectsRenderer.prototype,"copyLocaleOutput",void 0),l([n.i(r._7)(),c("design:type",r.i)],PredicateObjectsRenderer.prototype,"dblclickObj",void 0),PredicateObjectsRenderer=l([n.i(r.c)({selector:"pred-obj-renderer",template:n(1923),styles:["\n        :host {\n            display: block;\n            margin-bottom: 4px;\n        }\n        .imported {\n            background-color: #ffffee\n        }\n        .inferred {\n            background-color: #eff0ff\n        }\n    "]})],PredicateObjectsRenderer)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(3),i=(n(24),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function ResourceViewValueRenderer(){this.delete=new r.i,this.update=new r.i,this.edit=new r.i,this.copyLocale=new r.i,this.dblClick=new r.i,this.link=new r.i,this.importedClass=!1,this.inferredClass=!1}return ResourceViewValueRenderer.prototype.ngOnInit=function(){var e=this;this.importedClass=this.object.getAdditionalProperty(o.a.TRIPLE_SCOPE)==o.n.imported,this.inferredClass=this.object.getAdditionalProperty(o.a.TRIPLE_SCOPE)==o.n.inferred;var t=this.object.getTripleGraphs();1==t.length?this.graphTitle="Graph: "+t[0].getURI():t.length>1&&(this.graphTitle="Graphs:",t.forEach(function(t){e.graphTitle+="\n"+t.getURI()}))},ResourceViewValueRenderer.prototype.renderAsReified=function(){return this.predicate.getAdditionalProperty(o.a.HAS_CUSTOM_RANGE)&&this.object.isResource()&&!this.object.getAdditionalProperty(o.a.NOT_REIFIED)},ResourceViewValueRenderer.prototype.onDelete=function(){this.delete.emit()},ResourceViewValueRenderer.prototype.onEdit=function(){this.edit.emit()},ResourceViewValueRenderer.prototype.onUpdate=function(){this.update.emit()},ResourceViewValueRenderer.prototype.onDblClick=function(){this.object.isResource()&&this.dblClick.emit()},ResourceViewValueRenderer.prototype.onLinkClick=function(e){this.link.emit(e)},ResourceViewValueRenderer.prototype.onCopyLocale=function(e){this.copyLocale.emit(e)},i([n.i(r.r)(),a("design:type",String)],ResourceViewValueRenderer.prototype,"partition",void 0),i([n.i(r.r)(),a("design:type",o.e)],ResourceViewValueRenderer.prototype,"subject",void 0),i([n.i(r.r)(),a("design:type",o.b)],ResourceViewValueRenderer.prototype,"predicate",void 0),i([n.i(r.r)(),a("design:type",o.m)],ResourceViewValueRenderer.prototype,"object",void 0),i([n.i(r.r)(),a("design:type",Boolean)],ResourceViewValueRenderer.prototype,"rendering",void 0),i([n.i(r.r)(),a("design:type",Boolean)],ResourceViewValueRenderer.prototype,"readonly",void 0),i([n.i(r._7)(),a("design:type",Object)],ResourceViewValueRenderer.prototype,"delete",void 0),i([n.i(r._7)(),a("design:type",Object)],ResourceViewValueRenderer.prototype,"update",void 0),i([n.i(r._7)(),a("design:type",Object)],ResourceViewValueRenderer.prototype,"edit",void 0),i([n.i(r._7)(),a("design:type",Object)],ResourceViewValueRenderer.prototype,"copyLocale",void 0),i([n.i(r._7)(),a("design:type",Object)],ResourceViewValueRenderer.prototype,"dblClick",void 0),i([n.i(r._7)(),a("design:type",r.i)],ResourceViewValueRenderer.prototype,"link",void 0),i([n.i(r._5)("class.imported"),a("design:type",Boolean)],ResourceViewValueRenderer.prototype,"importedClass",void 0),i([n.i(r._5)("class.inferred"),a("design:type",Boolean)],ResourceViewValueRenderer.prototype,"inferredClass",void 0),ResourceViewValueRenderer=i([n.i(r.c)({selector:"resview-value-renderer",template:n(1924),host:{class:"listItem"},styles:["\n        .imported {\n            background-color: #ffffee\n        }\n        .inferred {\n            background-color: #eff0ff\n        }\n    "]})],ResourceViewValueRenderer)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(22),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=function(){function DataRangeEditor(){this.datarange=[],this.propagateChange=function(e){}}return e=DataRangeEditor,DataRangeEditor.prototype.ngOnInit=function(){void 0===this.datarange&&(this.datarange=[])},DataRangeEditor.prototype.add=function(){for(var e=0;e<this.datarange.length;e++)if(this.datarange[e].getValue()==this.value.getValue()&&this.datarange[e].getDatatype()==this.value.getDatatype())return;this.datarange.push(this.value),this.propagateChange(this.datarange),this.value=null},DataRangeEditor.prototype.remove=function(e){this.datarange.splice(this.datarange.indexOf(e),1),this.propagateChange(this.datarange)},DataRangeEditor.prototype.writeValue=function(e){e&&(this.datarange=e)},DataRangeEditor.prototype.registerOnChange=function(e){this.propagateChange=e},DataRangeEditor.prototype.registerOnTouched=function(e){},DataRangeEditor=e=i([n.i(r.c)({selector:"data-range-editor",template:n(1931),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]})],DataRangeEditor);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(22),i=n(230),a=n(11),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function DatatypeFacetsEditor(){this.base=a.j.string,this.baseOpts=i.a.xsdBuiltInTypes,this.EXCLUSIVE="Exclusive",this.INCLUSIVE="Inclusive",this.inclusiveExclusive=[this.EXCLUSIVE,this.INCLUSIVE],this.minIE=this.inclusiveExclusive[0],this.maxIE=this.inclusiveExclusive[0],this.propagateChange=function(e){}}return e=DatatypeFacetsEditor,DatatypeFacetsEditor.prototype.isBaseNumeric=function(){var e=this;return i.a.xsdNumericDatatypes.some(function(t){return t.equals(e.base)})},DatatypeFacetsEditor.prototype.onFacetsChange=function(){var e=new i.c;e.base=this.base,e.facets.pattern=this.pattern,this.isBaseNumeric()&&(null!=this.min&&(this.minIE==this.INCLUSIVE?e.facets.minInclusive=this.min:e.facets.minExclusive=this.min),null!=this.max&&(this.maxIE==this.INCLUSIVE?e.facets.maxInclusive=this.max:e.facets.maxExclusive=this.max)),this.propagateChange(e)},DatatypeFacetsEditor.prototype.writeValue=function(e){null!=e&&(this.base=this.baseOpts.find(function(t){return t.equals(e.base)}),this.pattern=e.facets.pattern,null==e.facets.minExclusive&&null==e.facets.minInclusive||(this.min=null!=e.facets.minExclusive?e.facets.minExclusive:e.facets.minInclusive,this.minIE=null!=e.facets.minExclusive?this.EXCLUSIVE:this.INCLUSIVE),null==e.facets.maxExclusive&&null==e.facets.maxInclusive||(this.max=null!=e.facets.maxExclusive?e.facets.maxExclusive:e.facets.maxInclusive,this.maxIE=null!=e.facets.maxExclusive?this.EXCLUSIVE:this.INCLUSIVE))},DatatypeFacetsEditor.prototype.registerOnChange=function(e){this.propagateChange=e},DatatypeFacetsEditor.prototype.registerOnTouched=function(e){},DatatypeFacetsEditor=e=s([n.i(r.c)({selector:"datatype-facets-editor",template:n(1933),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),l("design:paramtypes",[])],DatatypeFacetsEditor);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r,o=n(0),i=n(3),a=n(66),s=n(24),l=n(11),c=n(121),p=n(23),d=n(162),u=n(12),f=n(17),h=n(138),g=n(10),m=n(20),v=n(6),b=n(2),y=n(14),x=n(25),C=n(13),R=n(28),S=n(554),P=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),E=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},I=function(e){function EditableResourceComponent(t,n,i,a,s,l,c,p,d,u){var f=e.call(this)||this;return f.resourcesService=t,f.propService=n,f.manchesterService=i,f.refactorService=a,f.basicModals=s,f.sharedModals=l,f.creationModals=c,f.browsingModals=p,f.rvModalService=d,f.dtValidator=u,f.update=new o.i,f.editOutput=new o.i,f.copyLocaleOutput=new o.i,f.link=new o.i,f.isImage=!1,f.editActionScenario=r.default,f.editMenuDisabled=!1,f.editAuthorized=!1,f.bulkEditAuthorized=!1,f.deleteAuthorized=!1,f.bulkDeleteAuthorized=!1,f.spawnFromLabelAuthorized=!1,f.moveLabelAuthorized=!1,f.assertAuthorized=!1,f.copyLocalesAuthorized=!1,f.isInferred=!1,f.isXLabelMenuItemAvailable=!1,f.isReplaceMenuItemAvailable=!0,f.isBulkActionMenuItemAvailable=!0,f.copyLocalesAction={available:!1,locales:[]},f.editInProgress=!1,f.bulkEditInProgress=!1,f.editLiteralInProgress=!1,f}return P(EditableResourceComponent,e),EditableResourceComponent.prototype.ngOnInit=function(){v.a.getWorkingProjectCtx().getProjectPreferences().resViewPreferences.displayImg&&this.resource.getAdditionalProperty(i.a.IS_IMAGE)&&(this.isImage=!0),this.resource instanceof i.f&&null==this.resource.getDatatype()?this.editActionScenario=r.langTaggedLiteral:this.resource instanceof i.f&&null!=this.resource.getDatatype()?this.editActionScenario=r.typedLiteral:this.resource instanceof i.e&&this.resource.getRole()==i.c.xLabel?this.editActionScenario=r.xLabel:this.partition==s.a.datatypeDefinitions||this.partition==s.a.subPropertyChains||this.partition==s.a.facets&&this.resource.isBNode()&&this.resource.getAdditionalProperty(i.a.SHOW_INTERPR)==i.o.ope?this.editActionScenario=r.partition:this.partition==s.a.classaxioms&&this.resource.isBNode()&&this.resource.getAdditionalProperty(i.a.SHOW_INTERPR)==i.o.descr&&(this.editActionScenario=r.manchesterDescr),this.isXLabelMenuItemAvailable=this.partition==s.a.lexicalizations&&this.subject.getRole()==i.c.concept&&this.resource.isResource()&&this.resource.getRole()==i.c.xLabel,this.isReplaceMenuItemAvailable=this.partition==s.a.classaxioms&&this.resource.isURIResource()||this.partition!=s.a.subPropertyChains&&this.partition!=s.a.classaxioms&&this.partition!=s.a.datatypeDefinitions&&this.resource.isResource(),this.isBulkActionMenuItemAvailable=this.partition==s.a.broaders||this.partition==s.a.classaxioms&&this.resource instanceof i.b||this.partition==s.a.disjointProperties||this.partition==s.a.domains&&this.resource instanceof i.b||this.partition==s.a.equivalentProperties||this.partition==s.a.labelRelations||this.partition==s.a.members||this.partition==s.a.ranges&&this.resource instanceof i.b||this.partition==s.a.schemes||this.partition==s.a.subterms||this.partition==s.a.superproperties||this.partition==s.a.topconceptof||this.partition==s.a.types,this.isInferred=g.a.isTripleInferred(this.resource);var e=g.a.containsNode(this.resource.getTripleGraphs(),new i.b(v.a.getWorkingProject().getBaseURI()));if(this.editMenuDisabled=!this.isInferred&&!e||this.readonly||g.a.isTripleInStaging(this.resource),this.editAuthorized=f.b.isAuthorized(this.partition,f.c.U,this.subject,this.resource),this.deleteAuthorized=f.b.isAuthorized(this.partition,f.c.D,this.subject,this.resource),this.spawnFromLabelAuthorized=f.a.isAuthorized(m.a.refactorSpawnNewConceptFromLabel,null,this.resource),this.moveLabelAuthorized=f.a.isAuthorized(m.a.refactorMoveXLabelToResource,this.subject,this.resource),this.assertAuthorized=f.a.isAuthorized(m.a.resourcesAddValue,this.subject),this.copyLocalesAuthorized=f.b.isAuthorized(this.partition,f.c.C,this.subject,this.resource),this.bulkEditAuthorized=this.editAuthorized&&f.a.isAuthorized(m.a.resourcesUpdatePredicateObject),this.bulkDeleteAuthorized=this.deleteAuthorized&&f.a.isAuthorized(m.a.resourcesRemovePredicateObject),null!=this.resource.getAdditionalProperty(i.a.LANG)&&(this.partition==s.a.properties&&this.editActionScenario==r.langTaggedLiteral||this.partition==s.a.notes&&this.editActionScenario==r.langTaggedLiteral||this.partition==s.a.lexicalizations&&(this.editActionScenario==r.langTaggedLiteral||this.editActionScenario==r.xLabel))){var t=v.a.getWorkingProjectCtx().getProjectSettings().projectLanguagesSetting,n=v.a.getProjectUserBinding().getLanguages(),o=void 0;o=0==n.length&&v.a.getLoggedUser().isAdmin()?t:t.filter(function(e){return-1!=n.indexOf(e.tag)});var l=a.a.getLocales(o,this.resource.getAdditionalProperty(i.a.LANG));this.copyLocalesAction={available:l.length>0,locales:l}}},EditableResourceComponent.prototype.editLiteral=function(){this.editActionScenario==r.xLabel?this.resourceStringValue=this.resource.getShow():this.editActionScenario!=r.typedLiteral&&this.editActionScenario!=r.langTaggedLiteral||(this.resourceStringValue=this.resource.getValue()),this.resourceStringValuePristine=this.resourceStringValue,this.editLiteralInProgress=!0},EditableResourceComponent.prototype.edit=function(){var e=this;this.editActionScenario==r.partition?this.editOutput.emit():this.editActionScenario==r.manchesterDescr?this.sharedModals.manchesterExpression("Edit expression",this.resource.getShow()).then(function(t){t!=e.resource.getShow()&&e.manchesterService.updateExpression(t,e.resource).subscribe(function(){e.update.emit()})},function(){}):this.resource instanceof i.d&&this.resource.getRole()==i.c.dataRange?this.rvModalService.editDataRange(this.resource).then(function(t){e.update.emit()},function(){}):null==this.rangeType?this.propService.getRange(this.predicate).subscribe(function(t){e.ranges=t.ranges,null!=e.ranges&&e.ranges.type==i.h.literal&&null!=e.ranges.rangeCollection&&null!=e.ranges.rangeCollection.dataRanges?e.creationModals.newTypedLiteral("Edit "+e.predicate.getShow(),e.predicate,e.ranges.rangeCollection.resources,e.ranges.rangeCollection.dataRanges,!0).then(function(t){e.updateTriple(e.subject,e.predicate,e.resource,t[0])},function(){}):(e.computeResourceStringValue(),e.editInProgress=!0)}):(this.computeResourceStringValue(),this.editInProgress=!0)},EditableResourceComponent.prototype.bulkEdit=function(){this.computeResourceStringValue(),this.bulkEditInProgress=!0},EditableResourceComponent.prototype.computeResourceStringValue=function(){if(this.resourceStringValue=this.resource.toNT(),null!=this.ranges){var e=this.ranges.type;if(e==i.h.resource)if(this.rangeType=i.h.resource,this.resource instanceof i.e&&this.resource.getRole()==i.c.xLabel){var t=new i.f(this.resource.getShow(),null,this.resource.getAdditionalProperty(i.a.LANG));this.resourceStringValue=t.toNT()}else this.resource instanceof i.d&&null!=this.resource.getAdditionalProperty(i.a.SHOW_INTERPR)&&(this.resourceStringValue=this.resource.getShow());else e.toLowerCase().includes("literal")?this.rangeType=i.h.literal:this.rangeType=i.h.undetermined;this.resourceStringValuePristine=this.resourceStringValue}},EditableResourceComponent.prototype.confirmEdit=function(){var e=this;if(this.resourceStringValue!=this.resourceStringValuePristine){if(this.editLiteralInProgress){if(this.editActionScenario==r.langTaggedLiteral){var t=new i.f(this.resourceStringValue,null,this.resource.getLang());this.partition==s.a.lexicalizations?this.updateLexicalization(this.subject,this.predicate,this.resource,t):this.updateTriple(this.subject,this.predicate,this.resource,t)}else if(this.editActionScenario==r.typedLiteral){var t=new i.f(this.resourceStringValue,this.resource.getDatatype(),null);if(!this.isTypedLiteralValid(t))return this.basicModals.alert("Invalid value",t.getValue()+" is not a valid value for the given datatype: "+t.getDatatype(),"warning"),void this.cancelEdit();this.updateTriple(this.subject,this.predicate,this.resource,t)}else if(this.editActionScenario==r.xLabel){var n=new i.f(this.resource.getShow(),null,this.resource.getAdditionalProperty(i.a.LANG)),t=new i.f(this.resourceStringValue,null,this.resource.getAdditionalProperty(i.a.LANG));this.partition==s.a.lexicalizations?this.updateLexicalization(this.resource,l.e.literalForm,n,t):this.updateTriple(this.resource,l.e.literalForm,n,t)}}else if(this.bulkEditInProgress)try{var o=this.parseEditedValue();if(this.isPropertyRangeInconsistentWithNewValue(o)){var a="The type of the new value is not compliant with the range of the property "+this.predicate.getShow()+". The change may cause an inconsistency. Do you want to apply the change? ";this.basicModals.confirm("Warning",a,"warning").then(function(t){e.resourcesService.updatePredicateObject(e.predicate,e.resource,o).subscribe(function(t){return e.update.emit()})},function(t){e.cancelEdit()})}else this.basicModals.confirm("Bulk edit","Warning. You are updating the value for every resource that has this predicate-value relation. Are you sure?").then(function(){e.resourcesService.updatePredicateObject(e.predicate,e.resource,o).subscribe(function(t){return e.update.emit()})},function(){e.cancelEdit()})}catch(e){this.basicModals.alert("Edit",e,"warning"),this.cancelEdit()}else if(this.editInProgress)try{try{var c=this.parseEditedValue();if(this.isPropertyRangeInconsistentWithNewValue(c)){var a="The type of the new value is not compliant with the range of the property "+this.predicate.getShow()+". The change may cause an inconsistency. Do you want to apply the change?";this.basicModals.confirm("Warning",a,"warning").then(function(t){e.updateTriple(e.subject,e.predicate,e.resource,c)},function(t){e.cancelEdit()})}else this.updateTriple(this.subject,this.predicate,this.resource,c)}catch(e){if(this.resource.isBNode()&&null!=this.resource.getAdditionalProperty(i.a.SHOW_INTERPR))return void this.applyManchesterUpdate(this.resource,this.resourceStringValue);throw e}}catch(e){this.basicModals.alert("Edit",e,"warning"),this.cancelEdit()}}else this.cancelEdit()},EditableResourceComponent.prototype.parseEditedValue=function(){var e;if(this.resourceStringValue.startsWith("<")&&this.resourceStringValue.endsWith(">"))e=g.a.parseURI(this.resourceStringValue);else if(this.resourceStringValue.startsWith("_:"))e=g.a.parseBNode(this.resourceStringValue);else if(this.resourceStringValue.startsWith('"')){e=g.a.parseLiteral(this.resourceStringValue);var t=e;if(null!=t.getDatatype()&&!this.isTypedLiteralValid(t))throw new Error(t.getValue()+" is not a valid value for the given datatype: "+t.getDatatype())}else{if(!g.a.isQName(this.resourceStringValue,v.a.getPrefixMappings()))throw new Error("Not a valid N-Triples representation: "+this.resourceStringValue);e=g.a.parseQName(this.resourceStringValue,v.a.getPrefixMappings())}return e},EditableResourceComponent.prototype.isPropertyRangeInconsistentWithNewValue=function(e){if(this.rangeType==i.h.literal&&!e.isLiteral())return!0;if(this.rangeType==i.h.resource){if(g.a.containsNode(this.ranges.rangeCollection.resources,l.b.literal)&&e.isLiteral())return!1;if(!e.isResource())return!0}return!1},EditableResourceComponent.prototype.updateTriple=function(e,t,n,r){var o=this;this.resourcesService.updateTriple(e,t,n,r).subscribe(function(e){o.cancelEdit,o.update.emit()})},EditableResourceComponent.prototype.updateLexicalization=function(e,t,n,r){var o=this;this.resourcesService.updateLexicalization(e,t,n,r).subscribe(function(e){o.cancelEdit,o.update.emit()})},EditableResourceComponent.prototype.applyManchesterUpdate=function(e,t){var n=this;this.manchesterService.checkExpression(t).subscribe(function(r){if(r.valid)n.manchesterService.updateExpression(n.resourceStringValue,e).subscribe(function(e){n.cancelEdit(),n.update.emit()});else{var o=r.details.map(function(e){return e.msg});n.basicModals.alert("Invalid Expression","'"+t+"' is not a valid Manchester Expression","warning",o.join("\n"))}})},EditableResourceComponent.prototype.cancelEdit=function(){this.editInProgress=!1,this.bulkEditInProgress=!1,this.editLiteralInProgress=!1},EditableResourceComponent.prototype.isTypedLiteralValid=function(e){var t=new i.b(e.getDatatype());return this.dtValidator.isValid(e,t)},EditableResourceComponent.prototype.replace=function(){var e=this;this.rvModalService.addPropertyValue("Replace",this.subject,this.predicate,!1,null,!1).then(function(t){e.updateTriple(e.subject,e.predicate,e.resource,t.value[0])},function(){})},EditableResourceComponent.prototype.spawnNewConceptWithLabel=function(){var e=this;this.creationModals.newConceptFromLabel("Spawn new concept",this.resource,l.d.concept,!0,this.subject).then(function(t){var n=e.subject;e.refactorService.spawnNewConceptFromLabel(e.resource,t.schemes,n,t.uriResource,t.broader,t.cfValue).subscribe(function(t){e.update.emit()})},function(){})},EditableResourceComponent.prototype.moveLabelToConcept=function(){var e=this;this.browsingModals.browsePropertyTree("Select a lexicalization predicate",[l.e.prefLabel,l.e.altLabel,l.e.hiddenLabel]).then(function(t){var n=v.a.getWorkingProjectCtx().getProjectPreferences().activeSchemes;e.browsingModals.browseConceptTree("Select a concept",n,!1).then(function(n){e.refactorService.moveXLabelToResource(e.subject,t,e.resource,n).subscribe(function(t){e.update.emit()},function(r){r.name.endsWith("AlreadyExistingLiteralFormForResourceException")&&e.basicModals.confirm("Operation denied",r.message+". Do you want to force the operation?","warning").then(function(r){e.refactorService.moveXLabelToResource(e.subject,t,e.resource,n,!0).subscribe(function(t){e.update.emit()})},function(){})})},function(){})},function(){})},EditableResourceComponent.prototype.assertInferred=function(){var e=this;this.resourcesService.addValue(this.subject,this.predicate,this.resource).subscribe(function(t){e.update.emit()})},EditableResourceComponent.prototype.copyLocales=function(){var e=this;this.rvModalService.copyLocale(this.resource,this.copyLocalesAction.locales).then(function(t){e.copyLocaleOutput.emit(t)},function(){})},EditableResourceComponent.prototype.bulkDelete=function(){var e=this;this.basicModals.confirm("Bulk delete","Warning. You are deleting the value for every resource that has this predicate-value relation. Are you sure?").then(function(){e.resourcesService.removePredicateObject(e.predicate,e.resource).subscribe(function(t){e.update.emit()})},function(){})},EditableResourceComponent.prototype.onLinkClicked=function(e){this.link.emit(e)},E([n.i(o._7)(),w("design:type",Object)],EditableResourceComponent.prototype,"update",void 0),E([n.i(o._7)("edit"),w("design:type",Object)],EditableResourceComponent.prototype,"editOutput",void 0),E([n.i(o._7)("copyLocale"),w("design:type",Object)],EditableResourceComponent.prototype,"copyLocaleOutput",void 0),E([n.i(o._7)(),w("design:type",o.i)],EditableResourceComponent.prototype,"link",void 0),EditableResourceComponent=E([n.i(o.c)({selector:"editable-resource",template:n(1938)}),w("design:paramtypes",[u.a,p.a,c.a,d.a,b.a,C.a,x.a,y.a,R.a,h.a])],EditableResourceComponent)}(S.a);!function(e){e.xLabel="xLabel",e.langTaggedLiteral="langTaggedLiteral",e.typedLiteral="typedLiteral",e.manchesterDescr="manchesterDescr",e.partition="partition",e.default="default"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(16),a=n(17),s=n(10),l=n(554),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function ReifiedResourceComponent(t){var n=e.call(this)||this;return n.cfService=t,n.deleteDisabled=!1,n.open=!1,n}return c(ReifiedResourceComponent,e),ReifiedResourceComponent.prototype.ngOnInit=function(){this.deleteDisabled=!this.resource.getAdditionalProperty(o.a.EXPLICIT)||s.a.isResourceInStaging(this.subject)||this.readonly||!a.b.isAuthorized(this.partition,a.c.D,this.subject),this.actionRemoveTitle="Remove "+this.predicate.getShow()},ReifiedResourceComponent.prototype.toggle=function(){var e=this;null==this.predicateObjectList?this.cfService.getGraphObjectDescription(this.predicate,this.resource).subscribe(function(t){e.predicateObjectList=t,e.open=!e.open,null!=e.predicateObjectList&&0!=e.predicateObjectList.length||e.resource.setAdditionalProperty(o.a.NOT_REIFIED,!0)}):this.open=!this.open},ReifiedResourceComponent.prototype.objectDblClick=function(e){e.isResource()&&this.dblClick.emit()},ReifiedResourceComponent=p([n.i(r.c)({selector:"reified-resource",template:n(1939),host:{class:"hbox"}}),d("design:paramtypes",[i.a])],ReifiedResourceComponent)}(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(162),a=n(17),s=n(10),l=n(20),c=n(2),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function ResourceRenameComponent(e,t){this.refactorService=e,this.basicModals=t,this.renameDisabled=!0,this.renameLocked=!0,this.namespaceLocked=!0}return ResourceRenameComponent.prototype.ngOnInit=function(){this.resource.isURIResource()&&(this.localName=this.resource.getLocalName())},ResourceRenameComponent.prototype.ngOnChanges=function(e){e.resource&&e.resource.currentValue&&(this.resource.isURIResource()&&(this.localName=this.resource.getLocalName()),this.renameDisabled=!this.resource.getAdditionalProperty(o.a.EXPLICIT)||this.readonly||!a.a.isAuthorized(l.a.refactorChangeResourceUri,this.resource)||s.a.isResourceInStaging(this.resource))},ResourceRenameComponent.prototype.startRename=function(){this.localRenameInput.nativeElement.focus(),this.renameLocked=!1},ResourceRenameComponent.prototype.cancelRename=function(){this.localName=this.resource.getLocalName(),this.renameLocked=!0,this.namespaceLocked=!0},ResourceRenameComponent.prototype.blockNamespace=function(){this.namespaceLocked=!this.namespaceLocked},ResourceRenameComponent.prototype.renameResource=function(){var e,t=this;if(this.namespaceLocked){if(""==this.localName.trim())return this.basicModals.alert("Rename","You have to write a valid local name","error"),void this.cancelRename();e=this.resource.getBaseURI()+this.localName}else if(e=this.totalRenameInput.nativeElement.value,""==e.trim())return this.basicModals.alert("Rename","You have to write a valid URI","error"),void this.cancelRename();if(this.resource.getURI()!=e){var n=new o.b(e);this.refactorService.changeResourceURI(this.resource,n).subscribe(function(e){t.renameLocked=!0,t.namespaceLocked=!0},function(e){t.cancelRename()})}else this.cancelRename()},ResourceRenameComponent.prototype.copyToClipboard=function(){var e=document.createElement("textarea");e.value=this.resource.getURI(),document.body.appendChild(e),e.select();try{document.execCommand("copy");this.basicModals.alert("Copy resource URI","Resource URI copied in clipboard!")}catch(e){this.basicModals.alert("Copy resource URI","Unable to copy the resource URI in the clipboard")}finally{document.body.removeChild(e)}},p([n.i(r.r)(),d("design:type",o.e)],ResourceRenameComponent.prototype,"resource",void 0),p([n.i(r.r)(),d("design:type",Boolean)],ResourceRenameComponent.prototype,"readonly",void 0),p([n.i(r.F)("localrenameinput"),d("design:type",r.e)],ResourceRenameComponent.prototype,"localRenameInput",void 0),p([n.i(r.F)("totalrenameinput"),d("design:type",r.e)],ResourceRenameComponent.prototype,"totalRenameInput",void 0),ResourceRenameComponent=p([n.i(r.c)({selector:"resource-rename",template:n(1940)}),d("design:paramtypes",[i.a,c.a])],ResourceRenameComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(4),i=n(431),a=n(68),s=n(3),l=n(11),c=n(120),p=n(162),d=n(12),u=n(17),f=n(10),h=n(20),g=n(6),m=n(25),v=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function ResourceViewContextMenu(e,t,n,o,i,a){this.alignServices=e,this.refactorService=t,this.resourcesService=n,this.creationModals=o,this.graphModals=i,this.modal=a,this.update=new r.i,this.assertInferred=new r.i}return ResourceViewContextMenu.prototype.ngOnInit=function(){this.isSetDeprecatedDisabled=!this.resource.getAdditionalProperty(s.a.EXPLICIT)&&!f.a.isResourceInStagingAdd(this.resource)||!u.a.isAuthorized(h.a.resourcesSetDeprecated,this.resource),this.isAlignDisabled=!this.resource.getAdditionalProperty(s.a.EXPLICIT)&&!f.a.isResourceInStagingAdd(this.resource)||!u.a.isAuthorized(h.a.alignmentAddAlignment,this.resource),this.isSpawnFromLabelDisabled=!this.resource.getAdditionalProperty(s.a.EXPLICIT)||!u.a.isAuthorized(h.a.refactorSpawnNewConceptFromLabel,null,this.resource),this.isAssertInferredDisabled=!this.resource.getAdditionalProperty(s.a.EXPLICIT)||!u.a.isAuthorized(h.a.resourcesAddValue,this.resource)},ResourceViewContextMenu.prototype.alignResource=function(){var e=this;this.openAlignmentModal().then(function(t){e.alignServices.addAlignment(e.resource,t.property,t.object).subscribe(function(t){e.update.emit(e.resource)})},function(){})},ResourceViewContextMenu.prototype.openAlignmentModal=function(){var e=new i.b(this.resource),t=new o.b(e,void 0,i.b),n={context:t.keyboard(27).toJSON()};return this.modal.open(i.a,n).result},ResourceViewContextMenu.prototype.spawnNewConceptWithLabel=function(){var e=this;this.creationModals.newConceptFromLabel("Spawn new concept",this.resource,l.d.concept).then(function(t){e.refactorService.spawnNewConceptFromLabel(e.resource,t.schemes,null,t.uriResource,t.broader,t.cfValue).subscribe(function(t){e.update.emit()})},function(){})},ResourceViewContextMenu.prototype.assertInferredStmts=function(){this.assertInferred.emit()},ResourceViewContextMenu.prototype.isURIResource=function(){return this.resource.isURIResource()},ResourceViewContextMenu.prototype.setAsDeprecated=function(){this.resourcesService.setDeprecated(this.resource).subscribe()},ResourceViewContextMenu.prototype.isOpenDataGraphEnabled=function(){return!0},ResourceViewContextMenu.prototype.openDataGraph=function(){this.graphModals.openDataGraph(this.resource,this.rendering)},v([n.i(r.r)(),b("design:type",s.e)],ResourceViewContextMenu.prototype,"resource",void 0),v([n.i(r.r)(),b("design:type",Boolean)],ResourceViewContextMenu.prototype,"readonly",void 0),v([n.i(r.r)(),b("design:type",Boolean)],ResourceViewContextMenu.prototype,"rendering",void 0),v([n.i(r.r)(),b("design:type",Boolean)],ResourceViewContextMenu.prototype,"showInferred",void 0),v([n.i(r.r)(),b("design:type",g.b)],ResourceViewContextMenu.prototype,"projectCtx",void 0),v([n.i(r._7)(),b("design:type",Object)],ResourceViewContextMenu.prototype,"update",void 0),v([n.i(r._7)(),b("design:type",Object)],ResourceViewContextMenu.prototype,"assertInferred",void 0),ResourceViewContextMenu=v([n.i(r.c)({selector:"res-view-menu",template:n(1941)}),b("design:paramtypes",[c.a,p.a,d.a,m.a,a.a,o.c])],ResourceViewContextMenu)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(3),i=n(2),a=n(10),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function InlineEditableValue(e){this.basicModals=e,this.disabled=!1,this.preventEdit=!1,this.focusOnInit=!1,this.valueEdited=new r.i,this.editInProgress=!1}return InlineEditableValue.prototype.ngOnInit=function(){this.initValue(),this.focusOnInit&&this.edit()},InlineEditableValue.prototype.ngOnChanges=function(e){e.value&&e.value.currentValue&&(this.initValue(),this.initRenderingClass())},InlineEditableValue.prototype.initValue=function(){this.stringValue=null!=this.value?this.value.getShow():null,this.pristineStringValue=this.stringValue},InlineEditableValue.prototype.initRenderingClass=function(){this.renderingClass="",this.value instanceof o.e&&(a.a.isResourceInStagingAdd(this.value)?this.renderingClass+=" proposedAddRes":a.a.isResourceInStagingRemove(this.value)&&(this.renderingClass+=" proposedRemoveRes")),a.a.isTripleInStagingAdd(this.value)?this.renderingClass+=" proposedAddTriple":a.a.isTripleInStagingRemove(this.value)&&(this.renderingClass+=" proposedRemoveTriple")},InlineEditableValue.prototype.edit=function(){var e=this;if(!this.disabled&&!this.preventEdit){if(null!=this.value){var t=(this.stringValue.match(/\n/g)||[]).length;this.textareaRows=t+1}else this.textareaRows=1;this.editInProgress=!0,setTimeout(function(){e.textarea.nativeElement.focus()})}},InlineEditableValue.prototype.onKeydown=function(e){var t=this;if("Escape"==e.key)this.cancelEdit();else if("Enter"==e.key)if(e.altKey){var n=this.textarea.nativeElement.selectionStart,r=this.textarea.nativeElement.selectionEnd,o=this.stringValue.substring(0,n),i=this.stringValue.substring(r);this.stringValue=o+"\n"+i,setTimeout(function(){t.textarea.nativeElement.selectionEnd=n+1})}else this.confirmEdit()},InlineEditableValue.prototype.confirmEdit=function(){if(this.editInProgress=!1,this.pristineStringValue!=this.stringValue){if(void 0==this.stringValue||""==this.stringValue.trim())return this.basicModals.alert("Invalid value","The inserted value is empty or not valid. Please check and retry.","warning"),void(this.stringValue=this.pristineStringValue);this.pristineStringValue=this.stringValue,this.valueEdited.emit(this.stringValue)}},InlineEditableValue.prototype.cancelEdit=function(){this.editInProgress=!1,this.stringValue=this.pristineStringValue},s([n.i(r.r)(),l("design:type",o.m)],InlineEditableValue.prototype,"value",void 0),s([n.i(r.r)(),l("design:type",Boolean)],InlineEditableValue.prototype,"disabled",void 0),s([n.i(r.r)(),l("design:type",Boolean)],InlineEditableValue.prototype,"preventEdit",void 0),s([n.i(r.r)(),l("design:type",Boolean)],InlineEditableValue.prototype,"focusOnInit",void 0),s([n.i(r._7)(),l("design:type",Object)],InlineEditableValue.prototype,"valueEdited",void 0),s([n.i(r.F)("editBlock"),l("design:type",r.e)],InlineEditableValue.prototype,"textarea",void 0),InlineEditableValue=s([n.i(r.c)({selector:"inline-editable-value",template:n(1947),styles:[n(2097)]}),l("design:paramtypes",[i.a])],InlineEditableValue)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return R});var r=n(0),o=n(3),i=n(47),a=n(66),s=n(11),l=n(16),c=n(23),p=n(12),d=n(33),u=n(111),f=n(17),h=n(20),g=n(6),m=n(2),v=n(25),b=n(28),y=n(561),x=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},C=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(){function LanguageBoxComponent(e,t,n,o,i,a,s,l,c){this.el=e,this.skosService=t,this.skosxlService=n,this.resourcesService=o,this.customFormsServices=i,this.propService=a,this.resViewModals=s,this.basicModals=l,this.creationModals=c,this.update=new r.i,this.delete=new r.i}return LanguageBoxComponent.prototype.ngOnInit=function(){this.lexicalizationModelType=g.a.getWorkingProject().getLexicalizationModelType(),this.langForFlag=a.a.getLanguageFromTag(this.lang)},LanguageBoxComponent.prototype.ngOnChanges=function(e){if(this.initializeDefinitions(),this.initializeTerms(),e.resource){var t=g.a.getLoggedUser().isAdmin()||-1!=g.a.getProjectUserBinding().getLanguages().indexOf(this.lang);this.addLabelAuthorized=f.a.isAuthorized(h.a.skosAddLexicalization,this.resource)&&t&&!this.readonly,this.addDefAuthorized=f.a.isAuthorized(h.a.skosAddNote,this.resource)&&t&&!this.readonly,this.editDefAuthorized=f.a.isAuthorized(h.a.resourcesUpdateTriple,this.resource)&&t&&!this.readonly,this.deleteDefAuthorized=f.a.isAuthorized(h.a.resourcesRemoveValue,this.resource)&&t&&!this.readonly}},LanguageBoxComponent.prototype.initializeDefinitions=function(){var e=this;this.definitions=[],this.predicateObjectList.forEach(function(t){t.getPredicate().equals(s.d.definition)&&0!=t.getObjects().length&&t.getObjects().forEach(function(t){e.definitions.push(t)})}),0==this.definitions.length&&this.definitions.push(null),this.updateEmptyDef()},LanguageBoxComponent.prototype.initializeTerms=function(){var e=this;this.terms=[],this.predicateObjectList.forEach(function(t){t.getPredicate().equals(s.e.prefLabel)||t.getPredicate().equals(s.d.prefLabel)?0!=t.getObjects().length?t.getObjects().forEach(function(n){e.terms.push({object:n,predicate:t.getPredicate(),isPrefLabel:!0,lang:e.lang})}):e.terms.push({predicate:t.getPredicate(),isPrefLabel:!0,lang:e.lang}):(t.getPredicate().equals(s.e.altLabel)||t.getPredicate().equals(s.d.altLabel))&&0!=t.getObjects().length&&t.getObjects().forEach(function(n){e.terms.push({object:n,predicate:t.getPredicate(),isPrefLabel:!1,lang:e.lang})})}),this.updateEmptyTerm()},LanguageBoxComponent.prototype.deleteDefinition=function(e){var t=this;if(null==e)this.definitions.length>1&&(this.definitions.pop(),this.updateEmptyDef());else{var n=void 0;e.isLiteral()?n=this.resourcesService.removeValue(this.resource,s.d.definition,e):e.isResource()&&this.defCrConfig.hasCustomRange&&(n=this.customFormsServices.removeReifiedResource(this.resource,s.d.definition,e)),null!=n&&n.subscribe(function(){1!=t.definitions.length||0!=t.terms.length&&!t.emptyTerm?t.update.emit():(t.definitions[0]=null,t.updateEmptyDef())})}},LanguageBoxComponent.prototype.addDefinitionItem=function(){var e=this;this.defCrConfig.hasCustomRange?y.a.getDefinitionEnrichmentInfo(this.propService,this.basicModals,this.defCrConfig).subscribe(function(t){t.type==y.b.literal?e.addPlainDefinition():t.type==y.b.customForm&&e.addCustomFormDefinition(t.form)}):this.addInlineDefinition()},LanguageBoxComponent.prototype.addInlineDefinition=function(){this.definitions.push(null),this.updateEmptyDef()},LanguageBoxComponent.prototype.addPlainDefinition=function(){var e=this;this.creationModals.newPlainLiteral("Add a definition",null,!1,this.lang,!0).then(function(t){e.skosService.addNote(e.resource,s.d.definition,t).subscribe(function(){e.update.emit()})})},LanguageBoxComponent.prototype.addCustomFormDefinition=function(e){var t=this;this.resViewModals.enrichCustomForm("Add "+s.d.definition.getShow(),e.getId(),this.lang).then(function(n){var r=new i.a(e.getId(),n);t.skosService.addNote(t.resource,s.d.definition,r).subscribe(function(){t.update.emit()})},function(){})},LanguageBoxComponent.prototype.addTermBox=function(){this.terms.some(function(e){return e.predicate.equals(s.e.prefLabel)||e.predicate.equals(s.d.prefLabel)})?this.lexicalizationModelType==s.e.uri?(this.terms.push({predicate:s.e.altLabel,lang:this.lang}),this.updateEmptyTerm()):this.lexicalizationModelType==s.d.uri&&(this.terms.push({predicate:s.d.altLabel,lang:this.lang}),this.updateEmptyTerm()):this.lexicalizationModelType==s.e.uri?(this.terms.push({predicate:s.e.prefLabel,isPrefLabel:!0,lang:this.lang}),this.sortPredicates(this.terms),this.updateEmptyTerm()):this.lexicalizationModelType==s.d.uri&&(this.terms.push({predicate:s.d.prefLabel,isPrefLabel:!0,lang:this.lang}),this.sortPredicates(this.terms),this.updateEmptyTerm())},LanguageBoxComponent.prototype.sortPredicates=function(e){this.lexicalizationModelType==s.d.uri?e.sort(function(e,t){return t.predicate.equals(s.d.prefLabel)&&e.predicate.equals(s.d.altLabel)?1:e.predicate.equals(s.d.prefLabel)&&t.predicate.equals(s.d.altLabel)?-1:0}):this.lexicalizationModelType==s.e.uri?e.sort(function(e,t){return t.predicate.equals(s.e.prefLabel)&&e.predicate.equals(s.e.altLabel)?1:e.predicate.equals(s.e.prefLabel)&&t.predicate.equals(s.e.altLabel)?-1:0}):(this.lexicalizationModelType,s.f.uri)},LanguageBoxComponent.prototype.deleteTerm=function(e){var t=this;null==e.object?(this.terms.pop(),this.updateEmptyTerm()):this.terms.forEach(function(n){if(n==e)if(1==t.definitions.length&&t.definitions.some(function(e){return null==e})&&1==t.terms.length){var r=void 0;n.predicate.equals(s.e.prefLabel)?r=t.skosxlService.removePrefLabel(t.resource,e.object):n.predicate.equals(s.e.altLabel)?r=t.skosxlService.removeAltLabel(t.resource,e.object):n.predicate.equals(s.d.prefLabel)?r=t.skosService.removePrefLabel(t.resource,e.object):e.predicate.equals(s.d.altLabel)&&(r=t.skosService.removeAltLabel(t.resource,e.object)),null!=r&&r.subscribe(function(){t.terms.splice(t.terms.indexOf(e),1),t.updateEmptyTerm()})}else{var r=void 0;n.predicate.equals(s.e.prefLabel)?r=t.skosxlService.removePrefLabel(t.resource,e.object):n.predicate.equals(s.e.altLabel)?r=t.skosxlService.removeAltLabel(t.resource,e.object):n.predicate.equals(s.d.prefLabel)?r=t.skosService.removePrefLabel(t.resource,e.object):e.predicate.equals(s.d.altLabel)&&(r=t.skosService.removeAltLabel(t.resource,e.object)),null!=r&&r.subscribe(function(){return t.update.emit()})}})},LanguageBoxComponent.prototype.removeBox=function(){this.delete.emit()},LanguageBoxComponent.prototype.onDefUpdate=function(){this.update.emit()},LanguageBoxComponent.prototype.onTermUpdate=function(){this.update.emit()},LanguageBoxComponent.prototype.updateEmptyTerm=function(){this.emptyTerm=this.terms.some(function(e){return null==e.object})},LanguageBoxComponent.prototype.updateEmptyDef=function(){this.emptyDef=this.definitions.some(function(e){return null==e})},x([n.i(r.r)(),C("design:type",String)],LanguageBoxComponent.prototype,"lang",void 0),x([n.i(r.r)("pred-obj-list"),C("design:type",Array)],LanguageBoxComponent.prototype,"predicateObjectList",void 0),x([n.i(r.r)(),C("design:type",o.e)],LanguageBoxComponent.prototype,"resource",void 0),x([n.i(r.r)(),C("design:type",Object)],LanguageBoxComponent.prototype,"defCrConfig",void 0),x([n.i(r.r)(),C("design:type",Boolean)],LanguageBoxComponent.prototype,"readonly",void 0),x([n.i(r._7)(),C("design:type",Object)],LanguageBoxComponent.prototype,"update",void 0),x([n.i(r._7)(),C("design:type",Object)],LanguageBoxComponent.prototype,"delete",void 0),LanguageBoxComponent=x([n.i(r.c)({selector:"lang-box",template:n(1948),styles:[n(2098)]}),C("design:paramtypes",[r.e,d.a,u.a,p.a,l.a,c.a,b.a,m.a,v.a])],LanguageBoxComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return R});var r=n(0),o=n(3),i=n(47),a=n(11),s=n(16),l=n(23),c=n(12),p=n(33),d=n(111),u=n(17),f=n(10),h=n(20),g=n(6),m=n(2),v=n(25),b=n(28),y=n(561),x=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},C=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(){function LanguageDefinitionComponent(e,t,n,o,i,a,s,l,c){this.el=e,this.skosService=t,this.skosxlService=n,this.resourcesService=o,this.customFormsServices=i,this.propService=a,this.resViewModals=s,this.basicModals=l,this.creationModals=c,this.delete=new r.i,this.update=new r.i}return LanguageDefinitionComponent.prototype.ngOnChanges=function(e){if(e.def||e.resource||e.lang){var t=null!=this.def&&f.a.isTripleInStaging(this.def),n=g.a.getLoggedUser().isAdmin()||-1!=g.a.getProjectUserBinding().getLanguages().indexOf(this.lang);this.addDefAuthorized=u.a.isAuthorized(h.a.skosAddNote,this.resource)&&n&&!t,this.editDefAuthorized=u.a.isAuthorized(h.a.resourcesUpdateTriple,this.resource)&&n&&!t,this.deleteDefAuthorized=u.a.isAuthorized(h.a.resourcesRemoveValue,this.resource)&&n&&!t}},LanguageDefinitionComponent.prototype.onDefinitionEdited=function(e,t){var n=this;if(null!=t&&t.getShow()!=e){var r=new o.f(e,null,this.lang);t.isLiteral()?this.resourcesService.updateTriple(this.resource,a.d.definition,t,r).subscribe(function(e){return n.update.emit()}):t.isResource()&&this.defCrConfig.hasCustomRange&&this.customFormsServices.updateReifiedResourceShow(this.resource,a.d.definition,t,r).subscribe(function(e){return n.update.emit()})}else if(null!=e){var r=new o.f(e,null,this.lang);this.resourcesService.addValue(this.resource,a.d.definition,r).subscribe(function(e){return n.update.emit()})}},LanguageDefinitionComponent.prototype.deleteDefinition=function(){null!=this.def&&this.delete.emit()},LanguageDefinitionComponent.prototype.onInlineValueClick=function(){var e=this;null==this.def&&this.defCrConfig.hasCustomRange&&this.addDefAuthorized&&!this.readonly&&y.a.getDefinitionEnrichmentInfo(this.propService,this.basicModals,this.defCrConfig).subscribe(function(t){t.type==y.b.literal?e.addPlainDefinition():t.type==y.b.customForm&&e.addCustomFormDefinition(t.form)})},LanguageDefinitionComponent.prototype.addPlainDefinition=function(){var e=this;this.creationModals.newPlainLiteral("Add a definition",null,!1,this.lang,!0).then(function(t){e.skosService.addNote(e.resource,a.d.definition,t).subscribe(function(){e.update.emit()})})},LanguageDefinitionComponent.prototype.addCustomFormDefinition=function(e){var t=this;this.resViewModals.enrichCustomForm("Add "+a.d.definition.getShow(),e.getId(),this.lang).then(function(n){var r=new i.a(e.getId(),n);t.skosService.addNote(t.resource,a.d.definition,r).subscribe(function(){t.update.emit()})},function(){})},x([n.i(r.r)(),C("design:type",o.m)],LanguageDefinitionComponent.prototype,"def",void 0),x([n.i(r.r)(),C("design:type",o.e)],LanguageDefinitionComponent.prototype,"resource",void 0),x([n.i(r.r)(),C("design:type",String)],LanguageDefinitionComponent.prototype,"lang",void 0),x([n.i(r.r)(),C("design:type",Boolean)],LanguageDefinitionComponent.prototype,"readonly",void 0),x([n.i(r.r)(),C("design:type",Object)],LanguageDefinitionComponent.prototype,"defCrConfig",void 0),x([n.i(r._7)(),C("design:type",r.i)],LanguageDefinitionComponent.prototype,"delete",void 0),x([n.i(r._7)(),C("design:type",Object)],LanguageDefinitionComponent.prototype,"update",void 0),LanguageDefinitionComponent=x([n.i(r.c)({selector:"lang-def",template:n(1949),styles:[n(2099)]}),C("design:paramtypes",[r.e,p.a,d.a,c.a,s.a,l.a,b.a,m.a,v.a])],LanguageDefinitionComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(3),i=n(11),a=n(12),s=n(33),l=n(111),c=n(17),p=n(10),d=n(20),u=n(6),f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function LanguageTermComponent(e,t,n){this.skosService=e,this.skosxlService=t,this.resourcesService=n,this.delete=new r.i,this.update=new r.i}return LanguageTermComponent.prototype.ngOnInit=function(){this.lexicalizationModelType=u.a.getWorkingProject().getLexicalizationModelType(),this.focus=null==this.term.object},LanguageTermComponent.prototype.ngOnChanges=function(){var e=null!=this.term.object&&p.a.isTripleInStaging(this.term.object),t=u.a.getLoggedUser().isAdmin()||-1!=u.a.getProjectUserBinding().getLanguages().indexOf(this.lang);this.editTermAuthorized=c.a.isAuthorized(d.a.resourcesUpdateLexicalization,this.resource)&&t&&!e,this.deleteTermAuthorized=c.a.isAuthorized(d.a.skosRemoveLexicalization,this.resource)&&t&&!e},LanguageTermComponent.prototype.deleteTermBox=function(){this.delete.emit()},LanguageTermComponent.prototype.onValueEdited=function(e){var t=this;if(this.term.object){var n=this.term.object.getShow();if(this.lexicalizationModelType==i.e.uri){if(n!=e){var r=new o.f(n,null,this.term.lang),a=new o.f(e,null,this.term.lang);this.resourcesService.updateLexicalization(this.term.object,i.e.literalForm,r,a).subscribe(function(e){return t.update.emit()})}}else if(this.lexicalizationModelType==i.d.uri){if(n!=e){var a=new o.f(e,null,this.term.lang);this.resourcesService.updateLexicalization(this.resource,this.term.predicate,this.term.object,a).subscribe(function(e){return t.update.emit()})}}else this.lexicalizationModelType,i.f.uri}else if(this.lexicalizationModelType==i.e.uri){var a=new o.f(e,null,this.term.lang);this.term.predicate.equals(i.e.prefLabel)?this.skosxlService.setPrefLabel(this.resource,a).subscribe(function(e){return t.update.emit()}):this.term.predicate.equals(i.e.altLabel)&&this.skosxlService.addAltLabel(this.resource,a).subscribe(function(e){return t.update.emit()})}else if(this.lexicalizationModelType==i.d.uri){var a=new o.f(e,null,this.term.lang);this.term.predicate.equals(i.d.prefLabel)?this.skosService.setPrefLabel(this.resource,a).subscribe(function(e){return t.update.emit()}):this.term.predicate.equals(i.d.altLabel)&&this.skosService.addAltLabel(this.resource,a).subscribe(function(e){return t.update.emit()})}else this.lexicalizationModelType,i.f.uri},f([n.i(r.r)(),h("design:type",Object)],LanguageTermComponent.prototype,"term",void 0),f([n.i(r.r)(),h("design:type",o.e)],LanguageTermComponent.prototype,"resource",void 0),f([n.i(r.r)(),h("design:type",String)],LanguageTermComponent.prototype,"lang",void 0),f([n.i(r.r)(),h("design:type",Boolean)],LanguageTermComponent.prototype,"readonly",void 0),f([n.i(r._7)(),h("design:type",r.i)],LanguageTermComponent.prototype,"delete",void 0),f([n.i(r._7)(),h("design:type",Object)],LanguageTermComponent.prototype,"update",void 0),LanguageTermComponent=f([n.i(r.c)({selector:"lang-term",template:n(1950),styles:[n(2100)]}),h("design:paramtypes",[s.a,l.a,a.a])],LanguageTermComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(5),i=n(41),a=(n.n(i),n(3)),s=n(66),l=n(24),c=n(11),p=n(23),d=n(190),u=n(36),f=n(8),h=n(10),g=n(7),m=n(6),v=n(540),b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(e){function TermViewComponent(t,n,o){var i=e.call(this,t,n)||this;return i.propService=o,i.readonly=!1,i.update=new r.i,i.resViewResponse=null,i.unknownHost=!1,i.unexistingResource=!1,i.langStruct={},i.definitions=[],i.languages=[],i}return b(TermViewComponent,e),TermViewComponent.prototype.ngOnInit=function(){this.lexicalizationModelType=m.a.getWorkingProject().getLexicalizationModelType(),this.activeVersion=m.a.getContextVersion(),this.readonly=this.readonly||null!=this.activeVersion||null!=f.c.getContextVersion()},TermViewComponent.prototype.ngOnChanges=function(e){if(e.resource&&e.resource.currentValue){if(!e.resource.firstChange){if(e.resource.previousValue.equals(this.resource))return}this.buildResourceView(this.resource)}},TermViewComponent.prototype.buildResourceView=function(e){var t=this;this.userAssignedLangs=m.a.getProjectUserBinding().getLanguages(),this.allProjectLangs=m.a.getWorkingProjectCtx(this.projectCtx).getProjectSettings().projectLanguagesSetting,g.a.startLoadingDiv(this.blockDivElement.nativeElement),null!=this.activeVersion&&f.c.setContextVersion(this.activeVersion),this.resViewService.getResourceView(e).subscribe(function(e){f.c.removeContextVersion(),t.resViewResponse=e,t.fillPartitions(),t.unknownHost=!1,g.a.stopLoadingDiv(t.blockDivElement.nativeElement)},function(e){e.name.endsWith("UnknownHostException")&&(t.unknownHost=!0)})},TermViewComponent.prototype.fillPartitions=function(){var e=this,t=this.resViewResponse.resource;this.resource=u.a.createRDFResource(t),this.update.emit(this.resource);var n=this.initPartition(l.a.broaders,!0);if(null!=n){var r=n.find(function(e){return e.getPredicate().equals(c.d.broader)});null!=r&&(this.broaders=r.getObjects())}this.langStruct={};var o=this.initPartition(l.a.lexicalizations,!1);null!=o&&o.forEach(function(t){var n=t.getPredicate();n.getURI().startsWith(e.lexicalizationModelType)&&t.getObjects().forEach(function(t){var r=t.getAdditionalProperty(a.a.LANG);if(null!=r){var o=[];if(r in e.langStruct||null!=e.langStruct[r])if(e.langStruct[r].some(function(e){return e.getPredicate().equals(n)}))e.langStruct[r].some(function(e){return e.getObjects().some(function(e){return e.equals(t)})})||e.langStruct[r].forEach(function(e){e.getPredicate().equals(n)&&e.getObjects().push(t)});else{o.push(t);var i=new a.g(n,o);e.langStruct[r].push(i),e.sortPredicates(e.langStruct[r])}else{e.langStruct[r]=[],o.push(t);var i=new a.g(n,o);e.langStruct[r].push(i)}}})}),this.definitions=[];var i=this.initPartition(l.a.notes,!0),s=i.find(function(e){return e.getPredicate().equals(c.d.definition)});s&&s.getObjects().forEach(function(t){e.definitions.push(t),e.definitions.sort(function(e,t){var n=e.getAdditionalProperty(a.a.LANG),r=t.getAdditionalProperty(a.a.LANG);return n.localeCompare(r)})}),this.initSkosDefinitionCustomRange(s).subscribe(function(){e.defCustomRangeConfig.hasCustomRange||(e.definitions=e.definitions.filter(function(e){return e.isLiteral()})),e.definitions.forEach(function(t){var n=t.getAdditionalProperty(a.a.LANG);if(null!=n)if(n in e.langStruct||null!=e.langStruct[n]){var r=e.langStruct[n].find(function(e){return e.getPredicate().equals(c.d.definition)});if(null==r){var o=new a.g(c.d.definition,[t]);e.langStruct[n].push(o)}else r.getObjects().push(t)}else{var o=new a.g(c.d.definition,[t]);e.langStruct[n]=[o]}}),e.initLanguages()}),this.resViewResponse[l.a.lexicalizations]&&0!=this.resViewResponse[l.a.lexicalizations].length||this.resViewResponse[l.a.properties]&&0!=this.resViewResponse[l.a.properties].length||this.resViewResponse[l.a.types]&&0!=this.resViewResponse[l.a.types].length||this.resViewResponse[l.a.broaders]||this.resViewResponse[l.a.classaxioms]||this.resViewResponse[l.a.constituents]||this.resViewResponse[l.a.datatypeDefinitions]||this.resViewResponse[l.a.denotations]||this.resViewResponse[l.a.disjointProperties]||this.resViewResponse[l.a.domains]||this.resViewResponse[l.a.equivalentProperties]||this.resViewResponse[l.a.evokedLexicalConcepts]||this.resViewResponse[l.a.facets]||this.resViewResponse[l.a.formBasedPreview]||this.resViewResponse[l.a.formRepresentations]||this.resViewResponse[l.a.imports]||this.resViewResponse[l.a.labelRelations]||this.resViewResponse[l.a.lexicalForms]||this.resViewResponse[l.a.lexicalSenses]||this.resViewResponse[l.a.members]||this.resViewResponse[l.a.membersOrdered]||this.resViewResponse[l.a.notes]||this.resViewResponse[l.a.ranges]||this.resViewResponse[l.a.rdfsMembers]||this.resViewResponse[l.a.subPropertyChains]||this.resViewResponse[l.a.schemes]||this.resViewResponse[l.a.subterms]||this.resViewResponse[l.a.superproperties]||this.resViewResponse[l.a.topconceptof]?this.unexistingResource=!1:this.unexistingResource=!0},TermViewComponent.prototype.initSkosDefinitionCustomRange=function(e){var t=this;return this.defCustomRangeConfig={hasCustomRange:!1,hasLiteralRange:!0},null!=e?(this.defCustomRangeConfig.hasCustomRange=e.getPredicate().getAdditionalProperty(a.a.HAS_CUSTOM_RANGE),i.Observable.of(null)):this.propService.getRange(c.d.definition).map(function(e){if(null!=e.formCollection){var n=e.formCollection.getForms();n.length>0&&(t.defCustomRangeConfig.hasCustomRange=!0,t.defCustomRangeConfig.customForms=n),null==e.ranges&&(t.defCustomRangeConfig.hasLiteralRange=!1)}})},TermViewComponent.prototype.sortPredicates=function(e){this.lexicalizationModelType==c.d.uri?e.sort(function(e,t){return t.getPredicate().equals(c.d.prefLabel)&&e.getPredicate().equals(c.d.altLabel)?1:e.getPredicate().equals(c.d.prefLabel)&&t.getPredicate().equals(c.d.altLabel)?-1:0}):this.lexicalizationModelType==c.e.uri?e.sort(function(e,t){return t.getPredicate().equals(c.e.prefLabel)&&e.getPredicate().equals(c.e.altLabel)?1:e.getPredicate().equals(c.e.prefLabel)&&t.getPredicate().equals(c.e.altLabel)?-1:0}):(this.lexicalizationModelType,c.f.uri)},TermViewComponent.prototype.initPartition=function(e,t){var n,r=this.resViewResponse[e];return n=u.a.createPredicateObjectsList(r),t&&this.sortObjects(n),n},TermViewComponent.prototype.sortObjects=function(e){for(var t=h.b.show,n=0;n<e.length;n++){var r=e[n].getObjects();h.a.sortResources(r,t)}},TermViewComponent.prototype.initLanguages=function(){var e=this;this.langsWithValue=Object.keys(this.langStruct).sort(),this.languages=[];var t=this.langsWithValue;0!=t.length&&t.forEach(function(t){e.languages.push({lang:s.a.getLanguageFromTag(t),disabled:!1})}),this.readonly||(m.a.getLoggedUser().isAdmin()&&0==this.userAssignedLangs.length?(this.allProjectLangs=m.a.getWorkingProjectCtx(this.projectCtx).getProjectSettings().projectLanguagesSetting,this.allProjectLangs.forEach(function(n){t.some(function(e){return e==n.tag})||e.languages.push({lang:n,disabled:!0})})):0!=this.userAssignedLangs.length&&(this.userAssignedLangs.sort(),this.userAssignedLangs.forEach(function(n){t.some(function(e){return e==n})||e.languages.push({lang:s.a.getLanguageFromTag(n),disabled:!0})})))},TermViewComponent.prototype.onLanguageClicked=function(e){if(this.langsWithValue.some(function(t){return t==e.lang.tag}))this.langBoxViews.forEach(function(t){t.lang==e.lang.tag&&t.el.nativeElement.scrollIntoView({block:"center",behavior:"smooth"})});else if(this.userAssignedLangs.some(function(t){return t==e.lang.tag})||this.allProjectLangs.some(function(t){return t==e.lang})){for(var t=0;t<this.languages.length;t++)this.languages[t]==e&&(this.languages[t].disabled=!1);var n=[],r=void 0;this.lexicalizationModelType==c.d.uri?r=new a.g(c.d.prefLabel,n):this.lexicalizationModelType==c.e.uri?r=new a.g(c.e.prefLabel,n):(this.lexicalizationModelType,c.f.uri),this.langStruct[e.lang.tag]=[],this.langStruct[e.lang.tag].push(r),this.langsWithValue=Object.keys(this.langStruct)}},TermViewComponent.prototype.deleteLangBox=function(e){delete this.langStruct[e],this.langsWithValue=Object.keys(this.langStruct),this.initLanguages()},y([n.i(r.r)(),x("design:type",a.e)],TermViewComponent.prototype,"resource",void 0),y([n.i(r.r)(),x("design:type",m.b)],TermViewComponent.prototype,"projectCtx",void 0),y([n.i(r.r)(),x("design:type",Boolean)],TermViewComponent.prototype,"readonly",void 0),y([n.i(r._7)(),x("design:type",r.i)],TermViewComponent.prototype,"update",void 0),y([n.i(r._12)("langBox"),x("design:type",r._13)],TermViewComponent.prototype,"langBoxViews",void 0),y([n.i(r.F)("blockDiv"),x("design:type",r.e)],TermViewComponent.prototype,"blockDivElement",void 0),TermViewComponent=y([n.i(r.c)({selector:"term-view",template:n(1951),styles:[n(2101)],host:{class:"vbox"}}),x("design:paramtypes",[d.a,o.l,p.a])],TermViewComponent)}(v.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(156),a=n(157),s=n(11),l=n(185),c=n(23),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function ConverterConfigurationComponent(e){this.codaService=e,this.update=new r.i,this.availableConverters=[],this.languageLiteralAspect="language",this.datatypeLiteralAspect="datatype",this.literalAspectOpts=["---",this.languageLiteralAspect,this.datatypeLiteralAspect],this.selectedLiteralAspect=this.literalAspectOpts[0],this.literalAspectChangeable=!0,this.xRoles=[i.f.concept,i.f.conceptScheme,i.f.skosCollection,i.f.xLabel,i.f.xNote]}return ConverterConfigurationComponent.prototype.ngOnInit=function(){var e=this;null==this.language&&null!=this.converter&&(this.language=this.converter.language),null!=this.language?(this.selectedLiteralAspect=this.languageLiteralAspect,this.literalAspectChangeable=!1):null!=this.datatype&&(this.datatype.equals(s.i.langString)?this.selectedLiteralAspect=this.languageLiteralAspect:this.selectedLiteralAspect=this.datatypeLiteralAspect,this.literalAspectChangeable=!1),this.codaService.listConverterContracts().subscribe(function(t){t.forEach(function(t){var n=t.getRDFCapability();if(null==e.rangeType)e.availableConverters.push(t);else if(e.rangeType==c.b.resource)n!=i.a.node&&n!=i.a.uri||e.availableConverters.push(t);else if(e.rangeType==c.b.literal&&(n==i.a.node||n==i.a.literal)){var r=t.getDatatypes();null!=e.datatype&&r.length>0?-1!=r.indexOf(e.datatype.getURI())&&e.availableConverters.push(t):e.availableConverters.push(t)}}),null!=e.converter&&(e.availableConverters.forEach(function(t){t.getURI()==e.converter.contractUri&&e.selectConverter(t)}),e.selectedConverter.getSignatures().forEach(function(t){var n=t.getParameters().map(function(e){return e.getName()}),r=Object.keys(e.converter.params);if(n.sort(),r.sort(),n.length==r.length){for(var o=0;o<n.length;o++)if(n[o]!=r[o])return;e.selectSignature(t);for(var i in e.converter.params)!function(t){e.signatureParams.find(function(e){return e.name==t}).value=e.converter.params[t]}(i);e.emitStatusUpdate()}}))})},ConverterConfigurationComponent.prototype.selectConverter=function(e){var t=this;this.selectedConverter!=e&&(this.selectedConverter=e,this.availableSignatures=[],this.selectedConverter.getSignatures().forEach(function(e){var n=e.getReturnType();null==t.rangeType?t.availableSignatures.push(e):t.rangeType==c.b.resource&&(n.endsWith(".IRI")||n.endsWith(".Value"))?t.availableSignatures.push(e):t.rangeType==c.b.literal&&n.endsWith(".Literal")&&t.availableSignatures.push(e)}),this.selectSignature(this.availableSignatures[0])),this.emitStatusUpdate()},ConverterConfigurationComponent.prototype.isConverterRandom=function(){return null!=this.selectedConverter&&this.selectedConverter.getURI()==i.e.NAMESPACE+"randIdGen"},ConverterConfigurationComponent.prototype.onMemoizeChange=function(){this.emitStatusUpdate()},ConverterConfigurationComponent.prototype.showDefaultLiteralConverterOpt=function(){return null!=this.selectedConverter&&this.selectedConverter.getURI()==i.e.NAMESPACE+"default"&&null!=this.selectedSignature&&this.selectedSignature.getReturnType().endsWith(".Literal")},ConverterConfigurationComponent.prototype.getSignatureShow=function(e){return this.selectedConverter.getSerialization(e)},ConverterConfigurationComponent.prototype.selectSignature=function(e){var t=this;this.selectedSignature=e,this.signatureParams=[],this.selectedSignature.getParameters().forEach(function(e){t.signatureParams.push({name:e.getName(),value:null,type:e.getType()})}),this.emitStatusUpdate()},ConverterConfigurationComponent.prototype.getParameterTitle=function(e){return"java.lang.String"==e.type?"String parameter":"org.eclipse.rdf4j.model.Value[]"==e.type?"List of values. Each value can be the id of a node or an RDF value represented in NT serialization":"java.util.Map<java.lang.String, org.eclipse.rdf4j.model.Value>"==e.type?"Key-value Map. Each value can be the id of a node or an RDF value represented in NT serialization":void 0},ConverterConfigurationComponent.prototype.onMapParamChange=function(e,t){t.value=e,this.emitStatusUpdate()},ConverterConfigurationComponent.prototype.onListParamChange=function(e,t){t.value=e,this.emitStatusUpdate()},ConverterConfigurationComponent.prototype.onSignatureParamChange=function(){this.emitStatusUpdate()},ConverterConfigurationComponent.prototype.emitStatusUpdate=function(){var e={};this.signatureParams.forEach(function(t){var n;"java.lang.String"==t.type?n=t.value:"org.eclipse.rdf4j.model.Value"==t.type?null!=t.value&&""!=t.value.trim()&&(n=new o.f(t.value)):"java.util.Map<java.lang.String, org.eclipse.rdf4j.model.Value>"==t.type?n=t.value:"org.eclipse.rdf4j.model.Value[]"==t.type&&(n=t.value),e[t.name]=n});var t,n,r=this.selectedSignature.getReturnType().endsWith(".Literal")?i.a.literal:i.a.uri;r==i.a.literal&&this.selectedConverter.getURI().endsWith("/default")&&(this.selectedLiteralAspect==this.languageLiteralAspect?t=this.language:this.selectedLiteralAspect==this.datatypeLiteralAspect&&(n=this.datatype.getURI()));var a={type:r,contractUri:this.selectedConverter.getURI(),language:t,datatypeUri:n,datatypeCapability:this.selectedConverter.getDatatypes().length>0?this.selectedConverter.getDatatypes()[0]:null,params:e},s={converter:a,memoize:!!this.isConverterRandom()&&this.memoize};this.update.emit(s)},p([n.i(r.r)(),d("design:type",a.f)],ConverterConfigurationComponent.prototype,"converter",void 0),p([n.i(r.r)(),d("design:type",Boolean)],ConverterConfigurationComponent.prototype,"memoize",void 0),p([n.i(r.r)(),d("design:type",String)],ConverterConfigurationComponent.prototype,"rangeType",void 0),p([n.i(r.r)(),d("design:type",String)],ConverterConfigurationComponent.prototype,"language",void 0),p([n.i(r.r)(),d("design:type",o.b)],ConverterConfigurationComponent.prototype,"datatype",void 0),p([n.i(r._7)(),d("design:type",r.i)],ConverterConfigurationComponent.prototype,"update",void 0),ConverterConfigurationComponent=p([n.i(r.c)({selector:"converter-config",template:n(1954)}),d("design:paramtypes",[l.a])],ConverterConfigurationComponent)}();(function(){function UpdateStatus(){}})(),function(){function SignatureParam(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function ListParamEditor(){this.valueChanged=new r.i,this.list=[]}return ListParamEditor.prototype.ngOnInit=function(){null==this.value?this.add():(e=this.list).push.apply(e,this.value);var e},ListParamEditor.prototype.add=function(){this.list.push(null)},ListParamEditor.prototype.delete=function(e){this.list.splice(e,1),this.onModelChange()},ListParamEditor.prototype.onModelChange=function(){var e=this;this.value=[],this.list.forEach(function(t){null!=t&&""!=t.trim()&&e.value.push(t)}),this.valueChanged.emit(this.value)},ListParamEditor.prototype.trackByIndex=function(e,t){return e},o([n.i(r.r)(),i("design:type",Array)],ListParamEditor.prototype,"value",void 0),o([n.i(r._7)(),i("design:type",Object)],ListParamEditor.prototype,"valueChanged",void 0),ListParamEditor=o([n.i(r.c)({selector:"list-param-editor",template:n(1955)}),i("design:paramtypes",[])],ListParamEditor)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function MapParamEditor(){this.valueChanged=new r.i,this.map=[]}return MapParamEditor.prototype.ngOnInit=function(){if(null==this.value)this.add();else for(var e in this.value)this.map.push({key:e,value:this.value[e]})},MapParamEditor.prototype.add=function(){this.map.push({key:null,value:null})},MapParamEditor.prototype.delete=function(e){this.map.splice(e,1),this.onModelChange()},MapParamEditor.prototype.onModelChange=function(){var e=this;this.value={},this.map.forEach(function(t){(null!=t.key&&""!=t.key.trim()||null!=t.value&&""!=t.value.trim())&&(e.value[t.key]=t.value)}),this.valueChanged.emit(this.value)},o([n.i(r.r)(),i("design:type",Object)],MapParamEditor.prototype,"value",void 0),o([n.i(r._7)(),i("design:type",Object)],MapParamEditor.prototype,"valueChanged",void 0),MapParamEditor=o([n.i(r.c)({selector:"map-param-editor",template:n(1956)}),i("design:paramtypes",[])],MapParamEditor)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(34),o=n(0),i=n(22),a=n(48),s=n(573),l=n(574),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=function(){function SkosDiffingModule(){}return SkosDiffingModule=c([n.i(o.b)({imports:[r.a,i.a,a.a],declarations:[s.a,l.a],exports:[l.a],providers:[],entryComponents:[s.a]})],SkosDiffingModule)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(4),i=n(231),a=n(10),s=n(577),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function QueryParameterForm(e){this.modal=e,this.configurable=!0,this.mode="sparql",this.update=new r.i,this.paramsChange=new r.i,this.useBindings=!0,this.showDisplayName=!1}return QueryParameterForm.prototype.ngOnChanges=function(e){e.bindings&&e.bindings.currentValue&&this.initBindingStruct()},QueryParameterForm.prototype.initBindingStruct=function(){var e=this;this.bindingStructs=[],setTimeout(function(){for(var t in e.bindings){var n={varName:t,displayName:e.bindings[t].displayName,description:e.bindings[t].description,bindingType:e.bindings[t].bindingType};e.bindings[t].bindingType==i.a.assignment?n.value=a.a.parseNode(e.bindings[t].value):e.bindings[t].bindingType==i.a.constraint&&(null!=e.bindings[t].datatype?n.datatype=a.a.parseURI(e.bindings[t].datatype):null!=e.bindings[t].resourceRole&&(n.resourceRole=e.bindings[t].resourceRole)),e.bindingStructs.push(n)}e.emitUpdate()})},QueryParameterForm.prototype.onResourceChanged=function(e,t){e.value=t,this.emitUpdate()},QueryParameterForm.prototype.onLiteralChanged=function(e,t){e.value=t,this.emitUpdate()},QueryParameterForm.prototype.editParameterization=function(){var e=this,t=new s.b(this.bindings),n=new o.b(t,void 0,s.b),r={context:n.size("lg").keyboard(27).toJSON()};this.modal.open(s.a,r).result.then(function(t){e.bindings=t,e.paramsChange.emit(e.bindings)},function(){})},QueryParameterForm.prototype.emitUpdate=function(){var e=new Map;this.useBindings&&this.bindingStructs.forEach(function(t){e.set(t.varName,t.value)}),this.update.emit(e)},l([n.i(r.r)(),c("design:type",i.d)],QueryParameterForm.prototype,"bindings",void 0),l([n.i(r.r)(),c("design:type",Boolean)],QueryParameterForm.prototype,"configurable",void 0),l([n.i(r.r)(),c("design:type",String)],QueryParameterForm.prototype,"mode",void 0),l([n.i(r._7)(),c("design:type",Object)],QueryParameterForm.prototype,"update",void 0),l([n.i(r._7)(),c("design:type",Object)],QueryParameterForm.prototype,"paramsChange",void 0),QueryParameterForm=l([n.i(r.c)({selector:"query-param-form",template:n(1966)}),c("design:paramtypes",[o.c])],QueryParameterForm)}();!function(){function BindingStruct(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(4),i=n(68),a=n(45),s=n(93),l=n(109),c=n(51),p=n(191),d=n(21),u=n(2),f=n(13),h=n(575),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function SparqlTabComponent(t,n,r,o,i,a,s,l,c){return e.call(this,t,n,r,o,i,a,s,l,c)||this}return g(SparqlTabComponent,e),SparqlTabComponent.prototype.evaluateQueryImpl=function(){return this.sparqlService.evaluateQuery(this.query,this.inferred)},SparqlTabComponent.prototype.executeUpdateImpl=function(){return this.sparqlService.executeUpdate(this.query,this.inferred)},SparqlTabComponent.prototype.loadConfiguration=function(){var e=this;this.sharedModals.loadConfiguration("Load SPARQL query",a.c.SPARQL_STORE).then(function(t){var n=t.reference.relativeReference;e.storedQueryReference=n,e.updateName.emit(n.substring(n.indexOf(":")+1)),e.setLoadedQueryConf(t.configuration),e.savedStatus.emit(!0)},function(){})},SparqlTabComponent.prototype.saveConfiguration=function(){var e=this,t={sparql:this.query,type:this.queryMode,includeInferred:this.inferred};this.sharedModals.storeConfiguration("Store SPARQL query",a.c.SPARQL_STORE,t,this.storedQueryReference).then(function(t){e.basicModals.alert("Save query","Query saved succesfully"),e.storedQueryReference=t,e.updateName.emit(t.substring(t.indexOf(":")+1)),e.savedStatus.emit(!0)},function(){})},SparqlTabComponent=m([n.i(r.c)({selector:"sparql-tab",template:n(1969)}),v("design:paramtypes",[p.a,l.a,s.a,c.a,u.a,f.a,i.a,o.c,d.a])],SparqlTabComponent)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n(4),i=n(68),a=n(45),s=n(93),l=n(109),c=n(51),p=n(191),d=n(21),u=n(2),f=n(13),h=n(575),g=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){function SparqlTabParametrizedComponent(t,n,r,o,i,a,s,l,c){return e.call(this,t,n,r,o,i,a,s,l,c)||this}return g(SparqlTabParametrizedComponent,e),SparqlTabParametrizedComponent.prototype.evaluateQueryImpl=function(){return this.sparqlService.evaluateQuery(this.query,this.inferred,null,this.bindingsMap)},SparqlTabParametrizedComponent.prototype.executeUpdateImpl=function(){return this.sparqlService.executeUpdate(this.query,this.inferred,null,this.bindingsMap)},SparqlTabParametrizedComponent.prototype.changeStoredQuery=function(){var e=this;this.sharedModals.loadConfiguration("Load SPARQL query",a.c.SPARQL_STORE).then(function(t){var n=t.reference.relativeReference;e.storedQueryReference=n,e.storedQueryName=e.storedQueryReference.substring(e.storedQueryReference.indexOf(":")+1),e.setLoadedQueryConf(t.configuration),setTimeout(function(){e.savedStatus.emit(!1)})})},SparqlTabParametrizedComponent.prototype.loadConfiguration=function(){var e=this;this.sharedModals.loadConfiguration("Load SPARQL parameterized query",a.c.SPARQL_PARAMETERIZATION_STORE).then(function(t){var n=t.reference.relativeReference;e.parametrizationRef=n,e.loadParameterizedQueryConfig(t.configuration),e.updateName.emit(n.substring(n.indexOf(":")+1))},function(){})},SparqlTabParametrizedComponent.prototype.loadParameterizedQueryConfig=function(e){for(var t=this,n=e.properties,r=0;r<n.length;r++)"relativeReference"==n[r].name?(this.storedQueryReference=n[r].value,this.storedQueryName=this.storedQueryReference.substring(this.storedQueryReference.indexOf(":")+1),this.configurationsService.getConfiguration(a.c.SPARQL_STORE,this.storedQueryReference).subscribe(function(e){t.setLoadedQueryConf(e),setTimeout(function(){t.savedStatus.emit(!0)})})):"variableBindings"==n[r].name?this.parameterization=n[r].value:"description"==n[r].name&&(this.description=n[r].value)},SparqlTabParametrizedComponent.prototype.setLoadedQueryConf=function(e){for(var t,n=this,r=!1,o=e.properties,i=0;i<o.length;i++)"sparql"==o[i].name?t=o[i].value:"includeInferred"==o[i].name&&(r=o[i].value);this.query=t,this.inferred=r,setTimeout(function(){n.viewChildYasgui.forceContentUpdate()})},SparqlTabParametrizedComponent.prototype.saveConfiguration=function(){var e=this,t={relativeReference:this.storedQueryReference,variableBindings:this.parameterization,description:this.description};this.sharedModals.storeConfiguration("Save SPARQL query parameterization",a.c.SPARQL_PARAMETERIZATION_STORE,t,this.parametrizationRef).then(function(t){e.basicModals.alert("Save query parameterization","Query parameterization saved succesfully"),e.parametrizationRef=t,e.updateName.emit(t.substring(t.indexOf(":")+1)),e.savedStatus.emit(!0)},function(){})},SparqlTabParametrizedComponent.prototype.onParametrizationsChange=function(e){this.parameterization=e,this.savedStatus.emit(!1)},SparqlTabParametrizedComponent.prototype.onVarBindingsUpdate=function(e){this.bindingsMap=e},SparqlTabParametrizedComponent.prototype.onDescriptionChange=function(){this.savedStatus.emit(!1)},SparqlTabParametrizedComponent=m([n.i(r.c)({selector:"sparql-tab-param",template:n(1970)}),v("design:paramtypes",[p.a,l.a,s.a,c.a,u.a,f.a,i.a,o.c,d.a])],SparqlTabParametrizedComponent)}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(70),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function LexicalSenseSelectorComponent(e){this.ontolexService=e,this.nodeSelected=new r.i}return LexicalSenseSelectorComponent.prototype.onLexEntrySelected=function(e){var t=this;this.selectedLexicalEntry=e,this.onLexicalSenseSelected(null),null!=this.selectedLexicalEntry&&this.ontolexService.getLexicalEntrySenses(this.selectedLexicalEntry).subscribe(function(e){t.lexicalSenses=e})},LexicalSenseSelectorComponent.prototype.onLexEntryLexiconChange=function(){this.selectedLexicalEntry=null,this.onLexicalSenseSelected(null)},LexicalSenseSelectorComponent.prototype.onIndexChanged=function(){this.selectedLexicalEntry=null,this.onLexicalSenseSelected(null)},LexicalSenseSelectorComponent.prototype.onLexicalSenseSelected=function(e){this.selectedSense=e,this.nodeSelected.emit(this.selectedSense)},i([n.i(r._7)(),a("design:type",Object)],LexicalSenseSelectorComponent.prototype,"nodeSelected",void 0),LexicalSenseSelectorComponent=i([n.i(r.c)({selector:"lexical-sense-selector",template:n(1976),host:{class:"vbox"}}),a("design:paramtypes",[o.a])],LexicalSenseSelectorComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(11),i=n(7),a=n(6),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function ClassIndividualTreeComponent(){this.editable=!0,this.deletable=!0,this.allowMultiselection=!1,this.nodeSelected=new r.i,this.nodeChecked=new r.i,this.multiselectionStatus=new r.i,this.selectedClass=null}return ClassIndividualTreeComponent.prototype.ngOnInit=function(){void 0===this.schemes?this.currentSchemes=a.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().activeSchemes:this.currentSchemes=this.schemes,void 0==this.context&&(this.context=i.b.clsIndTree)},ClassIndividualTreeComponent.prototype.ngOnChanges=function(e){e.roots&&(this.selectedClass=null,this.selectedInstance=null)},ClassIndividualTreeComponent.prototype.onTreeClassSelected=function(e){(void 0==this.selectedClass||void 0!=this.selectedClass&&this.selectedClass.getURI()!=e.getURI())&&(this.selectedInstance=null,this.nodeSelected.emit(null)),this.selectedClass=e},ClassIndividualTreeComponent.prototype.onInstanceSelected=function(e){this.selectedInstance=e,this.nodeSelected.emit(this.selectedInstance)},ClassIndividualTreeComponent.prototype.onNodeChecked=function(e){this.nodeChecked.emit(e)},ClassIndividualTreeComponent.prototype.onConceptTreeSchemeChange=function(){this.selectedInstance=null,this.nodeSelected.emit(this.selectedInstance)},ClassIndividualTreeComponent.prototype.onLexEntryLexiconChange=function(){this.selectedInstance=null,this.nodeSelected.emit(this.selectedInstance)},ClassIndividualTreeComponent.prototype.onMultiselectionChange=function(e){this.multiselectionStatus.emit(e)},ClassIndividualTreeComponent.prototype.isRangeConcept=function(){return void 0!=this.selectedClass&&this.selectedClass.getURI()==o.d.concept.getURI()},s([n.i(r.r)(),l("design:type",String)],ClassIndividualTreeComponent.prototype,"context",void 0),s([n.i(r.r)(),l("design:type",a.b)],ClassIndividualTreeComponent.prototype,"projectCtx",void 0),s([n.i(r.r)(),l("design:type",Array)],ClassIndividualTreeComponent.prototype,"roots",void 0),s([n.i(r.r)(),l("design:type",Array)],ClassIndividualTreeComponent.prototype,"schemes",void 0),s([n.i(r.r)(),l("design:type",Boolean)],ClassIndividualTreeComponent.prototype,"editable",void 0),s([n.i(r.r)(),l("design:type",Boolean)],ClassIndividualTreeComponent.prototype,"deletable",void 0),s([n.i(r.r)(),l("design:type",Boolean)],ClassIndividualTreeComponent.prototype,"allowMultiselection",void 0),s([n.i(r._7)(),l("design:type",Object)],ClassIndividualTreeComponent.prototype,"nodeSelected",void 0),s([n.i(r._7)(),l("design:type",Object)],ClassIndividualTreeComponent.prototype,"nodeChecked",void 0),s([n.i(r._7)(),l("design:type",Object)],ClassIndividualTreeComponent.prototype,"multiselectionStatus",void 0),ClassIndividualTreeComponent=s([n.i(r.c)({selector:"class-individual-tree",template:n(1980)})],ClassIndividualTreeComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(53),o=(n.n(r),n(3)),i=n(8),a=n(6),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=function(e){function CustomCompleterData(t,n,r){var o=e.call(this)||this;return o.searchService=t,o.role=n,o.searchSettings=r,o}return s(CustomCompleterData,e),CustomCompleterData.prototype.search=function(e){var t,n,r=this;this.searchSettings.restrictLang&&(t=this.searchSettings.languages,n=this.searchSettings.includeLocales);var s;this.searchSettings.restrictActiveScheme&&(s=this.activeSchemes);var l;this.role!=o.c.individual||this.searchSettings.extendToAllIndividuals||(l=this.cls);var c=a.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().conceptTreePreferences;this.searchService.searchStringList(e,[this.role],this.searchSettings.useLocalName,this.searchSettings.stringMatchMode,t,n,s,c.multischemeMode,l,i.b.getRequestOptions(this.projectCtx)).map(function(e){var t=[];e.slice(0,100).forEach(function(e){t.push({title:e,originalObject:e})}),r.next(t)}).subscribe()},CustomCompleterData.prototype.cancel=function(){},CustomCompleterData.prototype.updateSearchSettings=function(e){this.searchSettings=e},CustomCompleterData.prototype.setProjectCtx=function(e){this.projectCtx=e},CustomCompleterData.prototype.setConceptSchemes=function(e){this.activeSchemes=e},CustomCompleterData.prototype.setClass=function(e){this.cls=e},CustomCompleterData}(r.Subject)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n(4),i=n(3),a=n(32),s=n(51),l=n(7),c=n(6),p=n(15),d=n(21),u=n(2),f=n(604),h=n(1079),g=n(605),m=n(606),v=n(607),b=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(){function SearchBarComponent(e,t,n,o,i){var s=this;this.searchService=e,this.modal=t,this.vbProperties=n,this.eventHandler=o,this.basicModals=i,this.disabled=!1,this.search=new r.i,this.advancedSearchEvent=new r.i,this.stringMatchModes=[{show:"Starts with",value:a.f.startsWith,symbol:".."},{show:"Contains",value:a.f.contains,symbol:".."},{show:"Ends with",value:a.f.endsWith,symbol:".."},{show:"Exact",value:a.f.exact,symbol:""},{show:"Fuzzy",value:a.f.fuzzy,symbol:"~"}],this.eventSubscriptions=[],this.eventSubscriptions.push(o.schemeChangedEvent.subscribe(function(e){c.a.getWorkingProjectCtx(s.projectCtx).getProject().getName()==e.project.getName()&&s.setSchemeInCompleter(e.schemes)})),this.eventSubscriptions.push(o.searchPrefsUpdatedEvent.subscribe(function(e){c.a.getWorkingProjectCtx(s.projectCtx).getProject().getName()==e.getName()&&s.updateSearchSettings()}))}return SearchBarComponent.prototype.ngOnInit=function(){this.searchSettings=c.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings,this.completerDatasource=new h.a(this.searchService,this.role,this.searchSettings),this.setSchemeInCompleter(c.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().activeSchemes),this.setProjectCtxInCompleter(this.projectCtx)},SearchBarComponent.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},SearchBarComponent.prototype.ngOnChanges=function(e){e.cls&&!e.cls.firstChange&&this.completerDatasource.setClass(e.cls.currentValue)},SearchBarComponent.prototype.searchKeyHandler=function(e){13==e.which&&(e.preventDefault(),e.stopPropagation(),this.doSearch())},SearchBarComponent.prototype.doSearch=function(){void 0!=this.searchStr&&""!=this.searchStr.trim()?this.search.emit(this.searchStr):this.basicModals.alert("Search","Please enter a valid string to search","warning")},SearchBarComponent.prototype.editSettings=function(){var e=new v.b(this.role,this.context,this.projectCtx),t=new o.b(e,void 0,v.b),n={context:t.keyboard(27).toJSON()};return this.modal.open(v.a,n)},SearchBarComponent.prototype.showOtherSearch=function(){return this.context==l.b.dataPanel&&null==this.projectCtx},SearchBarComponent.prototype.advancedSearch=function(){var e=this,t=new o.b,n={context:t.size("lg").keyboard(27).toJSON()};this.modal.open(f.a,n).result.then(function(t){e.advancedSearchEvent.emit(t)},function(){})},SearchBarComponent.prototype.customSearch=function(){var e=this,t=new o.b,n={context:t.keyboard(27).toJSON()};this.modal.open(m.a,n).result.then(function(t){var n=new g.b(t),r=new o.b(n,void 0,v.b),i={context:r.keyboard(27).toJSON()};e.modal.open(g.a,i).result.then(function(t){e.advancedSearchEvent.emit(t)},function(){})},function(){})},SearchBarComponent.prototype.updateSearchMode=function(e,t){t.stopPropagation(),this.searchSettings.stringMatchMode=e,this.vbProperties.setSearchSettings(c.a.getWorkingProjectCtx(this.projectCtx),this.searchSettings)},SearchBarComponent.prototype.setSchemeInCompleter=function(e){this.role==i.c.concept&&this.completerDatasource.setConceptSchemes(e)},SearchBarComponent.prototype.setProjectCtxInCompleter=function(e){this.completerDatasource.setProjectCtx(e)},SearchBarComponent.prototype.updateSearchSettings=function(){this.searchSettings=c.a.getWorkingProjectCtx(this.projectCtx).getProjectPreferences().searchSettings,this.completerDatasource.updateSearchSettings(this.searchSettings)},b([n.i(r.r)(),y("design:type",String)],SearchBarComponent.prototype,"role",void 0),b([n.i(r.r)(),y("design:type",Boolean)],SearchBarComponent.prototype,"disabled",void 0),b([n.i(r.r)(),y("design:type",i.b)],SearchBarComponent.prototype,"cls",void 0),b([n.i(r.r)(),y("design:type",String)],SearchBarComponent.prototype,"context",void 0),b([n.i(r.r)(),y("design:type",c.b)],SearchBarComponent.prototype,"projectCtx",void 0),b([n.i(r._7)(),y("design:type",r.i)],SearchBarComponent.prototype,"search",void 0),b([n.i(r._7)("advancedSearch"),y("design:type",r.i)],SearchBarComponent.prototype,"advancedSearchEvent",void 0),SearchBarComponent=b([n.i(r.c)({selector:"search-bar",template:n(1999)}),y("design:paramtypes",[s.a,o.c,d.a,p.a,u.a])],SearchBarComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(46),i=n(158),a=n(55),s=n(2),l=n(6),c=n(7),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function LoginComponent(e,t,n,o){this.router=e,this.authService=t,this.userService=n,this.basicModals=o,this.loggedIn=new r.i,this.rememberMe=!1}return LoginComponent.prototype.onKeydown=function(e){13==e.which&&this.login()},LoginComponent.prototype.login=function(){var e=this;this.authService.login(this.email,this.password,this.rememberMe).subscribe(function(t){l.a.isLoggedIn()&&e.loggedIn.emit()})},LoginComponent.prototype.forgotPassword=function(){var e=this;this.basicModals.prompt("Forgot password",{value:"E-mail"},"Insert the e-mail address of your account. You will receive an e-mail with the instructions for resetting the password").then(function(t){c.a.startLoadingDiv(c.a.blockDivFullScreen),e.userService.forgotPassword(t.trim()).subscribe(function(t){c.a.stopLoadingDiv(c.a.blockDivFullScreen),e.basicModals.alert("Forgot password","An e-mail with the instructions for resetting password has been sent to the provided address.")})},function(){})},p([n.i(r._7)(),d("design:type",r.i)],LoginComponent.prototype,"loggedIn",void 0),LoginComponent=p([n.i(r.c)({selector:"login",template:n(2015)}),d("design:paramtypes",[o.c,i.a,a.a,s.a])],LoginComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(22),i=n(80),a=n(55),s=n(13),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function UserCreateComponent(e,t){this.userService=e,this.sharedModals=t,this.iriInfoTitle="This will be used as user identifier inside VocBench. You can specify a personal IRI",this.form=new i.f,this.propagateChange=function(e){}}return e=UserCreateComponent,UserCreateComponent.prototype.ngOnInit=function(){var e=this;this.userService.getUserFormFields().subscribe(function(t){e.optionalFields=t.optionalFields,e.personalUrlVisible=e.optionalFields.find(function(e){return e.iri==i.e.URL_IRI}).visible,e.personalUrlVisible&&(e.iriInfoTitle+=", or in alternative, you can use the personal URL as IRI"),e.iriInfoTitle+=". If you leave it empty the system will provide a default IRI to your account",e.customFields=t.customFields})},UserCreateComponent.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.onModelChange()})},UserCreateComponent.prototype.getOptionalFieldLabel=function(e){return i.e.getOptionalFieldLabel(e)},UserCreateComponent.prototype.onOptionalFieldChange=function(e){e.iri==i.e.ADDRESS_IRI?this.form.address=e.value:e.iri==i.e.AFFILIATION_IRI?this.form.affiliation=e.value:e.iri==i.e.PHONE_IRI?this.form.phone=e.value:e.iri==i.e.URL_IRI&&(this.form.url=e.value,this.form.urlAsIri&&(this.form.iri=this.form.url)),this.onModelChange()},UserCreateComponent.prototype.onUrlAsIriChange=function(){this.form.urlAsIri&&(this.form.iri=this.form.url),this.onModelChange()},UserCreateComponent.prototype.onUrlChange=function(){this.form.urlAsIri&&(this.form.iri=this.form.url),this.onModelChange()},UserCreateComponent.prototype.editLanguages=function(){var e=this;this.sharedModals.selectLanguages("Language proficiencies",this.form.languageProficiencies).then(function(t){e.form.languageProficiencies=t,e.onModelChange()},function(){})},UserCreateComponent.prototype.isConfirmPwdOk=function(){return this.form.password==this.form.confirmedPassword},UserCreateComponent.prototype.onModelChange=function(){for(var e in this.form)""==this.form[e]&&(this.form[e]=void 0);this.propagateChange(this.form)},UserCreateComponent.prototype.writeValue=function(e){e&&(this.form=e)},UserCreateComponent.prototype.registerOnChange=function(e){this.propagateChange=e},UserCreateComponent.prototype.registerOnTouched=function(e){},UserCreateComponent=e=l([n.i(r.c)({selector:"user-create",template:n(2018),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),c("design:paramtypes",[a.a,s.a])],UserCreateComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(4),i=n(3),a=n(80),s=n(55),l=n(6),c=n(13),p=n(620),d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function UserDetailsComponent(e,t,n){this.userService=e,this.sharedModals=t,this.modal=n,this.readonly=!1}return UserDetailsComponent.prototype.ngOnInit=function(){var e=this;this.userService.getUserFormFields().subscribe(function(t){e.optionalFields=t.optionalFields,e.customFields=t.customFields})},UserDetailsComponent.prototype.updateGivenName=function(e){this.userService.updateUserGivenName(this.user.getEmail(),e).subscribe(function(e){l.a.setLoggedUser(e)})},UserDetailsComponent.prototype.updateFamilyName=function(e){this.userService.updateUserFamilyName(this.user.getEmail(),e).subscribe(function(e){l.a.setLoggedUser(e)})},UserDetailsComponent.prototype.updateEmail=function(e){this.userService.updateUserEmail(this.user.getEmail(),e).subscribe(function(e){l.a.setLoggedUser(e)})},UserDetailsComponent.prototype.changePwd=function(){var e=new o.b,t={context:e.keyboard(27).toJSON()};this.modal.open(p.a,t)},UserDetailsComponent.prototype.getOptionalFieldValue=function(e){return e.iri==a.e.URL_IRI?this.user.getUrl():e.iri==a.e.ADDRESS_IRI?this.user.getAddress():e.iri==a.e.AFFILIATION_IRI?this.user.getAffiliation():e.iri==a.e.PHONE_IRI?this.user.getPhone():void 0},UserDetailsComponent.prototype.updateOptionalFieldValue=function(e,t){e.iri==a.e.URL_IRI?this.updateUrl(t):e.iri==a.e.ADDRESS_IRI?this.updateAddress(t):e.iri==a.e.AFFILIATION_IRI?this.updateAffiliation(t):e.iri==a.e.PHONE_IRI&&this.updatePhone(t)},UserDetailsComponent.prototype.getOptionalFieldLabel=function(e){return a.e.getOptionalFieldLabel(e)},UserDetailsComponent.prototype.updatePhone=function(e){this.userService.updateUserPhone(this.user.getEmail(),e).subscribe(function(e){l.a.setLoggedUser(e)})},UserDetailsComponent.prototype.updateAddress=function(e){this.userService.updateUserAddress(this.user.getEmail(),e).subscribe(function(e){l.a.setLoggedUser(e)})},UserDetailsComponent.prototype.updateAffiliation=function(e){this.userService.updateUserAffiliation(this.user.getEmail(),e).subscribe(function(e){l.a.setLoggedUser(e)})},UserDetailsComponent.prototype.updateUrl=function(e){this.userService.updateUserUrl(this.user.getEmail(),e).subscribe(function(e){l.a.setLoggedUser(e)})},UserDetailsComponent.prototype.updateAvatarUrl=function(e){this.userService.updateUserAvatarUrl(this.user.getEmail(),e).subscribe(function(e){l.a.setLoggedUser(e)})},UserDetailsComponent.prototype.editLanguages=function(){var e=this;this.sharedModals.selectLanguages("Language proficiencies",this.user.getLanguageProficiencies()).then(function(t){e.userService.updateUserLanguageProficiencies(e.user.getEmail(),t).subscribe(function(e){l.a.setLoggedUser(e)})},function(){})},UserDetailsComponent.prototype.updateCustomProperty=function(e,t){this.userService.updateUserCustomField(this.user.getEmail(),new i.b(e.iri),t).subscribe(function(e){l.a.setLoggedUser(e)})},d([n.i(r.r)(),u("design:type",Boolean)],UserDetailsComponent.prototype,"readonly",void 0),d([n.i(r.r)(),u("design:type",a.a)],UserDetailsComponent.prototype,"user",void 0),UserDetailsComponent=d([n.i(r.c)({selector:"user-details",template:n(2019),host:{class:"vbox"}}),u("design:paramtypes",[s.a,c.a,o.c])],UserDetailsComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(79),i=n(32),a=n(158),s=n(17),l=n(20),c=n(6),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function UserMenuComponent(e,t){this.authService=e,this.sanitizer=t,this.imgSrcFallback=n(1747)}return UserMenuComponent.prototype.ngOnInit=function(){this.currentUser=c.a.getLoggedUser(),this.userShow=this.currentUser.getShow(),this.initBackgroundImgSrc()},UserMenuComponent.prototype.onMenuOpen=function(){if(this.currentUser=c.a.getLoggedUser(),this.initBackgroundImgSrc(),this.isProjectOpen=void 0!=c.a.getWorkingProject(),this.isAdministrationVisible=c.a.getLoggedUser().isAdmin()||this.isProjectOpen&&(s.a.isAuthorized(l.a.administrationRoleManagement)||s.a.isAuthorized(l.a.administrationProjectManagement)&&s.a.isAuthorized(l.a.administrationUserRoleManagement)),this.isNotificationsVisible=!1,this.isProjectOpen){var e=c.a.getWorkingProjectCtx().getProjectPreferences().notificationStatus;this.isNotificationsVisible=e==i.q.in_app_only||e==i.q.email_daily_digest}},UserMenuComponent.prototype.initBackgroundImgSrc=function(){var e=this.currentUser.getAvatarUrl();null!=e?this.userAvatarUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e):this.setFallbackImage()},UserMenuComponent.prototype.setFallbackImage=function(){this.userAvatarUrl=this.sanitizer.bypassSecurityTrustUrl(this.imgSrcFallback)},UserMenuComponent.prototype.logout=function(){this.authService.logout().subscribe()},UserMenuComponent=p([n.i(r.c)({selector:"li[user-menu]",template:n(2020)}),d("design:paramtypes",[a.a,o.c])],UserMenuComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r;!function(e){e.applicationXml="application/xml",e.applicationJson="application/json"}(r||(r={}));var o=function(){function STResponseUtils(){}return STResponseUtils.getResponseData=function(e){return e instanceof Document?e.getElementsByTagName("data")[0]:void 0!=e.stresponse?e.stresponse.data:e.result},STResponseUtils.isErrorResponse=function(e){return this.isError(e)||this.isException(e)||this.isFail(e)},STResponseUtils.getErrorResponseMessage=function(e){var t;return this.isError(e)?t=this.getErrorMessage(e):this.isException(e)?t=this.getExceptionMessage(e):this.isFail(e)&&(t=this.getFailMessage(e)),t},STResponseUtils.getErrorResponseExceptionName=function(e){return this.getExceptionName(e)},STResponseUtils.getErrorResponseExceptionMessage=function(e){var t=this.getExceptionMessage(e),n=t.indexOf(":");return-1==n?t:t.substring(n+2,t.length)},STResponseUtils.getErrorResponseExceptionStackTrace=function(e){return this.getExceptionStackTrace(e)},STResponseUtils.isException=function(e){return e instanceof Document?"exception"==e.getElementsByTagName("stresponse")[0].getAttribute("type"):void 0!=e.stresponse&&"exception"==e.stresponse.type},STResponseUtils.getExceptionMessage=function(e){return e instanceof Document?e.getElementsByTagName("msg")[0].textContent:e.stresponse.msg},STResponseUtils.getExceptionName=function(e){return e instanceof Document?e.getElementsByTagName("stresponse")[0].getAttribute("exception"):e.stresponse.exception},STResponseUtils.getExceptionStackTrace=function(e){return e instanceof Document?e.getElementsByTagName("stackTrace")[0].textContent:e.stresponse.stackTrace},STResponseUtils.isError=function(e){return e instanceof Document?"error"==e.getElementsByTagName("stresponse")[0].getAttribute("type"):void 0!=e.stresponse&&"error"==e.stresponse.type},STResponseUtils.getErrorMessage=function(e){return e instanceof Document?e.getElementsByTagName("msg")[0].textContent:e.stresponse.msg},STResponseUtils.isFail=function(e){return e instanceof Document?"fail"==e.getElementsByTagName("reply")[0].getAttribute("status"):void 0!=e.stresponse&&"fail"==e.stresponse.reply.status},STResponseUtils.getFailMessage=function(e){return e instanceof Document?e.getElementsByTagName("reply")[0].textContent:e.stresponse.reply.msg},STResponseUtils.ContentType=r,STResponseUtils}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(22),i=n(56),a=(n.n(i),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function HtmlEditorComponent(){this.propagateChange=function(e){}}return e=HtmlEditorComponent,HtmlEditorComponent.prototype.ngAfterViewInit=function(){var e=this;this.cmEditor=i.fromTextArea(this.textareaElement.nativeElement,{lineNumbers:!0,mode:"text/html",lineWrapping:!0,readOnly:this.disabled,viewportMargin:1/0}),this.cmEditor.on("change",function(t){e.propagateChange(t.getDoc().getValue())})},HtmlEditorComponent.prototype.insertAtCursor=function(e){var t=this.cmEditor.getDoc().getCursor();this.cmEditor.getDoc().replaceRange(e,t,t)},HtmlEditorComponent.prototype.writeValue=function(e){null!=e&&this.cmEditor.setValue(e)},HtmlEditorComponent.prototype.registerOnChange=function(e){this.propagateChange=e},HtmlEditorComponent.prototype.registerOnTouched=function(e){},a([n.i(r.r)(),s("design:type",Boolean)],HtmlEditorComponent.prototype,"disabled",void 0),a([n.i(r.F)("txtarea"),s("design:type",Object)],HtmlEditorComponent.prototype,"textareaElement",void 0),HtmlEditorComponent=e=a([n.i(r.c)({selector:"html-editor",template:n(2022),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}],host:{class:"vbox"}}),s("design:paramtypes",[])],HtmlEditorComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(22),i=n(56),a=(n.n(i),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function JsonEditorComponent(){this.lineNumbers=!0,this.propagateChange=function(e){}}return e=JsonEditorComponent,JsonEditorComponent.prototype.ngAfterViewInit=function(){var e=this;this.cmEditor=i.fromTextArea(this.textareaElement.nativeElement,{lineNumbers:this.lineNumbers,mode:"application/json",lineWrapping:!0,readOnly:this.disabled,matchBrackets:!0,autoCloseBrackets:!0,viewportMargin:1/0}),this.cmEditor.on("change",function(t){e.propagateChange(t.getDoc().getValue())})},JsonEditorComponent.prototype.insertAtCursor=function(e){var t=this.cmEditor.getDoc().getCursor();this.cmEditor.getDoc().replaceRange(e,t,t)},JsonEditorComponent.prototype.writeValue=function(e){null!=e&&this.cmEditor.setValue(e)},JsonEditorComponent.prototype.registerOnChange=function(e){this.propagateChange=e},JsonEditorComponent.prototype.registerOnTouched=function(e){},a([n.i(r.r)(),s("design:type",Boolean)],JsonEditorComponent.prototype,"disabled",void 0),a([n.i(r.r)(),s("design:type",Boolean)],JsonEditorComponent.prototype,"lineNumbers",void 0),a([n.i(r.F)("txtarea"),s("design:type",Object)],JsonEditorComponent.prototype,"textareaElement",void 0),JsonEditorComponent=e=a([n.i(r.c)({selector:"json-editor",template:n(2023),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}],host:{class:"vbox"}}),s("design:paramtypes",[])],JsonEditorComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(22),i=n(56),a=(n.n(i),n(2381)),s=(n.n(a),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function MustacheEditorComponent(){this.propagateChange=function(e){}}return e=MustacheEditorComponent,MustacheEditorComponent.prototype.ngAfterViewInit=function(){var e=this;this.cmEditor=i.fromTextArea(this.textareaElement.nativeElement,{lineNumbers:!0,mode:"mustache",lineWrapping:!0,readOnly:this.disabled,viewportMargin:1/0}),this.cmEditor.on("change",function(t){e.propagateChange(t.getDoc().getValue())})},MustacheEditorComponent.prototype.insertAtCursor=function(e){var t=this.cmEditor.getDoc().getCursor();this.cmEditor.getDoc().replaceRange(e,t,t)},MustacheEditorComponent.prototype.writeValue=function(e){this.cmEditor&&(null!=e?this.cmEditor.setValue(e):this.cmEditor.setValue(""))},MustacheEditorComponent.prototype.registerOnChange=function(e){this.propagateChange=e},MustacheEditorComponent.prototype.registerOnTouched=function(e){},s([n.i(r.r)(),l("design:type",Boolean)],MustacheEditorComponent.prototype,"disabled",void 0),s([n.i(r.F)("txtarea"),l("design:type",Object)],MustacheEditorComponent.prototype,"textareaElement",void 0),MustacheEditorComponent=e=s([n.i(r.c)({selector:"mustache-editor",template:n(2026),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}],host:{class:"vbox"}}),l("design:paramtypes",[])],MustacheEditorComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(22),i=n(56),a=(n.n(i),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function NTripleEditorComponent(){this.propagateChange=function(e){}}return e=NTripleEditorComponent,NTripleEditorComponent.prototype.ngAfterViewInit=function(){var e=this;this.cmEditor=i.fromTextArea(this.textareaElement.nativeElement,{lineNumbers:!0,mode:"ntriples",lineWrapping:!0,readOnly:this.disabled,viewportMargin:1/0}),this.cmEditor.on("change",function(t){e.propagateChange(t.getDoc().getValue())})},NTripleEditorComponent.prototype.insertAtCursor=function(e){var t=this.cmEditor.getDoc().getCursor();this.cmEditor.getDoc().replaceRange(e,t,t)},NTripleEditorComponent.prototype.writeValue=function(e){null!=e&&this.cmEditor.setValue(e)},NTripleEditorComponent.prototype.registerOnChange=function(e){this.propagateChange=e},NTripleEditorComponent.prototype.registerOnTouched=function(e){},a([n.i(r.r)(),s("design:type",Boolean)],NTripleEditorComponent.prototype,"disabled",void 0),a([n.i(r.F)("txtarea"),s("design:type",Object)],NTripleEditorComponent.prototype,"textareaElement",void 0),NTripleEditorComponent=e=a([n.i(r.c)({selector:"ntriple-editor",template:n(2027),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}],host:{class:"vbox"}}),s("design:paramtypes",[])],NTripleEditorComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(22),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function SanitizerDirective(e,t){this.el=e,this.model=t,this.sourceChar=" ",this.targetChar="_",this.onPasteListener=function(e){if(this.active){var t=this.el.nativeElement,n=t.value,r=t.selectionStart,o=t.selectionEnd,i=e.clipboardData.getData("text/plain"),a=this.sanitize(i),s=n.slice(0,r),l=n.slice(o),c=s+a+l;t.value=c,t.selectionStart=t.selectionEnd=r+a.length,e.preventDefault(),this.model.control.setValue(c)}},this.onKeypressListener=function(e){if(this.active){var t=this.el.nativeElement,n=t.value,r=String.fromCharCode(e.which);if(r==this.sourceChar){var o=this.sanitize(r),i=t.selectionStart,a=t.selectionEnd,s=n.slice(0,i),l=n.slice(a);t.value=s+o+l,t.selectionStart=t.selectionEnd=i+1,e.preventDefault()}}}}return SanitizerDirective.prototype.ngOnChanges=function(e){""===e.active.currentValue&&(this.active=!0)},SanitizerDirective.prototype.sanitize=function(e){var e=e.replace(new RegExp(this.sourceChar,"g"),this.targetChar);return e},i([n.i(r.r)("sanitized"),a("design:type",Boolean)],SanitizerDirective.prototype,"active",void 0),SanitizerDirective=i([n.i(r.o)({selector:"[sanitized]",host:{"(keypress)":"onKeypressListener($event)","(paste)":"onPasteListener($event)"},providers:[o.c]}),a("design:paramtypes",[r.e,o.c])],SanitizerDirective)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(80),i=n(2),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function InputEditableComponent(e){this.basicModals=e,this.size="sm",this.allowEmpty=!1,this.disabled=!1,this.valueEdited=new r.i,this.inputClass="input-group input-group-",this.inputType="text",this.editInProgress=!1}return InputEditableComponent.prototype.ngOnInit=function(){"xs"==this.size||"md"==this.size||"lg"==this.size?this.inputClass+=this.size:this.inputClass+="sm","email"!=this.type&&"date"!=this.type&&"number"!=this.type||(this.inputType=this.type),this.pristineValue=this.value},InputEditableComponent.prototype.ngOnChanges=function(e){e.value&&e.value.currentValue&&(this.pristineValue=this.value)},InputEditableComponent.prototype.edit=function(){this.editInProgress=!0},InputEditableComponent.prototype.confirmEdit=function(){if(void 0==this.value||""==this.value.trim()){if(!this.allowEmpty)return void this.basicModals.alert("Invalid value","The inserted value is empty or not valid. Please check and retry.","error");this.value=null}else if("email"==this.type&&!o.f.isValidEmail(this.value))return void this.basicModals.alert("Invalid value","The inserted value is not valid. Please check and retry.","error");this.editInProgress=!1,this.pristineValue=this.value,this.valueEdited.emit(this.value)},InputEditableComponent.prototype.cancelEdit=function(){this.editInProgress=!1,this.value=this.pristineValue},a([n.i(r.r)(),s("design:type",Object)],InputEditableComponent.prototype,"value",void 0),a([n.i(r.r)(),s("design:type",String)],InputEditableComponent.prototype,"size",void 0),a([n.i(r.r)(),s("design:type",String)],InputEditableComponent.prototype,"type",void 0),a([n.i(r.r)(),s("design:type",Array)],InputEditableComponent.prototype,"options",void 0),a([n.i(r.r)(),s("design:type",Number)],InputEditableComponent.prototype,"min",void 0),a([n.i(r.r)(),s("design:type",Number)],InputEditableComponent.prototype,"max",void 0),a([n.i(r.r)(),s("design:type",Number)],InputEditableComponent.prototype,"step",void 0),a([n.i(r.r)(),s("design:type",Boolean)],InputEditableComponent.prototype,"allowEmpty",void 0),a([n.i(r.r)(),s("design:type",Boolean)],InputEditableComponent.prototype,"disabled",void 0),a([n.i(r._7)(),s("design:type",Object)],InputEditableComponent.prototype,"valueEdited",void 0),InputEditableComponent=a([n.i(r.c)({selector:"input-editable",template:n(2030)}),s("design:paramtypes",[i.a])],InputEditableComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(66),i=n(7),a=n(6),s=n(15),l=n(21),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function LanguageItemComponent(e,t){var n=this;this.preferences=e,this.eventHandler=t,this.showName=!0,this.eventSubscriptions=[],this.eventSubscriptions.push(t.showFlagChangedEvent.subscribe(function(e){return n.initFlagImgSrc()}))}return LanguageItemComponent.prototype.ngOnInit=function(){"sm"==this.size||"md"==this.size||"lg"==this.size?this.flagCls="flag-"+this.size:this.flagCls="flag-xs";var e;if(null!=a.a.getWorkingProjectCtx()){var t=a.a.getWorkingProjectCtx().getProjectPreferences().projectThemeId;e=i.a.themes.find(function(e){return e.id==t})}null==e&&(e=i.a.themes[0]),this.unkownFlagBackground=e.mainColor},LanguageItemComponent.prototype.ngOnChanges=function(e){this.initFlagImgSrc()},LanguageItemComponent.prototype.ngOnDestroy=function(){this.eventHandler.unsubscribeAll(this.eventSubscriptions)},LanguageItemComponent.prototype.initFlagImgSrc=function(){this.preferences.getShowFlags()?this.flagImgSrc=i.a.getFlagImgSrc(this.language.tag):this.flagImgSrc=i.a.getFlagImgSrc(null)},c([n.i(r.r)(),p("design:type",o.b)],LanguageItemComponent.prototype,"language",void 0),c([n.i(r.r)(),p("design:type",Boolean)],LanguageItemComponent.prototype,"showName",void 0),c([n.i(r.r)(),p("design:type",Boolean)],LanguageItemComponent.prototype,"showTag",void 0),c([n.i(r.r)(),p("design:type",Boolean)],LanguageItemComponent.prototype,"disabled",void 0),c([n.i(r.r)(),p("design:type",String)],LanguageItemComponent.prototype,"size",void 0),LanguageItemComponent=c([n.i(r.c)({selector:"lang-item",template:n(2031),styles:["\n        :host { display: inline-block }\n        .flag-xs { zoom: 100%; }\n        .flag-sm { zoom: 130%; }\n        .flag-md { zoom: 150%; }\n        .flag-lg { zoom: 170%; }\n    "]}),p("design:paramtypes",[l.a,s.a])],LanguageItemComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(22),i=n(6),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function EditableNsInput(){this.namespaceLocked=!0,this.propagateChange=function(e){}}return e=EditableNsInput,EditableNsInput.prototype.ngOnInit=function(){this.namespace=i.a.getWorkingProject().getDefaultNamespace(),this.namespacePristine=this.namespace},EditableNsInput.prototype.ngAfterViewInit=function(){this.toFocus&&(this.placeholder?this.lnWithPH.nativeElement.focus():this.lnWithoutPH.nativeElement.focus())},EditableNsInput.prototype.unlockNamespace=function(){this.namespaceLocked=!this.namespaceLocked,this.namespaceLocked?(this.fromUriToNamespaceAndLocalName(),this.propagateChange(this.namespace+this.localName)):(this.uri=this.namespace+(null!=this.localName?this.localName:""),this.propagateChange(this.uri))},EditableNsInput.prototype.fromUriToNamespaceAndLocalName=function(){var e=this.uri.lastIndexOf("#");e<0&&(e=this.uri.lastIndexOf("/")),this.localName=e>0?this.uri.substring(e+1):null},EditableNsInput.prototype.writeValue=function(e){e&&(this.uri=e,this.fromUriToNamespaceAndLocalName())},EditableNsInput.prototype.registerOnChange=function(e){this.propagateChange=e},EditableNsInput.prototype.registerOnTouched=function(e){},EditableNsInput.prototype.onModelChanged=function(){this.namespaceLocked?this.propagateChange(this.namespace+this.localName):this.propagateChange(this.uri)},a([n.i(r.F)("lnWithPH"),s("design:type",r.e)],EditableNsInput.prototype,"lnWithPH",void 0),a([n.i(r.F)("lnWithoutPH"),s("design:type",r.e)],EditableNsInput.prototype,"lnWithoutPH",void 0),a([n.i(r.r)(),s("design:type",String)],EditableNsInput.prototype,"placeholder",void 0),a([n.i(r.r)(),s("design:type",Boolean)],EditableNsInput.prototype,"toFocus",void 0),EditableNsInput=e=a([n.i(r.c)({selector:"editable-ns-input",template:n(2055),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),s("design:paramtypes",[])],EditableNsInput);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(3),i=n(33),a=n(10),s=n(6),l=n(14),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function SchemeSelectionComponent(e,t){this.skosService=e,this.browsingModals=t,this.update=new r.i,this.addBtnImgSrc=n(272),this.collapsed=!1,this.schemeList=[]}return SchemeSelectionComponent.prototype.ngOnInit=function(){},SchemeSelectionComponent.prototype.initSchemeList=function(){var e=this;this.schemeList=[],null==this.concept?this.skosService.getAllSchemes().subscribe(function(t){null==e.schemes&&(e.schemes=s.a.getWorkingProjectCtx().getProjectPreferences().activeSchemes);for(var n=0;n<e.schemes.length;n++)for(var r=0;r<t.length;r++)if(e.schemes[n].getURI()==t[r].getURI()){e.schemeList.push(t[r]);break}e.update.emit(e.schemeList)}):this.skosService.getSchemesOfConcept(this.concept).subscribe(function(t){e.schemeList=t,e.update.emit(e.schemeList)})},SchemeSelectionComponent.prototype.ngOnChanges=function(e){e.concept&&this.initSchemeList()},SchemeSelectionComponent.prototype.addScheme=function(){var e=this;this.browsingModals.browseSchemeList("Add skos:ConceptScheme").then(function(t){a.a.containsNode(e.schemeList,t)||(e.schemeList.push(t),e.update.emit(e.schemeList))},function(){})},SchemeSelectionComponent.prototype.removeScheme=function(e){this.schemeList.splice(this.schemeList.indexOf(e),1),this.selectedScheme=null,this.update.emit(this.schemeList)},c([n.i(r.r)(),p("design:type",o.b)],SchemeSelectionComponent.prototype,"concept",void 0),c([n.i(r.r)(),p("design:type",Array)],SchemeSelectionComponent.prototype,"schemes",void 0),c([n.i(r._7)(),p("design:type",Object)],SchemeSelectionComponent.prototype,"update",void 0),SchemeSelectionComponent=c([n.i(r.c)({selector:"scheme-selection",template:n(2063)}),p("design:paramtypes",[i.a,l.a])],SchemeSelectionComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(22),i=n(3),a=n(24),s=n(10),l=n(2),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function PartitionFilterEditor(e){this.basicModals=e,this.rolePartitionMap=(t={},t[i.c.annotationProperty]=[a.a.types,a.a.formBasedPreview,a.a.superproperties,a.a.domains,a.a.ranges,a.a.lexicalizations,a.a.properties],t[i.c.cls]=[a.a.types,a.a.formBasedPreview,a.a.classaxioms,a.a.lexicalizations,a.a.properties],t[i.c.concept]=[a.a.types,a.a.formBasedPreview,a.a.topconceptof,a.a.schemes,a.a.broaders,a.a.lexicalizations,a.a.notes,a.a.properties],t[i.c.conceptScheme]=[a.a.types,a.a.formBasedPreview,a.a.lexicalizations,a.a.notes,a.a.properties],t[i.c.dataRange]=[a.a.types,a.a.formBasedPreview,a.a.datatypeDefinitions,a.a.lexicalizations,a.a.properties],t[i.c.datatypeProperty]=[a.a.types,a.a.formBasedPreview,a.a.equivalentProperties,a.a.superproperties,a.a.facets,a.a.disjointProperties,a.a.domains,a.a.ranges,a.a.lexicalizations,a.a.properties],t[i.c.individual]=[a.a.types,a.a.formBasedPreview,a.a.lexicalizations,a.a.properties],t[i.c.limeLexicon]=null,t[i.c.objectProperty]=[a.a.types,a.a.formBasedPreview,a.a.equivalentProperties,a.a.superproperties,a.a.subPropertyChains,a.a.facets,a.a.disjointProperties,a.a.domains,a.a.ranges,a.a.lexicalizations,a.a.properties],t[i.c.ontolexForm]=[a.a.types,a.a.formRepresentations,a.a.formBasedPreview,a.a.properties],t[i.c.ontolexLexicalEntry]=[a.a.types,a.a.lexicalForms,a.a.subterms,a.a.constituents,a.a.rdfsMembers,a.a.formBasedPreview,a.a.lexicalSenses,a.a.denotations,a.a.evokedLexicalConcepts,a.a.properties],t[i.c.ontolexLexicalSense]=[a.a.types,a.a.properties],t[i.c.ontology]=[a.a.types,a.a.formBasedPreview,a.a.lexicalizations,a.a.imports,a.a.properties],t[i.c.ontologyProperty]=[a.a.types,a.a.formBasedPreview,a.a.superproperties,a.a.domains,a.a.ranges,a.a.lexicalizations,a.a.properties],t[i.c.property]=[a.a.types,a.a.formBasedPreview,a.a.equivalentProperties,a.a.superproperties,a.a.subPropertyChains,a.a.facets,a.a.disjointProperties,a.a.domains,a.a.ranges,a.a.lexicalizations,a.a.properties],t[i.c.skosCollection]=[a.a.types,a.a.formBasedPreview,a.a.lexicalizations,a.a.notes,a.a.members,a.a.properties],t[i.c.skosOrderedCollection]=[a.a.types,a.a.formBasedPreview,a.a.lexicalizations,a.a.notes,a.a.membersOrdered,a.a.properties],t[i.c.xLabel]=[a.a.types,a.a.formBasedPreview,a.a.labelRelations,a.a.notes,a.a.properties],t),this.propagateChange=function(e){};var t}return e=PartitionFilterEditor,PartitionFilterEditor.prototype.ngOnInit=function(){for(var e in this.rolePartitionMap)null==this.rolePartitionMap[e]&&(this.rolePartitionMap[e]=this.rolePartitionMap[i.c.individual])},PartitionFilterEditor.prototype.convertPrefToRolePartitionsStruct=function(e){var t=[],n=this;for(var r in this.rolePartitionMap)!function(r){var o=[];n.rolePartitionMap[r].forEach(function(t){var n=null==e[r]||-1==e[r].indexOf(t);o.push({id:t,show:a.c.getResourceViewPartitionLabel(t),checked:n})}),t.push({role:{id:r,show:s.a.getResourceRoleLabel(r)},partitions:o})}(r);return t},PartitionFilterEditor.prototype.selectRolePartitionsStruct=function(e){this.selectedRolePartitionsStruct=e},PartitionFilterEditor.prototype.checkAll=function(e,t){e.partitions.forEach(function(e){e.checked=t}),this.updatePref()},PartitionFilterEditor.prototype.checkForAllRoles=function(e,t){this.rolePartitionsStructs.forEach(function(n){n.partitions.forEach(function(n){e==n.id&&(n.checked=t)})}),this.updatePref()},PartitionFilterEditor.prototype.reset=function(){var e=this;this.basicModals.confirm("Enable all","All the partitions will be set visible for all the available resource types. Are you sure?","warning").then(function(t){e.rolePartitionsStructs.forEach(function(e){e.partitions.forEach(function(e){e.checked=!0})}),e.updatePref()},function(){})},PartitionFilterEditor.prototype.updatePref=function(){var e={};this.rolePartitionsStructs.forEach(function(t){var n=[];t.partitions.forEach(function(e){e.checked||n.push(e.id)}),n.length>0&&(e[t.role.id+""]=n)}),this.propagateChange(e)},PartitionFilterEditor.prototype.writeValue=function(e){this.rolePartitionsStructs=e?this.convertPrefToRolePartitionsStruct(e):this.convertPrefToRolePartitionsStruct({}),this.selectedRolePartitionsStruct=this.rolePartitionsStructs[0]},PartitionFilterEditor.prototype.registerOnChange=function(e){this.propagateChange=e},PartitionFilterEditor.prototype.registerOnTouched=function(e){},PartitionFilterEditor=e=c([n.i(r.c)({selector:"partition-filter-editor",template:n(2076),host:{class:"vbox"},providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),p("design:paramtypes",[l.a])],PartitionFilterEditor);var e}();(function(){function RolePartitionsStruct(){}})(),function(){function RoleStruct(){}}(),function(){function PartitionStruct(){}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(22),i=n(108),a=n(10),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function DatatypePickerComponent(e){this.datatypeService=e,this.size="sm",this.disabled=!1,this.readonly=!1,this.selectClass="form-control input-",this.propagateChange=function(e){}}return e=DatatypePickerComponent,DatatypePickerComponent.prototype.ngOnInit=function(){var e=this;"xs"==this.size||"sm"==this.size||"md"==this.size||"lg"==this.size?this.selectClass+=this.size:this.selectClass+="sm",this.datatypeService.getDatatypes().subscribe(function(t){t.sort(function(e,t){return e.getShow().localeCompare(t.getShow())}),e.allDatatypes=t,e.initSelectableDatatypes()})},DatatypePickerComponent.prototype.ngOnChanges=function(e){e.allowedDatatypes&&null!=this.allDatatypes&&this.initSelectableDatatypes()},DatatypePickerComponent.prototype.initSelectableDatatypes=function(){var e=this;null==this.allowedDatatypes||0==this.allowedDatatypes.length?this.datatypeList=this.allDatatypes.slice():(this.datatypeList=[],this.allDatatypes.forEach(function(t){a.a.containsNode(e.allowedDatatypes,t)&&e.datatypeList.push(t)})),null!=this.datatype&&(this.datatype=this.datatypeList.find(function(t){return t.equals(e.datatype)}),setTimeout(function(){e.propagateChange(e.datatype)}))},DatatypePickerComponent.prototype.onDatatypeChange=function(){this.propagateChange(this.datatype)},DatatypePickerComponent.prototype.writeValue=function(e){null!=this.datatypeList?this.datatype=this.datatypeList.find(function(t){return t.equals(e)}):null!=e&&(this.datatype=e)},DatatypePickerComponent.prototype.registerOnChange=function(e){this.propagateChange=e},DatatypePickerComponent.prototype.registerOnTouched=function(e){},s([n.i(r.r)(),l("design:type",String)],DatatypePickerComponent.prototype,"size",void 0),s([n.i(r.r)(),l("design:type",Boolean)],DatatypePickerComponent.prototype,"disabled",void 0),s([n.i(r.r)(),l("design:type",Boolean)],DatatypePickerComponent.prototype,"readonly",void 0),s([n.i(r.r)(),l("design:type",Array)],DatatypePickerComponent.prototype,"allowedDatatypes",void 0),DatatypePickerComponent=e=s([n.i(r.c)({selector:"datatype-picker",template:n(2077),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),l("design:paramtypes",[i.a])],DatatypePickerComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function FilePickerComponent(){this.label="Browse",this.placeholder="Select a file...",this.fileChanged=new r.i,this.inputGroupClass="input-group input-group-"}return FilePickerComponent.prototype.ngOnInit=function(){"xs"==this.size||"sm"==this.size||"md"==this.size||"lg"==this.size?this.inputGroupClass+=this.size:this.inputGroupClass+="sm"},FilePickerComponent.prototype.fileChangeEvent=function(e){null!=e&&(this.file=e,this.fileChanged.emit(e))},o([n.i(r.r)(),i("design:type",String)],FilePickerComponent.prototype,"label",void 0),o([n.i(r.r)(),i("design:type",String)],FilePickerComponent.prototype,"size",void 0),o([n.i(r.r)(),i("design:type",String)],FilePickerComponent.prototype,"accept",void 0),o([n.i(r.r)(),i("design:type",String)],FilePickerComponent.prototype,"placeholder",void 0),o([n.i(r.r)(),i("design:type",File)],FilePickerComponent.prototype,"file",void 0),o([n.i(r._7)(),i("design:type",Object)],FilePickerComponent.prototype,"fileChanged",void 0),FilePickerComponent=o([n.i(r.c)({selector:"file-picker",template:n(2078),styles:[":host { flex: 1; }"]}),i("design:paramtypes",[])],FilePickerComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(22),i=n(66),a=n(6),s=n(21),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function LangPickerComponent(e){this.properties=e,this.size="sm",this.disabled=!1,this.readonly=!1,this.selectClass="form-control input-",this.languageList=[],this.showFlag=!0,this.propagateChange=function(e){}}return e=LangPickerComponent,LangPickerComponent.prototype.ngOnInit=function(){var e=this;"xs"==this.size||"sm"==this.size||"md"==this.size||"lg"==this.size?this.selectClass+=this.size:this.selectClass+="sm";var t=new d;null==this.config?this.config=t:(this.config.constrain=null!=this.config.constrain?this.config.constrain:t.constrain,this.config.languages=null!=this.config.languages?this.config.languages:t.languages,this.config.locale=null!=this.config.locale?this.config.locale:t.locale),this.showFlag=this.properties.getShowFlags(),this.languageList=[];var n=a.a.getWorkingProjectCtx().getProjectSettings().projectLanguagesSetting,r=a.a.getProjectUserBinding().getLanguages();0==r.length&&a.a.getLoggedUser().isAdmin()?this.languageList=n:this.languageList=n.filter(function(e){return-1!=r.indexOf(e.tag)}),null!=this.config.languages&&(this.languageList=n.filter(function(t){return-1!=e.config.languages.indexOf(t.tag)}))},LangPickerComponent.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){if(e.languageList.length>0)if(void 0==e.language){var t=a.a.getWorkingProjectCtx().getProjectPreferences().editingLanguage;if(e.language=e.languageList.find(function(e){return e.tag==t}),null==e.language)for(var n=0,r=i.a.priorityLangs;n<r.length;n++){var o=r[n],s=function(t){if(e.language=e.languageList.find(function(e){return e.tag==t}),null!=e.language)return"break"}(o);if("break"===s)break}null==e.language&&(e.language=e.languageList[0])}else e.config.constrain&&(e.languageList=e.languageList.filter(function(t){return t.tag==e.language.tag||e.config.locale&&t.tag.startsWith(e.language.tag+"-")}),e.language=e.languageList.find(function(t){return t.tag==e.language.tag}));e.onLangChange()})},LangPickerComponent.prototype.onLangChange=function(){var e=null!=this.language?this.language.tag:null;this.propagateChange(e)},LangPickerComponent.prototype.isDisabled=function(){return this.disabled||0==this.languageList.length},LangPickerComponent.prototype.getMenuTitle=function(){return 0==this.languageList.length?"No language assigned for the current project":null!=this.language?this.language.tag:null},LangPickerComponent.prototype.writeValue=function(e){this.languageList.length>0?this.language=this.languageList.find(function(t){return t.tag==e}):this.language=i.a.getSystemLanguages().find(function(t){return t.tag==e})},LangPickerComponent.prototype.registerOnChange=function(e){this.propagateChange=e},LangPickerComponent.prototype.registerOnTouched=function(e){},l([n.i(r.r)(),c("design:type",String)],LangPickerComponent.prototype,"size",void 0),l([n.i(r.r)(),c("design:type",Boolean)],LangPickerComponent.prototype,"disabled",void 0),l([n.i(r.r)(),c("design:type",Boolean)],LangPickerComponent.prototype,"readonly",void 0),l([n.i(r.r)(),c("design:type",d)],LangPickerComponent.prototype,"config",void 0),LangPickerComponent=e=l([n.i(r.c)({selector:"lang-picker",template:n(2079),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),c("design:paramtypes",[s.a])],LangPickerComponent);var e}(),d=function(){function LangPickerConfig(){this.constrain=!1,this.locale=!1}return LangPickerConfig}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(3),i=n(25),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function LiteralPickerComponent(e){this.creationModals=e,this.plain=!0,this.typed=!0,this.disabled=!1,this.literalChanged=new r.i}return LiteralPickerComponent.prototype.ngOnInit=function(){this.init()},LiteralPickerComponent.prototype.ngOnChanges=function(e){this.init()},LiteralPickerComponent.prototype.init=function(){this.literal&&(this.literalNT=this.literal.toNT())},LiteralPickerComponent.prototype.pickLiteral=function(){var e=this;this.creationModals.newTypedLiteral("Create literal",null,this.datatypes).then(function(t){e.literal=t[0],e.literalNT=e.literal.toNT(),e.literalChanged.emit(e.literal)},function(){})},a([n.i(r.r)(),s("design:type",o.f)],LiteralPickerComponent.prototype,"literal",void 0),a([n.i(r.r)(),s("design:type",Boolean)],LiteralPickerComponent.prototype,"plain",void 0),a([n.i(r.r)(),s("design:type",Boolean)],LiteralPickerComponent.prototype,"typed",void 0),a([n.i(r.r)(),s("design:type",Array)],LiteralPickerComponent.prototype,"datatypes",void 0),a([n.i(r.r)(),s("design:type",Boolean)],LiteralPickerComponent.prototype,"disabled",void 0),a([n.i(r._7)(),s("design:type",Object)],LiteralPickerComponent.prototype,"literalChanged",void 0),LiteralPickerComponent=a([n.i(r.c)({selector:"literal-picker",template:n(2080)}),s("design:paramtypes",[i.a])],LiteralPickerComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(41),i=(n.n(o),n(3)),a=n(11),s=n(54),l=n(6),c=n(21),p=n(2),d=n(14),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function ResourcePickerComponent(e,t,n,o){this.projectService=e,this.vbProp=t,this.browsingModals=n,this.basicModals=o,this.disabled=!1,this.editable=!1,this.size="sm",this.resourceChanged=new r.i}return ResourcePickerComponent.prototype.ngOnInit=function(){"xs"!=this.size&&"sm"!=this.size&&""!=this.size&&"lg"!=this.size&&(this.size="sm");var e=new g;null==this.config?this.config=e:(this.config.allowLocal=null!=this.config.allowLocal?this.config.allowLocal:e.allowLocal,this.config.allowRemote=null!=this.config.allowRemote?this.config.allowRemote:e.allowRemote,this.config.projects=null!=this.config.projects?this.config.projects:e.projects,this.config.roles=null!=this.config.roles?this.config.roles:e.roles,this.config.classes=null!=this.config.classes?this.config.classes:e.classes),this.init()},ResourcePickerComponent.prototype.ngOnChanges=function(e){this.init()},ResourcePickerComponent.prototype.init=function(){this.resource?"string"==typeof this.resource?(this.resource=new i.b(this.resource),this.resourceIRI=this.resource.getNominalValue()):this.resourceIRI=this.resource.getNominalValue():this.resourceIRI=null},ResourcePickerComponent.prototype.onModelChanged=function(){var e;null!=this.resource?("string"==typeof this.resource&&(this.resource=new i.b(this.resource)),e=this.resource.clone(),e.setURI(this.resourceIRI)):null!=this.resourceIRI&&""!=this.resourceIRI.trim()&&(e=new i.b(this.resourceIRI)),this.resourceChanged.emit(e)},ResourcePickerComponent.prototype.pickLocalResource=function(){var e=this;this.selectResourceType(l.a.getWorkingProject()).subscribe(function(t){null!=t&&e.openSelectionResource(t,l.a.getWorkingProjectCtx())})},ResourcePickerComponent.prototype.pickExternalResource=function(){var e=this;this.projectService.listProjects(l.a.getWorkingProject(),!0,!0).subscribe(function(t){if(null!=e.config.projects&&(t=t.filter(function(t){return-1!=e.config.projects.indexOf(t.getName())})),0==t.length)return void e.basicModals.alert("Pick resource","You have no granted access to any existing open project","warning");var n=t.map(function(e){return e.getName()});e.basicModals.select("Pick resource","Select a project",n).then(function(n){var r=t.find(function(e){return e.getName()==n}),i=new l.b(r),a=[e.vbProp.initProjectUserBindings(i),e.vbProp.initUserProjectPreferences(i),e.vbProp.initProjectSettings(i)];o.Observable.forkJoin(a).subscribe(function(){e.selectResourceType(r).subscribe(function(t){null!=t&&e.openSelectionResource(t,i)})})},function(){})})},ResourcePickerComponent.prototype.selectResourceType=function(e){var t={Class:i.c.cls,Individual:i.c.individual,Concept:i.c.concept,ConceptScheme:i.c.conceptScheme,Collection:i.c.skosCollection,Property:i.c.property,AnnotationProperty:i.c.annotationProperty,DatatypeProperty:i.c.datatypeProperty,ObjectProperty:i.c.objectProperty,OntologyProperty:i.c.ontologyProperty,Lexicon:i.c.limeLexicon,LexicalEntry:i.c.ontolexLexicalEntry},n=[];for(var r in t)this.isRolePickable(t[r],e)&&n.push(r);return 1==n.length?o.Observable.of(t[n[0]]):o.Observable.fromPromise(this.basicModals.select("Pick resource","Select the type of resource to pick",n).then(function(e){return t[e]},function(){return null}))},ResourcePickerComponent.prototype.openSelectionResource=function(e,t){var n=this;if(e==i.c.cls)this.browsingModals.browseClassTree("Select a Class",null,t).then(function(e){n.updatePickedResource(e)},function(){});else if(e==i.c.individual)this.browsingModals.browseClassIndividualTree("Select an Instance",this.config.classes,t).then(function(e){n.updatePickedResource(e)},function(){});else if(e==i.c.concept){var r=t.getProjectPreferences().activeSchemes;this.browsingModals.browseConceptTree("Select a Concept",r,!0,t).then(function(e){n.updatePickedResource(e)},function(){})}else if(e==i.c.conceptScheme)this.browsingModals.browseSchemeList("Select a ConceptScheme",t).then(function(e){n.updatePickedResource(e)},function(){});else if(e==i.c.skosCollection)this.browsingModals.browseCollectionTree("Select a Collection",t).then(function(e){n.updatePickedResource(e)},function(){});else if(e==i.c.property||e==i.c.annotationProperty||e==i.c.datatypeProperty||e==i.c.objectProperty||e==i.c.ontologyProperty){var o=e!=i.c.property?e:null;this.browsingModals.browsePropertyTree("Select a Property",null,null,o,t).then(function(e){n.updatePickedResource(e)},function(){})}else e==i.c.limeLexicon?this.browsingModals.browseLexiconList("Select a Lexicon",t).then(function(e){n.updatePickedResource(e)},function(){}):e==i.c.ontolexLexicalEntry&&this.browsingModals.browseLexicalEntryList("Select a LexicalEntry",null,!0,!1,!1,!1,t).then(function(e){n.updatePickedResource(e)},function(){})},ResourcePickerComponent.prototype.updatePickedResource=function(e){this.resource=e,this.resourceIRI=e.getURI(),this.onModelChanged()},ResourcePickerComponent.prototype.isRolePickable=function(e,t){var n=t.getModelType();return null!=this.config.roles&&0!=this.config.roles.length?-1!=this.config.roles.indexOf(e):n==a.f.uri||(n==a.b.uri||n==a.c.uri?e==i.c.cls||e==i.c.individual||e==i.c.property:n!=a.d.uri||(e==i.c.cls||e==i.c.individual||e==i.c.property||e==i.c.concept||e==i.c.conceptScheme||e==i.c.skosCollection))},u([n.i(r.r)(),f("design:type",i.b)],ResourcePickerComponent.prototype,"resource",void 0),u([n.i(r.r)(),f("design:type",Boolean)],ResourcePickerComponent.prototype,"disabled",void 0),u([n.i(r.r)(),f("design:type",Boolean)],ResourcePickerComponent.prototype,"editable",void 0),u([n.i(r.r)(),f("design:type",String)],ResourcePickerComponent.prototype,"size",void 0),u([n.i(r.r)(),f("design:type",g)],ResourcePickerComponent.prototype,"config",void 0),u([n.i(r._7)(),f("design:type",Object)],ResourcePickerComponent.prototype,"resourceChanged",void 0),ResourcePickerComponent=u([n.i(r.c)({selector:"resource-picker",template:n(2081)}),f("design:paramtypes",[s.a,c.a,d.a,p.a])],ResourcePickerComponent)}(),g=function(){function ResourcePickerConfig(){this.allowLocal=!0,this.allowRemote=!1}return ResourcePickerConfig}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(3),i=n(12),a=n(10),s=n(21),l=n(14),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function ValuePickerComponent(e,t,n){this.resourceService=e,this.browsingModals=t,this.vbProp=n,this.editable=!1,this.disabled=!1,this.valueChanged=new r.i,this.resTypes=[{show:"IRI",value:o.h.uri},{show:"Literal",value:o.h.literal}],this.selectedResType=this.resTypes[0]}return ValuePickerComponent.prototype.ngOnInit=function(){this.init()},ValuePickerComponent.prototype.ngOnChanges=function(e){this.init()},ValuePickerComponent.prototype.init=function(){var e=this;this.value&&("string"==typeof this.value&&(this.value.startsWith("<")&&this.value.endsWith(">")?this.value=a.a.parseURI(this.value):this.value.startsWith('"')&&(this.value=a.a.parseLiteral(this.value))),this.value.isURIResource()?this.resTypes.forEach(function(t){t.value==o.h.uri&&(e.selectedResType=t)}):this.value.isLiteral()&&this.resTypes.forEach(function(t){t.value==o.h.literal&&(e.selectedResType=t)}))},ValuePickerComponent.prototype.onTypeChange=function(){this.value=null,this.valueChanged.emit(this.value)},ValuePickerComponent.prototype.updateIRI=function(e){this.valueChanged.emit(e)},ValuePickerComponent.prototype.updateLiteral=function(e){this.valueChanged.emit(e)},c([n.i(r.r)(),p("design:type",o.m)],ValuePickerComponent.prototype,"value",void 0),c([n.i(r.r)(),p("design:type",Array)],ValuePickerComponent.prototype,"roles",void 0),c([n.i(r.r)(),p("design:type",Boolean)],ValuePickerComponent.prototype,"editable",void 0),c([n.i(r.r)(),p("design:type",Boolean)],ValuePickerComponent.prototype,"disabled",void 0),c([n.i(r._7)(),p("design:type",Object)],ValuePickerComponent.prototype,"valueChanged",void 0),ValuePickerComponent=c([n.i(r.c)({selector:"value-picker",template:n(2082)}),p("design:paramtypes",[i.a,l.a,s.a])],ValuePickerComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3),i=n(11),a=n(12),s=n(10),l=n(7),c=n(21),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function RdfResourceComponent(e,t){this.resourcesService=e,this.preferences=t,this.rendering=!0,this.link=new r.i,this.langFlagAvailable=!1,this.unknownFlagImgSrc=l.a.getFlagImgSrc("unknown"),this.literalWithLink=!1,this.manchExpr=!1,this.manchExprStruct=[]}return RdfResourceComponent.prototype.ngOnChanges=function(e){e.resource&&e.resource.currentValue?(this.initRenderingLabel(),this.initImgSrc(),this.lang=this.initLang(),this.lang&&(this.langFlagAvailable=this.isLangFlagAvailable()),this.initLiteralWithLink(),this.initRenderingClass(),this.initNatureTooltip(),this.initManchExpr()):e.rendering&&this.initRenderingLabel()},RdfResourceComponent.prototype.initRenderingLabel=function(){this.renderingLabel=s.a.getRendering(this.resource,this.rendering)},RdfResourceComponent.prototype.initImgSrc=function(){this.imgSrc=l.a.getImageSrc(this.resource)},RdfResourceComponent.prototype.initRenderingClass=function(){this.renderingClass="",this.resource instanceof o.e&&(s.a.isResourceInStagingAdd(this.resource)?this.renderingClass+=" proposedAddRes":s.a.isResourceInStagingRemove(this.resource)&&(this.renderingClass+=" proposedRemoveRes")),s.a.isTripleInStagingAdd(this.resource)?this.renderingClass+=" proposedAddTriple":s.a.isTripleInStagingRemove(this.resource)&&(this.renderingClass+=" proposedRemoveTriple")},RdfResourceComponent.prototype.initNatureTooltip=function(){if(this.natureTooltip=null,this.resource instanceof o.e){var e=this.resource.getNature(),t=[];e.forEach(function(e){var n=[];e.graphs.forEach(function(e){n.push(e.toNT())}),t.push(s.a.getResourceRoleLabel(e.role)+", defined in: "+n.join(", "))}),this.natureTooltip=t.join("\n\n")}else this.resource instanceof o.f&&(this.natureTooltip=this.resource.getDatatype())},RdfResourceComponent.prototype.initLang=function(){var e=null;return this.resource.isResource()?e=this.resource.getAdditionalProperty(o.a.LANG):this.resource instanceof o.f&&(e=this.resource.getLang(),this.resource.getDatatype()==i.j.language.getURI()&&(e=this.resource.getValue())),e},RdfResourceComponent.prototype.isLangFlagAvailable=function(){return!!this.preferences.getShowFlags()&&!this.imgSrc.includes("unknown")},RdfResourceComponent.prototype.initLiteralWithLink=function(){if(this.literalWithLink=!1,this.resource instanceof o.f){for(var e=this.resource.getValue(),t=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g,n=[],r=void 0;null!==(r=t.exec(e));)n.push(r[0]);if(n.length>0){this.literalWithLink=!0,this.splittedLiteral=[];for(var i=0;i<n.length;i++){var a=0,s=e.indexOf(n[i]),l=e.indexOf(n[i])+n[i].length;this.splittedLiteral.push(e.substring(a,s)),this.splittedLiteral.push(e.substring(s,l)),a=l,e=e.substring(a),null==n[i+1]&&a!=e.length&&this.splittedLiteral.push(e)}}}},RdfResourceComponent.prototype.openLink=function(e){var t=this,n=new o.b(e);this.resourcesService.getResourcePosition(n).subscribe(function(r){r.isLocal()?t.link.emit(n):window.open(e,"_blank")})},RdfResourceComponent.prototype.initManchExpr=function(){var e=this;if(this.resource.isBNode()&&null!=this.resource.getAdditionalProperty(o.a.SHOW_INTERPR)&&(this.manchExpr=!0),this.manchExpr){var t=["true","false"],n=["decimal","double","float","integer","string"],r=["Functional","InverseFunctional","Reflexive","Irreflexive","Symmetric","Asymmetric","Transitive","Inverse"],i=["and","not","that","or"],a=["langRange","length","maxLength","minLength","pattern","<","<=",">",">="],s=["some","only","value","min","max","exactly","self"],l=this.getRegexp(t,!1),c=this.getRegexp(n,!0),p=this.getRegexp(r,!1),d=this.getRegexp(i,!1),u=this.getRegexp(a,!0),f=this.getRegexp(s,!1),h=/(\{|\[|\(|\}|\]|\))/g,g=[{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,tokenClass:"string"},{regex:l,tokenClass:"boolean"},{regex:c,tokenClass:"builtinDatatype"},{regex:p,tokenClass:"characteristic"},{regex:d,tokenClass:"conjuction"},{regex:u,tokenClass:"facet"},{regex:f,tokenClass:"quantifier"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,tokenClass:"number"},{regex:/\/(?:[^\\]|\\.)*?\//,tokenClass:"variable-3"},{regex:h,tokenClass:"bracket"},{regex:/[a-z$][\w$]*/,tokenClass:"variable"}],m=this.resource.getShow();m=m.replace(/([\{\[\(\}\]\)])/g," $1 ").replace(/\s+/g," ").trim();m.split(" ").forEach(function(t,n,r){for(var o,i=0,a=g;i<a.length;i++){var s=a[i];if(s.regex.test(t)){o=s.tokenClass;break}}e.manchExprStruct.push({token:t,class:"cm-"+o}),n!=r.length-1&&e.manchExprStruct.push({token:" ",class:""})})}},RdfResourceComponent.prototype.getRegexp=function(e,t){return t?new RegExp("(?:"+e.join("|")+")\\b"):new RegExp("(?:"+e.join("|")+")\\b","i")},RdfResourceComponent.prototype.isExplicit=function(){return this.resource.getAdditionalProperty(o.a.EXPLICIT)||void 0==this.resource.getAdditionalProperty(o.a.EXPLICIT)},p([n.i(r.r)(),d("design:type",o.m)],RdfResourceComponent.prototype,"resource",void 0),p([n.i(r.r)(),d("design:type",Boolean)],RdfResourceComponent.prototype,"rendering",void 0),p([n.i(r._7)(),d("design:type",r.i)],RdfResourceComponent.prototype,"link",void 0),RdfResourceComponent=p([n.i(r.c)({selector:"rdf-resource",template:n(2083),styles:[n(2102)]}),d("design:paramtypes",[a.a,c.a])],RdfResourceComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function ResourceListComponent(){this.rendering=!0,this.nodeSelected=new r.i,this.initialRes=50,this.resLimit=this.initialRes,this.increaseRate=this.initialRes/5}return ResourceListComponent.prototype.onResourceSelected=function(e){this.resourceSelected=e,this.nodeSelected.emit(e)},ResourceListComponent.prototype.onScroll=function(){var e=this.scrollableElement.nativeElement;e.scrollTop===e.scrollHeight-e.offsetHeight&&this.resLimit<this.resources.length&&(this.resLimit=this.resLimit+this.increaseRate)},o([n.i(r.r)(),i("design:type",Array)],ResourceListComponent.prototype,"resources",void 0),o([n.i(r.r)(),i("design:type",Boolean)],ResourceListComponent.prototype,"rendering",void 0),o([n.i(r._7)(),i("design:type",Object)],ResourceListComponent.prototype,"nodeSelected",void 0),o([n.i(r.F)("scrollableContainer"),i("design:type",r.e)],ResourceListComponent.prototype,"scrollableElement",void 0),ResourceListComponent=o([n.i(r.c)({selector:"resource-list",template:n(2084)}),i("design:paramtypes",[])],ResourceListComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function SettingMapRendererComponent(){this.disabled=!1,this.valueChanged=new r.i,this.map=[]}return SettingMapRendererComponent.prototype.ngOnInit=function(){if(null==this.value)this.add();else for(var e in this.value)this.map.push({key:e,value:this.value[e]})},SettingMapRendererComponent.prototype.add=function(){this.map.push({key:null,value:null})},SettingMapRendererComponent.prototype.delete=function(e){this.map.splice(e,1),this.onModelChange()},SettingMapRendererComponent.prototype.onModelChange=function(){var e=this;this.value={},this.map.forEach(function(t){""!=t.key&&""!=t.value&&(e.value[t.key]=t.value)}),this.valueChanged.emit(this.value)},o([n.i(r.r)(),i("design:type",Array)],SettingMapRendererComponent.prototype,"types",void 0),o([n.i(r.r)(),i("design:type",Object)],SettingMapRendererComponent.prototype,"value",void 0),o([n.i(r.r)(),i("design:type",Boolean)],SettingMapRendererComponent.prototype,"disabled",void 0),o([n.i(r._7)(),i("design:type",Object)],SettingMapRendererComponent.prototype,"valueChanged",void 0),SettingMapRendererComponent=o([n.i(r.c)({selector:"setting-map",template:n(2085)}),i("design:paramtypes",[])],SettingMapRendererComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(22),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function SettingPropRendererComponent(){this.disabled=!1,this.propagateChange=function(e){}}return e=SettingPropRendererComponent,SettingPropRendererComponent.prototype.onModelChanged=function(){this.propagateChange(this.prop)},SettingPropRendererComponent.prototype.updateBoolean=function(e,t){e.value=t,this.propagateChange(this.prop)},SettingPropRendererComponent.prototype.updateValue=function(e,t){e.value=null==t?null:t.toNT(),this.propagateChange(this.prop)},SettingPropRendererComponent.prototype.updateSetValue=function(e,t){e.value=t,this.propagateChange(this.prop)},SettingPropRendererComponent.prototype.updateMapValue=function(e,t){e.value=t,this.propagateChange(this.prop)},SettingPropRendererComponent.prototype.getIRIRoleConstraints=function(e){if(null!=e.type.roles)return e.type.roles;var t=[],n=e.type.constraints;if(null!=n)for(var r=0;r<n.length;r++)n[r].type.endsWith("HasRole")&&t.push(n[r].value);return e.type.roles=t,t},SettingPropRendererComponent.prototype.writeValue=function(e){e&&(this.prop=e)},SettingPropRendererComponent.prototype.registerOnChange=function(e){this.propagateChange=e},SettingPropRendererComponent.prototype.registerOnTouched=function(e){},i([n.i(r.r)(),a("design:type",Boolean)],SettingPropRendererComponent.prototype,"disabled",void 0),SettingPropRendererComponent=e=i([n.i(r.c)({selector:"setting-prop-renderer",template:n(2086),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),a("design:paramtypes",[])],SettingPropRendererComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function SettingSetRendererComponent(){this.disabled=!1,this.valueChanged=new r.i}return SettingSetRendererComponent.prototype.ngOnInit=function(){null==this.value&&(this.value=[],this.value.push(null))},SettingSetRendererComponent.prototype.add=function(){this.value.push(null)},SettingSetRendererComponent.prototype.delete=function(e){this.value.splice(e,1),this.onModelChange()},SettingSetRendererComponent.prototype.getIRIRoleConstraints=function(){if(null!=this.types[0].roles)return this.types[0].roles;var e=[],t=this.types[0].constraints;if(null!=t)for(var n=0;n<t.length;n++)t[n].type.endsWith("HasRole")&&e.push(t[n].value);return this.types[0].roles=e,e},SettingSetRendererComponent.prototype.updateValue=function(e,t){this.value[e]=null==t?null:t.toNT(),this.onModelChange()},SettingSetRendererComponent.prototype.onModelChange=function(){this.valueChanged.emit(this.value)},SettingSetRendererComponent.prototype.trackByIndex=function(e,t){return this.types&&"IRI"==this.types[0].name?t:e},o([n.i(r.r)(),i("design:type",Array)],SettingSetRendererComponent.prototype,"types",void 0),o([n.i(r.r)(),i("design:type",Array)],SettingSetRendererComponent.prototype,"value",void 0),o([n.i(r.r)(),i("design:type",Boolean)],SettingSetRendererComponent.prototype,"disabled",void 0),o([n.i(r._7)(),i("design:type",Object)],SettingSetRendererComponent.prototype,"valueChanged",void 0),SettingSetRendererComponent=o([n.i(r.c)({selector:"setting-set",template:n(2087)}),i("design:paramtypes",[])],SettingSetRendererComponent)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(22),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function SettingsRendererComponent(){this.disabled=!1,this.propagateChange=function(e){}}return e=SettingsRendererComponent,SettingsRendererComponent.prototype.onModelChanged=function(){this.propagateChange(this.settings)},SettingsRendererComponent.prototype.writeValue=function(e){e&&(this.settings=e)},SettingsRendererComponent.prototype.registerOnChange=function(e){this.propagateChange=e},SettingsRendererComponent.prototype.registerOnTouched=function(e){},i([n.i(r.r)(),a("design:type",Boolean)],SettingsRendererComponent.prototype,"disabled",void 0),SettingsRendererComponent=e=i([n.i(r.c)({selector:"settings-renderer",template:n(2088),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),a("design:paramtypes",[])],SettingsRendererComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(22),i=n(79),a=(n(42),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function SettingsRendererPanelComponent(e){this.sanitizer=e,this.propagateChange=function(e){}}return e=SettingsRendererPanelComponent,SettingsRendererPanelComponent.prototype.sanitizeHtml=function(){this.settings.htmlDescription&&(this.safeDescription=this.sanitizer.bypassSecurityTrustHtml(this.settings.htmlDescription)),this.settings.htmlWarning&&(this.safeWarning=this.sanitizer.bypassSecurityTrustHtml(this.settings.htmlWarning))},SettingsRendererPanelComponent.prototype.onModelChanged=function(){this.propagateChange(this.settings)},SettingsRendererPanelComponent.prototype.writeValue=function(e){e&&(this.settings=e,this.sanitizeHtml())},SettingsRendererPanelComponent.prototype.registerOnChange=function(e){this.propagateChange=e},SettingsRendererPanelComponent.prototype.registerOnTouched=function(e){},a([n.i(r.r)(),s("design:type",String)],SettingsRendererPanelComponent.prototype,"scope",void 0),SettingsRendererPanelComponent=e=a([n.i(r.c)({selector:"settings-renderer-panel",template:n(2089),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),s("design:paramtypes",[i.c])],SettingsRendererPanelComponent);var e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(22),i=n(3),a=n(11),s=n(108),l=n(138),c=n(10),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function TypedLiteralInputComponent(e,t){this.datatypeService=e,this.dtValidator=t,this.datatypeChange=new r.i,this.langChange=new r.i,this.numericInput=!1,this.propagateChange=function(e){}}return e=TypedLiteralInputComponent,TypedLiteralInputComponent.prototype.ngOnInit=function(){var e=this;this.datatypeService.getDatatypes().subscribe(function(t){if(t.sort(function(e,t){return e.getShow().localeCompare(t.getShow())}),e.datatypeList=t,void 0!=e.allowedDatatypes)if(e.allowedDatatypes[0].equals(a.b.literal));else for(var n=e.datatypeList.length-1;n>=0;n--)-1==c.a.indexOfNode(e.allowedDatatypes,e.datatypeList[n])&&e.datatypeList.splice(n,1);null!=e.inputDatatype&&e.initDatatype(e.inputDatatype),null==e.selectedDatatype&&e.initDatatype(a.i.langString),null==e.selectedDatatype&&(e.selectedDatatype=e.datatypeList[0]),e.onDatatypeChange()})},TypedLiteralInputComponent.prototype.initDatatype=function(e){var t=this.datatypeList.findIndex(function(t){return t.equals(e)});-1!=t&&(this.selectedDatatype=this.datatypeList[t])},TypedLiteralInputComponent.prototype.isDatatypeBound=function(){return!!this.selectedDatatype&&(this.selectedDatatype.equals(a.j.boolean)||this.selectedDatatype.equals(a.j.date)||this.selectedDatatype.equals(a.j.dateTime)||this.selectedDatatype.equals(a.j.time))},TypedLiteralInputComponent.prototype.onDatatypeChange=function(){this.updateInputConfiguration(),this.datatypeChange.emit(this.selectedDatatype),this.stringValue=null,this.onValueChanged()},TypedLiteralInputComponent.prototype.updateInputConfiguration=function(){this.numericInput=this.dtValidator.isNumericType(this.selectedDatatype),this.numericInputMin=null,this.numericInputMax=null,this.enumerations=null;var e=this.dtValidator.getDatatypeFacets(this.selectedDatatype),t=this.dtValidator.getDatatypeEnumerations(this.selectedDatatype);null!=e?this.numericInput&&(null!=e.maxExclusive&&(this.numericInputMax=e.maxExclusive-1),null!=e.maxInclusive&&(this.numericInputMax=e.maxInclusive),null!=e.minExclusive&&(this.numericInputMin=e.minExclusive+1),null!=e.minInclusive&&(this.numericInputMin=e.maxInclusive)):null!=t&&(this.enumerations=t)},TypedLiteralInputComponent.prototype.onLangChanged=function(){this.langChange.emit(this.lang),this.onValueChanged()},TypedLiteralInputComponent.prototype.onValueChanged=function(){null==this.stringValue?this.propagateChange(null):(this.selectedDatatype.getURI()!=a.i.langString.getURI()&&(this.lang=null),this.propagateChange(new i.f(this.stringValue+"",this.selectedDatatype.getURI(),this.lang)))},TypedLiteralInputComponent.prototype.onEnumerationChange=function(){this.propagateChange(this.selectedEnumeration)},TypedLiteralInputComponent.prototype.writeValue=function(e){var t=this;if(null!=e){this.stringValue=e.getValue();var n=e.getDatatype();null!=n&&this.datatypeList.forEach(function(e){e.getURI()==n&&(t.selectedDatatype=e)}),this.lang=e.getLang()}else this.stringValue=null,this.selectedEnumeration=null},TypedLiteralInputComponent.prototype.registerOnChange=function(e){this.propagateChange=e},TypedLiteralInputComponent.prototype.registerOnTouched=function(e){},p([n.i(r.r)(),d("design:type",Array)],TypedLiteralInputComponent.prototype,"allowedDatatypes",void 0),p([n.i(r.r)("datatype"),d("design:type",i.b)],TypedLiteralInputComponent.prototype,"inputDatatype",void 0),p([n.i(r._7)(),d("design:type",r.i)],TypedLiteralInputComponent.prototype,"datatypeChange",void 0),p([n.i(r._7)(),d("design:type",r.i)],TypedLiteralInputComponent.prototype,"langChange",void 0),TypedLiteralInputComponent=e=p([n.i(r.c)({selector:"typed-literal-input",template:n(2090),providers:[{provide:o.b,useExisting:n.i(r._14)(function(){return e}),multi:!0}]}),d("design:paramtypes",[s.a,l.a])],TypedLiteralInputComponent);var e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(290),o=n(0),i=n(938);n.i(o.a)(),n.i(r.a)().bootstrapModule(i.a)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";n(707)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(701),n(702),n(1268),n(705),n(1272),n(708),n(710),n(709)},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,o=e.length,i=-1;if(null==t){for(;++i<o;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<o;)null!=(n=e[i])&&n>r&&(r=n)}else for(;++i<o;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<o;)null!=(n=t(e[i],i,e))&&n>r&&(r=n);return r}},function(e,t,n){"use strict";n(205)},function(e,t,n){"use strict";n(170),n(205),n(334)},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=new Array(a);--o>=0;)for(r=e[o],t=r.length;--t>=0;)n[--a]=r[t];return n}},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(170)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(701),n(170),n(205),n(334)},function(e,t,n){"use strict";n(704)},function(e,t,n){"use strict";n(711)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.prototype.slice},function(e,t,n){"use strict";n(1284),n(1286)},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";n(1285)},function(e,t,n){"use strict";function number1(e){return[+e[0],+e[1]]}function number2(e){return[number1(e[0]),number1(e[1])]}function type(e){return{type:e}}n(171),n(338),n(104),n(63),n(372),n(1289),n(1290),n(1292),["w","e"].map(type),["n","s"].map(type),["n","w","e","s","nw","ne","sw","se"].map(type)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t,n){this.target=e,this.type=t,this.selection=n}},function(e,t,n){"use strict";n(1288)},function(e,t,n){"use strict";function nopropagation(){r.a.stopImmediatePropagation()}t.a=nopropagation;var r=n(63);t.b=function(){r.a.preventDefault(),r.a.stopImmediatePropagation()}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.prototype.slice},function(e,t,n){"use strict";n(62),n(713)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";n(1294),n(1297)},function(e,t,n){"use strict";n(1293),n(1295),n(713),n(147)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(335)},function(e,t,n){"use strict";function Set(){}function set(e,t){var n=new Set;if(e instanceof Set)e.each(function(e){n.add(e)});else if(e){var r=-1,o=e.length;if(null==t)for(;++r<o;)n.add(e[r]);else for(;++r<o;)n.add(t(e[r],r,e))}return n}var r=n(335),o=r.a.prototype;Set.prototype=set.prototype={constructor:Set,has:o.has,add:function(e){return e+="",this[r.b+e]=e,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each}},function(e,t,n){"use strict"},function(e,t,n){"use strict";function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof o.b||(e=n.i(o.c)(e));var t=e.r/255,r=e.g/255,a=e.b/255,s=(f*a+d*t-u*r)/(f+d-u),h=a-s,g=(p*(r-s)-l*h)/c,m=Math.sqrt(g*g+h*h)/(p*s*(1-s)),v=m?Math.atan2(g,h)*i.a-120:NaN;return new Cubehelix(v<0?v+360:v,m,s,e.opacity)}function cubehelix(e,t,n,r){return 1===arguments.length?cubehelixConvert(e):new Cubehelix(e,t,n,null==r?1:r)}function Cubehelix(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t.a=cubehelix;var r=n(337),o=n(336),i=n(714),a=-.14861,s=1.78277,l=-.29227,c=-.90649,p=1.97294,d=p*c,u=p*s,f=s*l-c*a;n.i(r.a)(Cubehelix,cubehelix,n.i(r.b)(o.d,{brighter:function(e){return e=null==e?o.e:Math.pow(o.e,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o.f:Math.pow(o.f,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*i.b,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),d=Math.sin(e);return new o.b(255*(t+n*(a*r+s*d)),255*(t+n*(l*r+c*d)),255*(t+n*(p*r)),this.opacity)}}))},function(e,t,n){"use strict";function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof o.b||(e=n.i(o.c)(e));var t,r,i=rgb2lrgb(e.r),c=rgb2lrgb(e.g),p=rgb2lrgb(e.b),d=xyz2lab((.2225045*i+.7168786*c+.0606169*p)/s);return i===c&&c===p?t=r=d:(t=xyz2lab((.4360747*i+.3850649*c+.1430804*p)/a),r=xyz2lab((.0139322*i+.0971045*c+.7141733*p)/l)),new Lab(116*d-16,500*(t-d),200*(d-r),e.opacity)}function lab(e,t,n,r){return 1===arguments.length?labConvert(e):new Lab(e,t,n,null==r?1:r)}function Lab(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function xyz2lab(e){return e>u?Math.pow(e,1/3):e/d+c}function lab2xyz(e){return e>p?e*e*e:d*(e-c)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),0===e.a&&0===e.b)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*i.a;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl(e,t,n,r){return 1===arguments.length?hclConvert(e):new Hcl(e,t,n,null==r?1:r)}function Hcl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var t=e.h*i.b;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}t.b=lab,t.a=hcl;var r=n(337),o=n(336),i=n(714),a=.96422,s=1,l=.82521,c=4/29,p=6/29,d=3*p*p,u=p*p*p;n.i(r.a)(Lab,lab,n.i(r.b)(o.d,{brighter:function(e){return new Lab(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=a*lab2xyz(t),e=s*lab2xyz(e),n=l*lab2xyz(n),new o.b(lrgb2rgb(3.1338561*t-1.6168667*e-.4906146*n),lrgb2rgb(-.9787684*t+1.9161415*e+.033454*n),lrgb2rgb(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),n.i(r.a)(Hcl,hcl,n.i(r.b)(o.d,{brighter:function(e){return new Hcl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}))},function(e,t,n){"use strict";t.a=function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}},function(e,t,n){"use strict";t.a=function(e,t){return e-t}},function(e,t,n){"use strict";function blurX(e,t,n){for(var r=e.width,o=e.height,i=1+(n<<1),a=0;a<o;++a)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=e.data[s+a*r]),s>=n&&(s>=i&&(l-=e.data[s-i+a*r]),t.data[s-n+a*r]=l/Math.min(s+1,r-1+i-s,i))}function blurY(e,t,n){for(var r=e.width,o=e.height,i=1+(n<<1),a=0;a<r;++a)for(var s=0,l=0;s<o+n;++s)s<o&&(l+=e.data[a+s*r]),s>=n&&(s>=i&&(l-=e.data[a+(s-i)*r]),t.data[a+(s-n)*r]=l/Math.min(s+1,o-1+i-s,i))}t.a=blurX,t.b=blurY},function(e,t,n){"use strict";function ringContains(e,t){for(var n=t[0],r=t[1],o=-1,i=0,a=e.length,s=a-1;i<a;s=i++){var l=e[i],c=l[0],p=l[1],d=e[s],u=d[0],f=d[1];if(segmentContains(l,d,t))return 0;p>r!=f>r&&n<(u-c)*(r-p)/(f-p)+c&&(o=-o)}return o}function segmentContains(e,t,n){var r;return collinear(e,t,n)&&within(e[r=+(e[0]===t[0])],n[r],t[r])}function collinear(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}function within(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}t.a=function(e,t){for(var n,r=-1,o=t.length;++r<o;)if(n=ringContains(e,t[r]))return n;return 0}},function(e,t,n){"use strict";n(62),n(715),n(1307),n(716),n(717)},function(e,t,n){"use strict";n(717),n(1309)},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";function dispatch(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Dispatch(r)}function Dispatch(e){this._=e}function parseTypenames(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function get(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function set(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=r,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}var r={value:function(){}};Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var n,r=this._,o=parseTypenames(e+"",r),i=-1,a=o.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=set(r[n],e.name,t);else if(null==t)for(n in r)r[n]=set(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=get(r[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dispatch(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}},t.a=dispatch},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function defaultFilter(){return!o.a.ctrlKey&&!o.a.button}function defaultContainer(){return this.parentNode}function defaultSubject(e){return null==e?{x:o.a.x,y:o.a.y}:e}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}var r=n(171),o=n(63),i=n(718),a=n(719),s=n(1313),l=n(1315);t.a=function(){function drag(e){e.on("mousedown.drag",mousedowned).filter(h).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!p&&d.apply(this,arguments)){var r=beforestart("mouse",u.apply(this,arguments),o.c,this,arguments);r&&(n.i(o.d)(o.a.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),n.i(i.a)(o.a.view),n.i(a.b)(),c=!1,e=o.a.clientX,t=o.a.clientY,r("start"))}}function mousemoved(){if(n.i(a.a)(),!c){var r=o.a.clientX-e,i=o.a.clientY-t;c=r*r+i*i>b}g.mouse("drag")}function mouseupped(){n.i(o.d)(o.a.view).on("mousemove.drag mouseup.drag",null),n.i(i.b)(o.a.view,c),n.i(a.a)(),g.mouse("end")}function touchstarted(){if(d.apply(this,arguments)){var e,t,r=o.a.changedTouches,i=u.apply(this,arguments),s=r.length;for(e=0;e<s;++e)(t=beforestart(r[e].identifier,i,o.e,this,arguments))&&(n.i(a.b)(),t("start"))}}function touchmoved(){var e,t,r=o.a.changedTouches,i=r.length;for(e=0;e<i;++e)(t=g[r[e].identifier])&&(n.i(a.a)(),t("drag"))}function touchended(){var e,t,r=o.a.changedTouches,i=r.length;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),e=0;e<i;++e)(t=g[r[e].identifier])&&(n.i(a.b)(),t("end"))}function beforestart(e,t,r,i,a){var s,c,p,d=r(t,e),u=m.copy();if(n.i(o.b)(new l.a(drag,"beforestart",s,e,v,d[0],d[1],0,0,u),function(){return null!=(o.a.subject=s=f.apply(i,a))&&(c=s.x-d[0]||0,p=s.y-d[1]||0,!0)}))return function gesture(f){var h,m=d;switch(f){case"start":g[e]=gesture,h=v++;break;case"end":delete g[e],--v;case"drag":d=r(t,e),h=v}n.i(o.b)(new l.a(drag,f,s,e,h,d[0]+c,d[1]+p,d[0]-m[0],d[1]-m[1],u),u.apply,u,[f,i,a])}}var e,t,c,p,d=defaultFilter,u=defaultContainer,f=defaultSubject,h=defaultTouchable,g={},m=n.i(r.a)("start","drag","end"),v=0,b=0;return drag.filter=function(e){return arguments.length?(d="function"==typeof e?e:n.i(s.a)(!!e),drag):d},drag.container=function(e){return arguments.length?(u="function"==typeof e?e:n.i(s.a)(e),drag):u},drag.subject=function(e){return arguments.length?(f="function"==typeof e?e:n.i(s.a)(e),drag):f},drag.touchable=function(e){return arguments.length?(h="function"==typeof e?e:n.i(s.a)(!!e),drag):h},drag.on=function(){var e=m.on.apply(m,arguments);return e===m?drag:e},drag.clickDistance=function(e){return arguments.length?(b=(e=+e)*e,drag):Math.sqrt(b)},drag}},function(e,t,n){"use strict";function DragEvent(e,t,n,r,o,i,a,s,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=s,this.dy=l,this._=c}t.a=DragEvent,DragEvent.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},function(e,t,n){"use strict";new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(339),o=n.i(r.a)(","),i=o.parse;o.parseRows,o.format,o.formatBody,o.formatRows,o.formatRow,o.formatValue},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(339),o=n.i(r.a)("\t"),i=o.parse;o.parseRows,o.format,o.formatBody,o.formatRows,o.formatRow,o.formatValue},function(e,t,n){"use strict";(function custom(e){function backIn(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,backIn.overshoot=custom,backIn})(1.70158),function custom(e){function backOut(t){return--t*t*((t+1)*e+t)+1}return e=+e,backOut.overshoot=custom,backOut}(1.70158),function custom(e){function backInOut(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,backInOut.overshoot=custom,backInOut}(1.70158)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}t.a=cubicInOut},function(e,t,n){"use strict";var r=n(722),o=2*Math.PI;(function custom(e,t){function elasticIn(o){return e*n.i(r.a)(- --o)*Math.sin((i-o)/t)}var i=Math.asin(1/(e=Math.max(1,e)))*(t/=o);return elasticIn.amplitude=function(e){return custom(e,t*o)},elasticIn.period=function(t){return custom(e,t)},elasticIn})(1,.3),function custom(e,t){function elasticOut(o){return 1-e*n.i(r.a)(o=+o)*Math.sin((o+i)/t)}var i=Math.asin(1/(e=Math.max(1,e)))*(t/=o);return elasticOut.amplitude=function(e){return custom(e,t*o)},elasticOut.period=function(t){return custom(e,t)},elasticOut}(1,.3),function custom(e,t){function elasticInOut(o){return((o=2*o-1)<0?e*n.i(r.a)(-o)*Math.sin((i-o)/t):2-e*n.i(r.a)(o)*Math.sin((i+o)/t))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(t/=o);return elasticInOut.amplitude=function(e){return custom(e,t*o)},elasticInOut.period=function(t){return custom(e,t)},elasticInOut}(1,.3)},function(e,t,n){"use strict";n(722)},function(e,t,n){"use strict"},function(e,t,n){"use strict";(function custom(e){function polyIn(t){return Math.pow(t,e)}return e=+e,polyIn.exponent=custom,polyIn})(3),function custom(e){function polyOut(t){return 1-Math.pow(1-t,e)}return e=+e,polyOut.exponent=custom,polyOut}(3),function custom(e){function polyInOut(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,polyInOut.exponent=custom,polyInOut}(3)},function(e,t,n){"use strict"},function(e,t,n){"use strict";Math.PI},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function dsvParse(e){return function(t,r,i){return 2===arguments.length&&"function"==typeof r&&(i=r,r=void 0),n.i(o.a)(t,r).then(function(t){return e(t,i)})}}var r=n(720),o=n(340);dsvParse(r.b),dsvParse(r.c)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(1329),n(1330),n(1331),n(1332),n(1334),n(340),n(1335)},function(e,t,n){"use strict"},function(e,t,n){"use strict";function parser(e){return function(t,o){return n.i(r.a)(t,o).then(function(t){return(new DOMParser).parseFromString(t,e)})}}var r=n(340);parser("application/xml"),parser("text/html"),parser("image/svg+xml")},function(e,t,n){"use strict";t.a=function(e,t){function force(){var r,o,i=n.length,a=0,s=0;for(r=0;r<i;++r)o=n[r],a+=o.x,s+=o.y;for(a=a/i-e,s=s/i-t,r=0;r<i;++r)o=n[r],o.x-=a,o.y-=s}var n;return null==e&&(e=0),null==t&&(t=0),force.initialize=function(e){n=e},force.x=function(t){return arguments.length?(e=+t,force):e},force.y=function(e){return arguments.length?(t=+e,force):t},force}},function(e,t,n){"use strict";function x(e){return e.x+e.vx}function y(e){return e.y+e.vy}var r=n(172),o=n(341),i=n(354);t.a=function(e){function force(){function apply(e,t,r,i,a){var l=e.data,h=e.r,g=u+h;{if(!l)return t>p+g||i<p-g||r>d+g||a<d-g;if(l.index>c.index){var m=p-l.x-l.vx,v=d-l.y-l.vy,b=m*m+v*v;b<g*g&&(0===m&&(m=n.i(o.a)(),b+=m*m),0===v&&(v=n.i(o.a)(),b+=v*v),b=(g-(b=Math.sqrt(b)))/b*s,c.vx+=(m*=b)*(g=(h*=h)/(f+h)),c.vy+=(v*=b)*g,l.vx-=m*(g=1-g),l.vy-=v*g)}}}for(var e,r,c,p,d,u,f,h=t.length,g=0;g<l;++g)for(r=n.i(i.a)(t,x,y).visitAfter(prepare),e=0;e<h;++e)c=t[e],u=a[c.index],f=u*u,p=c.x+c.vx,d=c.y+c.vy,r.visit(apply)}function prepare(e){if(e.data)return e.r=a[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function initialize(){if(t){var n,r,o=t.length;for(a=new Array(o),n=0;n<o;++n)r=t[n],a[r.index]=+e(r,n,t)}}var t,a,s=1,l=1;return"function"!=typeof e&&(e=n.i(r.a)(null==e?1:+e)),force.initialize=function(e){t=e,initialize()},force.iterations=function(e){return arguments.length?(l=+e,force):l},force.strength=function(e){return arguments.length?(s=+e,force):s},force.radius=function(t){return arguments.length?(e="function"==typeof t?t:n.i(r.a)(+t),initialize(),force):e},force}},function(e,t,n){"use strict";var r=n(1336);n.d(t,"b",function(){return r.a});var o=n(1337);n.d(t,"d",function(){return o.a});var i=n(1339);n.d(t,"e",function(){return i.a});var a=n(1340);n.d(t,"c",function(){return a.a});var s=(n(1341),n(723));n.d(t,"a",function(){return s.a});n(1342),n(1343)},function(e,t,n){"use strict";function index(e){return e.index}function find(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var r=n(172),o=n(341),i=n(255);t.a=function(e){function defaultStrength(e){return 1/Math.min(l[e.source.index],l[e.target.index])}function force(r){for(var i=0,s=e.length;i<f;++i)for(var l,p,d,u,h,g,m,v=0;v<s;++v)l=e[v],p=l.source,d=l.target,u=d.x+d.vx-p.x-p.vx||n.i(o.a)(),h=d.y+d.vy-p.y-p.vy||n.i(o.a)(),g=Math.sqrt(u*u+h*h),g=(g-a[v])/g*r*t[v],u*=g,h*=g,d.vx-=u*(m=c[v]),d.vy-=h*m,p.vx+=u*(m=1-m),p.vy+=h*m}function initialize(){if(s){var r,o,d=s.length,u=e.length,f=n.i(i.a)(s,p);for(r=0,l=new Array(d);r<u;++r)o=e[r],o.index=r,"object"!=typeof o.source&&(o.source=find(f,o.source)),"object"!=typeof o.target&&(o.target=find(f,o.target)),l[o.source.index]=(l[o.source.index]||0)+1,l[o.target.index]=(l[o.target.index]||0)+1;for(r=0,c=new Array(u);r<u;++r)o=e[r],c[r]=l[o.source.index]/(l[o.source.index]+l[o.target.index]);t=new Array(u),initializeStrength(),a=new Array(u),initializeDistance()}}function initializeStrength(){if(s)for(var n=0,r=e.length;n<r;++n)t[n]=+d(e[n],n,e)}function initializeDistance(){if(s)for(var t=0,n=e.length;t<n;++t)a[t]=+u(e[t],t,e)}var t,a,s,l,c,p=index,d=defaultStrength,u=n.i(r.a)(30),f=1;return null==e&&(e=[]),force.initialize=function(e){s=e,initialize()},force.links=function(t){return arguments.length?(e=t,initialize(),force):e},force.id=function(e){return arguments.length?(p=e,force):p},force.iterations=function(e){return arguments.length?(f=+e,force):f},force.strength=function(e){return arguments.length?(d="function"==typeof e?e:n.i(r.a)(+e),initializeStrength(),force):d},force.distance=function(e){return arguments.length?(u="function"==typeof e?e:n.i(r.a)(+e),initializeDistance(),force):u},force}},function(e,t,n){"use strict";var r=n(172),o=n(341),i=n(354),a=n(723);t.a=function(){function force(r){var o,l=e.length,c=n.i(i.a)(e,a.b,a.c).visitAfter(accumulate);for(s=r,o=0;o<l;++o)t=e[o],c.visit(apply)}function initialize(){if(e){var t,n,r=e.length;for(l=new Array(r),t=0;t<r;++t)n=e[t],l[n.index]=+c(n,t,e)}}function accumulate(e){var t,n,r,o,i,a=0,s=0;if(e.length){for(r=o=i=0;i<4;++i)(t=e[i])&&(n=Math.abs(t.value))&&(a+=t.value,s+=n,r+=n*t.x,o+=n*t.y);e.x=r/s,e.y=o/s}else{t=e,t.x=t.data.x,t.y=t.data.y;do{a+=l[t.data.index]}while(t=t.next)}e.value=a}function apply(e,r,i,a){if(!e.value)return!0;var c=e.x-t.x,f=e.y-t.y,h=a-r,g=c*c+f*f;if(h*h/u<g)return g<d&&(0===c&&(c=n.i(o.a)(),g+=c*c),0===f&&(f=n.i(o.a)(),g+=f*f),g<p&&(g=Math.sqrt(p*g)),t.vx+=c*e.value*s/g,t.vy+=f*e.value*s/g),!0;if(!(e.length||g>=d)){(e.data!==t||e.next)&&(0===c&&(c=n.i(o.a)(),g+=c*c),0===f&&(f=n.i(o.a)(),g+=f*f),g<p&&(g=Math.sqrt(p*g)));do{e.data!==t&&(h=l[e.data.index]*s/g,t.vx+=c*h,t.vy+=f*h)}while(e=e.next)}}var e,t,s,l,c=n.i(r.a)(-30),p=1,d=1/0,u=.81;return force.initialize=function(t){e=t,initialize()},force.strength=function(e){return arguments.length?(c="function"==typeof e?e:n.i(r.a)(+e),initialize(),force):c},force.distanceMin=function(e){return arguments.length?(p=e*e,force):Math.sqrt(p)},force.distanceMax=function(e){return arguments.length?(d=e*e,force):Math.sqrt(d)},force.theta=function(e){return arguments.length?(u=e*e,force):Math.sqrt(u)},force}},function(e,t,n){"use strict";n(172)},function(e,t,n){"use strict";n(172)},function(e,t,n){"use strict";n(172)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r,o,i,a=n(726);!function(e){r=n.i(a.a)(e),o=r.format,i=r.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},function(e,t,n){"use strict";t.a=function(e,t){return function(n,r){for(var o=n.length,i=[],a=0,s=e[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(o-=s,o+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(t)}}},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}},function(e,t,n){"use strict";var r=n(257);t.a=function(e,t){var o=n.i(r.a)(e,t);if(!o)return e+"";var i=o[0],a=o[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}},function(e,t,n){"use strict";t.a=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}},function(e,t,n){"use strict";var r=n(257),o=n(724),i=n(1347);t.a={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:r.b,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return n.i(i.a)(100*e,t)},r:i.a,s:o.b,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(256);t.a=function(e){return Math.max(0,-n.i(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(256);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n.i(r.a)(t)/3)))-n.i(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(256);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n.i(r.a)(t)-n.i(r.a)(e))+1}},function(e,t,n){"use strict";var r=n(173);n(727),n(206),n(26),n(146),n.i(r.a)()},function(e,t,n){"use strict";function centroidPoint(e,t){e*=y.h,t*=y.h;var r=n.i(y.d)(t);centroidPointCartesian(r*n.i(y.d)(e),r*n.i(y.e)(e),n.i(y.e)(t))}function centroidPointCartesian(e,t,n){++r,i+=(e-i)/r,a+=(t-a)/r,s+=(n-s)/r}function centroidLineStart(){C.point=centroidLinePointFirst}function centroidLinePointFirst(e,t){e*=y.h,t*=y.h;var r=n.i(y.d)(t);m=r*n.i(y.d)(e),v=r*n.i(y.e)(e),b=n.i(y.e)(t),C.point=centroidLinePoint,centroidPointCartesian(m,v,b)}function centroidLinePoint(e,t){e*=y.h,t*=y.h;var r=n.i(y.d)(t),i=r*n.i(y.d)(e),a=r*n.i(y.e)(e),s=n.i(y.e)(t),d=n.i(y.f)(n.i(y.o)((d=v*s-b*a)*d+(d=b*i-m*s)*d+(d=m*a-v*i)*d),m*i+v*a+b*s);o+=d,l+=d*(m+(m=i)),c+=d*(v+(v=a)),p+=d*(b+(b=s)),centroidPointCartesian(m,v,b)}function centroidLineEnd(){C.point=centroidPoint}function centroidRingStart(){C.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(h,g),C.point=centroidPoint}function centroidRingPointFirst(e,t){h=e,g=t,e*=y.h,t*=y.h,C.point=centroidRingPoint;var r=n.i(y.d)(t);m=r*n.i(y.d)(e),v=r*n.i(y.e)(e),b=n.i(y.e)(t),centroidPointCartesian(m,v,b)}function centroidRingPoint(e,t){e*=y.h,t*=y.h;var r=n.i(y.d)(t),i=r*n.i(y.d)(e),a=r*n.i(y.e)(e),s=n.i(y.e)(t),h=v*s-b*a,g=b*i-m*s,x=m*a-v*i,C=n.i(y.o)(h*h+g*g+x*x),R=n.i(y.g)(C),S=C&&-R/C;d+=S*h,u+=S*g,f+=S*x,o+=R,l+=R*(m+(m=i)),c+=R*(v+(v=a)),p+=R*(b+(b=s)),centroidPointCartesian(m,v,b)}var r,o,i,a,s,l,c,p,d,u,f,h,g,m,v,b,y=n(26),x=n(125),C=(n(146),{sphere:x.a,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){C.lineStart=centroidRingStart,C.lineEnd=centroidRingEnd},polygonEnd:function(){C.lineStart=centroidLineStart,C.lineEnd=centroidLineEnd}})},function(e,t,n){"use strict";n(258)},function(e,t,n){"use strict";t.a=function(e,t,n,r,o,i){var a,s=e[0],l=e[1],c=t[0],p=t[1],d=0,u=1,f=c-s,h=p-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<d)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>d&&(d=a)}if(a=o-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>d&&(d=a)}else if(f>0){if(a<d)return;a<u&&(u=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>d&&(d=a)}if(a=i-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<u&&(u=a)}return d>0&&(e[0]=s+d*f,e[1]=l+d*h),u<1&&(t[0]=s+u*f,t[1]=l+u*h),!0}}}}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";n(739),n(735),n(26)},function(e,t,n){"use strict";n(62),n(26)},function(e,t,n){"use strict";n(727),n(1354),n(1355),n(728),n(729),n(731),n(1356),n(258),n(1359),n(735),n(1360),n(1362),n(736),n(1366),n(740),n(1369),n(1370),n(1371),n(1372),n(345),n(1373),n(1375),n(741),n(1376),n(1377),n(87),n(347),n(1378),n(1379),n(1381),n(1382),n(259),n(146),n(260)},function(e,t,n){"use strict";n(26)},function(e,t,n){"use strict";function areaRingStart(){u.point=areaPointFirst}function areaPointFirst(e,t){u.point=areaPoint,r=i=e,o=a=t}function areaPoint(e,t){d.add(a*e-i*t),i=e,a=t}function areaRingEnd(){areaPoint(r,o)}var r,o,i,a,s=n(173),l=n(26),c=n(125),p=n.i(s.a)(),d=n.i(s.a)(),u={point:c.a,lineStart:c.a,lineEnd:c.a,polygonStart:function(){u.lineStart=areaRingStart,u.lineEnd=areaRingEnd},polygonEnd:function(){u.lineStart=u.lineEnd=u.point=c.a,p.add(n.i(l.a)(d)),d.reset()},result:function(){var e=p/2;return p.reset(),e}};t.a=u},function(e,t,n){"use strict";function centroidPoint(e,t){l+=e,c+=t,++p}function centroidLineStart(){v.point=centroidPointFirstLine}function centroidPointFirstLine(e,t){v.point=centroidPointLine,centroidPoint(i=e,a=t)}function centroidPointLine(e,t){var r=e-i,o=t-a,l=n.i(s.o)(r*r+o*o);d+=l*(i+e)/2,u+=l*(a+t)/2,f+=l,centroidPoint(i=e,a=t)}function centroidLineEnd(){v.point=centroidPoint}function centroidRingStart(){v.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(r,o)}function centroidPointFirstRing(e,t){v.point=centroidPointRing,centroidPoint(r=i=e,o=a=t)}function centroidPointRing(e,t){var r=e-i,o=t-a,l=n.i(s.o)(r*r+o*o);d+=l*(i+e)/2,u+=l*(a+t)/2,f+=l,l=a*e-i*t,h+=l*(i+e),g+=l*(a+t),m+=3*l,centroidPoint(i=e,a=t)}var r,o,i,a,s=n(26),l=0,c=0,p=0,d=0,u=0,f=0,h=0,g=0,m=0,v={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){v.lineStart=centroidRingStart,v.lineEnd=centroidRingEnd},polygonEnd:function(){v.point=centroidPoint,v.lineStart=centroidLineStart,v.lineEnd=centroidLineEnd},result:function(){var e=m?[h/m,g/m]:f?[d/f,u/f]:p?[l/p,c/p]:[NaN,NaN];return l=c=p=d=u=f=h=g=m=0,e}};t.a=v},function(e,t,n){"use strict";function PathContext(e){this._context=e}t.a=PathContext;var r=n(26),o=n(125);PathContext.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,r.c)}},result:o.a}},function(e,t,n){"use strict";n(343),n(146),n(1363),n(737),n(1364),n(1365),n(1367),n(1368)},function(e,t,n){"use strict";function lengthPointFirst(e,t){u.point=lengthPoint,o=a=e,i=s=t}function lengthPoint(e,t){a-=e,s-=t,d.add(n.i(c.o)(a*a+s*s)),a=e,s=t}var r,o,i,a,s,l=n(173),c=n(26),p=n(125),d=n.i(l.a)(),u={point:p.a,lineStart:function(){u.point=lengthPointFirst},lineEnd:function(){r&&lengthPoint(o,i),u.point=p.a},polygonStart:function(){r=!0},polygonEnd:function(){r=null},result:function(){var e=+d;return d.reset(),e}};t.a=u},function(e,t,n){"use strict";function PathString(){this._string=[]}function circle(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}t.a=PathString,PathString.prototype={_radius:4.5,_circle:circle(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=circle(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}}},function(e,t,n){"use strict";n(26),n(740),n(345),n(346)},function(e,t,n){"use strict";var r=n(26),o=n(207),i=(n(87),n.i(o.b)(function(e){return n.i(r.o)(2/(1+e))}));i.invert=n.i(o.a)(function(e){return 2*n.i(r.g)(e/2)})},function(e,t,n){"use strict";var r=n(26),o=n(207),i=(n(87),n.i(o.b)(function(e){return(e=n.i(r.s)(e))&&e/n.i(r.e)(e)}));i.invert=n.i(o.a)(function(e){return e})},function(e,t,n){"use strict";n(26),n(344),n(347)},function(e,t,n){"use strict";n(26),n(344),n(741)},function(e,t,n){"use strict";function cylindricalEqualAreaRaw(e){function forward(e,o){return[e*t,n.i(r.e)(o)/t]}var t=n.i(r.d)(e);return forward.invert=function(e,o){return[e/t,n.i(r.g)(o*t)]},forward}t.a=cylindricalEqualAreaRaw;var r=n(26)},function(e,t,n){"use strict";function equalEarthRaw(e,t){var c=n.i(r.g)(l*n.i(r.e)(t)),p=c*c,d=p*p*p;return[e*n.i(r.d)(c)/(l*(o+3*i*p+d*(7*a+9*s*p))),c*(o+i*p+d*(a+s*p))]}var r=(n(87),n(26)),o=1.340264,i=-.081106,a=893e-6,s=.003796,l=n.i(r.o)(3)/2;equalEarthRaw.invert=function(e,t){for(var c,p,d,u=t,f=u*u,h=f*f*f,g=0;g<12&&(p=u*(o+i*f+h*(a+s*f))-t,d=o+3*i*f+h*(7*a+9*s*f),u-=c=p/d,f=u*u,h=f*f*f,!(n.i(r.a)(c)<r.t));++g);return[l*e*(o+3*i*f+h*(7*a+9*s*f))/n.i(r.d)(u),n.i(r.g)(n.i(r.e)(u)/l)]}},function(e,t,n){"use strict";function gnomonicRaw(e,t){var o=n.i(r.d)(t),i=n.i(r.d)(e)*o;return[o*n.i(r.e)(e)/i,n.i(r.e)(t)/i]}var r=n(26),o=n(207);n(87);gnomonicRaw.invert=n.i(o.a)(r.m)},function(e,t,n){"use strict";n(258),n(343),n(260),n(346),n(26)},function(e,t,n){"use strict";function naturalEarth1Raw(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}var r=(n(87),n(26));naturalEarth1Raw.invert=function(e,t){var o,i=t,a=25;do{var s=i*i,l=s*s;i-=o=(i*(1.007226+s*(.015085+l*(.028874*s-.044475-.005916*l)))-t)/(1.007226+s*(.045255+l*(.259866*s-.311325-.005916*11*l)))}while(n.i(r.a)(o)>r.p&&--a>0);return[e/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]}},function(e,t,n){"use strict";function orthographicRaw(e,t){return[n.i(r.d)(t)*n.i(r.e)(e),n.i(r.e)(t)]}var r=n(26),o=n(207);n(87);orthographicRaw.invert=n.i(o.a)(r.g)},function(e,t,n){"use strict";function resampleNone(e){return n.i(i.a)({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function resample(e,t){function resampleLineTo(r,i,a,l,c,p,d,u,f,h,g,m,v,b){var y=d-r,x=u-i,C=y*y+x*x;if(C>4*t&&v--){var R=l+h,S=c+g,P=p+m,E=n.i(o.o)(R*R+S*S+P*P),w=n.i(o.g)(P/=E),I=n.i(o.a)(n.i(o.a)(P)-1)<o.p||n.i(o.a)(a-f)<o.p?(a+f)/2:n.i(o.f)(S,R),A=e(I,w),_=A[0],L=A[1],M=_-r,k=L-i,O=x*M-y*k;(O*O/C>t||n.i(o.a)((y*M+x*k)/C-.5)>.3||l*h+c*g+p*m<s)&&(resampleLineTo(r,i,a,l,c,p,_,L,I,R/=E,S/=E,P,v,b),b.point(_,L),resampleLineTo(_,L,I,R,S,P,d,u,f,h,g,m,v,b))}}return function(t){function point(n,r){n=e(n,r),t.point(n[0],n[1])}function lineStart(){u=NaN,v.point=linePoint,t.lineStart()}function linePoint(o,i){var s=n.i(r.a)([o,i]),l=e(o,i);resampleLineTo(u,f,d,h,g,m,u=l[0],f=l[1],d=o,h=s[0],g=s[1],m=s[2],a,t),t.point(u,f)}function lineEnd(){v.point=point,t.lineEnd()}function ringStart(){lineStart(),v.point=ringPoint,v.lineEnd=ringEnd}function ringPoint(e,t){linePoint(o=e,t),i=u,s=f,l=h,c=g,p=m,v.point=linePoint}function ringEnd(){resampleLineTo(u,f,d,h,g,m,i,s,o,l,c,p,a,t),v.lineEnd=lineEnd,lineEnd()}var o,i,s,l,c,p,d,u,f,h,g,m,v={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){t.polygonStart(),v.lineStart=ringStart},polygonEnd:function(){t.polygonEnd(),v.lineStart=lineStart}};return v}}var r=n(206),o=n(26),i=n(260),a=16,s=n.i(o.d)(30*o.h);t.a=function(e,t){return+t?resample(e,t):resampleNone(e)}},function(e,t,n){"use strict";function stereographicRaw(e,t){var o=n.i(r.d)(t),i=1+n.i(r.d)(e)*o;return[o*n.i(r.e)(e)/i,n.i(r.e)(t)/i]}var r=n(26),o=n(207);n(87);stereographicRaw.invert=n.i(o.a)(function(e){return 2*n.i(r.m)(e)})},function(e,t,n){"use strict";function transverseMercatorRaw(e,t){return[n.i(r.j)(n.i(r.k)((r.l+t)/2)),-e]}var r=n(26);n(347);transverseMercatorRaw.invert=function(e,t){return[-t,2*n.i(r.m)(n.i(r.n)(e))-r.l]}},function(e,t,n){"use strict";function shuffle(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}n.d(t,"b",function(){return r}),t.a=shuffle;var r=Array.prototype.slice},function(e,t,n){"use strict"},function(e,t,n){"use strict";t.a=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}},function(e,t,n){"use strict";function count(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}t.a=function(){return this.eachAfter(count)}},function(e,t,n){"use strict";t.a=function(){var e=[];return this.each(function(t){e.push(t)}),e}},function(e,t,n){"use strict";t.a=function(e){var t,n,r,o,i=this,a=[i];do{for(t=a.reverse(),a=[];i=t.pop();)if(e(i),n=i.children)for(r=0,o=n.length;r<o;++r)a.push(n[r])}while(a.length);return this}},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r,o=this,i=[o],a=[];o=i.pop();)if(a.push(o),t=o.children)for(n=0,r=t.length;n<r;++n)i.push(t[n]);for(;o=a.pop();)e(o);return this}},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r=this,o=[r];r=o.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)o.push(t[n]);return this}},function(e,t,n){"use strict";t.a=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}},function(e,t,n){"use strict";t.a=function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}},function(e,t,n){"use strict";function leastCommonAncestor(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;for(e=n.pop(),t=r.pop();e===t;)o=e,e=n.pop(),t=r.pop();return o}t.a=function(e){for(var t=this,n=leastCommonAncestor(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r}},function(e,t,n){"use strict";t.a=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}},function(e,t,n){"use strict";t.a=function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n})}},function(e,t,n){"use strict";n(1384),n(349),n(1397),n(744),n(743),n(1398),n(1399),n(1400),n(1402),n(1401),n(208),n(261),n(1404),n(350),n(1403)},function(e,t,n){"use strict";n(744),n(348),n(742)},function(e,t,n){"use strict";n(745),n(208)},function(e,t,n){"use strict";n(348),n(349)},function(e,t,n){"use strict";function TreeNode(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}var r=n(349);TreeNode.prototype=Object.create(r.a.prototype)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(745),n(350),n(348),n(742)},function(e,t,n){"use strict";var r=n(208),o=n(261),i=n(350);!function custom(e){function resquarify(t,a,s,l,c){if((p=t._squarify)&&p.ratio===e)for(var p,d,u,f,h,g=-1,m=p.length,v=t.value;++g<m;){for(d=p[g],u=d.children,f=d.value=0,h=u.length;f<h;++f)d.value+=u[f].value;d.dice?n.i(r.a)(d,a,s,l,s+=(c-s)*d.value/v):n.i(o.a)(d,a,s,a+=(l-a)*d.value/v,c),v-=d.value}else t._squarify=p=n.i(i.a)(e,t,a,s,l,c),p.ratio=e}return resquarify.ratio=function(e){return custom((e=+e)>1?e:1)},resquarify}(i.b)},function(e,t,n){"use strict";n(208),n(261)},function(e,t,n){"use strict";function cubehelix(e){return function cubehelixGamma(t){function cubehelix(i,a){var s=e((i=n.i(r.b)(i)).h,(a=n.i(r.b)(a)).h),l=n.i(o.a)(i.s,a.s),c=n.i(o.a)(i.l,a.l),p=n.i(o.a)(i.opacity,a.opacity);return function(e){return i.h=s(e),i.s=l(e),i.l=c(Math.pow(e,t)),i.opacity=p(e),i+""}}return t=+t,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}n.d(t,"a",function(){return i});var r=n(86),o=n(174),i=(cubehelix(o.b),cubehelix(o.a))},function(e,t,n){"use strict"},function(e,t,n){"use strict";function hcl(e){return function(t,i){var a=e((t=n.i(r.c)(t)).h,(i=n.i(r.c)(i)).h),s=n.i(o.a)(t.c,i.c),l=n.i(o.a)(t.l,i.l),c=n.i(o.a)(t.opacity,i.opacity);return function(e){return t.h=a(e),t.c=s(e),t.l=l(e),t.opacity=c(e),t+""}}}var r=n(86),o=n(174);hcl(o.b),hcl(o.a)},function(e,t,n){"use strict";function hsl(e){return function(t,i){var a=e((t=n.i(r.e)(t)).h,(i=n.i(r.e)(i)).h),s=n.i(o.a)(t.s,i.s),l=n.i(o.a)(t.l,i.l),c=n.i(o.a)(t.opacity,i.opacity);return function(e){return t.h=a(e),t.s=s(e),t.l=l(e),t.opacity=c(e),t+""}}}var r=n(86),o=n(174);hsl(o.b),hsl(o.a)},function(e,t,n){"use strict";n(174)},function(e,t,n){"use strict";n(86),n(174)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=180/Math.PI,o={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.b=function(e,t,n,o,i,a){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,c/=l),e*o<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*r,skewX:Math.atan(c)*r,scaleX:s,scaleY:l}}},function(e,t,n){"use strict";function interpolateTransform(e,t,o,i){function pop(e){return e.length?e.pop()+" ":""}function translate(e,i,a,s,l,c){if(e!==a||i!==s){var p=l.push("translate(",null,t,null,o);c.push({i:p-4,x:n.i(r.a)(e,a)},{i:p-2,x:n.i(r.a)(i,s)})}else(a||s)&&l.push("translate("+a+t+s+o)}function rotate(e,t,o,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:o.push(pop(o)+"rotate(",null,i)-2,x:n.i(r.a)(e,t)})):t&&o.push(pop(o)+"rotate("+t+i)}function skewX(e,t,o,a){e!==t?a.push({i:o.push(pop(o)+"skewX(",null,i)-2,x:n.i(r.a)(e,t)}):t&&o.push(pop(o)+"skewX("+t+i)}function scale(e,t,o,i,a,s){if(e!==o||t!==i){var l=a.push(pop(a)+"scale(",null,",",null,")");s.push({i:l-4,x:n.i(r.a)(e,o)},{i:l-2,x:n.i(r.a)(t,i)})}else 1===o&&1===i||a.push(pop(a)+"scale("+o+","+i+")")}return function(t,n){var r=[],o=[];return t=e(t),n=e(n),translate(t.translateX,t.translateY,n.translateX,n.translateY,r,o),rotate(t.rotate,n.rotate,r,o),skewX(t.skewX,n.skewX,r,o),scale(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,o),t=n=null,function(e){for(var t,n=-1,i=o.length;++n<i;)r[(t=o[n]).i]=t.x(e);return r.join("")}}}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(262),o=n(1416),i=interpolateTransform(o.a,"px, ","px)","deg)"),a=interpolateTransform(o.b,", ",")",")")},function(e,t,n){"use strict";function parseCss(e){return"none"===e?s.a:(r||(r=document.createElement("DIV"),o=document.documentElement,i=document.defaultView),r.style.transform=e,e=i.getComputedStyle(o.appendChild(r),null).getPropertyValue("transform"),o.removeChild(r),e=e.slice(7,-1).split(","),n.i(s.b)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function parseSvg(e){return null==e?s.a:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",e),(e=a.transform.baseVal.consolidate())?(e=e.matrix,n.i(s.b)(e.a,e.b,e.c,e.d,e.e,e.f)):s.a)}t.a=parseCss,t.b=parseSvg;var r,o,i,a,s=n(1414)},function(e,t,n){"use strict";function cosh(e){return((e=Math.exp(e))+1/e)/2}function sinh(e){return((e=Math.exp(e))-1/e)/2}function tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}var r=Math.SQRT2;t.a=function(e,t){var n,o,i=e[0],a=e[1],s=e[2],l=t[0],c=t[1],p=t[2],d=l-i,u=c-a,f=d*d+u*u;if(f<1e-12)o=Math.log(p/s)/r,n=function(e){return[i+e*d,a+e*u,s*Math.exp(r*e*o)]};else{var h=Math.sqrt(f),g=(p*p-s*s+4*f)/(2*s*2*h),m=(p*p-s*s-4*f)/(2*p*2*h),v=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(m*m+1)-m);o=(b-v)/r,n=function(e){var t=e*o,n=cosh(v),l=s/(2*h)*(n*tanh(r*t+v)-sinh(v));return[i+l*d,a+l*u,s*n/cosh(r*t+v)]}}return n.duration=1e3*o,n}},function(e,t,n){"use strict";function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}var r=Math.PI,o=2*r,i=o-1e-6;Path.prototype=path.prototype={constructor:Path,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,o,i){e=+e,t=+t,n=+n,o=+o,i=+i;var a=this._x1,s=this._y1,l=n-e,c=o-t,p=a-e,d=s-t,u=p*p+d*d;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(u>1e-6)if(Math.abs(d*l-c*p)>1e-6&&i){var f=n-a,h=o-s,g=l*l+c*c,m=f*f+h*h,v=Math.sqrt(g),b=Math.sqrt(u),y=i*Math.tan((r-Math.acos((g+u-m)/(2*v*b)))/2),x=y/b,C=y/v;Math.abs(x-1)>1e-6&&(this._+="L"+(e+x*p)+","+(t+x*d)),this._+="A"+i+","+i+",0,0,"+ +(d*f>p*h)+","+(this._x1=e+C*l)+","+(this._y1=t+C*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,a,s,l){e=+e,t=+t,n=+n,l=!!l;var c=n*Math.cos(a),p=n*Math.sin(a),d=e+c,u=t+p,f=1^l,h=l?a-s:s-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+u:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+d+","+u),n&&(h<0&&(h=h%o+o),h>i?this._+="A"+n+","+n+",0,1,"+f+","+(e-c)+","+(t-p)+"A"+n+","+n+",0,1,"+f+","+(this._x1=d)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=r)+","+f+","+(this._x1=e+n*Math.cos(s))+","+(this._y1=t+n*Math.sin(s))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.a=path},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";t.a=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}},function(e,t,n){"use strict";n(1422)},function(e,t,n){"use strict";n(1419),n(1420),n(1423),n(1421),n(1425)},function(e,t,n){"use strict"},function(e,t,n){"use strict";function add(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,l,c,p,d,u,f=e._root,h={data:r},g=e._x0,m=e._y0,v=e._x1,b=e._y1;if(!f)return e._root=h,e;for(;f.length;)if((c=t>=(i=(g+v)/2))?g=i:v=i,(p=n>=(a=(m+b)/2))?m=a:b=a,o=f,!(f=f[d=p<<1|c]))return o[d]=h,e;if(s=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===s&&n===l)return h.next=f,o?o[d]=h:e._root=h,e;do{o=o?o[d]=new Array(4):e._root=new Array(4),(c=t>=(i=(g+v)/2))?g=i:v=i,(p=n>=(a=(m+b)/2))?m=a:b=a}while((d=p<<1|c)==(u=(l>=a)<<1|s>=i));return o[u]=f,o[d]=h,e}function addAll(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),l=1/0,c=1/0,p=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<l&&(l=r),r>p&&(p=r),o<c&&(c=o),o>d&&(d=o));if(l>p||c>d)return this;for(this.cover(l,c).cover(p,d),n=0;n<i;++n)add(this,a[n],s[n],e[n]);return this}t.b=addAll,t.a=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return add(this.cover(t,n),t,n,e)}},function(e,t,n){"use strict";t.a=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,l=o-n,c=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,a=new Array(4),a[s]=c,c=a,l*=2,s){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this}},function(e,t,n){"use strict";t.a=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},function(e,t,n){"use strict";var r=n(355);t.a=function(e,t,n){var o,i,a,s,l,c,p,d=this._x0,u=this._y0,f=this._x1,h=this._y1,g=[],m=this._root;for(m&&g.push(new r.a(m,d,u,f,h)),null==n?n=1/0:(d=e-n,u=t-n,f=e+n,h=t+n,n*=n);c=g.pop();)if(!(!(m=c.node)||(i=c.x0)>f||(a=c.y0)>h||(s=c.x1)<d||(l=c.y1)<u))if(m.length){var v=(i+s)/2,b=(a+l)/2;g.push(new r.a(m[3],v,b,s,l),new r.a(m[2],i,b,v,l),new r.a(m[1],v,a,s,b),new r.a(m[0],i,a,v,b)),(p=(t>=b)<<1|e>=v)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-p],g[g.length-1-p]=c)}else{var y=e-+this._x.call(null,m.data),x=t-+this._y.call(null,m.data),C=y*y+x*x;if(C<n){var R=Math.sqrt(n=C);d=e-R,u=t-R,f=e+R,h=t+R,o=m.data}}return o}},function(e,t,n){"use strict";function quadtree(e,t,n){var r=new Quadtree(null==t?f.a:t,null==n?h.a:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Quadtree(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function leaf_copy(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}t.a=quadtree;var r=n(1426),o=n(1427),i=n(1428),a=n(1429),s=n(1430),l=n(1432),c=n(1433),p=n(1434),d=n(1435),u=n(1436),f=n(1437),h=n(1438),g=quadtree.prototype=Quadtree.prototype;g.copy=function(){var e,t,n=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=leaf_copy(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=leaf_copy(t));return n},g.add=r.a,g.addAll=r.b,g.cover=o.a,g.data=i.a,g.extent=a.a,g.find=s.a,g.remove=l.a,g.removeAll=l.b,g.root=c.a,g.size=p.a,g.visit=d.a,g.visitAfter=u.a,g.x=f.b,g.y=h.b},function(e,t,n){"use strict";function removeAll(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}t.b=removeAll,t.a=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,l,c,p,d,u,f=this._root,h=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=i>=(s=(h+m)/2))?h=s:m=s,(p=a>=(l=(g+v)/2))?g=l:v=l,t=f,!(f=f[d=p<<1|c]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,u=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(o=f.next)&&delete f.next,r?(o?r.next=o:delete r.next,this):t?(o?t[d]=o:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[u]=f:this._root=f),this):(this._root=o,this)}},function(e,t,n){"use strict";t.a=function(){return this._root}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e}},function(e,t,n){"use strict";var r=n(355);t.a=function(e){var t,n,o,i,a,s,l=[],c=this._root;for(c&&l.push(new r.a(c,this._x0,this._y0,this._x1,this._y1));t=l.pop();)if(!e(c=t.node,o=t.x0,i=t.y0,a=t.x1,s=t.y1)&&c.length){var p=(o+a)/2,d=(i+s)/2;(n=c[3])&&l.push(new r.a(n,p,d,a,s)),(n=c[2])&&l.push(new r.a(n,o,d,p,s)),(n=c[1])&&l.push(new r.a(n,p,i,a,d)),(n=c[0])&&l.push(new r.a(n,o,i,p,d))}return this}},function(e,t,n){"use strict";var r=n(355);t.a=function(e){var t,n=[],o=[];for(this._root&&n.push(new r.a(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,l=t.y0,c=t.x1,p=t.y1,d=(s+c)/2,u=(l+p)/2;(a=i[0])&&n.push(new r.a(a,s,l,d,u)),(a=i[1])&&n.push(new r.a(a,d,l,c,u)),(a=i[2])&&n.push(new r.a(a,s,u,d,p)),(a=i[3])&&n.push(new r.a(a,d,u,c,p))}o.push(t)}for(;t=o.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}},function(e,t,n){"use strict";function defaultX(e){return e[0]}t.a=defaultX,t.b=function(e){return arguments.length?(this._x=e,this):this._x}},function(e,t,n){"use strict";function defaultY(e){return e[1]}t.a=defaultY,t.b=function(e){return arguments.length?(this._y=e,this):this._y}},function(e,t,n){"use strict";var r=n(175),o=n(753);!function sourceRandomBates(e){function randomBates(t){var n=o.a.source(e)(t);return function(){return n()/t}}return randomBates.source=sourceRandomBates,randomBates}(r.a)},function(e,t,n){"use strict";var r=n(175);!function sourceRandomExponential(e){function randomExponential(t){return function(){return-Math.log(1-e())/t}}return randomExponential.source=sourceRandomExponential,randomExponential}(r.a)},function(e,t,n){"use strict";n(1443),n(754),n(1442),n(1439),n(753),n(1440)},function(e,t,n){"use strict";var r=n(175),o=n(754);!function sourceRandomLogNormal(e){function randomLogNormal(){var t=o.a.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return randomLogNormal.source=sourceRandomLogNormal,randomLogNormal}(r.a)},function(e,t,n){"use strict";var r=n(175);!function sourceRandomUniform(e){function randomUniform(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return randomUniform.source=sourceRandomUniform,randomUniform}(r.a)},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")},function(e,t,n){"use strict";var r=n(29);n.i(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";n(1453),n(1444),n(1445),n(1446),n(1447),n(1448),n(1449),n(1450),n(1451),n(1452),n(1454),n(1455),n(1456),n(1457),n(1458),n(1459),n(1460),n(1461),n(1462),n(1464),n(1465),n(1466),n(1467),n(1469),n(1468),n(1470),n(1471),n(1473),n(1472),n(1474),n(1475),n(1482),n(1483),n(1484),n(1486),n(1487),n(1485),n(1476),n(1477),n(1478),n(1479),n(1480),n(1481)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(86),o=n(104);n.i(o.g)(n.i(r.b)(300,.5,0),n.i(r.b)(-240,.5,1))},function(e,t,n){"use strict";var r=n(86),o=n(104);n.i(o.g)(n.i(r.b)(-100,.75,.35),n.i(r.b)(80,1.5,.8)),n.i(o.g)(n.i(r.b)(260,.75,.35),n.i(r.b)(80,1.5,.8)),n.i(r.b)()},function(e,t,n){"use strict";var r=n(86);n.i(r.f)(),Math.PI,Math.PI},function(e,t,n){"use strict"},function(e,t,n){"use strict";function ramp(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var r=n(29);ramp(n.i(r.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ramp(n.i(r.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ramp(n.i(r.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ramp(n.i(r.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";var r=n(29),o=n(40),i=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r.a);n.i(o.a)(i)},function(e,t,n){"use strict";n(62),n(75),n(757)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";n(126),n(75),n(149),n(356),n(758),n(358),n(357)},function(e,t,n){"use strict";n(148),n(149),n(756)},function(e,t,n){"use strict";n(1488),n(1491),n(149),n(356),n(358),n(757),n(357),n(1493),n(1494),n(1496),n(760),n(1497),n(758),n(1495),n(1490),n(759)},function(e,t,n){"use strict";n(62),n(148),n(75)},function(e,t,n){"use strict";n(62),n(148),n(149),n(75)},function(e,t,n){"use strict";n(62),n(126),n(75)},function(e,t,n){"use strict";n(62),n(148),n(75)},function(e,t,n){"use strict";n(760),n(370),n(269),n(75)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";n(263),n(762)},function(e,t,n){"use strict";function local(){return new Local}function Local(){this._="@"+(++r).toString(36)}var r=0;Local.prototype=local.prototype={constructor:Local,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},function(e,t,n){"use strict";var r=n(363),o=n(264);t.a=function(e){var t=n.i(r.a)();return t.changedTouches&&(t=t.changedTouches[0]),n.i(o.a)(e,t)}},function(e,t,n){"use strict";n(88)},function(e,t,n){"use strict";var r=n(263);t.a=function(e){var t="function"==typeof e?e:n.i(r.a)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},function(e,t,n){"use strict";function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function attrFunctionNS(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var r=n(359);t.a=function(e,t){var o=n.i(r.a)(e);if(arguments.length<2){var i=this.node();return o.local?i.getAttributeNS(o.space,o.local):i.getAttribute(o)}return this.each((null==t?o.local?attrRemoveNS:attrRemove:"function"==typeof t?o.local?attrFunctionNS:attrFunction:o.local?attrConstantNS:attrConstant)(o,t))}},function(e,t,n){"use strict";t.a=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},function(e,t,n){"use strict";function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}function classedAdd(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function classedRemove(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}ClassList.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.a=function(e,t){var n=classArray(e+"");if(arguments.length<2){for(var r=classList(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?classedFunction:t?classedTrue:classedFalse)(n,t))}},function(e,t,n){"use strict";function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}t.a=function(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}},function(e,t,n){"use strict";function bindIndex(e,t,n,r,i,a){for(var s,l=0,c=t.length,p=a.length;l<p;++l)(s=t[l])?(s.__data__=a[l],r[l]=s):n[l]=new o.b(e,a[l]);for(;l<c;++l)(s=t[l])&&(i[l]=s)}function bindKey(e,t,n,r,i,s,l){var c,p,d,u={},f=t.length,h=s.length,g=new Array(f);for(c=0;c<f;++c)(p=t[c])&&(g[c]=d=a+l.call(p,p.__data__,c,t),d in u?i[c]=p:u[d]=p);for(c=0;c<h;++c)d=a+l.call(e,s[c],c,s),(p=u[d])?(r[c]=p,p.__data__=s[c],u[d]=null):n[c]=new o.b(e,s[c]);for(c=0;c<f;++c)(p=t[c])&&u[g[c]]===p&&(i[c]=p)}var r=n(88),o=n(763),i=n(1498),a="$";t.a=function(e,t){if(!e)return m=new Array(this.size()),u=-1,this.each(function(e){m[++u]=e}),m;var o=t?bindKey:bindIndex,a=this._parents,s=this._groups;"function"!=typeof e&&(e=n.i(i.a)(e));for(var l=s.length,c=new Array(l),p=new Array(l),d=new Array(l),u=0;u<l;++u){var f=a[u],h=s[u],g=h.length,m=e.call(f,f&&f.__data__,u,a),v=m.length,b=p[u]=new Array(v),y=c[u]=new Array(v);o(f,h,b,y,d[u]=new Array(g),m,t);for(var x,C,R=0,S=0;R<v;++R)if(x=b[R]){for(R>=S&&(S=R+1);!(C=y[S])&&++S<v;);x._next=C||null}}return c=new r.a(c,a),c._enter=p,c._exit=d,c}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},function(e,t,n){"use strict";function dispatchEvent(e,t,o){var i=n.i(r.a)(e),a=i.CustomEvent;"function"==typeof a?a=new a(t,o):(a=i.document.createEvent("Event"),o?(a.initEvent(t,o.bubbles,o.cancelable),a.detail=o.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}var r=n(364);t.a=function(e,t){return this.each(("function"==typeof t?dispatchFunction:dispatchConstant)(e,t))}},function(e,t,n){"use strict";t.a=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}},function(e,t,n){"use strict";t.a=function(){return!this.node()}},function(e,t,n){"use strict";var r=n(764),o=n(88);t.a=function(){return new o.a(this._exit||this._groups.map(r.a),this._parents)}},function(e,t,n){"use strict";var r=n(88),o=n(761);t.a=function(e){"function"!=typeof e&&(e=n.i(o.a)(e));for(var t=this._groups,i=t.length,a=new Array(i),s=0;s<i;++s)for(var l,c=t[s],p=c.length,d=a[s]=[],u=0;u<p;++u)(l=c[u])&&e.call(l,l.__data__,u,c)&&d.push(l);return new r.a(a,this._parents)}},function(e,t,n){"use strict";function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?htmlRemove:("function"==typeof e?htmlFunction:htmlConstant)(e)):this.node().innerHTML}},function(e,t,n){"use strict";function constantNull(){return null}var r=n(263),o=n(362);t.a=function(e,t){var i="function"==typeof e?e:n.i(r.a)(e),a=null==t?constantNull:"function"==typeof t?t:n.i(o.a)(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o}},function(e,t,n){"use strict";function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}t.a=function(){return this.each(lower)}},function(e,t,n){"use strict";var r=n(88);t.a=function(e){for(var t=this._groups,n=e._groups,o=t.length,i=n.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,p=t[l],d=n[l],u=p.length,f=s[l]=new Array(u),h=0;h<u;++h)(c=p[h]||d[h])&&(f[h]=c);for(;l<o;++l)s[l]=t[l];return new r.a(s,this._parents)}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}},function(e,t,n){"use strict";t.a=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}},function(e,t,n){"use strict";function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}t.a=function(e,t){return arguments.length>1?this.each((null==t?propertyRemove:"function"==typeof t?propertyFunction:propertyConstant)(e,t)):this.node()[e]}},function(e,t,n){"use strict";function raise(){this.nextSibling&&this.parentNode.appendChild(this)}t.a=function(){return this.each(raise)}},function(e,t,n){"use strict";function remove(){var e=this.parentNode;e&&e.removeChild(this)}t.a=function(){return this.each(remove)}},function(e,t,n){"use strict";var r=n(88),o=n(362);t.a=function(e){"function"!=typeof e&&(e=n.i(o.a)(e));for(var t=this._groups,i=t.length,a=new Array(i),s=0;s<i;++s)for(var l,c,p=t[s],d=p.length,u=a[s]=new Array(d),f=0;f<d;++f)(l=p[f])&&(c=e.call(l,l.__data__,f,p))&&("__data__"in l&&(c.__data__=l.__data__),u[f]=c);return new r.a(a,this._parents)}},function(e,t,n){"use strict";var r=n(88),o=n(766);t.a=function(e){"function"!=typeof e&&(e=n.i(o.a)(e));for(var t=this._groups,i=t.length,a=[],s=[],l=0;l<i;++l)for(var c,p=t[l],d=p.length,u=0;u<d;++u)(c=p[u])&&(a.push(e.call(c,c.__data__,u,p)),s.push(c));return new r.a(a,s)}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.each(function(){++e}),e}},function(e,t,n){"use strict";function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var r=n(88);t.a=function(e){function compareNode(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=ascending);for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i){for(var a,s=t[i],l=s.length,c=o[i]=new Array(l),p=0;p<l;++p)(a=s[p])&&(c[p]=a);c.sort(compareNode)}return new r.a(o,this._parents).order()}},function(e,t,n){"use strict";function textRemove(){this.textContent=""}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?textRemove:("function"==typeof e?textFunction:textConstant)(e)):this.node().textContent}},function(e,t,n){"use strict";var r=n(363),o=n(264);t.a=function(e,t,i){arguments.length<3&&(i=t,t=n.i(r.a)().changedTouches);for(var a,s=0,l=t?t.length:0;s<l;++s)if((a=t[s]).identifier===i)return n.i(o.a)(e,a);return null}},function(e,t,n){"use strict";n(363),n(264)},function(e,t,n){"use strict";n(147),n(150),n(209)},function(e,t,n){"use strict";n(771),n(767),n(772)},function(e,t,n){"use strict";function BasisClosed(e){this._context=e}var r=n(268),o=n(265);BasisClosed.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:n.i(o.b)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},function(e,t,n){"use strict";function BasisOpen(e){this._context=e}var r=n(265);BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var o=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(o,i):this._context.moveTo(o,i);break;case 3:this._point=4;default:n.i(r.b)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},function(e,t,n){"use strict";function Bundle(e,t){this._basis=new r.a(e),this._beta=t}var r=n(265);Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,o=e[0],i=t[0],a=e[n]-o,s=t[n]-i,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(o+r*a),this._beta*t[l]+(1-this._beta)*(i+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};!function custom(e){function bundle(t){return 1===e?new r.a(t):new Bundle(t,e)}return bundle.beta=function(e){return custom(+e)},bundle}(.85)},function(e,t,n){"use strict";function CatmullRomClosed(e,t){this._context=e,this._alpha=t}var r=n(769),o=n(268),i=n(365);CatmullRomClosed.prototype={areaStart:o.a,areaEnd:o.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,o=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:n.i(i.a)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function custom(e){function catmullRom(t){return e?new CatmullRomClosed(t,e):new r.a(t,0)}return catmullRom.alpha=function(e){return custom(+e)},catmullRom}(.5)},function(e,t,n){"use strict";function CatmullRomOpen(e,t){this._context=e,this._alpha=t}var r=n(770),o=n(365);CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:n.i(o.a)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function custom(e){function catmullRom(t){return e?new CatmullRomOpen(t,e):new r.a(t,0)}return catmullRom.alpha=function(e){return custom(+e)},catmullRom}(.5)},function(e,t,n){"use strict";function LinearClosed(e){this._context=e}var r=n(268);LinearClosed.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},function(e,t,n){"use strict";function sign(e){return e<0?-1:1}function slope3(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(sign(i)+sign(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function point(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function MonotoneX(e){this._context=e}function MonotoneY(e){this._context=new ReflectContext(e)}function ReflectContext(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,n=slope3(this,e,t)),n);break;default:point(this,this._t0,n=slope3(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)},ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}}},function(e,t,n){"use strict";function Natural(e){this._context=e}function controlPoints(e){var t,n,r=e.length-1,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(o[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=controlPoints(e),o=controlPoints(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},function(e,t,n){"use strict";function Step(e,t){this._context=e,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},function(e,t,n){"use strict";t.a=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";n(1533),n(767),n(366),n(1555),n(1534),n(772),n(774),n(1547),n(1557),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(1535),n(1536),n(265),n(1537),n(769),n(770),n(266),n(1538),n(1539),n(365),n(1540),n(267),n(1541),n(1542),n(1543),n(1556),n(1549),n(1548),n(210),n(1550),n(1551),n(773),n(367),n(1552),n(1553),n(211),n(1554)},function(e,t,n){"use strict";n(147),n(768),n(150),n(368),n(774)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(210)},function(e,t,n){"use strict";n(210)},function(e,t,n){"use strict";n(210)},function(e,t,n){"use strict";n(367)},function(e,t,n){"use strict";n(773),n(367)},function(e,t,n){"use strict";n(211)},function(e,t,n){"use strict";n(150),n(1544),n(1545),n(209)},function(e,t,n){"use strict";n(768),n(150),n(210),n(211)},function(e,t,n){"use strict";var r=(n(147),n(775)),o=n(776),i=n(777),a=n(779),s=n(778),l=n(780),c=n(781);n(150),r.a,o.a,i.a,s.a,a.a,l.a,c.a},function(e,t,n){"use strict";function parseIsoNative(e){var t=new Date(e);return isNaN(t)?null:t}var r=n(782),o=n(369);+new Date("2000-01-01T00:00:00.000Z")||n.i(o.a)(r.a)},function(e,t,n){"use strict";var r=n(72),o=n(119),i=n.i(r.a)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.d)/o.b},function(e){return e.getDate()-1});t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),o=n(119),i=n.i(r.a)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o.e-e.getMinutes()*o.d)},function(e,t){e.setTime(+e+t*o.c)},function(e,t){return(t-e)/o.c},function(e){return e.getHours()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),o=n.i(r.a)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?n.i(r.a)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):o:null},t.a=o;o.range},function(e,t,n){"use strict";var r=n(72),o=n(119),i=n.i(r.a)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o.e)},function(e,t){e.setTime(+e+t*o.d)},function(e,t){return(t-e)/o.d},function(e){return e.getMinutes()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),o=n.i(r.a)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(72),o=n(119),i=n.i(r.a)(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*o.e)},function(e,t){return(t-e)/o.e},function(e){return e.getUTCSeconds()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),o=n(119),i=n.i(r.a)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/o.b},function(e){return e.getUTCDate()-1});t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),o=n(119),i=n.i(r.a)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*o.c)},function(e,t){return(t-e)/o.c},function(e){return e.getUTCHours()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),o=n(119),i=n.i(r.a)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*o.d)},function(e,t){return(t-e)/o.d},function(e){return e.getUTCMinutes()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(72),o=n.i(r.a)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});t.a=o;o.range},function(e,t,n){"use strict";function utcWeekday(e){return n.i(r.a)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/o.a})}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c});var r=n(72),o=n(119),i=utcWeekday(0),a=utcWeekday(1),s=utcWeekday(2),l=utcWeekday(3),c=utcWeekday(4),p=utcWeekday(5),d=utcWeekday(6);i.range,a.range,s.range,l.range,c.range,p.range,d.range},function(e,t,n){"use strict";var r=n(72),o=n.i(r.a)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});o.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.a)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},t.a=o;o.range},function(e,t,n){"use strict";function weekday(e){return n.i(r.a)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.d)/o.a})}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c});var r=n(72),o=n(119),i=weekday(0),a=weekday(1),s=weekday(2),l=weekday(3),c=weekday(4),p=weekday(5),d=weekday(6);i.range,a.range,s.range,l.range,c.range,p.range,d.range},function(e,t,n){"use strict";var r=n(72),o=n.i(r.a)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});o.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.a)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},t.a=o;o.range},function(e,t,n){"use strict";n(371)},function(e,t,n){"use strict";var r=n(371);t.a=function(e,t,n){var o=new r.b;return t=null==t?0:+t,o.restart(function(n){o.stop(),e(n+t)},t,n),o}},function(e,t,n){"use strict";n(127),n(78)},function(e,t,n){"use strict";var r=n(63),o=n(1577),i=n(1578);r.f.prototype.interrupt=o.a,r.f.prototype.transition=i.a},function(e,t,n){"use strict";var r=n(784);t.a=function(e){return this.each(function(){n.i(r.a)(this,e)})}},function(e,t,n){"use strict";function inherit(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return s.time=n.i(a.c)(),s;return r}var r=n(127),o=n(78),i=n(721),a=n(270),s={time:null,delay:0,duration:250,ease:i.a};t.a=function(e){var t,i;e instanceof r.a?(t=e._id,e=e._name):(t=n.i(r.b)(),(i=s).time=n.i(a.c)(),e=null==e?null:e+"");for(var l=this._groups,c=l.length,p=0;p<c;++p)for(var d,u=l[p],f=u.length,h=0;h<f;++h)(d=u[h])&&n.i(o.h)(d,e,t,h,u,i||inherit(d,t));return new r.a(l,this._parents,e,t)}},function(e,t,n){"use strict";function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function attrConstantNS(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function attrFunction(e,t,n){var r,o,i;return function(){var a,s,l=n(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===r&&s===o?i:(o=s,i=t(r=a,l)))}}function attrFunctionNS(e,t,n){var r,o,i;return function(){var a,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===r&&s===o?i:(o=s,i=t(r=a,l)))}}var r=n(104),o=n(63),i=n(271),a=n(785);t.a=function(e,t){var s=n.i(o.h)(e),l="transform"===s?r.f:a.a;return this.attrTween(e,"function"==typeof t?(s.local?attrFunctionNS:attrFunction)(s,l,n.i(i.b)(this,"attr."+e,t)):null==t?(s.local?attrRemoveNS:attrRemove)(s):(s.local?attrConstantNS:attrConstant)(s,l,t))}},function(e,t,n){"use strict";function attrInterpolate(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function attrInterpolateNS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function attrTweenNS(e,t){function tween(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&attrInterpolateNS(e,o)),n}var n,r;return tween._value=t,tween}function attrTween(e,t){function tween(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&attrInterpolate(e,o)),n}var n,r;return tween._value=t,tween}var r=n(63);t.a=function(e,t){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!=typeof t)throw new Error;var i=n.i(r.h)(e);return this.tween(o,(i.local?attrTweenNS:attrTween)(i,t))}},function(e,t,n){"use strict";function delayFunction(e,t){return function(){n.i(r.g)(this,e).delay=+t.apply(this,arguments)}}function delayConstant(e,t){return t=+t,function(){n.i(r.g)(this,e).delay=t}}var r=n(78);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?delayFunction:delayConstant)(t,e)):n.i(r.f)(this.node(),t).delay}},function(e,t,n){"use strict";function durationFunction(e,t){return function(){n.i(r.e)(this,e).duration=+t.apply(this,arguments)}}function durationConstant(e,t){return t=+t,function(){n.i(r.e)(this,e).duration=t}}var r=n(78);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?durationFunction:durationConstant)(t,e)):n.i(r.f)(this.node(),t).duration}},function(e,t,n){"use strict";function easeConstant(e,t){if("function"!=typeof t)throw new Error;return function(){n.i(r.e)(this,e).ease=t}}var r=n(78);t.a=function(e){var t=this._id;return arguments.length?this.each(easeConstant(t,e)):n.i(r.f)(this.node(),t).ease}},function(e,t,n){"use strict";var r=n(78);t.a=function(){var e,t,o=this,i=o._id,a=o.size();return new Promise(function(s,l){var c={value:l},p={value:function(){0==--a&&s()}};o.each(function(){var o=n.i(r.e)(this,i),a=o.on;a!==e&&(t=(e=a).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(p)),o.on=t})})}},function(e,t,n){"use strict";var r=n(63),o=n(127);t.a=function(e){"function"!=typeof e&&(e=n.i(r.i)(e));for(var t=this._groups,i=t.length,a=new Array(i),s=0;s<i;++s)for(var l,c=t[s],p=c.length,d=a[s]=[],u=0;u<p;++u)(l=c[u])&&e.call(l,l.__data__,u,c)&&d.push(l);return new o.a(a,this._parents,this._name,this._id)}},function(e,t,n){"use strict";var r=n(127);t.a=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,p=t[l],d=n[l],u=p.length,f=s[l]=new Array(u),h=0;h<u;++h)(c=p[h]||d[h])&&(f[h]=c);for(;l<o;++l)s[l]=t[l];return new r.a(s,this._parents,this._name,this._id)}},function(e,t,n){"use strict";function start(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function onFunction(e,t,n){var o,i,a=start(t)?r.g:r.e;return function(){var r=a(this,e),s=r.on;s!==o&&(i=(o=s).copy()).on(t,n),r.on=i}}var r=n(78);t.a=function(e,t){var o=this._id;return arguments.length<2?n.i(r.f)(this.node(),o).on.on(e):this.each(onFunction(o,e,t))}},function(e,t,n){"use strict";function removeFunction(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}t.a=function(){return this.on("end.remove",removeFunction(this._id))}},function(e,t,n){"use strict";var r=n(63),o=n(127),i=n(78);t.a=function(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=n.i(r.k)(e));for(var s=this._groups,l=s.length,c=new Array(l),p=0;p<l;++p)for(var d,u,f=s[p],h=f.length,g=c[p]=new Array(h),m=0;m<h;++m)(d=f[m])&&(u=e.call(d,d.__data__,m,f))&&("__data__"in d&&(u.__data__=d.__data__),g[m]=u,n.i(i.h)(g[m],t,a,m,g,n.i(i.f)(d,a)));return new o.a(c,this._parents,t,a)}},function(e,t,n){"use strict";var r=n(63),o=n(127),i=n(78);t.a=function(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=n.i(r.j)(e));for(var s=this._groups,l=s.length,c=[],p=[],d=0;d<l;++d)for(var u,f=s[d],h=f.length,g=0;g<h;++g)if(u=f[g]){for(var m,v=e.call(u,u.__data__,g,f),b=n.i(i.f)(u,a),y=0,x=v.length;y<x;++y)(m=v[y])&&n.i(i.h)(m,t,a,y,v,b);c.push(v),p.push(u)}return new o.a(c,p,t,a)}},function(e,t,n){"use strict";var r=n(63),o=r.f.prototype.constructor;t.a=function(){return new o(this._groups,this._parents)}},function(e,t,n){"use strict";function styleNull(e,t){var r,i,a;return function(){var s=n.i(o.g)(this,e),l=(this.style.removeProperty(e),n.i(o.g)(this,e));return s===l?null:s===r&&l===i?a:a=t(r=s,i=l)}}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,r){var i,a,s=r+"";return function(){var l=n.i(o.g)(this,e);return l===s?null:l===i?a:a=t(i=l,r)}}function styleFunction(e,t,r){var i,a,s;return function(){var l=n.i(o.g)(this,e),c=r(this),p=c+"";return null==c&&(this.style.removeProperty(e),p=c=n.i(o.g)(this,e)),l===p?null:l===i&&p===a?s:(a=p,s=t(i=l,c))}}function styleMaybeRemove(e,t){var r,o,a,s,l="style."+t,c="end."+l;return function(){var p=n.i(i.e)(this,e),d=p.on,u=null==p.value[l]?s||(s=styleRemove(t)):void 0;d===r&&a===u||(o=(r=d).copy()).on(c,a=u),p.on=o}}var r=n(104),o=n(63),i=n(78),a=n(271),s=n(785);t.a=function(e,t,o){var i="transform"==(e+="")?r.b:s.a;return null==t?this.styleTween(e,styleNull(e,i)).on("end.style."+e,styleRemove(e)):"function"==typeof t?this.styleTween(e,styleFunction(e,i,n.i(a.b)(this,"style."+e,t))).each(styleMaybeRemove(this._id,e)):this.styleTween(e,styleConstant(e,i,t),o).on("end.style."+e,null)}},function(e,t,n){"use strict";function styleInterpolate(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function styleTween(e,t,n){function tween(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&styleInterpolate(e,i,n)),r}var r,o;return tween._value=t,tween}t.a=function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,styleTween(e,t,null==n?"":n))}},function(e,t,n){"use strict";function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e(this);this.textContent=null==t?"":t}}var r=n(271);t.a=function(e){return this.tween("text","function"==typeof e?textFunction(n.i(r.b)(this,"text",e)):textConstant(null==e?"":e+""))}},function(e,t,n){"use strict";function textInterpolate(e){return function(t){this.textContent=e.call(this,t)}}function textTween(e){function tween(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&textInterpolate(r)),t}var t,n;return tween._value=e,tween}t.a=function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,textTween(e))}},function(e,t,n){"use strict";var r=n(127),o=n(78);t.a=function(){for(var e=this._name,t=this._id,i=n.i(r.b)(),a=this._groups,s=a.length,l=0;l<s;++l)for(var c,p=a[l],d=p.length,u=0;u<d;++u)if(c=p[u]){var f=n.i(o.f)(c,t);n.i(o.h)(c,e,i,u,p,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.a(a,this._parents,e,i)}},function(e,t,n){"use strict";function Beach(){n.i(r.b)(this),this.edge=this.site=this.circle=null}function createBeach(e){var t=l.pop()||new Beach;return t.site=e,t}function detachBeach(e){n.i(i.b)(e),s.e.remove(e),l.push(e),n.i(r.b)(e)}function removeBeach(e){var t=e.circle,r=t.x,o=t.cy,l=[r,o],c=e.P,p=e.N,d=[e];detachBeach(e);for(var u=c;u.circle&&Math.abs(r-u.circle.x)<s.b&&Math.abs(o-u.circle.cy)<s.b;)c=u.P,d.unshift(u),detachBeach(u),u=c;d.unshift(u),n.i(i.b)(u);for(var f=p;f.circle&&Math.abs(r-f.circle.x)<s.b&&Math.abs(o-f.circle.cy)<s.b;)p=f.N,d.push(f),detachBeach(f),f=p;d.push(f),n.i(i.b)(f);var h,g=d.length;for(h=1;h<g;++h)f=d[h],u=d[h-1],n.i(a.c)(f.edge,u.site,f.site,l);u=d[0],f=d[g-1],f.edge=n.i(a.d)(u.site,f.site,null,l),n.i(i.c)(u),n.i(i.c)(f)}function addBeach(e){for(var t,r,l,c,p=e[0],d=e[1],u=s.e._;u;)if((l=leftBreakPoint(u,d)-p)>s.b)u=u.L;else{if(!((c=p-rightBreakPoint(u,d))>s.b)){l>-s.b?(t=u.P,r=u):c>-s.b?(t=u,r=u.N):t=r=u;break}if(!u.R){t=u;break}u=u.R}n.i(o.d)(e);var f=createBeach(e);if(s.e.insert(t,f),t||r){if(t===r)return n.i(i.b)(t),r=createBeach(t.site),s.e.insert(f,r),f.edge=r.edge=n.i(a.d)(t.site,f.site),n.i(i.c)(t),void n.i(i.c)(r);if(!r)return void(f.edge=n.i(a.d)(t.site,f.site));n.i(i.b)(t),n.i(i.b)(r);var h=t.site,g=h[0],m=h[1],v=e[0]-g,b=e[1]-m,y=r.site,x=y[0]-g,C=y[1]-m,R=2*(v*C-b*x),S=v*v+b*b,P=x*x+C*C,E=[(C*S-b*P)/R+g,(v*P-x*S)/R+m];n.i(a.c)(r.edge,h,y,E),f.edge=n.i(a.d)(h,e,null,E),r.edge=n.i(a.d)(e,y,null,E),n.i(i.c)(t),n.i(i.c)(r)}}function leftBreakPoint(e,t){var n=e.site,r=n[0],o=n[1],i=o-t;if(!i)return r;var a=e.P;if(!a)return-1/0;n=a.site;var s=n[0],l=n[1],c=l-t;if(!c)return s;var p=s-r,d=1/i-1/c,u=p/c;return d?(-u+Math.sqrt(u*u-2*d*(p*p/(-2*c)-l+c/2+o-i/2)))/d+r:(r+s)/2}function rightBreakPoint(e,t){var n=e.N;if(n)return leftBreakPoint(n,t);var r=e.site;return r[1]===t?r[0]:1/0}t.b=removeBeach,t.a=addBeach;var r=n(374),o=n(786),i=n(787),a=n(373),s=n(212),l=[]},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";n(1601)},function(e,t,n){"use strict";function x(e){return e[0]}function y(e){return e[1]}t.a=x,t.b=y},function(e,t,n){"use strict";n(1598),n(1600),n(212)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function ZoomEvent(e,t,n){this.target=e,this.type=t,this.transform=n}t.a=ZoomEvent},function(e,t,n){"use strict";var r=n(1606);n.d(t,"a",function(){return r.a});n(788)},function(e,t,n){"use strict";function nopropagation(){r.a.stopImmediatePropagation()}t.b=nopropagation;var r=n(63);t.a=function(){r.a.preventDefault(),r.a.stopImmediatePropagation()}},function(e,t,n){"use strict";function defaultFilter(){return!a.a.ctrlKey&&!a.a.button}function defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||p.a}function defaultWheelDelta(){return-a.a.deltaY*(1===a.a.deltaMode?.05:a.a.deltaMode?1:.002)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}var r=n(171),o=n(338),i=n(104),a=n(63),s=n(372),l=n(1602),c=n(1603),p=n(788),d=n(1605);t.a=function(){function zoom(e){e.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(m).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(e,t){return t=Math.max(v[0],Math.min(v[1],t)),t===e.k?e:new p.b(t,e.x,e.y)}function translate(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new p.b(e.k,r,o)}function centroid(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function schedule(e,t,n){e.on("start.zoom",function(){gesture(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){gesture(this,arguments).end()}).tween("zoom",function(){var e=this,r=arguments,o=gesture(e,r),i=f.apply(e,r),a=null==n?centroid(i):"function"==typeof n?n.apply(e,r):n,s=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),l=e.__zoom,c="function"==typeof t?t.apply(e,r):t,d=x(l.invert(a).concat(s/l.k),c.invert(a).concat(s/c.k));return function(e){if(1===e)e=c;else{var t=d(e),n=s/t[2];e=new p.b(n,a[0]-t[0]*n,a[1]-t[1]*n)}o.zoom(null,e)}})}function gesture(e,t,n){return!n&&e.__zooming||new Gesture(e,t)}function Gesture(e,t){this.that=e,this.args=t,this.active=0,this.extent=f.apply(e,t),this.taps=0}function wheeled(){function wheelidled(){e.wheel=null,e.end()}if(u.apply(this,arguments)){var e=gesture(this,arguments),t=this.__zoom,r=Math.max(v[0],Math.min(v[1],t.k*Math.pow(2,g.apply(this,arguments)))),o=n.i(a.c)(this);if(e.wheel)e.mouse[0][0]===o[0]&&e.mouse[0][1]===o[1]||(e.mouse[1]=t.invert(e.mouse[0]=o)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[o,t.invert(o)],n.i(s.a)(this),e.start()}n.i(d.a)(),e.wheel=setTimeout(wheelidled,S),e.zoom("mouse",h(translate(scale(t,r),e.mouse[0],e.mouse[1]),e.extent,b))}}function mousedowned(){function mousemoved(){if(n.i(d.a)(),!e.moved){var t=a.a.clientX-l,r=a.a.clientY-c;e.moved=t*t+r*r>P}e.zoom("mouse",h(translate(e.that.__zoom,e.mouse[0]=n.i(a.c)(e.that),e.mouse[1]),e.extent,b))}function mouseupped(){r.on("mousemove.zoom mouseup.zoom",null),n.i(o.b)(a.a.view,e.moved),n.i(d.a)(),e.end()}if(!t&&u.apply(this,arguments)){var e=gesture(this,arguments,!0),r=n.i(a.d)(a.a.view).on("mousemove.zoom",mousemoved,!0).on("mouseup.zoom",mouseupped,!0),i=n.i(a.c)(this),l=a.a.clientX,c=a.a.clientY;n.i(o.a)(a.a.view),n.i(d.b)(),e.mouse=[i,this.__zoom.invert(i)],n.i(s.a)(this),e.start()}}function dblclicked(){if(u.apply(this,arguments)){var e=this.__zoom,t=n.i(a.c)(this),r=e.invert(t),o=e.k*(a.a.shiftKey?.5:2),i=h(translate(scale(e,o),t,r),f.apply(this,arguments),b);n.i(d.a)(),y>0?n.i(a.d)(this).transition().duration(y).call(schedule,i,t):n.i(a.d)(this).call(zoom.transform,i)}}function touchstarted(){if(u.apply(this,arguments)){var t,r,o,i,l=a.a.touches,c=l.length,p=gesture(this,arguments,a.a.changedTouches.length===c);for(n.i(d.b)(),r=0;r<c;++r)o=l[r],i=n.i(a.e)(this,l,o.identifier),i=[i,this.__zoom.invert(i),o.identifier],p.touch0?p.touch1||p.touch0[2]===i[2]||(p.touch1=i,p.taps=0):(p.touch0=i,t=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(p.taps<2&&(e=setTimeout(function(){e=null},R)),n.i(s.a)(this),p.start())}}function touchmoved(){if(this.__zooming){var t,r,o,i,s=gesture(this,arguments),l=a.a.changedTouches,c=l.length;for(n.i(d.a)(),e&&(e=clearTimeout(e)),s.taps=0,t=0;t<c;++t)r=l[t],o=n.i(a.e)(this,l,r.identifier),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var p=s.touch0[0],u=s.touch0[1],f=s.touch1[0],g=s.touch1[1],m=(m=f[0]-p[0])*m+(m=f[1]-p[1])*m,v=(v=g[0]-u[0])*v+(v=g[1]-u[1])*v;r=scale(r,Math.sqrt(m/v)),o=[(p[0]+f[0])/2,(p[1]+f[1])/2],i=[(u[0]+g[0])/2,(u[1]+g[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],i=s.touch0[1]}s.zoom("touch",h(translate(r,o,i),s.extent,b))}}function touchended(){if(this.__zooming){var e,r,o=gesture(this,arguments),i=a.a.changedTouches,s=i.length;for(n.i(d.b)(),t&&clearTimeout(t),t=setTimeout(function(){t=null},R),e=0;e<s;++e)r=i[e],o.touch0&&o.touch0[2]===r.identifier?delete o.touch0:o.touch1&&o.touch1[2]===r.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps){var l=n.i(a.d)(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}var e,t,u=defaultFilter,f=defaultExtent,h=defaultConstrain,g=defaultWheelDelta,m=defaultTouchable,v=[0,1/0],b=[[-1/0,-1/0],[1/0,1/0]],y=250,x=i.a,C=n.i(r.a)("start","zoom","end"),R=500,S=150,P=0;return zoom.transform=function(e,t,n){var r=e.selection?e.selection():e;r.property("__zoom",defaultTransform),e!==r?schedule(e,t,n):r.interrupt().each(function(){gesture(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},zoom.scaleBy=function(e,t,n){zoom.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n)},zoom.scaleTo=function(e,t,n){zoom.transform(e,function(){var e=f.apply(this,arguments),r=this.__zoom,o=null==n?centroid(e):"function"==typeof n?n.apply(this,arguments):n,i=r.invert(o),a="function"==typeof t?t.apply(this,arguments):t;return h(translate(scale(r,a),o,i),e,b)},n)},zoom.translateBy=function(e,t,n){zoom.transform(e,function(){return h(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),f.apply(this,arguments),b)})},zoom.translateTo=function(e,t,n,r){zoom.transform(e,function(){var e=f.apply(this,arguments),o=this.__zoom,i=null==r?centroid(e):"function"==typeof r?r.apply(this,arguments):r;return h(p.a.translate(i[0],i[1]).scale(o.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,b)},r)},Gesture.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){n.i(a.b)(new c.a(zoom,e,this.that.__zoom),C.apply,C,[e,this.that,this.args])}},zoom.wheelDelta=function(e){return arguments.length?(g="function"==typeof e?e:n.i(l.a)(+e),zoom):g},zoom.filter=function(e){return arguments.length?(u="function"==typeof e?e:n.i(l.a)(!!e),zoom):u},zoom.touchable=function(e){return arguments.length?(m="function"==typeof e?e:n.i(l.a)(!!e),zoom):m},zoom.extent=function(e){return arguments.length?(f="function"==typeof e?e:n.i(l.a)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),zoom):f},zoom.scaleExtent=function(e){return arguments.length?(v[0]=+e[0],v[1]=+e[1],zoom):[v[0],v[1]]},zoom.translateExtent=function(e){return arguments.length?(b[0][0]=+e[0][0],b[1][0]=+e[1][0],b[0][1]=+e[0][1],b[1][1]=+e[1][1],zoom):[[b[0][0],b[0][1]],[b[1][0],b[1][1]]]},zoom.constrain=function(e){return arguments.length?(h=e,zoom):h},zoom.duration=function(e){return arguments.length?(y=+e,zoom):y},zoom.interpolate=function(e){return arguments.length?(x=e,zoom):x},zoom.on=function(){var e=C.on.apply(C,arguments);return e===C?zoom:e},zoom.clickDistance=function(e){return arguments.length?(P=(e=+e)*e,zoom):Math.sqrt(P)},zoom}},function(e,t,n){"use strict"},function(e,t){},function(e,t,n){e.exports=n.p+"example.png"},function(e,t,n){e.exports=n.p+"custom_content.html"},function(e,t,n){e.exports=n.p+"vbconfig.js"},function(e,t,n){e.exports=n.p+"assets/images/flag_ar.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_be.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_bg.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_bn.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_cs.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_da.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_de.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_el.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_en-gb.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_en-us.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_en.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_es.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_et.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_fa.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_fi.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_fr.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_ga.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_hi.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_hr.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_hu.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_hy.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_id.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_it.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_ja.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_ka.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_km.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_ko.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_kz.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_lt.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_lv.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_nl.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_no.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_pl.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_pt.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_ro.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_ru.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_sk.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_sl.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_sq.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_sr.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_sv.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_th.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_tr.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_uk.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_vi.png"},function(e,t,n){e.exports=n.p+"assets/images/flag_zh.png"},function(e,t,n){e.exports=n.p+"assets/images/annotationProperty_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/conceptScheme_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/conceptScheme_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/concept_addChild.png"},function(e,t,n){e.exports=n.p+"assets/images/concept_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/concept_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/datatypeProperty_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/objectProperty_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/ontolexLexicalEntry_create.png"},function(e,t,n){e.exports=n.p+"assets/images/ontolexLexicalEntry_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/ontolexLexicalEntry_deprecate.png"},function(e,t,n){e.exports=n.p+"assets/images/ontologyProperty_delete.png"},function(e,t,n){e.exports=n.p+"assets/images/boolean.png"},function(e,t,n){e.exports=n.p+"assets/images/class_defvoc.png"},function(e,t,n){e.exports=n.p+"assets/images/class_defvoc_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/class_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/class_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/class_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/collection.png"},function(e,t,n){e.exports=n.p+"assets/images/collection_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/collection_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/collection_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/concept.png"},function(e,t,n){e.exports=n.p+"assets/images/conceptScheme.png"},function(e,t,n){e.exports=n.p+"assets/images/conceptScheme_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/conceptScheme_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/conceptScheme_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/concept_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/concept_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/concept_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/datatype.png"},function(e,t,n){e.exports=n.p+"assets/images/datatype_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/datatype_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/datatype_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/date.png"},function(e,t,n){e.exports=n.p+"assets/images/datetime.png"},function(e,t,n){e.exports=n.p+"assets/images/individual.png"},function(e,t,n){e.exports=n.p+"assets/images/individual_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/individual_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/individual_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/lexEntry.png"},function(e,t,n){e.exports=n.p+"assets/images/lexEntry_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/lexEntry_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/lexEntry_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/lexForm.png"},function(e,t,n){e.exports=n.p+"assets/images/lexForm_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/lexForm_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/lexForm_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/lexicon.png"},function(e,t,n){e.exports=n.p+"assets/images/lexicon_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/lexicon_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/lexicon_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/mention.png"},function(e,t,n){e.exports=n.p+"assets/images/number.png"},function(e,t,n){e.exports=n.p+"assets/images/ontolexLexicalSense.png"},function(e,t,n){e.exports=n.p+"assets/images/ontolexLexicalSense_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/ontolexLexicalSense_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/ontolexLexicalSense_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/orderedCollection.png"},function(e,t,n){e.exports=n.p+"assets/images/orderedCollection_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/orderedCollection_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/orderedCollection_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/propAnnotation_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/propAnnotation_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/propAnnotation_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/propDatatype_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/propDatatype_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/propDatatype_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/propObject_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/propObject_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/propObject_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/propOntology_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/propOntology_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/propOntology_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/prop_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/prop_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/prop_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/string.png"},function(e,t,n){e.exports=n.p+"assets/images/time.png"},function(e,t,n){e.exports=n.p+"assets/images/unknown_datatype.png"},function(e,t,n){e.exports=n.p+"assets/images/untyped_individual.png"},function(e,t,n){e.exports=n.p+"assets/images/xLabel.png"},function(e,t,n){e.exports=n.p+"assets/images/xLabel_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/xLabel_imported.png"},function(e,t,n){e.exports=n.p+"assets/images/xLabel_imported_deprecated.png"},function(e,t,n){e.exports=n.p+"assets/images/european_commission_logo.gif"},function(e,t,n){e.exports=n.p+"assets/images/infeurope-blue-logo.png"},function(e,t,n){e.exports=n.p+"assets/images/logo_tor_vergata.png"},function(e,t,n){e.exports=n.p+"assets/images/publications_office_eu_logo.png"},function(e,t,n){e.exports=n.p+"assets/images/user.svg"},function(e,t,n){e.exports=n.p+"assets/images/vb_logo.png"},function(e,t,n){e.exports=n.p+"assets/images/res_view_splitted.jpg"},function(e,t,n){e.exports=n.p+"assets/images/res_view_tabbed.jpg"},function(e,t){e.exports='<div class="vbox">\r\n    <div class="btn-group pull-right" style="margin-bottom: 5px">\r\n        <button *ngIf="isAdmin()" class="btn btn-default" [routerLink]="[\'/Administration/Users\']" routerLinkActive="active">Users</button>\r\n        <button class="btn btn-default" [routerLink]="[\'/Administration/Projects\']" routerLinkActive="active"\r\n            [disabled]="!isProjManagementAuthorized()">Projects</button>\r\n        <button class="btn btn-default" [routerLink]="[\'/Administration/Roles\']" routerLinkActive="active" \r\n            [disabled]="!isRoleManagementAuthorized()">Roles</button>\r\n        <button *ngIf="isAdmin()" class="btn btn-default" [routerLink]="[\'/Administration/Groups\']" routerLinkActive="active">Groups</button>\r\n        <button *ngIf="isAdmin()" class="btn btn-default" [routerLink]="[\'/Administration/Configuration\']" routerLinkActive="active">Configuration</button>\r\n    </div>\r\n    <router-outlet></router-outlet>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox table-responsive">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Short name *</label></td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="shortName"></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Full name</label></td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="fullName"></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Description</label></td>\r\n                <td><textarea class="form-control input-sm" style="resize: vertical" [(ngModel)]="description"></textarea></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Web page</label></td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="webPage"></td>\r\n            </tr>\r\n            \x3c!-- <tr>\r\n                <td nowrap><label>Logo url:</label></td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="logoUrl"></td>\r\n            </tr> --\x3e\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isDataValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>\r\n\r\n'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n\r\n    <div class="panel-body hbox">\r\n\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1;">Groups:</label>\r\n                <div class="btn-group btn-group-xs">\r\n                    <button class="btn btn-default" (click)="createGroup()" title="Create group">\r\n                        <span class="glyphicon glyphicon-plus"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" (click)="deleteGroup()" title="Delete group" [disabled]="!selectedGroup">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" (click)="editGroup()" title="Edit group" [disabled]="!selectedGroup">\r\n                        <span class="glyphicon glyphicon-pencil"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body vbox scrollableContainer">\r\n                <div *ngFor="let g of groupList" class="listItem" (click)="selectGroup(g)" [ngClass]="{active: g == selectedGroup}">\r\n                    <span>{{g.shortName}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default vbox" style="flex: 2; margin-left: 5px;">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1;">Group description:</label>\r\n            </div>\r\n            <div class="panel-body vbox scrollableContainer">\r\n                <div *ngIf="selectedGroup">\r\n                    <table class="table table-condensed table-borderless">\r\n                        <colgroup>\r\n                            <col style="width: 1%">\r\n                            <col>\r\n                        </colgroup>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td nowrap><label>Short name:</label></td>\r\n                                <td><input class="form-control input-sm" [(ngModel)]="selectedGroup.shortName" readonly></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td nowrap><label>Full name:</label></td>\r\n                                <td><input class="form-control input-sm" [(ngModel)]="selectedGroup.fullName" readonly></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td nowrap><label>Description:</label></td>\r\n                                <td><textarea class="form-control input-sm" style="resize: vertical" rows="3" [(ngModel)]="selectedGroup.description" readonly></textarea></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td nowrap><label>Web page:</label></td>\r\n                                <td><input class="form-control input-sm" [(ngModel)]="selectedGroup.webPage" readonly></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="hbox">\r\n\r\n    <div class="panel panel-alt vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Groups:</label>\r\n        </div>\r\n        <div class="panel-body vbox scrollableContainer">\r\n            <div *ngFor="let g of groups" class="listItem" [ngClass]="{active: g == selectedGroup}" (click)="selectGroup(g)">\r\n                <span style="flex: 1">{{g.shortName}}</span>\r\n            </div> \r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="project && selectedGroup" class="panel panel-alt vbox" style="margin-left: 5px; flex: 3;">\r\n        <div class="panel-heading">\r\n            <label>Project-Group settings:</label>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n\r\n            <div *ngIf="projectClosed; else elseBlock" class="alert alert-warning">\r\n                Project {{project.getName()}} is closed. It is possible to edit group settings only for open projects.\r\n            </div>\r\n\r\n            <ng-template #elseBlock>\r\n                <div class="vbox" *ngIf="isProjectSkosCompliant(); else owlBlock">\r\n                    <div class="hbox" style="margin-bottom: 6px; align-items: center; flex: initial;">\r\n                        <span class="glyphicon glyphicon-info-sign" title="Base broader property to be selected when creating narrower concepts"></span>\r\n                        <label style="white-space: nowrap; margin: 0px 4px;">\r\n                            Base broader property:\r\n                        </label>\r\n                        <div class="input-group input-group-sm" style="flex: 1;">\r\n                            <input type="text" class="form-control" [ngModel]="baseBroaderProp" readonly>\r\n                            <div class="input-group-btn">\r\n                                <button class="btn btn-default" (click)="changeBaseBroaderProperty()">\r\n                                    <img src="'+n(276)+'"/>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="panel panel-default vbox">\r\n                        <div class="panel-heading">\r\n                            <label>\r\n                                Management of broader/narrower\r\n                                <span class="glyphicon glyphicon-info-sign" title="Customizes the properties on which the concept tree hierarchy is based on.\r\nIf none of broader/narrower properties is selected, then skos:broader^ and skos:narrower will be used (in OR) to check narrower concepts.\r\nIf any of the two is selected (with one or more properties), then only the selected properties will be used.">\r\n                                </span>\r\n                            </label>\r\n                        </div>\r\n                        <div class="panel-body vbox">\r\n        \r\n                            <div class="hbox">\r\n                                <div class="panel panel-alt vbox">\r\n                                    <div class="panel-heading">\r\n                                        <label style="flex:1">Broader</label>\r\n                                        <div class="btn-toolbar" role="toolbar">\r\n                                            <div class="btn-group btn-group-xs">\r\n                                                <button class="btn btn-default" (click)="addBroader()">\r\n                                                    <span class="glyphicon glyphicon-plus"></span>\r\n                                                </button>\r\n                                                <button class="btn btn-default" (click)="removeBroader()" [disabled]="!selectedBroader">\r\n                                                    <span class="glyphicon glyphicon-minus"></span>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="panel-body vbox" style="min-height: 70px;">\r\n                                        <resource-list [resources]="broaderProps" (nodeSelected)="selectedBroader = $event"></resource-list>\r\n                                    </div>\r\n                                </div>\r\n        \r\n                                <div class="panel panel-alt vbox" style="margin-left: 4px;">\r\n                                    <div class="panel-heading">\r\n                                        <label style="flex:1">Narrower</label>\r\n                                        <div class="btn-toolbar" role="toolbar">\r\n                                            <div class="btn-group btn-group-xs">\r\n                                                <button class="btn btn-default" (click)="addNarrower()">\r\n                                                    <span class="glyphicon glyphicon-plus"></span>\r\n                                                </button>\r\n                                                <button class="btn btn-default" (click)="removeNarrower()" [disabled]="!selectedNarrower">\r\n                                                    <span class="glyphicon glyphicon-minus"></span>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="panel-body vbox" style="min-height: 70px;">\r\n                                        <resource-list [resources]="narrowerProps" (nodeSelected)="selectedNarrower = $event"></resource-list>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n        \r\n                            <div style="margin-top: 5px;">\r\n                                <div class="checkbox-inline">\r\n                                    <label>\r\n                                        <input type="checkbox" [(ngModel)]="syncInverse" (ngModelChange)="onSyncChange()">Sync inverse properties\r\n                                    </label>\r\n                                    <span class="glyphicon glyphicon-info-sign" title="Keep synced the broader/narrower properties with their inverse properties">\r\n                                    </span>\r\n                                </div>\r\n                                <div class="checkbox-inline">\r\n                                    <label>\r\n                                        <input type="checkbox" [(ngModel)]="includeSubProps" (ngModelChange)="onIncludeSubPropsChange()">Include subProperties\r\n                                    </label>\r\n                                    <span class="glyphicon glyphicon-info-sign"\r\n                                        title="Includes the subProperties of the selected broader/narrower properties">\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n        \r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="panel panel-default vbox" style="margin-top: 4px;">\r\n                        <div class="panel-heading">\r\n                            <label style="flex:1">\r\n                                ConceptScheme authorizations\r\n                                <span class="glyphicon glyphicon-info-sign" title="Determines which ConceptScheme the group is authorized to work with."></span>\r\n                            </label>\r\n                            <div class="btn-toolbar" role="toolbar">\r\n                                <div class="btn-group btn-group-xs">\r\n                                    <button class="btn btn-default" (click)="addScheme()">\r\n                                        <span class="glyphicon glyphicon-plus"></span>\r\n                                    </button>\r\n                                    <button class="btn btn-default" (click)="removeScheme()" [disabled]="!selectedScheme">\r\n                                        <span class="glyphicon glyphicon-minus"></span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="panel-body vbox">\r\n                            <resource-list [resources]="ownedSchemes" (nodeSelected)="selectedScheme = $event"></resource-list>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <ng-template #owlBlock>\r\n                    <div class="alert alert-warning">\r\n                        Project {{project.getName()}} adopts OWL model. Currently it is possible to edit group settings only for SKOS projects.\r\n                    </div>\r\n                </ng-template>\r\n\r\n            </ng-template>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="hbox">\r\n    <div class="panel panel-alt vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Languages:</label>\r\n            <span *ngIf="noLangActive" class="grayText" style="margin-right: 5px;">\r\n                <span class="glyphicon glyphicon-warning-sign"></span> No language selected implicitly means all languages\r\n            </span>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="changeAllLangStatus(true)" title="Check all">\r\n                    <span class="glyphicon glyphicon-check"></span>\r\n                </button>\r\n                <button class="btn btn-default" (click)="changeAllLangStatus(false)" title="Uncheck all">\r\n                    <span class="glyphicon glyphicon-unchecked"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n                        \r\n            <table class="table table-condensed table-borderless table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 1%">\r\n                    <col style="width: 1%">\r\n                    <col>\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center" style="padding: 0px 8px;">Active</th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>\r\n                            Mandatory\r\n                            <span class="glyphicon glyphicon-info-sign" \r\n                                title="mandatory languages are expected to be covered extensively in the dataset. Some features of the platform (e.g. ICV) support verification of this constraint">\r\n                            </span>\r\n                        </th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>ISO code</th>\r\n                        <th class="text-center" style="padding: 0px 8px;">Language</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let l of languageItems">\r\n                        <td class="text-center">\r\n                            <input type="checkbox" style="vertical-align: middle" [(ngModel)]="l.active" (ngModelChange)="updateSettings()"\r\n                                [disabled]="!project">\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <input type="checkbox" style="vertical-align: middle" [(ngModel)]="l.lang.mandatory" (ngModelChange)="updateSettings()"\r\n                                [disabled]="!project || !l.active">\r\n                        </td>\r\n                        <td class="text-center" nowrap>{{l.lang.tag}}</td>\r\n                        <td class="text-center">\r\n                            <lang-item [language]="l.lang"></lang-item>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="hbox">\r\n    <div class="panel panel-alt vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Users:</label>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="addUserToProject()" [disabled]="!project" title="Add user to project">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n                <button class="btn btn-default" (click)="removeUserFromProject()" \r\n                    [disabled]="!selectedUser || selectedUser.isAdmin() || !project" title="Remove user from project">\r\n                    <span class="glyphicon glyphicon-minus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body vbox scrollableContainer" (keydown)="moveUser($event)">\r\n            <div *ngFor="let u of usersBound" class="listItem" [ngClass]="{active: u == selectedUser}" (click)="selectUser(u)">\r\n                <span style="flex: 1">{{u.getShow()}} <span class="grayText">&nbsp;({{u.getEmail()}})</span></span>\r\n                <span *ngIf="u.isAdmin()" class="badge">Admin</span>\r\n            </div> \r\n        </div>\r\n    </div>\r\n    <div *ngIf="selectedUser" class="panel panel-alt vbox" style="margin-left: 5px; flex: 3;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Project-User settings:</label>\r\n            <button *ngIf="isLoggedUserAdmin()" class="btn btn-xs btn-default" (click)="cloneSettings()" title="Duplicate settings to another project">\r\n                <span class="glyphicon glyphicon-duplicate"></span>\r\n            </button>\r\n        </div>\r\n        <div class="panel-body vbox scrollableContainer">\r\n\r\n            \x3c!-- Roles --\x3e\r\n            <div *ngIf="isRoleManagementAuthorized() && !isSelectedUserAdmin()" class="panel panel-default vbox" style="min-height: 200px;">\r\n                <div class="panel-body vbox">\r\n                    <div class="hbox">\r\n                        <div class="panel panel-alt vbox">\r\n                            <div class="panel-heading">\r\n                                <label>Assigned Roles:</label>\r\n                            </div>\r\n                            <div class="panel-body vbox scrollableContainer">\r\n                                <ng-template [ngIf]="puBinding">\r\n                                    <div *ngFor="let r of puBinding.getRoles()" (click)="selectUserRole(r)"\r\n                                        class="listItem" [ngClass]="{active: r == selectedUserRole}">\r\n                                        {{r}}\r\n                                    </div>\r\n                                </ng-template>\r\n                            </div>\r\n                        </div>\r\n                        <div style="align-self: center; margin: 5px;">\r\n                            <button class="btn btn-default btn-sm btn-block" (click)="addRole()" [disabled]="!selectedRole || !puBinding">\r\n                                <span class="glyphicon glyphicon-chevron-left"></span> Add\r\n                            </button>\r\n                            <button class="btn btn-default btn-sm btn-block"  (click)="removeRole()" [disabled]="!selectedUserRole">\r\n                                Remove <span class="glyphicon glyphicon-chevron-right"></span>\r\n                            </button>\r\n                        </div>\r\n                        <div class="panel panel-alt vbox">\r\n                            <div class="panel-heading">\r\n                                <label>Available Roles:</label>\r\n                            </div>\r\n                            <div class="panel-body vbox scrollableContainer">\r\n                                <div *ngFor="let r of roleList" class="listItem" (click)="selectRole(r)"\r\n                                    [ngClass]="{active: r == selectedRole, disabled: isRoleAlreadyAssigned(r)}">\r\n                                    <span style="flex: 1;">{{r.getName()}}</span>\r\n                                    <span *ngIf="r.getLevel()==\'project\'" class="label label-default" style="font-size: 10px; padding: 2px 3px;"\r\n                                        title="Defined at project level">P</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Groups --\x3e\r\n            <div *ngIf="isGroupManagementAuthorized()" class="panel panel-default vbox" style="min-height: 120px; margin-top: 4px">\r\n                <div class="panel-body vbox">\r\n                    <div class="hbox">\r\n                        <div class="panel panel-alt vbox">\r\n                            <div class="panel-heading">\r\n                                <label style="flex: 1">Assigned Group:</label>\r\n                                <button *ngIf="puBinding?.getGroup()" class="btn btn-xs btn-default" [ngClass]="{ active: puBinding.isSubjectToGroupLimitations()}" (click)="changeGroupLimitations()" \r\n                                title="If enabled, the user is subject to the group limitations" [disabled]="selectedUser.isAdmin()">\r\n                                    <span *ngIf="puBinding.isSubjectToGroupLimitations()" class="greenText" style="font-weight: bold">Restrictions applied</span>\r\n                                    <span *ngIf="!puBinding.isSubjectToGroupLimitations()" class="grayText">Apply restrictions</span>\r\n                                </button>\r\n                            </div>\r\n                            <div class="panel-body vbox scrollableContainer">\r\n                                <ng-template [ngIf]="puBinding">\r\n                                    <div *ngIf="puBinding.getGroup()" class="listItem" [ngClass]="{active: selectedUserGroup}"\r\n                                        (click)="selectUserGroup(puBinding.getGroup())">\r\n                                        {{puBinding.getGroup().shortName}}\r\n                                    </div>\r\n                                </ng-template>\r\n                            </div>\r\n                        </div>\r\n                        <div style="align-self: center; margin: 5px;">\r\n                            <button class="btn btn-default btn-sm btn-block" (click)="assignGroup()" [disabled]="!selectedGroup || !puBinding">\r\n                                <span class="glyphicon glyphicon-chevron-left"></span> Assign\r\n                            </button>\r\n                            <button class="btn btn-default btn-sm btn-block"  (click)="removeGroup()" [disabled]="!selectedUserGroup">\r\n                                Remove <span class="glyphicon glyphicon-chevron-right"></span>\r\n                            </button>\r\n                        </div>\r\n                        <div class="panel panel-alt vbox" style="margin: 0px">\r\n                            <div class="panel-heading">\r\n                                <label>Available Groups:</label>\r\n                            </div>\r\n                            <div class="panel-body vbox scrollableContainer">\r\n                                <div *ngFor="let g of groupList" class="listItem" (click)="selectGroup(g)"\r\n                                    [ngClass]="{active: g == selectedGroup, disabled: isGroupAlreadyAssigned(g)}" >\r\n                                    {{g.shortName}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Languages --\x3e\r\n            <div class="panel panel-default vbox" style="min-height: 320px; margin-top: 4px;">\r\n                <div class="panel-body vbox">\r\n                    <div class="hbox">\r\n                        <div class="panel panel-alt vbox" style="margin: 0px">\r\n                            <div class="panel-heading">\r\n                                <label>Assigned Languages:</label>\r\n                            </div>\r\n                            <div class="panel-body vbox scrollableContainer">\r\n                                <ng-container *ngIf="puBinding">\r\n                                    <div *ngFor="let l of puLanguages" class="listItem" [ngClass]="{active: l == selectedUserLang}" \r\n                                        (click)="selectUserLang(l)">\r\n                                        <lang-item style="flex: 1" [language]="l" showTag="true"></lang-item>\r\n                                        <span *ngIf="l.proficiency" class="glyphicon glyphicon-star" \r\n                                            title="This language is in the language proficiencies of the selected user">\r\n                                        </span>\r\n                                    </div>\r\n                                    <div *ngIf="puLanguages?.length == 0 && selectedUser.isAdmin()" class="alert alert-warning">\r\n                                        <span class="glyphicon glyphicon-warning-sign"></span>\r\n                                        For administrator user, no language assigned implicitly means all project languages\r\n                                    </div>\r\n                                </ng-container>\r\n                            </div>\r\n                        </div>\r\n                        <div class="vbox" style="align-self: center; margin: 5px; flex: initial;">\r\n                            <div class="btn-group" style="display: flex; margin-bottom: 5px;">\r\n                                <button class="btn btn-sm btn-default" style="width: 100%" (click)="addLanguage()" [disabled]="!selectedLang || !puBinding">\r\n                                    <span class="glyphicon glyphicon-chevron-left"></span> Add\r\n                                </button>\r\n                                <div class="btn-group" role="group">\r\n                                    <button class="btn btn-sm btn-default dropdown-toggle" style="padding: 5px 3px;" data-toggle="dropdown">\r\n                                        <span class="caret"></span>\r\n                                    </button>\r\n                                    <ul class="dropdown-menu pull-right">\r\n                                        <li><a (click)="addAllLanguages()">Add all</a></li>\r\n                                        <li>\r\n                                            <a (click)="addProficienciesLangs()">Add all proficiencies\r\n                                                <span class="glyphicon glyphicon-star pull-right"></span>\r\n                                            </a>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                            <div class="btn-group">\r\n                                <button class="btn btn-sm btn-default" (click)="removeLanguage()" [disabled]="!selectedUserLang">\r\n                                    Remove <span class="glyphicon glyphicon-chevron-right"></span>\r\n                                </button>\r\n                                <div class="btn-group">\r\n                                    <button class="btn btn-sm btn-default dropdown-toggle" style="padding: 5px 3px;" data-toggle="dropdown">\r\n                                        <span class="caret"></span>\r\n                                    </button>\r\n                                    <ul class="dropdown-menu pull-right">\r\n                                        <li><a (click)="removeAllLanguages()">Remove all</a></li>\r\n                                        <li>\r\n                                            <a (click)="leaveProficienciesLangs()">Leave only proficiencies\r\n                                                <span class="glyphicon glyphicon-star pull-right"></span>\r\n                                            </a>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="panel panel-alt vbox" style="margin: 0px">\r\n                            <div class="panel-heading">\r\n                                <label style="flex: 1">Available Languages:</label>\r\n                                <button class="btn btn-xs btn-default" (click)="toggleFilterProficencies()" [ngClass]="{ active: filterProficiencies }">\r\n                                    <span class="glyphicon glyphicon-star" title="Show only language proficiencies of the user"></span>\r\n                                </button>\r\n                            </div>\r\n                            <div class="panel-body vbox scrollableContainer">\r\n                                <div *ngFor="let l of availableLanguages" class="listItem" [ngClass]="{active: l == selectedLang}" (click)="selectLang(l)">\r\n                                    <lang-item [language]="l" showTag="true" style="flex: 1" [disabled]="isLangAlreadyAssigned(l)"></lang-item>\r\n                                    <span *ngIf="l.proficiency" class="glyphicon glyphicon-star" \r\n                                        title="This language is in the language proficiencies of the selected user">\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Templates --\x3e\r\n            <div *ngIf="isLoggedUserAdmin()" class="panel panel-alt vbox" style="min-height: 420px; margin-top: 4px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1;">\r\n                        ResourceView template\r\n                        <span class="glyphicon glyphicon-info-sign" title="Customize the ResourceView template for the user in the given project"></span>\r\n                    </label>\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button class="btn btn-default" (click)="storeTemplate()" title="Store template">\r\n                                <span class="glyphicon glyphicon-floppy-save"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" (click)="loadTemplate()" title="Load template">\r\n                                <span class="glyphicon glyphicon-floppy-open"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox">\r\n                    <div class="alert alert-info" role="alert" style="margin-bottom: 5px;">\r\n                        Here you can customize the ResourceView template for the user in the given project.\r\n                        <u>Note</u>: this is exactly the setting of the user, so by changing it you will change directly its ResourceView template.<br>\r\n                    </div>\r\n                    <partition-filter-editor [(ngModel)]="puTemplate" (ngModelChange)="updateTemplate()"></partition-filter-editor>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <div class="panel panel-default vbox">\r\n\r\n        <div class="panel-body hbox">\r\n\r\n            <div *ngIf="isAdminLogged" class="panel panel-default vbox">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1;">Projects:</label>\r\n                </div>\r\n                <div class="panel-body vbox" style="padding: 0px;">\r\n                    <div class="scrollableContainer">\r\n                        <div *ngFor="let p of projectList" class="listItem" [ngClass]="{active: p == selectedProject}" (click)="selectProject(p)">\r\n                            <span>{{p.getName()}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="panel panel-default vbox" style="margin-left: 5px; flex: 4;">\r\n\r\n                <div class="panel-heading" style="justify-content: flex-end">\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button *ngIf="isProjUserManagementAuthorized()" class="btn btn-default" [ngClass]="{ active: selectedAspect == projUsersAspect }"\r\n                                style="padding: 1px 5px;" (click)="selectedAspect = projUsersAspect">{{projUsersAspect}}</button>\r\n                            <button *ngIf="isProjGroupManagementAuthorized()" class="btn btn-default" [ngClass]="{ active: selectedAspect == projGroupsAspect }"\r\n                                style="padding: 1px 5px;" (click)="selectedAspect = projGroupsAspect">{{projGroupsAspect}}</button>\r\n                            <button *ngIf="isProjSettingsAuthorized()" class="btn btn-default" [ngClass]="{ active: selectedAspect == projSettingsAspect }" \r\n                                style="padding: 1px 5px;" (click)="selectedAspect = projSettingsAspect">{{projSettingsAspect}}</button>\r\n                        </div>\r\n                        <button class="btn btn-xs btn-default" (click)="editACL()" [disabled]="!selectedProject" title="Edit ACL">ACL</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="panel-body vbox">\r\n                    <project-users-manager *ngIf="selectedAspect == projUsersAspect" [project]="selectedProject" class="vbox">\r\n                    </project-users-manager>\r\n\r\n                    <project-groups-manager *ngIf="selectedAspect == projGroupsAspect" [project]="selectedProject" class="vbox">\r\n                    </project-groups-manager>\r\n\r\n                    <project-settings *ngIf="selectedAspect == projSettingsAspect" [project]="selectedProject" class="vbox">\r\n                    </project-settings>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox">\r\n\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label>Users</label>\r\n            </div>\r\n            <div class="panel-body vbox" style="padding: 0px;">\r\n                <div class="scrollableContainer">\r\n                    <div *ngFor="let u of userList" class="listItem" [ngClass]="{active: u == selectedUser, disabled: isUserAlreadyBound(u)}"\r\n                        (click)="selectUser(u)">\r\n                        {{u.getShow()}} <span class="grayText">&nbsp;({{u.getEmail()}})</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default vbox" style="margin-left: 5px;">\r\n            <div class="panel-heading">\r\n                <label>Roles</label>\r\n            </div>\r\n            <div class="panel-body vbox" style="padding: 0px;">\r\n                <div class="scrollableContainer">\r\n                    <div *ngFor="let r of roleList" class="listItem" [ngClass]="{active: isRoleSelected(r)}" (click)="selectRole(r)">\r\n                        {{r.getName()}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedUser || selectedRoles.length == 0">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="panel panel-default" style="margin-bottom: 4px;">\r\n        <div class="panel-heading">\r\n            <label>Topic</label>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n\r\n            <div class="form-horizontal">\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">Area:</label>\r\n                    <div class="col-sm-9">\r\n                        <select class="form-control input-sm" [(ngModel)]="area" (ngModelChange)="updateExtendedCapability()">\r\n                            <option *ngFor="let a of areaStruct" [ngValue]="a.value">{{a.value}} - {{a.description}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">Subject and scope:</label>\r\n                    <div class="col-sm-9">\r\n                        <input type="text" class="form-control input-sm" [(ngModel)]="subjectScope"\r\n                            (ngModelChange)="updateExtendedCapability()">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div class="panel panel-default" style="margin-bottom: 4px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">CRUDV</label>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="changeAllCrudvStatus(true)" title="Check all">\r\n                    <span class="glyphicon glyphicon-check"></span>\r\n                </button>\r\n                <button class="btn btn-default" (click)="changeAllCrudvStatus(false)" title="Uncheck all">\r\n                    <span class="glyphicon glyphicon-unchecked"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body hbox">\r\n            <div *ngFor="let cs of crudvStruct"  style="flex: 1">\r\n                <div class="checkbox">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="cs.checked" (ngModelChange)="updateExtendedCapability()">{{cs.label}}\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <input type="text" class="form-control input-sm" [ngModel]="extendedCapability" readonly>\r\n\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isDataValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\n    <h3 class="modal-title">{{context.title}}</h3>\n</div>\n<div class="modal-body">\n\n    <file-picker (fileChanged)="fileChangeEvent($event)" size="sm" [accept]="\'.pl\'"></file-picker>\n\n    <div class="hbox" style="align-items: center; margin-top: 4px">\n        <label style="margin-right: 4px; white-space: nowrap">Role name:</label>\n        <input type="text" class="form-control input-sm" [(ngModel)]="roleName" sanitized>\n    </div>\n\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <div class="panel panel-default vbox">\r\n\r\n        <div class="panel-body hbox">\r\n\r\n            <div class="panel panel-default vbox">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1;">Roles:</label>\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" (click)="createRole()" [title]="getCreateRoleTitle()" [disabled]="!isProjectOpen()">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="deleteRole()" title="Delete role"\r\n                             [disabled]="!selectedRole || selectedRole.getLevel() == \'system\'">\r\n                            <span class="glyphicon glyphicon-minus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Clone role" (click)="cloneRole()" [disabled]="!isProjectOpen() || !selectedRole">\r\n                            <span class="glyphicon glyphicon-duplicate"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="importRole()" title="Import role" [disabled]="!isProjectOpen()">\r\n                            <span class="glyphicon glyphicon-open"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="exportRole()" title="Export role" [disabled]="!selectedRole">\r\n                            <span class="glyphicon glyphicon-save"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox" style="padding: 0px;">\r\n                    <div class="scrollableContainer">\r\n                        <div *ngFor="let r of roleList" class="listItem" (click)="selectRole(r)"\r\n                            [ngClass]="{active: r == selectedRole, grayText: r.getLevel() == \'system\'}">\r\n                            <span>{{r.getName()}}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="panel panel-default vbox" style="margin-left: 5px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1;">Role capabilities:</label>\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" (click)="addCapability()" title="Add capability"\r\n                            [disabled]="!selectedRole || selectedRole.getLevel() == \'system\'">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="removeCapability()" title="Remove capability"\r\n                            [disabled]="!selectedCapability || (selectedRole && selectedRole.getLevel() == \'system\')">\r\n                            <span class="glyphicon glyphicon-minus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="editCapability()" title="Edit capability"\r\n                            [disabled]="!selectedCapability || (selectedRole && selectedRole.getLevel() == \'system\')">\r\n                            <span class="glyphicon glyphicon-pencil"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox" style="padding: 0px;">\r\n                    <div class="scrollableContainer">\r\n                        <ng-template [ngIf]="selectedRole">\r\n                            <div *ngFor="let c of capabilityList" class="listItem"\r\n                                [ngClass]="{active: c == selectedCapability, grayText: (selectedRole && selectedRole.getLevel() == \'system\')}"\r\n                                (click)="selectCapability(c)">\r\n                                {{c}}\r\n                            </div>\r\n                        </ng-template>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <div *ngIf="isInitialConfiguration" class="alert alert-info" style="margin-bottom: 6px;">\r\n        In this section you can setup some core aspects of the system.\r\n        This panel can be accessed also later from <i>Administration</i> > <i>Configuration</i> (located in the user menu)\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-body vbox scrollableContainer">\r\n\r\n            \x3c!-- Misc setting --\x3e\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <table class="table table-condensed table-borderless">\r\n                        <colgroup>\r\n                            <col style="width: 1%;">\r\n                            <col style="width: 1%;">\r\n                            <col>\r\n                        </colgroup>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign"\r\n                                        title="Provide the SemanticTurkey data folder path. This can be absolute or relative to the SemanticTurkey installation folder.">\r\n                                    </span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>SemanticTurkey data folder:</label>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="hbox" style="align-items: center;">\r\n                                        <input class="form-control input-sm" style="margin-right: 4px;" [(ngModel)]="stDataFolder">\r\n                                        <button class="btn btn-default btn-sm" (click)="updateDataFolder()" [disabled]="stDataFolder == stDataFolderPristine">\r\n                                            Update\r\n                                        </button>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign"\r\n                                        title="Tells the threshold file size (in bytes) admitted by the preload profiler during the project creation. If unspecified, or 0, the default size is 1048576 bytes (1 megabyte).">\r\n                                    </span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>Preload profiler threshold:</label>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="hbox" style="align-items: center;">\r\n                                        <div class="input-group input-group-sm" style="flex: 1; margin-right: 4px;">\r\n                                            <input type="number" class="form-control" [(ngModel)]="profilerThreshold" min="0" step="1">\r\n                                            <span class="input-group-addon">bytes</span>\r\n                                        </div>\r\n                                        <button class="btn btn-default btn-sm" (click)="updateProfilerThreshold()" [disabled]="profilerThreshold == profilerThresholdPristine">\r\n                                            Update\r\n                                        </button>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- E-mail configuration --\x3e\r\n            <div class="panel panel-default" style="margin-top: 6px;">\r\n                <div class="panel-heading">\r\n                    <label>Vocbench Email Configuration:</label>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <div class="alert alert-info alert-dismissible" role="alert" style="margin-bottom: 4px;">\r\n                        Configuration of the VocBench e-mail service. This service will be used to send notifications to the\r\n                        system administrator and to the users\r\n                        <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n                    </div>\r\n                    <table class="table table-condensed table-borderless">\r\n                        <colgroup>\r\n                            <col style="width: 1%;">\r\n                            <col style="width: 1%;">\r\n                            <col>\r\n                        </colgroup>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign" title="SMTP Mail Server IP/URL"></span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>Mail SMTP host:</label>\r\n                                </td>\r\n                                <td><input class="form-control input-sm" [(ngModel)]="emailConfig.mailSmtpHost"></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign" title="Mail Server Port"></span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>Mail SMTP port:</label>\r\n                                </td>\r\n                                <td><input class="form-control input-sm" [(ngModel)]="emailConfig.mailSmtpPort"></td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign" title="Cryptographic protocol"></span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>Cryptographic protocol:</label>\r\n                                </td>\r\n                                <td>\r\n                                    <select class="form-control input-sm" [(ngModel)]="cryptoProtocol" (ngModelChange)="updateProtocol()">\r\n                                        <option>SSL</option>\r\n                                        <option>TLS</option>\r\n                                        <option>None</option>\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign" title="True if SMTP server requires authentication"></span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>Authentication:</label>\r\n                                </td>\r\n                                <td>\r\n                                    <span class="hbox input-sm" style="align-items: center; justify-content: center;">\r\n                                        <label class="radio-inline">\r\n                                            <input type="radio" (click)="emailConfig.mailSmtpAuth=\'true\'" [checked]="emailConfig.mailSmtpAuth==\'true\'">true\r\n                                        </label>\r\n                                        <label class="radio-inline" style="margin-left: 15px;">\r\n                                            <input type="radio" (click)="emailConfig.mailSmtpAuth=\'false\'" [checked]="emailConfig.mailSmtpAuth==\'false\'">false\r\n                                        </label>\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign" title="Email address used to send administration emails"></span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>Mail from address:</label>\r\n                                </td>\r\n                                <td><input class="form-control input-sm" type="email" [(ngModel)]="emailConfig.mailFromAddress"></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign" title="Password of the above email address"></span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>Mail from password:</label>\r\n                                </td>\r\n                                <td>\r\n                                    <input *ngIf="emailConfig.mailSmtpAuth==\'false\'; else authBlock" class="form-control input-sm" disabled>\r\n                                    <ng-template #authBlock>\r\n                                        <div class="input-group input-group-sm">\r\n                                            <input *ngIf="!showPwd" type="password" class="form-control" [(ngModel)]="emailConfig.mailFromPassword">\r\n                                            <input *ngIf="showPwd" class="form-control" [(ngModel)]="emailConfig.mailFromPassword">\r\n                                            <span class="input-group-btn">\r\n                                                <button class="btn btn-default" [ngClass]="{ active : showPwd }" (click)="showPwd = !showPwd">\r\n                                                    <span *ngIf="!showPwd" class="glyphicon glyphicon-eye-close"></span>\r\n                                                    <span *ngIf="showPwd" class="glyphicon glyphicon-eye-open"></span>\r\n                                                </button>\r\n                                            </span>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <span class="glyphicon glyphicon-info-sign" title="Alias name shown in the administration emails"></span>\r\n                                </td>\r\n                                <td nowrap>\r\n                                    <label>Mail from alias:</label>\r\n                                </td>\r\n                                <td><input class="form-control input-sm" [(ngModel)]="emailConfig.mailFromAlias"></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class="panel-footer" style="text-align: right;">\r\n                    <button class="btn btn-info btn-sm" (click)="testEmailConfig()">Test</button>\r\n                    <button type="submit" class="btn btn-default btn-sm" (click)="updateEmailConfig()" [disabled]="!isEmailConfigChanged()">Submit</button>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Notifications --\x3e\r\n            <div class="panel panel-default" style="margin-top: 6px;">\r\n                <div class="panel-heading">\r\n                    <label>Notification scheduler:</label>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <div class="alert alert-info alert-dismissible" role="alert" style="margin-bottom: 4px;">\r\n                        Configuration of the VocBench e-mail notification service. \r\n                        The system will send a notifications daily digest to the users who have chosen the \r\n                        <i>Email daily digest</i> as notification mode.\r\n                        <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n                    </div>\r\n                    <table class="table table-condensed table-borderless">\r\n                        <colgroup>\r\n                            <col style="width: 1%;">\r\n                            <col style="width: 1%;">\r\n                            <col>\r\n                        </colgroup>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span class="glyphicon glyphicon-info-sign" title="The hour of the day when the report will be sent every day"></span></td>\r\n                                <td nowrap><label>Hour of the day:</label></td>\r\n                                <td>\r\n                                    <select class="form-control input-sm" [(ngModel)]="cronHourOfDay">\r\n                                        <option *ngFor="let h of hoursOfDay">{{h}}</option>\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span class="glyphicon glyphicon-info-sign" title="A timezone id"></span></td>\r\n                                <td nowrap><label>Time zone:</label></td>\r\n                                <td>\r\n                                    <div class="hbox">\r\n                                        <select class="form-control input-sm" [(ngModel)]="timezone">\r\n                                            <option *ngFor="let t of timezones">{{t}}</option>\r\n                                        </select>\r\n                                        <button class="btn btn-sm btn-default" style="margin-left: 4px;" (click)="detectTimezone()" title="Detect the browser timezone">\r\n                                            Detect\r\n                                        </button>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class="panel-footer" style="text-align: right;">\r\n                    \x3c!-- <div class="hbox" style="margin-bottom: 4px;">\r\n                        <input class="input-sm form-control" [(ngModel)]="cronExprTest" placeholder="*/30 * * * * *">\r\n                        <button class="btn btn-info btn-sm" (click)="testNotificationSchedule()" style="margin-left: 4px"\r\n                            title="Manually configure the input cron expression (for testing purpose)">Test</button>\r\n                    </div> --\x3e\r\n                    <button type="submit" class="btn btn-default btn-sm" (click)="updateNotificationSchedule()" \r\n                        [disabled]="!cronHourOfDay || !timezone">Submit</button>\r\n                    <button class="btn btn-warning btn-sm" (click)="disableNotificationSchedule()" title="Disable the notifications daily digest"\r\n                        [disabled]="!cronHourOfDay && !timezone">Disable</button>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Registration form --\x3e\r\n            <div class="panel panel-default" style="margin-top: 6px;">\r\n                <div class="panel-heading">\r\n                    <label>Registration form fields:</label>\r\n                </div>\r\n                <div class="panel-body">\r\n\r\n                    <div class="panel panel-alt">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">Optional fields:</label>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <div class="alert alert-info alert-dismissible alert-multiline" role="alert" style="margin-bottom: 4px;">\r\n                                Show or hide optional information about the user. These information will be shown or hidden in the user overview \r\n                                and will be also prompted as non-mandatory fields during the user creation/registration.<br>\r\n                                <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n                            </div>\r\n                            <div *ngFor="let f of optionalFields" class="listItem">\r\n                                <button class="btn btn-sm btn-default" (click)="updateOptionalFieldVisibility(f)" [ngClass]="{ active: f.visible }" style="margin-right: 4px;">\r\n                                    <span *ngIf="f.visible" class="glyphicon glyphicon-eye-open"></span>\r\n                                    <span *ngIf="!f.visible" class="glyphicon glyphicon-eye-close"></span>\r\n                                </button>\r\n                                <input class="form-control input-sm" [ngModel]="getOptionalFieldLabel(f)" readonly>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="panel panel-alt" style="margin-top: 4px;">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">Custom fields:</label>\r\n                            <div class="btn-toolbar">\r\n                                <div class="btn-group btn-group-xs">\r\n                                    <button class="btn btn-default" (click)="moveCustomField(\'DOWN\')" title="Move down" [disabled]="!selectedCustomField || customFormFields.indexOf(selectedCustomField)+1 >= customFormFields.length">\r\n                                        <span class="glyphicon glyphicon-chevron-down"></span>\r\n                                    </button>\r\n                                    <button class="btn btn-default" (click)="moveCustomField(\'UP\')" title="Move up" [disabled]="!selectedCustomField || customFormFields.indexOf(selectedCustomField) == 0">\r\n                                        <span class="glyphicon glyphicon-chevron-up"></span>\r\n                                    </button>\r\n                                    <button class="btn btn-default" (click)="removeCustomField()" title="Remove" [disabled]="!selectedCustomField">\r\n                                        <span class="glyphicon glyphicon-trash"></span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <div class="alert alert-info alert-dismissible alert-multiline" role="alert" style="margin-bottom: 4px;">\r\n                                Add (and reorder) up to {{fieldsIdx.length}} custom information about the user.\r\n                                These information will be shown in the user overview and will be also prompted as non-mandatory fields during the user creation/registration.<br>\r\n                                If a field is removed, any values previously stored for that field will be lost for any user.<br>\r\n                                If a field is renamed, any values previously stored for that field will be preserved.\r\n                                <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n                            </div>\r\n                            <table *ngIf="customFormFields" class="table table-condensed table-borderless">\r\n                                <colgroup>\r\n                                    <col style="width: 1%;">\r\n                                    <col>\r\n                                </colgroup>\r\n                                <tbody>\r\n                                    <tr *ngFor="let idx of fieldsIdx;" (click)="selectCustomField(idx)" [ngClass]="{ info : selectedCustomField && selectedCustomField == customFormFields[idx] }">\r\n                                        <td class="text-center" style="min-width: 30px;"><label>{{idx+1}}</label></td>\r\n                                        <td>\r\n                                            <input-editable [value]="customFormFields[idx]?.label" (valueEdited)="updateCustomField(idx, $event)" [disabled]="idx >= customFormFields.length + 1"></input-editable>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Home content --\x3e\r\n            <div class="panel panel-default" style="margin-top: 6px;">\r\n                <div class="panel-heading">\r\n                    <label>Home page content:</label>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <div class="alert alert-info alert-dismissible" role="alert" style="margin-bottom: 4px;">\r\n                        Here you can write HTML-formatted text content that will be shown in the home page\r\n                        <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n                    </div>\r\n                    <div class="hbox">\r\n                        <html-editor [(ngModel)]="homeContent"></html-editor>\r\n                        <div style="flex: 1; border: 1px solid #ddd; border-radius: 4px; margin-left: 4px;" [innerHTML]="safeHomeContent"></div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-footer" style="text-align: right;">\r\n                    <button class="btn btn-info btn-sm" (click)="previewHomeContent()" [disabled]="!homeContent">Preview</button>\r\n                    <button type="submit" class="btn btn-default btn-sm" (click)="updateHomeContent()" [disabled]="!isHomeContentChanged()">Submit</button>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Experimental feature --\x3e\r\n            \r\n            <span style="flex: 1"></span>\r\n            <div class="panel panel-default" style="margin-top: 8px;">\r\n                <div class="panel-body">\r\n                    <div class="checkbox-inline">\r\n                        <label>\r\n                            <input type="checkbox" [(ngModel)]="expFeatEnabled" (ngModelChange)="onExpFeatEnabledChanged()">\r\n                            Enable experimental features\r\n                        </label>\r\n                        <span class="glyphicon glyphicon-info-sign" title="Check this option in order to enable experimental (very unstable) features">\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n           \r\n\r\n        </div>\r\n    </div>\r\n\r\n    <button *ngIf="isInitialConfiguration" class="btn btn-sm btn-primary" style="margin-top: 6px; align-self: flex-end" (click)="ok()">Done</button>\r\n\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Change password</h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <div class="alert alert-warning">\r\n        This procedure will force the change of {{context.user.getShow()}}\'s password.<br>\r\n        Note: A <i>forgot password</i> procedure already exists (available in the login form).\r\n        It is recommended to let the user update its own password through that procedure.\r\n        Use this procedure only if strictly necessary. \r\n    </div>\r\n\r\n    <div class="hbox" style="align-items: center; margin-top: 4px;">\r\n        <label style="margin-right: 4px;">New password:</label>\r\n        <input type="password" class="form-control input-sm" style="flex: 1;" [(ngModel)]="password">\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <user-create [(ngModel)]="userForm"></user-create>\r\n</div>\r\n<div class="modal-footer">\r\n    <div class="pull-left">\r\n        <div><span style="color: red; margin-right: 2px;">* </span>Mandatory field</div>\r\n        <div><span style="color: red; margin-right: 2px;">** </span>Optional but highly recommended field</div>\r\n    </div>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">User Details:</label>\r\n        <div *ngIf="user" class="btn-toolbar">\r\n            <button type="button" class="btn btn-xs btn-default" (click)="changeAdministratorStatus()"\r\n                [ngClass]="{\'active online\': user.isAdmin()}" [disabled]="isChangeAdminButtonDisabled()"\r\n                [title]="user.isAdmin() ? \'Revoke administrator authority\' : \'Grant administrator authority\'">\r\n                Administrator\r\n            </button>\r\n            <div class="btn-group btn-group-xs" role="group">\r\n                <button type="button" class="btn btn-default" (click)="changeUserStatus()"\r\n                    [ngClass]="{\'active\': isUserActive()}" style="color: green" [disabled]="isChangeStatusButtonDisabled()">\r\n                    Active\r\n                </button>\r\n                <button type="button" class="btn btn-default" (click)="changeUserStatus()"\r\n                    [ngClass]="{\'active\': !isUserActive()}" style="color: red" [disabled]="isChangeStatusButtonDisabled()">\r\n                    Inactive\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n        <user-details *ngIf="user" [user]="user" [readonly]="true"></user-details>\r\n    </div>\r\n    <div class="panel-footer" *ngIf="user">\r\n        <button class="btn btn-default btn-xs" (click)="changePassword()" [disabled]="isChangePwdButtonDisabled()">\r\n            Change password\r\n        </button>\r\n        <button class="btn btn-default btn-xs pull-right" (click)="deleteUser()" [disabled]="isDeleteButtonDisabled()">\r\n            Delete\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n     <div class="panel panel-default vbox">\r\n\r\n        <div class="panel-body hbox"> \r\n\r\n            <div class="panel panel-default vbox" style="flex: 2;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1;">Users:</label>\r\n                    <div class="pull-right">\r\n                        <div class="btn-toolbar" role="toolbar">\r\n                            <div class="btn-group btn-group-xs">\r\n                                <button #actBtn class="btn btn-default" [ngClass]="{active: showActive}" (click)="showActive = !showActive"\r\n                                    title="Show/Hide active users" (mouseup)="actBtn.blur()">Active\r\n                                </button>\r\n                                <button #inactBtn class="btn btn-default" [ngClass]="{active: showInactive}" (click)="showInactive = !showInactive"\r\n                                    title="Show/Hide inactive users" (mouseup)="inactBtn.blur()">Inactive\r\n                                </button>\r\n                                <button #newBtn class="btn btn-default" [ngClass]="{active: showNew}" (click)="showNew = !showNew"\r\n                                    title="Show/Hide new users" (mouseup)="newBtn.blur()">New\r\n                                </button>\r\n                            </div>\r\n                            <div class="btn-group btn-group-xs">\r\n                                <button class="btn btn-default" (click)="createUser()" title="Create user">\r\n                                    <span class="glyphicon glyphicon-plus"></span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox" style="padding: 0px;">\r\n                    <div class="scrollableContainer">\r\n                        <ng-template ngFor let-u [ngForOf]="users">\r\n                            <div *ngIf="isUserVisible(u)" class="listItem" [ngClass]="{active: u == selectedUser}" (click)="selectUser(u)">\r\n                                <span style="flex: 1">{{u.getShow()}} <span class="grayText">&nbsp;({{u.getEmail()}})</span></span>\r\n                                <span *ngIf="u.isAdmin()" class="glyphicon glyphicon-wrench" style="color: gray; margin-right: 2px;" title="Administrator"></span>\r\n                                <span *ngIf="u.getStatus() == \'NEW\'" class="glyphicon glyphicon-exclamation-sign inactive" title="New"></span>\r\n                                <span *ngIf="u.getStatus() == \'INACTIVE\'" class="glyphicon glyphicon-ban-circle inactive" title="Inactive"></span>\r\n                                <span *ngIf="u.getStatus() == \'ACTIVE\'" class="glyphicon glyphicon-user" \r\n                                    [ngClass]="{ online: u.isOnline(), offline: !u.isOnline()}" [title]="u.isOnline() ? \'Online\' : \'Offline\'">\r\n                                </span>\r\n                            </div>\r\n                        </ng-template>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div *ngIf="selectedUser" class="vbox" style="flex: 5; margin-left: 5px;">\r\n                <div class="btn-group btn-group-sm pull-right" style="align-self: flex-end; margin-bottom: 4px;">\r\n                    <button *ngFor="let selector of aspectSelectors" class="btn btn-default" [ngClass]="{active: selectedAspectSelector == selector}"\r\n                        (click)="selectedAspectSelector = selector">{{selector}}</button>\r\n                </div>\r\n\r\n                <div class="panel panel-default vbox" *ngIf="selectedAspectSelector == userDetailsAspect">\r\n                    <div class="panel-body vbox">\r\n                        <user-details-panel [user]="selectedUser" (deleted)="initUserList()">\r\n                        </user-details-panel>\r\n                        <div class="panel panel-default" style="margin-top: 8px">\r\n                            <div class="panel-body hbox" style="align-items: center;">\r\n                                <label>Assigned to projects:</label>\r\n                                <div class="hbox tile-group" style="align-items: center; margin-left: 6px; flex-wrap: nowrap; overflow: auto;">\r\n                                    <span *ngIf="selectedUser.isAdmin(); else notAdminBlock" style="margin-left: 4px;">\r\n                                        Administrator has autmoatically access to all projects\r\n                                    </span>\r\n                                    <ng-template #notAdminBlock>\r\n                                        <span *ngFor="let p of userProjects" class="tile">{{p}}</span>\r\n                                    </ng-template>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \x3c!-- <user-details-panel *ngIf="selectedAspectSelector == userDetailsAspect" [user]="selectedUser" (deleted)="initUserList()">\r\n                </user-details-panel> --\x3e\r\n\r\n                <div class="panel panel-default vbox" *ngIf="selectedAspectSelector == rvTemplateAspect">\r\n                    <div class="panel-heading">\r\n                        <label style="flex: 1;">Template</label>\r\n                        <div class="btn-toolbar" role="toolbar">\r\n                            <div class="btn-group btn-group-xs">\r\n                                <button class="btn btn-default" (click)="storeTemplate()" title="Store template">\r\n                                    <span class="glyphicon glyphicon-floppy-save"></span>\r\n                                </button>\r\n                                <button class="btn btn-default" (click)="loadTemplate()" title="Load existing template">\r\n                                    <span class="glyphicon glyphicon-floppy-open"></span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="panel-body vbox">\r\n                        <div class="alert alert-info" style="margin-bottom: 4px;">\r\n                            Here you can assign a ResourceView template to the user. This template describes which ResourceView partitions are visible by default.<br>\r\n                            You can also load an already existing template, or decide to save the template you defined, through the toolbar in panel header.\r\n                        </div>\r\n                        <partition-filter-editor [(ngModel)]="userTemplate" (ngModelChange)="updateTemplate()"></partition-filter-editor>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n         </div>\r\n\r\n    </div> \r\n\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <div class="panel panel-default">\r\n        <div class="panel-body" style="padding: 3px;">\r\n            <table class="table table-condensed table-borderless">\r\n                <tbody>\r\n\r\n                    <tr style="margin-bottom: 4px">\r\n                        <td style="width: 1%" class="text-right" nowrap><label>Alignment file:</label></td>\r\n                        <td>\r\n                            <div class="hbox">\r\n                                <file-picker (fileChanged)="fileChangeEvent($event)" [size]="\'sm\'" [accept]="\'application/rdf+xml\'"></file-picker>\r\n                                <button class="btn btn-default btn-sm" style="margin-left: 4px;" (click)="loadAlignment()"\r\n                                    [disabled]="!alignmentFile" title="Reload">\r\n                                    <span class="glyphicon glyphicon-refresh"></span>\r\n                                </button>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        <td style="width: 1%" class="text-right" nowrap><label>Left ontology baseURI:</label></td>\r\n                        <td><input type="text" class="form-control input-sm" [(ngModel)]="sourceBaseURI" readonly></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class="text-right"><label>Right ontology baseURI:</label></td>\r\n                        <td><input type="text" class="form-control input-sm" [(ngModel)]="targetBaseURI" readonly></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <alignment-management style="margin-top: 4px;" *ngIf="alignmentOverview" [overview]="alignmentOverview" [leftProject]="leftProject"></alignment-management>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="vbox blockingDivHost">\r\n\r\n    <div class="panel panel-default vbox" style="min-height: 90px; max-height: 150px;">\r\n        <div class="panel-heading">\r\n            <div class="hbox">\r\n                <label style="flex: 1;">Tasks</label>\r\n                <div class="btn-toolbar">\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" (click)="createTask()" title="Create Alignment task" [disabled]="serverDown">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                        <button class="btn btn-sm btn-default" (click)="deleteTask()" title="Delete Alignment task" [disabled]="!selectedTask || serverDown">\r\n                            <span class="glyphicon glyphicon-minus"></span>\r\n                        </button>\r\n                    </div>\r\n                    <button class="btn btn-xs btn-default" (click)="listTask()" title="Refresh tasks list">\r\n                        <span class="glyphicon glyphicon-refresh"></span>\r\n                    </button>\r\n                    <button *ngIf="isSettingsAuthorized" class="btn btn-xs btn-default" (click)="settings()" title="Settings">\r\n                        <span class="glyphicon glyphicon-cog"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col>\r\n                    <col>\r\n                    <col>\r\n                    <col>\r\n                    <col>\r\n                    <col style="width: 1%">\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Left</th>\r\n                        <th>Right</th>\r\n                        <th>Status</th>\r\n                        <th>Start time</th>\r\n                        <th>End time</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let task of tasks" [ngClass]="{ info: selectedTask == task }" (click)="selectTask(task)">\r\n                        <td>{{task.leftDataset.projectName}}</td>\r\n                        <td>{{task.rightDataset.projectName}}</td>\r\n                        <td>\r\n                            {{task.status}}\r\n                            <span *ngIf="task.progress"> ({{task.progress}}%)</span>\r\n                            <span *ngIf="task.reason?.message" class="glyphicon glyphicon-question-sign" [title]="task.reason?.message"></span>\r\n                        </td>\r\n                        <td>{{task.startTime}}</td>\r\n                        <td>{{task.endTime}}</td>\r\n                        <td>\r\n                            <button class="btn btn-xs btn-default" (click)="fetchAlignment(task)" [disabled]="task.status != \'completed\'">\r\n                                edit alignment\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <alignment-management style="margin-top: 4px;" *ngIf="alignmentOverview" [overview]="alignmentOverview" [leftProject]="leftProject" [rightProject]="rightProject"></alignment-management>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n\r\n    <div class="panel-heading" style="display: flex;">\r\n        <label style="flex: 1">Alignments:</label>\r\n        <button class="btn btn-default btn-xs" style="margin-right: 4px;" [ngClass]="{active: rendering}" title="Rendering"\r\n            (click)="toggleRendering()">\r\n            <span class="glyphicon glyphicon-font"></span>\r\n        </button>\r\n        <button class="btn btn-default btn-xs" (click)="openSettings()">\r\n            <span class="glyphicon glyphicon-cog"></span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class="panel-body vbox scrollableContainer">\r\n        \r\n        <div class="scrollableContainer" style="border: 1px solid #ddd">\r\n            <table class="table table-condensed table-hoverable">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Source entity</th>\r\n                        <th class="text-center">target entity</th>\r\n                        <th class="text-center">Relation</th>\r\n                        <th class="text-center">Mapping Property</th>\r\n                        <th class="text-center" style="width: 1%">Action</th>\r\n                        <th class="text-center" style="width: 1%">Status</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody class="text-center">\r\n                    <tr *ngFor="let a of alignmentCellList; let i=index;">\r\n                        <td>\r\n                            <span class="clickable" (click)="openResView(a.getEntity1())">\r\n                                <rdf-resource [resource]="a.getEntity1()" [rendering]="rendering"></rdf-resource>\r\n                            </span>\r\n                        </td>\r\n                        <td>\r\n                            <span class="clickable" (click)="openResView(a.getEntity2(), true)">\r\n                                <rdf-resource [resource]="a.getEntity2()" [rendering]="rendering"></rdf-resource>\r\n                            </span>\r\n                        </td>\r\n                        <td style="position: relative"\r\n                            (mouseover)="editRel.style.display=\'initial\'" (mouseout)="editRel.style.display=\'none\'">\r\n                            <div class="progress" [ngClass]="{ \'large-progress\' : unknownRelation }" style="min-width: 100px;">\r\n                                <div class="progress-bar progress-bar-success" role="progressbar" [ngStyle]="{\'width\': a.getMeasure()*100+\'%\'}">\r\n                                    <span class="progress-value" [title]="a.getRelation()+\' (\'+a.getMeasure()+\')\'">\r\n                                        {{getRelationRendered(a)}}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <div #editRel class="btn-group" style="position: absolute; top: 0; right: 0; display: none;">\r\n                                <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown">\r\n                                    <span class="caret"></span>\r\n                                </button>\r\n                                <ul class="dropdown-menu pull-right">\r\n                                    <li *ngFor="let rel of relationSymbols">\r\n                                        <a (click)="changeRelation(a, rel.relation)">\r\n                                            <div class="hbox">\r\n                                                <span style="flex:1">{{rel.relation}}</span>\r\n                                                <span *ngIf="a.getRelation() == rel.relation" style="margin-left: 3px;" class="glyphicon glyphicon-ok pull-right"></span>\r\n                                            </div>\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <span *ngIf="a.getMappingProperty()">\r\n                                <div class="btn-group" [ngClass]="{ dropup : i > alignmentCellList.length/2 }">\r\n                                    <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown"\r\n                                        (click)="getSuggestedMappingProperties(a)">\r\n                                        {{a.getMappingProperty().getShow()}}\r\n                                        <span class="caret"></span>\r\n                                    </button>\r\n                                    <ul class="dropdown-menu">\r\n                                        <li *ngFor="let sp of a.getSuggestedMappingProperties()" style="position: relative;">\r\n                                            <a (click)="changeMappingProperty(a, sp)" style="margin-right: 18px;">{{sp.getShow()}}</a>\r\n                                            <span *ngIf="sp.getShow() == a.getMappingProperty().getShow()" \r\n                                                class="glyphicon glyphicon-ok pull-right" style="position: absolute; right: 4px;">\r\n                                            </span>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </span>\r\n                        </td>\r\n                        <td>\r\n                            <span style="white-space: nowrap">\r\n                                <button class="btn btn-success btn-xs" (click)="acceptAlignment(a)">\r\n                                    Accept <span class="glyphicon glyphicon-ok-sign"></span>\r\n                                </button>\r\n                                <button class="btn btn-danger btn-xs" (click)="rejectAlignment(a)">\r\n                                    Reject <span class="glyphicon glyphicon-remove-sign"></span>\r\n                                </button>\r\n                            </span>\r\n                        </td>\r\n                        <td style="font-size: 14px;">\r\n                            <span *ngIf="a.getStatus() == \'accepted\'" class="glyphicon glyphicon-ok" style="color: #5cb85c"></span>\r\n                            <span *ngIf="a.getStatus() == \'rejected\'" class="glyphicon glyphicon-remove" style="color: #d9534f"></span>\r\n                            <span *ngIf="a.getStatus() == \'error\'" class="glyphicon glyphicon-warning-sign" style="color: #f0ad4e"\r\n                                [title]="a.getComment()"></span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div *ngIf="totPage && totPage != 1">\r\n            <div class="btn-group btn-group-xs pull-right" style="margin-top: 4px;" role="group">\r\n                <button class="btn btn-default" title="Previous page" (click)="prevPage()" [disabled]="page==0">\r\n                    <span class="glyphicon glyphicon-triangle-left"></span>\r\n                    \x3c!--&laquo;--\x3e\r\n                </button>\r\n                <button class="btn btn-default" style="cursor: auto" disabled>\r\n                    <span>{{page+1}} of {{totPage}}</span>\r\n                </button>\r\n                <button class="btn btn-default" title="Next page" (click)="nextPage()" [disabled]="page==totPage-1">\r\n                    <span class="glyphicon glyphicon-triangle-right"></span>\r\n                    \x3c!--&raquo;--\x3e\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="panel-footer">\r\n        <span>\r\n            <label>Quick Actions:</label>\r\n            \r\n            <select class="form-control input-xs" style="width: auto; display: inline-block" [(ngModel)]="chosenQuickAction"\r\n                [disabled]="alignmentCellList.length == 0">\r\n                <option *ngFor="let qa of quickActionList">{{qa}}</option>\r\n            </select>\r\n            <input *ngIf="chosenQuickAction.includes(\'threshold\')"\r\n                class="form-control input-xs" style="width: auto; display: inline-block"\r\n                type="number" min="0" max="1" step="0.01" [(ngModel)]="threshold">\r\n            <button class="btn btn-default btn-xs" [disabled]="chosenQuickAction==\'---\'" (click)="doQuickAction()">\r\n                Do quick action\r\n            </button>\r\n        </span>\r\n        <span class="pull-right">\r\n            <button class="btn btn-default btn-xs" (click)="applyToOnto()" [disabled]="alignmentCellList.length == 0">\r\n                Apply to Ontology\r\n            </button>\r\n            <button class="btn btn-default btn-xs" (click)="export()" [disabled]="alignmentCellList.length == 0">\r\n                Export as...\r\n            </button>\r\n        </span>\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label>Alignment Validation:</label>\r\n    </div>\r\n    \r\n    <div class="panel-body vbox">\r\n        <div style="display: flex; align-items: center; margin-bottom: 8px;">\r\n            <label style="margin-right: 4px;">Source:</label>\r\n            <select class="form-control input-sm" [(ngModel)]="selectedSource">\r\n                <option *ngFor="let source of alignmentSources">{{source}}</option>\r\n            </select>\r\n        </div>\r\n\r\n        <alignment-file *ngIf="selectedSource == sourceFile"></alignment-file>\r\n        <alignment-remote *ngIf="selectedSource == sourceRemoteSystem"></alignment-remote>\r\n\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">Create task</h3>\r\n        <button *ngIf="serviceMetadata?.settings?.stProperties" class="btn btn-xs btn-default" (click)="systemSettings()">\r\n            <span class="glyphicon glyphicon-wrench"></span>\r\n        </button>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div>\r\n        <div class="col-sm-6 text-center">\r\n            <label>Left project</label>\r\n        </div>\r\n        <div class="col-sm-6 text-center">\r\n            <label>Left project</label>\r\n        </div>\r\n    </div>\r\n    <div style="margin-top: 8px;">\r\n        <div class="col-sm-6">\r\n            <div class="hbox" style="align-items: center;">\r\n                <input class="form-control input-sm" [ngModel]="leftProjectStruct.project.getName()" readonly>\r\n                <button class="btn btn-sm btn-default" style="margin-left: 4px;" (click)="profileProject(leftProjectStruct)" title="Profile project">\r\n                    <span class="glyphicon glyphicon-align-right" style="transform: rotate(90deg)"></span>\r\n                </button>\r\n                <div style="margin-left: 4px;">\r\n                    <span *ngIf="leftProjectStruct.profileAvailable" class="glyphicon glyphicon-ok" title="Metadata profile available"></span>\r\n                    <span *ngIf="!leftProjectStruct.profileAvailable" class="glyphicon glyphicon-remove" title="Metadata profile not available"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-6">\r\n            <div class="hbox" style="align-items: center;">\r\n                <select class="form-control input-sm" [(ngModel)]="selectedRightProject" \r\n                    (ngModelChange)="onRightProjectChange()" [disabled]="context.rightProject">\r\n                    <ng-container *ngFor="let p of projectList">\r\n                        <option *ngIf="p.getName() != leftProjectStruct.project.getName()" [ngValue]="p">{{p.getName()}}</option>\r\n                    </ng-container>\r\n                </select>\r\n                <button *ngIf="rightProjectStruct" class="btn btn-sm btn-default" style="margin-left: 4px;" \r\n                    (click)="profileProject(rightProjectStruct)" title="Profile project">\r\n                    <span class="glyphicon glyphicon-align-right" style="transform: rotate(90deg)"></span>\r\n                </button>\r\n                <div *ngIf="rightProjectStruct" style="margin-left: 4px;">\r\n                    <span *ngIf="rightProjectStruct.profileAvailable" class="glyphicon glyphicon-ok" title="Metadata profile available"></span>\r\n                    <span *ngIf="!rightProjectStruct.profileAvailable" class="glyphicon glyphicon-remove" title="Metadata profile not available"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style="margin-top: 8px;">\r\n        <div class="col-sm-12 text-center">\r\n            <button class="btn btn-sm btn-info" (click)="profileMatching()" [disabled]="!isProfileEnabled()">Profile matching</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="alignmentScenario" class="scrollableContainer" style="margin-top: 8px;">\r\n        <div>\r\n            <div class="hbox">\r\n                <maple-dataset [dataset]="alignmentScenario.leftDataset" style="flex: 1; margin-right: 6px;"></maple-dataset>\r\n                <maple-dataset [dataset]="alignmentScenario.rightDataset" style="flex: 1; margin-left: 6px;"></maple-dataset>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default" style="margin-top: 6px;">\r\n            <div class="panel-heading">\r\n                <label>Pairings</label>\r\n            </div>\r\n            <div class="panel-body">\r\n                <div *ngFor="let p of refinablePairings" class="groupPanel" style="margin-top: 12px; margin-bottom: 8px; position: relative;">\r\n\r\n                    <div class="groupPanel-heading">\r\n                        <div class="groupPanel-heading-content">\r\n                            <div class="checkbox-inline" title="If checked enable the usage of this pairing">\r\n                                <label>\r\n                                    <input type="checkbox" [(ngModel)]="p.checked" (ngModelChange)="onPairingSelectionChange()">Use\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="groupPanel-body">\r\n                        <div class="hbox" style="align-items: center; justify-content: center;">\r\n                            <lang-item [language]="p.language" size="lg" [showName]="false"></lang-item>\r\n                            <div style="margin-left: 10px;">\r\n                                <div class="text-center">\r\n                                    <span>Score:</span>\r\n                                    <b [title]="p.score">{{p.scoreRound}}</b>\r\n                                </div>\r\n                                <div class="text-center">\r\n                                    <span>Best combined score:</span>\r\n                                    <b [title]="p.bestCombinedScore">{{p.bestCombinedScoreRound}}</b>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf="p.synonymizers.length > 0" class="groupPanel">\r\n                            <div class="groupPanel-heading">\r\n                                <div class="groupPanel-heading-content">\r\n                                    <label>\r\n                                        Synonymizers\r\n                                        <span class="glyphicon glyphicon-info-sign" title="Allow the usage of a synonymizer for improving the quality of the alignment"></span>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="groupPanel-body">\r\n                                <div *ngFor="let s of p.synonymizers" class="hbox" style="align-items: center; padding: 2px 4px">\r\n                                    <input type="radio" [checked]="s == p.selectedSynonymizer" (click)="selectSynonymizer(p, s)" [disabled]="!p.checked"/>\r\n                                    <lang-item style="margin-left: 12px;" [language]="s.language" [showName]="false" [disabled]="!p.checked"></lang-item>\r\n                                    <i *ngIf="s.lexiconDataset.title?.length > 0; else noTitleBlock" style="margin-left: 12px;">{{s.lexiconDataset.title[0]}}</i>\r\n                                    <ng-template #noTitleBlock>\r\n                                        <i style="margin-left: 12px;">{{s.lexiconDataset[\'@id\']}}</i>\r\n                                    </ng-template>\r\n                                    <div style="margin-left: 10px;">\r\n                                        Score: <b [title]="s.score">{{s.scoreRound}}</b>\r\n                                    </div>\r\n                                    <button class="btn btn-default btn-xs" style="margin-left: 12px;" (click)="describeSynonymizer(s)" title="Details">\r\n                                        <span class="glyphicon glyphicon-info-sign"></span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default" style="margin-top: 6px;">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Matchers</label>\r\n            </div>\r\n            <div class="panel-body">\r\n\r\n                <ng-container *ngIf="!matchers; then noMatchersBlock; else matchersBlock"></ng-container>\r\n\r\n                <ng-template #noMatchersBlock>\r\n                    <div *ngIf="!matchers" class="alert alert-info">\r\n                        Optionally a matcher can be provided to the alignment system.\r\n                        Click <a href="javascript:void(0)" (click)="searchMatchers()"><b>here</b></a> to search for available matchers.\r\n                    </div>\r\n                </ng-template>\r\n\r\n                <ng-template #matchersBlock>\r\n                    <div *ngIf="outdatedMatchers && matchers.length > 0" class="alert alert-warning" style="margin-bottom: 8px;">\r\n                        The pairings selection has changed, the list of available matchers could be outdated.\r\n                        Click <a href="javascript:void(0)" (click)="searchMatchers()"><b>here</b></a> to refresh the list.\r\n                    </div>\r\n                    <div *ngFor="let m of matchers" class="groupPanel" style="margin-top: 12px; margin-bottom: 8px; position: relative;">\r\n                        <div class="groupPanel-heading">\r\n                            <div class="groupPanel-heading-content">\r\n                                <label class="radio-inline" style="font-weight: bold;" title="If selected use this matcher">\r\n                                    <input type="radio" (click)="selectMatcher(m)" [checked]="selectedMatcher == m">Use\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="groupPanel-body">\r\n                            <div class="hbox" style="align-items: center; justify-content: center;">\r\n                                <b>{{m.id}}</b>\r\n                            </div>\r\n                            <div *ngIf="m.description" class="alert alert-info" style="margin-top: 6px">\r\n                                {{m.description}}\r\n                            </div>\r\n                            <div *ngIf="m.settings" class="panel panel-default" style="margin-top: 6px">\r\n                                <div class="panel-heading">\r\n                                    <div class="clickable" (click)="m.settings.open = !m.settings.open">\r\n                                        <span [class]="\'glyphicon glyphicon-menu-\' + (m.settings.open ? \'down\' : \'right\')"></span>\r\n                                    </div>\r\n                                    <label style="flex: 1;">Settings</label>\r\n                                    <span *ngIf="!m.settings.stProperties" class="glyphicon glyphicon-warning-sign" \r\n                                        style="margin-right: 4px;" title="The JSON settings must follow the schema specifications shown on the right">\r\n                                    </span>\r\n                                </div>\r\n                                <div class="panel-body">\r\n                                    <ng-container *ngIf="m.settings.open">\r\n                                        <settings-renderer *ngIf="m.settings.stProperties; else originalSchemaBlock" \r\n                                            [(ngModel)]="m.settings.stProperties" [disabled]="selectedMatcher != m">\r\n                                        </settings-renderer>\r\n                                        <ng-template #originalSchemaBlock>\r\n                                            <div class="hbox">\r\n                                                <json-editor [(ngModel)]="m.settings.settingsJson" class="CodeMirror-sm" style="flex: 2" \r\n                                                    [disabled]="selectedMatcher != m">\r\n                                                </json-editor>\r\n                                                <json-editor [(ngModel)]="m.settings.originalSchemaJson" class="CodeMirror-sm" style="flex: 3; margin-left: 4px;"\r\n                                                    [lineNumbers]="false" [disabled]="true">\r\n                                                </json-editor>\r\n                                            </div>\r\n                                        </ng-template>\r\n                                    </ng-container>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>\r\n\r\n<div #blockingDiv class="blockingDiv" style="display:none">\r\n    <div class="loadingDiv">\r\n        <div>\r\n            <p>Loading...</p><img src="'+n(18)+'" />\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body">\r\n\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col style="width: 1%;">\r\n                <col>\r\n            </colgroup>\r\n            <tbody>\r\n                <tr>\r\n                    <td class="text-right" nowrap><label>Type:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="shortType" [title]="dataset[\'@type\']" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.uriSpace">\r\n                    <td class="text-right" nowrap><label>URI space:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.uriSpace" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.conformsTo">\r\n                    <td class="text-right" nowrap><label>Conforms to:</label></td>\r\n                    <td><span [class]="\'badge \' + modelBadgeClass" [title]="dataset.conformsTo">{{shortConformsTo}}</span></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.sparqlEndpoint">\r\n                    <td class="text-right" nowrap><label>SPARQL endpoint:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.sparqlEndpoint" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.avgAmbiguity">\r\n                    <td class="text-right" nowrap><label>Avg ambiguity:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.avgAmbiguity" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.avgNumOfLexicalizations">\r\n                    <td class="text-right" nowrap><label title="Average number of lexicalizations">Avg lexicalizations</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.avgNumOfLexicalizations" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.avgSynonymy">\r\n                    <td class="text-right" nowrap><label>Avg synonymy:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.avgSynonymy" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.concepts">\r\n                    <td class="text-right" nowrap><label>Concepts:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.concepts" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.conceptualDataset">\r\n                    <td class="text-right" nowrap><label>Conceptual dataset:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.conceptualDataset" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.conceptualizations">\r\n                    <td class="text-right" nowrap><label>Conceptualizations:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.conceptualizations" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.languageLexvo">\r\n                    <td class="text-right" nowrap><label>Language Lexvo:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.languageLexvo" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.languageLOC">\r\n                    <td class="text-right" nowrap><label>Language LOC:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.languageLOC" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.languageTag">\r\n                    <td class="text-right" nowrap><label>Language Tag:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.languageTag" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.lexicalEntries">\r\n                    <td class="text-right" nowrap><label>Lexical entries:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.lexicalEntries" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.lexicalizationModel">\r\n                    <td class="text-right" nowrap><label>Lexicalization model:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.lexicalizationModel" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.lexicalizations">\r\n                    <td class="text-right" nowrap><label>Lexicalizations:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.lexicalizations" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.lexiconDataset">\r\n                    <td class="text-right" nowrap><label>Lexicon dataset:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.lexiconDataset" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.linguisticCatalog">\r\n                    <td class="text-right" nowrap><label>Linguistic catalog:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.linguisticCatalog" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.percentage">\r\n                    <td class="text-right" nowrap><label>Percentage:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.percentage" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.referenceDataset">\r\n                    <td class="text-right" nowrap><label>Reference dataset:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.referenceDataset" readonly></td>\r\n                </tr>\r\n                <tr *ngIf="dataset.references">\r\n                    <td class="text-right" nowrap><label>References:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="dataset.references" readonly></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body">\r\n\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col style="width: 1%;">\r\n                <col>\r\n            </colgroup>\r\n            <tbody>\r\n                <tr>\r\n                    <td class="text-right" nowrap><label>Source:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="pairing.source.lexicalizationSet" readonly></td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="text-right" nowrap><label>Target:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="pairing.target.lexicalizationSet" readonly></td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="text-right" nowrap><label>Score:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="pairing.score" readonly></td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="text-right" nowrap><label>Best combined score:</label></td>\r\n                    <td><input class="form-control input-sm" [ngModel]="pairing.bestCombinedScore" readonly></td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="text-right" nowrap><label>Synonymizer:</label></td>\r\n                    <td>\r\n                        <select class="form-control input-sm" [(ngModel)]="pairing.selectedSynonymizer" (ngModelChange)="onSynonimizerChanged()"\r\n                            [title]="\'conceptualizationSet: \' + pairing.selectedSynonymizerselectedSynonymizer?.conceptualizationSet + \'\\nlexicon: \' + pairing.selectedSynonymizerselectedSynonymizer?.lexicon">\r\n                            <option *ngFor="let s of pairing.synonymizers" [ngValue]="s"\r\n                                [title]="\'conceptualizationSet: \' + s.conceptualizationSet + \'\\nlexicon: \' + s.lexicon">\r\n                                {{s.score}}\r\n                            </option>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\n    <h3 class="modal-title text-info">{{context.title}}</h3>\n</div>\n<div class="modal-body vbox">\n    <div class="alert alert-warning">\n        {{context.message}}\n        <div>You can force a property</div>\n    </div>\n\n    <div class="hbox" style="align-items: center ; margin-top: 4px;">\n        <label style="margin-right: 4px; white-space: nowrap">Mapping property: </label>\n        <select class="form-control input-sm" [(ngModel)]="selectedProperty">\n            <option *ngFor="let p of mappingPropList" [title]="p.getURI()" [ngValue]="p">{{p.getShow()}}</option>\n        </select>\n    </div>\n\n    <div class="checkbox">\n        <label>\n            <input type="checkbox" [(ngModel)]="setAsDefault">Set the property as default for the relation\n        </label>\n    </div>\n\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedProperty">Ok</button>\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">Remote Alignment System configurations</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    \r\n    <div class="panel panel-default">\r\n        <div class="panel-body table-responsive">\r\n            <table class="table table-condensed">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Default</th>\r\n                        <th class="text-center">ID</th>\r\n                        <th class="text-center">Server URL</th>\r\n                        <th class="text-center">Username</th>\r\n                        <th class="text-center">Password</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngIf="savedConfigs?.length == 0">\r\n                        <td colspan="4">No configuration found. Please, create a new one.</td>\r\n                    </tr>\r\n                    <tr *ngFor="let conf of savedConfigs">\r\n                        <td class="text-center">\r\n                            <input type="radio" (click)="setDefaultConfig(conf)" [checked]="conf == defaultConfig">\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{conf.id}}\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <input-editable [value]="conf.serverURL" (valueEdited)="updateConfServerURL(conf, $event)"></input-editable>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <input-editable [value]="conf.username" allowEmpty="true" (valueEdited)="updateConfUsername(conf, $event)"></input-editable>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <input-editable [value]="conf.password" allowEmpty="true" (valueEdited)="updateConfPassword(conf, $event)"></input-editable>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <button class="btn btn-sm btn-default" (click)="deleteConfig(conf)">\r\n                                <span class="glyphicon glyphicon-trash"></span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div class="panel panel-default" style="margin-top: 5px">\r\n        <div class="panel-body">\r\n            <table class="table table-condensed table-borderless">\r\n                <tbody>\r\n                    <tr>\r\n                        <td><label>New:</label></td>\r\n                        <td>\r\n                            <input class="form-control input-sm" [(ngModel)]="newConfig.id" placeholder="Configuration ID">\r\n                        </td>\r\n                        <td>\r\n                            <input class="form-control input-sm" [(ngModel)]="newConfig.serverURL" placeholder="http://serverurl:8080">\r\n                        </td>\r\n                        <td>\r\n                            <input class="form-control input-sm" [(ngModel)]="newConfig.username" placeholder="username">\r\n                        </td>\r\n                        <td>\r\n                            <input class="form-control input-sm" [(ngModel)]="newConfig.password" placeholder="password">\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <div class="checkbox-inline" title="If checked the new configuration is automatically set as default">\r\n                                <label>\r\n                                    <input type="checkbox" [(ngModel)]="newConfig.default">Default\r\n                                </label>\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <button class="btn btn-sm btn-default" (click)="createConfig()" [disabled]="!newConfig.serverURL || !newConfig.id">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Close</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">Remote Alignment System settings</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    \r\n    <div class="panel panel-default">\r\n        <div class="panel-heading">\r\n            <span style="flex: 1"></span>\r\n            <button *ngIf="isAdmin" class="btn btn-xs btn-default" (click)="administration()" title="Administration">\r\n                <span class="glyphicon glyphicon-glyphicon glyphicon-wrench"></span>\r\n            </button>\r\n        </div>\r\n        <div class="panel-body table-responsive">\r\n            <table class="table">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Active</th>\r\n                        <th class="text-center">ID</th>\r\n                        <th class="text-center">Server URL</th>\r\n                        <th class="text-center">Username</th>\r\n                        <th class="text-center">Password</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngIf="savedConfigs?.length == 0">\r\n                        <td colspan="4">No configuration found. Please, create a new one.</td>\r\n                    </tr>\r\n                    <tr *ngFor="let conf of savedConfigs">\r\n                        <td class="text-center">\r\n                            \x3c!-- <input type="radio" (click)="toggleConfig(conf)" [checked]="conf == activeConfig"> --\x3e\r\n                            <input type="radio" (click)="activateConfig(conf)" [checked]="conf == activeConfig" [disabled]="!isSetServiceAuthorized">\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{conf.id}}\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{conf.serverURL}}\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{conf.username}}\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <ng-container *ngIf="conf.password">*******</ng-container>\r\n                        </td>\r\n                    </tr>\r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Close</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Synonymizer datasets</h3>\r\n</div>\r\n<div class="modal-body scrollableContainer">\r\n\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading">\r\n            <label>Lexicon</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <maple-dataset [dataset]="lexicon"></maple-dataset>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default" style="margin-top: 8px;">\r\n        <div class="panel-heading">\r\n            <label>Conceptualization Set</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <maple-dataset [dataset]="conceptualizationSet"></maple-dataset>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Close</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">Alignment report</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 60vh">\r\n    <div class="scrollableContainer" style="border: 1px solid #ddd">\r\n        <table class="table table-condensed table-hoverable">\r\n            <thead>\r\n                <tr>\r\n                    <th class="text-center">Source entity</th>\r\n                    <th class="text-center">Mapping Property</th>\r\n                    <th class="text-center">Target entity</th>\r\n                    <th class="text-center">Action performed</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody class="text-center">\r\n                <tr *ngFor="let r of context.report">\r\n                    <td>{{r.entity1}}</td>\r\n                    <td>{{r.property}}</td>\r\n                    <td>{{r.entity2}}</td>\r\n                    <td>{{r.action}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">Alignment validation settings</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    \r\n    <div class="hbox" style="align-items: center; flex: initial; margin-bottom: 5px;">\r\n        <span class="glyphicon glyphicon-info-sign" style="top: 0"\r\n            title="Specifies what to do with rejected alignments when applyng the validation to the ontology"></span>\r\n        <label style="white-space: nowrap; margin: 0px 3px;">Rejected alignment action:</label>\r\n        <select class="form-control input-sm" style="display: inline-block" [(ngModel)]="rejectedAlignmentAction">\r\n            <option *ngFor="let opt of rejectedAlignmentOptions" [value]="opt.value">{{opt.label}}</option>\r\n        </select>\r\n    </div>\r\n    \r\n    <div class="panel panel-default">\r\n        <div class="panel-heading">\r\n            <label>Relation meter aspect</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="panel panel-default" style="margin-bottom: 5px;">\r\n                <div class="panel-body">\r\n                    <div>Show relation as:</div>\r\n                    <div style="margin: 5px 0px 0px 5px">\r\n                        <div class="radio" *ngFor="let opt of showRelationOptions" style="margin: 0px;">\r\n                            <label>\r\n                                <input #relRadio type="radio" name="relRadio" [value]="opt.value" (click)="showRelationType=relRadio.value"\r\n                                    [checked]="showRelationType==relRadio.value">{{opt.label}}\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class="hbox" style="align-items: center">\r\n                <span style="margin-right: 3px;">Show confidence on meter</span>\r\n                <input type="checkbox" [(ngModel)]="confOnMeterCheck">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="hbox" style="align-items: center; flex: initial; margin-top: 5px">\r\n        <label style="white-space: nowrap; margin-right: 3px;">Maximum number of alignments shown (1&#247;100):</label>\r\n        <input class="form-control input-sm" type="number" step="1" [(ngModel)]="maxAlignment"\r\n            [ngClass]="{submitted: submitted, \'ng-invalid\': maxAlignment < 1 || maxAlignment > 100 }">\r\n    </div>\r\n        \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">Assisted search</h3>\r\n        <div class="btn-group btn-group-sm pull-right" style="margin-bottom: 5px; align-self: flex-end;">\r\n            <button class="btn btn-default" [ngClass]="{ active : targetPosition == \'local\' }" (click)="changeTargetPosition(\'local\')">Local</button>\r\n            <button class="btn btn-default" [ngClass]="{ active : targetPosition == \'remote\' }" (click)="changeTargetPosition(\'remote\')" [disabled]="!isRemoteAuthorized()">Remote</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox scrollableContainer blockingDivHost">\r\n\r\n    <ng-template [ngIf]="targetPosition == \'local\'">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading">\r\n                <label>Projects</label>\r\n            </div>\r\n            <div class="panel-body vbox scrollableContainer" style="max-height: 150px;">\r\n                <div *ngFor="let p of projectList">\r\n                    <div class="listItem" [ngClass]="{ active : p == selectedProject }" (click)="selectProject(p)">\r\n                        {{p.getName()}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="selectedProject" style="margin-top: 4px;">\r\n            <div *ngIf="!isProjectMetadataAvailable(); else mediationBlock" class="alert alert-warning">\r\n                VoID/LIME Metadata not available for local project \'{{selectedProject.getName()}}\'.\r\n                Click <a (click)="generateProjectMetadata()" style="cursor: pointer">here</a> to generate it.\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n    \r\n    <ng-template [ngIf]="targetPosition == \'remote\'">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1;">Remote datasets</label>\r\n                <button class="btn btn-default btn-xs" (click)="addRemoteDataset()" title="Add Remote Dataset">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n            </div>\r\n            <div class="panel-body vbox scrollableContainer" style="max-height: 150px;">\r\n                <div *ngFor="let d of remoteDatasets">\r\n                    <div class="listItem" [ngClass]="{ active : d == selectedDataset }" (click)="selectDataset(d)" [title]="d.identity">\r\n                        <span><label *ngIf="d.title">{{d.title}}:</label> {{d.uriSpace}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="selectedDataset" style="margin-top: 4px;">\r\n            <div *ngIf="!isDatasetMetadataAvailable(); else mediationBlock" class="alert alert-warning">\r\n                VoID/LIME Metadata not available for remote dataset \'{{selectedDataset.uriSpace}}\'.\r\n                You need to generate/add \'Embedded Lexicalization Sets\' from the Metadata Registry management in order to exploit this feature.\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <ng-template #mediationBlock>\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading">\r\n                <div style="flex: 1;">\r\n                    <label style="margin-right: 4px;">Paired Lexicalization Sets</label>\r\n                    <span class="glyphicon glyphicon-info-sign" title="Lexicalization sets shared between the source resource and the target project/dataset."></span>\r\n                </div>\r\n                <button *ngIf="targetPosition == \'local\'" class="btn btn-xs btn-default" (click)="refreshTargetMetadata()" title="Refresh metadata of the target project">\r\n                    <span class="glyphicon glyphicon-refresh"></span>\r\n                </button>\r\n            </div>\r\n            <div class="panel-body scrollableContainer" style="max-height: 150px;">\r\n                <table class="table table-condensed table-hoverable">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Lang</th>\r\n                            <th class="text-center" title="Percentage of resources that have a lexicalization in the given language">%</th>\r\n                            <th class="text-center" title="Average number of lexicalizations">Avg</th>\r\n                            <th class="text-center" title="Lexicalization Model">LexModel</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor="let ls of pairedLexicalizationSets; let index = index">\r\n                            <td>\r\n                                <div class="checkbox" style="margin: 0px;">\r\n                                    <label>\r\n                                        <input type="checkbox" [(ngModel)]="languagesToCheck[index].checked">\r\n                                        {{languagesToCheck[index].lang}}\r\n                                    </label>\r\n                                </div>\r\n                            </td>\r\n                            <td class="text-center">\r\n                                <span *ngIf="ls.percentage">{{ls.percentage*100}}</span>\r\n                            </td>\r\n                            <td class="text-center">{{ls.avgNumOfLexicalizations}}</td>\r\n                            <td class="text-center">{{getLexModelDisplayName(ls.lexicalizationModel)}}</td>\r\n                        </tr>\r\n                        \r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default" style="margin-top: 4px;">\r\n            <div class="panel-heading">\r\n                <span style="flex: 1">\r\n                    <label style="margin-right: 4px;">Search mode</label>\r\n                    <span class="glyphicon glyphicon-info-sign" title="String match modes on which the lexicalizations comparison is based on."></span>\r\n                </span>\r\n                <span *ngIf="getCheckedSearchMode().length == 0" class="grayText">\r\n                    <span class="glyphicon glyphicon-warning-sign"></span>\r\n                    If none is selected, \'Fuzzy\' and \'Contains\' are used by default\r\n                </span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <div *ngFor="let sm of searchModes" class="checkbox" style="margin: 5px 0px 0px">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="sm.checked">{{sm.show}}\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>\r\n'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox scrollableContainer">\r\n    <table class="table table-condensed table-hoverable">\r\n        <thead>\r\n            <tr>\r\n                <th>Resource</th>\r\n                <th>Matched language</th>\r\n                <th>Match mode</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor="let r of context.resourceList" (click)="resourceSelected = r" [ngClass]="{ info : r == resourceSelected }">\r\n                <td><rdf-resource [resource]="r"></rdf-resource></td>\r\n                <td>{{r.getAdditionalProperty(\'matchedLang\')}}</td>\r\n                <td>{{r.getAdditionalProperty(\'matchMode\')}}</td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!resourceSelected">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Add new alignment</h3>\r\n</div>\r\n<div class="modal-body blockingDivHost">\r\n    \r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n            <col style="width: 1%;">\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Source Resource:</label></td>\r\n                <td>\r\n                    <div class="input-sm input-resource">\r\n                        <rdf-resource [resource]="context.resource"></rdf-resource>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Target Resource:</label></td>\r\n                <td>\r\n                    <div class="input-sm input-resource">\r\n                        <rdf-resource *ngIf="alignedObject" [resource]="alignedObject"></rdf-resource>\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <div class="btn-group btn-group-sm" role="group" title="Pick external resource">\r\n                        <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                            <span class="glyphicon glyphicon-pencil"></span>\r\n                        </button>\r\n                        <ul class="dropdown-menu pull-right">\r\n                            <li><a (click)="browseLocalProjects()">Browse local projects</a></li>\r\n                            <li><a (click)="assistedSearch()">Assisted search</a></li>\r\n                            <li><a (click)="enterManually()">Enter value manually</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>Property:</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="mappingProperty">\r\n                        <option *ngFor="let p of mappingPropList" [ngValue]="p">{{p.getShow()}}</option>\r\n                    </select>\r\n                </td>\r\n                <td>\r\n                    <div class="checkbox-inline" title="Show all mapping properties">\r\n                        <label style="white-space: nowrap;">\r\n                            <input type="checkbox" [(ngModel)]="allPropCheck" (ngModelChange)="initPropList()">\r\n                            All prop.\r\n                        </label>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<config-bar></config-bar>\r\n<nav class="navbar navbar-default navbar-static-top">\r\n    <div class="container-fluid">\r\n        <div class="navbar-header">\r\n            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">\r\n                <span class="glyphicon glyphicon-menu-hamburger"></span>\r\n            </button>\r\n            <a class="navbar-brand" [routerLink]="[\'/Home\']">VocBench</a>\r\n        </div>\r\n        <div class="collapse navbar-collapse" id="myNavbar">\r\n            <ul class="nav navbar-nav">\r\n                <li *ngIf="isUserLogged() && isUserAdmin()" routerLinkActive="active">\r\n                    <a [routerLink]="[\'/Projects\']">Projects</a>\r\n                </li>\r\n                <li *ngIf="isUserLogged() && isProjectOpen()" [ngClass]="{ disabled : !isDataAuthorized() }" routerLinkActive="active">\r\n                    <a *ngIf="!isProjectEdoal()" [routerLink]="[\'/Data\']">Data</a>\r\n                    <a *ngIf="isProjectEdoal()"[routerLink]="[\'/Edoal\']">Data</a>\r\n                </li>\r\n                <li *ngIf="isUserLogged() && isProjectOpen()" class="dropdown">\r\n                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">\r\n                        Metadata <span class="caret"></span>\r\n                    </a>\r\n                    <ul class="dropdown-menu" style="font-size: 12px; line-height: 20px;">\r\n                        <li><a [routerLink]="[\'/Imports\']">Namespaces and Imports</a></li>\r\n                        <li *ngIf="isMetadataVocAuthorized()"><a [routerLink]="[\'/Vocabularies\']">Metadata Vocabularies</a></li>\r\n                        <li *ngIf="isMetadataRegistryAuthorized()"><a [routerLink]="[\'/MetadataRegistry\']">Metadata Registry</a></li>\r\n                    </ul>\r\n                </li>\r\n\t\t\t\t<li *ngIf="isUserLogged() && isProjectOpen()" [ngClass]="{ disabled : !isSparqlAuthorized() }" routerLinkActive="active">\r\n                    <a [routerLink]="[\'/Sparql\']">SPARQL</a>\r\n                </li>\r\n                <li *ngIf="isUserLogged() && isProjectOpen() && isProjectHistoryEnabled()" [ngClass]="{ disabled : !isHistoryAuthorized() }"\r\n                    routerLinkActive="active">\r\n                    <a [routerLink]="[\'/History\']">History</a>\r\n                </li>\r\n                <li *ngIf="isUserLogged() && isProjectOpen() && isProjectValidationEnabled()" [ngClass]="{ disabled : !isValidationAuthorized() }"\r\n                    routerLinkActive="active">\r\n                    <a [routerLink]="[\'/Validation\']">Validation</a>\r\n                </li>\r\n                <li *ngIf="isUserLogged() && isProjectOpen()" class="dropdown">\r\n                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">\r\n                        Tools <span class="caret"></span>\r\n                    </a>\r\n                    <ul class="dropdown-menu" style="font-size: 12px; line-height: 20px;">\r\n                        <li *ngIf="isAlignValidationAuthorized()"><a [routerLink]="[\'/AlignmentValidation\']">Alignment Validation</a></li>\r\n                        <li *ngIf="isCollaborationAuthorized()"><a [routerLink]="[\'/Collaboration\']">Collaboration System</a></li>\r\n                        <li *ngIf="isCustomFormAuthorized()"><a [routerLink]="[\'/CustomForm\']">Custom Form</a></li>\r\n                        <li *ngIf="isCustomServicesAuthorized()"><a [routerLink]="[\'/CustomServices\']">Custom Services and Reports</a></li>\r\n                        <li><a [routerLink]="[\'/Icv\']">Integrity Constraint Validator (ICV)</a></li>\r\n                        <li *ngIf="isResourceMetadataAuthorized()"><a [routerLink]="[\'/ResourceMetadata\']">ResourceMetadata</a></li>\r\n                        <li *ngIf="isSheet2RdfAuthorized()"><a [routerLink]="[\'/Sheet2RDF\']">Sheet2RDF</a></li>\r\n                        <li *ngIf="isSkosDiffingAuthorized()"><a [routerLink]="[\'/SkosDiffing\']">SKOS Diffing</a></li>\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n            <ul class="nav navbar-nav navbar-right">\r\n                \x3c!-- See userMenuComponent to understand user-menu attribute (to avoid css style breaking) --\x3e\r\n                <li user-menu *ngIf="isUserLogged()" class="dropdown">\r\n            </ul>\r\n        </div>    \r\n    </div>\r\n</nav>\r\n<div class="vbox" style="padding: 10px;">\r\n    <router-outlet></router-outlet>\r\n</div>\r\n<div class="bottom-bar">\r\n    <span>v. {{appVersion}}</span>\r\n    <span class="pull-right"> <a href="http://art.uniroma2.it/" target="_blank">ART Group</a>, 2016</span>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading" style="display: flex;">\r\n        <label style="flex: 1">Collaboration System</label>\r\n\r\n        <button class="btn btn-default btn-xs" (click)="initIssueList()" [disabled]="!issues">\r\n            <span class="glyphicon glyphicon-refresh"></span>\r\n        </button>\r\n        <div class="dropdown" style="margin-left: 3px">\r\n            <button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </button>\r\n            <ul class="dropdown-menu pull-right">\r\n                <li *ngIf="isCollProjManagementAuthorized()"><a (click)="openProjectConfig()">Project configuration</a></li>\r\n                <li><a (click)="openUserConfig()">User configuration</a></li>\r\n                <li *ngIf="isCollProjManagementAuthorized()" [ngClass]="{ disabled : !csProjectLinked }">\r\n                    <a (click)="assignProject()">Assign CS project</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n    <div class="panel-body vbox">\r\n\r\n        \x3c!-- Mandatory settings not configured (missing serverURL) --\x3e\r\n        <div *ngIf="!projSettingsConfigured; else elseBlock1" class="alert alert-warning" style="margin: 3px;">\r\n            No Collaboration System has been configured. \r\n            <span *ngIf="isCollProjManagementAuthorized()">\r\n                Please, <a style="cursor: pointer" (click)="openProjectConfig()">configure</a> a CS.\r\n            </span>\r\n        </div>\r\n        <ng-template #elseBlock1>\r\n            \x3c!-- Mandatory settings configured, Mandatory preferences not configured (missing credentials) --\x3e\r\n            <div *ngIf="!userSettingsConfigured; else elseBlock2" class="alert alert-warning" style="margin: 3px;">\r\n                You need to be logged to the CS in order to see the issues list. Please, \r\n                <a style="cursor: pointer" (click)="openUserConfig()">provide</a> your credentials.\r\n            </div>\r\n            <ng-template #elseBlock2>\r\n                \x3c!-- Mandatory settings and preferences configured, but no project is linked (optional settings) --\x3e\r\n                <div *ngIf="!csProjectLinked; else elseBlock3" class="alert alert-warning" style="margin: 3px;">\r\n                    There is no CS project assigned to this Vocbench project.\r\n                    <span *ngIf="isCollProjManagementAuthorized()">\r\n                        <a style="cursor: pointer" (click)="assignProject()">Create or assign</a> a project.\r\n                    </span>\r\n                </div>\r\n                <ng-template #elseBlock3>\r\n                    \x3c!-- All configured: mandatory settings and preferences, project linked --\x3e\r\n                    <div *ngIf="!csWorking" class="alert alert-warning" style="margin: 3px;">\r\n                        Collaboration System seems to be configured but it is not working. \r\n                        Please, check that the configuration is valid, or be sure that the CS server is running.\r\n                    </div>\r\n                </ng-template>\r\n            </ng-template>\r\n        </ng-template>\r\n        \r\n        <issue-list *ngIf="csWorking"></issue-list>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="table-responsive" style="flex: 1;">\r\n    <table *ngIf="issues" class="table table-condensed table-hoverable">\r\n        <colgroup>\r\n            <col style="width: 1%">\r\n            <col style="width: 50%">\r\n            <col *ngIf="context == \'Dashboard\'">\r\n            <col style="width: 1%">\r\n        </colgroup>\r\n        <tbody>\r\n            <tr *ngFor="let i of issues" (click)="selectIssue(i)" [ngClass]="{ info : i == selectedIssue }">\r\n                <td nowrap>\r\n                    <a [href]="i.getUrl()" target="_blank">{{i.getKey()}}</a>\r\n                </td>\r\n                <td>{{i.getSummary()}}</td>\r\n                <td *ngIf="context == \'Dashboard\'">\r\n                    <div *ngIf="i.getResources().length > 0; else noResBlock">\r\n                        <rdf-resource *ngFor="let r of i.getResources()" [resource]="r" class="clickable" (click)="onResourceClick(r)"></rdf-resource>\r\n                    </div>\r\n                    <ng-template #noResBlock>\r\n                        <span class="glyphicon glyphicon-warning-sign" style="color: #f0ad4e; padding: 0px 2px;"></span>\r\n                        <span style="font-style: italic; color: grey;">No resource(s) associated to this issue</span>\r\n                    </ng-template>\r\n                </td>\r\n                <td class="text-center">\r\n                    <span [class]="\'label \' + i.getStatusClass()" style="font-size: 100%">{{i.getStatus()}}</span>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n        <tfoot></tfoot>\r\n    </table>\r\n</div>\r\n\r\n<div *ngIf="showPaging" style="align-self: flex-end">\r\n    <div class="btn-group btn-group-xs pull-right" style="margin-top: 4px;" role="group">\r\n        <button class="btn btn-default" title="Previous page" (click)="previousPage()" [disabled]="page==0">\r\n            <span class="glyphicon glyphicon-triangle-left"></span>\r\n        </button>\r\n        <button class="btn btn-default" style="cursor: auto" disabled>\r\n            <span>{{page+1}} of {{totPage}}</span>\r\n        </button>\r\n        <button class="btn btn-default" title="Next page" (click)="nextPage()" [disabled]="page==totPage-1">\r\n            <span class="glyphicon glyphicon-triangle-right"></span>\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n<div #blockingDiv class="blockingDiv" style="display:none">\r\n    <div class="loadingDiv">\r\n        <div>\r\n            <p>Loading...</p><img src="'+n(18)+'" />\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Collaboration System configuration\r\n    </h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 20vh">\r\n\r\n    <issue-list (issueSelected)="selectIssue($event)" [context]="issueCtx"></issue-list>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedIssue">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Collaboration System configuration\r\n    </h3>\r\n</div>\r\n<div class="modal-body scrollableContainer blockingDivHost">\r\n\r\n    <div class="hbox" style="align-items: center; margin: 4px;">\r\n        <label style="margin-right: 4px; white-space: nowrap">Backend type:</label>\r\n        <select class="form-control input-sm" [(ngModel)]="selectedExtension" (ngModelChange)="onExtensionChange()">\r\n            <option *ngFor="let ext of extensions" [title]="ext.description" [ngValue]="ext">{{ext.name}}</option>\r\n        </select>\r\n        <button *ngIf="resettable" class="btn btn-default btn-sm" style="margin-left: 4px;" (click)="reset()">Reset</button>\r\n    </div>\r\n\r\n    <settings-renderer-panel *ngIf="projSettings" [(ngModel)]="projSettings"></settings-renderer-panel>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Collaboration System projects\r\n    </h3>\r\n</div>\r\n<div class="modal-body blockingDivHost">\r\n\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Projects:</label>\r\n            <button class="btn btn-xs btn-default" (click)="createProject()">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n        </div>\r\n        <div class="panel-body scrollableContainer" style="min-height: 70px;">\r\n            <table class="table table-condensed table-borderless table-hoverable">\r\n                <thead>\r\n                    <tr>\r\n                        <th *ngFor="let h of headers" class="text-center">{{h}}</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let p of projects" (click)="selectProject(p)" [ngClass]="{ info : p == selectedProject }">\r\n                        <td *ngFor="let h of headers" class="text-center">{{p[h]}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div #blockDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedProject">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Collaboration System configuration\r\n    </h3>\r\n</div>\r\n<div class="modal-body scrollableContainer blockingDivHost">\r\n\r\n    <div *ngIf="!collSysBackendId" style="margin-bottom: 4px;">\r\n        <div class="alert alert-warning">\r\n            The Collaboration System has not been configured for this project.\r\n        </div>\r\n    </div>\r\n\r\n    <settings-renderer-panel *ngIf="collSysBackendId" [(ngModel)]="userSettings"></settings-renderer-panel>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Create Issue\r\n    </h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <settings-renderer [(ngModel)]="form"></settings-renderer>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="container-fluid">\r\n    \r\n    <div class="dropdown pull-left">\r\n        <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" (click)="onAboutMenuOpen()">\r\n            About VocBench\r\n            <span class="caret"></span>\r\n        </button>\r\n        <ul class="dropdown-menu">\r\n            <li>\r\n                <a href="http://vocbench.uniroma2.it/" target="_blank">\r\n                    <span class="glyphicon glyphicon-globe" style="margin-right: 5px"></span>VocBench website\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a href="http://vocbench.uniroma2.it/aboutus/" target="_blank">\r\n                    <span class="glyphicon glyphicon-comment" style="margin-right: 5px"></span>Contact us\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a href="http://vocbench.uniroma2.it/support/" target="_blank">\r\n                    <span class="glyphicon glyphicon-question-sign" style="margin-right: 5px"></span>Support\r\n                </a>\r\n            </li>\r\n            <li *ngIf="privacyStatementAvailable">\r\n                <a (click)="downloadPrivacyStatement()">\r\n                    <span class="glyphicon glyphicon-download-alt" style="margin-right: 5px"></span>Privacy statement\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    \r\n    \x3c!--Configuration of project data, not available when there is no project accessed--\x3e\r\n    <div *ngIf="isUserLogged() && isProjectAccessed()" class="pull-right">\r\n        <div class="dropdown pull-right">\r\n            <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" (click)="onGlobalDataManagementMenuOpen()">\r\n                Global Data Management\r\n                <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li [ngClass]="{ disabled : !loadDataAuthorized }">\r\n                    <a [routerLink]="[\'/Config/LoadData\']">\r\n                        <span class="glyphicon glyphicon-open" style="margin-right: 5px"></span>Load data\r\n                    </a>\r\n                </li>\r\n                <li [ngClass]="{ disabled : !exportDataAuthorized }">\r\n                    <a [routerLink]="[\'/Config/ExportData\']">\r\n                        <span class="glyphicon glyphicon-save" style="margin-right: 5px"></span>Export data\r\n                    </a>\r\n                </li>\r\n                <li [ngClass]="{ disabled : !clearDataAuthorized }">\r\n                    <a (click)="clearData()">\r\n                        <span class="glyphicon glyphicon-floppy-remove" style="margin-right: 5px"></span>Clear data\r\n                    </a>\r\n                </li>\r\n                <li role="separator" class="divider"></li>\r\n                <li [ngClass]="{ disabled : !versioningAuthorized }">\r\n                    <a [routerLink]="[\'/Config/Versioning\']">\r\n                        <span class="glyphicon glyphicon-time" style="margin-right: 5px"></span>Versioning\r\n                    </a>\r\n                </li>\r\n                <li role="separator" class="divider"></li>\r\n                <li>\r\n                    <a [routerLink]="[\'/Config/Refactor\']">\r\n                        <span class="glyphicon glyphicon-retweet" style="margin-right: 5px"></span>Refactor\r\n                    </a>\r\n                </li>\r\n                <ng-container *ngIf="shaclEnabled">\r\n                    <li role="separator" class="divider"></li>\r\n                    <li [ngClass]="{ disabled : !loadShapesAuthorized }">\r\n                        <a (click)="loadShacleShapes()">\r\n                            <span class="glyphicon glyphicon-open" style="margin-right: 5px"></span>Load shapes\r\n                        </a>\r\n                    </li>\r\n                    <li [ngClass]="{ disabled : !exportShapesAuthorized }">\r\n                        <a (click)="exportShacleShapes()">\r\n                            <span class="glyphicon glyphicon-save" style="margin-right: 5px"></span>Export shapes\r\n                        </a>\r\n                    </li>\r\n                    <li [ngClass]="{ disabled : !clearShapesAuthorized }">\r\n                        <a (click)="clearShacleShapes()">\r\n                            <span class="glyphicon glyphicon-floppy-remove" style="margin-right: 5px"></span>Clear shapes\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="isUserLogged()" class="pull-right hbox" style="margin-right: 12px; align-items: center;">\r\n\r\n        <div class="pull-right" style="display:flex; align-items: center">\r\n            <label style="margin-right: 2px;">Current project:</label>\r\n            <div class="btn-group btn-group-xs" role="group">\r\n                <a href="#" class="btn btn-default disabled" style="pointer-events: none; opacity: initial" role="button">\r\n                    <ng-template [ngIf]="isProjectAccessed()">\r\n                        {{currentProject.getName()}}\r\n                    </ng-template>\r\n                    <ng-template [ngIf]="!isProjectAccessed()">\r\n                        ------\r\n                    </ng-template>\r\n                </a>\r\n                <button class="btn btn-default" style="padding-left: 2px;" (click)="changeProject()" title="Change project">\r\n                    <span class="glyphicon glyphicon-list-alt" style="line-height: 1"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="getCtxVersion()" class="pull-right" style="margin-left: 4px; display:flex; align-items: center">\r\n            <label style="margin-right: 2px;">ver:</label>\r\n            <span>{{getCtxVersion().versionId}}</span>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Data Dumps</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="alert alert-info">\r\n        {{context.message}}\r\n    </div>\r\n\r\n    <div class="table-responsive" style="margin-top: 6px;">\r\n        <table class="table table-hoverable">\r\n            <thead>\r\n                <tr>\r\n                    <th>URL</th>\r\n                    <th>Title</th>\r\n                    <th>Description</th>\r\n                    \x3c!-- <th>MimeType</th> --\x3e\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let d of context.dataDumps" [ngClass]="{ info: d == selectedDump }" (click)="selectedDump = d">\r\n                    <td><a [href]="d.accessURL" target="_blank">{{d.accessURL}}</a></td>\r\n                    <td>{{d.getPreferredTitle() != null ? d.getPreferredTitle().toNT() : null }}</td>\r\n                    <td>{{d.getPreferredDescription() != null ? d.getPreferredDescription().toNT() : null }}</td>\r\n                    \x3c!-- <td>{{d.mimeType}}</td> --\x3e\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedDump">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Dataset Catalog</h3>\r\n</div>\r\n<div class="modal-body vbox blockingDivHost" style="min-height: 75vh;">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Catalog:</label></td>\r\n                <td>\r\n                   <extension-configurator *ngIf="extensions" [extensions]="extensions"\r\n                    (extensionUpdated)="onExtensionChange($event)"\r\n                    (configurationUpdated)="onExtensionConfigUpdated($event)"></extension-configurator>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Search:</label></td>\r\n                <td>\r\n                    <div class="input-group input-group-sm">\r\n                        <input type="text" class="form-control" [(ngModel)]="query" (keydown)="onKeydown($event)" [disabled]="selectedExtension == null  || requireConfigurationConnector()">\r\n                        <div class="input-group-btn">\r\n                            <button class="btn btn-default" (click)="searchDataset()" [disabled]="selectedExtension == null  || requireConfigurationConnector()">\r\n                                <span class="glyphicon glyphicon-search"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="hbox" style="margin-top: 4px;">\r\n        <div class="panel panel-default vbox" style="flex: 1;">\r\n            <div class="panel-heading">\r\n                <label>Search results:</label>\r\n            </div>\r\n            <div class="panel-body hbox">\r\n                <div class="vbox scrollableContainer">\r\n                    <div *ngIf="searchDatasetResult?.totalResults == 0" class="searchDatasetResult">No results found</div>\r\n                    <div *ngFor="let d of searchDatasetResult?.content">\r\n                        <div class="listItem searchDatasetResult" [ngClass]="{active: d == selectedDataset}" (click)="selectDataset(d)">\r\n                            <div style="font-size: 13px">\r\n                                <label>{{d.id}}</label>\r\n                                <span> - {{d.getPreferredTitle().getValue()}} <span style="color: green">@{{d.getPreferredTitle().getLang()}}</span></span>\r\n                            </div>\r\n                            <a *ngIf="d.ontologyIRI" [href]="d.ontologyIRI.getURI()" target="_blank" style="color: gray; align-self: start">{{d.ontologyIRI.getURI()}}</a>\r\n                            <div *ngIf="d.descriptions.length > 0">\r\n                                <div style="height: 1px; margin: 2px 0; overflow: hidden; background-color: #e5e5e5;"></div>\r\n                                <span style="font-size: 12px">{{d.getPreferredDescription().toNT()}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf="searchDatasetResult?.facetAggregations" class="vbox scrollableContainer" style="flex: initial;">\r\n                    <div *ngFor="let facetAggregation of searchDatasetResult.facetAggregations" class="panel panel-alt" style="margin-bottom: 4px;">\r\n                        <div class="panel-heading"><label>{{facetAggregation.displayName||facetAggregation.name}}</label></div>\r\n                        <div class="panel-body">\r\n                            <div *ngFor="let bucket of facetAggregation.buckets" style="margin-bottom: 3px;">\r\n                                <button class="btn btn-sm btn-default" [ngClass]="{ active: lastSearchFacets[facetAggregation.name]?.items[bucket.name] }"\r\n                                    (click)="toggleFacet(facetAggregation, bucket)">\r\n                                    {{bucket.displayName||bucket.name}}\r\n                                    <span class="label label-default">{{bucket.count}}</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-footer">\r\n                <div *ngIf="searchDatasetResult" class="hbox pull-right" style="align-items: center;">\r\n                    <span style="margin-right: 4px;">{{searchDatasetResult.totalResults}} results</span>\r\n                    <div *ngIf="searchDatasetResult.totalResults > 0" class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" title="Previous page" (click)="prevPage()" [disabled]="page==0">\r\n                            <span class="glyphicon glyphicon-triangle-left"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" style="cursor: auto" disabled>\r\n                            <span>{{page+1}} of {{totPage}}</span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Next page" (click)="nextPage()" [disabled]="searchDatasetResult.tail">\r\n                            <span class="glyphicon glyphicon-triangle-right"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="clearfix"></div>\r\n            </div>\r\n        </div>\r\n\r\n        <dataset-description *ngIf="selectedDatasetDescription" [dataset]="selectedDatasetDescription" [extension]="selectedExtension"\r\n            style="margin-left: 4px;">\r\n        </dataset-description>\r\n\r\n    </div>\r\n\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedDatasetDescription">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox" style="flex: 1; margin-left: 4px;">\r\n    <div class="panel-heading">\r\n        <label>Dataset description:</label>\r\n    </div>\r\n\r\n    <div class="panel-body hbox">\r\n\r\n        <div class="panel panel-default vbox" style="flex: 2;">\r\n            <div class="panel-body vbox">\r\n                <div class="table-responsive" style="flex: 1;">\r\n                    <table class="table table-condensed">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td style="vertical-align: top;"><label>ID</label></td>\r\n                                <td>{{dataset.id}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;"><label>Title</label></td>\r\n                                <td>\r\n                                    <div *ngFor="let t of dataset.titles" style="margin-bottom: 4px;">{{t.getValue()}} @{{t.getLang()}}</div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;"><label>Description</label></td>\r\n                                <td>\r\n                                    <div *ngFor="let d of dataset.descriptions" style="margin-bottom: 4px;">\r\n                                        {{d.getValue()}} @{{d.getLang()}}\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;" nowrap><label>Dataset page</label></td>\r\n                                <td><a [href]="dataset.datasetPage" target="_blank">{{dataset.datasetPage}}</a></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;" nowrap><label>Ontology IRI</label></td>\r\n                                <td>\r\n                                    <a *ngIf="dataset.ontologyIRI" [href]="dataset.ontologyIRI.getURI()" target="_blank">\r\n                                        {{dataset.ontologyIRI.getURI()}}\r\n                                    </a>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;" nowrap><label>Data dumps</label></td>\r\n                                <td>\r\n                                    <div *ngFor="let dump of dataset.dataDumps" style="margin-bottom: 4px;">\r\n                                        <a [href]="dump.accessURL" target="_blank" [title]="dump.getPreferredTitle()?.toNT()">{{dump.accessURL}}</a>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;" nowrap><label>URI prefix</label></td>\r\n                                <td>{{dataset.uriPrefix}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;" nowrap><label>SPARQL Endpoint</label></td>\r\n                                <td>{{dataset.sparqlEndpoint}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;"><label>Model</label></td>\r\n                                <td>{{dataset.model}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style="vertical-align: top;" nowrap><label>Lexicalization Model</label></td>\r\n                                <td>{{dataset.lexicalizationModel}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="getFacetsKeys().length != 0" class="vbox scrollableContainer" style="padding: 0px; margin-left: 4px; max-width: 200px;">\r\n            <div *ngFor="let key of getFacetsKeys()" class="panel panel-alt vbox" style="margin-bottom: 4px;">\r\n                <div class="panel-heading"><label>{{key}}</label></div>\r\n                <div class="panel-body scrollableContainer" style="flex: 1;">\r\n                    <div *ngFor="let value of dataset.facets[key]" style="margin-bottom: 3px;">\r\n                        <span class="label label-default" style="font-size: 11px;">{{value}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Export data:</label>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" title="Save export configuration" (click)="saveChain()">\r\n                    <span class="glyphicon glyphicon-floppy-save"></span>\r\n                </button>\r\n                <button class="btn btn-default" title="Load export configuration" (click)="loadChain()">\r\n                    <span class="glyphicon glyphicon-floppy-open"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="panel-body vbox">\r\n\r\n        <div class="panel panel-alt vbox" style="min-height: 150px;">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">\r\n                    Graphs to export\r\n                </label>\r\n                <span *ngIf="areAllGraphDeselected()" class="grayText">\r\n                    <span class="glyphicon glyphicon-warning-sign"></span>\r\n                    If no graph is selected, all named graphs will be exported\r\n                </span>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n                <div *ngFor="let g of exportGraphs" class="listItem" style="align-items: center">\r\n                    <input type="checkbox" [(ngModel)]="g.checked" (ngModelChange)="onGraphSelectionChange(g)">\r\n                    <span style="margin-left: 5px;">{{g.graph.getURI()}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-alt vbox" style="flex: 2; margin-top: 4px;">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Export transformations:</label>\r\n\r\n                <div class="btn-toolbar" role="toolbar">\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" title="Add filter" (click)="appendFilter()">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Remove filter" (click)="removeFilter()"\r\n                            [disabled]="filtersChain.length == 0 || !selectedFilterChainElement">\r\n                            <span class="glyphicon glyphicon-minus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Move down"  (click)="moveFilterDown()"\r\n                            [disabled]="isSelectedFilterLast() || !selectedFilterChainElement">\r\n                            <span class="glyphicon glyphicon-chevron-down"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Move up" (click)="moveFilterUp()"\r\n                            [disabled]="isSelectedFilterFirst() || !selectedFilterChainElement">\r\n                            <span class="glyphicon glyphicon-chevron-up"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n                <div class="alert alert-info alert-dismissible" role="alert" style="margin-bottom: 5px;">\r\n                    Here it is possible to create and configure a sequence of transformations to be applied during the export process.\r\n                    Each transformer is applied to a subset of the exported graphs. No graph means every exported graph.\r\n                    <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n                </div>\r\n                <table class="table table-condensed table-hoverable">\r\n                    <colgroup>\r\n                        <col style="width: 2%">\r\n                        <col>\r\n                        <col style="width: 2%">\r\n                    </colgroup>\r\n                    <tbody>\r\n                        <tr *ngFor="let filterChainEl of filtersChain; let l = last; let f = first; let idx = index" \r\n                            [ngClass]="{ info: filterChainEl == selectedFilterChainElement }" (click)="selectFilterChainElement(filterChainEl)">\r\n                            <td class="text-center" style="font-size: 11px; font-weight: 700;">{{idx+1}}</td>\r\n                            <td class="hbox">\r\n                                <extension-configurator [extensions]="filterChainEl.availableFactories"\r\n                                    (extensionUpdated)="onExtensionUpdated(filterChainEl, $event)"\r\n                                    (configurationUpdated)="onConfigurationUpdated(filterChainEl, $event)" \r\n                                    (configStatusUpdated)="onConfigStatusUpdated(filterChainEl, $event)"\r\n                                    style="flex: 1;">\r\n                                </extension-configurator>\r\n                                <button class="btn btn-default" (click)="configureGraphs(filterChainEl)" style="margin-left: 4px;">Graphs</button>\r\n                            </td>\r\n                            <td class="text-center" style="font-size: 14px;">\r\n                                <span *ngIf="requireConfiguration(filterChainEl)" class="glyphicon glyphicon-warning-sign"\r\n                                    title="This filter needs to be configured"></span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-alt" style="margin-top: 4px;">\r\n            <div class="panel-heading">\r\n                <label style="margin-right: 8px">Deployment:</label>\r\n                <select class="form-control input-xs" style="width: initial" [(ngModel)]="selectedDeployment">\r\n                    <option *ngFor="let depOpt of deploymentOptions" [ngValue]="depOpt">{{depOpt.label}}</option>\r\n                </select>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table class="table table-condensed table-borderless">\r\n                    <colgroup>\r\n                        <col style="width: 80px">\r\n                        <col>\r\n                    </colgroup>\r\n                    \x3c!-- When a deployer source is specified (so a deployer is used) --\x3e\r\n                    <tr *ngIf="useDeployer()">\r\n                        <td><label>Deployer:</label></td>\r\n                        <td>\r\n                            <div class="hbox" style="align-items: center">\r\n                                <ng-template [ngIf]="selectedDeployment.source == \'repository\'">\r\n                                    <extension-configurator #deployerConfigurator *ngIf="repoSourcedDeployer" [extensions]="repoSourcedDeployer"\r\n                                        (extensionUpdated)="selectedDeployerExtension = $event"\r\n                                        (configurationUpdated)="onDeployerConfigUpdated($event)"\r\n                                        (configStatusUpdated)="onDeployerConfigStatusUpdated($event)"\r\n                                        style="flex: 1;">\r\n                                    </extension-configurator>\r\n                                </ng-template>\r\n                                <ng-template [ngIf]="selectedDeployment.source == \'stream\'">\r\n                                    <extension-configurator #deployerConfigurator *ngIf="streamSourcedDeployer" [extensions]="streamSourcedDeployer"\r\n                                        (extensionUpdated)="selectedDeployerExtension = $event"\r\n                                        (configurationUpdated)="onDeployerConfigUpdated($event)"\r\n                                        (configStatusUpdated)="onDeployerConfigStatusUpdated($event)"\r\n                                        style="flex: 1;">\r\n                                    </extension-configurator>\r\n                                </ng-template>\r\n                                <div *ngIf="requireConfigurationDeployer()" style="font-size: 14px; margin-left: 4px;">\r\n                                    <span class="glyphicon glyphicon-warning-sign" title="Configuration required"></span>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    \x3c!-- Reformatter available only when not using a deployer, or when using a stream-source deployer --\x3e\r\n                    <tr *ngIf="useReformatter()">\r\n                        <td><label>Reformatter:</label></td>\r\n                        <td>\r\n                            <div class="hbox" style="align-items: center">\r\n                                <extension-configurator #reformatterConfigurator *ngIf="reformatters" [extensions]="reformatters"\r\n                                    (extensionUpdated)="onReformatterExtensionUpdated($event)"\r\n                                    (configurationUpdated)="onReformatterConfigUpdated($event)"\r\n                                    (configStatusUpdated)="onReformatterConfigStatusUpdated($event)"\r\n                                    style="flex: 1;">\r\n                                </extension-configurator>\r\n\r\n                                <div *ngIf="requireConfigurationFormatter()" style="font-size: 14px; margin-left: 4px;">\r\n                                    <span class="glyphicon glyphicon-warning-sign" title="Configuration required"></span>\r\n                                </div>\r\n        \r\n                                <div class="hbox" style="align-items: center; flex: initial; margin-left: 8px;">\r\n                                    <label style="white-space: nowrap; margin-right: 4px;">Export Format:</label>\r\n                                    <select class="form-control input-sm" [(ngModel)]="selectedExportFormat">\r\n                                        <option *ngFor="let f of exportFormats" [ngValue]="f">{{f.name}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    \r\n    <div class="panel-footer">\r\n        <div class="pull-right">\r\n            <div class="checkbox" style="display: inline-block; margin: 0 20px 0 0;">\r\n                <label><input type="checkbox" [(ngModel)]="includeInferred">Include inferred</label>\r\n            </div>\r\n            <button type="submit" class="btn btn-default btn-sm" (click)="export()">Submit</button>\r\n        </div>\r\n        <span class="clearfix"></span> \x3c!--To fix UI bug--\x3e\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Graph selection</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="alert alert-info">\r\n        Choose the graphs (among those exported) to which the filter will be applied\r\n    </div>\r\n\r\n    <div class="panel panel-alt vbox" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">\r\n                Graphs\r\n            </label>\r\n            <span *ngIf="areAllGraphDeselected()" class="grayText">\r\n                <span class="glyphicon glyphicon-warning-sign"></span>\r\n                If no graph is selected, the filter will be applied to all of them\r\n            </span>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngFor="let g of context.graphs" class="listItem" style="align-items: center">\r\n                <input type="checkbox" [(ngModel)]="g.checked">\r\n                <span style="margin-left: 5px;">{{g.graph.getURI()}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Load Data:</label>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" title="Save import configuration" (click)="saveChain()">\r\n                    <span class="glyphicon glyphicon-floppy-save"></span>\r\n                </button>\r\n                <button class="btn btn-default" title="Load import configuration" (click)="loadChain()">\r\n                    <span class="glyphicon glyphicon-floppy-open"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="panel-body vbox">\r\n        <div class="panel panel-alt">\r\n            <div class="panel-heading">\r\n                <label style="margin-right: 8px">Load from:</label>\r\n                <select class="form-control input-xs" style="width: initial" [(ngModel)]="selectedLoader">\r\n                    <option *ngFor="let loaderOpt of loaderOptions" [ngValue]="loaderOpt">{{loaderOpt.label}}</option>\r\n                </select>\r\n            </div>\r\n            <div class="panel-body">\r\n\r\n                <div class="form-horizontal">\r\n                    \x3c!-- File selection available only when there is no target loader --\x3e\r\n                    <div class="form-group" *ngIf="!selectedLoader.target">\r\n                        <label class="control-label col-sm-1">File:</label>\r\n                        <div class="col-sm-11">\r\n                            <file-picker (fileChanged)="fileChangeEvent($event)" [accept]="filePickerAccept"></file-picker>    \r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!-- Dataset catalog --\x3e\r\n                    <div class="form-group" *ngIf="selectedLoader.target == \'datasetCatalog\'">\r\n                        <label class="control-label col-sm-1">Data dump:</label>\r\n                        <div class="col-sm-5">\r\n                            <div class="input-group input-group-sm">\r\n                                <input type="text" class="form-control" [(ngModel)]="dataDumpUrl" readonly>\r\n                                <div class="input-group-btn">\r\n                                    <button class="btn btn-default" (click)="loadFromDatasetCatalog()">\r\n                                        <span class="glyphicon glyphicon-pencil"></span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <label class="control-label col-sm-1">Format:</label>\r\n                        <div class="col-sm-5">\r\n                            <select class="form-control input-sm" [(ngModel)]="selectedInputFormat">\r\n                                <option *ngFor="let f of inputFormats" [ngValue]="f">{{f.name}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!-- Loader available only When a target (repo or stream) is specified --\x3e\r\n                    <div class="form-group" *ngIf="showLoader()">\r\n                        <label class="control-label col-sm-1">Loader:</label>\r\n                        <div class="col-sm-11">\r\n                            <ng-template [ngIf]="selectedLoader.target == \'repository\'">\r\n                                <extension-configurator #loaderConfigurator *ngIf="repoTargetLoaders" [extensions]="repoTargetLoaders"\r\n                                    (extensionUpdated)="selectedLoaderExtension = $event"\r\n                                    (configurationUpdated)="selectedLoaderConfig = $event"\r\n                                    (configStatusUpdated)="onLoaderConfigStatusUpdated($event)"\r\n                                    style="flex: 1;">\r\n                                </extension-configurator>\r\n                            </ng-template>\r\n                            <ng-template [ngIf]="selectedLoader.target == \'stream\'">\r\n                                <extension-configurator #loaderConfigurator *ngIf="streamTargetLoaders" [extensions]="streamTargetLoaders"\r\n                                    (extensionUpdated)="selectedLoaderExtension = $event"\r\n                                    (configurationUpdated)="selectedLoaderConfig = $event"\r\n                                    (configStatusUpdated)="onLoaderConfigStatusUpdated($event)"\r\n                                    style="flex: 1;">\r\n                                </extension-configurator>\r\n                            </ng-template>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!-- Lifter available only when there is no target (load from file) or a stream-target loader --\x3e\r\n                    <div class="form-group" *ngIf="!selectedLoader.target || selectedLoader.target == \'stream\'">\r\n                        <label class="control-label col-sm-1">RDF Lifter:</label>\r\n                        <div class="col-sm-5">\r\n                            <extension-configurator *ngIf="lifters" [extensions]="lifters"\r\n                                (extensionUpdated)="onLifterExtensionUpdated($event)"\r\n                                (configurationUpdated)="selectedLifterConfig = $event">\r\n                            </extension-configurator>\r\n                        </div>\r\n                        <label class="control-label col-sm-1">Format:</label>\r\n                        <div class="col-sm-5">\r\n                            <select class="form-control input-sm" [(ngModel)]="selectedInputFormat">\r\n                                <option *ngFor="let f of inputFormats" [ngValue]="f">{{f.name}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label class="control-label col-sm-1">Base URI:</label>\r\n                        <div class="col-sm-3">\r\n                            <input type="text" class="form-control input-sm" [(ngModel)]="baseURI" placeholder="http://example.baseuri.com/" [disabled]="useProjectBaseURI">\r\n                        </div>\r\n                        <div class="col-sm-2">\r\n                            <div class="checkbox">\r\n                                <label>\r\n                                    <input type="checkbox" [(ngModel)]="useProjectBaseURI" (ngModelChange)="onBaseUriChecboxChange()">Use project baseURI\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <label class="control-label col-sm-1">\r\n                            Resolve imports:\r\n                            <span class="glyphicon glyphicon-info-sign" title="Specify the resolution source in case of transitive imports"></span>\r\n                        </label>\r\n                        <div class="col-sm-5">\r\n                            <select class="form-control input-sm" [(ngModel)]="selectedImportAllowance">\r\n                                <option *ngFor="let ia of importAllowances" [value]="ia.allowance">{{ia.show}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-alt vbox" style="flex: 2; margin-top: 4px;">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Import transformations:</label>\r\n                <div class="btn-toolbar" role="toolbar">\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" title="Add transformer" (click)="appendTransformer()">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Remove transformer" (click)="removeTransformer()"\r\n                            [disabled]="transformersChain.length == 0 || !selectedTransformerChainElement">\r\n                            <span class="glyphicon glyphicon-minus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Move down"  (click)="moveTransformerDown()"\r\n                            [disabled]="isSelectedTransformerLast() || !selectedTransformerChainElement">\r\n                            <span class="glyphicon glyphicon-chevron-down"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Move up" (click)="moveTransformerUp()"\r\n                            [disabled]="isSelectedTransformerFirst() || !selectedTransformerChainElement">\r\n                            <span class="glyphicon glyphicon-chevron-up"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n                <div class="alert alert-info alert-dismissible" role="alert" style="margin-bottom: 5px;">\r\n                    Here it is possible to create and configure a sequence of transformers to be applied during the import process.\r\n                    <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n                </div>\r\n                <table class="table table-condensed table-hoverable">\r\n                    <colgroup>\r\n                        <col style="width: 2%">\r\n                        <col>\r\n                        <col style="width: 2%">\r\n                    </colgroup>\r\n                    <tbody>\r\n                        <tr *ngFor="let transformerChainEl of transformersChain; let l = last; let f = first; let idx = index" \r\n                            [ngClass]="{active: transformerChainEl == selectedTransformerChainElement}" (click)="selectTransformerChainElement(transformerChainEl)">\r\n                            <td class="text-center" style="font-size: 11px; font-weight: 700;">{{idx+1}}</td>\r\n                            <td>\r\n                                <extension-configurator [extensions]="transformerChainEl.availableFactories"\r\n                                    (extensionUpdated)="onExtensionUpdated(transformerChainEl, $event)"\r\n                                    (configurationUpdated)="onConfigurationUpdated(transformerChainEl, $event)" \r\n                                    (configStatusUpdated)="onConfigStatusUpdated(transformerChainEl, $event)">\r\n                                </extension-configurator>\r\n                            </td>\r\n                            <td class="text-center" style="font-size: 14px; font-weight: 700;">\r\n                                <span *ngIf="requireConfiguration(transformerChainEl)" class="glyphicon glyphicon-warning-sign"\r\n                                    title="This transformer needs to be configured"></span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="panel-footer">\r\n        <div *ngIf="isValidationEnabled()" class="checkbox-inline">\r\n            <label>\r\n                <input type="checkbox" [(ngModel)]="validateImplicitly" [disabled]="!isValidationAuthorized()">\r\n                Implicitly validate loaded data\r\n            </label>\r\n        </div>\r\n        <div class="pull-right">\r\n            <button type="submit" class="btn btn-default btn-sm" (click)="load()" [disabled]="isDataValid()">Submit</button>\r\n        </div>\r\n        <span class="clearfix"></span> \x3c!--To fix UI bug--\x3e\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label>Data Refactor:</label>\r\n        </div>\r\n\r\n        <div class="panel-body vbox scrollableContainer">\r\n            \r\n            <div *ngIf="skosxlToSkosEnabled()" class="panel panel-alt">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">SKOS &#8594; SKOS-XL</label>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <div class="alert alert-info" style="margin-bottom: 5px; font-size: 12px;">\r\n                        This refactor operation transforms all the SKOS labels and notes into reified SKOS-XL labels and notes.\r\n                    </div>\r\n                </div>\r\n                <div class="panel-footer hbox" style="align-items: center; justify-content: flex-end">\r\n                    <div class="checkbox" style="margin: 0px 10px; display: inline-block">\r\n                        <label><input type="checkbox" [(ngModel)]="reifyNotes">Reify SKOS notes</label>\r\n                    </div>\r\n                    <button class="btn btn-sm btn-default pull-right" (click)="skosToSkosxl()" [disabled]="!isSkosToSkosxlAuthorized()">Refactor</button>\r\n                    <span class="clearfix"></span>\r\n                </div>\r\n            </div>\r\n\r\n            <div *ngIf="skosToSkosxlEnabled()" class="panel panel-alt" style="margin-top: 4px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">SKOS-XL &#8594; SKOS</label>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <div class="alert alert-info" style="margin-bottom: 5px; font-size: 12px;">\r\n                        This refactor operation transforms all the reified SKOS-XL labels and notes into flattened SKOS labels and notes.\r\n                        Note: this is <strong>not</strong> a loss-less operation, all the information related to the SKOS-XL labels and notes will be lost.\r\n                    </div>\r\n                </div>\r\n                <div class="panel-footer hbox" style="align-items: center; justify-content: flex-end">\r\n                    <div class="checkbox" style="margin: 0px 10px; display: inline-block">\r\n                        <label><input type="checkbox" [(ngModel)]="flattenNotes">Flatten reified SKOS notes</label>\r\n                    </div>\r\n                    <button class="btn btn-sm btn-default pull-right" (click)="skosxlToSkos()" [disabled]="!isSkoxlToSkosAuthorized()">Refactor</button>\r\n                    <span class="clearfix"></span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="panel panel-alt" style="margin-top: 4px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">Migrate data to baseURI graph</label>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <div class="alert alert-info" style="margin-bottom: 5px; font-size: 12px;">\r\n                        This operation will move the content of the default graph to a graph named after the base URI of the current project.\r\n                        It will also clear the default graph and preserve the information already contained in the destination graph.\r\n                    </div>\r\n                </div>\r\n                <div class="panel-footer">\r\n                    <button class="btn btn-sm btn-default pull-right" (click)="migrateData()" [disabled]="!isMigrateAuthorized()">Migrate</button>\r\n                    <span class="clearfix"></span>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <form class="form-horizontal">\r\n        <div class="form-group">\r\n            <label class="control-label col-sm-3">Version ID:</label>\r\n            <div class="col-sm-9">\r\n                <input type="text" class="form-control input-sm" [(ngModel)]="versionId" placeholder="Version ID" name="versionID" sanitized>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label class="control-label col-sm-3">Repository Access:</label>\r\n            <div class="col-sm-9">\r\n                <div class="hbox">\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedRepositoryAccess" name="selectedRepositoryAccess">\r\n                        <option *ngFor="let repoAcc of repositoryAccessList" [ngValue]="repoAcc">{{repoAcc}}</option>\r\n                    </select>\r\n                    <div *ngIf="isSelectedRepoAccessRemote()" class="input-group input-group-sm" style="margin-left: 5px; min-width: 210px;">\r\n                        <select class="form-control" [(ngModel)]="selectedRemoteRepoConfig" name="remoteConfig">\r\n                            <option *ngFor="let c of remoteRepoConfigs" [ngValue]="c">{{c.serverURL}}</option>\r\n                        </select>\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-default" (click)="configureRemoteRepositoryAccess()">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="isSelectedRepoAccessCreateMode()" class="form-group">\r\n            <label class="control-label col-sm-3">Repo Configuration:</label>\r\n            <div class="col-sm-9">\r\n                <extension-configurator #repoConfigurator *ngIf="repoExtensions" \r\n                    [extensions]="repoExtensions"\r\n                    (extensionUpdated)="selectedRepoExtension = $event"\r\n                    (configurationUpdated)="selectedRepoConfig = $event">\r\n                </extension-configurator>\r\n            </div>\r\n        </div>\r\n\r\n        <ng-template [ngIf]="!isSelectedRepoAccessCreateMode()">\r\n            <div class="form-group">\r\n                <label class="control-label col-sm-3">Repository ID:</label>\r\n                <div class="col-sm-9">\r\n                    <div class="input-group input-group-sm">\r\n                        <input type="text" class="form-control" [(ngModel)]="repositoryId" placeholder="Repository ID"\r\n                            [disabled]="isSelectedRepoAccessCreateMode()" name="repositoryId">\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-default" type="button" (click)="changeRemoteRepository()"\r\n                                title="Select remote repository" [disabled]="isSelectedRepoAccessCreateMode()">\r\n                                <span class="glyphicon glyphicon-folder-open"></span>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label class="control-label col-sm-3">Backend type</label>\r\n                <div class="col-sm-9">\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedRepoBackendType" name="selectedRepoBackendType">\r\n                        <option *ngFor="let bt of backendTypes" [value]="bt">{{bt}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n\r\n    </form>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">Versions:</label>\r\n\r\n        <div class="btn-group btn-group-xs" style="margin-right: 5px">\r\n            <button class="btn btn-default" (click)="swithcToVersion()" [disabled]="!selectedVersion">\r\n                Switch to\r\n            </button>\r\n            <button class="btn btn-default" (click)="delteVersion()" [disabled]="!selectedVersion">\r\n                Delete\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            <button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">\r\n                Dump...\r\n                <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li><a (click)="dump()">Dump a new version</a></li>\r\n                <li><a (click)="dumpWithLocation()">Dump a new version to a different location</a></li>\r\n            </ul>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class="panel-body scrollableContainer" style="flex: 1;">\r\n        <table class="table table-condensed table-hoverable" style="flex: 1">\r\n            <thead>\r\n                <tr>\r\n                    <th class="text-center">Version ID</th>\r\n                    <th class="text-center">Datetime</th>\r\n                    <th class="text-center">Repository ID</th>\r\n                    <th class="text-center">Repo Location</th>\r\n                    <th class="text-center">Active</th>\r\n                    <th class="text-center">Status</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let v of versionList; let idx=index" (click)="selectVersion(v)" [ngClass]="{ info: v == selectedVersion }">\r\n                    <td class="text-center">\r\n                        {{v.versionId}}\r\n                    </td>\r\n                    <td class="text-center">\r\n                        {{v.dateTimeLocal}}\r\n                    </td>\r\n                    <td class="text-center">\r\n                        {{v.repositoryId}}\r\n                    </td>\r\n                    <td class="text-center">\r\n                        {{v.repositoryLocation}}\r\n                    </td>\r\n                    <td class="text-center">\r\n                        <span *ngIf="isActiveVersion(v)" class="glyphicon glyphicon-ok"></span>\r\n                    </td>\r\n                    <td class="text-center">\r\n                        <ng-template [ngIf]="idx == 0">\r\n                            ---\r\n                        </ng-template>\r\n                        <ng-template [ngIf]="idx > 0">\r\n                            {{v.repositoryStatus | lowercase}}\r\n                            <button class="btn btn-xs btn-default" (click)="closeVersion(v)"\r\n                                [disabled]="v.repositoryStatus != \'INITIALIZED\' || isActiveVersion(v)">\r\n                                Close\r\n                            </button>\r\n                        </ng-template>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div [ngClass]="{\'table-responsive bottomPadding\': formFields?.length > 8 }">\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n            <col style="width: 1%;">\r\n        </colgroup>\r\n        <tbody>\r\n            <ng-container *ngFor="let field of formFields; let index = index; trackBy: trackByIndex">\r\n                <tr *ngIf="!field.isDependency()">\r\n                    \x3c!--Form entry label--\x3e\r\n                    <td class="text-right"><label>{{field.getUserPrompt()}}:</label></td>\r\n                    \x3c!--Form entry field: depends on type (uri/literal) and optionally on datatype --\x3e\r\n                    <td>\r\n                        <ng-container *ngIf="field.getAnnotation(\'Collection\'); else singleFieldBlock">\r\n                            <custom-form-field-list [(ngModel)]="formFields[index]" (ngModelChange)="onFormFieldChanged(field)"></custom-form-field-list>\r\n                        </ng-container>\r\n\r\n                        <ng-template #singleFieldBlock>\r\n                            <custom-form-field [(ngModel)]="formFields[index]" (ngModelChange)="onFormFieldChanged(field)" [lang]="lang"></custom-form-field>\r\n                        </ng-template>\r\n                    </td>\r\n                    \x3c!--Mandatory/Optional--\x3e\r\n                    <td>\r\n                        <span *ngIf="field.isMandatory()" title="Mandatory field">*</span>\r\n                    </td>\r\n                </tr>\r\n            </ng-container>\r\n        </tbody>\r\n    </table>\r\n</div>'},function(e,t){e.exports='\x3c!-- Node generated with literal converter --\x3e\r\n<div *ngIf="field?.getType() == \'literal\';">\r\n    <div [ngSwitch]="field.getAnnotations()[0]?.name">\r\n        <div *ngSwitchCase="\'DataOneOf\'">\r\n            <select class="form-control input-sm" [(ngModel)]="field.value" (ngModelChange)="onModelChanged()">\r\n                <option *ngFor="let v of field.getAnnotations()[0].value">{{v.getNominalValue()}}</option>\r\n            </select>\r\n        </div>\r\n        \x3c!-- no annotations, or unknown/unhanlded annotation --\x3e\r\n        <div *ngSwitchDefault>\r\n            <div [ngSwitch]="field.getDatatype()">\r\n                <div *ngSwitchCase="\'http://www.w3.org/2001/XMLSchema#string\'">\r\n                    <textarea type="text" rows="1" class="form-control input-sm" style="resize: vertical"\r\n                        [(ngModel)]="field.value" (ngModelChange)="onModelChanged()"></textarea>\r\n                </div>\r\n                <div *ngSwitchCase="\'http://www.w3.org/2001/XMLSchema#integer\'">\r\n                    <input class="form-control input-sm" [(ngModel)]="field.value" type="number" step="1"\r\n                        (ngModelChange)="onModelChanged()">\r\n                </div>\r\n                <div *ngSwitchCase="\'http://www.w3.org/2001/XMLSchema#float\'">\r\n                    <input class="form-control input-sm" [(ngModel)]="field.value" type="number" step="any"\r\n                        (ngModelChange)="onModelChanged()">\r\n                </div>\r\n                <div *ngSwitchCase="\'http://www.w3.org/2001/XMLSchema#boolean\'" class="hbox">\r\n                    <input class="form-control input-sm" [ngModel]="field.value" style="flex: 1"\r\n                        (ngModelChange)="onModelChanged()" disabled>\r\n                    <span class="hbox" style="align-items: center; margin-left: 10px; justify-content: center;">\r\n                        <label class="radio-inline">\r\n                            <input type="radio" (click)="field.value=\'true\'" [checked]="field.value==\'true\'">true\r\n                        </label>\r\n                        <label class="radio-inline" style="margin-left: 15px;">\r\n                            <input type="radio" (click)="field.value=\'false\'" [checked]="field.value==\'false\'">false\r\n                        </label>\r\n                    </span>\r\n                </div>\r\n                <div *ngSwitchCase="\'http://www.w3.org/2001/XMLSchema#date\'" class="hbox">\r\n                    <input class="form-control input-sm" [ngModel]="field.value" (ngModelChange)="onModelChanged()" disabled>\r\n                    <input class="form-control input-sm" style="margin-left: 10px;" type="date" [(ngModel)]="field.value"> \r\n                </div>\r\n                <div *ngSwitchCase="\'http://www.w3.org/2001/XMLSchema#time\'" class="hbox">\r\n                    <input class="form-control input-sm" [ngModel]="field.value" (ngModelChange)="onModelChanged()" disabled>\r\n                    <input class="form-control input-sm" style="margin-left: 10px;" type="time" [(ngModel)]="field.value"\r\n                        (ngModelChange)="onModelChanged()">\r\n                </div>\r\n                <div *ngSwitchCase="\'http://www.w3.org/2001/XMLSchema#datetime\'" class="hbox">\r\n                    <input class="form-control input-sm" [ngModel]="field.value" (ngModelChange)="onModelChanged()" disabled>\r\n                    <input class="form-control input-sm" style="margin-left: 10px;" type="datetime-local"\r\n                        [(ngModel)]="field.value" (ngModelChange)="onModelChanged()">\r\n                </div>\r\n                <div *ngSwitchDefault class="hbox" style="align-items: center;">\r\n                    <textarea type="text" rows="1" class="form-control input-sm" style="flex:1; resize: vertical"\r\n                        [(ngModel)]="field.value" (ngModelChange)="onModelChanged()"\r\n                        (input)="onEntryValueChange($event.target.value)">\r\n                    </textarea>\r\n                    <span *ngIf="field.getLang()" style="margin-left: 4px;">\r\n                        \x3c!-- In case language is provided to the default literal convert, disable change to the picker --\x3e\r\n                        <lang-picker size="sm" [ngModel]="field.getLang()" disabled="true">\r\n                        </lang-picker>\r\n                    </span>\r\n                    \x3c!-- coda:langString handler --\x3e\r\n                    <ng-container *ngIf="field.getConverter() == \'http://art.uniroma2.it/coda/contracts/langString\' && field.getConverterArg()">\r\n                        <lang-picker *ngIf="field.getConverterArg().ph" size="sm" style="margin-left: 4px;" [ngModel]="field.getConverterArg().ph.value"\r\n                            (ngModelChange)="onConverterLangChange($event, field.getConverterArg().ph)"\r\n                            [config]="{ languages: field[\'oneOfLang\']}">\r\n                        </lang-picker>\r\n                        <lang-picker *ngIf="field.getConverterArg().lang" size="sm" style="margin-left: 4px;" [ngModel]="field.getConverterArg().lang"\r\n                            disabled="true">\r\n                        </lang-picker>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\x3c!-- Node generated with uri converter --\x3e\r\n<div *ngIf="field?.getType() == \'uri\'">\r\n    <div [ngSwitch]="field.getAnnotations()[0]?.name">\r\n        <div *ngSwitchCase="\'ObjectOneOf\'">\r\n            <select class="form-control input-sm" [(ngModel)]="field.value" (ngModelChange)="onModelChanged()">\r\n                <option *ngFor="let v of field.getAnnotations()[0].value">{{v.getNominalValue()}}</option>\r\n            </select>\r\n        </div>\r\n        <div *ngSwitchCase="\'Role\'">\r\n            <resource-picker (resourceChanged)="updateNodeField($event)"\r\n                [config]="{ roles: field.getAnnotations()[0].value, allowLocal: !field.getAnnotation(\'Foreign\'), allowRemote: true, projects: field.getAnnotation(\'Foreign\')?.value }"\r\n                editable="true">\r\n            </resource-picker>\r\n        </div>\r\n        <div *ngSwitchCase="\'Range\'">\r\n            <resource-picker (resourceChanged)="updateNodeField($event)" \r\n                [config]="{ roles: [\'individual\'], classes: field.getAnnotations()[0].value, allowLocal: !field.getAnnotation(\'Foreign\'), allowRemote: true, projects: field.getAnnotation(\'Foreign\')?.value }"\r\n                editable="true">\r\n            </resource-picker>\r\n        </div>\r\n        <div *ngSwitchCase="\'RangeList\'">\r\n            <resource-picker (resourceChanged)="updateNodeField($event)" \r\n                [config]="{ roles: [\'individual\'], classes: field.getAnnotations()[0].value, allowLocal: !field.getAnnotation(\'Foreign\'), allowRemote: true, projects: field.getAnnotation(\'Foreign\')?.value }"\r\n                editable="true">\r\n            </resource-picker>\r\n        </div>\r\n        <div *ngSwitchCase="\'Foreign\'">\r\n            <resource-picker (resourceChanged)="updateNodeField($event)" \r\n                [config]="{ allowLocal: false, allowRemote: true, projects: field.getAnnotations()[0].value }"\r\n                editable="true">\r\n            </resource-picker>\r\n        </div>\r\n        \x3c!-- no annotations, or unknown/unhanlded annotation --\x3e\r\n        <div *ngSwitchDefault>\r\n            <resource-picker (resourceChanged)="updateNodeField($event)" editable="true" \r\n                [config]="{ allowRemote: true }">\r\n            </resource-picker>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div *ngFor="let sf of subFields; let i = index; let last = last" class="hbox" style="padding: 3px;">\r\n    <custom-form-field style="flex: 1;" [ngModel]="subFields[i]" (ngModelChange)="onFieldChange(i)"></custom-form-field>\r\n\r\n    <button *ngIf="last" class="btn btn-xs btn-default" style="margin-left: 2px;" (click)="addValue()" [disabled]="subFields.length == max">\r\n        <span class="glyphicon glyphicon-plus"></span>\r\n    </button>\r\n    <button class="btn btn-xs btn-default" style="margin-left: 2px;" (click)="removeValue(i)" [disabled]="subFields.length == min || subFields.length == 1">\r\n        <span class="glyphicon glyphicon-trash"></span>\r\n    </button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    \r\n    <custom-form [cfId]="context.cfId" [(ngModel)]="formFields" [lang]="context.language"></custom-form>\r\n        \r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Custom Forms configuration:</label>\r\n            <button class="btn btn-xs btn-default" (click)="showBrokenCFS()" title="Show broken CustomForm structures">\r\n                <span class="glyphicon glyphicon-warning-sign"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="panel-body vbox">\r\n\r\n            <div class="hbox">\r\n\r\n                <div class="panel panel-alt vbox">\r\n                    <div class="panel-heading">\r\n                        <label style="flex: 1">Custom Forms:</label>\r\n                        <div class="btn-group btn-group-xs" role="group">\r\n                            <button class="btn btn-default" title="Create Custom Form" (click)="createCustomForm()"\r\n                                [disabled]="!isCreateFormAuthorized()">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Delete Custom Form" (click)="deleteCustomForm()"\r\n                                [disabled]="!selectedCustomForm || selectedCustomForm.level == \'system\' || !isDeleteFormAuthorized()">\r\n                                <span class="glyphicon glyphicon-minus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Modify Custom Form" (click)="editCustomForm()"\r\n                                [disabled]="!selectedCustomForm || !isUpdateFormAuthorized()">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Clone Custom Form" (click)="cloneCustomForm()"\r\n                                [disabled]="!selectedCustomForm || !isCreateFormAuthorized()">\r\n                                <span class="glyphicon glyphicon-duplicate"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Export Custom Form" (click)="exportCustomForm()"\r\n                                [disabled]="!selectedCustomForm">\r\n                                <span class="glyphicon glyphicon-save"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Import Custom Form" (click)="importCustomForm()"\r\n                                [disabled]="!isCreateFormAuthorized()">\r\n                                <span class="glyphicon glyphicon-open"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class="panel-body vbox scrollableContainer">\r\n                        <div *ngFor="let cf of customFormList" (click)="selectCustomForm(cf)" class="listItem" [ngClass]="{ active: cf == selectedCustomForm, grayText: cf.level == \'system\' }">\r\n                            {{cf.id}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class="panel panel-alt vbox" style="margin-left: 4px;">\r\n                    <div class="panel-heading">\r\n                        <label style="flex: 1">Form Collections:</label>\r\n                        <div class="btn-group btn-group-xs" role="group">\r\n                            <button class="btn btn-default" title="Create Form Collection" (click)="createFormCollection()"\r\n                                [disabled]="!isCreateCollectionAuthorized()">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Delete Form Collection" (click)="deleteFormCollection()"\r\n                                [disabled]="!selectedFormColl || selectedFormColl.level == \'system\' || !isDeleteCollectionAuthorized()">\r\n                                <span class="glyphicon glyphicon-minus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Change Form Collection" (click)="editFormCollection()"\r\n                                [disabled]="!selectedFormColl || !isUpdateCollectionAuthorized()">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Clone Form Collection" (click)="cloneFormCollection()"\r\n                                [disabled]="!selectedFormColl || !isCreateCollectionAuthorized()">\r\n                                <span class="glyphicon glyphicon-duplicate"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Export Form Collection" (click)="exportFormCollection()"\r\n                                [disabled]="!selectedCustomForm">\r\n                                <span class="glyphicon glyphicon-save"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Import Form Collection" (click)="importFormCollection()"\r\n                                [disabled]="!isCreateCollectionAuthorized()">\r\n                                <span class="glyphicon glyphicon-open"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class="panel-body vbox scrollableContainer">\r\n                        <div *ngFor="let fc of formCollectionList" (click)="selectFormColl(fc)" class="listItem" [ngClass]="{ active: fc == selectedFormColl, grayText: fc.level == \'system\' }">\r\n                            {{fc.id}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n\r\n            <div class="panel panel-alt vbox" style="margin-top: 4px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">Forms mapping:</label>\r\n                    <div class="btn-group btn-group-xs" role="group">\r\n                        <button class="btn btn-default" title="Create Resource - FormCollection mapping" (click)="createFormCollMapping()"\r\n                            [disabled]="!isCreateMappingAuthorized()">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Remove Resource - FormCollection mapping" (click)="removeFormCollMapping()"\r\n                            [disabled]="!selectedFormCollMapping || !isDeleteMappingAuthorized()">\r\n                            <span class="glyphicon glyphicon-minus"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox">\r\n                    \r\n                    <div class="scrollableContainer">\r\n                        <table class="table table-condensed table-borderless table-hoverable">\r\n                            <thead style="border-bottom: 1px solid #ddd;">\r\n                                <tr>\r\n                                    <th>Property/Class</th>\r\n                                    <th>Form Collection</th>\r\n                                    <th style="width: 1%" nowrap>\r\n                                        Replace\r\n                                        <span class="glyphicon glyphicon-info-sign" \r\n                                            title="Tells if the CustomForm replaces the \'default\' form. Valid only for CustomRanges (not CustomConstructors)">\r\n                                        </span>\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor="let formCollMap of cfConfigurationMap" (click)="selectFormCollMapping(formCollMap)"\r\n                                    [ngClass]="{ info: formCollMap == selectedFormCollMapping }">\r\n                                    <td>{{formCollMap.getResource().getURI()}}</td>\r\n                                    <td [ngClass]="{grayText: formCollMap.getFormCollection().getLevel() == \'system\'}">\r\n                                        {{formCollMap.getFormCollection().getId()}}\r\n                                    </td>\r\n                                    <td class="text-center">\r\n                                        <input type="checkbox" [ngModel]="formCollMap.getReplace()" (ngModelChange)="changeReplaceToMapping($event, formCollMap)"\r\n                                            [disabled]="!isUpdateMappingAuthorized()">\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n\r\n        <div class="panel-footer">\r\n            <span class="pull-right grayText" style="padding: 2px; margin: 0px 2px; border: 1px solid #ccc; border-radius: 2px; background: #fff;">\r\n                System level elements\r\n            </span>\r\n            <span class="pull-right"  style="padding: 2px; margin: 0px 2px; border: 1px solid #ccc; border-radius: 2px; background: #fff;">\r\n                Project level elements\r\n            </span>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">Broken CustomForm structures</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 30vh;">\r\n    <div class="alert alert-info" *ngIf="context.message">\r\n        The following table reports the broken structures belonging to the CustomForm mechanism.\r\n    </div>\r\n        \r\n    <div class="table-responsive" style="border: 1px solid #ddd; margin-top: 5px;">\r\n        <table class="table table-condensed table-hoverable">\r\n            <thead class="text-center">\r\n                <tr>\r\n                    <th class="text-center">Level</th>\r\n                    <th class="text-center">Type</th>\r\n                    <th class="text-center">ID</th>\r\n                    <th class="text-center">File</th>\r\n                    <th class="text-center">Reason</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody class="text-center">\r\n                <tr *ngFor="let bcfs of brokenCFS">\r\n                    <td>{{bcfs.level}}</td>\r\n                    <td>{{bcfs.type}}</td>\r\n                    <td>{{bcfs.id}}</td>\r\n                    <td>{{bcfs.file}}</td>\r\n                    <td>{{bcfs.reason}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 *ngIf="!context.id" class="modal-title">Create Custom Form</h3>\r\n    <h3 *ngIf="context.id" class="modal-title">Edit Custom Form</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    \r\n    <div class="entryRow">\r\n        <div class="hbox" style="align-items: center;">\r\n            <label class="entryLabel">ID:</label>\r\n            <div class="input-group input-group-xs" style="flex: 1;">\r\n                <ng-template [ngIf]="namespaceLocked">\r\n                    <span class="input-group-addon" style="padding-right: 5px;">\r\n                        {{cfPrefix}}\r\n                    </span>\r\n                    <input type="text" class="form-control" [(ngModel)]="cfShortId" [disabled]="mode == \'edit\'" sanitized>\r\n                </ng-template>\r\n                \r\n                <ng-template [ngIf]="!namespaceLocked">\r\n                    <input type="text" class="form-control" [(ngModel)]="cfId" [disabled]="mode == \'edit\'" sanitized>\r\n                </ng-template>\r\n                \r\n                <div class="input-group-btn">\r\n                    <button class="btn btn-default" style="width:30px; padding: 1px 3px;" (click)="unlockNamespace()"\r\n                        title="Lock/Unlock namespace" [ngClass]="{active: namespaceLocked}" [disabled]="mode == \'edit\'">\r\n                        <span class="glyphicon glyphicon-lock" style="font-size: 10px;"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <span class="optionalCell">*</span>\r\n        </div>\r\n    </div>\r\n    <div class="entryRow">\r\n        <div class="hbox" style="align-items: center;">\r\n            <label class="entryLabel">\r\n                Name:\r\n                <span class="glyphicon glyphicon-info-sign" title="The name that will be shown to the user to identify this form"></span>\r\n            </label>\r\n            <input type="text" class="form-control input-xs" style="flex: 1" [(ngModel)]="name" [disabled]="context.readOnly">\r\n            <span class="optionalCell">*</span>\r\n        </div>\r\n    </div>\r\n    <div class="entryRow">\r\n        <div class="hbox" style="align-items: center;">\r\n            <label class="entryLabel">\r\n                Description:\r\n                <span class="glyphicon glyphicon-info-sign" title="A natural language description that briefly explain the purpose of this form"></span>\r\n            </label>\r\n            <textarea class="form-control input-xs" style="flex: 1;" [(ngModel)]="description" [rows]="descriptionTextareaRows" [disabled]="context.readOnly"></textarea>\r\n            <span class="optionalCell"></span>  \r\n        </div>\r\n    </div>\r\n    <div class="entryRow">\r\n        <div class="hbox" style="align-items: center;">\r\n            <label class="entryLabel">\r\n                Type:\r\n            </label>\r\n            <select class="form-control input-xs" style="flex: 1;" [(ngModel)]="type" [disabled]="cfId">\r\n                <option value="graph">Graph</option>\r\n                <option value="node">Node</option>\r\n            </select>\r\n            <span class="optionalCell">*</span>  \r\n        </div>\r\n    </div>\r\n    <div class="entryRow vbox">\r\n        <div class="hbox">\r\n            <label class="entryLabel" style="align-self: center;">\r\n                Ref:\r\n                <span class="glyphicon glyphicon-info-sign"\r\n                    title="In case of Graph type this should contain a PEARL rule otherwise, in case of Node type, this should contain simply a PEARL projection operator">\r\n                </span>\r\n            </label>\r\n            <div class="hbox">\r\n                <pearl-editor [(ngModel)]="ref" [disabled]="context.readOnly">\r\n                </pearl-editor>\r\n                <div class="vbox" style="flex: initial; margin-left: 6px;">\r\n                    <button class="btn btn-default btn-xs" (click)="pickConverter()" title="Pick converter" [disabled]="context.readOnly">\r\n                        Pick converter\r\n                    </button>\r\n                    <ng-container *ngIf="type == \'graph\'">\r\n                        <button class="btn btn-default btn-xs" (click)="inferAnnotations()" style="margin-top: 4px;" \r\n                            title="Infer annotations from CF definition" [disabled]="!ref || context.readOnly">\r\n                            Infer annotations\r\n                        </button>\r\n                        <button *ngIf="extractFromShaclAuthorized" class="btn btn-default btn-xs" (click)="extractFromShacl()" style="margin-top: 4px;" \r\n                            title="Extract PEARL from SHACL shape" [disabled]="context.readOnly">\r\n                            From SHACL\r\n                        </button>\r\n                    </ng-container>\r\n                </div>\r\n                \r\n            </div>\r\n            <span class="optionalCell">*</span>\r\n        </div>\r\n    </div>\r\n    <div class="entryRow">\r\n        <div class="hbox" style="align-items: center;">\r\n            <label class="entryLabel">\r\n                Show property chain:\r\n                <span class="glyphicon glyphicon-info-sign" \r\n                    title="A property chain to follow to retrieve the value to be shown to represent the graph generated by means of this Form">\r\n                </span>\r\n            </label>\r\n            <div class="hbox">\r\n                <div class="hbox tile-group">\r\n                    <span *ngFor="let prop of showPropertyChain" (click)="selectPropInChain(prop)" \r\n                        class="tile" [ngClass]="{selectedResource : selectedPropInChain == prop}">\r\n                        <rdf-resource [resource]="prop"></rdf-resource>\r\n                        <span *ngIf="!context.readOnly" class="glyphicon glyphicon-remove-circle" (click)="removePropFromChain(prop)"\r\n                            style="cursor: pointer" onmouseover="this.className=\'glyphicon glyphicon-remove-sign\';"\r\n                            onmouseout="this.className=\'glyphicon glyphicon-remove-circle\';">\r\n                        </span>\r\n                        <span *ngIf="context.readOnly" class="glyphicon glyphicon-remove-circle" style="cursor: not-allowed"></span>\r\n                    </span>\r\n                </div>\r\n                <div class="btn-group dropup" style="margin-left: 4px;">\r\n                    <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" [disabled]="context.readOnly">\r\n                        <span class="glyphicon glyphicon-pencil"></span>\r\n                    </button>\r\n                    <ul class="dropdown-menu pull-right">\r\n                        <li><a (click)="addPropToChain()">Add</a></li>\r\n                        <li><a (click)="editPropChain()">Edit manually</a></li>\r\n                        <li [ngClass]="{disabled : !selectedPropInChain}"><a (click)="addPropToChain(\'before\')">Add before</a></li>\r\n                        <li [ngClass]="{disabled : !selectedPropInChain}"><a (click)="addPropToChain(\'after\')">Add after</a></li>\r\n                        <li [ngClass]="{disabled : disableMove(\'before\')}"><a (click)="movePropInChain(\'before\')">Move before</a></li>\r\n                        <li [ngClass]="{disabled : disableMove(\'after\')}"><a (click)="movePropInChain(\'after\')">Move after</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <span class="optionalCell"></span>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <div class="hbox">\r\n        <div class="hbox" style="align-items: center; margin-right: 10px;">\r\n            <span style="margin-right: 6px">(*) Mandatory field</span>\r\n            <div *ngIf="submitted && !isDataValid()" class="alert alert-danger" style="flex: 1; text-align: left; padding: 5px">\r\n                {{errorMsg}}\r\n            </div>\r\n        </div>\r\n        <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="context.readOnly">Ok</button>\r\n        <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Extract from SHACL</h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td><label>Class</label></td>\r\n                <td>\r\n                    <resource-picker [resource]="cls" [config]="{ roles: [\'cls\'] }" [editable]="true" (resourceChanged)="cls = $event">\r\n                    </resource-picker>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Shape source</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedSource">\r\n                        <option *ngFor="let s of sources">{{s}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="selectedSource == sourceFile">\r\n                <td><label>File</label></td>\r\n                <td>\r\n                    <div class="hbox">\r\n                        <file-picker (fileChanged)="fileChangeEvent($event)" size="sm" [accept]="filePickerAccept"></file-picker>\r\n                        <select class="form-control input-sm" style="margin-left: 4px; width: initial;" [(ngModel)]="selectedInputFormat">\r\n                            <option *ngFor="let f of inputFormats" [ngValue]="f">{{f.name}}</option>\r\n                        </select>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="selectedSource == sourceUrl">\r\n                <td><label>URL</label></td>\r\n                <td>\r\n                    <div class="hbox">\r\n                        <input class="form-control input-sm" [(ngModel)]="shapeUrl">\r\n                        <select class="form-control input-sm" style="margin-left: 4px; width: initial;" [(ngModel)]="selectedInputFormat">\r\n                            <option *ngFor="let f of inputFormats" [ngValue]="f">{{f.name}}</option>\r\n                        </select>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 *ngIf="!context.id" class="modal-title">Create Form Collection</h3>\r\n    <h3 *ngIf="context.id" class="modal-title">Edit Form Collection</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 50vh;">\r\n    \r\n    <div class="hbox" style="align-items: center; flex: initial;">\r\n        <label style="white-space: nowrap; margin: 0px 3px;">Form Collection ID:</label>\r\n        <div class="input-group input-group-xs" style="flex: 1">\r\n            <ng-template [ngIf]="namespaceLocked">\r\n                <span class="input-group-addon" style="padding-right: 5px;">\r\n                    {{fcPrefix}}\r\n                </span>\r\n                <input type="text" class="form-control" [(ngModel)]="fcShortId" [disabled]="mode == \'edit\'" sanitized>\r\n            </ng-template>\r\n            \r\n            <ng-template [ngIf]="!namespaceLocked">\r\n                <input type="text" class="form-control" [(ngModel)]="fcId" [disabled]="mode == \'edit\'" sanitized>\r\n            </ng-template>\r\n            \r\n            <div class="input-group-btn">\r\n                <button class="btn btn-default" style="width:30px; padding: 1px 3px;" (click)="unlockNamespace()"\r\n                    title="Lock/Unlock namespace" [ngClass]="{active: namespaceLocked}" [disabled]="mode == \'edit\'">\r\n                    <span class="glyphicon glyphicon-lock" style="font-size: 10px;"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="hbox" style="margin: 10px 0 10px;">\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Custom Forms:</label>\r\n            </div>\r\n            <div class="panel-body vbox">\r\n                <div class="scrollableContainer">\r\n                    <table class="table table-condensed table-borderless table-hoverable" style="table-layout: fixed">\r\n                        <tbody>\r\n                            <tr *ngFor="let cForm of forms" (click)="selectForm(cForm)"\r\n                                [ngClass]="{ info: cForm == selectedForm, grayText: cForm.getLevel() == \'system\' }">\r\n                                <td>{{cForm.getId()}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div style="align-self: center; margin: 5px;">\r\n            <button class="btn btn-default btn-sm btn-block" (click)="addForm()" [disabled]="!selectedFormAvailable || context.readOnly">\r\n                <span class="glyphicon glyphicon-chevron-left"></span>Add\r\n            </button>\r\n            <button class="btn btn-default btn-sm btn-block" (click)="removeForm()" [disabled]="!selectedForm || context.readOnly">\r\n                Remove<span class="glyphicon glyphicon-chevron-right"></span>\r\n            </button>\r\n        </div>\r\n        \r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Available Custom Forms:</label>\r\n            </div>\r\n            <div class="panel-body vbox">\r\n                <div class="scrollableContainer">\r\n                    <table class="table table-condensed table-borderless table-hoverable" style="table-layout: fixed">\r\n                        <tbody>\r\n                            <tr *ngFor="let cForm of formsAvailable" (click)="selectFormAvailable(cForm)"\r\n                                [ngClass]="{ info: cForm == selectedFormAvailable, grayText: cForm.getLevel() == \'system\' }">\r\n                                <td>{{cForm.getId()}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox" style="min-height: 100px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">\r\n                Suggestions:\r\n                <span class="" title="Property/Classes suggested to use with this FormCollection"></span>\r\n            </label>\r\n            <div class="btn-group btn-group-xs" role="group">\r\n                <div class="btn-group btn-group-xs" role="group" title="Add suggestion">\r\n                    <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" [disabled]="context.readOnly">\r\n                        <span class="glyphicon glyphicon-plus"></span>\r\n                    </button>\r\n                    <ul class="dropdown-menu pull-right">\r\n                        <li>\r\n                            <a (click)="addSuggestionClass()">\r\n                                <img src="'+n(151)+'" /> Select class\r\n                            </a>\r\n                        </li>\r\n                        <li>\r\n                            <a (click)="addSuggestionProperty()">\r\n                                <img src="'+n(89)+'" /> Select property\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <button class="btn btn-default" title="Remove suggestion" (click)="removeSuggestion()"\r\n                    [disabled]="!selectedSuggestion || context.readOnly">\r\n                    <span class="glyphicon glyphicon-minus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n            <resource-list [resources]="suggestions" (nodeSelected)="selectSuggestion($event)"></resource-list>\r\n        </div>\r\n    </div>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <div class="hbox">\r\n        <div class="hbox" style="align-items: center; margin-right: 10px;">\r\n            <div *ngIf="submitted && !isDataValid()" class="alert alert-danger" style="flex: 1; text-align: left; padding: 5px">\r\n                {{errorMsg}}\r\n            </div>\r\n        </div>\r\n        <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="context.readOnly">Ok</button>\r\n        <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Create Resource - FormCollection mapping</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 40vh;">\r\n    \r\n    <div style="display: flex; margin-bottom: 4px; align-items: center;">\r\n        <label>Resource:</label>\r\n        <input class="form-control input-sm" style="margin: 0px 4px;" [(ngModel)]="selectedResourceIri" placeholder="http://example#resource">\r\n        <div class="dropdown pull-right">\r\n            <button class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown">\r\n                Select\r\n                <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li>\r\n                    <a (click)="selectClass()">\r\n                        <img src="'+n(213)+'" /> Select class\r\n                    </a>\r\n                </li>\r\n                <li>\r\n                    <a (click)="selectProperty()">\r\n                        <img src="'+n(275)+'" /> Select property\r\n                    </a>\r\n                </li>\r\n                <li *ngIf="selectedFormColl">\r\n                    <a (click)="selectSuggested()">\r\n                        <span class="glyphicon glyphicon-star" style="width: 16px; padding-left: 3px;"></span>\r\n                        Select suggested for FormCollection\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Form Collection:</label>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n            <div class="scrollableContainer">\r\n                <table class="table table-condensed table-borderless table-hoverable">\r\n                    <tbody>\r\n                        <tr *ngFor="let fc of formCollectionList" (click)="selectFormColl(fc)"\r\n                            [ngClass]="{ info: fc == selectedFormColl, grayText: fc.getLevel() == \'system\' }">\r\n                            <td>{{fc.getId()}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!selectedResourceIri || !selectedFormColl">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\n    <h3 class="modal-title">{{context.title}}</h3>\n</div>\n<div class="modal-body">\n\n    <file-picker (fileChanged)="fileChangeEvent($event)" size="sm" [accept]="\'application/xml\'"></file-picker>\n\n    <div class="hbox" style="align-items: center; margin-top: 4px">\n        <label style="margin-right: 4px;">ID:</label>\n        <div>\n            <div class="input-group input-group-sm">\n                <span class="input-group-addon" style="padding-right: 2px">{{prefix}}</span>\n                <input type="text" class="form-control" [(ngModel)]="shortId" [disabled]="useImportedId" sanitized>\n            </div>\n        </div>\n        <div>\n            <div class="hbox" style="align-items: center; margin-left: 4px;">\n                <div><input type="checkbox" [(ngModel)]="useImportedId"></div>\n                <span style="margin-left: 3px;">Use ID of the<br> imported {{context.type}}</span>\n            </div>\n        </div>\n    </div>\n\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Pearl annotations inference</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="alert alert-warning">\r\n        Note: in case no annotation has been inferred, the two PEARL might not differ at all. \r\n        Anyway, the inference process might apply changes, such as reordering the prefix definitions and removing comments.<br>\r\n        It is also possible to edit the resulting PEARL before applying the changes.\r\n    </div>\r\n\r\n    <div class="hbox" style="margin-top: 4px;">\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading"><label>Original PEARL</label></div>\r\n            <div class="panel-body vbox">\r\n                <pearl-editor [ngModel]="context.oldPearl" [disabled]="true"></pearl-editor>\r\n            </div>\r\n        </div>\r\n        <div class="panel panel-default vbox" style="margin-left: 5px;" >\r\n            <div class="panel-heading"><label>Inferred PEARL</label></div>\r\n            <div class="panel-body vbox">\r\n                <pearl-editor [(ngModel)]="newPearl"></pearl-editor>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Accept</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Discard</button>\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <ul class="nav nav-tabs" (click)="$event.preventDefault()">\r\n        <li [ngClass]="{active : currentRoute == \'customService\', disabled: !csAuthorized }">\r\n            <a (click)="currentRoute = \'customService\'">Custom Services</a>\r\n        </li>\r\n        <li [ngClass]="{active : currentRoute == \'reporter\', disabled: !reporterAuthorized }">\r\n            <a (click)="currentRoute = \'reporter\'">Reports</a>\r\n        </li>\r\n    </ul>\r\n\r\n    \x3c!--Tabs content--\x3e\r\n    <div class="tab-content">\r\n        <div *ngIf="csAuthorized" [ngClass]="{vbox : currentRoute == \'customService\'}" [hidden]="currentRoute != \'customService\'">\r\n            <custom-services-component></custom-services-component>\r\n        </div>\r\n        <div *ngIf="reporterAuthorized" [ngClass]="{vbox : currentRoute == \'reporter\'}" [hidden]="currentRoute != \'reporter\'">\r\n            <invokable-reporters-component></invokable-reporters-component>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">\r\n            {{operation.name}}\r\n        </label>\r\n        <div *ngIf="!readonly" class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="editOperation()" title="Edit operation" [disabled]="!editOperationAuthorized">\r\n                    <span class="glyphicon glyphicon-pencil"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox scrollableContainer">\r\n\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Name:</label>\r\n                <div style="flex: 1">\r\n                    <span class="form-control input-sm" style="background-color: #eee; font-family: monospace;">{{operation.name}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Authorization:</label>\r\n                <div style="flex: 1">\r\n                    <span class="form-control input-sm" style="background-color: #eee; font-family: monospace;">{{operation.authorization}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Parameters:</label>\r\n                <div style="flex: 1">\r\n                    <span *ngIf="parameters.length == 0" class="form-control input-sm" style="background-color: #eee;"></span>\r\n                    <div *ngFor="let p of parameters" class="hbox" style="align-items: center; margin-bottom: 2px;">\r\n                        <span class="form-control input-sm" style="background-color: #eee; font-family: monospace;">{{p.prettyPrint}}</span>\r\n                        <span *ngIf="!p.required" class="glyphicon glyphicon-question-sign" style="margin: 0px 4px;" title="Optional parameter"></span>\r\n                        <span *ngIf="p.required" class="glyphicon glyphicon-exclamation-sign" style="margin: 0px 4px;" title="Mandatory parameter"></span>\r\n                    </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Returns:</label>\r\n                <div style="flex: 1">\r\n                    <span class="form-control input-sm" style="background-color: #eee; font-family: monospace;">{{returns}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Sparql:</label>\r\n                <div class="vbox" style="align-self: stretch;">\r\n                    <yasgui [query]="operation.sparql" readonly="true" hideButtons="true"></yasgui>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">{{id}}</label>\r\n\r\n        <div class="btn-group btn-group-xs">\r\n            <button class="btn btn-default" (click)="initCustomService()" title="Refresh">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default dropdown-toggle" style="padding: 1px 3px;" data-toggle="dropdown">\r\n                    <span class="caret"></span>\r\n                </button>\r\n                <ul class="dropdown-menu pull-right">\r\n                    <li title="Reload service (useful when the Custom Service is changed manually)">\r\n                        <a (click)="reload()">\r\n                            <div class="hbox">\r\n                                <span style="flex:1">Force reload from filesystem</span>\r\n                                <span class="glyphicon glyphicon-repeat pull-right" style="margin-left: 5px;"></span>\r\n                            </div>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <div *ngIf="form" class="panel-body vbox">\r\n\r\n        \x3c!-- Name --\x3e\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">\r\n                    {{form.name.displayName}}\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.name.description"></span>\r\n                </label>\r\n                <input-editable style="flex: 1;" [value]="form.name.value" (valueEdited)="updateName($event)" [disabled]="!editServiceAuthorized"></input-editable>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- Description --\x3e\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">\r\n                    {{form.description.displayName}}\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.description.description"></span>\r\n                </label>\r\n                <input-editable style="flex: 1;" [value]="form.description.value" (valueEdited)="updateDescription($event)" [allowEmpty]="true" [disabled]="!editServiceAuthorized"></input-editable>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- Operations --\x3e\r\n        <div class="hbox">\r\n            <div class="panel panel-default vbox">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">\r\n                        {{form.operations.displayName}}\r\n                        <span class="glyphicon glyphicon-info-sign" [title]="form.operations.description"></span>\r\n                    </label>\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button class="btn btn-default" (click)="createOperation()" title="Create operation" [disabled]="!createOperationAuthorized">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" (click)="deleteOperation()" title="Delete operation" [disabled]="!selectedOperation || !deleteOperationAuthorized">\r\n                                <span class="glyphicon glyphicon-minus"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox scrollableContainer">\r\n                    <div *ngFor="let o of form.operations.value" class="listItem" [ngClass]="{ active: selectedOperation == o }" (click)="selectOperation(o)">\r\n                        {{o.name}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <custom-operation *ngIf="selectedOperation" style="margin-left: 4px; flex: 4;" [operation]="selectedOperation" (update)="onOperationUpdate()">\r\n            </custom-operation>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Custom Services</label>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="createService()" title="Create service" [disabled]="!createServiceAuthorized">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n                <button class="btn btn-default" (click)="deleteService()" title="Delete service" [disabled]="!selectedServiceId || !deleteServiceAuthorized">\r\n                    <span class="glyphicon glyphicon-minus"></span>\r\n                </button>\r\n            </div>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="initServices()" title="Refresh">\r\n                    <span class="glyphicon glyphicon-refresh"></span>\r\n                </button>\r\n                <div class="btn-group btn-group-xs">\r\n                    <button class="btn btn-default dropdown-toggle" style="padding: 1px 3px;" data-toggle="dropdown">\r\n                        <span class="caret"></span>\r\n                    </button>\r\n                    <ul class="dropdown-menu pull-right">\r\n                        <li title="Reload services (useful when the Custom Services are changed/loaded manually)">\r\n                            <a (click)="reload()">\r\n                                <div class="hbox">\r\n                                    <span style="flex:1">Force reload from filesystem</span>\r\n                                    <span class="glyphicon glyphicon-repeat pull-right" style="margin-left: 5px;"></span>\r\n                                </div>\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox scrollableContainer">\r\n        <div *ngFor="let id of serviceIds" class="listItem" [ngClass]="{ active: selectedServiceId == id }" (click)="selectService(id)">\r\n            {{id}}\r\n        </div>\r\n    </div>\r\n</div>\r\n<custom-service *ngIf="selectedServiceId" style="flex: 4; margin-left: 6px;" [id]="selectedServiceId"></custom-service>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Operation authorization</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="scrollableContainer">\r\n\r\n        \x3c!-- Type --\x3e\r\n\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading">\r\n                <label>Type restriction</label>\r\n            </div>\r\n            <div class="panel-body">\r\n                <p>\r\n                    Determines if the <i>rdf</i> capability is required on a specific resource type. \r\n                    It is possible to select a type among those available in VB or to let the system infer the type from a parameter of the operation.\r\n                </p>\r\n                <div class="form-horizontal">\r\n                    <div class="form-group">\r\n                        <label class="control-label col-sm-2">Restriction</label>\r\n                        <div class="col-sm-10">\r\n                            <select class="form-control input-sm" [(ngModel)]="selectedTypeRestriction" (ngModelChange)="update()">\r\n                                <option *ngFor="let r of typeRestrictions">{{r}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n            \r\n                    <div *ngIf="selectedTypeRestriction==typeRestrictionType" class="form-group">\r\n                        <label class="control-label col-sm-2">Type</label>\r\n                        <div class="col-sm-10">\r\n                            <select class="form-control input-sm" [(ngModel)]="selectedType" (ngModelChange)="update()">\r\n                                <option *ngFor="let r of roles">{{r}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf="selectedTypeRestriction==typeRestrictionParam" class="form-group">\r\n                        <label class="control-label col-sm-2">Parameter</label>\r\n                        <div class="col-sm-10">\r\n                            <select *ngIf="context.parameters?.length > 0; else noParamTypeBlock" class="form-control input-sm" style="font-family: monospace;"\r\n                                [(ngModel)]="selectedParamType" (ngModelChange)="update()">\r\n                                <option *ngFor="let p of context.parameters">{{p}}</option>\r\n                            </select>\r\n                            <ng-template #noParamTypeBlock>\r\n                                <div class="form-control input-sm" style="background-color: #eee;">\r\n                                    <span class="glyphicon glyphicon-warning-sign"></span> The operation does not foreseen any parameter\r\n                                </div>\r\n                            </ng-template>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf="selectedTypeRestriction!=typeRestrictionNone && (selectedType || selectedParamType)" class="form-group">\r\n                        <label class="control-label col-sm-2">\r\n                            Scope\r\n                            <span class="glyphicon glyphicon-info-sign" title="Refines the scope of the selected type"></span>\r\n                        </label>\r\n                        <div class="col-sm-10 hbox" style="align-items: center;">\r\n                            <input class="form-control input-sm" [(ngModel)]="scope" (ngModelChange)="update()">\r\n                            <span style="margin: 0px 4px;">*</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-footer">\r\n                For further details about the capability vocabulary, please refer to the VB \r\n                <a href="http://vocbench.uniroma2.it/doc/user/roles_adm.jsf#capabilities_vocabulary" target="_blank">documentation</a>.\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- Language --\x3e\r\n\r\n        <div class="panel panel-default" style="margin-top: 6px;">\r\n            <div class="panel-heading">\r\n                <label>Language requirement</label>\r\n            </div>\r\n            <div class="panel-body">\r\n                <p>\r\n                    Determines if the operation requires that the user which performs the operation has a specifica language assigned.\r\n                    It is possible to select a language among those available in VB or to let the system infer it from a parameter of the operation.\r\n                </p>\r\n                <div class="form-horizontal">\r\n                    <div class="form-group">\r\n                        <label class="control-label col-sm-2">Restriction</label>\r\n                        <div class="col-sm-10">\r\n                            <select class="form-control input-sm" [(ngModel)]="selectedLangRequirement" (ngModelChange)="update()">\r\n                                <option *ngFor="let r of langRequirements">{{r}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf="selectedLangRequirement==langRequirementLang" class="form-group">\r\n                        <label class="control-label col-sm-2">Language</label>\r\n                        <div class="col-sm-10">\r\n                            <select class="form-control input-sm" [(ngModel)]="selectedLang" (ngModelChange)="update()">\r\n                                <option *ngFor="let l of languages" [ngValue]="l">{{l.name}} ({{l.tag}})</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf="selectedLangRequirement==langRequirementParam" class="form-group">\r\n                        <label class="control-label col-sm-2">Parameter</label>\r\n                        <div class="col-sm-10">\r\n                            <select *ngIf="context.parameters?.length > 0; else noParamLangBlock" class="form-control input-sm" style="font-family: monospace;"\r\n                                [(ngModel)]="selectedParamLang" (ngModelChange)="update()">\r\n                                <option *ngFor="let p of context.parameters">{{p}}</option>\r\n                            </select>\r\n                            <ng-template #noParamLangBlock>\r\n                                <div class="form-control input-sm" style="background-color: #eee;">\r\n                                    <span class="glyphicon glyphicon-warning-sign"></span> The operation does not foreseen any parameter\r\n                                </div>\r\n                            </ng-template>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- CRUDV --\x3e\r\n\r\n        <div class="panel panel-default" style="margin-top: 6px;">\r\n            <div class="panel-heading">\r\n                <label>CRUDV</label>\r\n            </div>\r\n            <div class="panel-body hbox">\r\n                <div *ngFor="let cs of crudvStruct" class="text-center" style="flex: 1;">\r\n                    <div class="checkbox">\r\n                        <label>\r\n                            <input type="checkbox" [(ngModel)]="cs.checked" (ngModelChange)="update()">{{cs.label}}\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n    \x3c!-- Auth --\x3e\r\n\r\n    <div class="col-sm-12" style="margin-top: 10px;">\r\n        <div class="hbox" style="align-items: center;">\r\n            <label>Authorization:</label>\r\n            <input class="form-control input-sm" style="margin-left: 4px;" [ngModel]="authSerialization" readonly>\r\n            <span *ngIf="!authValidStruct.valid" class="glyphicon glyphicon-warning-sign" style="margin-left: 4px;"\r\n                [title]="authValidStruct.errors">\r\n            </span>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!authValidStruct.valid">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox" style="align-items: center; flex: initial;">\r\n        <label>Type:</label>\r\n        <select class="form-control input-sm" style="margin-left: 4px;" [(ngModel)]="selectedCustomOperation" (ngModelChange)="onOperationChanged()">\r\n            <option *ngFor="let c of customOperations" [ngValue]="c">{{c.shortName}}</option>\r\n        </select>\r\n    </div>\r\n\r\n    <div *ngIf="form" class="panel panel-default vbox" style="margin-top: 6px;">\r\n        <div class="panel-body vbox scrollableContainer">\r\n            \r\n            \x3c!-- Name --\x3e\r\n            <div *ngIf="form.name" class="gridRow">\r\n                <div class="gridEntry">\r\n                    <label class="entryLabel">\r\n                        {{form.name.displayName}}\r\n                        <span class="glyphicon glyphicon-info-sign" [title]="form.name.description"></span>\r\n                    </label>\r\n                    <input class="form-control input-sm" style="flex: 1" [(ngModel)]="form.name.value" sanitized>\r\n                    <div class="entryRequired">\r\n                        <ng-container *ngIf="form.name.required">*</ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Parameters --\x3e\r\n            <div *ngIf="form.parameters" class="gridRow">\r\n                <div class="gridEntry">\r\n                    <label class="entryLabel">\r\n                        {{form.parameters.displayName}}\r\n                        <span class="glyphicon glyphicon-info-sign" [title]="form.parameters.description"></span>\r\n                    </label>\r\n                    <div class="panel panel-default" style="flex: 1;">\r\n                        <div class="panel-body">\r\n                            <table class="table table-condensed table-borderless">\r\n                                <colgroup>\r\n                                    <col style="width: 1%;">\r\n                                    <col>\r\n                                    <col style="width: 1%;">\r\n                                    <col>\r\n                                    <col style="width: 1%;">\r\n                                    <col style="width: 1%;">\r\n                                </colgroup>\r\n                                <tbody>\r\n                                    <tr *ngFor="let p of form.parameters.value; let last=last">\r\n                                        <td><label>Name:</label></td>\r\n                                        <td><input class="form-control input-sm" style="font-family: monospace;" [(ngModel)]="p.name" sanitized></td>\r\n                                        <td><label>Type:</label></td>\r\n                                        <td>\r\n                                            <type-editor [(ngModel)]="p.type" parameter="true"></type-editor>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div class="checkbox-inline">\r\n                                                <label>\r\n                                                    <input type="checkbox" [(ngModel)]="p.required">Required\r\n                                                </label>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div class="hbox">\r\n                                                <button class="btn btn-xs btn-default" (click)="removeParameter(p)">\r\n                                                    <span class="glyphicon glyphicon-trash"></span>\r\n                                                </button>\r\n                                                <button *ngIf="last" class="btn btn-xs btn-default" (click)="addParameter()" style="margin-left: 2px;">\r\n                                                    <span class="glyphicon glyphicon-plus"></span>\r\n                                                </button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr *ngIf="!form.parameters.value || form.parameters.value.length == 0">\r\n                                        <td colspan="6" class="text-right">\r\n                                            <button class="btn btn-xs btn-default" (click)="addParameter()">\r\n                                                <span class="glyphicon glyphicon-plus"></span>\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    <div class="entryRequired">\r\n                        <ng-container *ngIf="form.parameters.required">*</ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Authorization --\x3e\r\n            <div *ngIf="form.authorization" class="gridRow">\r\n                <div class="gridEntry">\r\n                    <label class="entryLabel">\r\n                        {{form.authorization.displayName}}\r\n                        <span class="glyphicon glyphicon-info-sign" [title]="form.authorization.description"></span>\r\n                    </label>\r\n                    <div class="hbox" style="align-items: center;">\r\n                        <input class="form-control input-sm" [(ngModel)]="form.authorization.value">\r\n                        <button class="btn btn-xs btn-default" style="margin-left: 4px;" (click)="authorizationHelper()"  title="Edit">\r\n                            <span class="glyphicon glyphicon-pencil"></span>\r\n                        </button>\r\n                    </div>\r\n                    <div class="entryRequired">\r\n                        <ng-container *ngIf="form.authorization.required">*</ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Returns --\x3e\r\n            <div *ngIf="form.returns" class="gridRow">\r\n                <div class="gridEntry">\r\n                    <label class="entryLabel">\r\n                        {{form.returns.displayName}}\r\n                        <span class="glyphicon glyphicon-info-sign" [title]="form.returns.description"></span>\r\n                    </label>\r\n                    <div class="panel panel-default" style="flex: 1;">\r\n                        <div class="panel-body">\r\n                            <type-editor [(ngModel)]="form.returns.value" (ngModelChange)="updateReturnsPrettyPrint()"></type-editor>\r\n                        </div>\r\n                        <div class="panel-footer">\r\n                            <input class="form-control input-xs" style="font-family: monospace;" [ngModel]="returnsPrettyPrint" readonly>\r\n                        </div>\r\n                    </div>\r\n                    <div class="entryRequired">\r\n                        <ng-container *ngIf="form.returns.required">*</ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Sparql --\x3e\r\n            <div *ngIf="form.sparql" class="gridRow">\r\n                <div class="gridEntry">\r\n                    <label class="entryLabel">\r\n                        {{form.sparql.displayName}}\r\n                        <span class="glyphicon glyphicon-info-sign" [title]="form.sparql.description"></span>\r\n                    </label>\r\n                    <div class="panel panel-default vbox">\r\n                        <div class="panel-body vbox" style="position: relative;">\r\n                            <button class="btn btn-xs btn-default" style="position: absolute; top: 3px; right: 6px; z-index: 1;" data-toggle="popover">\r\n                                <span class="glyphicon glyphicon-question-sign"></span>\r\n                            </button>\r\n                            <yasgui [query]="form.sparql.value" (querychange)="onQueryChange($event)" hideButtons="true"></yasgui>\r\n                        </div>\r\n                    </div>\r\n                    <div class="entryRequired">\r\n                        <ng-container *ngIf="form.sparql.required">*</ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <custom-operation [operation]="context.operation" readonly="true"></custom-operation>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-default btn-sm" (click)="ok()">Close</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox table-responsive">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%">\r\n            <col>\r\n            <col style="width: 1%">\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>ID</label>\r\n                    <span class="glyphicon glyphicon-info-sign" title="A unique identifier"></span>\r\n                </td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="id" [readonly]="context.service"></td>\r\n                <td>*</td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>Service name</label>\r\n                    <span class="glyphicon glyphicon-info-sign" title="The name used to group all operations defined by this custom service"></span>\r\n                </td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="name" sanitized></td>\r\n                <td>*</td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>Description</label>\r\n                    <span class="glyphicon glyphicon-info-sign" title="A description of this custom service"></span>\r\n                </td>\r\n                <td><textarea class="form-control input-sm" style="resize: vertical" [(ngModel)]="description"></textarea></td>\r\n                <td></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isDataValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>\r\n\r\n'},function(e,t){e.exports='<div class="hbox" style="align-items: center;">\r\n\r\n    <select class="form-control input-sm" style="flex: 1; font-family: monospace;" [(ngModel)]="selectedType" (ngModelChange)="onSelectedTypeChange()">\r\n        <option *ngFor="let t of types" style="font-family: monospace;" [ngValue]="t.type">{{t.show}}</option>\r\n    </select>\r\n\r\n    <table *ngIf="genericArgsList" class="table table-condensed table-borderless" style="flex: 3; margin-left: 4px;">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr *ngFor="let a of genericArgsList; let i=index">\r\n                <td><label>{{a.name}}</label></td>\r\n                <td><type-editor [(ngModel)]="a.arg" (ngModelChange)="buildTypeAndPropagate()" [generic]="selectedType" [parameter]="parameter"></type-editor></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n'},function(e,t,n){e.exports='<div class="panel panel-default vbox blockingDivHost">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">{{ref.identifier}}</label>\r\n        <div class="hbox" style="flex: initial;">\r\n            <button class="btn btn-default btn-xs" (click)="edit()" title="Edit basic info" [disabled]="!editReporterAuthorized">\r\n                <span class="glyphicon glyphicon-pencil"></span>\r\n            </button>\r\n            <div class="btn-group btn-group-xs" style="margin-left: 5px;">\r\n                <button class="btn btn-default" (click)="compileReport()" title="Compile report">\r\n                    <span class="glyphicon glyphicon-play"></span>\r\n                </button>\r\n            </div>\r\n            <div style="display: inline-block; margin-left: 5px;">\r\n                <div class="input-group input-group-xs">\r\n                    <select class="form-control" [(ngModel)]="selectedReportFormat">\r\n                        <option *ngFor="let f of reportFormats" [ngValue]="f">{{f.label}}</option>\r\n                    </select>\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-default" (click)="compileAndDownloadReport()" title="Compile and download report">\r\n                            <span class="glyphicon glyphicon-save "></span>\r\n                        </button>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf="form" class="panel-body vbox">\r\n\r\n        \x3c!-- Label --\x3e\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">\r\n                    {{form.label.displayName}}\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.label.description"></span>\r\n                </label>\r\n                <input class="form-control input-sm" style="flex: 1;" [ngModel]="form.label.value" disabled/>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- Description --\x3e\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">\r\n                    {{form.description.displayName}}\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.description.description"></span>\r\n                </label>\r\n                <input class="form-control input-sm" style="flex: 1;" [ngModel]="form.description.value" disabled/>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- Template --\x3e\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">\r\n                    {{form.template.displayName}}\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.template.description"></span>\r\n                </label>\r\n                <mustache-editor style="height: 100px;" [ngModel]="form.template.value" [disabled]="true"></mustache-editor>\r\n            </div>\r\n        </div>\r\n        \r\n        \x3c!-- MimeType --\x3e\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">\r\n                    {{form.mimeType.displayName}}\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.mimeType.description"></span>\r\n                </label>\r\n                <input class="form-control input-sm" style="flex: 1;" [ngModel]="form.mimeType.value" disabled/>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- Service invocations --\x3e\r\n        <div class="hbox">\r\n            <div class="panel panel-default vbox">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">\r\n                        {{form.sections.displayName}}\r\n                        <span class="glyphicon glyphicon-info-sign" [title]="form.sections.description"></span>\r\n                    </label>\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button class="btn btn-default" (click)="createServiceInvocation()" title="Create service invocation" \r\n                                [disabled]="!createInvocationAuthorized">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" (click)="deleteServiceInvocation()" title="Delete service invocation" \r\n                                [disabled]="!selectedServiceInvocation || !deleteInvocationAuthorized">\r\n                                <span class="glyphicon glyphicon-minus"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox scrollableContainer">\r\n                    <div *ngFor="let s of form.sections.value; let idx=index" class="listItem" [ngClass]="{ active: selectedServiceInvocationIdx == idx }" (click)="selectServiceInvocation(idx)">\r\n                        <ng-container *ngIf="s.label">{{s.label}}</ng-container>\r\n                        <ng-container *ngIf="!s.label">{{s.service}}.{{s.operation}}</ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <service-invocation *ngIf="selectedServiceInvocation" style="margin-left: 4px; flex: 4;"\r\n                [invocation]="selectedServiceInvocation" [idx]="selectedServiceInvocationIdx" (update)="onServiceInvocationUpdate()">\r\n            </service-invocation>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Invokable Reports</label>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="createReporter()" title="Create report" [disabled]="!createReporterAuthorized">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n                <button class="btn btn-default" (click)="deleteReporter()" title="Delete report" [disabled]="!selectedReporter || !deleteReporterAuthorized">\r\n                    <span class="glyphicon glyphicon-minus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox scrollableContainer">\r\n        <div *ngFor="let r of reporters" class="listItem" [ngClass]="{ active: selectedReporter == r }" (click)="selectReporter(r)">\r\n            {{r.identifier}}\r\n        </div>\r\n    </div>\r\n</div>\r\n<invokable-reporter *ngIf="selectedReporter" style="flex: 4; margin-left: 6px;" [ref]="selectedReporter"></invokable-reporter>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox table-responsive">\r\n\r\n    <table *ngIf="form" class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%">\r\n            <col>\r\n            <col style="width: 1%">\r\n        </colgroup>\r\n        <tbody>\r\n            <ng-container *ngIf="!context.reporterRef">\r\n                <tr>\r\n                    <td class="text-right" nowrap>\r\n                        <label>ID</label>\r\n                    </td>\r\n                    <td>\r\n                        <input class="form-control input-sm" [(ngModel)]="id">\r\n                    </td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr style="border-bottom: 1px solid #ddd;">\r\n                    <td class="text-right" nowrap>\r\n                        <label>Scope</label>\r\n                    </td>\r\n                    <td>\r\n                        <select class="form-control input-sm" style="display: inline-block" [(ngModel)]="selectedScope">\r\n                            <option *ngFor="let s of scopes">{{s}}</option>\r\n                        </select>\r\n                    </td>\r\n                    <td></td>\r\n                </tr>\r\n            </ng-container>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>{{form.label.displayName}}</label>\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.label.description"></span>\r\n                </td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="form.label.value"></td>\r\n                <td><ng-container *ngIf="form.label.required">*</ng-container></td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>{{form.description.displayName}}</label>\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.description.description"></span>\r\n                </td>\r\n                <td><textarea class="form-control input-sm" style="resize: vertical" [(ngModel)]="form.description.value"></textarea></td>\r\n                <td><ng-container *ngIf="form.description.required">*</ng-container></td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>{{form.template.displayName}}</label>\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.template.description"></span>\r\n                </td>\r\n                <td>\r\n                    <mustache-editor [(ngModel)]="form.template.value"></mustache-editor>\r\n                </td>\r\n                <td><ng-container *ngIf="form.template.required">*</ng-container></td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>{{form.mimeType.displayName}}</label>\r\n                    <span class="glyphicon glyphicon-info-sign" [title]="form.mimeType.description"></span>\r\n                </td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="form.mimeType.value"></td>\r\n                <td><ng-container *ngIf="form.mimeType.required">*</ng-container></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isDataValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>\r\n\r\n'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Report</h3>\r\n</div>\r\n<div class="modal-body scrollableContainer">\r\n\r\n    <div *ngFor="let s of sections" class="panel panel-default" style="margin-bottom: 5px;">\r\n        <div class="panel-heading">\r\n            <label *ngIf="s.label">{{s.label}}</label>\r\n            <label *ngIf="!s.label">{{s.service}}.{{s.operation}}</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <table class="table table-condensed table-borderless">\r\n                <colgroup>\r\n                    <col style="width: 80px;">\r\n                    <col>\r\n                </colgroup>\r\n                <tbody>\r\n                    <tr>\r\n                        <td><label>Service</label></td>\r\n                        <td>{{s.service}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><label>Operation</label></td>\r\n                        <td>{{s.operation}}</td>\r\n                    </tr>\r\n                    <tr *ngIf="s.arguments && objectKeys(s.arguments).length > 0">\r\n                        <td><label>Arguments</label></td>\r\n                        <td>\r\n                            <div class="panel panel-default">\r\n                                <div class="panel-body">\r\n                                    <table class="table table-borderless table-condensed" style="font-family: monospace;">\r\n                                        <colgroup>\r\n                                            <col style="width: 1%;">\r\n                                            <col>\r\n                                        </colgroup>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let argName of objectKeys(s.arguments)">\r\n                                                <td><label>{{argName}}</label></td>\r\n                                                <td>\r\n                                                    <input class="form-control input-sm" [ngModel]="s.arguments[argName]" readonly>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><label>Result</label></td>\r\n                        <td>\r\n                            <json-editor class="CodeMirror-md" [ngModel]="jsonStringify(s.result, null, 2)" [disabled]="true"></json-editor>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-default btn-sm" (click)="ok()">Close</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <table class="table table-borderless table-condensed">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>\r\n                        Label\r\n                        <span class="glyphicon glyphicon-info-sign" title="The label of this section"></span>\r\n                    </label>\r\n                </td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="label"></td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>\r\n                        Description\r\n                        <span class="glyphicon glyphicon-info-sign" title="A description of this section"></span>\r\n                    </label>\r\n                </td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="description"></td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>\r\n                        Template\r\n                        <span class="glyphicon glyphicon-info-sign" title="A template for rendering an individual section. The template must conform to Mustache templating language."></span>\r\n                    </label>\r\n                </td>\r\n                <td><mustache-editor style="height: 150px;" [(ngModel)]="template"></mustache-editor></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="hbox" style="margin-top: 4px;">\r\n\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1;">Custom Services</label>\r\n            </div>\r\n            <div class="panel-body vbox scrollableContainer">\r\n                <div *ngFor="let id of customServiceIds" class="listItem" [ngClass]="{ active: selectedServiceId == id }" (click)="selectService(id).subscribe()">\r\n                    {{id}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="selectedService" class="hbox" style="flex: 3; margin-left: 4px">\r\n\r\n            <div class="panel panel-default vbox">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">\r\n                        {{selectedService.name}}\r\n                    </label>\r\n                </div>\r\n                <div class="panel-body hbox">\r\n                    <div class="panel panel-default vbox">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">Custom Operations</label>\r\n                        </div>\r\n                        <div class="panel-body vbox scrollableContainer">\r\n                            <div *ngFor="let o of selectedService.operations" class="listItem" [ngClass]="{ active: selectedOperation == o }" (click)="selectOperation(o)">\r\n                                {{o.name}}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf="selectedOperation" class="panel panel-default vbox" style="margin-left: 4px; flex: 2;">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">{{selectedOperation.name}}</label>\r\n                            <button class="btn btn-xs btn-default" (click)="describeSelectedOperation()" title="See custom operation details">\r\n                                <span class="glyphicon glyphicon-eye-open"></span>\r\n                            </button>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <ng-container *ngIf="selectedOperation.returns.name != \'void\'; else voidBlock">\r\n                                <table *ngIf="parameters.length > 0; else noParamsBlock" class="table table-borderless table-condensed">\r\n                                    <colgroup>\r\n                                        <col style="width: 1%;">\r\n                                        <col>\r\n                                        <col style="width: 1%;">\r\n                                    </colgroup>\r\n                                    <tr *ngFor="let p of parameters">\r\n                                        <td class="text-right" style="font-family: monospace;" nowrap>{{p.show}} = </td>\r\n                                        <td>\r\n                                            <input class="form-control input-xs" [(ngModel)]="p.value">\r\n                                        </td>\r\n                                        <td>\r\n                                            <span *ngIf="!p.param.required" class="glyphicon glyphicon-question-sign" title="Optional parameter"></span>\r\n                                            <span *ngIf="p.param.required" class="glyphicon glyphicon-exclamation-sign" title="Mandatory parameter"></span>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                                <ng-template #noParamsBlock>\r\n                                    <div class="alert alert-info">This operations has no parameters, it can be invoked without any configuration</div>\r\n                                </ng-template>\r\n                            </ng-container>\r\n                            <ng-template #voidBlock>\r\n                                <div class="alert alert-warning">\r\n                                    Invokable reporter cannot define a service invocation that executes and update, it can only exploit read-only Custom Operations.\r\n                                    <i>{{selectedOperation.name}}</i> is not a read operation, so it cannot be used.\r\n                                </div>\r\n                            </ng-template>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isDataValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">\r\n            {{invocation.label}}\r\n        </label>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="editInvocation()" title="Edit service invocation" [disabled]="!editInvocationAuthorized">\r\n                    <span class="glyphicon glyphicon-pencil"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox scrollableContainer">\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Label:</label>\r\n                <div style="flex: 1">\r\n                    <input class="form-control input-sm" [ngModel]="invocation.label" readonly>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Description:</label>\r\n                <div style="flex: 1">\r\n                    <input class="form-control input-sm" [ngModel]="invocation.description" readonly>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Service:</label>\r\n                <div style="flex: 1">\r\n                    <input class="form-control input-sm" [ngModel]="invocation.service" readonly>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Operation:</label>\r\n                <div style="flex: 1">\r\n                    <input class="form-control input-sm" [ngModel]="invocation.operation" readonly>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Arguments:</label>\r\n                <div class="panel panel-default" style="flex: 1; min-height: 28px;">\r\n                    <div class="panel-body">\r\n                        <table *ngIf="invocation.arguments" class="table table-borderless table-condensed" style="font-family: monospace;">\r\n                            <colgroup>\r\n                                <col style="width: 1%;">\r\n                                <col>\r\n                            </colgroup>\r\n                            <tbody>\r\n                                <tr *ngFor="let argName of objectKeys(invocation.arguments)">\r\n                                    <td><label>{{argName}}</label></td>\r\n                                    <td>\r\n                                        <input class="form-control input-sm" [ngModel]="invocation.arguments[argName]" readonly>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gridRow">\r\n            <div class="gridEntry">\r\n                <label class="entryLabel">Template:</label>\r\n                <div style="flex: 1">\r\n                    <mustache-editor [ngModel]="invocation.template" [disabled]="true"></mustache-editor>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="hbox">\r\n\r\n    <div #treePanel class="vbox" [ngStyle]="{ \'flex\': treePanelFlex }">\r\n        <tabset-panel (nodeSelected)="onNodeSelected($event)"></tabset-panel>\r\n    </div>\r\n\r\n    <ng-template [ngIf]="resViewPanelFlex > 0">\r\n        <div class="sliderX" (mousedown)="onMousedown($event);"></div>\r\n        <resource-view-mode-dispatcher #resViewPanel [ngStyle]="{ \'flex\': resViewPanelFlex }" \r\n            (empty)="onResViewEmpty()" (tabSelect)="onTabSelected($event)"></resource-view-mode-dispatcher>\r\n    </ng-template>\r\n\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="hbox" style="align-items: center;">\r\n        <label style="margin-right: 4px;">Measure:</label>\r\n        <input id="toFocus" type="number" class="form-control input-sm" style="flex: 1;" [(ngModel)]="value"\r\n            [min]="context.min" [max]="context.max" [step]="context.step">\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div *ngIf="contextInitialized" class="hbox">\r\n\r\n    <tabset-panel #leftTabset [projectCtx]="leftProjCtx" (nodeSelected)="onLeftResourceSelected($event)" [hiddenTabs]="leftHiddenTabs" [editable]="false">\r\n    </tabset-panel>\r\n\r\n    <div class="vbox" style="margin: 0px 8px">\r\n\r\n        <div class="hbox" style="flex: initial; align-items: center;padding: 8px">\r\n            <div class="text-center" style="flex: 1; border-right: 1px solid black">\r\n                <span class="glyphicon glyphicon-chevron-left"></span>\r\n                <label>{{leftProjCtx.getProject().getName()}}</label>\r\n            </div>\r\n            <div class="text-center" style="flex: 1;">\r\n                <label>{{rightProjCtx.getProject().getName()}}</label>\r\n                <span class="glyphicon glyphicon-chevron-right"></span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default" style="margin-bottom: 4px;">\r\n            <div class="panel-heading">\r\n                <label>New alignment</label>\r\n            </div>\r\n            <div class="panel-body" style="min-height: 30px;">\r\n                <div class="hbox">\r\n                    <div style="flex: 1">\r\n                        <rdf-resource *ngIf="leftSelectedResource" style="cursor: pointer" [resource]="leftSelectedResource"\r\n                            (dblclick)="openLeftResourceView(leftSelectedResource)">\r\n                        </rdf-resource>\r\n                    </div>\r\n                    <div style="flex: 1">\r\n                        <rdf-resource *ngIf="rightSelectedResource" style="cursor: pointer" [resource]="rightSelectedResource"\r\n                            (dblclick)="openRightResourceView(rightSelectedResource)">\r\n                        </rdf-resource>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-footer">\r\n                <div class="hbox">\r\n                    <div class="hbox" style="align-items: center; margin-right: 4px;">\r\n                        <label style="margin-right: 4px;">Relation:</label>\r\n                        <select class="form-control input-xs" style="margin-right: 4px;" [(ngModel)]="selectedRelation" [title]="selectedRelation?.text">\r\n                            <option *ngFor="let rel of relations" [ngValue]="rel" [title]="rel.text">{{rel.relation}}</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="hbox" style="align-items: center; margin-right: 4px;">\r\n                        <label style="margin-right: 4px;">Measure:</label>\r\n                        <input class="form-control input-xs" style="margin-right: 4px;" type="number" min="0" max="1" step=".01" [(ngModel)]="measure">\r\n                    </div>\r\n                    <button class="btn btn-xs btn-default pull-right" (click)="addCorrespondence()"\r\n                        [disabled]="!leftSelectedResource || !rightSelectedResource || !selectedRelation || !measure">\r\n                        Create\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1;">Alignments</label>\r\n                <div class="btn-toolbar">\r\n                    <button class="btn btn-xs btn-default" style="transform: rotate(90deg);" title="Sync entities" (click)="syncCorrespondece()" [disabled]="!selectedCorrespondence">\r\n                        <span class="glyphicon glyphicon-sort"></span>\r\n                    </button>\r\n                    <button class="btn btn-xs btn-default" (click)="deleteCorrespondece()" title="Delete alignment" [disabled]="!selectedCorrespondence">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                    <button class="btn btn-xs btn-default" (click)="listCorrespondences()" title="Refresh">\r\n                        <span class="glyphicon glyphicon-refresh"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body vbox">\r\n\r\n                <div class="table-responsive vbox">\r\n                    <table *ngIf="correspondences" class="table table-condensed">\r\n                        <colgroup>\r\n                            <col style="width: 48%">\r\n                            <col style="width: 48%">\r\n                            <col style="width: 1%">\r\n                            <col style="width: 1%">\r\n                        </colgroup>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Left entity</th>\r\n                                <th>Right entity</th>\r\n                                <th>Relation</th>\r\n                                <th>Measure</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let c of correspondences" (click)="selectCorrespondence(c)" [ngClass]="{ info: selectedCorrespondence == c }">\r\n                                <td>\r\n                                    <rdf-resource [resource]="c.leftEntity[0]" style="cursor: pointer" (dblclick)="openLeftResourceView(c.leftEntity[0])"></rdf-resource>\r\n                                </td>\r\n                                <td>\r\n                                    <rdf-resource [resource]="c.rightEntity[0]" style="cursor: pointer" (dblclick)="openRightResourceView(c.rightEntity[0])"></rdf-resource>\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    <div class="btn-group btn-group-xs">\r\n                                        <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown">\r\n                                            {{c.relation[0].getShow()}}\r\n                                        </button>\r\n                                        <ul class="dropdown-menu pull-right">\r\n                                            <li *ngFor="let rel of relations">\r\n                                                <a (click)="changeRelation(c, rel)" [title]="rel.text">{{rel.relation}}</a>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    <button class="btn btn-xs btn-default" (click)="changeMeasure(c)">{{c.measure[0].getShow()}}</button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="correspondences?.length > 0" class="panel-footer">\r\n                <div class="btn-group btn-group-xs pull-right">\r\n                    <button class="btn btn-default" title="Previous page" (click)="prevPage()" [disabled]="page==0">\r\n                        <span class="glyphicon glyphicon-triangle-left"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" style="cursor: auto" disabled>\r\n                        <span>{{page+1}} of {{totPage}}</span>\r\n                    </button>\r\n                    <button class="btn btn-default" title="Next page" (click)="nextPage()" [disabled]="page>=totPage-1">\r\n                        <span class="glyphicon glyphicon-triangle-right"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <tabset-panel #rightTabset [projectCtx]="rightProjCtx" (nodeSelected)="onRightResourceSelected($event)" [hiddenTabs]="rightHiddenTabs" [editable]="false">\r\n    </tabset-panel>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="vbox blockingDivHost">\r\n\r\n    <svg:svg #svg class="graphContainer" (click)="onBackgroundClicked()">\r\n        <svg:g *ngIf="initialized" [zoomableOf]="svg">\r\n            <svg:g *ngFor="let link of graph.links" [id]="\'link\' + link.index" [link]="link" (linkClicked)="onLinkClicked($event)" [selected]="selectedElement == link"></svg:g>\r\n            <svg:use *ngIf="linkAhead" [attr.xlink:href]="\'#link\' + linkAhead.index"></svg:use>\r\n\r\n            <svg:g *ngFor="let node of graph.nodes" [dataNode]="node" (nodeClicked)="onNodeClicked($event)" (nodeDblClicked)="onNodeDblClicked($event)"\r\n                [draggableNode]="node" [draggableInGraph]="graph" [rendering]="rendering" [selected]="selectedElement == node">\r\n            </svg:g>\r\n        </svg:g>\r\n    </svg:svg>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <div *ngIf="context != \'sparql\'" class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-xs btn-default" (click)="addNode()" title="Add a new node">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n\r\n            <div *ngIf="isExpandEnabled()" class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="expandSubResources()" title="Expand sub-resources">Sub</button>\r\n                <button class="btn btn-default" (click)="expandSuperResources()" title="Expand super-resources">Super</button>\r\n            </div>\r\n        </div>\r\n        <span style="flex: 1;"></span>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" (click)="rendering=!rendering" title="Rendering"  [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" (click)="snapshot()" title="Export a snapshot of the graph (.svg)">\r\n                <span class="glyphicon glyphicon-camera"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" (click)="openSettings()" title="Settings">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body hbox">\r\n        <data-graph class="vbox" [graph]="graph" [rendering]="rendering" (elementSelected)="onElementSelected($event)"></data-graph>\r\n\r\n        <div class="vbox" style="flex: initial; width: 300px; margin-left: 4px;">\r\n            <div class="panel panel-default vbox">\r\n                <div class="panel-heading">\r\n                    <label></label>\r\n                    <span style="flex: 1;"></span>\r\n                    <div *ngIf="isSelectedElementNode()" class="btn-toolbar" role="toolbar">\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button type="button" class="btn btn-default" [ngClass]="{ active: selectedElement?.fixed }" title="Fix node position" (click)="fixNode()" [disabled]="!selectedElement">\r\n                                <span class="glyphicon glyphicon-lock"></span>\r\n                            </button>\r\n                            \x3c!-- <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="padding: 3px; line-height: 1;">\r\n                                <span class="caret"></span>\r\n                            </button>\r\n                            <ul class="dropdown-menu pull-right">\r\n                                <li><a (click)="fixAll()">Fix all nodes</a></li>\r\n                                <li><a (click)="unfixAll()">Unfix all nodes</a></li>\r\n                            </ul> --\x3e\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox">\r\n                    <resource-details-panel *ngIf="selectedElement?.res" [resource]="selectedElement.res"></resource-details-panel>\r\n                </div>\r\n            </div>\r\n\r\n            <force-control-panel [(ngModel)]="forces" (ngModelChange)="onForceChange()" style="margin-top: 4px"></force-control-panel>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<svg:g [attr.transform]="\'translate(\' + node.x + \',\' + node.y + \')\'">\r\n    <svg:g (click)="onClick()" (dblclick)="onDblClick()" style="cursor: pointer;">\r\n\r\n\r\n        <ng-template [ngIf]="node.res.isResource()">\r\n            <defs>\r\n                <linearGradient [attr.id]="\'gradient\'+node.index" x2="0%" y2="100%">\r\n                    <stop offset="0%" [attr.class]="nodeClass"/>\r\n                    <stop [attr.offset]="stripePercentage + \'%\'" [attr.class]="nodeClass"/>\r\n                    <stop [attr.offset]="stripePercentage + \'%\'" style="stop-color: black"/>\r\n                    <stop [attr.offset]="stripePercentage + 3 + \'%\'" style="stop-color: black"/>\r\n                    <stop [attr.offset]="stripePercentage + 3 + \'%\'" style="stop-color: white"/>\r\n                    <stop offset="100%" style="stop-color: white"/>\r\n                </linearGradient>\r\n            </defs>\r\n\r\n            <svg:rect class="graphNode" [ngClass]="{ graphNodeSelected: selected }"\r\n                rx="5" ry="5" [attr.x]="-measures.width/2" [attr.y]="-measures.height/2" \r\n                [attr.width]="measures.width" [attr.height]="measures.height" [attr.fill]="\'url(#gradient\'+node.index+\')\'">\r\n            </svg:rect>\r\n\r\n            <svg:text [attr.x]="-measures.width/2+3" [attr.y]="-measures.height/2+3" dominant-baseline="hanging">\r\n                \x3c!-- :Class name --\x3e\r\n                \x3c!-- <svg:title>{{show}}</svg:title> --\x3e\r\n            </svg:text>\r\n\r\n            <svg:text #textEl style="visibility: hidden">{{show}}</svg:text>\r\n            <svg:text [attr.x]="-measures.width/2+3" [attr.y]="-measures.height/2+stripeHeight+5" dominant-baseline="hanging">\r\n                {{normalizedShow}}\r\n                <svg:title>{{show}}</svg:title>\r\n            </svg:text>\r\n        </ng-template>\r\n\r\n        \x3c!-- For literal no top stripe --\x3e\r\n        <ng-template [ngIf]="!node.res.isResource()">\r\n            <svg:rect class="graphNode literal" [ngClass]="{ graphNodeSelected: selected }"\r\n                [attr.x]="-measures.width/2" [attr.y]="-measures.height/2" [attr.width]="measures.width" [attr.height]="measures.height">\r\n            </svg:rect>\r\n\r\n            <svg:text #textEl style="visibility: hidden">{{show}}</svg:text>\r\n            <svg:text text-anchor="middle" dominant-baseline="central">\r\n                {{normalizedShow}}\r\n                <svg:title>{{show}}</svg:title>\r\n            </svg:text>\r\n        </ng-template>\r\n            \r\n        <svg:text *ngIf="deprecated" class="deprecated" fill="#8e4a4c" dominant-baseline="hanging"\r\n            [attr.transform]="\'translate(\'+(measures.width/2-10)+\', -\'+(measures.height/2-4)+\')\'">D</svg:text>\r\n        \r\n    </svg:g>\r\n</svg:g>'},function(e,t){e.exports='<svg:defs>\r\n    <svg:marker [attr.id]="\'arrow\'+link.index" [attr.class]="\'arrow \'+arrowClass" [ngClass]="{ linkSelected: selected }" \r\n        viewBox="0 -5 10 10" refX="8" refY="0" markerWidth="7" markerHeight="7" orient="auto">\r\n        <svg:path d="M1,0 L1,-4 L9,0 L1,4 L1,-4 L1,0"></path>\r\n    </svg:marker>\r\n</svg:defs>\r\n\r\n\r\n<svg:path [attr.class]="linkClass" [ngClass]="{ \'linkSelected\': selected }" style="cursor: pointer;"\r\n    [attr.marker-end]="\'url(#arrow\' + link.index + \')\'" [attr.d]="computePath()"  (click)="onClick($event)">\r\n    <svg:title *ngIf="link.res">{{link.res.toNT()}}</svg:title>\r\n</svg:path>\r\n\r\n<svg:g *ngIf="link.res" [attr.transform]="getLabelTransform()" style="font-size: 9px; cursor: pointer;" (click)="onClick($event)">\r\n    <svg:rect [ngClass]="{ linkSelected: selected }" [attr.x]="-getLabelRectWidth()/2" y="-4" [attr.width]="getLabelRectWidth()" height="8" fill="#ddd"></svg:rect>\r\n    <svg:text #textEl style="visibility: hidden">{{link.res.getShow()}}</svg:text>\r\n    <svg:text text-anchor="middle" dominant-baseline="central">{{link.res.getShow()}}</svg:text>\r\n</svg:g>'},function(e,t,n){e.exports='<div class="vbox blockingDivHost">\r\n\r\n    <svg:svg #svg class="graphContainer" (click)="onBackgroundClicked()">\r\n        <defs>\r\n            <linearGradient id="objectPropertyGradient" x2="100%" y2="0%">\r\n                <stop offset="0%" style="stop-color: white"/>\r\n                <stop offset="6%" style="stop-color: white"/>\r\n                <stop offset="8%" style="stop-color: #336699"/>\r\n                <stop offset="100%" style="stop-color: #336699"/>\r\n            </linearGradient>\r\n            <linearGradient id="objectPropertyImportedGradient" x2="100%" y2="0%">\r\n                <stop offset="0%" style="stop-color: white"/>\r\n                <stop offset="6%" style="stop-color: white"/>\r\n                <stop offset="8%" style="stop-color: #9fb9d4"/>\r\n                <stop offset="100%" style="stop-color: #9fb9d4"/>\r\n            </linearGradient>\r\n            <linearGradient id="objectPropertyDeprecatedGradient" x2="100%" y2="0%">\r\n                <stop offset="0%" style="stop-color: white"/>\r\n                <stop offset="6%" style="stop-color: white"/>\r\n                <stop offset="8%" style="stop-color: #54616e"/>\r\n                <stop offset="100%" style="stop-color: #54616e"/>\r\n            </linearGradient>\r\n        </defs>\r\n\r\n        <svg:g *ngIf="initialized" [zoomableOf]="svg">\r\n            <svg:g *ngFor="let link of graph.links" [id]="\'link\' + link.index" [link]="link" [selected]="selectedElement == link" (linkClicked)="onLinkClicked($event)"></svg:g>\r\n            <svg:use *ngIf="linkAhead" [attr.xlink:href]="\'#link\' + linkAhead.index"></svg:use>\r\n            \r\n            <svg:g *ngFor="let node of graph.nodes" [modelNode]="node" (nodeClicked)="onNodeClicked($event)" (nodeDblClicked)="onNodeDblClicked($event)"\r\n                [draggableNode]="node" [draggableInGraph]="graph" [rendering]="rendering" [selected]="selectedElement == node">\r\n            </svg:g>\r\n        </svg:g>\r\n    </svg:svg>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button *ngIf="viewChildGraph.incrementalExploration" class="btn btn-xs btn-default" (click)="addNode()" title="Add another node">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n        </div>\r\n        <span style="flex: 1;"></span>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">\r\n                    <span class="glyphicon glyphicon-filter"></span>\r\n                </button>\r\n                <ul class="dropdown-menu pull-right">\r\n                    <li *ngFor="let f of axiomFilters">\r\n                        <a (click)="$event.stopPropagation()">\r\n                            {{f.property.getShow()}}\r\n                            <input type="checkbox" style="float: right" [(ngModel)]="f.show" (ngModelChange)="onFilterChange(f)">\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <button class="btn btn-default btn-xs" (click)="snapshot()" title="Export a snapshot of the graph (.svg)">\r\n                <span class="glyphicon glyphicon-camera"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body hbox">\r\n        <model-graph class="vbox" [graph]="graph" [filters]="axiomFilters" [rendering]="rendering" (elementSelected)="onElementSelected($event)"></model-graph>\r\n\r\n        <div class="vbox" style="flex: initial; width: 300px; margin-left: 4px;">\r\n            <div class="panel panel-default vbox">\r\n                <div class="panel-heading">\r\n                    <label></label>\r\n                    <span style="flex: 1;"></span>\r\n                    <div *ngIf="isSelectedElementNode()" class="btn-toolbar" role="toolbar">\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button type="button" class="btn btn-default" [ngClass]="{ active: selectedElement?.fixed }" title="Fix node position" (click)="fixNode()" [disabled]="!selectedElement">\r\n                                <span class="glyphicon glyphicon-lock"></span>\r\n                            </button>\r\n                            \x3c!-- <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="padding: 3px; line-height: 1;">\r\n                                <span class="caret"></span>\r\n                            </button>\r\n                            <ul class="dropdown-menu pull-right">\r\n                                <li><a (click)="fixAll()">Fix all nodes</a></li>\r\n                                <li><a (click)="unfixAll()">Unfix all nodes</a></li>\r\n                            </ul> --\x3e\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <resource-details-panel *ngIf="selectedElement?.res" [resource]="selectedElement.res"></resource-details-panel>\r\n                </div>\r\n            </div>\r\n\r\n            <force-control-panel [(ngModel)]="forces" (ngModelChange)="onForceChange()" style="margin-top: 4px"></force-control-panel>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<svg:g [attr.transform]="\'translate(\' + node.x + \',\' + node.y + \')\'">\r\n    <svg:g (click)="onClick()" (dblclick)="onDblClick()" style="cursor: pointer;">\r\n\r\n        <ng-template [ngIf]="node.res.isResource()">\r\n            <svg:circle *ngIf="nodeShape==\'circle\'" [attr.class]="\'graphNode \'+nodeClass" [ngClass]="{ graphNodeSelected: selected }"\r\n                cx="0" cy="0" [attr.r]="measures.radius">\r\n            </svg:circle> \r\n    \r\n            <svg:rect *ngIf="nodeShape==\'rect\'" [attr.class]="\'graphNode \' + (!isObjectProperty ? nodeClass : \'\')" [ngClass]="{ graphNodeSelected: selected }"\r\n                [attr.fill]="isObjectProperty ? \'url(#\'+nodeClass+\'Gradient)\' : \'\'"\r\n                rx="5" ry="5" [attr.x]="-measures.width/2" [attr.y]="-measures.height/2" [attr.width]="measures.width" [attr.height]="measures.height">\r\n            </svg:rect>\r\n            \r\n            <svg:rect *ngIf="nodeShape==\'square\'" [attr.class]="\'graphNode \'+nodeClass" [ngClass]="{ graphNodeSelected: selected }" rx="5" ry="5" \r\n                [attr.x]="-measures.width/2" [attr.y]="-measures.height/2" [attr.width]="measures.width" [attr.height]="measures.height">\r\n            </svg:rect>\r\n            \r\n            <polygon *ngIf="nodeShape==\'octagon\'" [attr.points]="octagonPoints" [attr.class]="\'graphNode \'+nodeClass" [ngClass]="{ graphNodeSelected: selected }"/>\r\n    \r\n            <polygon *ngIf="nodeShape==\'label\'" [attr.points]="labelPoints" stroke-linejoin="round" [attr.class]="\'graphNode \'+nodeClass" [ngClass]="{ graphNodeSelected: selected }"/>\r\n            \r\n            <svg:text *ngIf="deprecated" class="deprecated" style="font-size: 18px;" fill="#8e4a4c" [attr.transform]="\'translate(-6, 6)\'">D</svg:text>\r\n        </ng-template>\r\n\r\n        <ng-template [ngIf]="!node.res.isResource()">\r\n            <svg:rect class="graphNode literal" [ngClass]="{ graphNodeSelected: selected }" [attr.x]="-measures.width/2" [attr.y]="-measures.height/2" \r\n                [attr.width]="measures.width" [attr.height]="measures.height">\r\n            </svg:rect>\r\n        </ng-template>\r\n    \r\n    \r\n        <svg:text #textEl style="visibility: hidden">{{show}}</svg:text>\r\n        <svg:text text-anchor="middle" dominant-baseline="central">\r\n            {{normalizedShow}}\r\n            <svg:title>{{show}}</svg:title>\r\n        </svg:text>\r\n        \r\n        <svg:title>{{node.res.toNT()}}</svg:title>\r\n\r\n        \r\n    </svg:g>\r\n</svg:g>'},function(e,t,n){e.exports='\x3c!-- html graph--\x3e\n<div class="vbox blockingDivHost">\n\n    <svg:svg #svg class="graphContainer">\n        <svg:g *ngIf="initialized" [zoomableOf]="svg">\n            <svg:g *ngFor="let link of graph.links" [id]="\'link\' + link.index" [uml-link]="link" (linkClicked)="onLinkClicked($event)"  [selected]="selectedElement == link"></svg:g>\n            <svg:use *ngIf="linkAhead" [attr.xlink:href]="\'#link\' + linkAhead.index"></svg:use>\n\n            <svg:g *ngFor="let node of graph.nodes" (nodeClicked)="onNodeClicked($event)" (propClicked)="onPropClicked(node,$event)"\n             [umlNode]="node" [draggableNode]="node" [draggableInGraph]="graph" [selected]="selectedElement == node" [rendering]="rendering" [selectedProp]="selectedProp" >\n            </svg:g>\n        </svg:g>\n    </svg:svg>\n\n    <div #blockingDiv class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n\n</div>\n'},function(e,t){e.exports='<div class="panel panel-default vbox">\n    <div class="panel-heading">\n       <div class="btn-toolbar" role="toolbar">\n            <button class="btn btn-xs btn-default" (click)="addNode()" title="Add a new node">\n                <span class="glyphicon glyphicon-plus"></span>\n            </button>\n            <button class="btn btn-xs btn-default" (click)="removeNode()"title="Delete selected node" [disabled]="!activeRemove" >\n                <span class="glyphicon glyphicon-minus"></span>\n            </button>\n        </div> \n        <span style="flex: 1;"></span>\n        <div class="btn-toolbar" role="toolbar">\n            <button class="btn btn-default btn-xs"  title="Hide generic relation links" (click)="updateArrows()"  [ngClass]="{ active: isHideArrows }">\n                <span class="glyphicon glyphicon-arrow-up"></span>\n            </button>\n            <button class="btn btn-default btn-xs" (click)="rendering=!rendering" title="Rendering"  [ngClass]="{ active: rendering }">\n                <span class="glyphicon glyphicon-font"></span>\n            </button>\n            <button class="btn btn-default btn-xs" (click)="snapshot()" title="Export a snapshot of the graph (.svg)">\n                <span class="glyphicon glyphicon-camera"></span>\n            </button>\n            <button type="button" class="btn btn-default btn-xs" title="Fix nodes position" (click)="isLock? unfixAll() : fixAll()"  [ngClass]="{ active: isLock }">\n                <span class="glyphicon glyphicon-lock"></span>\n            </button>\n          \x3c!--  <button class="btn btn-default btn-xs" (click)="openSettings()" title="Settings">\n                <span class="glyphicon glyphicon-cog"></span>\n            </button> --\x3e\n        </div>\n    </div>\n    <div class="panel-body hbox">\n        <uml-graph class="vbox" [graph]="graph" [rendering]="rendering" [hideArrow]="isHideArrows" [fixed]="isLock" (elementSelected)="onElementSelected($event)"></uml-graph>\n        <div class="vbox" style="flex: initial; width: 300px; margin-left: 4px;">\n            <div class="panel panel-default vbox">\n                <div class="panel-heading">\n                    <label></label>\n                    <span style="flex: 1;"></span>\n                </div>\n                <div class="panel-body vbox">\n                    <resource-details-panel *ngIf="resourceToDescribe" [resource]="resourceToDescribe"></resource-details-panel>\n                </div>\n            </div>\n           \x3c!-- <force-control-panel [(ngModel)]="forces" (ngModelChange)="onForceChange()" style="margin-top: 4px"></force-control-panel> --\x3e\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<svg:defs>\n    <svg:marker *ngIf="withMarker && black" [attr.id]="\'arrow\'+link.index" [attr.class]="\'arrow \'+arrowClass"\n        viewBox="0 -5 10 10" refX="8" refY="0" markerWidth="7" markerHeight="8" orient="auto">\n        <svg:path d="M1,0 L1,-4 L9,0 L1,4 L1,-4 L1,0">\n            </path>\n    </svg:marker>\n</svg:defs>\n\n<svg:defs>\n    <svg:marker *ngIf="white" [attr.id]="\'arrow\'+link.index" [attr.class]="\'arrow \'+arrowClass" viewBox="0 -5 10 10"\n        refX="8" refY="0" markerWidth="14" markerHeight="15" orient="auto">\n        <svg:path d="M1,0 L1,-4 L9,0 L1,4 L1,-4 L1,0">\n            </path>\n    </svg:marker>\n</svg:defs>\n\n\n<svg:path class="link link-uml" [ngClass]="{ \'linkSelected\': selected }" style="cursor: pointer;"\n    [attr.marker-end]="\'url(#arrow\' + link.index + \')\'" [attr.d]="computePathUml()" (click)="onClick($event)">\n    <svg:title>{{link.res.toNT()}}</svg:title>\n</svg:path>\n\n\x3c!-- <svg:g  [attr.transform]="getLabelTransform()" style="font-size: 9px; cursor: pointer;" >\n    <svg:rect  [attr.x]="-getLabelRectWidth()/2" y="-4" [attr.width]="getLabelRectWidth()" height="8" fill="#ddd"></svg:rect>\n    <svg:text #textEl style="visibility: hidden">{{link.res.title}}</svg:text>\n    <svg:text text-anchor="middle" dominant-baseline="central">{{link.res.title}}</svg:text>\n</svg:g>  --\x3e'},function(e,t){e.exports='<svg:g [attr.transform]="\'translate(\' + node.x + \',\' + node.y + \')\'">\n    <svg:g style="cursor: pointer;">\n\n        <defs *ngIf="!node.explicit">\n            <linearGradient [attr.id]="\'gradient\'+node.index" x2="0%" y2="100%" gradientUnits="objectBoundingBox">\n                <stop offset="0%" style="stop-color: rgb(247, 241, 228)" />\n                <stop [attr.offset]="stripePercentage + \'%\'" style="stop-color: rgb(241, 239, 239)" />\n                <stop [attr.offset]="stripePercentage + \'%\'" style="stop-color: #fcfcf5 " />\n                <stop offset="100%" style="stop-color:  #fcfcf5" />\n            </linearGradient>\n        </defs>\n        <defs *ngIf="node.explicit">\n            <linearGradient [attr.id]="\'gradient\'+node.index" x2="0%" y2="100%" gradientUnits="objectBoundingBox">\n                <stop offset="0%" style="stop-color: rgb(245, 237, 217)" />\n                <stop [attr.offset]="stripePercentage + \'%\'" style="stop-color: rgb(219, 219, 219)" />\n                \x3c!-- <stop [attr.offset]="stripePercentage + \'%\'" style="stop-color: black" />\n                <stop [attr.offset]="lineSeparetorPercentage + \'%\'" style="stop-color: black" /> \n                <stop [attr.offset]="lineSeparetorPercentage + \'%\'" style="stop-color: #ffffee " /> --\x3e\n                <stop [attr.offset]="stripePercentage + \'%\'" style="stop-color: #ffffee " />\n                <stop offset="100%" style="stop-color:  #ffffee " />\n            </linearGradient>\n        </defs>\n\n        \n\n        <svg:g (click)="onClickClass()">\n\n            <svg:rect class="graphNode" rx="2" ry="2" [attr.x]="-measures.width/2" [attr.y]="-(measures.height/2)"\n                [attr.width]="measures.width" [attr.height]="measures.height"\n                [attr.fill]="\'url(#gradient\'+node.index+\')\'" [ngClass]="{ graphNodeSelected: selected }">\n            </svg:rect>\n           \n            <path [attr.d]="\'M -\'+ measures.width/2 + \' \' + (-(measures.height/2-18)) + \' l \' + measures.width + \' 0\' "\n                stroke="black" />\n\n\n            \x3c!-- Il  +14 sarebbe la grandezza dell\'immagine(viene gestita direttamente nel front) e serve a spostare la scritta dopo l\'immagine--\x3e\n            <svg:text #textEl style="visibility: hidden" font-size="14">{{show}}</svg:text>\n            <svg:text [attr.fill]="!node.explicit ? \'#999\' : \'\'" [attr.x]="(-measures.width/2+3)+14" [attr.y]="-measures.height/2+3" dominant-baseline="hanging"\n                font-size="14">\n                {{normalizedShow}}\n                <svg:title>{{node.res.toNT()}}</svg:title>\n            </svg:text>\n\n\n            <image [attr.xlink:href]="node.xlink" [attr.x]="-measures.width/2+3" [attr.y]="-measures.height/2+3" height="14px" width="14px" />\n                \x3c!-- <image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABPUlEQVR42mNkoBAwDk4D7hzr/v/q2mKGv78+g/nMbLwMYlpxDCpWJYwEDTi7wvM/69/nDEJCQgzsXMIMb189ZPjy5QvD9+/fGbiENBiMI7Yz4jQAZPO3+0sZFFSNGFikZBk4pRsYPh7xZ3j69CnYABCWNMgCuqSUEasBx+bo/Rfi52CQM3BgYJAWZWC4fo3h/u1LDH///gVjkEtA3rFKuYTdgMPTFP9z8YoxyMnJMbx7947h/5/PYI2/fv0CY5ALQHzngqe4DQD5nY2NDWwbiIYZANL88eNHsDqfyne4vcDG/AfMBmmEAZABIABy1a+/LAyh9W+xGwAKxOcXpmGNb5DtIFfImxUwmPm0YzcAFo3f3t2A80EugWmWUbFisEk8gDsa0RPSr+8fIKH//R+DjEEyg7FnC+GERCoYeAMAAHCnETraWggAAAAASUVORK5CYII="\n                [attr.x]="-measures.width/2+3" [attr.y]="-measures.height/2+3" height="14px" width="14px" /> --\x3e\n        </svg:g>\n\n        <svg:g *ngFor="let prop of node.listPropInfo" (click)="onClickProp(prop)">\n            <svg:text [id]="\'propTextEl\'+ prop.id" style="visibility: hidden" font-size="12">{{prop.show}}</svg:text>\n            <svg:text *ngIf="showPropSubClass(prop)" [attr.x]="prop.x +12" [attr.y]="prop.y" dominant-baseline="hanging"\n                font-size="12" [ngClass]="{ graphPropSelected: isSelectedProperty(prop)}">\n                {{prop.normalizedShow}}\n                <svg:title>{{prop.property.toNT() + " " + prop.range.toNT()}}</svg:title>\n            </svg:text>\n\n            <image *ngIf="showPropSubClass(prop)" [attr.xlink:href]="prop.xlink" [attr.x]="prop.x" [attr.y]="prop.y" height="12px" width="12px" />\n        </svg:g>\n\n    </svg:g>\n</svg:g>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Data-Oriented Graph settings</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox">\r\n        <lang-value-filter-pref class="vbox"></lang-value-filter-pref>\r\n\r\n        <div class="panel panel-default vbox" style="margin-left: 4px;">\r\n            <div class="panel-heading">\r\n                <label>Graph filter</label>\r\n            </div>\r\n            <div class="panel-body vbox">\r\n                <div class="alert alert-info" role="alert" style="margin-bottom: 5px;">\r\n                    Select the partition of the resource description that will be shown when expanding a node.\r\n                </div>\r\n                <partition-filter-editor [(ngModel)]="graphFilter" (ngModelChange)="updateFilter()"></partition-filter-editor>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="panel panel-default">\r\n        <div class="panel-body">\r\n            <div class="checkbox-inline">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="hideLiteralNodes" (ngModelChange)="onHideLiteralChange()">Hide literal nodes\r\n                </label>\r\n                <span class="glyphicon glyphicon-info-sign" title="If checked, all the literal nodes will be hidden in the graph"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Graph\r\n    </h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 70vh;">\r\n\r\n    <data-graph-panel *ngIf="context.mode==\'dataOriented\'" class="vbox" [graph]="context.graph" [rendering]="context.rendering" [role]="context.role" [context]="context.context"></data-graph-panel>\r\n    <model-graph-panel *ngIf="context.mode==\'modelOriented\'" class="vbox" [graph]="context.graph" [rendering]="context.rendering"></model-graph-panel>\r\n    <uml-graph-panel *ngIf="context.mode==\'umlOriented\'" class="vbox" [graph]="context.graph" [rendering]="context.rendering"></uml-graph-panel>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Expand node\r\n    </h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="alert alert-warning">\r\n        The resource you are expanding has a big amount of relations, thus it would generate a lot of links and nodes that could\r\n        confuse the graph visualization. It is highly recommended to filter out some relations in order to limit the graph size.\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox" style="margin-top: 4px;">\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngFor="let filter of filters" class="panel panel-default" style="margin-bottom: 4px;">\r\n                <div class="panel-heading hbox">\r\n                    <label style="flex: 1;">{{filter.partition.show}} ({{getPartitionCount(filter)}})</label>\r\n\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <div class="btn-group btn-group-xs" role="group">\r\n                            <button class="btn btn-default" title="Select all" (click)="checkAll(filter, true)">\r\n                                <span class="glyphicon glyphicon-check" style="width: 16px;"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Deselect all" (click)="checkAll(filter, false)">\r\n                                <span class="glyphicon glyphicon-unchecked" style="width: 16px;"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <div *ngFor="let pred of filter.predicates" class="listItem">\r\n                        <input type="checkbox" [(ngModel)]="pred.checked">\r\n                        <div class="hbox" style="align-items: center; margin: 0 2px;">\r\n                            <rdf-resource [resource]="pred.res" style="flex: initial"></rdf-resource>\r\n                            <span style="font-weight: bold;">({{pred.count}})</span>\r\n                        </div>\r\n                        <span *ngIf="pred.checked" class="glyphicon glyphicon-eye-open"></span>\r\n                        <span *ngIf="!pred.checked" class="glyphicon glyphicon-eye-close"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="panel-footer">\r\n            <span class="pull-right" style="font-weight: bold">Visible {{getVisibleCount()}} out of {{totalObjCount}}</span>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="getVisibleCount() == 0">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body table-responsive">\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col style="width: 1%">\r\n                <col>\r\n            </colgroup>\r\n            <tbody>\r\n                \x3c!-- \r\n                <tr><td colspan="2" class="text-center"><label>Charge</label></td></tr>\r\n                <tr>\r\n                    <td>Strength:</td>\r\n                    <td>\r\n                        <input type="range" [(ngModel)]="forces?.charge.strength" (ngModelChange)="onForceChange()"\r\n                            min="-500" max="50" step="1" [title]="forces?.charge.strength">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Distance Min:</td>\r\n                    <td>\r\n                        <input type="range" [(ngModel)]="forces?.charge.distanceMin" (ngModelChange)="onForceChange()"\r\n                            min="1" max="200" step="1" [title]="forces?.charge.distanceMin">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Distance Max:</td>\r\n                    <td>\r\n                        <input type="range" [(ngModel)]="forces?.charge.distanceMax" (ngModelChange)="onForceChange()"\r\n                            min="0" max="2000" step="1" [title]="forces?.charge.distanceMax">\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr><td colspan="2" class="text-center"><label>Collide</label></td></tr>\r\n                <tr>\r\n                    <td>Strength:</td>\r\n                    <td>\r\n                        <input type="range" [(ngModel)]="forces?.collide.strength" (ngModelChange)="onForceChange()"\r\n                            min="0" max="1" step=".1" [title]="forces?.collide.strength">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Radius:</td>\r\n                    <td>\r\n                        <input type="range" [(ngModel)]="forces?.collide.radius" (ngModelChange)="onForceChange()"\r\n                            min="0" max="100" step="1" [title]="forces?.collide.radius">\r\n                    </td>\r\n                </tr> \r\n                --\x3e                            \r\n\r\n                <tr><td colspan="2" class="text-center"><label>Links</label></td></tr>\r\n                <tr>\r\n                    <td>Strength:</td>\r\n                    <td>\r\n                        <input type="range" [(ngModel)]="forces?.link.strength" (ngModelChange)="onForceChange()"\r\n                            min="0" max="1" step="0.1" [title]="forces?.link.strength">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Length:</td>\r\n                    <td>\r\n                        <input type="range" [(ngModel)]="forces?.link.distance" (ngModelChange)="onForceChange()"\r\n                            min="100" max="500" step="1" [title]="forces?.link.distance">\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="table-responsive">\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td><label>Resource:</label></td>\r\n                <td><rdf-resource *ngIf="resource" [resource]="resource"></rdf-resource></td>\r\n            </tr>\r\n            <tr *ngIf="resource.isURIResource()">\r\n                <td><label>IRI:</label></td>\r\n                <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{resource.getURI()}}</td>\r\n            </tr>\r\n            <tr *ngIf="resource.isBNode()">\r\n                <td><label>ID:</label></td>\r\n                <td>{{resource.getId()}}</td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>Label:</label></td>\r\n                <td>{{resource.getShow()}}</td>\r\n            </tr>\r\n            <tr *ngIf="resource.isResource()">\r\n                <td><label>Role:</label></td>\r\n                <td>{{resource.getRole()}}</td>\r\n            </tr>\r\n            <tr *ngIf="resource.isResource()">\r\n                <td><label>Deprecated:</label></td>\r\n                <td>{{resource.isDeprecated()}}</td>\r\n            </tr>\r\n        </tbody>\r\n        <tfoot>\r\n            <tr *ngIf="resource.isResource()">\r\n                <td colspan="2">\r\n                    Show the complete <a style="cursor: pointer" (click)="showResourceView()">ResourceView</a>\r\n                </td>\r\n            </tr>   \r\n        </tfoot>\r\n    </table>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-body hbox">\r\n\r\n        <div class="panel panel-alt vbox" style="margin-right: 4px">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1;">Operations</label>\r\n                <button class="btn btn-xs btn-default" (click)="selectOperationFilter()">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n                <div *ngFor="let op of operations" class="listItem">\r\n                    <span style="flex: 1;">{{op.getShow()}}</span>\r\n                    <button class="btn btn-xs btn-default" (click)="removeOperationFilter(op)">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="!hidePerformers" class="panel panel-alt vbox" style="margin-right: 4px">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1;">Performers</label>\r\n                <button class="btn btn-xs btn-default" (click)="selectOperationPerformer()">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n                <div *ngFor="let p of performers" class="listItem">\r\n                    <span style="flex: 1">{{p.getShow()}}<span class="grayText">&nbsp;({{p.getEmail()}})</span></span>\r\n                    <button class="btn btn-xs btn-default" (click)="removeOperationPerformer(u)">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-alt vbox" style="margin-right: 4px">\r\n            <div class="panel-heading">\r\n                <label>\r\n                    Time\r\n                    <span class="glyphicon glyphicon-info-sign" title="Datetime format: yyyy-MM-ddThh:mm"></span>\r\n                </label>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n                <table class="table table-condensed table-borderless">\r\n                    <colgroup>\r\n                        <col style="width: 1%">\r\n                        <col>\r\n                        <col>\r\n                        <col style="width: 1%">\r\n                    </colgroup>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td><label>From:</label></td>\r\n                            <td><input type="datetime-local" class="form-control input-xs" [(ngModel)]="fromTime"></td>\r\n                            <td><input class="form-control input-xs" [ngModel]="fromTime" readonly></td>\r\n                            <td>\r\n                                <button class="btn btn-xs btn-default" (click)="fromTime=null" title="Reset" [disabled]="!fromTime">\r\n                                    <span class="glyphicon glyphicon-remove"></span>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><label>To:</label></td>\r\n                            <td><input type="datetime-local" class="form-control input-xs" [(ngModel)]="toTime"></td>\r\n                            <td><input class="form-control input-xs" [ngModel]="toTime" readonly></td>\r\n                            <td>\r\n                                <button class="btn btn-xs btn-default" (click)="toTime=null" title="Reset" [disabled]="!toTime">\r\n                                    <span class="glyphicon glyphicon-remove"></span>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        \r\n        <button class="btn btn-sm btn-primary" style="align-self: center" (click)="applyFilter()">Apply</button>\r\n\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Commit details\r\n    </h3>\r\n</div>\r\n<div class="modal-body vbox blockingDivHost" style="min-height: 20vh;">\r\n\r\n    <div *ngIf="truncated" class="alert alert-warning" style="margin-bottom: 6px;">\r\n        {{messageTruncated}}\r\n    </div>\r\n\r\n    <div class="scrollableContainer">\r\n        <table class="table table-condensed table-hoverable">\r\n            <colgroup>\r\n                <col style="width: 1%">\r\n                <col>\r\n                <col>\r\n                <col>\r\n                <col>\r\n            </colgroup>\r\n            <thead>\r\n                <tr>\r\n                    <th class="text-center"></th>\r\n                    <th class="text-center">Subject</th>\r\n                    <th class="text-center">Predicate</th>\r\n                    <th class="text-center">Object</th>\r\n                    <th class="text-center">Context</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let add of additions">\r\n                    <td class="text-center" style="background: lightgreen !important; padding: 3px 6px;">\r\n                        <span class="glyphicon glyphicon-plus" style="color: green" title="Added"></span>\r\n                    </td>\r\n                    <td class="text-center clickable" (click)="openResource(add.subject)">\r\n                        {{getShow(add.subject)}}\r\n                    </td>\r\n                    <td class="text-center clickable" (click)="openResource(add.predicate)">\r\n                        {{getShow(add.predicate)}}\r\n                    </td>\r\n                    <td class="text-center" [ngClass]="{ clickable: add.object.isResource() }" (click)="openResource(add.object)">\r\n                        {{getShow(add.object)}}\r\n                    </td>\r\n                    <td class="text-center">\r\n                        {{getShow(add.context)}}\r\n                    </td>\r\n                </tr>\r\n                <tr *ngFor="let rem of removals">\r\n                    <td class="text-center" style="background: lightpink !important; padding: 3px 6px;">\r\n                        <span class="glyphicon glyphicon-minus" style="color: red" title="Removed"></span>\r\n                    </td>\r\n                    <td class="text-center clickable" (click)="openResource(rem.subject)">\r\n                        {{getShow(rem.subject)}}\r\n                    </td>\r\n                    <td class="text-center clickable" (click)="openResource(rem.predicate)">\r\n                        {{getShow(rem.predicate)}}\r\n                    </td>\r\n                    <td class="text-center" [ngClass]="{ clickable: rem.object.isResource() }" (click)="openResource(rem.object)">\r\n                        {{getShow(rem.object)}}\r\n                    </td>\r\n                    <td class="text-center">\r\n                        {{getShow(rem.context)}}\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        {{context.commit.operation.getShow()}} parameters\r\n    </h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="scrollableContainer">\r\n        <table class="table table-condensed table-hoverable">\r\n            <colgroup>\r\n                <col style="width: 1%">\r\n                <col>\r\n            </colgroup>\r\n            <thead>\r\n                <tr>\r\n                    <th class="text-center">Name</th>\r\n                    <th class="text-center">Value</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let param of context.commit.operationParameters">\r\n                    <td class="text-center">\r\n                        <label>{{param.name}}</label>\r\n                    </td>\r\n                    <td class="text-center">\r\n                        <span (click)="openValueResourceView(param.value)" class="clickable">{{param.value}}</span>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Add operation to filter</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height:75vh;">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Extension path:</label></td>\r\n                <td style="padding: 3px;">\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedExtensionPath" (ngModelChange)="onExtPathChange()">\r\n                        <option *ngFor="let path of extensionPaths">{{path}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Service class:</label></td>\r\n                <td style="padding: 3px;">\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedServiceClasses" (ngModelChange)="onServClassChange()">\r\n                        <option *ngFor="let sc of serviceClasses">{{sc}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="panel panel-default vbox" style="margin-bottom: 3px;">\r\n        <div class="panel-heading">\r\n            <label style="flex:1;">Operations:</label>\r\n            <div class="input-group input-group-xs col-sm-4">\r\n                <input type="text" class="form-control" placeholder="Operation filter" [(ngModel)]="filterKey" \r\n                    (ngModelChange)="onFilterChanged()" [disabled]="operations.length == 0">\r\n                <span class="input-group-addon">\r\n                    <span class="glyphicon glyphicon-filter"></span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <ng-template ngFor let-op [ngForOf]="operations">\r\n                <div class="checkbox" style="margin-left: 12px;" *ngIf="!op.filtered">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="op.checked">{{getOperationShow(op.service)}}\r\n                    </label>\r\n                </div>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n\r\n    <button class="btn btn-xs btn-default" style="margin-bottom: 3px; align-self: center" (click)="addOperations()">\r\n        Add <span class="glyphicon glyphicon-chevron-down"></span>\r\n    </button>\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngFor="let op of operationsToAdd" class="listItem">\r\n                <span style="flex: 1;">{{getOperationShow(op, true)}}</span>\r\n                <button class="btn btn-xs btn-default" (click)="removeOperation(op)">\r\n                    <span class="glyphicon glyphicon-minus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="operationsToAdd.length == 0">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        Validation comments\r\n    </h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="alert alert-warning" style="margin-bottom: 6px;">\r\n        For the following rejected commits it is possible to provide a comment in order to motivate the decision to reject.\r\n        Some rejection has no comment provided. Even if the comment is optional, it is recommended to provide it.\r\n        Anyway, if you don\'t want to provide a comment at all, you can leave empty the text field and continue.\r\n    </div>\r\n\r\n    <div class="scrollableContainer">\r\n        <table class="table table-condensed table-hoverable">\r\n            <colgroup>\r\n                <col style="width: 1%">\r\n                <col style="width: 1%">\r\n                <col>\r\n            </colgroup>\r\n            <thead>\r\n                <tr>\r\n                    <th class="text-center">Commit ID</th>\r\n                    <th class="text-center">Action</th>\r\n                    <th class="text-center">Comment</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let item of commits">\r\n                    <td class="text-center" nowrap>\r\n                        <a (click)="getCommitDelta(item)" style="cursor: pointer;">{{item.commit.getLocalName()}}</a>\r\n                    </td>\r\n                    <td class="text-center" nowrap>\r\n                        <span *ngIf="item.operation" [title]="item.operation.getURI()">\r\n                            {{item.operation.getShow()}}\r\n                            <button class="btn btn-xs btn-default" (click)="inspectParams(commit)" title="Show parameters">\r\n                                <span class="glyphicon glyphicon-option-horizontal"></span>\r\n                            </button>\r\n                        </span>\r\n                    </td>\r\n                    <td class="text-center">\r\n                        <input class="form-control input-xs" [(ngModel)]="item.comment">\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">Staged commits</label>\r\n\r\n        <label style="white-space: pre">Operation sort: </label>\r\n        <div class="btn-group btn-group-xs" style="margin-right: 8px;" role="group">\r\n            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                <span>{{operationSorting}}</span>\r\n                <span class="glyphicon glyphicon-sort-by-alphabet"></span>\r\n            </button>\r\n            <ul class="dropdown-menu pull-right">\r\n                <li *ngFor="let sd of sortingDirectionList" style="position: relative;">\r\n                    <a (click)="sortOperation(sd)" style="margin-right: 18px;">{{sd}}</a>\r\n                    <span *ngIf="sd == operationSorting" class="glyphicon glyphicon-ok pull-right"\r\n                        style="position: absolute; right: 4px;"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <label style="white-space: pre">Time sort: </label>\r\n        <div class="btn-group btn-group-xs" style="margin-right: 8px;" role="group">\r\n            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                <span>{{timeSorting}}</span>\r\n                <span class="glyphicon glyphicon-sort-by-order"></span>\r\n            </button>\r\n            <ul class="dropdown-menu pull-right">\r\n                <li *ngFor="let sd of sortingDirectionList" style="position: relative;">\r\n                    <a (click)="sortTime(sd)" style="margin-right: 18px;">{{sd}}</a>\r\n                    <span *ngIf="sd == timeSorting" class="glyphicon glyphicon-ok pull-right"\r\n                        style="position: absolute; right: 4px;"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <button class="btn btn-xs btn-default" [ngClass]="{active: showFilterBox}" (click)="showFilterBox = !showFilterBox"  title="Filter">\r\n            <span *ngIf="!showFilterBox">Show filters</span>\r\n            <span *ngIf="showFilterBox">Hide filters</span>\r\n            <span class="glyphicon glyphicon-filter"></span>\r\n        </button>\r\n    </div>\r\n\r\n\r\n    <div class="panel-body vbox">\r\n\r\n        <history-filter *ngIf="showFilterBox" class="vbox" style="margin-bottom: 6px; min-height: 115px;" (apply)="onFilterApplied($event)"\r\n            [operations]="operations" [performers]="performers" [fromTime]="fromTime" [toTime]="toTime" [hidePerformers]="!isValidator">\r\n        </history-filter>\r\n\r\n        <div class="table-responsive" style="flex: 3;">\r\n            <table class="table table-condensed table-hoverable">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Commit ID</th>\r\n                        <th class="text-center">Operation</th>\r\n                        <th class="text-center">1st Param</th>\r\n                        <th class="text-center" *ngIf="isLargeWidth()">2nd Param</th>\r\n                        <th class="text-center">Other param(s)</th>\r\n                        <th class="text-center">User</th>\r\n                        <th class="text-center">Date</th>\r\n                        <th class="text-center">Action</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of commits">\r\n                        <td class="text-center" nowrap>\r\n                            <a (click)="getCommitDelta(item)" style="cursor: pointer;">{{item.commit.getLocalName()}}</a>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <span *ngIf="item.operation" [title]="item.operation.getURI()">\r\n                                {{item.operation.getShow()}}\r\n                            </span>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <ng-template [ngIf]="item.operationParameters.length != 0">\r\n                                <label style="white-space: pre;">{{item.operationParameters[0].name}}: </label>\r\n                                <span class="clickable" (click)="openValueResourceView(item.operationParameters[0].value)">\r\n                                    {{item.operationParameters[0].value}}\r\n                                </span>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td class="text-center" *ngIf="isLargeWidth()">\r\n                            <ng-template [ngIf]="item.operationParameters.length > 1">\r\n                                <label style="white-space: pre;">{{item.operationParameters[1].name}}: </label>\r\n                                <span class="clickable" (click)="openValueResourceView(item.operationParameters[1].value)">\r\n                                    {{item.operationParameters[1].value}}\r\n                                </span>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <ng-template [ngIf]="!isLargeWidth() && item.operationParameters.length > 1">\r\n                                <label style="white-space: pre;">{{item.operationParameters[1].name}}: </label>\r\n                                <span class="clickable" (click)="openValueResourceView(item.operationParameters[1].value)">\r\n                                    {{item.operationParameters[1].value}}\r\n                                </span>\r\n                            </ng-template>\r\n                            <ng-template [ngIf]="isLargeWidth() && item.operationParameters.length > 2">\r\n                                <label style="white-space: pre;">{{item.operationParameters[2].name}}: </label>\r\n                                <span class="clickable" (click)="openValueResourceView(item.operationParameters[2].value)">\r\n                                    {{item.operationParameters[2].value}}\r\n                                </span>\r\n                            </ng-template>\r\n                            <button *ngIf="showOtherParamButton(item)" class="btn btn-xs btn-default" (click)="inspectParams(item)"\r\n                                title="Show all parameters">\r\n                                <span class="glyphicon glyphicon-option-horizontal"></span>\r\n                            </button>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <span *ngIf="item.user" [title]="item.user.getURI()">\r\n                                {{item.user.getShow()}}\r\n                            </span>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{item.endTimeLocal}}\r\n                        </td>\r\n                        <td>\r\n                            <select class="form-control input-xs" [(ngModel)]="item.validationAction">\r\n                                <option *ngFor="let act of validationActions" [ngValue]="act">{{act.show}}</option>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <button *ngIf="item.commentAllowed" class="btn btn-xs btn-default" (click)="editComment(item)"\r\n                                [disabled]="item.validationAction.value != \'reject\'" title="Provide a comment for the validation action">\r\n                                <span class="glyphicon glyphicon-comment" [ngClass]="{ greenText: item.comment }"></span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    \r\n    </div>\r\n\r\n    <div class="panel-footer">\r\n        <div class="hbox  pull-right" style="align-items: center">\r\n\r\n            <div class="btn-group btn-group-xs" role="group" style="margin-right: 6px;">\r\n                <button class="btn btn-default" title="Previous" (click)="getPreviousCommits()" [disabled]="page <= 0">\r\n                    <span class="glyphicon glyphicon-triangle-left"></span>\r\n                </button>\r\n                <button class="btn btn-default" style="cursor: auto" disabled>\r\n                    <span>{{page+1}} of {{pageCount}}</span>\r\n                </button>\r\n                <button class="btn btn-default" title="Next" (click)="getNextCommits()" [disabled]="page+1 >= pageCount">\r\n                    <span class="glyphicon glyphicon-triangle-right"></span>\r\n                </button>\r\n            </div>\r\n\r\n            <div class="btn-group btn-group-xs" role="group" style="margin-right: 12px;">\r\n                <button *ngIf="isValidator" class="btn btn-xs btn-default" (click)="acceptAll()">Accept all</button>\r\n                <button class="btn btn-xs btn-default" (click)="rejectAll()">Reject all</button>\r\n            </div>\r\n\r\n            <button type="submit" class="btn btn-default btn-sm pull-right" (click)="validate()">Validate</button>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="vbox">\r\n\r\n    <div class="hbox">\r\n        <div class="vbox" style="flex: 4; font-size: 12px; padding: 6px;">\r\n            <div class="hbox" style="flex: initial; align-items: center; margin-bottom: 10px;">\r\n                <div style="padding: 10px; margin-right: 20px; background: linear-gradient(180deg, #1e4387, #00b5e9); border-radius: 32px;">\r\n                    <img src="'+n(1748)+'" style="max-height: 130px;">\r\n                </div>\r\n                <div style="font-size: 13px;">\r\n                    <h1 style="margin-top: 0;">Welcome to VocBench</h1>\r\n                    <p>\r\n                        VocBench is a web-based, multilingual, collaborative development platform for managing\r\n                        <a href="https://www.w3.org/TR/owl2-overview/">OWL</a> ontologies,\r\n                        <a href="https://www.w3.org/TR/skos-reference/">SKOS</a>(/<a href="https://www.w3.org/TR/skos-reference/skos-xl.html">XL</a>)\r\n                        thesauri, <a href="https://www.w3.org/2016/05/ontolex/">Ontolex-lemon</a> lexicons and generic RDF datasets.\r\n                    </p>\r\n                    <p>\r\n                        VocBench is powered by the <a href="http://semanticturkey.uniroma2.it/" target="_blank">Semantic Turkey</a> Knowledge\r\n                        Acquisition and Management framework\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="vbox">\r\n                <div *ngIf="safeCustomContentFromPref" class="vbox" style="flex: initial" [innerHTML]="safeCustomContentFromPref"></div>\r\n                <div *ngIf="safeCustomContentFromFile" class="vbox" style="flex: initial" [innerHTML]="safeCustomContentFromFile"></div>\r\n            </div>\r\n\r\n            <p *ngIf="privacyStatementAvailable" style="align-self: flex-end;">\r\n                Please read our <a [routerLink]="" (click)="downloadPrivacyStatement()">privacy statement</a>\r\n            </p>\r\n        </div>\r\n        <div *ngIf="!isUserLogged()" style="flex: 1; padding-left: 10px; margin-bottom: 5px; border-left: 1px solid #ddd">\r\n            <login (loggedIn)="onLogin()"></login>\r\n        </div>\r\n    </div>\r\n\r\n    <table class="table" style="background-color: #E7F0FF">\r\n        <tbody>\r\n            <tr>\r\n                <td colspan="2"><label>VocBench 3 has been developed by:</label></td>\r\n                <td colspan="2"><label>Contract managed by:</label></td>\r\n            </tr>\r\n            <tr>\r\n                <td style="border: none; width: 5%; text-align: center;">\r\n                    <a href="http://web.uniroma2.it/home/newlang/english" target="_blank">\r\n                        <img src="'+n(1745)+'" class="homeLogo">\r\n                    </a>\r\n                </td>\r\n                <td style="border: none; width: 45%;">\r\n                    <a href="http://web.uniroma2.it/home/newlang/english" target="_blank">\r\n                        <div>\r\n                            <div style="color: #002244; font-weight:bold;">University of Rome Tor Vergata</div>\r\n                            <div style="color: #aa4400; font-size: 10px; font-weight: bold; font-style: italic;">\r\n                                Today, the University of tomorrow\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </td>\r\n\r\n                <td style="border: none; width: 5%; text-align: center;">\r\n                    <a href="https://www.infeurope.lu/" target="_blank">\r\n                        <img src="'+n(1744)+'" class="homeLogo">\r\n                    </a>\r\n                </td>\r\n                <td style="border: none; width: 45%;">\r\n                    <a href="http://web.uniroma2.it/home/newlang/english" target="_blank">\r\n                        <div>\r\n                            <div style="color: #002244; font-weight:bold;">Infeurope</div>\r\n                            <div style="color: #aa4400; font-size: 10px; font-weight: bold; font-style: italic;">\r\n                                Architecture begins where engineering ends\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan="4"><label>VocBench 3 is funded by:</label></td>\r\n            </tr>\r\n            <tr>\r\n                <td style="border: none; text-align: center;">\r\n                    <a href="http://ec.europa.eu/isa/isa2/index_en.htm" target="_blank">\r\n                        <img src="'+n(1743)+'" class="homeLogo">\r\n                    </a>\r\n                </td>\r\n                <td style="border: none;">\r\n                    <a href="http://ec.europa.eu/isa/isa2/index_en.htm" target="_blank">\r\n                        <div>\r\n                            <div>\r\n                                <div style="color: #002244; font-weight:bold;">ISA<sup>2</sup></div>\r\n                                <div style="color: #aa4400; font-size: 10px; font-weight: bold; font-style: italic;">\r\n                                    Interoperability solutions for public administrations, business and citizens\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </td>\r\n                <td style="border: none; text-align: center;">\r\n                    <a href="https://publications.europa.eu/en/home" target="_blank">\r\n                        <img src="'+n(1746)+'" class="homeLogo">\r\n                    </a>\r\n                </td>\r\n                <td style="border: none;">\r\n                    <a href="https://publications.europa.eu/en/home" target="_blank">\r\n                        <div>\r\n                            <div>\r\n                                <div style="color: #002244; font-weight:bold;">Publications Office of the European Union</div>\r\n                                <div style="color: #aa4400; font-size: 10px; font-weight: bold; font-style: italic;">\r\n                                    EU law and publications\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Broken alignments</label>\r\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n\r\n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)">\r\n            <div class="panel panel-alt vbox" style="flex: initial; margin: 2px;">\r\n                <div class="panel-heading">\r\n                    <span style="flex: 1;">\r\n                        <label>Namespaces to check</label>\r\n                        <span class="glyphicon glyphicon-info-sign"\r\n                            title="Namespaces of the resources that appear as object of mapping relations"></span>\r\n                    </span>\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" (click)="checkAllNs(true)" title="Check all" [disabled]="!namespaces">\r\n                            <span class="glyphicon glyphicon-check"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="checkAllNs(false)" title="Uncheck all" [disabled]="!namespaces">\r\n                            <span class="glyphicon glyphicon-unchecked"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="initNamespaces()" [disabled]="rolesToCheck.length==0">\r\n                            <span>Reload</span>\r\n                            <span *ngIf="rolesUpdated" class="glyphicon glyphicon-exclamation-sign" style="color: red"\r\n                                title="The types of resource to check are changed, is highly recommended to reload the namespaces"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body scrollableContainer" style="max-height: 170px;">\r\n                    <table *ngIf="namespaces" class="table table-condensed table-borderless table-hoverable">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class="text-center">Check</th>\r\n                                <th class="text-center">Namespace</th>\r\n                                <th class="text-center" nowrap>Alignments count</th>\r\n                                <th class="text-center" colspan="2">Locations</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let ns of namespaces">\r\n                                <td class="text-center">\r\n                                    <input type="checkbox" style="vertical-align: middle" [(ngModel)]="ns.check">\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    {{ns.namespace}}\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    {{ns.count}}\r\n                                </td>\r\n                                <td>\r\n                                    <select class="form-control input-xs" [(ngModel)]="ns.chosenResolutionLocation"\r\n                                        [disabled]="objectKeys(ns.resolutions).length == 1">\r\n                                        <option *ngFor="let location of objectKeys(ns.resolutions)">{{location}}</option>\r\n                                    </select>\r\n                                </td>\r\n                                <td>\r\n                                    <select class="form-control input-xs" [(ngModel)]="ns.chosenResolutionOpt"\r\n                                    [disabled]="ns.resolutions[ns.chosenResolutionLocation].length == 1">\r\n                                        <option *ngFor="let opt of ns.resolutions[ns.chosenResolutionLocation]" [ngValue]="opt.value">{{opt.show}}</option>\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </icv-config-panel>\r\n\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-body scrollableContainer">\r\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class="text-center">Subject</th>\r\n                            <th class="text-center">Predicate</th>\r\n                            <th class="text-center">Object</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\r\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\r\n                                <td class="text-center">\r\n                                    <rdf-resource class="clickable" [resource]="record.subject" (click)="onResourceClick(record.subject)"></rdf-resource>\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    <rdf-resource class="clickable" [resource]="record.predicate" (click)="onResourceClick(record.predicate)"></rdf-resource>\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    <rdf-resource class="clickable" [resource]="record.object" (click)="onResourceClick(record.object)"></rdf-resource>\r\n                                </td>\r\n                            </tr>\r\n                        </ng-template>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\r\n                <div class="btn-group btn-group-xs pull-right" role="group">\r\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\r\n                        <span class="glyphicon glyphicon-triangle-left"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" style="cursor: auto" disabled>\r\n                        <span>{{page+1}} of {{pageCount}}</span>\r\n                    </button>\r\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\r\n                        <span class="glyphicon glyphicon-triangle-right"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Broken definitions</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n\n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)">\n            <div class="vbox" style="flex: 0.5; justify-content: center; padding: 12px;">\n                <div style="display: flex; margin-bottom: 4px; align-items: center;">\n                    <label style="white-space: nowrap">\n                        Definition property:\n                        <span class="glyphicon glyphicon-info-sign" \n                            title="The ICV checks for resources with broken definitions linked by means this property or its subProperties">\n                        </span>\n                    </label>\n                    <div class="form-control input-sm" style="margin: 0px 4px;">\n                        <rdf-resource [resource]="noteProperty"></rdf-resource>\n                    </div>\n                    <button class="btn btn-default btn-sm" (click)="changeProperty()">\n                        <img src="'+n(376)+'"/>\n                    </button>\n                </div>\n            </div>\n        </icv-config-panel>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Subject</th>\n                            <th class="text-center">Predicate</th>\n                            <th class="text-center">Object</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.subject" (click)="onResourceClick(record.subject)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.predicate" (click)="onResourceClick(record.predicate)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.object" (click)="onResourceClick(record.object)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n        <div class="panel-heading">\n            <label style="flex: 1;">Conflictual label resources</label>\n            <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n        </div>\n        <div class="panel-body vbox">\n            \n            <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)">\n            </icv-config-panel>\n    \n            <div class="panel panel-default vbox">\n                <div class="panel-body scrollableContainer">\n                    <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                        <thead>\n                            <tr>\n                                <th class="text-center">Resources</th>\n                                <th class="text-center">Label</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                                <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                    <td class="text-center">\n                                        <ng-template ngFor let-r [ngForOf]="record.resources">\n                                            <rdf-resource class="clickable" [resource]="r" (click)="onResourceClick(r)"></rdf-resource>\n                                        </ng-template>\n                                    </td>\n                                    <td class="text-center">\n                                        <rdf-resource [ngClass]="{ clickable : isResource(record.label) }" [resource]="record.label" (click)="onResourceClick(record.label)"></rdf-resource>\n                                    </td>\n                                </tr>\n                            </ng-template>\n                        </tbody>\n                    </table>\n                </div>\n    \n                <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                    <div class="btn-group btn-group-xs pull-right" role="group">\n                        <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                            <span class="glyphicon glyphicon-triangle-left"></span>\n                        </button>\n                        <button class="btn btn-default" style="cursor: auto" disabled>\n                            <span>{{page+1}} of {{pageCount}}</span>\n                        </button>\n                        <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                            <span class="glyphicon glyphicon-triangle-right"></span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            \n        </div>\n        \n        <div id="blockDivIcv" class="blockingDiv" style="display:none">\n            <div class="loadingDiv">\n                <div>\n                    <p>Loading...</p><img src="'+n(18)+'" />\n                </div>\n            </div>\n        </div>\n        \n    </div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Cyclic hierarchical concepts</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Cycles</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-cycle [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource *ngFor="let r of cycle" class="clickable" [resource]="r" (click)="onResourceClick(r)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Dangling concepts</label>\r\n        <span style="margin-right: 4px;">Scheme:</span>\r\n        <select class="form-control input-xs" style="width: initial; margin-right: 4px;" [(ngModel)]="selectedScheme">\r\n            <option [ngValue]="null" style="font-style: italic">All schemes</option>\r\n            <option *ngFor="let s of schemeList" [ngValue]="s">{{s.getShow()}}</option>\r\n        </select>\r\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n        \r\n        <div class="alert alert-info" role="alert">\r\n            <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>\r\n            <i>\r\n                skos:Concept(s) that are not reachable in a concept tree because they have no broader\r\n                concept and are not top concept of its scheme.\r\n            </i>\r\n        </div>\r\n\r\n        <div *ngIf="!brokenConceptList && !brokenConceptMap" style="padding: 4px;">\r\n            Press <strong>Run</strong> button to run the check.\r\n        </div>\r\n\r\n        <div *ngIf="brokenConceptList" class="scrollableContainer">\r\n            <table class="table table-condensed table-hoverable" style="flex: 1;">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Concept</th>\r\n                        <th class="text-center" style="width: 1%">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let concept of brokenConceptList">\r\n                        <td>\r\n                            <rdf-resource class="clickable" [resource]="concept" (click)="onResourceClick(concept)"></rdf-resource>\r\n                        </td>\r\n                        <td style="white-space: nowrap">\r\n                            <button class="btn btn-xs btn-default" (click)="selectBroader(concept, selectedScheme)">Select skos:broader</button>\r\n                            <button class="btn btn-xs btn-default" (click)="setAsTopConcept(concept, selectedScheme)">Set as skos:topConceptOf</button>\r\n                            <button class="btn btn-xs btn-default" (click)="removeFromScheme(concept, selectedScheme)">Remove from scheme</button>\r\n                            <button class="btn btn-xs btn-default" (click)="deleteConcept(concept)">Delete concept</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <div *ngIf="brokenConceptMap" class="scrollableContainer">\r\n            <table class="table table-condensed" style="flex: 1;">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Scheme</th>\r\n                        <th class="text-center">Concept</th>\r\n                        <th class="text-center" style="width: 1%">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor="let entry of brokenConceptMap">\r\n                        <tr *ngFor="let concept of entry.concepts; let idx = index">\r\n                            <td *ngIf="idx == 0" [attr.rowspan]="entry.concepts.length">\r\n                                <rdf-resource class="clickable" [resource]="entry.scheme" (click)="onResourceClick(entry.scheme)"></rdf-resource>\r\n                            </td>\r\n                            <td>\r\n                                <rdf-resource class="clickable" [resource]="concept" (click)="onResourceClick(concept)"></rdf-resource>\r\n                            </td>\r\n                            <td style="white-space: nowrap">\r\n                                <button class="btn btn-xs btn-default" (click)="selectBroader(concept, entry.scheme)">Select skos:broader</button>\r\n                                <button class="btn btn-xs btn-default" (click)="setAsTopConcept(concept, entry.scheme)">Set as skos:topConceptOf</button>\r\n                                <button class="btn btn-xs btn-default" (click)="removeFromScheme(concept, entry.scheme)">Remove from scheme</button>\r\n                                <button class="btn btn-xs btn-default" (click)="deleteConcept(concept)">Delete concept</button>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div *ngIf="brokenConceptList && !brokenConceptList.length == 0" class="panel-footer">\r\n        <div class="dropup pull-right">\r\n            <button class="btn btn-default dropdown-toggle btn-xs" type="button" data-toggle="dropdown">\r\n                Quick action\r\n                <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li><a (click)="setAllTopConcept()" style="cursor: pointer;">Set all as skos:topConceptOf</a></li>\r\n                <li><a (click)="selectBroaderForAll()" style="cursor: pointer;">Select a skos:broader for all</a></li>\r\n                <li><a (click)="removeAllFromScheme()" style="cursor: pointer;">Remove all from scheme</a></li>\r\n                <li><a (click)="deleteAll()" style="cursor: pointer;">Delete all</a></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Dangling xLabels</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <div class="alert alert-info" role="alert">\n            <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>\n            <i>\n                skosxl:Label(s) that are not linked with any skos:Concept.\n            </i>\n        </div>\n\n        <div *ngIf="!brokenLabelList" style="padding: 4px;">\n            Press <strong>Run</strong> button to run the check.\n        </div>\n        \n        <div *ngIf="brokenLabelList" class="scrollableContainer">\n            <table class="table table-condensed table-hoverable" style="flex: 1;">\n                <thead>\n                    <tr>\n                        <th class="text-center">XLabel</th>\n                        <th class="text-center" style="width: 1%">Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor="let label of brokenLabelList">\n                        <td>\n                            <rdf-resource [resource]="label"></rdf-resource>\n                        </td>\n                        <td style="white-space: nowrap">\n                            <button class="btn btn-xs btn-default" (click)="deleteLabel(label)">Delete label</button>\n                            <button class="btn btn-xs btn-default" (click)="assignLabel(label)">Add to a concept</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class="panel-footer">\n        <div  class="dropup pull-right">\n            <button *ngIf="brokenLabelList && !brokenLabelList.length == 0" class="btn btn-default btn-xs" type="button"\n                (click)="deleteAllLabel()">\n                Delete all\n            </button>\n        </div>\n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Concepts exactMatch disjoint relations</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record" (click)="onResourceClick(record)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Concepts related disjoint relations</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record" (click)="onResourceClick(record)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Extra whitespace label resources</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)">\n        </icv-config-panel>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                            <th class="text-center">Label</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.resource" (click)="onResourceClick(record.resource)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <rdf-resource [ngClass]="{ clickable : isResource(record.label) }" [resource]="record.label" (click)="onResourceClick(record.label)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Hierarchical redundancies</label>\n        <div class="checkbox" style="margin: 0px 12px;"\n            title="If active, the check is performed only to the relations between Concepts belonging to the same ConceptScheme">\n            <label style="min-height: 0px;">\n                <input type="checkbox" [(ngModel)]="sameScheme">Same scheme\n            </label>\n        </div>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <div class="alert alert-info" role="alert" style="margin-bottom: 6px;">\n            <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>\n            skos:Concept(s) that have redundant hierarchical relations. e.g.<br/>\n            1) <i>:concept3 skos:broader :concept2</i><br/>\n            2) <i>:concept2 skos:broader :concept1</i><br/>\n            3) <i>:concept3 skos:broader :concept1</i><br/>\n            3rd statement is redundant since it is a consequence of 1) and 2) \n        </div>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Subject</th>\n                            <th class="text-center">Predicate</th>\n                            <th class="text-center">Object</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.subject" (click)="onResourceClick(record.subject)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.predicate" (click)="onResourceClick(record.predicate)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.object" (click)="onResourceClick(record.object)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-alt vbox">\r\n    <div class="panel-heading">\r\n        <div class="expandCollapseBtnContainer">\r\n            <img src="'+n(49)+'" (click)="configPanelOpen = !configPanelOpen"\r\n                [ngClass]="{\'arrow-right\': !configPanelOpen}">\r\n        </div>\r\n        <label>ICV configuration</label>\r\n    </div>\r\n    <div class="panel-body">\r\n        <div *ngIf="configPanelOpen" class="hbox">\r\n            <div *ngIf="checkRoles" class="panel panel-alt vbox" style="margin: 2px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">Resources to check</label>\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" (click)="checkAllRoles(true)" title="Check all">\r\n                            <span class="glyphicon glyphicon-check"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="checkAllRoles(false)" title="Uncheck all">\r\n                            <span class="glyphicon glyphicon-unchecked"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body configPanel scrollableContainer">\r\n                    <table class="table table-condensed table-borderless table-hoverable">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class="text-center">Check</th>\r\n                                <th class="text-center">Resource type</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let r of roles">\r\n                                <td class="text-center">\r\n                                    <input type="checkbox" style="vertical-align: middle" [(ngModel)]="r.check" (ngModelChange)="onRolesChange()">\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    <img [src]="r.img" style="margin-right: 4px;">{{r.role}}\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="checkLanguages" class="panel panel-alt vbox" style="margin: 2px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">Languages to check</label>\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" (click)="checkAllLangs(true)" title="Check all">\r\n                            <span class="glyphicon glyphicon-check"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="checkAllLangs(false)" title="Uncheck all">\r\n                            <span class="glyphicon glyphicon-unchecked"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="checkAllLangsMandatory()" title="Check only the mandatory languages">\r\n                            Only mandatory\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body configPanel scrollableContainer">\r\n                    <table class="table table-condensed table-borderless table-hoverable">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class="text-center">Check</th>\r\n                                <th class="text-center">Language</th>\r\n                                <th class="text-center">Mandatory</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let l of languages">\r\n                                <td class="text-center">\r\n                                    <input type="checkbox" style="vertical-align: middle" [(ngModel)]="l.check" (ngModelChange)="onLangsChange()">\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    <lang-item [language]="l.lang" showTag="true"></lang-item>\r\n                                </td>\r\n                                <td class="text-center">\r\n                                    <span *ngIf="l.lang.mandatory" class="glyphicon glyphicon-ok"></span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <ng-content></ng-content>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n<div class="panel-heading">\r\n    <label>Integrity Constraint Validator:</label>\r\n</div>\r\n\r\n<div class="panel-body vbox scrollableContainer">\r\n\r\n    <div class="panel panel-alt">\r\n        <div class="panel-heading">\r\n            <div class="expandCollapseBtnContainer">\r\n                <img src="'+n(49)+'" (click)="togglePanel(structuralIcv)"\r\n                    [ngClass]="{\'arrow-right\': !structuralIcv.open}">\r\n            </div>\r\n            <label>Structural checks</label>\r\n        </div>\r\n        <div class="panel-body" *ngIf="structuralIcv.open">\r\n            <table class="table table-condensed table-borderless table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 240px;">\r\n                    <col>\r\n                    <col style="width: 1%;">\r\n                </colgroup>\r\n                <tbody>\r\n                    <ng-template ngFor let-icv [ngForOf]="structuralIcv.list">\r\n                        <tr *ngIf="isCompatibleWithProject(icv)">\r\n                            <td nowrap><strong>{{icv.name}}</strong></td>\r\n                            <td><i>{{icv.description}}</i></td>\r\n                            <td>\r\n                                <button class="btn btn-default btn-xs" (click)="goToIcv(icv)" [disabled]="!isIcvAuthorized(icv)">Go</button>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-template>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-alt" style="margin-top: 4px;">\r\n        <div class="panel-heading">\r\n            <div class="expandCollapseBtnContainer">\r\n                <img src="'+n(49)+'" (click)="togglePanel(labelIcv)"\r\n                    [ngClass]="{\'arrow-right\': !labelIcv.open}">\r\n            </div>\r\n            <label>Label checks</label>\r\n        </div>\r\n        <div class="panel-body" *ngIf="labelIcv.open">\r\n            <table class="table table-condensed table-borderless table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 240px;">\r\n                    <col>\r\n                    <col style="width: 1%;">\r\n                </colgroup>\r\n                <tbody>\r\n                    <ng-template ngFor let-icv [ngForOf]="labelIcv.list">\r\n                        <tr *ngIf="isCompatibleWithProject(icv)">\r\n                            <td nowrap><strong>{{icv.name}}</strong></td>\r\n                            <td><i>{{icv.description}}</i></td>\r\n                            <td>\r\n                                <button class="btn btn-default btn-xs" (click)="goToIcv(icv)" [disabled]="!isIcvAuthorized(icv)">Go</button>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-template>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-alt" style="margin-top: 4px;">\r\n        <div class="panel-heading">\r\n            <div class="expandCollapseBtnContainer">\r\n                <img src="'+n(49)+'" (click)="togglePanel(genericIcv)"\r\n                    [ngClass]="{\'arrow-right\': !genericIcv.open}">\r\n            </div>\r\n            <label>Generic checks</label>\r\n        </div>\r\n        <div class="panel-body" *ngIf="genericIcv.open">\r\n            <table class="table table-condensed table-borderless table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 240px;">\r\n                    <col>\r\n                    <col style="width: 1%;">\r\n                </colgroup>\r\n                <tbody>\r\n                    <ng-template ngFor let-icv [ngForOf]="genericIcv.list">\r\n                        <tr *ngIf="isCompatibleWithProject(icv)">\r\n                            <td nowrap><strong>{{icv.name}}</strong></td>\r\n                            <td><i>{{icv.description}}</i></td>\r\n                            <td>\r\n                                <button class="btn btn-default btn-xs" (click)="goToIcv(icv)" [disabled]="!isIcvAuthorized(icv)">Go</button>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-template>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Invalid URI resources</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record" (click)="onResourceClick(record)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Multiple preferred labels resources</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)">\n        </icv-config-panel>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                            <th class="text-center">Language(s)</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.resource" (click)="onResourceClick(record.resource)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <ng-template ngFor let-lang [ngForOf]="record.langs">\n                                        <lang-item [language]="lang"></lang-item>\n                                    </ng-template>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">No definition resources</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)" \n            [checkLanguages]="checkLanguages" (langsChange)="onLangsChanged($event)">\n        </icv-config-panel>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                            <th class="text-center">Languages</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.resource" (click)="onResourceClick(record.resource)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <ng-template ngFor let-lang [ngForOf]="record.langs">\n                                        <lang-item [language]="lang"></lang-item>\n                                    </ng-template>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">{{title}}</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        <div class="alert alert-info" role="alert">\n            <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>\n            <i>{{message}}</i>\n        </div>\n\n        <div *ngIf="!brokenResourceList" style="padding: 4px;">\n            Press <strong>Run</strong> button to run the check.\n        </div>\n        <div *ngIf="brokenResourceList" class="scrollableContainer">\n            <table class="table table-condensed table-hoverable" style="flex: 1;">\n                <thead>\n                    <tr>\n                        <th class="text-center">Resource</th>\n                        <th class="text-center" style="width: 1%">Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor="let resource of brokenResourceList">\n                        <td>\n                            <rdf-resource class="clickable" [resource]="resource" (click)="onResourceClick(resource)"></rdf-resource>\n                        </td>\n                        <td style="white-space: nowrap">\n                            <button class="btn btn-xs btn-default" (click)="fix(resource)">\n                                <span>{{actionLabel}}</span>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">No language tag label resources</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)">\n        </icv-config-panel>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                            <th class="text-center">Label</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.resource" (click)="onResourceClick(record.resource)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <rdf-resource [ngClass]="{ clickable : isResource(record.label) }" [resource]="record.label" (click)="onResourceClick(record.label)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">No mandatory labels resources</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)"\n            [checkLanguages]="checkLanguages" (langsChange)="onLangsChanged($event)">\n        </icv-config-panel>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                            <th class="text-center">Missing language(s) label</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.resource" (click)="onResourceClick(record.resource)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <ng-template ngFor let-lang [ngForOf]="record.langs">\n                                        <lang-item [language]="lang"></lang-item>\n                                    </ng-template>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Concepts in no scheme</label>\r\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n        \r\n        <div class="alert alert-info" role="alert">\r\n            <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>\r\n            <i>\r\n                skos:Concept(s) that don\'t belong to any skos:ConceptScheme.\r\n\t\t\t    Warning: adding the concept to a skos:ConceptScheme may be not enough to ensure\r\n\t\t\t    that it is visible in the concept tree. The concept may be still dangling.\r\n            </i>\r\n        </div>\r\n\r\n        <div *ngIf="!brokenConceptList" style="padding: 4px;">\r\n            Press <strong>Run</strong> button to run the check.\r\n        </div>\r\n        <div *ngIf="brokenConceptList" class="scrollableContainer">\r\n            <table class="table table-condensed table-hoverable" style="flex: 1;">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Concept</th>\r\n                        <th class="text-center" style="width: 1%">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let concept of brokenConceptList">\r\n                        <td>\r\n                            <rdf-resource class="clickable" [resource]="concept" (click)="onResourceClick(concept)"></rdf-resource>\r\n                        </td>\r\n                        <td style="white-space: nowrap">\r\n                            <button class="btn btn-xs btn-default" (click)="addToScheme(concept)">Add to a skos:ConceptScheme</button>\r\n                            <button class="btn btn-xs btn-default" (click)="deleteConcept(concept)">Delete concept</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class="panel-footer">\r\n        <div *ngIf="brokenConceptList && !brokenConceptList.length == 0" class="dropup pull-right">\r\n            <button class="btn btn-default dropdown-toggle btn-xs" type="button" data-toggle="dropdown">\r\n                Quick action\r\n                <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li><a (click)="addAllToScheme()" style="cursor: pointer;">Add all to a skos:ConceptScheme</a></li>\r\n                <li><a (click)="deleteAllConcept()" style="cursor: pointer;">Delete all concepts</a></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">ConceptScheme without topConcept</label>\r\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n        \r\n        <div class="alert alert-info" role="alert">\r\n            <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>\r\n            <i>skos:ConceptScheme(s) that don\'t have a topConcept or simply empty.</i>\r\n        </div>\r\n\r\n        <div *ngIf="!brokenSchemeList" style="padding: 4px;">\r\n            Press <strong>Run</strong> button to run the check.\r\n        </div>\r\n        <div *ngIf="brokenSchemeList" class="scrollableContainer">\r\n            <table class="table table-condensed table-hoverable" style="flex: 1;">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">ConceptScheme</th>\r\n                        <th class="text-center" style="width: 1%">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let scheme of brokenSchemeList">\r\n                        <td>\r\n                            <rdf-resource class="clickable" [resource]="scheme" (click)="onResourceClick(scheme)"></rdf-resource>\r\n                        </td>\r\n                        <td style="white-space: nowrap">\r\n                            <button class="btn btn-xs btn-default" (click)="selectTopConcept(scheme)">Select top concept</button>\r\n                            <button class="btn btn-xs btn-default" (click)="createTopConcept(scheme)">Create top concept</button>\r\n                            <button class="btn btn-xs btn-default" (click)="deleteScheme(scheme)">Delete scheme</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class="panel-footer">\r\n        <div  class="dropup pull-right">\r\n            <button *ngIf="brokenSchemeList && !brokenSchemeList.length == 0" class="btn btn-default btn-xs" type="button"\r\n                (click)="deleteAllScheme()">\r\n                Delete all scheme\r\n            </button>\r\n        </div>\r\n    </div>\r\n    \r\n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Only alternative label resources</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n\n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)">\n        </icv-config-panel>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resource</th>\n                            <th class="text-center">Language(s)</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <rdf-resource class="clickable" [resource]="record.resource" (click)="onResourceClick(record.resource)"></rdf-resource>\n                                </td>\n                                <td class="text-center">\n                                    <ng-template ngFor let-lang [ngForOf]="record.langs">\n                                        <lang-item [language]="lang"></lang-item>\n                                    </ng-template>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n\n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Overlapped label resources</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <icv-config-panel [checkRoles]="checkRoles" (rolesChange)="onRolesChanged($event)">\n        </icv-config-panel>\n\n        <div class="panel panel-default vbox">\n            <div class="panel-body scrollableContainer">\n                <table *ngIf="brokenRecordList" class="table table-condensed table-hoverable">\n                    <thead>\n                        <tr>\n                            <th class="text-center">Resources</th>\n                            <th class="text-center">Label</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-template ngFor let-record [ngForOf]="brokenRecordList" let-i="index">\n                            <tr *ngIf="i >= page*resultsLimit && i < page*resultsLimit + resultsLimit">\n                                <td class="text-center">\n                                    <ng-template ngFor let-r [ngForOf]="record.resources">\n                                        <rdf-resource class="clickable" [resource]="r" (click)="onResourceClick(r)"></rdf-resource>\n                                    </ng-template>\n                                </td>\n                                <td class="text-center">\n                                    <rdf-resource [ngClass]="{ clickable : isResource(record.label) }" [resource]="record.label" (click)="onResourceClick(record.label)"></rdf-resource>\n                                </td>\n                            </tr>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n\n            <div *ngIf="brokenRecordList && brokenRecordList.length > 0" class="panel-footer">\n                <div class="btn-group btn-group-xs pull-right" role="group">\n                    <button class="btn btn-default" title="Previous" (click)="page=page-1" [disabled]="page <= 0">\n                        <span class="glyphicon glyphicon-triangle-left"></span>\n                    </button>\n                    <button class="btn btn-default" style="cursor: auto" disabled>\n                        <span>{{page+1}} of {{pageCount}}</span>\n                    </button>\n                    <button class="btn btn-default" title="Next" (click)="page=page+1" [disabled]="page+1 >= pageCount">\n                        <span class="glyphicon glyphicon-triangle-right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox" style="position: relative">\n    <div class="panel-heading">\n        <label style="flex: 1;">Top concepts with broader</label>\n        <button class="btn btn-xs btn-default" (click)="runIcv()">Run</button>\n    </div>\n    <div class="panel-body vbox">\n        \n        <div class="alert alert-info" role="alert">\n            <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>\n            <i>\n                skos:Concept(s) that are skos:topConceptOf a skos:ConceptScheme \n                and have some broader concept in the same skos:ConceptScheme\n            </i>\n        </div>\n\n        <div *ngIf="!brokenRecordList" style="padding: 4px;">\n            Press <strong>Run</strong> button to run the check.\n        </div>\n        \n        <div *ngIf="brokenRecordList" class="scrollableContainer">\n            <table class="table table-condensed table-hoverable" style="flex: 1;">\n                <thead>\n                    <tr>\n                        <th class="text-center">Concept</th>\n                        <th class="text-center">Scheme</th>\n                        <th class="text-center" style="width: 1%">Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor="let record of brokenRecordList">\n                        <td>\n                            <rdf-resource class="clickable" [resource]="record.concept" (click)="onResourceClick(record.concept)"></rdf-resource>\n                        </td>\n                        <td>\n                            <rdf-resource class="clickable" [resource]="record.scheme" (click)="onResourceClick(record.scheme)"></rdf-resource>\n                        </td>\n                        <td style="white-space: nowrap">\n                            <button class="btn btn-xs btn-default" (click)="removeBroaders(record)">Remove broader(s)</button>\n                            <button class="btn btn-xs btn-default" (click)="removeAsTopConceptOf(record)">Remove as topConceptOf</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class="panel-footer">\n        <div *ngIf="brokenRecordList && !brokenRecordList.length == 0" class="dropup pull-right">\n            <button class="btn btn-default dropdown-toggle btn-xs" type="button" data-toggle="dropdown">\n                Quick action\n                <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li><a (click)="removeBroadersToAll()" style="cursor: pointer;">Remove broader(s) to all</a></li>\n                <li><a (click)="removeAllAsTopConceptOf()" style="cursor: pointer;">Remove all as skos:topConceptOf</a></li>\n            </ul>\n        </div>\n    </div>\n    \n    <div id="blockDivIcv" class="blockingDiv" style="display:none">\n        <div class="loadingDiv">\n            <div>\n                <p>Loading...</p><img src="'+n(18)+'" />\n            </div>\n        </div>\n    </div>\n    \n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body">\r\n        <table class="table table-borderless table-condensed">\r\n            <colgroup>\r\n                <col style="width: 1%">\r\n                <col>\r\n            </colgroup>\r\n            <tbody>\r\n                <tr>\r\n                    <td><label>Title:</label></td>\r\n                    <td>\r\n                        <input-editable [value]="dataset?.title" (valueEdited)="updateTitle($event)" \r\n                            [disabled]="!dataset" allowEmpty="true">\r\n                        </input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>Identity:</label></td>\r\n                    <td>\r\n                        <input class="form-control input-sm" [ngModel]="dataset?.identity" disabled>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>Dereferenciation System:</label></td>\r\n                    <td>\r\n                        <input-editable type="select" [options]="dereferenciationValues" [value]="dereferenciationNormalized"\r\n                            (valueEdited)="updateDerefSystem($event)" [disabled]="!dataset">\r\n                        </input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>SPARQL Endpoint:</label></td>\r\n                    <td>\r\n                        <div class="hbox" style="align-items: center;">\r\n                            <input-editable style="flex: 1; margin-right: 4px;" [value]="dataset?.sparqlEndpointMetadata.id"\r\n                                (valueEdited)="updateSparqlEndpoint($event)" [disabled]="!dataset" allowEmpty="true">\r\n                            </input-editable>\r\n                            <div class="checkbox-inline">\r\n                                <label>\r\n                                    <input type="checkbox" [(ngModel)]="sparqlLimitations" (ngModelChange)="updateSparqlLimitations()"\r\n                                        [disabled]="!dataset?.sparqlEndpointMetadata.id">No aggregation\r\n                                </label>\r\n                                <span class="glyphicon glyphicon-info-sign" \r\n                                    title="If checked it means that the aggregation may be supported, but its support is insufficient for the purposes of Vocbench">\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>URI space:</label></td>\r\n                    <td>\r\n                        <input class="form-control input-sm" [ngModel]="dataset?.uriSpace" disabled>\r\n                    </td>\r\n                </tr>\r\n                <tr *ngIf="version">\r\n                    <td><label>Version Info:</label></td>\r\n                    <td>\r\n                        <input class="form-control input-sm" [ngModel]="dataset?.versionInfo" disabled>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body">\r\n\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col style="width: 1%;">\r\n                <col>\r\n            </colgroup>\r\n            <tbody>\r\n                <tr>\r\n                    <td nowrap><label>Lexicon Dataset:</label></td>\r\n                    <td>\r\n                        <input-editable [value]="lexiconDataset" (valueEdited)="updateLexiconDataset($event)"></input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td nowrap><label>Lexicalization Model:</label></td>\r\n                    <td>\r\n                        \x3c!-- <select class="form-control input-sm" [(ngModel)]="lexicalizationModel">\r\n                            <option *ngFor="let lm of lexicalModelList" [ngValue]="lm.value">{{lm.label}}</option>\r\n                        </select> --\x3e\r\n\r\n                        <input-editable type="select" [options]="lexicalModelOpts" [value]="lexicalizationModel" (valueEdited)="updateLexicalizationModel($event)">\r\n                        </input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td nowrap><label>Language:</label></td>\r\n                    <td>\r\n                        <input-editable [value]="language" (valueEdited)="updateLanguage($event)"></input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td nowrap><label>References:</label></td>\r\n                    <td>\r\n                        <input-editable type="number" [value]="references" min="0" step="1" (valueEdited)="updateReferences($event)"></input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td nowrap><label>Lexical Entries:</label></td>\r\n                    <td>\r\n                        <input-editable type="number" [value]="lexicalEntries" min="0" step="1" (valueEdited)="updateLexicalEntries($event)"></input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td nowrap><label>Lexicalizations:</label></td>\r\n                    <td>\r\n                        <input-editable type="number" [value]="lexicalizations" min="0" step="1" (valueEdited)="updateLexicalizations($event)"></input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td nowrap><label>Percentage:</label></td>\r\n                    <td>\r\n                        <input-editable type="number" [value]="percentage" min="0" max="1" step="0.01" (valueEdited)="updatePercentage($event)"></input-editable>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td nowrap><label>Avg number of Lexicalizations:</label></td>\r\n                    <td>\r\n                        <input-editable type="number" [value]="avgNumOfLexicalizations" min="0" (valueEdited)="updateAvgNumOfLexicalizations($event)"></input-editable>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="hbox">\r\n\r\n    <div class="panel panel-default vbox" style="flex: 2">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Catalog Records:</label>\r\n            <div class="btn-group btn-group-xs" role="group">\r\n                <div class="btn-group btn-group-xs" role="group" title="Add Dataset">\r\n                    <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" [disabled]="!isAddDatasetAuthorized()">\r\n                        <span class="glyphicon glyphicon-plus"></span>\r\n                    </button>\r\n                    <ul class="dropdown-menu pull-right">\r\n                        <li><a (click)="addCatalogRecord()">Add Catalog record</a></li>\r\n                        <li><a (click)="discoverDataset()">Discover dataset</a></li>\r\n                    </ul>\r\n                </div>\r\n                <button class="btn btn-default" title="Delete Dataset" (click)="deleteCatalogRecord()"\r\n                    [disabled]="!selectedCatalog || !isRemoveDatasetAuthorized()">\r\n                    <span class="glyphicon glyphicon-minus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body">\r\n            <table class="table table-hoverable">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Dataset</th>\r\n                        <th class="text-center">Issued</th>\r\n                        <th class="text-center">Modified</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let c of catalogs" (click)="selectCatalog(c)" [ngClass]="{ info : selectedCatalog == c }">\r\n                        <td>\r\n                            <label *ngIf="c.abstractDataset.title">{{c.abstractDataset.title}}:</label>\r\n                            {{c.abstractDataset.uriSpace}}\r\n                        </td>\r\n                        <td class="text-center">{{c.issued}}</td>\r\n                        <td class="text-center">{{c.modified}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox" style="flex: 3; margin-left: 4px;">\r\n        <div class="panel-heading">\r\n            <label>Dataset:</label>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n            <dataset-metadata [dataset]="activeDatasetMetadata" (update)="onDatasetUpdate()"></dataset-metadata>\r\n\r\n            <div class="hbox" style="margin-top: 4px;">\r\n                \x3c!-- Other versions --\x3e\r\n                <div class="panel panel-alt vbox">\r\n                    <div class="panel-heading">\r\n                        <label style="flex: 1;">Other versions:</label>\r\n                        <div class="btn-group btn-group-xs" role="group">\r\n                            <button class="btn btn-default" title="Add Dataset Version" (click)="addDatasetVersion()"\r\n                                [disabled]="!selectedCatalog || !isAddDatasetAuthorized()">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Delete Dataset Version" (click)="deleteDatasetVersion()"\r\n                                [disabled]="!selectedVersion || !isRemoveDatasetAuthorized()">\r\n                                <span class="glyphicon glyphicon-minus"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class="panel-body scrollableContainer">\r\n                        <dataset-metadata *ngFor="let v of selectedCatalog?.versions" [dataset]="v" style="margin-bottom: 2px;"\r\n                            (click)="selectedVersion = v" [ngClass]="{ activePanel : v == selectedVersion }" version="true"\r\n                            (update)="onVersionUpdate()">\r\n                        </dataset-metadata>\r\n                    </div>\r\n                </div>\r\n                \x3c!-- Embedded lex sets --\x3e\r\n                <div class="panel panel-alt vbox blockingDivHost" style="margin-left: 4px;">\r\n                    <div class="panel-heading">\r\n                        <label style="flex: 1;">Embedded Lexicalization Sets:</label>\r\n                        <div class="btn-group btn-group-xs" role="group">\r\n                            <div class="btn-group btn-group-xs" role="group" title="Add Embedded Lexicalization Set">\r\n                                <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" [disabled]="!selectedCatalog || !isAddEmbeddedLexicalizationSetAuthorized()">\r\n                                    <span class="glyphicon glyphicon-plus"></span>\r\n                                </button>\r\n                                <ul class="dropdown-menu pull-right">\r\n                                    <li><a (click)="addEmbeddedLexicalizationSet()">Add Embedded Lexicalization Set</a></li>\r\n                                    <li [ngClass]="{disabled : lexicalizationSets.length != 0}"><a (click)="assessLexicalizationModel()">Assess Lexicalization Model</a></li>\r\n                                </ul>\r\n                            </div>\r\n                            <button class="btn btn-default" title="Delete Embedded Lexicalization Set" (click)="deleteEmbeddedLexicalizationSet()"\r\n                                [disabled]="!selectedLexicalizationSet || !isRemoveEmbeddedLexicalizationSetAuthorized()">\r\n                                <span class="glyphicon glyphicon-minus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" title="Delete All Embedded Lexicalization Set" (click)="deleteAllEmbeddedLexicalizationSet()"\r\n                                [disabled]="!isRemoveEmbeddedLexicalizationSetAuthorized() || lexicalizationSets.length == 0">\r\n                                <span class="glyphicon glyphicon-trash"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class="panel-body scrollableContainer">\r\n                        <lexicalization-set-metadata *ngFor="let ls of lexicalizationSets" style="margin-bottom: 2px;"\r\n                            [lexicalizationSetMetadata]="ls" [dataset]="selectedCatalog?.abstractDataset"\r\n                            (click)="selectedLexicalizationSet = ls" [ngClass]="{ activePanel : ls == selectedLexicalizationSet }">\r\n                        </lexicalization-set-metadata>\r\n                    </div>\r\n\r\n                    <div #blockDiv class="blockingDiv" style="display:none">\r\n                        <div class="loadingDiv">\r\n                            <div>\r\n                                <p>Loading...</p><img src="'+n(18)+'" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    \r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n            <col style="width: 1%;">\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Title:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="title">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Dataset:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="dataset">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>URI Space:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="uriSpace">\r\n                </td>\r\n                <td>*</td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Dereferenceable:</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="dereferenceable">\r\n                        <option *ngFor="let der of dereferenceableValues" [ngValue]="der">{{der.label}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>SPARQL Endpoint:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="sparqlEndpoint">\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">New Dataset Version</h3>\r\n</div>\r\n<div class="modal-body">\r\n    \r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n            <col style="width: 1%;">\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Dataset:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="dataset">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Version Info:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="versionInfo">\r\n                </td>\r\n                <td>*</td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">New Lexicalization Set</h3>\r\n</div>\r\n<div class="modal-body">\r\n    \r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n            <col style="width: 1%;">\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Lexicalization Set:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="lexicalizationSet">\r\n                </td>\r\n                <td></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Lexicon Dataset:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="lexiconDataset">\r\n                </td>\r\n                <td></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Lexicalization Model:</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="lexicalizationModel">\r\n                        <option *ngFor="let lm of lexicalModelList" [ngValue]="lm.value">{{lm.label}}</option>\r\n                    </select>\r\n                </td>\r\n                <td>*</td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Language:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="language">\r\n                </td>\r\n                <td>*</td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>References:</label></td>\r\n                <td>\r\n                    <input type="number" class="form-control input-sm" [(ngModel)]="references" min="0" step="1">\r\n                </td>\r\n                <td></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Lexical Entries:</label></td>\r\n                <td>\r\n                    <input type="number" class="form-control input-sm" [(ngModel)]="lexicalEntries" min="0" step="1">\r\n                </td>\r\n                <td></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Lexicalizations:</label></td>\r\n                <td>\r\n                    <input type="number" class="form-control input-sm" [(ngModel)]="lexicalizations" min="0" step="1">\r\n                </td>\r\n                <td></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Percentage:</label></td>\r\n                <td>\r\n                    <input type="number" class="form-control input-sm" [(ngModel)]="percentage" min="0" max="1" step="0.01">\r\n                </td>\r\n                <td></td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Average number of Lexicalizations:</label></td>\r\n                <td>\r\n                    <input type="number" class="form-control input-sm" [(ngModel)]="avgNumOfLexicalizations" min="0">\r\n                </td>\r\n                <td></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    \r\n    <div class="panel-body vbox">\r\n\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col style="width: 1%;">\r\n                <col>\r\n            </colgroup>\r\n            <tbody>\r\n                <tr>\r\n                    <td nowrap>\r\n                        <label>Metadata Vocabulary:</label>\r\n                    </td>\r\n                    <td>\r\n                        <select class="form-control input-sm" [(ngModel)]="selectedExporter" (change)="onExtensionChange()">\r\n                            <option *ngFor="let e of exporters" [ngValue]="e">{{e.name}}</option>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <div style="margin-top: 4px;" class="scrollableContainer">\r\n            \x3c!-- Common extension point settings --\x3e\r\n            <settings-renderer-panel *ngIf="extensionPointSettings?.properties.length > 0" style="margin-top: 4px;" [(ngModel)]="extensionPointSettings">\r\n            </settings-renderer-panel>\r\n\r\n            \x3c!-- Settings of the exporter implementation --\x3e\r\n            <settings-renderer-panel *ngFor="let s of settingsStructs" [(ngModel)]="s.settings" [scope]="s.scope"></settings-renderer-panel>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n    <div class="panel-footer">\r\n        <span class="pull-left">(*) Mandatory field</span>\r\n        <button type="submit" class="btn btn-default btn-sm pull-right" (click)="saveSettings()" [disabled]="!settingsStructs">Save</button>\r\n        <div class="col-sm-2 pull-right">\r\n            <div class="input-group">\r\n                <select class="form-control input-sm" [(ngModel)]="selectedExportFormat">\r\n                    <option *ngFor="let f of exportFormats" [ngValue]="f">{{f.name}}</option>\r\n                </select>\r\n                <span class="input-group-btn">\r\n                    <button class="btn btn-default btn-sm" (click)="export()" [disabled]="!settingsStructs">\r\n                        Export\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td><label>Dataset:</label></td>\r\n                <td>\r\n                    <div class="input-group input-group-sm">\r\n                        <input type="text" class="form-control" [ngModel]="preloadCatalog" readonly>\r\n                        <div class="input-group-btn">\r\n                            <button class="btn btn-default" (click)="openDatasetCatalog()">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>Ontology IRI:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [ngModel]="ontologyIRI" readonly>\r\n                </td>\r\n            </tr>\r\n            <ng-template [ngIf]="dataDump">\r\n                <tr>\r\n                    <td nowrap><label>Data dump:</label></td>\r\n                    <td>\r\n                        <div style="display: flex; align-items: center">\r\n                            <input type="text" class="form-control input-sm" [ngModel]="dataDump" readonly>\r\n                            <div class="checkbox-inline" style="white-space: nowrap; margin-left: 4px;">\r\n                                <label>\r\n                                    <input type="checkbox" [(ngModel)]="useDataDump">Use data dump\r\n                                </label>\r\n                                <span class="glyphicon glyphicon-info-sign" title="If checked, import is added from the provided data dump instead of the ontology IRI">\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr *ngIf="useDataDump">\r\n                    <td nowrap><label>Format:</label></td>\r\n                    <td>\r\n                        <div class="hbox">\r\n                            <select class="form-control input-sm" [(ngModel)]="rdfFormat" [disabled]="lockFormat">\r\n                                <option *ngFor="let f of formats" [ngValue]="f">{{f.name}}</option>\r\n                            </select>\r\n                            <button class="btn btn-sm btn-default" style="margin-left: 4px;" [ngClass]="{ active : lockFormat }" (click)="lockFormat = !lockFormat">\r\n                                <span class="glyphicon glyphicon-lock"></span>\r\n                            </button>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </ng-template>\r\n            <tr>\r\n                <td nowrap><label>Transitive imports:</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedImportAllowance">\r\n                        <option *ngFor="let ia of importAllowances" [value]="ia.allowance">{{ia.show}}</option>\r\n                    </select>                    \r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!preloadCatalog">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    \r\n    \x3c!--\r\n        This modal is used for add import from\r\n        - Web) field to show: baseURI, alernative URL, format\r\n        - Web to mirror) field to show: baseURI, mirror file, alernative URL, format\r\n        - Local file) field to show: baseURI, local file, mirror file\r\n        - Ontology mirror) field to show:\r\n        Based on the input parameter "context.importType" this modal shows/hides the proper fields\r\n    --\x3e\r\n    \r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr *ngIf="context.importType == \'fromWeb\' || context.importType == \'fromWebToMirror\' || context.importType == \'fromLocalFile\'">\r\n                <td><label>BaseURI:</label></td>\r\n                <td>\r\n                    <input *ngIf="editorMode == \'repair\'" class="form-control input-sm" [(ngModel)]="baseURI" disabled>\r\n                    <div *ngIf="editorMode == \'import\'" class="hbox" style="align-items: center">\r\n                        <input class="form-control input-sm" [(ngModel)]="baseURI" [disabled]="!baseURICheck">\r\n                        <input type="checkbox" style="margin-left: 3px;" [(ngModel)]="baseURICheck">\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="context.importType == \'fromLocalFile\'">\r\n                <td><label>Local file:</label></td>\r\n                <td>\r\n                    <file-picker (fileChanged)="fileChangeEvent($event)"></file-picker>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="context.importType == \'fromWebToMirror\' || context.importType == \'fromLocalFile\'">\r\n                <td nowrap>\r\n                    <label>Mirror file name:</label>\r\n                </td>\r\n                <td>\r\n                    <input *ngIf="editorMode == \'repair\'" type="text" class="form-control input-sm" [(ngModel)]="mirrorFile">\r\n                    <div *ngIf="editorMode == \'import\'" class="hbox" style="align-items: center">\r\n                        <input class="form-control input-sm" [(ngModel)]="mirrorFile" [disabled]="!mirrorFileCheck">\r\n                        <input type="checkbox" style="margin-left: 3px;" [(ngModel)]="mirrorFileCheck">\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="context.importType == \'fromWeb\' || context.importType == \'fromWebToMirror\'">\r\n                <td nowrap>\r\n                    <div style="display: flex; align-items: center">\r\n                        <label>Alternative URL:</label>\r\n                        <input type="checkbox" style="margin-left: 3px;" [checked]="altURLCheck" (change)="altURLCheck=$event.target.checked">\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="altURL" [disabled]="!altURLCheck">\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="context.importType == \'fromWeb\' || context.importType == \'fromWebToMirror\'">\r\n                <td nowrap>\r\n                    <div style="display: flex; align-items: center">\r\n                        <label>Force format:</label>\r\n                        <input type="checkbox" style="margin-left: 3px;" [checked]="forceFormatCheck" (change)="forceFormatCheck=$event.target.checked">\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="rdfFormat" [disabled]="!forceFormatCheck">\r\n                        <option *ngFor="let f of formats" [ngValue]="f">{{f.name}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="context.importType == \'fromOntologyMirror\'">\r\n                <td><label>BaseURI:</label></td>\r\n                <td>\r\n                    <select *ngIf="mirrorList" class="form-control input-sm" [(ngModel)]="selectedMirror">\r\n                        <option *ngFor="let m of mirrorList" [ngValue]="m">{{m.baseURI}}</option>\r\n                    </select>\r\n                    <select *ngIf="!mirrorList" class="form-control input-sm" disabled>\r\n                        <option>No ontologies mirrored</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Transitive imports:</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedImportAllowance">\r\n                        <option *ngFor="let ia of importAllowances" [value]="ia.allowance">{{ia.show}}</option>\r\n                    </select>                    \r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="scrollableContainer">\r\n    <import-tree-node *ngFor="let i of imports" [import]="i" (nodeRemoved)="onNodeRemoved($event)" (update)="onUpdate()"></import-tree-node>\r\n</div>'},function(e,t,n){e.exports='<div class="treeNode listItem">\r\n\t<div class="expandCollapseBtnContainer">\r\n        <img *ngIf="import.imports.length > 0" src="'+n(49)+'" (click)="open = !open"\r\n            [ngClass]="{\'arrow-right\': !open}">\r\n\t</div>\r\n    <div style="flex: 1;" [ngClass]="{ proposedAddTriple: import.status == \'STAGED_ADDITION\', proposedRemoveTriple: import.status == \'STAGED_REMOVAL\' }">\r\n        {{import.id}}\r\n    </div>\r\n    <span *ngIf="import.status == \'LOOP\'" class="glyphicon glyphicon-repeat" style="margin-right: 6px;" title="Loop of imports"></span>\r\n    \r\n    <div *ngIf="import.status == \'FAILED\'" class="btn-group">\r\n        <button class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" title="Failed import">\r\n            <span class="glyphicon glyphicon-warning-sign"></span>\r\n        </button>\r\n        <ul class="dropdown-menu pull-right">\r\n            <li><a (click)="repairFromLocalFile()">Repair from local file</a></li>\r\n            <li><a (click)="repairFromWeb()">Repair from web</a></li>\r\n            <li><a (click)="repairFromWebToMirror()">Repair from web to mirror</a></li>\r\n        </ul>\r\n    </div>\r\n\r\n    <button *ngIf="import.root" class="btn btn-default btn-xs" (click)="removeImport()" [disabled]="!isDeleteImportAuthorized()">\r\n        <span class="glyphicon glyphicon-trash" title="Remove import"></span>\r\n    </button>\r\n</div>\r\n\r\n<div class="subTree" *ngIf="import.imports.length > 0 && open">\r\n    <import-tree-node *ngFor="let i of import.imports" [import]="i" (nodeRemoved)="onNodeRemoved($event)" (update)="onUpdate()">\r\n    </import-tree-node>\r\n</div>'},function(e,t){e.exports='<div class="hbox">\r\n\r\n    <div class="vbox">\r\n\r\n        \x3c!-- Namespace management --\x3e\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Namespace management:</label>\r\n                <div class="btn-group btn-group-xs" role="group">\r\n                    <button class="btn btn-default" title="Add mapping" (click)="addMapping()" [disabled]="!isAddNsPrefixMappingAuthorized()">\r\n                        <span class="glyphicon glyphicon-plus"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" title="Remove mapping" (click)="removeMapping()"\r\n                        [disabled]="!selectedMapping || !selectedMapping.explicit || !isRemoveNsPrefixMappingAuthorized()">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" title="Change prefix" (click)="changeMapping()"\r\n                        [disabled]="!selectedMapping || !isChangeNsPrefixMappingAuthorized()">\r\n                        <span class="glyphicon glyphicon-pencil"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body vbox">\r\n                \r\n                <div class="panel panel-default" style="margin: 4px">\r\n                    <div class="panel-body">\r\n                        <table class="table table-condensed table-borderless">\r\n                            <colgroup>\r\n                                <col style="width: 1%;">\r\n                                <col>\r\n                                <col style="width: 1%;">\r\n                            </colgroup>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td><label>BaseURI:</label></td>\r\n                                    <td>\r\n                                        <input type="text" class="form-control input-xs"\r\n                                            [ngClass]="{ submitted:nsBaseURISubmitted, \'ng-invalid\':!isBaseURIValid() }" [ngModel]="baseURI"\r\n                                            (ngModelChange)="onBaseURIChanged($event)" [disabled]="!isBaseuriNsEditAuthorized()">\r\n                                    </td>\r\n                                    <td rowspan="2">\r\n                                        <div class="btn-group-sm btn-group-vertical">\r\n                                            <button class="btn btn-default" [ngClass]="{active: bind}" title="Bind/unbind namespace and baseURI"\r\n                                                (click)="bindNamespaceBaseURI()">\r\n                                                <span class="glyphicon glyphicon-link"></span>\r\n                                            </button>\r\n                                            <button class="btn btn-default" title="Apply namespace baseURI changes"\r\n                                                [ngClass]="{\'btn-primary\': areNamespaceBaseURIChanged(), \'btn-default\': !areNamespaceBaseURIChanged()}"\r\n                                                (click)="applyNamespaceBaseURI()" [disabled]="!areNamespaceBaseURIChanged() || !isBaseuriNsEditAuthorized()">\r\n                                                <span class="glyphicon glyphicon-ok"></span>\r\n                                            </button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><label>Namespace:</label></td>\r\n                                    <td>\r\n                                        <input type="text" class="form-control input-xs"\r\n                                            [ngClass]="{ submitted:nsBaseURISubmitted, \'ng-invalid\':!isNamespaceValid() }" [ngModel]="namespace"\r\n                                            (ngModelChange)="onNamespaceChanged($event)" [disabled]="!isBaseuriNsEditAuthorized()" >\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="scrollableContainer">\r\n                    <table class="table table-condensed table-striped table-hoverable">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class="text-center">Prefix</th>\r\n                                <th class="text-center">Namespace</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let m of nsPrefMappingList" (click)="selectMapping(m)"\r\n                                [ngClass]="{ info: m == selectedMapping, grayText: !m.explicit }">\r\n                                <td class="text-center">{{m.prefix}}</td>\r\n                                <td class="text-center">{{m.namespace}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!--Imports--\x3e\r\n        <div class="panel panel-default vbox" style="margin-top: 5px;">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Imports:</label>\r\n                <div class="dropdown">\r\n                    <button class="btn btn-default dropdown-toggle btn-xs" type="button" data-toggle="dropdown" [disabled]="!isAddImportAuthorized()">\r\n                        Add import from <span class="caret"></span>\r\n                    </button>\r\n                    <ul class="dropdown-menu">\r\n                        <li><a (click)="importFromWeb()">Web</a></li>\r\n                        <li><a (click)="importFromWebToMirror()">Web to mirror</a></li>\r\n                        <li><a (click)="importFromLocalFile()">Local file</a></li>\r\n                        <li><a (click)="importFromOntologyMirror()">Ontology mirror</a></li>\r\n                        <li><a (click)="importFromDatasetCatalog()">Dataset Catalog</a></li>\r\n                    </ul>\r\n                </div>\r\n                <button class="btn btn-default btn-xs" (click)="openOntologyMirror()" style="margin-left: 4px;">\r\n                    Ontology mirror\r\n                </button>\r\n            </div>\r\n            <div class="panel-body vbox">\r\n                <import-tree [imports]="importTree" (nodeRemoved)="removeImport($event)" (update)="onInportTreeUpdate()"></import-tree>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <resource-view-editor *ngIf="baseUriRes" [resource]="baseUriRes" (update)="onOntologyUpdated()"\r\n        style="margin-left: 5px;">\r\n    </resource-view-editor>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Ontology Mirror</h3>\r\n</div>\r\n<div class="modal-body vbox blockingDivHost">\r\n    \r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label>Ontology Mirror Management:</label>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n            <div class="scrollableContainer">\r\n                <table class="table table-condensed table-borderless table-hoverable">\r\n                    <colgroup>\r\n                        <col>\r\n                        <col>\r\n                        <col style="width: 1%">\r\n                        <col style="width: 1%">\r\n                    </colgroup>\r\n                    <tbody>\r\n                        <tr *ngFor="let m of mirrorList">\r\n                            <td>{{m.baseURI}}</td>\r\n                            <td>{{m.file}}</td>\r\n                            <td>\r\n                                <div class="dropdown pull-right">\r\n                                    <button class="btn btn-default dropdown-toggle btn-xs" type="button" data-toggle="dropdown"\r\n                                        title="Update mirror from..." [disabled]="!isUpdateMirrorAuthorized()">\r\n                                        <span class="glyphicon glyphicon-pencil"></span>\r\n                                    </button>\r\n                                    <ul class="dropdown-menu">\r\n                                        <li><a (click)="updateMirrorFromWebWithUri(m)">Update from web using baseURI</a></li>\r\n                                        <li><a (click)="updateMirrorFromWebFromAltUrl(m)">Update from web from alternative URL</a></li>\r\n                                        <li><a (click)="updateMirrorFromLocalFile(m)">Update from local file</a></li>\r\n                                    </ul>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <button class="btn btn-default btn-xs" (click)="deleteOntoMirror(m)" title="Delete mirror"\r\n                                    [disabled]="!isDeleteMirrorAuthorized()">\r\n                                    <span class="glyphicon glyphicon-trash"></span>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    \r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td><label>Prefix:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="prefix">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>Namespace:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="namespace" [disabled]="context.namespaceReadonly">\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Notification Settings</h3>\r\n</div>\r\n<div class="modal-body scrollableContainer">\r\n\r\n    <notifications-pref [hideModeChange]="true"></notifications-pref>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Notifications:</label>\r\n        <div class="btn-toolbar">\r\n            <button class="btn btn-xs btn-default" (click)="clear()" title="Clear notifications">\r\n                <span class="glyphicon glyphicon-erase"></span>\r\n            </button>\r\n            <button class="btn btn-xs btn-default" (click)="init()" title="Refresh">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n            <button class="btn btn-xs btn-default" (click)="settings()" title="Settings">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n        <div class="table-responsive">\r\n            <table class="table table-hoverable">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center" style="padding: 2px;">\r\n                            Time\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changeTimeOrder()">\r\n                                <span *ngSwitchCase="\'time_ascending\'" class="glyphicon glyphicon-sort-by-order"></span>\r\n                                <span *ngSwitchCase="\'time_descending\'" class="glyphicon glyphicon-sort-by-order-alt"></span>\r\n                                <span *ngSwitchDefault class="glyphicon glyphicon-sort"></span>\r\n                            </button>\r\n                        </th>\r\n                        <th class="text-center" style="padding: 2px;">\r\n                            Resource\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changeResourceOrder()">\r\n                                <span *ngSwitchCase="\'resource_ascending\'" class="glyphicon glyphicon-sort-by-alphabet"></span>\r\n                                <span *ngSwitchCase="\'resource_descending\'" class="glyphicon glyphicon-sort-by-alphabet-alt"></span>\r\n                                <span *ngSwitchDefault class="glyphicon glyphicon-sort"></span>\r\n                            </button>\r\n                        </th>\r\n                        <th class="text-center" style="padding: 2px;">\r\n                            Resource Type\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changeRoleOrder()">\r\n                                <span *ngSwitchCase="\'role_ascending\'" class="glyphicon glyphicon-sort-by-alphabet"></span>\r\n                                <span *ngSwitchCase="\'role_descending\'" class="glyphicon glyphicon-sort-by-alphabet-alt"></span>\r\n                                <span *ngSwitchDefault class="glyphicon glyphicon-sort"></span>\r\n                            </button>\r\n                        </th>\r\n                        <th class="text-center" style="padding: 2px;">\r\n                            Event\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changeActionOrder()">\r\n                                <span *ngSwitchCase="\'action_ascending\'" class="glyphicon glyphicon-sort-by-alphabet"></span>\r\n                                <span *ngSwitchCase="\'action_descending\'" class="glyphicon glyphicon-sort-by-alphabet-alt"></span>\r\n                                <span *ngSwitchDefault class="glyphicon glyphicon-sort"></span>\r\n                            </button>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let n of notifications">\r\n                        <td class="text-center">\r\n                            {{n.timestampShow}}\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <rdf-resource [resource]="n.annotatedRes" class="clickable" (click)="openResource(n.annotatedRes)"></rdf-resource>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{n.roleShow}}\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{n.action}}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">Languages:</label>\r\n        <div class="pull-right">\r\n            <div class="btn-toolbar" role="toolbar">\r\n                <div class="btn-group btn-group-xs">\r\n                    <button class="btn btn-default" [ngClass]="{active: activePanel == \'rendering\'}" (click)="activePanel = \'rendering\'">\r\n                        Rendering\r\n                    </button>\r\n                    <button class="btn btn-default" [ngClass]="{active: activePanel == \'editing\'}" (click)="activePanel = \'editing\'">\r\n                        Editing\r\n                    </button>\r\n                    <button class="btn btn-default" [ngClass]="{active: activePanel == \'valuefilter\'}" (click)="activePanel = \'valuefilter\'">\r\n                        Value-filter\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n        <lang-rendering-pref *ngIf="activePanel == \'rendering\'" class="vbox"></lang-rendering-pref>\r\n        <lang-editing-pref *ngIf="activePanel == \'editing\'" class="vbox"></lang-editing-pref>\r\n        <lang-value-filter-pref *ngIf="activePanel == \'valuefilter\'" class="vbox"></lang-value-filter-pref>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">Editing Languages</label>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n\r\n        <div class="alert alert-info" role="alert" style="margin-bottom: 5px;">\r\n            Select the language prompted by default when creating a new language-tagged literal\r\n        </div>\r\n        \r\n        <div class="table-responsive">\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 1%">\r\n                    <col>\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center" style="padding: 0px 8px;">Default</th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>ISO code</th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>Language</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let l of languages">\r\n                        <td class="text-center">\r\n                            <input type="radio" name="lang_radio" [checked]="l == editingLang" (change)="updateDefaultLang(l)">\r\n                        </td>\r\n                        <td class="text-center" nowrap>{{l.tag}}</td>\r\n                        <td class="text-center">\r\n                            <lang-item [language]="l"></lang-item>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">Rendering Languages</label>\r\n        <span *ngIf="getActiveLanguageItems().length == 0" class="grayText" style="margin-right: 5px;">\r\n            <span class="glyphicon glyphicon-warning-sign"></span>\r\n            No language selected implicitly means all languages\r\n        </span>\r\n        <div class="btn-group btn-group-xs">\r\n            <button class="btn btn-default" (click)="changeAllLangStatus(true)" title="Check all">\r\n                <span class="glyphicon glyphicon-check"></span>\r\n            </button>\r\n            <button class="btn btn-default" (click)="changeAllLangStatus(false)" title="Uncheck all">\r\n                <span class="glyphicon glyphicon-unchecked"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n\r\n        <div class="alert alert-info" role="alert" style="margin-bottom: 5px;">\r\n            Select the languages (and their order) used for rendering the resources\r\n        </div>\r\n        \r\n        <div class="table-responsive">\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 1%">\r\n                    <col style="width: 1%">\r\n                    <col style="width: 1%">\r\n                    <col>\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center" style="padding: 0px 8px;">Active</th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>\r\n                            Position\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changePositionOrder()">\r\n                                <span class="glyphicon glyphicon-sort-by-order" *ngSwitchCase="\'position_ascending\'" ></span>\r\n                                <span class="glyphicon glyphicon-sort-by-order-alt" *ngSwitchCase="\'position_descending\'"></span>\r\n                                <span class="glyphicon glyphicon-sort" *ngSwitchDefault></span>\r\n                            </button>\r\n                        </th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>\r\n                            ISO code\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changeIsocodeOrder()">\r\n                                <span class="glyphicon glyphicon-sort-by-alphabet" *ngSwitchCase="\'isocode_ascending\'" ></span>\r\n                                <span class="glyphicon glyphicon-sort-by-alphabet-alt" *ngSwitchCase="\'isocode_descending\'"></span>\r\n                                <span class="glyphicon glyphicon-sort" *ngSwitchDefault></span>\r\n                            </button>\r\n                        </th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>\r\n                            Language\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changeLanguageOrder()">\r\n                                <span class="glyphicon glyphicon-sort-by-alphabet" *ngSwitchCase="\'language_ascending\'"></span>\r\n                                <span class="glyphicon glyphicon-sort-by-alphabet-alt" *ngSwitchCase="\'language_descending\'"></span>\r\n                                <span class="glyphicon glyphicon-sort" *ngSwitchDefault></span>\r\n                            </button>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let l of renderingLanguages">\r\n                        <td class="text-center">\r\n                            <input type="checkbox" style="vertical-align: middle" [(ngModel)]="l.active" (ngModelChange)="onActiveChange(l)">\r\n                        </td>\r\n                        <td>\r\n                            <input #pos type="number" style="width: 100%; text-align: right" [ngModel]="l.position" [disabled]="!l.active"\r\n                                (input)="onPositionChange(l, pos.value);" onkeydown="return false" min="1" [max]="countActiveLangs()">\r\n                        </td>\r\n                        <td class="text-center" nowrap>{{l.lang.tag}}</td>\r\n                        <td class="text-center">\r\n                            <lang-item [language]="l.lang"></lang-item>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">Value-filter Languages</label>\r\n        <span *ngIf="getActiveLanguageItems().length == 0" class="grayText" style="margin-right: 5px;">\r\n            <span class="glyphicon glyphicon-warning-sign"></span>\r\n            No language selected implicitly means all languages\r\n        </span>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="changeAllLangStatus(true)" title="Check all">\r\n                    <span class="glyphicon glyphicon-check"></span>\r\n                </button>\r\n                <button class="btn btn-default" (click)="changeAllLangStatus(false)" title="Uncheck all">\r\n                    <span class="glyphicon glyphicon-unchecked"></span>\r\n                </button>\r\n            </div>\r\n            <button class="btn btn-xs btn-default" (click)="toggleFilter()" title="Enable filter" [ngClass]="{ active: filterEnabled }">\r\n                <span class="glyphicon glyphicon-filter"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n\r\n        <div class="alert alert-info" role="alert" style="margin-bottom: 5px;">\r\n            Select the languages that will be shown when filtering literal values in resource descriptions.\r\n            Toggle the filter in order to hide the values with the unselected languages.\r\n        </div>\r\n        \r\n        <div class="table-responsive">\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 1%">\r\n                    <col style="width: 1%">\r\n                    <col>\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center" style="padding: 0px 8px;">Active</th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>\r\n                            ISO code\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changeIsocodeOrder()">\r\n                                <span class="glyphicon glyphicon-sort-by-alphabet" *ngSwitchCase="\'isocode_ascending\'" ></span>\r\n                                <span class="glyphicon glyphicon-sort-by-alphabet-alt" *ngSwitchCase="\'isocode_descending\'"></span>\r\n                                <span class="glyphicon glyphicon-sort" *ngSwitchDefault></span>\r\n                            </button>\r\n                        </th>\r\n                        <th class="text-center" style="padding: 0px 8px;" nowrap>\r\n                            Language\r\n                            <button class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="changeLanguageOrder()">\r\n                                <span class="glyphicon glyphicon-sort-by-alphabet" *ngSwitchCase="\'language_ascending\'"></span>\r\n                                <span class="glyphicon glyphicon-sort-by-alphabet-alt" *ngSwitchCase="\'language_descending\'"></span>\r\n                                <span class="glyphicon glyphicon-sort" *ngSwitchDefault></span>\r\n                            </button>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let l of filterLanguages">\r\n                        <td class="text-center">\r\n                            <input type="checkbox" style="vertical-align: middle" [(ngModel)]="l.active" (ngModelChange)="onActiveChange(l)">\r\n                        </td>\r\n                        <td class="text-center" nowrap>{{l.lang.tag}}</td>\r\n                        <td class="text-center">\r\n                            <lang-item [language]="l.lang"></lang-item>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div *ngIf="!hideModeChange" class="panel panel-default" style="margin-bottom: 4px;">\r\n    <div class="panel-body">\r\n        <div class="hbox"  style="align-items: center;">\r\n            <label>Mode:</label>\r\n            <select class="form-control input-sm" style="margin-left: 6px;" [(ngModel)]="activeNotificationOpt" (ngModelChange)="changeNotificationStatus()">\r\n                <option *ngFor="let opt of notificationOptions" [ngValue]="opt">{{opt.show}}</option>\r\n            </select>\r\n        </div>\r\n        <div class="alert alert-info" style="margin-top: 4px;">\r\n            {{activeNotificationOpt.description}}\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="panel panel-default vbox" style="margin-bottom: 4px; flex: initial;">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">\r\n            Type-event notifications\r\n            <span class="glyphicon glyphicon-info-sign" \r\n                title="For each type of resource you can select the events for which you want to receive notifications">\r\n            </span>\r\n        </label>\r\n        <div class="btn-group btn-group-xs">\r\n            <button class="btn btn-default" (click)="checkAllActions(true)" title="Enable all notifications">\r\n                <span class="glyphicon glyphicon-check"></span>\r\n            </button>\r\n            <button class="btn btn-default" (click)="checkAllActions(false)" title="Disable all notifications">\r\n                <span class="glyphicon glyphicon-unchecked"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body scrollableContainer">\r\n        <table class="table table-condensed" style="margin-top: 4px;">\r\n            <thead>\r\n                <tr>\r\n                    <th>Resource type</th>\r\n                    <th *ngFor="let a of actions" class="text-center">\r\n                        {{a}}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let rs of roleStructs">\r\n                    <td>\r\n                        <div class="hbox" style="align-items: center;">\r\n                            <label style="flex: 1;">{{rs.show}}</label>\r\n                            <button #btnCheck class="btn btn-transparent btn-xs" (click)="checkAllActionsForRole(rs.role, true)"\r\n                                (mouseup)="btnCheck.blur()" title="Enable all actions for this type">\r\n                                <span class="glyphicon glyphicon-check"></span>\r\n                            </button>\r\n                            <button #btnUncheck class="btn btn-transparent btn-xs" (click)="checkAllActionsForRole(rs.role, false)" \r\n                                (mouseup)="btnUncheck.blur()" title="Disable all actions for this type">\r\n                                <span class="glyphicon glyphicon-unchecked"></span>\r\n                            </button>\r\n                        </div>\r\n                    </td>\r\n                    <td *ngFor="let a of actions" class="text-center">\r\n                        <input type="checkbox" [(ngModel)]="notificationTable[rs.role][a]" (ngModelChange)="updateNotificationPref(rs.role, a)">\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<div class="panel panel-default vbox" style="flex: initial;">\r\n    <div class="panel-heading">\r\n        <label>Watching resources</label>\r\n    </div>\r\n    <div class="panel-body scrollableContainer">\r\n        <div *ngIf="watchingResources.length == 0" class="alert alert-warning">\r\n            You did not enabled notifications on any resources.\r\n            You can start watching resources by clicking on the <span class="glyphicon glyphicon-bell"></span> button\r\n            placed on the toolbar of a ResourceView.\r\n        </div>\r\n\r\n        <div *ngFor="let r of watchingResources" class="listItem">\r\n            <rdf-resource [resource]="r" style="flex: 1"></rdf-resource>\r\n            <button class="btn btn-xs btn-default" (click)="stopWatching(r)" title="Stop watching resource">\r\n                <span class="glyphicon glyphicon-minus"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1">Resource view</label>\r\n    </div>\r\n    <div class="panel-body">\r\n\r\n        <div class="panel panel-default">\r\n            <div class="panel-body hbox">\r\n                <div class="vbox" style="margin-right: 8px;">\r\n                    <div class="hbox" style="align-items: center;">\r\n                        <label>Mode:</label>\r\n                        <select class="form-control input-sm" style="margin-left: 4px;" [(ngModel)]="resViewMode" (ngModelChange)="onResViewModeChange()">\r\n                            <option value="splitted">Splitted</option>\r\n                            <option value="tabbed">Tabbed</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="alert alert-info" style="margin-top: 4px;">\r\n                        <span *ngIf="resViewMode == \'tabbed\'">\r\n                            The Resource View is shown in a tab and multiple Resource View can be open in different tabs.\r\n                        </span>\r\n                        <span *ngIf="resViewMode == \'splitted\'">\r\n                            The Resource View panel is splitted in two: on the left there is a main Resource View which describes\r\n                            (and is synched with) the resource selected in the tree/list; on the right there is an optional\r\n                            secondary Resource View which describes a resource selected (double click) from the main Resource View.<br>\r\n                            <span class="glyphicon glyphicon-warning-sign"></span> This mode is not recommended in screen with resolution width below 1440px\r\n                        </span>\r\n                    </div>\r\n                    <div *ngIf="resViewMode == \'tabbed\'">\r\n                        <div class="checkbox">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="resViewTabSync" (ngModelChange)="onTabSyncChange()">\r\n                                Keep selected tab synchronized with tree/list\r\n                                <span class="glyphicon glyphicon-exclamation-sign"\r\n                                    title="It is recommended to disable this option. The synchronization between tabs and tree/list could slow down the navigation of the ResourceView tabbed panel.">\r\n                                </span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <img *ngIf="resViewMode == \'tabbed\'" src="'+n(1750)+'" style="height: 100px;">\r\n                    <img *ngIf="resViewMode == \'splitted\'" src="'+n(1749)+'" style="height: 100px;">\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="typeSelectionAvailable" class="panel panel-default" style="margin-top: 4px">\r\n            <div class="panel-body">\r\n                <div class="hbox" style="align-items: center;">\r\n                    <label style="white-space: nowrap;">\r\n                        Initial view for concepts:\r\n                        <span class="glyphicon glyphicon-info-sign" title="This selection will be used by default for browsing SKOS concepts. The user can switch to other views during their session of work, but this selection will be applied as an initial setting at each new login"></span>\r\n                    </label>\r\n                    <select class="form-control input-sm" style="margin-left: 4px;" [(ngModel)]="selectedRvConceptType" (ngModelChange)="onResViewConceptTypeChange()">\r\n                        <option *ngFor="let t of rvConceptTypes" [ngValue]="t">{{t.show}}</option>\r\n                    </select>\r\n                </div>\r\n                <div class="alert alert-info" style="margin-top: 4px;">\r\n                    {{selectedRvConceptType.description}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default" style="margin-top: 4px">\r\n            <div class="panel-body">\r\n                <div class="checkbox-inline">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="displayImg" (ngModelChange)="onDisplayImgChange()">\r\n                        Display images\r\n                        <span class="glyphicon glyphicon-info-sign"\r\n                            title="If enabled, URL values resolvable to images on the web will be displayed as images (preview) in the ResourceView">\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label>Vocbench Preferences</label>\r\n    </div>\r\n    \r\n    <div class="panel-body scrollableContainer">\r\n\r\n        <res-view-pref></res-view-pref>\r\n\r\n        <div style="margin-top: 6px;">\r\n            <div class="hbox" style="max-height: 800px;">\r\n                \r\n                <lang-pref style="flex: 1"></lang-pref>\r\n\r\n                <div class="panel panel-default vbox" style="flex: 1; margin-left: 6px;">\r\n                    <div class="panel-heading">\r\n                        <label>Notifications</label>\r\n                    </div>\r\n                    <div class="panel-body vbox">\r\n                        <notifications-pref></notifications-pref>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default" style="margin-top: 6px;">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Other preferences</label>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n\r\n                <div class="panel panel-default" style="padding: 4px; margin-bottom: 2px">\r\n                    <div class="panel-body">\r\n                        <div class="checkbox-inline">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="showFlags" (ngModelChange)="onShowFlagChange()"> Show flags\r\n                            </label>\r\n                            <span class="glyphicon glyphicon-info-sign"\r\n                                title="Determines if the flags icon are shown in place of the language ISO code">\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="panel panel-default" style="padding: 4px; margin-bottom: 2px">\r\n                    <div class="panel-body">\r\n                        <label>Project theme\r\n                            <span class="glyphicon glyphicon-info-sign" title="Changes the color of the header/navigationBar for the current project"></span>\r\n                        </label>\r\n                        <label *ngFor="let t of themes" class="checkbox-inline" style="margin-left: 12px;">\r\n                            <input type="checkbox" style="margin-left: -18px;" [checked]="t == selectedTheme" (click)="changeTheme(t)">\r\n                            <div style="border: 1px solid black; display: inline-block">\r\n                                <div style="width: 12px; height: 12px; float: left" [ngStyle]="{\'background-color\': t.mainColor}"></div>\r\n                                <div style="width: 12px; height: 12px; float: left" [ngStyle]="{\'background-color\': t.altColor}"></div>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="vbox">\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label>Create project:</label>\r\n        </div>\r\n\r\n        <div class="panel-body scrollableContainer">\r\n\r\n            <form class="form-horizontal">\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-1">Project Name:</label>\r\n                    <div class="col-sm-11">\r\n                        <input type="text" class="form-control input-sm" name="projectName" [(ngModel)]="projectName"\r\n                            placeholder="Project name" (ngModelChange)="onProjectNameChange()" sanitized>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-1">Optional data preloading:</label>\r\n                    <div class="col-sm-3">\r\n                        <select class="form-control input-sm" [(ngModel)]="selectedPreloadOpt" (ngModelChange)="onPreloadChange()" name="preload">\r\n                            <option *ngFor="let p of preloadOptList">{{p}}</option>\r\n                        </select>\r\n                    </div>\r\n                    <div *ngIf="selectedPreloadOpt != preloadOptNone" class="col-sm-5">\r\n                        <div class="hbox" style="align-items: center">\r\n                            <div *ngIf="selectedPreloadOpt == preloadOptFromLocalFile" class="hbox" style="align-items: center">\r\n                                <file-picker (fileChanged)="preloadFromFileChanged($event)" [file]="preloadFile" [accept]="filePickerAccept"></file-picker>\r\n                                <label style="margin-left: 8px;">Format:</label>\r\n                                <select class="form-control input-sm" style="margin-left: 5px; width: initial" [(ngModel)]="selectedInputFormat" name="inputFormat">\r\n                                    <option *ngFor="let f of inputFormats" [ngValue]="f">{{f.name}}</option>\r\n                                </select>\r\n                                <button class="btn btn-sm btn-default" (click)="preloadFromFile()" [disabled]="!preloadFile" style="margin-left: 10px;">Preload</button>\r\n                            </div>\r\n\r\n                            <div *ngIf="selectedPreloadOpt == preloadOptFromURI" class="input-group input-group-sm" style="flex: 1;">\r\n                                <input type="text" class="form-control" [(ngModel)]="preloadUri" name="preloadFromUri">\r\n                                <div class="input-group-btn">\r\n                                    <button class="btn btn-default" (click)="preloadFromUri()" [disabled]="!preloadUri || preloadUri.trim() == \'\'">Preload</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div *ngIf="selectedPreloadOpt == preloadOptFromDatasetCatalog" class="input-group input-group-sm" style="flex: 1;">\r\n                                <input type="text" class="form-control" [(ngModel)]="preloadCatalog" name="preloadFromCatalog" readonly>\r\n                                <div class="input-group-btn">\r\n                                    <button class="btn btn-default" (click)="preloadFromDatasetCatalog()">\r\n                                        <span class="glyphicon glyphicon-pencil"></span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div style="margin-left: 8px; font-size: 15px;">\r\n                                <ng-container *ngIf="preloadedData?.option == selectedPreloadOpt && preloadedData?.summary; then preloadDone; else preloadNotDone"></ng-container>\r\n                                <ng-template #preloadDone>\r\n                                    <span class="glyphicon glyphicon-ok-circle" title="Data loaded correctly"></span>\r\n                                </ng-template>\r\n                                <ng-template #preloadNotDone>\r\n                                    <span class="glyphicon glyphicon-warning-sign" title="Data not loaded"></span>    \r\n                                </ng-template>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf="selectedPreloadOpt != preloadOptNone" class="col-sm-3">\r\n                        <div class="hbox" style="align-items: center;">\r\n                            <label>Transitive imports:</label>\r\n                            <select class="form-control input-sm" style="margin-left: 5px;" [(ngModel)]="selectedImportAllowance" name="importAllowance">\r\n                                <option *ngFor="let ia of importAllowances" [value]="ia.allowance">{{ia.show}}</option>\r\n                            </select>                    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-1">Base URI:</label>\r\n                    <div class="col-sm-11">\r\n\r\n                        <div class="hbox" style="align-items: center">\r\n                            <input type="text" class="form-control input-sm" name="baseURI" [(ngModel)]="baseUri" [readonly]="baseUriLocked">\r\n                            <div *ngIf="preloadedData?.summary" style="margin-left: 4px;">\r\n                                <button *ngIf="baseUriForced" class="btn btn-sm btn-default" [ngClass]="{ active : baseUriLocked }" (click)="baseUriLocked = !baseUriLocked"\r\n                                    title="This selection has been automatically determined on the basis of the preloaded data; modify it only if you know what you are doing">\r\n                                    <span class="glyphicon glyphicon-lock"></span>\r\n                                </button>\r\n                                <span *ngIf="!baseUriForced" class="glyphicon glyphicon-warning-sign" title="Preload operation could not determine the baseURI. Please provide it manually"></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-1">Model:</label>\r\n                    <div class="col-sm-3">\r\n                        <div class="hbox" style="align-items: center">\r\n                            <select class="form-control input-sm" [(ngModel)]="ontoModelType" (ngModelChange)="onOntoModelChanged()" name="ontoModelType" [disabled]="ontoModelLocked">\r\n                                <option *ngFor="let om of ontoModelList" [ngValue]="om.value">{{om.label}}</option>\r\n                            </select>\r\n                            <div *ngIf="preloadedData?.summary" style="margin-left: 4px;">\r\n                                <button *ngIf="ontoModelForced" class="btn btn-sm btn-default" [ngClass]="{ active : ontoModelLocked }" (click)="ontoModelLocked = !ontoModelLocked"\r\n                                    title="This selection has been automatically determined on the basis of the preloaded data; modify it only if you know what you are doing">\r\n                                    <span class="glyphicon glyphicon-lock"></span>\r\n                                </button>\r\n                                <span *ngIf="!ontoModelForced" class="glyphicon glyphicon-warning-sign" title="Preload operation could not determine the model. Please provide it manually"></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <ng-container *ngIf="!isEdoalProject(); else edoalBlock">\r\n                        <label class="control-label col-sm-1">Lexicalization:</label>\r\n                        <div class="col-sm-4">\r\n                            <div class="hbox" style="align-items: center">\r\n                                <select class="form-control input-sm" [(ngModel)]="lexicalModelType" name="lexicalModelType" [disabled]="(isOntoModelOntolex() && !lexicalModelForced) || lexicalModelLocked">\r\n                                    <option *ngFor="let lm of lexicalModelList" [ngValue]="lm.value">{{lm.label}}</option>\r\n                                </select>\r\n                                <div *ngIf="preloadedData?.summary" style="margin-left: 4px;">\r\n                                    <button *ngIf="lexicalModelForced" class="btn btn-sm btn-default" [ngClass]="{ active : lexicalModelLocked }" (click)="lexicalModelLocked = !lexicalModelLocked"\r\n                                        title="This selection has been automatically determined on the basis of the preloaded data; modify it only if you know what you are doing">\r\n                                        <span class="glyphicon glyphicon-lock"></span>\r\n                                    </button>\r\n                                    <span *ngIf="!lexicalModelForced" class="glyphicon glyphicon-warning-sign" title="Preload operation could not determine the lexical model. Please provide it manually"></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n                    <ng-template #edoalBlock>\r\n                        <label class="control-label col-sm-1">\r\n                            Left/Right:\r\n                            <span class="glyphicon glyphicon-info-sign" title="Due to technology limitations, the left dataset must be remote"></span>\r\n                        </label>\r\n                        <div class="col-sm-4">\r\n                            <div class="hbox" style="align-items: center">\r\n                                <select class="form-control input-sm" [(ngModel)]="leftProject" (ngModelChange)="updateRightProjectList()" name="leftProject">\r\n                                    <option *ngFor="let p of leftProjectList" [ngValue]="p">{{p.getName()}}</option>\r\n                                </select>\r\n                                <span style="margin: 0px 4px; font-size: 14px;">/</span>\r\n                                <select class="form-control input-sm" [(ngModel)]="rightProject" name="rightProject" [disabled]="!leftProject">\r\n                                    <option *ngFor="let p of rightProjectList" [ngValue]="p">{{p.getName()}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </ng-template>\r\n                    <div class="col-sm-3 text-center">\r\n                        <div class="checkbox-inline">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="history" name="history"> History\r\n                            </label>\r\n                            <span class="glyphicon glyphicon-info-sign"\r\n                                title="Enable this to keep track of the changes made on the working graph">\r\n                            </span>\r\n                        </div>\r\n                        <div class="checkbox-inline" style="margin-left: 12px;">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="validation" name="validation" (input)="blacklisting=false"> Validation\r\n                            </label>\r\n                            <span class="glyphicon glyphicon-info-sign"\r\n                                title="Enable this to keep track of change requests in order to validate them later (accepting or rejecting)">\r\n                            </span>\r\n                        </div>\r\n                        <div class="checkbox-inline" style="margin-left: 12px;">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="blacklisting" name="blacklisting" [disabled]="!validation"> Blacklisting\r\n                            </label>\r\n                            <span class="glyphicon glyphicon-info-sign"\r\n                                title="Enable this to blacklist terms that have been rejected through validation">\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n\r\n            \x3c!--Triple store configuration--\x3e\r\n            <div class="panel panel-alt" style="margin-bottom: 4px;">\r\n                <div class="panel-heading">\r\n                    <label>Data Store</label>\r\n                </div>\r\n                <div class="panel-body">\r\n\r\n                    <div class="form-horizontal">\r\n                        <div class="form-group">\r\n                            <label class="control-label col-sm-2">Repository Access:</label>\r\n                            <div class="col-sm-10">\r\n                                <div class="hbox">\r\n                                    <select class="form-control input-sm" [(ngModel)]="selectedRepositoryAccess" (ngModelChange)="onRepoAccessChange()">\r\n                                        <option *ngFor="let repoAcc of repositoryAccessList" [ngValue]="repoAcc">{{repoAcc}}</option>\r\n                                    </select>\r\n                                    <div *ngIf="isSelectedRepoAccessRemote()" class="input-group input-group-sm" style="margin-left: 5px; min-width: 210px;">\r\n                                        <select class="form-control" [(ngModel)]="selectedRemoteRepoConfig" name="remoteConfig">\r\n                                            <option *ngFor="let c of remoteRepoConfigs" [ngValue]="c">{{c.serverURL}}</option>\r\n                                        </select>\r\n                                        <span class="input-group-btn">\r\n                                            <button class="btn btn-default" (click)="configureRemoteRepositoryAccess()">\r\n                                                <span class="glyphicon glyphicon-pencil"></span>\r\n                                            </button>\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- Data repo --\x3e\r\n                        <div class="form-group">\r\n                            <label class="control-label col-sm-2">Data Repository ID</label>\r\n                            <div class="col-sm-4">\r\n                                <div class="input-group input-group-sm">\r\n                                    <input type="text" class="form-control" name="dataRepoId" [(ngModel)]="dataRepoId"\r\n                                        placeholder="Data Repository ID" [disabled]="isSelectedRepoAccessCreateMode()">\r\n                                    <span class="input-group-btn">\r\n                                        <button class="btn btn-default" type="button" (click)="changeRemoteRepository(\'data\')"\r\n                                            title="Select remote repository" [disabled]="isSelectedRepoAccessCreateMode()">\r\n                                            <span class="glyphicon glyphicon-folder-open"></span>\r\n                                        </button>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <ng-template [ngIf]="isSelectedRepoAccessCreateMode()">\r\n                                <div class="control-label col-sm-1">\r\n                                    <label>Configuration</label>\r\n                                </div>\r\n                                <div class="col-sm-5">\r\n                                    <extension-configurator #dataRepoConfigurator *ngIf="dataRepoExtensions"\r\n                                        [extensions]="dataRepoExtensions" [storeable]="false"\r\n                                        (extensionUpdated)="selectedDataRepoExtension = $event"\r\n                                        (configurationUpdated)="selectedDataRepoConfig = $event">\r\n                                    </extension-configurator>\r\n                                </div>\r\n                            </ng-template>\r\n                            <ng-template [ngIf]="!isSelectedRepoAccessCreateMode()">\r\n                                <div class="control-label col-sm-1">\r\n                                    <label>Backend type</label>\r\n                                </div>\r\n                                <div class="col-sm-5">\r\n                                    <select class="form-control input-sm" [(ngModel)]="selectedCoreRepoBackendType" name="selectedCoreRepoBackendType">\r\n                                        <option *ngFor="let bt of backendTypes" [value]="bt">{{bt}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </ng-template>\r\n                        </div>\r\n\r\n                        \x3c!-- Support repo --\x3e\r\n\r\n                        <div class="form-group">\r\n                            <label class="control-label col-sm-2">History/Validation Repository ID</label>\r\n                            <div class="col-sm-4">\r\n                                <div class="input-group input-group-sm">\r\n                                    <input type="text" class="form-control" name="supportRepoId" [(ngModel)]="supportRepoId"\r\n                                        placeholder="History/Validation Repository ID" [disabled]="isSelectedRepoAccessCreateMode() || !(history || validation)">\r\n                                    <span class="input-group-btn">\r\n                                        <button class="btn btn-default" type="button" (click)="changeRemoteRepository(\'support\')"\r\n                                            title="Select remote repository" [disabled]="isSelectedRepoAccessCreateMode() || !(history || validation)">\r\n                                            <span class="glyphicon glyphicon-folder-open"></span>\r\n                                        </button>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <ng-template [ngIf]="isSelectedRepoAccessCreateMode()">\r\n                                <div class="control-label col-sm-1" style="white-space: nowrap">\r\n                                    <span class="glyphicon glyphicon-info-sign" title="It is highly recommended not to use inference"></span>\r\n                                    <label>Configuration</label>\r\n                                </div>\r\n                                <div class="col-sm-5">\r\n                                    <extension-configurator #supportRepoConfigurator *ngIf="supportRepoExtensions"\r\n                                        [extensions]="supportRepoExtensions" [storeable]="false" [disabled]="!(history || validation)"\r\n                                        (extensionUpdated)="selectedSupportRepoExtension = $event"\r\n                                        (configurationUpdated)="selectedSupportRepoConfig = $event">\r\n                                    </extension-configurator>\r\n                                </div>\r\n                            </ng-template>\r\n                            <ng-template [ngIf]="!isSelectedRepoAccessCreateMode()">\r\n                                <div class="control-label col-sm-1">\r\n                                    <label>Backend type</label>\r\n                                </div>\r\n                                <div class="col-sm-5">\r\n                                    <select class="form-control input-sm" [(ngModel)]="selectedSupportRepoBackendType" name="selectedSupportRepoBackendType"\r\n                                        [disabled]="!(history || validation)">\r\n                                        <option *ngFor="let bt of backendTypes" [value]="bt">{{bt}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </ng-template>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!--Extention points configuration--\x3e\r\n            <div class="panel panel-alt" style="margin-bottom: 4px;">\r\n                <div class="panel-heading">\r\n                    <div class="expandCollapseBtnContainer">\r\n                        <img src="'+n(49)+'" (click)="extPointPanelOpen = !extPointPanelOpen"\r\n                            [ngClass]="{\'arrow-right\' : !extPointPanelOpen}">\r\n                    </div>\r\n                    <label style="flex: 1">Optional settings:</label>\r\n                </div>\r\n                <div class="panel-body" *ngIf="extPointPanelOpen">\r\n\r\n                    <div class="panel panel-alt" style="margin-bottom: 4px;">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">URI Generator</label>\r\n                            <div class="checkbox" style="margin: 0px">\r\n                                <label style="min-height: initial;">\r\n                                    <input type="checkbox" [(ngModel)]="uriGenUseDefaultSetting"> Use default settings\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <form *ngIf="!uriGenUseDefaultSetting" class="form-horizontal">\r\n                                <div class="form-group">\r\n                                    <label class="control-label col-sm-1">Plugin:</label>\r\n                                    <div class="col-sm-11">\r\n                                        <select class="form-control input-sm" [(ngModel)]="selectedUriGenPlugin" (ngModelChange)="onUriGenPluginChanged()"\r\n                                            name="selectedUriGenPlugin">\r\n                                            <option *ngFor="let ugp of uriGenPluginList" [ngValue]="ugp">\r\n                                                {{ugp.factoryID.substring(ugp.factoryID.lastIndexOf(\'.\')+1)}}\r\n                                            </option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label class="control-label col-sm-1">Configuration:</label>\r\n                                    <div class="col-sm-11">\r\n                                        <div class="input-group">\r\n                                            <select class="form-control input-sm" [(ngModel)]="selectedUriGenPluginConf" name="selectedUriGenPluginConf">\r\n                                                <option *ngFor="let ugpConf of selectedUriGenPluginConfList" [ngValue]="ugpConf">\r\n                                                    {{ugpConf.shortName}}\r\n                                                </option>\r\n                                            </select>\r\n                                            <span class="input-group-btn">\r\n                                                <button class="btn btn-default btn-sm" (click)="configureUriGenConf()">Configure</button>\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="panel panel-alt" style="margin-bottom: 4px;">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">Rendering Engine</label>\r\n                            <div class="checkbox" style="margin: 0px">\r\n                                <label style="min-height: initial;">\r\n                                    <input type="checkbox" [(ngModel)]="rendEngUseDefaultSetting"> Use default settings\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <form *ngIf="!rendEngUseDefaultSetting" class="form-horizontal">\r\n                                <div class="form-group">\r\n                                    <label class="control-label col-sm-1">Plugin:</label>\r\n                                    <div class="col-sm-11">\r\n                                        <select class="form-control input-sm" [(ngModel)]="selectedRendEngPlugin" (ngModelChange)="onRendEnginePluginChanged()"\r\n                                            name="selectedRendEngPlugin" [disabled]="rendEngUseDefaultSetting">\r\n                                            <option *ngFor="let rep of rendEngPluginList" [ngValue]="rep">\r\n                                                {{rep.factoryID.substring(rep.factoryID.lastIndexOf(\'.\')+1)}}\r\n                                            </option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label class="control-label col-sm-1">Configuration:</label>\r\n                                    <div class="col-sm-11">\r\n                                        <div class="input-group">\r\n                                            <select class="form-control input-sm" [(ngModel)]="selectedRendEngPluginConf" name="selectedRendEngPluginConf"\r\n                                                [disabled]="rendEngUseDefaultSetting">\r\n                                                <option *ngFor="let repConf of selectedRendEngPluginConfList" [ngValue]="repConf">\r\n                                                    {{repConf.shortName}}\r\n                                                </option>\r\n                                            </select>\r\n                                            <span class="input-group-btn">\r\n                                                <button class="btn btn-default btn-sm" (click)="configureRendEngConf()" [disabled]="rendEngUseDefaultSetting">Configure</button>\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="panel panel-alt" style="margin-bottom: 4px;">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">Resource Metadata</label>\r\n                            <div class="checkbox" style="margin: 0px">\r\n                                <label style="min-height: initial;">\r\n                                    <input type="checkbox" [(ngModel)]="useResourceMetadata"> Use Resource Metadata\r\n                                    <span class="glyphicon glyphicon-info-sign" title="Usage of Resource Metadata can be enabled also after the project creation"></span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <ng-container *ngIf="useResourceMetadata">\r\n                                <table class="table table-condensed table-borderless">\r\n                                    <colgroup>\r\n                                        <col style="width: 1%;">\r\n                                        <col>\r\n                                        <col style="width: 1%;">\r\n                                        <col>\r\n                                        <col style="width: 1%;">\r\n                                        <col style="width: 1%;">\r\n                                    </colgroup>\r\n                                    <tbody>\r\n                                        <tr *ngFor="let ma of metadataAssociations; let last = last">\r\n                                            <td class="text-rigth" nowrap>\r\n                                                <label>Resource Type:</label>\r\n                                            </td>\r\n                                            <td>\r\n                                                <select class="form-control input-sm" [(ngModel)]="ma.role">\r\n                                                    <option *ngFor="let r of resourceTypes" [ngValue]="r">{{r.show}}</option>\r\n                                                </select>\r\n                                            </td>\r\n                                            <td class="text-rigth" nowrap>\r\n                                                <label>Pattern:</label>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div class="input-group input-group-sm">\r\n                                                    <input class="form-control" [ngModel]="ma.pattern?.name" readonly>\r\n                                                    <span class="input-group-btn">\r\n                                                        <button class="btn btn-default" (click)="selectMetadataPattern(ma)">\r\n                                                            <span class="glyphicon glyphicon-pencil"></span>\r\n                                                        </button>\r\n                                                    </span>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td>\r\n                                                <button class="btn btn-xs btn-default" (click)="removeMetadataAssociation(ma)">\r\n                                                    <span class="glyphicon glyphicon-trash"></span>\r\n                                                </button>\r\n                                            </td>\r\n                                            <td>\r\n                                                <button *ngIf="last" class="btn btn-xs btn-default" (click)="addMetadataAssociation()">\r\n                                                    <span class="glyphicon glyphicon-plus"></span>\r\n                                                </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="panel panel-alt" style="margin-bottom: 4px;">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">SHACL Shape Validation</label>\r\n                            <div class="checkbox" style="margin: 0px;">\r\n                                <label style="min-height: initial;">\r\n                                    <input type="checkbox" [(ngModel)]="enableSHACL" (ngModelChange)="onShacleEnableChange()">\r\n                                    Enable shape validation\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <ng-container *ngIf="enableSHACL">\r\n                                <settings-renderer *ngIf="isSelectedRepoAccessCreateMode() && shaclSettings" [(ngModel)]="shaclSettings" [disabled]="!enableSHACL">\r\n                                </settings-renderer>\r\n                                <div *ngIf="!isSelectedRepoAccessCreateMode()" class="alert alert-warning">\r\n                                    <span class="glyphicon glyphicon-warning-sign"></span>\r\n                                    You should check that the existing repository being accessed actually supports SHACL with the desired settings.\r\n                                </div>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="panel panel-alt">\r\n                        <div class="panel-heading">\r\n                            <label style="flex: 1;">Trivial Inference Engine</label>\r\n                            <div class="checkbox" style="margin: 0px;">\r\n                                <label style="min-height: initial;">\r\n                                    <input type="checkbox" [(ngModel)]="enableTrivialInference">\r\n                                    Enable trivial inference\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class="panel-footer">\r\n            <button type="submit" class="btn btn-default btn-sm pull-right" (click)="create()">Create</button>\r\n            <span class="clearfix"></span>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Project ACL</h3>\r\n</div>\r\n<div class="modal-body vbox blockingDivHost">\r\n\r\n    <div class="input-group input-group-xs" style="margin-bottom: 4px;">\r\n        <input class="form-control" placeholder="Consumer Project name" [(ngModel)]="filterProject">\r\n        <span class="input-group-addon"><span class="glyphicon glyphicon-filter"></span></span>\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label>Access Control List of project <i>{{context.project.getName()}}</i></label>\r\n        </div>\r\n\r\n        <div class="panel-body scrollableContainer">\r\n            <table class="table table-condensed table-borderless">\r\n                <tbody>\r\n                    <ng-container *ngFor="let c of consumers">\r\n                        <tr *ngIf="showConsumer(c)">\r\n                            <td>\r\n                                <div class="ellipsable" style="max-width: 180px;">\r\n                                    <label [title]="c.name">{{c.name}}:</label>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <select class="form-control input-xs" (ngModelChange)="onAccessLevelChange(c, $event)" [(ngModel)]="c.availableACLLevel">\r\n                                    <option [ngValue]="nullAccessLevel">---</option>\r\n                                    <option *ngFor="let al of accessLevels" [value]="al">{{al}}</option>\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <div *ngIf="lock" class="panel-footer">\r\n            <div class="form-group">\r\n                <label class="control-label col-sm-5">Lockable:</label>\r\n                <div class="col-sm-7">\r\n                    <select class="form-control input-xs" (ngModelChange)="onLockLevelChange($event)" [(ngModel)]="lock.availableLockLevel">\r\n                        <option *ngFor="let ll of lockLevels" [value]="ll">{{ll}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Project ACL</h3>\r\n</div>\r\n<div class="modal-body vbox blockingDivHost">\r\n    <div class="scrollableContainer" style="padding-right: 90px; align-items: center;">\r\n        <table class="table table-condensed table-bordered" style="width: auto; border-top: 0; border-left: 0; border-right: 0;">\r\n            <thead>\r\n                <tr>\r\n                    <th style="vertical-align: bottom;" class="firstCol" style="border-left: 0; border-right: 0; vertical-align: bottom;">\r\n                        <div class="hbox">\r\n                            <div style="flex: 1"><span class="glyphicon glyphicon-chevron-down"></span> Project</div>\r\n                            <div style="margin-left: 15px">Consumer <span class="glyphicon glyphicon-chevron-right"></span></div>\r\n                        </div>\r\n                    </th>\r\n                    <th *ngFor="let cons of consumerList" class="rotate" [title]="cons">\r\n                        <div class="rotated-container">\r\n                            <div class="consumer-container">\r\n                                <span class="consumer-text">{{cons}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor="let row of aclTable">\r\n                    <tr>\r\n                        <td style="font-weight: bold;" class="firstCol">\r\n                            <div class="hbox" style="align-items: center;">\r\n                                <div class="ellipsable" style="flex: 1;">{{row.project}}</div>\r\n                                <button class="btn btn-default btn-xs pull-right" style="margin-left: 8px;" title="Edit project ACL" (click)="editProjectACL(row.project)">\r\n                                    <span class="glyphicon glyphicon-pencil"></span>\r\n                                </button>\r\n\r\n                                <span [class]="row.lock.class" [title]="row.lock.title" style="margin-left: 4px;">\r\n                                    {{row.lock.status.availableLockLevel}}\r\n                                </span>\r\n                            </div>\r\n                        </td>\r\n                        <td *ngFor="let col of row.cols" [class]="col.accessLevelCell.class" [title]="col.accessLevelCell.title">\r\n                            {{col.accessLevelCell.available}}\r\n                        </td>\r\n                    </tr>\r\n                </ng-container>\r\n            </tbody>\r\n        </table>\r\n\r\n    </div>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t,n){e.exports='<div class="vbox">\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <button class="btn btn-xs btn-default" (click)="createProject()">\r\n                Create\r\n            </button>\r\n            <span style="flex: 1;"></span>\r\n            <div class="btn-toolbar">\r\n                <button class="btn btn-xs btn-default" (click)="initProjects()" title="Refresh">\r\n                    <span class="glyphicon glyphicon-refresh"></span>\r\n                </button>\r\n                <button class="btn btn-xs btn-default" (click)="openACLModal()" title="Show ACL matrix">\r\n                    ACL\r\n                </button>\r\n                <button class="btn btn-xs btn-default" (click)="settings()" title="Project view settings">\r\n                    <span class="glyphicon glyphicon-cog"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body scrollableContainer" style="padding-left: 8px; padding-right: 8px;">\r\n            <ng-container *ngIf="visualizationMode == \'dir\'">\r\n                \x3c!-- 7px applies the same paddings applied to the rows, namely the padding sum of listItem (3px) and groupPanel-body (4px) --\x3e\r\n                <div class="hbox" style="padding: 7px 7px 0px; flex: none;">\r\n                    <ng-container *ngFor="let colId of columnIDs">\r\n                        <label *ngIf="columnOrder[colId]" class="text-center" [ngStyle]="{ order: columnOrder[colId].order, flex: columnOrder[colId].flex }">\r\n                            {{columnOrder[colId].show}}\r\n                        </label>\r\n                    </ng-container>\r\n                    <label class="text-center" style="width: 100px; order: 99;">\r\n                        Actions\r\n                    </label>\r\n                </div>\r\n                <ng-container *ngFor="let pd of projectDirs">\r\n                    <div class="groupPanel">\r\n                        <div class="groupPanel-heading">\r\n                            <div class="groupPanel-heading-content clickable" (click)="toggleDirectory(pd)">\r\n                                <span [class]="\'glyphicon glyphicon-menu-\' + (pd.open ? \'down\' : \'right\')"></span>\r\n                                <span [class]="\'glyphicon glyphicon-folder-\' + (pd.open ? \'open\' : \'close\')" style="margin-left: 4px;"></span>\r\n                                <label class="clickable" style="margin-left: 4px;">\r\n                                    <ng-container *ngIf="pd.dir">{{pd.dir}}</ng-container>\r\n                                    <ng-container *ngIf="!pd.dir">Unclassified</ng-container>\r\n                                </label>\r\n                            </div>\r\n                            <div class="groupPanel-heading-content clickable" style="margin-left: 4px;">\r\n                                <button *ngIf="pd.dir" class="close" (click)="renameDirectory(pd.dir)" title="Rename directory" style="font-size: 12px;">\r\n                                    <span class="glyphicon glyphicon-pencil"></span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    \r\n                        <div class="groupPanel-body">\r\n                            <ng-container *ngIf="pd.open">\r\n                                <div *ngFor="let p of pd.projects" class="listItem project-row">\r\n                                    <div *ngIf="columnOrder[\'name\']" class="text-center ellipsable" [ngStyle]="{ order: columnOrder[\'name\'].order, flex: columnOrder[\'name\'].flex }">\r\n                                        {{p.getName()}}\r\n                                    </div>\r\n                                    <div *ngIf="columnOrder[\'name\']" class="text-center" [ngStyle]="{ order: columnOrder[\'open\'].order, flex: columnOrder[\'open\'].flex }">\r\n                                        <button class="btn btn-default btn-sm" [ngClass]="{active: p.isOpen()}" style="line-height: 1" \r\n                                            (click)="openOrCloseProject(p)">\r\n                                            <img *ngIf="!p.isOpen()" src="'+n(812)+'">\r\n                                            <img *ngIf="p.isOpen()" src="'+n(811)+'">\r\n                                        </button>\r\n                                    </div>\r\n                                    <div *ngIf="columnOrder[\'accessed\']" class="text-center" [ngStyle]="{ order: columnOrder[\'accessed\'].order, flex: columnOrder[\'accessed\'].flex }">\r\n                                        <input type="radio" name="projRadioGrp" [value]="p.getName()" (click)="activateProject(p)" [checked]="isWorkingProject(p)" [disabled]="!p.isOpen()"/>\r\n                                    </div>\r\n                                    <div *ngIf="columnOrder[\'model\']" class="text-center" [ngStyle]="{ order: columnOrder[\'model\'].order, flex: columnOrder[\'model\'].flex }">\r\n                                        {{p.getModelType(true)}}\r\n                                    </div>\r\n                                    <div *ngIf="columnOrder[\'lexicalization\']" class="text-center" [ngStyle]="{ order: columnOrder[\'lexicalization\'].order, flex: columnOrder[\'lexicalization\'].flex }">\r\n                                        {{p.getLexicalizationModelType(true)}}\r\n                                    </div>\r\n                                    <div *ngIf="columnOrder[\'history\']" class="text-center" [ngStyle]="{ order: columnOrder[\'history\'].order, flex: columnOrder[\'history\'].flex }">\r\n                                        <span *ngIf="p.isHistoryEnabled()" class="glyphicon glyphicon-ok" style="color: green" title="History enabled"></span>\r\n                                        <span *ngIf="!p.isHistoryEnabled()" class="glyphicon glyphicon-remove" style="color: darkred" title="History disabled"></span>\r\n                                    </div>\r\n                                    <div *ngIf="columnOrder[\'validation\']" class="text-center" [ngStyle]="{ order: columnOrder[\'validation\'].order, flex: columnOrder[\'validation\'].flex }">\r\n                                        <span *ngIf="p.isValidationEnabled()" class="glyphicon glyphicon-ok" style="color: green" title="Validation enabled"></span>\r\n                                        <span *ngIf="!p.isValidationEnabled()" class="glyphicon glyphicon-remove" style="color: darkred" title="Validation disabled"></span>\r\n                                    </div>\r\n                                    <div *ngIf="columnOrder[\'location\']" class="text-center" [ngStyle]="{ order: columnOrder[\'location\'].order, flex: columnOrder[\'location\'].flex }">\r\n                                        {{p.getRepositoryLocation().location}}\r\n                                        <span *ngIf="p.isRepositoryRemote()" class="glyphicon glyphicon-map-marker" [title]="p.getRepositoryLocation().serverURL"></span>\r\n                                    </div>\r\n                                    <div class="text-center" style="width: 100px; order: 99;">\r\n                                        <div class="hbox" style="justify-content: center;">\r\n                                            <button class="btn btn-xs btn-default" (click)="deleteProject(p)" style="margin-left: 10px;">\r\n                                                <span class="glyphicon glyphicon-trash"></span>\r\n                                            </button>\r\n                                            <div class="dropdown pull-right">\r\n                                                <button class="dropdown-toggle transparentBtn" data-toggle="dropdown">\r\n                                                    <span>&#9662;</span>\r\n                                                </button>\r\n                                                <ul class="dropdown-menu">\r\n                                                    <li><a (click)="editDirectory(p, pd.dir)">Change directory</a></li>\r\n                                                    <li><a (click)="editACL(p)">Edit ACL</a></li>\r\n                                                    <li *ngIf="p.isRepositoryRemote()"><a (click)="editRemoteRepoCredential(p)">Edit Remote Repo configuration</a></li>\r\n                                                    <li><a (click)="editDescription(p)">Edit description</a></li>\r\n                                                    <li role="separator" class="divider"></li>\r\n                                                    <li><a (click)="openPropertyModal(p)">Properties</a></li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf="visualizationMode == \'list\'">\r\n                \x3c!-- 3px is the same padding applied to the rows (of the listItem class) --\x3e\r\n                <div class="hbox" style="padding: 7px 3px; flex: none;">\r\n                    <ng-container *ngFor="let colId of columnIDs">\r\n                        <label *ngIf="columnOrder[colId]" class="text-center" [ngStyle]="{ order: columnOrder[colId].order, flex: columnOrder[colId].flex }">\r\n                            {{columnOrder[colId].show}}\r\n                        </label>\r\n                    </ng-container>\r\n                    <label class="text-center" style="width: 100px; order: 99;">\r\n                        Actions\r\n                    </label>\r\n                </div>\r\n                <div>\r\n                    <div *ngFor="let p of projectList" class="listItem project-row">\r\n                        <div *ngIf="columnOrder[\'name\']" class="text-center ellipsable" [ngStyle]="{ order: columnOrder[\'name\'].order, flex: columnOrder[\'name\'].flex }">\r\n                            {{p.getName()}}\r\n                        </div>\r\n                        <div *ngIf="columnOrder[\'name\']" class="text-center" [ngStyle]="{ order: columnOrder[\'open\'].order, flex: columnOrder[\'open\'].flex }">\r\n                            <button class="btn btn-default btn-sm" [ngClass]="{active: p.isOpen()}" style="line-height: 1" \r\n                                (click)="openOrCloseProject(p)">\r\n                                <img *ngIf="!p.isOpen()" src="'+n(812)+'">\r\n                                <img *ngIf="p.isOpen()" src="'+n(811)+'">\r\n                            </button>\r\n                        </div>\r\n                        <div *ngIf="columnOrder[\'accessed\']" class="text-center" [ngStyle]="{ order: columnOrder[\'accessed\'].order, flex: columnOrder[\'accessed\'].flex }">\r\n                            <input type="radio" name="projRadioGrp" [value]="p.getName()" (click)="activateProject(p)" [checked]="isWorkingProject(p)" [disabled]="!p.isOpen()"/>\r\n                        </div>\r\n                        <div *ngIf="columnOrder[\'model\']" class="text-center" [ngStyle]="{ order: columnOrder[\'model\'].order, flex: columnOrder[\'model\'].flex }">\r\n                            {{p.getModelType(true)}}\r\n                        </div>\r\n                        <div *ngIf="columnOrder[\'lexicalization\']" class="text-center" [ngStyle]="{ order: columnOrder[\'lexicalization\'].order, flex: columnOrder[\'lexicalization\'].flex }">\r\n                            {{p.getLexicalizationModelType(true)}}\r\n                        </div>\r\n                        <div *ngIf="columnOrder[\'history\']" class="text-center" [ngStyle]="{ order: columnOrder[\'history\'].order, flex: columnOrder[\'history\'].flex }">\r\n                            <span *ngIf="p.isHistoryEnabled()" class="glyphicon glyphicon-ok" style="color: green" title="History enabled"></span>\r\n                            <span *ngIf="!p.isHistoryEnabled()" class="glyphicon glyphicon-remove" style="color: darkred" title="History disabled"></span>\r\n                        </div>\r\n                        <div *ngIf="columnOrder[\'validation\']" class="text-center" [ngStyle]="{ order: columnOrder[\'validation\'].order, flex: columnOrder[\'validation\'].flex }">\r\n                            <span *ngIf="p.isValidationEnabled()" class="glyphicon glyphicon-ok" style="color: green" title="Validation enabled"></span>\r\n                            <span *ngIf="!p.isValidationEnabled()" class="glyphicon glyphicon-remove" style="color: darkred" title="Validation disabled"></span>\r\n                        </div>\r\n                        <div *ngIf="columnOrder[\'location\']" class="text-center" [ngStyle]="{ order: columnOrder[\'location\'].order, flex: columnOrder[\'location\'].flex }">\r\n                            {{p.getRepositoryLocation().location}}\r\n                            <span *ngIf="p.isRepositoryRemote()" class="glyphicon glyphicon-map-marker" [title]="p.getRepositoryLocation().serverURL"></span>\r\n                        </div>\r\n                        <div class="text-center" style="width: 100px; order: 99;">\r\n                            <div class="hbox" style="justify-content: center;">\r\n                                <button class="btn btn-xs btn-default" (click)="deleteProject(p)" style="margin-left: 10px;">\r\n                                    <span class="glyphicon glyphicon-trash"></span>\r\n                                </button>\r\n                                <div class="dropdown pull-right">\r\n                                    <button class="dropdown-toggle transparentBtn" data-toggle="dropdown">\r\n                                        <span>&#9662;</span>\r\n                                    </button>\r\n                                    <ul class="dropdown-menu">\r\n                                        <li><a (click)="editDirectory(p, pd.dir)">Change directory</a></li>\r\n                                        <li><a (click)="editACL(p)">Edit ACL</a></li>\r\n                                        <li *ngIf="p.isRepositoryRemote()"><a (click)="editRemoteRepoCredential(p)">Edit Remote Repo configuration</a></li>\r\n                                        <li><a (click)="editDescription(p)">Edit description</a></li>\r\n                                        <li role="separator" class="divider"></li>\r\n                                        <li><a (click)="openPropertyModal(p)">Properties</a></li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Project Directory</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox" style="align-items: center;">\r\n        <label style="white-space: nowrap;">Directory name:</label>\r\n        <input class="form-control input-sm" style="margin-left: 4px;" [(ngModel)]="dirName">\r\n        <span class="glyphicon glyphicon-info-sign" style="margin-left: 4px;" title="If left empty the project will be removed from the directory and set as \'Unclassified\'"></span>\r\n    </div>\r\n\r\n    <div class="panel panel-default" style="margin-top: 6px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">All directories</label>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngFor="let dir of directories" class="listItem" (click)="dirName = dir">\r\n                {{dir}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Projects list</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 100px;">\r\n    <div class="panel panel-default vbox" style="margin-left: 5px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Projects</label>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">\r\n                    <span class="glyphicon glyphicon-cog"></span>\r\n                </button>\r\n                <ul class="dropdown-menu pull-right">\r\n                    <li class="dropdown-header">Top level elements</li>\r\n                    <li>\r\n                        <a (click)="changeVisualizationMode(\'list\')">\r\n                            Projects\r\n                            <span *ngIf="visualizationMode == \'list\'" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <a (click)="changeVisualizationMode(\'dir\')">\r\n                            Directories\r\n                            <span *ngIf="visualizationMode == \'dir\'" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            \r\n            <table *ngIf="visualizationMode == \'list\'" class="table table-condensed table-hoverable table-borderless">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center">Project Name</th>\r\n                        <th class="text-center">Model</th>\r\n                        <th class="text-center">Lexicalization</th>\r\n                        <th class="text-center">History</th>\r\n                        <th class="text-center">Validation</th>\r\n                        <th class="text-center">Repo Location</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let p of projectList" [ngClass]="{ info : selectedProject == p }" (click)="selectedProject = p">\r\n                        <td class="text-center ellipsable">{{p.getName()}}</td>\r\n                        <td class="text-center">{{p.getModelType(true)}}</td>\r\n                        <td class="text-center">{{p.getLexicalizationModelType(true)}}</td>\r\n                        <td class="text-center">\r\n                            <span *ngIf="p.isHistoryEnabled()" class="glyphicon glyphicon-ok" style="color: green" title="History enabled"></span>\r\n                            <span *ngIf="!p.isHistoryEnabled()" class="glyphicon glyphicon-remove" style="color: darkred" title="History disabled"></span>\r\n                        </td>\r\n                        <td class="text-center">\r\n                            <span *ngIf="p.isValidationEnabled()" class="glyphicon glyphicon-ok" style="color: green" title="Validation enabled"></span>\r\n                            <span *ngIf="!p.isValidationEnabled()" class="glyphicon glyphicon-remove" style="color: darkred" title="Validation disabled"></span>\r\n                        </td>\r\n                        <td class="text-center">{{p.getRepositoryLocation().location}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n\r\n            <ng-container *ngIf="visualizationMode == \'dir\'">\r\n                \x3c!-- 7px applies the same paddings applied to the rows, namely the padding sum of listItem (3px) and groupPanel-body (4px) --\x3e\r\n                <div class="hbox" style="padding: 7px 7px 0px; flex: none;">\r\n                    <label class="text-center" style="flex: 3">Project Name</label>\r\n                    <label class="text-center" style="flex: 1">Model</label>\r\n                    <label class="text-center" style="flex: 1">Lexicalization</label>\r\n                    <label class="text-center" style="flex: 1">History</label>\r\n                    <label class="text-center" style="flex: 1">Validation</label>\r\n                    <label class="text-center" style="flex: 2">Repo Location</label>\r\n                </div>\r\n                <ng-container *ngFor="let pd of projectDirs">\r\n                    <div class="groupPanel">\r\n                        <div class="groupPanel-heading">\r\n                            <div class="groupPanel-heading-content clickable" (click)="toggleDirectory(pd)">\r\n                                <span [class]="\'glyphicon glyphicon-menu-\' + (pd.open ? \'down\' : \'right\')"></span>\r\n                                <span [class]="\'glyphicon glyphicon-folder-\' + (pd.open ? \'open\' : \'close\')" style="margin-left: 4px;"></span>\r\n                                <label class="clickable" style="margin-left: 4px;">\r\n                                    <ng-container *ngIf="pd.dir">{{pd.dir}}</ng-container>\r\n                                    <ng-container *ngIf="!pd.dir">Unclassified</ng-container>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    \r\n                        <div class="groupPanel-body">\r\n                            <ng-container *ngIf="pd.open">\r\n                                <div *ngFor="let p of pd.projects" class="listItem project-row" [ngClass]="{ active : selectedProject == p }" (click)="selectedProject = p">\r\n                                    <div class="text-center ellipsable" style="flex: 3">\r\n                                        {{p.getName()}}\r\n                                    </div>\r\n                                    <div class="text-center" style="flex: 1">\r\n                                        {{p.getModelType(true)}}\r\n                                    </div>\r\n                                    <div class="text-center" style="flex: 1">\r\n                                        {{p.getLexicalizationModelType(true)}}\r\n                                    </div>\r\n                                    <div class="text-center" style="flex: 1">\r\n                                        <span *ngIf="p.isHistoryEnabled()" class="glyphicon glyphicon-ok" style="color: green" title="History enabled"></span>\r\n                                        <span *ngIf="!p.isHistoryEnabled()" class="glyphicon glyphicon-remove" style="color: darkred" title="History disabled"></span>\r\n                                    </div>\r\n                                    <div class="text-center" style="flex: 1">\r\n                                        <span *ngIf="p.isValidationEnabled()" class="glyphicon glyphicon-ok" style="color: green" title="Validation enabled"></span>\r\n                                        <span *ngIf="!p.isValidationEnabled()" class="glyphicon glyphicon-remove" style="color: darkred" title="Validation disabled"></span>\r\n                                    </div>\r\n                                    <div class="text-center" style="flex: 2">\r\n                                        {{p.getRepositoryLocation().location}}\r\n                                    </div>\r\n                                </div>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n            </ng-container>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedProject">Access</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Close</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Project properties ({{context.project.getName()}})</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div class="scrollableContainer" style="border: 1px solid #ddd">\r\n        <table class="table table-condensed table-hoverable" style="flex: 1">\r\n            <thead>\r\n                <tr>\r\n                    <th class="text-center">Property</th>\r\n                    <th class="text-center">Value</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let p of propertyList">\r\n                    <td>\r\n                        {{p.name}}\r\n                    </td>\r\n                    <td>\r\n                        {{p.value}}\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Project view settings</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox" style="align-items: center;">\r\n        <label style="white-space: nowrap; margin-right: 4px;">Top level elements:</label>\r\n        <select class="form-control input-sm" [(ngModel)]="selectedVisualizationMode">\r\n            <option *ngFor="let m of visualizationModes" [ngValue]="m">{{m.show}}</option>\r\n        </select>\r\n    </div>\r\n\r\n    <div class="panel panel-default" style="margin-top: 6px;">\r\n        <div class="panel-heading">\r\n            <label>Project info</label>\r\n            <label style="flex: 1"></label>\r\n            <div class="btn-group btn-group-xs" style="margin-right: 4px;">\r\n                <button class="btn btn-default" (click)="moveUp()" title="Move up"\r\n                    [disabled]="!selectedColumn || columns.indexOf(selectedColumn) == 0">\r\n                    <span class="glyphicon glyphicon-chevron-up"></span>\r\n                </button>\r\n                <button class="btn btn-default" (click)="moveDown()" title="Move down"\r\n                    [disabled]="!selectedColumn || columns[columns.length-1] == selectedColumn">\r\n                    <span class="glyphicon glyphicon-chevron-down"></span>\r\n                </button>\r\n            </div>\r\n            <button class="btn btn-xs btn-default" (click)="reset()" title="Restore default">\r\n                <span class="glyphicon glyphicon-repeat"></span>\r\n            </button>\r\n        </div>\r\n        <div class="panel-body">\r\n\r\n            <div class="alert alert-info" style="margin-bottom: 8px;">\r\n                Here you can show or hide info about the projects and customize their order.\r\n            </div>\r\n            \r\n            <table class="table table-hoverable table-condensed table-borderless">\r\n                <thead>\r\n                    <th class="text-center">Column name</th>\r\n                    <th class="text-center">Show</th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let c of columns" [ngClass]="{ info : c == selectedColumn }" (click)="selectColumn(c)">\r\n                        <td class="text-center" [ngClass]="{ grayText : !c.show }">{{c.name}}</td>\r\n                        <td class="text-center">\r\n                            <input type="checkbox" [(ngModel)]="c.show" [disabled]="c.mandatory">\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Delete remote repositories</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="alert alert-info" style="margin-bottom: 6px;">\r\n        The following repositories was referenced by the deleted project ({{context.project.getName()}}). \r\n        Select the repositories you want to delete.\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <span style="flex: 1;"></span>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="checkAll(true)" title="Check all">\r\n                    <span class="glyphicon glyphicon-check"></span>\r\n                </button>\r\n                <button class="btn btn-default" (click)="checkAll(false)" title="Uncheck all">\r\n                    <span class="glyphicon glyphicon-unchecked"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body vbox scrollableContainer">\r\n            <table class="table table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 1%">\r\n                    <col>\r\n                    <col>\r\n                    <col>\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th class="text-center"></th>\r\n                        <th class="text-center">Repository ID</th>\r\n                        <th class="text-center">Description</th>\r\n                        <th class="text-center">Server URL</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let r of context.repositories; let i=index">\r\n                        <td class="text-center">\r\n                            <input type="checkbox" style="vertical-align: middle" [(ngModel)]="selectionList[i]">\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{r.remoteRepoSummary.repositoryId}}\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{r.description}}\r\n                        </td>\r\n                        <td class="text-center">\r\n                            {{r.remoteRepoSummary.serverURL}}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Delete remote repositories</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="alert alert-danger" style="margin-bottom: 8px;">\r\n        {{message}}\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-body vbox scrollableContainer">\r\n\r\n            <div *ngFor="let report of failReports" class="panel panel-default" style="margin-bottom: 10px;">\r\n                <div class="panel-body">\r\n                    <table class="table table-condensed" style="table-layout: fixed;">\r\n                        <colgroup>\r\n                            <col style="width: 90px">\r\n                            <col>\r\n                        </colgroup>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td nowrap><label>Repository ID:</label></td>\r\n                                <td>{{report.repositoryID}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td nowrap><label>Reason:</label></td>\r\n                                <td>\r\n                                    {{report.exception.type}}:<br>\r\n                                    {{report.exception.message}}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><label>Stacktrace:</label></td>\r\n                                <td>\r\n                                    <div class="panel panel-default vbox">\r\n                                        <div class="panel-body">\r\n                                            <div class="stacktrace">{{report.exception.stacktrace}}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Remote repositories</h3>\r\n</div>\r\n<div class="modal-body vbox scrollableContainer">\r\n\r\n    <div *ngIf="!repoSummaries || repoSummaries.length == 0" class="alert alert-info" style="margin: 4px;">\r\n        There are no remote repositories related to this project\r\n    </div>\r\n\r\n    <div *ngFor="let repo of repoSummaries" class="panel panel-default" style="margin-bottom: 2px;">\r\n        <div class="panel-heading">\r\n            <label>{{repo.id}}:</label>\r\n            <span style="margin-left: 4px;">{{repo.description}}</span>\r\n        </div>\r\n        <div class="panel-body">\r\n            <table *ngIf="repo.remoteRepoSummary" class="table table-condensed table-borderless"> \r\n                <colgroup>\r\n                    <col style="width: 10%;">\r\n                    <col style="width: 40%;">\r\n                    <col style="width: 10%;">\r\n                    <col style="width: 40%;">\r\n                </colgroup>\r\n                <tbody>\r\n                    <tr>\r\n                        <td nowrap><label>Repository ID:</label></td>\r\n                        <td><input class="form-control input-sm" [(ngModel)]="repo.remoteRepoSummary.repositoryId" readonly></td>\r\n                        <td nowrap><label>Server URL:</label></td>\r\n                        <td><input class="form-control input-sm" [(ngModel)]="repo.remoteRepoSummary.serverURL" readonly></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><label>Username:</label></td>\r\n                        <td><input class="form-control input-sm" [(ngModel)]="repo.remoteRepoSummary.username" placeholder="username"></td>\r\n                        <td><label>Password:</label></td>\r\n                        <td><input class="form-control input-sm" [(ngModel)]="repo.remoteRepoSummary.password" placeholder="password"></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class="panel-footer hbox" style="align-items: center">\r\n            <div *ngIf="allowBatchModify" class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <div class="checkbox-inline">\r\n                        <label>\r\n                            <input type="checkbox" [(ngModel)]="repo.batch">Batch modify\r\n                        </label>\r\n                        <span class="glyphicon glyphicon-info-sign"\r\n                            title="Modifies, all at once, the access credentials of (possibly) many repositories with the same serverURL.">\r\n                        </span>\r\n                    </div>\r\n                    <div class="checkbox-inline" *ngIf="repo.batch">\r\n                        <label>\r\n                            <input type="checkbox" [(ngModel)]="repo.matchUsername">Match username\r\n                        </label>\r\n                        <span class="glyphicon glyphicon-info-sign"\r\n                            title="If checked, modifies credentials of repositories with same serverURL and username (empty \'old\' username indicates repositories with no associated username)">\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <span style="flex: 1"></span>\r\n            <button class="btn btn-default btn-xs" (click)="applyChange(repo)">Update</button>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right"><label>File</label></td>\r\n                <td><file-picker (fileChanged)="fileChangeEvent($event)" size="sm" accept=".cfg"></file-picker></td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right"><label>Name</label></td>\r\n                <td><input type="text" class="form-control" [(ngModel)]="name"></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isDataValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body hbox">\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label>Resource type</label>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngFor="let t of resourceTypes" class="listItem" [ngClass]="{ active: selectedType == t }" (click)="selectedType = t">\r\n                {{t.show}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox" style="margin-left: 6px;">\r\n        <div class="panel-heading">\r\n            <label>Pattern</label>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngFor="let p of patterns" class="listItem" [ngClass]="{ active: selectedPattern == p, grayText: p.scope == \'FACTORY\' }" (click)="selectedPattern = p">\r\n                {{p.name}}\r\n            </div>\r\n        </div>\r\n        <div class="panel-footer">\r\n            <span class="grayText pull-right">Pattern Factory-provided</span>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isDataValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Metadata Pattern</label>\r\n            <button class="btn btn-xs btn-default" (click)="showPattern()" [disabled]="!selectedPattern" title="Show pattern details">\r\n                <span class="glyphicon glyphicon-eye-open"></span>\r\n            </button>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngFor="let p of patterns" class="listItem" [ngClass]="{ active: selectedPattern == p }" (click)="selectedPattern = p">\r\n                {{p.name}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isDataValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <table class="table table-borderless table-condensed">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n            <col style="width: 1%;">\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right">\r\n                    <label>Name</label>\r\n                </td>\r\n                <td>\r\n                    <input class="form-control input-sm" [(ngModel)]="name" [disabled]="context.ref || context.readOnly">\r\n                </td>\r\n                <td title="Mandatory field">*</td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right">\r\n                    <label>Description</label>\r\n                </td>\r\n                <td>\r\n                    <textarea class="form-control input-sm" style="resize: vertical; max-height: 300px;" [(ngModel)]="description" \r\n                        [disabled]="context.readOnly">\r\n                    </textarea>\r\n                </td>\r\n                <td></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="vbox" style="margin-top: 6px;">\r\n        <ul class="nav nav-tabs" (click)="$event.preventDefault()">\r\n            <li *ngFor="let e of pearlEditors" [ngClass]="{ active : activePearlEditor == e }">\r\n                <a (click)="activePearlEditor = e">\r\n                    {{e.type}}\r\n                    <span *ngIf="e.info" class="glyphicon glyphicon-info-sign" [title]="e.info"></span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class="tab-content vbox">\r\n            <ng-container *ngFor="let e of pearlEditors">\r\n                <div *ngIf="e == activePearlEditor" class="vbox" style="position: relative;">\r\n                    <div *ngIf="e.type == \'Destruction\'" class="alert alert-warning" style="margin-bottom: 4px;">\r\n                        Please notice that when the resource is deleted, all of its outgoing triples will be automatically deleted, \r\n                        so developing a destruction pattern is only necessary in case there are other resources linked by this resource \r\n                        (and only by it) that should thus be deleted in turn (this happens, e.g., in the case of reified metadata)\r\n                    </div>\r\n                    <pearl-editor [(ngModel)]="e.code" (ngModelChange)="onPearlChanged(e)" [disabled]="context.readOnly"></pearl-editor>\r\n                    <div *ngIf="!e.validation.valid" style="position: absolute; top: 12px; right: 30px; z-index: 10;" [title]="e.validation.details">\r\n                        <span class="glyphicon glyphicon-alert" style="color: red;"></span>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isDataValid() || context.readOnly">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <div class="hbox" style="align-items: center; margin-bottom: 8px;">\r\n        <label style="white-space: nowrap;">\r\n            Name\r\n            <span class="glyphicon glyphicon-info-sign" [title]="nameTooltip"></span>\r\n        </label>\r\n        <input class="input-sm form-control" style="margin-left: 6px;" [(ngModel)]="name">\r\n    </div>\r\n\r\n    <div class="panel panel-alt vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Shared Patterns:</label>\r\n            <div class="btn-toolbar">\r\n                <div class="btn-group btn-group-xs">\r\n                    <button class="btn btn-default" title="Delete Metadata Pattern" (click)="deletePattern()"\r\n                        [disabled]="!selectedPattern || !deletePatternAuthorized">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body vbox scrollableContainer" style="min-height: 100px;">\r\n            <div *ngFor="let p of patterns" (click)="selectedPattern = p" class="listItem" [ngClass]="{ active: p == selectedPattern }">\r\n                {{p.name}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">Resource Metadata configuration:</label>\r\n    </div>\r\n    <div class="panel-body hbox">\r\n\r\n        <div class="panel panel-alt vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Metadata Patterns:</label>\r\n                <div class="btn-toolbar">\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" title="Create Metadata Pattern" (click)="createPattern()" [disabled]="!createPatternAuthorized">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Delete Metadata Pattern" (click)="deletePattern()"\r\n                            [disabled]="!selectedPattern || selectedPattern.scope == \'FACTORY\' || !deletePatternAuthorized">\r\n                            <span class="glyphicon glyphicon-minus"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Modify Metadata Pattern" (click)="editPattern()" [disabled]="!selectedPattern || !modifyPatternAuthorized">\r\n                            <span class="glyphicon glyphicon-pencil"></span>\r\n                        </button>\r\n                    </div>\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" title="Clone Metadata Pattern" (click)="clonePattern()"\r\n                            [disabled]="!selectedPattern || !createPatternAuthorized">\r\n                            <span class="glyphicon glyphicon-duplicate"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Export Metadata Pattern" (click)="exportPattern()" [disabled]="!selectedPattern">\r\n                            <span class="glyphicon glyphicon-save"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" title="Import Metadata Pattern" (click)="importPattern()" [disabled]="!createPatternAuthorized">\r\n                            <span class="glyphicon glyphicon-open"></span>\r\n                        </button>\r\n                        <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Pattern Library" [disabled]="!createPatternAuthorized">\r\n                            <span class="glyphicon glyphicon-book"></span>\r\n                        </button>\r\n                        <ul class="dropdown-menu pull-right">\r\n                            <li><a (click)="importPatternFromLibrary()">Import Pattern from shared library</a></li>\r\n                            <li [ngClass]="{ disabled: !selectedPattern || selectedPattern.scope == \'FACTORY\' }">\r\n                                <a (click)="storePatternInLibrary()">Store Pattern in shared library</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body vbox scrollableContainer">\r\n                <div *ngFor="let p of patterns" (click)="selectedPattern = p" class="listItem" [ngClass]="{ active: p == selectedPattern, grayText: p.scope == \'FACTORY\' }">\r\n                    {{p.name}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-alt vbox" style="margin-left: 6px;">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Pattern Associations:</label>\r\n                <div class="btn-group btn-group-xs">\r\n                    <button class="btn btn-default" title="Create Pattern Association" (click)="createAssociation()" [disabled]="!createAssociationAuthorized">\r\n                        <span class="glyphicon glyphicon-plus"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" title="Delete Pattern Association" (click)="deleteAssociation()" [disabled]="!selectedAssociation || !deleteAssociationAuthorized">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body vbox scrollableContainer">\r\n                <table class="table table-condensed table-borderless table-hoverable">\r\n                    <thead style="border-bottom: 1px solid #ddd;">\r\n                        <tr>\r\n                            <th>Resource type</th>\r\n                            <th>Pattern ID</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor="let a of associations" (click)="selectedAssociation = a" [ngClass]="{ info: a == selectedAssociation }">\r\n                            <td>{{a.roleLabel}}</td>\r\n                            <td [ngClass]="{grayText: a.pattern.scope == \'FACTORY\'}">{{a.pattern.name}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <div class="panel-footer">\r\n        <span class="grayText pull-right">Pattern Factory-provided</span>\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">ResourceView settings</h3>\r\n</div>\r\n<div class="modal-body scrollableContainer">\r\n\r\n    <res-view-pref></res-view-pref>\r\n\r\n    <lang-value-filter-pref style="margin-top: 8px;"></lang-value-filter-pref>\r\n    \r\n    <div class="panel panel-default" style="margin-top: 8px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">ResourceView template</label>\r\n            <div class="btn-toolbar" role="toolbar">\r\n                <div class="btn-group btn-group-xs">\r\n                    <button class="btn btn-default" (click)="storeTemplate()" title="Store template">\r\n                        <span class="glyphicon glyphicon-floppy-save"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" (click)="loadTemplate()" title="Load template">\r\n                        <span class="glyphicon glyphicon-floppy-open"></span>\r\n                    </button>\r\n                </div>\r\n                <div class="btn-group btn-group-xs">\r\n                    <div class="btn-group">\r\n                        <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown">\r\n                            Defaults\r\n                            <span class="caret"></span>\r\n                        </button>\r\n                        <ul class="dropdown-menu pull-right">\r\n                            <li>\r\n                                <a (click)="setUserDefault()">\r\n                                    Set this configuration as default for all projects\r\n                                </a>\r\n                            </li>\r\n                            <li>\r\n                                <a (click)="restoreDefault()">\r\n                                    Restore the default configuration\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n            <div class="alert alert-info" role="alert" style="margin-bottom: 5px;">\r\n                Here you can customize the ResourceView by showing/hiding the partitions.\r\n            </div>\r\n            <partition-filter-editor [(ngModel)]="template" (ngModelChange)="updateTemplate()"></partition-filter-editor>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox blockingDivHost">\r\n    <div class="panel-heading">\r\n        <rdf-resource style="flex: 1;" [resource]="resource"></rdf-resource>\r\n        <button class="btn btn-xs btn-default" (click)="initDescription()" title="Refresh">\r\n            <span class="glyphicon glyphicon-refresh"></span>\r\n        </button>\r\n    </div>\r\n    <div class="panel-body vbox">\r\n        <ntriple-editor [(ngModel)]="description" (ngModelChange)="onDescriptionChange()" [disabled]="!editAuthorized"></ntriple-editor>\r\n    </div>\r\n    <div class="panel-footer" style="min-height: 31px;">\r\n        <button class="btn btn-xs btn-default pull-right" (click)="applyChanges()" [disabled]="!isApplyEnabled()">\r\n            Apply changes\r\n            <span *ngIf="validationEnabled" class="glyphicon glyphicon-warning-sign" style="margin-left: 4px;" \r\n                title="the Code view tab has been disabled as this resource - or part of its description - is under validation"></span>\r\n        </button>\r\n    </div>\r\n\r\n    <div #blockDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n    <resource-view-editor *ngIf="activeView == \'resourceView\'" [resource]="resource" (dblclickObj)="onObjectDblClick($event)" (update)="onResourceUpdate($event)"></resource-view-editor>\r\n    <term-view *ngIf="activeView == \'termView\'" [resource]="resource" (update)="onResourceUpdate($event)"></term-view>\r\n    <resource-triple-editor *ngIf="activeView == \'sourceCode\'" [resource]="resource" (update)="onResourceUpdate($event)"></resource-triple-editor>\r\n</div>\r\n<ul class="nav nav-tabs-bottom" *ngIf="rViews.length > 1">\r\n    <li *ngFor="let v of rViews" [ngClass]="{ active: v.type == activeView }">\r\n        <a (click)="changeView(v.type)">{{v.show}}</a>\r\n    </li>\r\n</ul>'},function(e,t,n){e.exports='<div class="groupPanel">\r\n    <div class="groupPanel-heading">\r\n        <div class="expandCollapseBtnContainer groupPanel-heading-content" style="margin: 0px">\r\n            <img src="'+n(49)+'" (click)="partitionCollapsed = !partitionCollapsed"\r\n                [ngClass]="{\'arrow-right\': partitionCollapsed}">\r\n        </div>\r\n        <span style="flex: 1">\r\n            <label class="groupPanel-heading-content">{{label}}:</label>\r\n        </span>\r\n        <span class="groupPanel-heading-content groupPanel-add-btn dropdown pull-right">\r\n            <button class="dropdown-toggle resViewPartitionAddBtn" data-toggle="dropdown" [title]="addBtnImgTitle" [disabled]="addDisabled">\r\n                <img [src]="addBtnImgSrc"/>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li><a (click)="importFromWeb()">Add import from Web</a></li>\r\n                <li><a (click)="importFromWebToMirror()">Add import from Web to mirror</a></li>\r\n                <li><a (click)="importFromLocalFile()">Add import from Local file</a></li>\r\n                <li><a (click)="importFromOntologyMirror()">Add import from Ontology mirror</a></li>\r\n                <li><a (click)="importFromDatasetCatalog()">Add import from Dataset Catalog</a></li>\r\n            </ul>\r\n        </span>\r\n    </div>\r\n\r\n    <div class="groupPanel-body">\r\n        <ng-template [ngIf]="!partitionCollapsed">\r\n            <div class="panel panel-alt" *ngFor="let po of predicateObjectList" style="margin-bottom: 4px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">{{po.getPredicate().getShow()}}</label>\r\n                    <div class="btn-group pull-right">\r\n                        <button class="btn btn-xs btn-default dropdown-toggle predObjRenderPanelBtn" style="padding: 3px 6px;"\r\n                            data-toggle="dropdown" title="Add import" [disabled]="addDisabled">\r\n                            <span class="glyphicon glyphicon-plus" style="font-size: 9px;"></span>\r\n                        </button>\r\n                        <ul class="dropdown-menu">\r\n                            <li><a (click)="importFromWeb()">Add import from Web</a></li>\r\n                            <li><a (click)="importFromWebToMirror()">Add import from Web to mirror</a></li>\r\n                            <li><a (click)="importFromLocalFile()">Add import from Local file</a></li>\r\n                            <li><a (click)="importFromOntologyMirror()">Add import from Ontology mirror</a></li>\r\n                            <li><a (click)="importFromDatasetCatalog()">Add import from Dataset Catalog</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <ng-container *ngFor="let obj of po.getObjects()">\r\n                        <resview-value-renderer\r\n                            [subject]="resource" [predicate]="po.getPredicate()" [object]="obj" [rendering]="rendering" \r\n                            [readonly]="readonly" [partition]="partition"\r\n                            (dblClick)="objectDblClick(obj)" (link)="onDblClick($event)"\r\n                            (delete)="removePredicateObject(po.getPredicate(), obj)" \r\n                            (edit)="editHandler(po.getPredicate(), obj)" (update)="onObjectUpdate()">\r\n                        </resview-value-renderer>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="groupPanel">\r\n    \r\n    <div class="groupPanel-heading">\r\n        <div class="expandCollapseBtnContainer groupPanel-heading-content" style="margin: 0px">\r\n            <img src="'+n(49)+'" (click)="partitionCollapsed = !partitionCollapsed"\r\n                [ngClass]="{\'arrow-right\': partitionCollapsed}">\r\n        </div>\r\n        <span style="flex: 1">\r\n            <label class="groupPanel-heading-content">{{label}}:</label>\r\n        </span>\r\n        <span class="groupPanel-heading-content groupPanel-add-btn dropdown pull-right">\r\n            <button class="dropdown-toggle resViewPartitionAddBtn" data-toggle="dropdown" [title]="addBtnImgTitle" [disabled]="addDisabled">\r\n                <img [src]="addBtnImgSrc"/>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li><a (click)="addFirst()">Add first</a></li>\r\n                <li><a (click)="addLast()">Add last</a></li>\r\n                <li [ngClass]="{disabled : !selectedMember}"><a (click)="addBefore()">Add before the selected member</a></li>\r\n                <li [ngClass]="{disabled : !selectedMember}"><a (click)="addAfter()">Add after the selected member</a></li>\r\n            </ul>\r\n        </span>\r\n    </div>\r\n\r\n    <div class="groupPanel-body">\r\n        <ng-template [ngIf]="!partitionCollapsed">\r\n            <div class="panel panel-alt" *ngFor="let po of predicateObjectList" style="margin-bottom: 4px;">\r\n                <div class="panel-heading">\r\n                    <label>{{po.getPredicate().getShow()}}</label>\r\n                </div>\r\n                <div class="panel-body">\r\n                    <ng-container *ngFor="let obj of po.getObjects()">\r\n                        \x3c!-- Member list --\x3e\r\n                        <resview-value-renderer\r\n                            [subject]="resource" [predicate]="po.getPredicate()" [object]="obj" [rendering]="rendering" \r\n                            [readonly]="readonly" [partition]="partition"\r\n                            (dblClick)="objectDblClick(obj)" (link)="onDblClick($event)"\r\n                            (delete)="removePredicateObject(po.getPredicate(), obj)"\r\n                            (edit)="editHandler(po.getPredicate(), obj)" (update)="onObjectUpdate()">\r\n                        </resview-value-renderer>\r\n                        \r\n                        <div class="panel panel-alt">\r\n                            <div class="panel-heading">\r\n                                <label style="flex: 1">Members</label>\r\n                                <div class="btn-group pull-right">\r\n                                    <button class="btn btn-xs btn-default dropdown-toggle predObjRenderPanelBtn" style="padding: 3px 6px;"\r\n                                        data-toggle="dropdown" title="Add member" [disabled]="addDisabled">\r\n                                        <span class="glyphicon glyphicon-plus" style="font-size: 9px;"></span>\r\n                                    </button>\r\n                                    <ul class="dropdown-menu">\r\n                                        <li><a (click)="addFirst(po.getPredicate())">Add first</a></li>\r\n                                        <li><a (click)="addLast(po.getPredicate())">Add last</a></li>\r\n                                        <li [ngClass]="{disabled : !selectedMember}"><a (click)="addBefore(po.getPredicate())">Add before the selected member</a></li>\r\n                                        <li [ngClass]="{disabled : !selectedMember}"><a (click)="addAfter(po.getPredicate())">Add after the selected member</a></li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                            <div class="panel-body">\r\n                                <div *ngFor="let memb of obj.members" class="listItem" (click)="selectMember(memb)"\r\n                                    [ngClass]="{active: memb == selectedMember}">\r\n                                    <editable-resource style="flex: 1" [resource]="memb" [rendering]="rendering"\r\n                                        [subject]="obj" [predicate]="membersProperty" [readonly]="readonly" [partition]="partition" \r\n                                        (dblClick)="objectDblClick(memb)" (delete)="removeMember(memb)" (update)="onObjectUpdate()">\r\n                                    </editable-resource>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="groupPanel">\r\n\r\n    <div class="groupPanel-heading">\r\n        <div class="expandCollapseBtnContainer groupPanel-heading-content" style="margin: 0px">\r\n            <img src="'+n(49)+'" (click)="partitionCollapsed = !partitionCollapsed"\r\n                [ngClass]="{\'arrow-right\': partitionCollapsed}">\r\n        </div>\r\n        <span style="flex: 1">\r\n            <label class="groupPanel-heading-content">{{label}}:</label>\r\n        </span>\r\n        <span class="groupPanel-heading-content groupPanel-add-btn">\r\n            <button class="resViewPartitionAddBtn" (click)="addHandler(null, \'default\')" [title]="addBtnImgTitle" [disabled]="addDisabled">\r\n                <img [src]="addBtnImgSrc"/>\r\n            </button>\r\n            <div *ngIf="addManuallyAllowed" class="btn-group" style="vertical-align: initial;">\r\n                <button class="transparentBtn" style="width: 12px; padding-right: 2px;" data-toggle="dropdown">\r\n                    <span class="caret" style="margin: 0px;"></span>\r\n                </button>\r\n                <ul class="dropdown-menu pull-right">\r\n                    <li [ngClass]="{ disabled: addDisabled }"><a (click)="addManually()">Add value manually</a></li>\r\n                    <li *ngIf="addExteranlResourceAllowed" [ngClass]="{ disabled: addDisabled }">\r\n                        <a (click)="addExternalValue()">Add value from another project</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </span>\r\n    </div>\r\n\r\n    <div class="groupPanel-body">\r\n        <ng-template [ngIf]="!partitionCollapsed">\r\n            <div class="hbox" style="padding: 0px 6px;">\r\n                <div *ngFor="let f of facets" class="checkbox-inline" style="flex: 1; margin: 6px 0px;">\r\n                    <label style="font-weight: initial;">\r\n                        <input type="checkbox" [(ngModel)]="f.value" [disabled]="isChangeFacetDisabled(f)" (change)="changeFacet(f)">\r\n                        {{f.name}}\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <ng-template ngFor let-po [ngForOf]="predicateObjectList">\r\n                <pred-obj-renderer *ngIf="po.getObjects().length > 0"\r\n                    [pred-obj]="po" [resource]="resource" [rendering]="rendering"\r\n                    [readonly]="readonly" [partition]="partition" (dblclickObj)="objectDblClick($event)"\r\n                    (add)="addHandler(po.getPredicate(), $event)" (remove)="removeHandler(po.getPredicate(), $event)"\r\n                    (edit)="editHandler(po.getPredicate(), $event)">\r\n               </pred-obj-renderer>\r\n            </ng-template>\r\n        </ng-template>\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="panel panel-alt">\r\n    \r\n    <div class="panel-heading">\r\n        <label style="flex: 1">{{predicateObjects.getPredicate().getShow()}}</label>\r\n        <div class="btn-group">\r\n            <button class="btn btn-xs btn-default predObjRenderPanelBtn" style="padding: 3px 6px;" (click)="addValue()"\r\n                [title]="actionAddTitle" [disabled]="addDisabled">\r\n                <span class="glyphicon glyphicon-plus" style="font-size: 9px;"></span>\r\n            </button>\r\n            <button class="btn btn-xs btn-default dropdown-toggle predObjRenderPanelBtn" style="padding: 3px;" data-toggle="dropdown"\r\n                [disabled]="actionMenuDisabled">\r\n                <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu pull-right">\r\n                <li *ngIf="addManuallyAllowed" [ngClass]="{ disabled: addDisabled }">\r\n                    <a (click)="addManually()">Add value manually</a>\r\n                </li>\r\n                <li *ngIf="addExteranlResourceAllowed" [ngClass]="{ disabled: addDisabled }">\r\n                    <a (click)="addExternalValue()">Add value from another project</a>\r\n                </li>\r\n                <li [ngClass]="{ disabled: deleteAllDisabled }"><a (click)="removeAllValues()">Delete all values</a></li>\r\n            </ul>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n    <div class="panel-body">\r\n\r\n        <ng-container *ngFor="let obj of predicateObjects.getObjects(); let i = index">\r\n            <resview-value-renderer *ngIf="showObject(i)"\r\n                [subject]="resource" [predicate]="predicateObjects.getPredicate()" [object]="obj" [rendering]="rendering" \r\n                [readonly]="readonly" [partition]="partition"\r\n                (dblClick)="onDblClick(obj)" (link)="onDblClick($event)" (delete)="removeValue(obj)" (edit)="onEdit(obj)" \r\n                (update)="onUpdate()" (copyLocale)="onCopyLocale($event, obj)">\r\n            </resview-value-renderer>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf="showAllButton()">\r\n            <button class="btn btn-xs btn-default" style="width: 100%; color: #888; border-color: #ddd;" (click)="showAll()">\r\n                Show all...\r\n            </button>\r\n        </ng-container>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<editable-resource *ngIf="!renderAsReified(); else reifiedBlock" [ngClass]="{ clickable: object.isResource() }" style="flex: 1"\r\n    [resource]="object" [rendering]="rendering" [subject]="subject" [predicate]="predicate" [readonly]="readonly" [partition]="partition"\r\n    (dblClick)="onDblClick($event)" (link)="onLinkClick($event)" (delete)="onDelete(object)" (edit)="onEdit(object)" (update)="onUpdate()"\r\n    (copyLocale)="onCopyLocale($event)" [title]="graphTitle">\r\n</editable-resource>\r\n\r\n<ng-template #reifiedBlock>\r\n    <reified-resource [ngClass]="{ clickable: object.isResource() }" style="flex:1" [resource]="object" [predicate]="predicate"\r\n        [subject]="subject" [predicate]="predicate" [resource]="object" [rendering]="rendering" [readonly]="readonly" [partition]="partition"\r\n        (delete)="onDelete(object)" (dblClick)="onDblClick($event)">\r\n    </reified-resource>\r\n</ng-template>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">Add {{context.property.getShow()}}</h3>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change property" (click)="changeProperty()" [disabled]="!context.propChangeable">\r\n                <rdf-resource [resource]="enrichingProperty"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="hbox" style="align-items: center;">\r\n        <input id="toFocus" type="text" class="form-control input-sm" style="flex: 1;" [(ngModel)]="inputTxt" (keydown)="onKeydown($event)">\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change property" (click)="changeProperty()" [disabled]="!context.propChangeable">\r\n                <rdf-resource [resource]="enrichingProperty"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 400px;">\r\n\r\n    <div style="margin-bottom: 4px;">\r\n        <div *ngIf="showAspectSelector" class="btn-group btn-group-xs pull-right">\r\n            <button *ngFor="let selector of aspectSelectors" class="btn btn-default" [ngClass]="{active: selectedAspectSelector == selector}"\r\n                (click)="changeAspectSelector(selector)">{{selector.show}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!--Alternative views--\x3e\r\n    <div *ngIf="selectedAspectSelector == treeListAspectSelector" class="vbox">\r\n        <div  *ngIf="viewType == \'classTree\'" class="vbox">\r\n            <div *ngIf="rootsForClsTree" class="checkbox-inline" style="margin-bottom: 5px;">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="showAllClass">Show all classes\r\n                </label>\r\n            </div>\r\n            <class-tree-panel [context]="treeListCtx" [roots]="showAllClass? defaultRootClass : rootsForClsIndList" [deletable]="false" [allowMultiselection]="context.allowMultiselection"\r\n                (nodeSelected)="onResourceSelected($event)" (nodeChecked)="checkedResources = $event" (multiselectionStatus)="onMultiselectionChange($event)">\r\n            </class-tree-panel>\r\n        </div>\r\n\r\n        <concept-tree-panel *ngIf="viewType == \'conceptTree\'" [context]="treeListCtx" [deletable]="false" [schemeChangeable]="true" [schemes]="schemes" [allowMultiselection]="context.allowMultiselection"\r\n            (nodeSelected)="onResourceSelected($event)" (nodeChecked)="checkedResources = $event" (schemeChanged)="onConceptTreeSchemeChange($event)"\r\n            (multiselectionStatus)="onMultiselectionChange($event)">\r\n        </concept-tree-panel>\r\n        \r\n        <ng-template [ngIf]="viewType == \'propertyTree\'">\r\n            <property-tree-panel *ngIf="viewType == \'propertyTree\'" [context]="treeListCtx" [deletable]="false" [type]="propertyType" [allowMultiselection]="context.allowMultiselection"\r\n                (nodeSelected)="onPropertySelected($event)" (nodeChecked)="checkedResources = $event" (multiselectionStatus)="onMultiselectionChange($event)">\r\n            </property-tree-panel>\r\n            <div *ngIf="showInversePropertyCheckbox" class="checkbox" style="margin: 8px 0 0 0;">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="inverseProp" [disabled]="!isInversePropertyCheckboxEnabled()">Inverse Property\r\n                    <span *ngIf="multiselection" class="glyphicon glyphicon-exclamation-sign"\r\n                        title="In case of multiple properties selected, the \'Inverse Property\' flag is applied to all of them (available only if all for ObjectProperties)">\r\n                    </span>\r\n                </label>\r\n            </div>\r\n        </ng-template>\r\n        \r\n        <scheme-list-panel *ngIf="viewType == \'schemeList\'" [context]="treeListCtx" [deletable]="false" [allowMultiselection]="context.allowMultiselection"\r\n            (nodeSelected)="onResourceSelected($event)" (nodeChecked)="checkedResources = $event" (multiselectionStatus)="onMultiselectionChange($event)">\r\n        </scheme-list-panel>\r\n        \r\n        <datatype-list-panel *ngIf="viewType == \'datatypeList\'" [context]="treeListCtx" [full]="true" [deletable]="false"  [allowMultiselection]="context.allowMultiselection"\r\n            (nodeSelected)="onResourceSelected($event)" (nodeChecked)="checkedResources = $event" (multiselectionStatus)="onMultiselectionChange($event)">\r\n        </datatype-list-panel>\r\n        \r\n        <div *ngIf="viewType == \'classAndIndividual\'" class="vbox">\r\n            <div *ngIf="rootsForClsIndList" class="checkbox-inline" style="margin-bottom: 5px;">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="showAllClass">Show all classes\r\n                </label>\r\n            </div>\r\n            <class-individual-tree [context]="treeListCtx" [deletable]="false" [roots]="showAllClass? defaultRootClasses : rootsForClsIndList" [allowMultiselection]="context.allowMultiselection"\r\n                (nodeSelected)="onResourceSelected($event)" (nodeChecked)="checkedResources = $event" (multiselectionStatus)="onMultiselectionChange($event)">\r\n            </class-individual-tree>\r\n        </div>\r\n    </div>\r\n\r\n    <manchester-editor *ngIf="selectedAspectSelector == manchExprAspectSelector" [(ngModel)]="manchExpr" style="flex: 1; margin-top: 5px;">\r\n    </manchester-editor>\r\n\r\n    <data-range-editor *ngIf="selectedAspectSelector == dataRangeAspectSelector" [(ngModel)]="datarange">\r\n    </data-range-editor>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    \x3c!-- <h3 class="modal-title">{{context.title}}</h3> --\x3e\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span *ngIf="enrichingProperty">\r\n            <button class="btn btn-default btn-xs" title="Change property" (click)="changeProperty()" [disabled]="!context.propChangeable">\r\n                <rdf-resource [resource]="enrichingProperty"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox" style="min-height:70vh;">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td><label>Project:</label></td>\r\n                <td>\r\n                    <select class="form-control input-xs" [(ngModel)]="project" (ngModelChange)="onProjectChange()">\r\n                        <option *ngFor="let p of projectList" [ngValue]="p">{{p.getName()}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="project">\r\n                <td><label>Type:</label></td>\r\n                <td>\r\n                    <select class="form-control input-xs" [(ngModel)]="activeView" (ngModelChange)="onAlignTypeChanged()">\r\n                        <option value="cls">Class</option>\r\n                        <option value="individual">Individual</option>\r\n                        <option value="property">Property</option>\r\n                        <option *ngIf="isProjectSKOS()" value="concept">Concept</option>\r\n                        <option *ngIf="isProjectSKOS()" value="conceptScheme">ConceptScheme</option>\r\n                        <option *ngIf="isProjectSKOS()" value="skosCollection">Collection</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    \r\n    <div *ngIf="project" class="vbox">\r\n\r\n        \x3c!-- following components allow to browse external projects classes, concepts, schemes, propertyes\r\n        or individuals, and they are rendered based on the resource role --\x3e\r\n        <class-tree-panel *ngIf="activeView==\'cls\'" (nodeSelected)="onResourceSelected($event)" [editable]="false" [projectCtx]="remoteProjCtx">\r\n        </class-tree-panel>\r\n                \r\n        <concept-tree-panel *ngIf="activeView==\'concept\'" [schemeChangeable]="true" [schemes]="schemes" [editable]="false" [projectCtx]="remoteProjCtx"\r\n            (nodeSelected)="onResourceSelected($event)" (schemeChanged)="onSchemeChanged()">\r\n        </concept-tree-panel>\r\n                \r\n        <property-tree-panel *ngIf="activeView==\'property\'" [editable]="false" [projectCtx]="remoteProjCtx" (nodeSelected)="onResourceSelected($event)">\r\n        </property-tree-panel>\r\n            \r\n        <scheme-list-panel *ngIf="activeView==\'conceptScheme\'" [editable]="false" [projectCtx]="remoteProjCtx" (nodeSelected)="onResourceSelected($event)">\r\n        </scheme-list-panel>\r\n\r\n        <collection-tree-panel *ngIf="activeView==\'skosCollection\'"  [editable]="false" [projectCtx]="remoteProjCtx" (nodeSelected)="onResourceSelected($event)">\r\n        </collection-tree-panel>\r\n        \r\n        <class-individual-tree *ngIf="activeView==\'individual\'" [schemes]="schemes" [editable]="false" [projectCtx]="remoteProjCtx" (nodeSelected)="onResourceSelected($event)">\r\n        </class-individual-tree>\r\n\r\n    </div>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox">\r\n        <class-tree-panel (nodeSelected)="onTreeClassSelected($event)" [editable]="false"></class-tree-panel>\r\n\r\n        <div style="align-self: center; margin: 5px;">\r\n            <button class="btn btn-default btn-sm btn-block" style="margin-bottom: 5px;" (click)="addClassToList()" [disabled]="!selectedTreeClass">\r\n                Add<span class="glyphicon glyphicon-chevron-right"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-sm btn-block" style="margin-bottom: 5px;" (click)="removeFromList()" [disabled]="!selectedListElement">\r\n                <span class="glyphicon glyphicon-chevron-left"></span>Remove\r\n            </button>\r\n\r\n            <button class="btn btn-default btn-sm btn-block" style="margin-top: 20px;" (click)="addExpressionToList()">\r\n                Manchester...<span class="glyphicon glyphicon-chevron-right"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="scrollableContainer" style="border: 1px solid #ddd">\r\n            <div *ngFor="let c of classList">\r\n                <rdf-resource [resource]="c" class="listItem" (click)="onListElementSelected(c)" \r\n                    [ngClass]="{selectedResource : isListElementSelected(c)}">\r\n                </rdf-resource>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="duplicateResource" class="alert alert-danger" style="margin-top: 4px;" role="alert">\r\n        <strong>{{duplicateResource.getShow()}}</strong> is already in the list!\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="classList.length == 0">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox">\r\n        <lexical-entry-list-panel \r\n            [lexiconChangeable]="true" [editable]="false" [deletable]="false" (nodeSelected)="selectedConstituentSource = $event"\r\n            (lexiconChanged)="selectedConstituentSource = null" (indexChanged)="selectedConstituentSource = null">\r\n        </lexical-entry-list-panel>\r\n        \r\n        <div style="align-self: center; margin: 5px;">\r\n            <button class="btn btn-default btn-sm btn-block" style="margin-bottom: 5px;" (click)="addConstituentToList()" [disabled]="!selectedConstituentSource">\r\n                Add<span class="glyphicon glyphicon-chevron-right"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-sm btn-block" style="margin-bottom: 5px;" (click)="removeConstituentFromList()" [disabled]="!selectedConstituentTarget">\r\n                <span class="glyphicon glyphicon-chevron-left"></span>Remove\r\n            </button>\r\n        </div>\r\n        \r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <div style="flex: 1;"></div>\r\n                <div class="btn-toolbar" role="toolbar">\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default btn-xs" (click)="moveDown()" [disabled]="!ordered || !selectedConstituentTarget || isLastInList()">\r\n                            <span class="glyphicon glyphicon-chevron-down"></span>\r\n                        </button>\r\n                        <button class="btn btn-default btn-xs" (click)="moveUp()" [disabled]="!ordered || !selectedConstituentTarget || isFirstInList()">\r\n                            <span class="glyphicon glyphicon-chevron-up"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body vbox">\r\n                <resource-list [resources]="list" (nodeSelected)="selectedConstituentTarget = $event"></resource-list>\r\n            </div>\r\n            <div class="panel-footer">\r\n                <div class="checkbox-inline pull-right">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="ordered">Ordered\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="list.length == 0">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Copy value to locales</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div style="padding: 6px;">\r\n        <label>Value to copy:</label>\r\n        <rdf-resource [resource]="context.value"></rdf-resource>\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label>Target languages:</label>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngFor="let l of locales" class="listNodeItem">\r\n                <input type="checkbox" style="margin-right: 5px;" [(ngModel)]="l.checked">\r\n                <lang-item [language]="l.locale" showTag="true"></lang-item>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="isOkDisabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body">\r\n        <typed-literal-input [(ngModel)]="value" (keydown.enter)="add()"></typed-literal-input>\r\n    </div>\r\n</div>\r\n\r\n<div style="align-self: center">\r\n    <button class="btn btn-xs btn-default" style="align-self: center; margin: 4px" (click)="add()" [disabled]="!value">\r\n        Add\r\n    </button>\r\n</div>\r\n\r\n<div class="panel panel-default vbox">\r\n    <div class="panel-body scrollableContainer">\r\n        <div *ngFor="let dr of datarange" class="listItem">\r\n            <rdf-resource style="flex: 1" [resource]="dr"></rdf-resource>\r\n            <button class="btn btn-default btn-xs" (click)="remove(dr)">\r\n                <span class="glyphicon glyphicon-trash" title="Remove datarange"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Edit datarange</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div class="hbox">\r\n        <data-range-editor [(ngModel)]="datarange"></data-range-editor>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="datarange.length == 0">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<table class="table table-condensed table-borderless">\r\n    <colgroup>\r\n        <col style="width: 1%">\r\n        <col>\r\n    </colgroup>\r\n    <tbody>\r\n        <tr>\r\n            <td nowrap><label>Base</label></td>\r\n            <td>\r\n                <select class="form-control input-sm" [(ngModel)]="base" (ngModelChange)="onFacetsChange()">\r\n                    <option *ngFor="let b of baseOpts" [ngValue]="b">{{b.getShow()}}</option>\r\n                </select>\r\n            </td>\r\n        </tr>\r\n        <ng-container *ngIf="isBaseNumeric()">\r\n            <tr>\r\n                <td nowrap><label>Min</label></td>\r\n                <td>\r\n                    <div class="hbox">\r\n                        <select class="form-control input-sm" style="width: initial; margin-right: 4px;" [(ngModel)]="minIE" (ngModelChange)="onFacetsChange()">\r\n                            <option *ngFor="let ie of inclusiveExclusive">{{ie}}</option>\r\n                        </select>\r\n                        <input type="number" class="form-control input-sm" [(ngModel)]="min" (ngModelChange)="onFacetsChange()">\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Max</label></td>\r\n                <td>\r\n                    <div class="hbox">\r\n                        <select class="form-control input-sm" style="width: initial; margin-right: 4px;" [(ngModel)]="maxIE" (ngModelChange)="onFacetsChange()">\r\n                            <option *ngFor="let ie of inclusiveExclusive">{{ie}}</option>\r\n                        </select>\r\n                        <input type="number" class="form-control input-sm"[(ngModel)]="max" (ngModelChange)="onFacetsChange()">\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n        <tr>\r\n            <td nowrap><label>Pattern</label></td>\r\n            <td>\r\n                <input class="form-control input-sm" [(ngModel)]="pattern" (ngModelChange)="onFacetsChange()">\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div style="margin-bottom: 4px;">\r\n        <div class="btn-group btn-group-xs pull-right">\r\n            <button *ngFor="let a of aspectSelectors" class="btn btn-default" [ngClass]="{active: selectedAspect == a}"\r\n                (click)="selectedAspect = a">{{a}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <datatype-facets-editor *ngIf="selectedAspect == ASPECT_FACETS" [(ngModel)]="facetsDescription"></datatype-facets-editor>\r\n    <manchester-editor *ngIf="selectedAspect == ASPECT_MANCHESTER" [(ngModel)]="manchExpr" [context]="manchesterCtx"></manchester-editor>\r\n    <data-range-editor *ngIf="selectedAspect == ASPECT_ENUMERATION" [(ngModel)]="literalEnumerations"></data-range-editor>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div class="hbox">\r\n        <class-tree-panel (nodeSelected)="onTreeClassSelected($event)" [editable]="false"></class-tree-panel>\r\n        <instance-list-panel  style="margin-left: 4px;" [cls]="selectedClass" (nodeSelected)="onSourceListInstanceSelected($event)"\r\n            [editable]="false">\r\n        </instance-list-panel>\r\n        \r\n        <div style="align-self: center; margin: 5px;">\r\n            <button class="btn btn-default btn-sm btn-block" (click)="addToList()" [disabled]="!selectedSourceInstance">\r\n                Add<span class="glyphicon glyphicon-chevron-right"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-sm btn-block" (click)="removeFromList()" [disabled]="!selectedTargetInstance">\r\n                <span class="glyphicon glyphicon-chevron-left"></span>Remove\r\n            </button>\r\n        </div>\r\n\r\n        <div class="scrollableContainer" style="border: 1px solid #ddd">\r\n            <div *ngFor="let i of instanceList">\r\n                <rdf-resource [resource]="i" class="listItem" (click)="onTargetListInstanceSelected(i)" \r\n                    [ngClass]="{selectedResource : isTargetListInstanceSelected(i)}">\r\n                </rdf-resource>\r\n            </div>\r\n        </div>\r\n    </div>\r\n        \r\n    <div *ngIf="duplicateInstance" class="alert alert-danger" style="margin-top: 4px;" role="alert">\r\n        <strong>{{duplicateInstance.getShow()}}</strong> is already in the list!\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="instanceList.length == 0">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change property" (click)="changeProperty()" [disabled]="!context.propChangeable">\r\n                <rdf-resource [resource]="enrichingProperty"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox">\r\n\r\n        <div class="vbox">\r\n            <property-tree-panel [deletable]="false" [type]="\'objectProperty\'" (nodeSelected)="onPropertySelected($event)"></property-tree-panel>\r\n            <div class="checkbox" style="margin: 8px 0 0 0;">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="inverseProp" [disabled]="selectedTreeProperty?.getRole() != \'objectProperty\'">Inverse Property\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div style="align-self: center; margin: 5px;">\r\n            <button class="btn btn-default btn-sm btn-block" (click)="addPropertyToChain()" [disabled]="!selectedTreeProperty">\r\n                Add <span class="glyphicon glyphicon-chevron-right"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-sm btn-block"  (click)="removePropertyFromChain()" [disabled]="!selectedChainProperty">\r\n                <span class="glyphicon glyphicon-chevron-left"></span> Remove\r\n            </button>\r\n        </div>\r\n\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1">Property chain</label>\r\n                <div class="btn-toolbar" role="toolbar">\r\n                    <div class="btn-group btn-group-xs">\r\n                        <button class="btn btn-default" (click)="moveDown()" [disabled]="!selectedChainProperty || isSelectedPropLast()">\r\n                            <span class="glyphicon glyphicon-chevron-down"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="moveUp()" [disabled]="!selectedChainProperty || isSelectedPropFirst()">\r\n                            <span class="glyphicon glyphicon-chevron-up"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body">\r\n                <div *ngFor="let p of propChain" class="listItem" (click)="onChainPropertySelected(p)" [ngClass]="{active: selectedChainProperty == p}">\r\n                    <rdf-resource [resource]="p.property"></rdf-resource>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">Add {{context.property.getShow()}}</h3>\r\n        <div class="btn-group">\r\n            <button class="btn btn-xs btn-default" (click)="changeProperty()" [disabled]="!context.propChangeable || enrichingProperty != rootProperty">\r\n                <rdf-resource [resource]="enrichingProperty"></rdf-resource>\r\n            </button>\r\n            <div class="btn-group" role="group">\r\n                <button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown" [disabled]="!context.propChangeable">\r\n                    <span class="caret"></span>\r\n                </button>\r\n                <ul class="dropdown-menu pull-right">\r\n                    <li>\r\n                        <a (click)="enrichingProperty = rootProperty"><rdf-resource [resource]="rootProperty"></rdf-resource></a>\r\n                    </li>\r\n                    <li>\r\n                        <a (click)="enrichingProperty = rdfN"><rdf-resource [resource]="rdfN"></rdf-resource></a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div *ngIf="enrichingProperty != rootProperty && context.propChangeable" class="hbox" style="flex: initial; margin-bottom: 4px;">\r\n        <div class="hbox" style="margin-right: 6px; align-items: center;">\r\n            <label style="margin-right: 4px;">Property:</label>\r\n            <div class="input-sm input-resource" style="flex: 1;">\r\n                <rdf-resource [resource]="rdfN"></rdf-resource>\r\n            </div>\r\n        </div>\r\n        <div class="hbox" style="flex: initial; align-items: center;">\r\n            <label style="margin-right: 4px;">n:</label>\r\n            <input type="number" class="form-control input-sm" [(ngModel)]="memberN" min="0" step="1" (ngModelChange)="updateRdfNProp()">\r\n        </div>\r\n    </div>\r\n\r\n    <lexical-entry-list-panel \r\n        [lexiconChangeable]="true" [editable]="false" [deletable]="false" (nodeSelected)="selectedConstituent = $event"\r\n        (lexiconChanged)="selectedConstituent = null" (indexChanged)="selectedConstituent = null">\r\n    </lexical-entry-list-panel>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedConstituent">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<ng-container *ngIf="!editInProgress && !editLiteralInProgress && !bulkEditInProgress">\r\n\r\n    <rdf-resource *ngIf="!isImage" [resource]="resource" [rendering]="rendering" style="flex:1" (dblclick)="resourceDblClick()" (link)="onLinkClicked($event)"></rdf-resource>\r\n    <a *ngIf="isImage" [href]="resource.getURI()" target="_blank" style="flex: 1;">\r\n        <img [src]="resource.getURI()" (error)="isImage=false" style="max-height: 100px; max-width: 300px;" [title]="resource.getURI()">\r\n    </a>\r\n    \r\n    <div class="dropdown pull-right" style="align-self: flex-start;" title="Edit">\r\n        <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" [disabled]="editMenuDisabled">\r\n            <span>&#9662;</span>\r\n        </button>\r\n        <ul class="dropdown-menu">\r\n            \x3c!-- Edit menu items --\x3e\r\n\r\n            <li *ngIf="editActionScenario == \'xLabel\' || editActionScenario == \'langTaggedLiteral\' || editActionScenario == \'typedLiteral\'"\r\n                [ngClass]="{ disabled: !editAuthorized || isInferred }">\r\n                <a (click)="editLiteral()">Edit literal content</a>\r\n            </li>\r\n\r\n            <li *ngIf="editActionScenario != \'xLabel\'" [ngClass]="{ disabled: !editAuthorized || isInferred }">\r\n                <a (click)="edit()">Edit</a>\r\n            </li>\r\n\r\n            <li *ngIf="isBulkActionMenuItemAvailable" [ngClass]="{ disabled: !bulkEditAuthorized }"\r\n                title="Update the value for every resource that has this predicate-value relation">\r\n                <a (click)="bulkEdit()">Bulk edit</a>\r\n            </li>\r\n\r\n            <li *ngIf="isReplaceMenuItemAvailable" [ngClass]="{ disabled: !editAuthorized || isInferred }">\r\n                <a (click)="replace()">Replace with existing resource</a>\r\n            </li>\r\n            <ng-container *ngIf="isXLabelMenuItemAvailable">\r\n                <li [ngClass]="{ disabled: !spawnFromLabelAuthorized || isInferred }">\r\n                    <a (click)="spawnNewConceptWithLabel()">Spawn new concept from this xLabel</a>\r\n                </li>\r\n                <li [ngClass]="{ disabled: !moveLabelAuthorized || isInferred }">\r\n                    <a (click)="moveLabelToConcept()">Move xLabel to another concept</a>\r\n                </li>\r\n            </ng-container>\r\n\r\n            <li *ngIf="copyLocalesAction.available" [ngClass]="{ disabled: !copyLocalesAuthorized }">\r\n                <a (click)="copyLocales()">Copy value to other locales</a>\r\n            </li>\r\n\r\n            <li *ngIf="isInferred && partition != \'lexicalizations\'" [ngClass]="{ disabled: !assertAuthorized }">\r\n                <a (click)="assertInferred()">Assert inferred statement</a>\r\n            </li>\r\n            <li [ngClass]="{ disabled: !deleteAuthorized || isInferred }"><a (click)="delete()">Delete</a></li>\r\n\r\n            <li *ngIf="isBulkActionMenuItemAvailable" [ngClass]="{ disabled: !bulkDeleteAuthorized }" \r\n                title="Delete the value for every resource that has this predicate-value relation">\r\n                <a (click)="bulkDelete()">Bulk delete</a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</ng-container>\r\n\r\n<ng-container *ngIf="editInProgress || bulkEditInProgress || editLiteralInProgress">\r\n    <div class="input-group input-group-xs" style="flex: 1;">\r\n        <textarea *ngIf="editLiteralInProgress; else editInProgressInput" class="form-control input-xs" style="height: initial; resize: vertical;"\r\n            rows="1" [(ngModel)]="resourceStringValue"></textarea>\r\n        <ng-template #editInProgressInput>\r\n            <input type="text" class="form-control" [(ngModel)]="resourceStringValue">\r\n        </ng-template>\r\n        <div class="input-group-btn">\r\n            <button class="btn btn-default" style="width:15px; padding: 0px;" (click)="confirmEdit()" placeholder="Confirm">\r\n                <span class="glyphicon glyphicon-ok" style="color: green"></span>\r\n            </button>\r\n            <button class="btn btn-default" style="width:15px; padding: 0px;" (click)="cancelEdit()" placeholder="Cancel">\r\n                <span class="glyphicon glyphicon-remove" style="color: red"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</ng-container>'},function(e,t,n){e.exports='<div class="expandableResource">\r\n    <div class="hbox">\r\n        <rdf-resource [resource]="resource" (dblclick)="resourceDblClick()" style="flex: 1;"></rdf-resource>\r\n        <div class="expandCollapseBtnContainer" (click)="toggle()" title="Expand/Collapse" style="margin-right: 10px">\r\n            <img src="'+n(49)+'" [ngClass]="{\'arrow-left\': !open}">\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="open" class="panel panel-default" style="margin: 0px 3px 3px;">\r\n        <div class="panel-body" style="padding: 2px;">\r\n            <table class="table table-condensed table-borderless table-hoverable">\r\n                <tbody>\r\n                    <ng-template ngFor let-predObj [ngForOf]="predicateObjectList">\r\n                        <tr *ngFor="let obj of predObj.getObjects()">\r\n                            <td style="width: 1%" nowrap>{{predObj.getPredicate().getShow()}}</td>\r\n                            <td>\r\n                                <input type="text" class="form-control input-xs" [ngModel]="obj.getNominalValue()"\r\n                                    (dblclick)="objectDblClick(obj)" readonly>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-template>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n<button class="transparentBtn" [title]="actionRemoveTitle" [disabled]="deleteDisabled" (click)="delete()">\r\n    <span>-</span>\r\n</button>'},function(e,t){e.exports='<div *ngIf="resource.isURIResource()" style="position: relative">\r\n    <div *ngIf="!copyEnabled" class="input-group input-group-xs">\r\n        <span *ngIf="namespaceLocked" class="input-group-addon" style="padding-right: 2px;">\r\n            {{resource.getBaseURI()}}\r\n        </span>\r\n        <input #localrenameinput *ngIf="namespaceLocked" type="text" class="form-control" style="padding-left: 2px; min-width: 80px;"\r\n            [(ngModel)]="localName" [readonly]="renameLocked" sanitized>\r\n            \r\n        <input #totalrenameinput *ngIf="!namespaceLocked" type="text" class="form-control" [value]="resource.getURI()" sanitized>\r\n        \r\n        <div class="input-group-btn">\r\n            <button *ngIf="renameLocked" class="btn btn-default" style="width:72px" (click)="startRename()" [disabled]="renameDisabled">\r\n                Rename\r\n            </button>\r\n                \r\n            <button *ngIf="!renameLocked" class="btn btn-default" style="width:24px; padding: 1px 3px;"\r\n                (click)="renameResource()">\r\n                <span class="glyphicon glyphicon-ok" style="color: green"></span>\r\n            </button>\r\n            <button *ngIf="!renameLocked" class="btn btn-default" style="width:24px; padding: 1px 3px;"\r\n                (click)="cancelRename()">\r\n                <span class="glyphicon glyphicon-remove" style="color: red"></span>\r\n            </button>\r\n            <button *ngIf="!renameLocked" class="btn btn-default" [ngClass]="{active: namespaceLocked}"\r\n                style="width:24px; padding: 1px 3px;" (click)="blockNamespace()" title="Block namespace">\r\n                <span class="glyphicon glyphicon-lock"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div style="position: absolute; top: 0px; right: 75px; z-index: 3;">\r\n        <button type="button" class="close" (click)="copyToClipboard()" title="Copy URI to clipboard">\r\n            <span class="glyphicon glyphicon-copy" style="font-size: 12px"></span>\r\n        </button>\r\n    </div>\r\n</div>\r\n<div *ngIf="resource.isBNode()">\r\n    <input type="text" class="form-control input-xs" [value]="resource.getId()" readonly>\r\n</div>'},function(e,t){e.exports='<div class="dropdown pull-right">\r\n    <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" [disabled]="readonly">\r\n        <span>&#9662;</span>\r\n    </button>\r\n    <ul class="dropdown-menu">\r\n        <li *ngIf="resource.isURIResource()" [ngClass]="{ disabled : isAlignDisabled }">\r\n            <a (click)="alignResource()">Align with external resource</a>\r\n        </li>\r\n        <li *ngIf="isURIResource()" [ngClass]="{ disabled : isSetDeprecatedDisabled }">\r\n            <a (click)="setAsDeprecated()">Set as deprecated</a>\r\n        </li>\r\n        <li *ngIf="showInferred" [ngClass]="{ disabled : isAssertInferredDisabled }">\r\n            <a (click)="assertInferredStmts()">Assert all the inferred statements</a>\r\n        </li>\r\n        <li *ngIf="resource.getRole() == \'xLabel\'" [ngClass]="{ disabled : isSpawnFromLabelDisabled }">\r\n            <a (click)="spawnNewConceptWithLabel()">Spawn new concept from this xLabel</a>\r\n        </li>\r\n        <li *ngIf="isOpenDataGraphEnabled()">\r\n            <a (click)="openDataGraph()">Show in data-oriented graph</a>\r\n        </li>\r\n    </ul>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox blockingDivHost">\r\n    <div class="panel-heading">\r\n        <div class="hbox" style="align-items: center">\r\n            <rdf-resource *ngIf="resource" [resource]="resource"></rdf-resource>\r\n            <resource-rename [resource]="resource" style="flex: 1;" [readonly]="readonly" (update)="buildResourceView(resource)">\r\n            </resource-rename>\r\n            \r\n            <button class="btn btn-default btn-xs" [ngClass]="{active: rendering}" style="margin-left: 3px;"\r\n                title="Rendering" (click)="switchRendering()">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" [ngClass]="{active: showInferred}" style="margin-left: 3px;"\r\n                title="Show/hide inferred information" (click)="switchInferred()">\r\n                <span *ngIf="showInferred" class="glyphicon glyphicon-eye-open"></span>\r\n                <span *ngIf="!showInferred" class="glyphicon glyphicon-eye-close"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" [ngClass]="{active: valueFilterLangEnabled}" style="margin-left: 3px;"\r\n                title="Enable/disable value-filter on languages" (click)="switchValueFilterLang()">\r\n                <span class="glyphicon glyphicon-filter"></span>\r\n            </button>\r\n            \r\n            <button *ngIf="notificationsAvailable" class="btn btn-default btn-xs" [ngClass]="{active: isWatching}" style="margin-left: 3px;"\r\n                (click)="changeNotificationStatus()" title="Enable/Disable notifications on this resource">\r\n                <span class="glyphicon glyphicon-bell"></span>\r\n            </button>\r\n\r\n            <div *ngIf="versioningAvailable" class="dropdown pull-right" style="margin-left: 3px;">\r\n                <button class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" (click)="listVersions()" title="Change version">\r\n                    <span class="glyphicon glyphicon-time"></span>\r\n                </button>\r\n                <ul class="dropdown-menu">\r\n                    <li style="position: relative;">\r\n                        <a (click)="switchToVersion()" style="padding-right: 18px">Current</a>\r\n                        <span *ngIf="!activeVersion" class="glyphicon glyphicon-ok pull-right" style="position: absolute; right: 8px; top: 4px;"></span>\r\n                    </li>\r\n                    <li *ngFor="let v of versionList" style="position: relative;">\r\n                        <a (click)="switchToVersion(v)" style="padding-right: 18px">{{v.dateTimeLocal}} - {{v.versionId}}</a>\r\n                        <span *ngIf="v == activeVersion" class="glyphicon glyphicon-ok pull-right" style="position: absolute; right: 8px; top: 4px;"></span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div *ngIf="collaborationAvailable" class="dropdown pull-right" style="margin-left: 3px;">\r\n                <button class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" title="Issues">\r\n                    <span [class]="\'glyphicon glyphicon-exclamation-sign \' + issuesStruct.btnClass"></span>\r\n                </button>\r\n                <ul class="dropdown-menu">\r\n                    <li *ngFor="let i of issuesStruct.issues" >\r\n                        <a [href]="i.getUrl()" target="_blank" [title]="i.getSummary()">\r\n                            <span [class]="\'label pull-right \' + i.getStatusClass()" style="font-size: 100%">{{i.getStatus()}}</span>\r\n                            {{i.getKey()}}\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="issuesStruct.issues" role="separator" class="divider"></li>\r\n                    <li><a (click)="createIssue()">Create issue for this resource</a></li>\r\n                    <li><a (click)="assignToIssue()">Assign this resource to existing issue</a></li>\r\n                </ul>\r\n            </div>\r\n\r\n            <button class="btn btn-default btn-xs" style="margin-left: 3px;" title="Refresh" (click)="buildResourceView(resource)">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n\r\n            <button *ngIf="settingsAvailable" class="btn btn-default btn-xs" style="margin-left: 3px;" title="ResourceView settings" (click)="openSettings()">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </button>\r\n            \r\n            <res-view-menu [resource]="resource" [rendering]="rendering" [showInferred]="showInferred" [readonly]="readonly" [projectCtx]="projectCtx"\r\n                (update)="buildResourceView(resource)" (assertInferred)="assertInferredStatements()"></res-view-menu>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body scrollableContainer">\r\n        <div *ngIf="unexistingResource" class="alert alert-danger">\r\n            This resource is not available in the current project\r\n        </div>\r\n        <div *ngIf="unknownHost" class="alert alert-danger">\r\n            This resource is not available on accessible local projects nor can be reached on the Web\r\n        </div>\r\n        <ng-template [ngIf]="!unexistingResource && !unknownHost">\r\n            <types-renderer *ngIf="typesColl" [pred-obj-list]="typesColl" [resource]="resource" [rendering]="rendering" [readonly]="readonly"\r\n                (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </types-renderer>\r\n            <class-axiom-renderer *ngIf="classAxiomColl" [pred-obj-list]="classAxiomColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </class-axiom-renderer>\r\n            <top-concepts-renderer *ngIf="topconceptofColl" [pred-obj-list]="topconceptofColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </top-concepts-renderer>\r\n            <schemes-renderer *ngIf="schemesColl" [pred-obj-list]="schemesColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </schemes-renderer>\r\n            <broaders-renderer *ngIf="broadersColl" [pred-obj-list]="broadersColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </broaders-renderer>\r\n            <superproperties-renderer *ngIf="superpropertiesColl" [pred-obj-list]="superpropertiesColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </superproperties-renderer>\r\n            <equivalent-properties-renderer *ngIf="equivalentPropertiesColl" [pred-obj-list]="equivalentPropertiesColl" [resource]="resource" \r\n                [rendering]="rendering" [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </equivalent-properties-renderer>\r\n            <disjoint-properties-renderer *ngIf="disjointPropertiesColl" [pred-obj-list]="disjointPropertiesColl" [resource]="resource" \r\n                [rendering]="rendering" [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </disjoint-properties-renderer>\r\n            <property-chain-renderer *ngIf="subPropertyChainsColl" [pred-obj-list]="subPropertyChainsColl" [resource]="resource" \r\n                [rendering]="rendering" [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </property-chain-renderer>\r\n            <subterms-renderer *ngIf="subtermsColl" [pred-obj-list]="subtermsColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </subterms-renderer>\r\n            <domains-renderer *ngIf="domainsColl" [pred-obj-list]="domainsColl" [resource]="resource" [rendering]="rendering" [readonly]="readonly"\r\n                (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </domains-renderer>\r\n            <ranges-renderer *ngIf="rangesColl" [pred-obj-list]="rangesColl" [resource]="resource" [rendering]="rendering" [readonly]="readonly"\r\n                (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </ranges-renderer>\r\n            <property-facets-renderer *ngIf="inverseofColl && propertyFacets" [pred-obj-list]="inverseofColl" [facets]="propertyFacets"\r\n                [resource]="resource" [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </property-facets-renderer>\r\n            <datatype-definition-renderer *ngIf="datatypeDefinitionColl" [pred-obj-list]="datatypeDefinitionColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </datatype-definition-renderer>\r\n            <lexicalizations-renderer *ngIf="lexicalizationsColl" [pred-obj-list]="lexicalizationsColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </lexicalizations-renderer>\r\n            <lexical-forms-renderer *ngIf="lexicalFormsColl" [pred-obj-list]="lexicalFormsColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </lexical-forms-renderer>\r\n            <lexical-senses-renderer *ngIf="lexicalSensesColl" [pred-obj-list]="lexicalSensesColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </lexical-senses-renderer>\r\n            <denotations-renderer *ngIf="denotationsColl" [pred-obj-list]="denotationsColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </denotations-renderer>\r\n            <evoked-lexical-concepts-renderer *ngIf="evokedLexicalConceptsColl" [pred-obj-list]="evokedLexicalConceptsColl" [resource]="resource"\r\n                [rendering]="rendering" [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </evoked-lexical-concepts-renderer>\r\n            <notes-renderer *ngIf="notesColl" [pred-obj-list]="notesColl" [resource]="resource" [rendering]="rendering" [readonly]="readonly"\r\n                (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </notes-renderer>\r\n            <members-renderer *ngIf="membersColl" [pred-obj-list]="membersColl" [resource]="resource" [rendering]="rendering" [readonly]="readonly"\r\n                (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </members-renderer>\r\n            <members-ordered-renderer *ngIf="membersOrderedColl" [pred-obj-list]="membersOrderedColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </members-ordered-renderer>\r\n            <label-relations-renderer *ngIf="labelRelationsColl" [pred-obj-list]="labelRelationsColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </label-relations-renderer>\r\n            <form-representations-renderer *ngIf="formRepresentationsColl" [pred-obj-list]="formRepresentationsColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </form-representations-renderer>\r\n            <form-based-preview-renderer *ngIf="formBasedPreviewColl" [pred-obj-list]="formBasedPreviewColl" [resource]="resource" \r\n                [rendering]="rendering" [readonly]="true" (dblclickObj)="objectDblClick($event)">\r\n            </form-based-preview-renderer>\r\n            <imports-renderer *ngIf="importsColl" [pred-obj-list]="importsColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </imports-renderer>\r\n            <constituents-renderer *ngIf="constituentsColl" [pred-obj-list]="constituentsColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </constituents-renderer>\r\n            <rdfs-members-renderer *ngIf="rdfsMembersColl" [pred-obj-list]="rdfsMembersColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </rdfs-members-renderer>\r\n            <properties-renderer *ngIf="propertiesColl" [pred-obj-list]="propertiesColl" [resource]="resource" [rendering]="rendering"\r\n                [readonly]="readonly" (update)="buildResourceView(resource)" (dblclickObj)="objectDblClick($event)">\r\n            </properties-renderer>\r\n        </ng-template>\r\n    </div>\r\n    <div class="panel-footer" style="min-height: 31px;">\r\n        <div *ngIf="resourcePosition" class="pull-right">\r\n            <div class="dropup pull-right">\r\n                <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" style="padding: 0px; border: none; background-color: transparent;">\r\n                    <span [ngSwitch]="resource.getAdditionalProperty(\'accessMethod\')">\r\n                        Status:\r\n                        <ng-template [ngSwitchCase]="\'local\'">\r\n                            <span *ngIf="resourcePositionLocalProj" class="glyphicon glyphicon-saved"></span>\r\n                            <span *ngIf="!resourcePositionLocalProj" class="glyphicon glyphicon-export"></span>\r\n                        </ng-template>\r\n                        <span *ngSwitchCase="\'dereferenciation\'" class="glyphicon glyphicon-save-file"></span>\r\n                        <img *ngSwitchCase="\'sparql\'" src="'+n(64)+'" style="width: 11px; margin-bottom: 3px;">\r\n                        <img *ngSwitchCase="\'sparql-degraded\'" src="'+n(64)+'" style="width: 11px; margin-bottom: 3px; opacity: .5;">\r\n                    </span>\r\n                    <span *ngIf="resourcePosition.isUnknown()" style="font-weight: 900; color: red;" title="Unknown position">!</span>\r\n                </button>\r\n                <ul class="dropdown-menu">\r\n                    <li>\r\n                        <a style="cursor: initial; background-color: initial;">\r\n                            <label>Access method:</label>\r\n                            {{resource.getAdditionalProperty(\'accessMethod\')}}\r\n                        </a>\r\n                        <a *ngIf="resourcePosition.isLocal()" style="cursor: initial; background-color: initial;">\r\n                            <label *ngIf="resourcePositionLocalProj">Local Project: </label>\r\n                            <label *ngIf="!resourcePositionLocalProj">Other local Project: </label>\r\n                            {{resourcePositionDetails}}\r\n                        </a>\r\n                        <a *ngIf="resourcePosition.isRemote()" style="cursor: initial; background-color: initial;">\r\n                            <label>Remote Dataset: </label>\r\n                            {{resourcePositionDetails}}\r\n                        </a>\r\n                        <a *ngIf="resourcePosition.isUnknown()" style="cursor: initial; background-color: initial;">\r\n                            <label>Remote Dataset: </label>\r\n                            Unknown, <a (click)="discoverDataset()">discover</a>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div #blockDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="modal-body vbox">\r\n    <resource-view-editor [resource]="context.resource" [readonly]="context.readonly" [context]="resViewCtx" [projectCtx]="context.projectCtx"></resource-view-editor>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<resource-view-splitted *ngIf="resViewMode==\'splitted\'" (empty)="onEmpty()" ></resource-view-splitted>\r\n<resource-view-tabbed *ngIf="resViewMode==\'tabbed\'" (empty)="onEmpty()" (tabSelect)="onTabSelected($event)"></resource-view-tabbed>'},function(e,t){e.exports='<div class="vbox" *ngIf="resource">\n    <resource-view [resource]="resource" (dblclickObj)="objectDblClick($event)" (update)="onMainResourceUpdate($event)"></resource-view>\n</div>\n\n<div *ngIf="object" class="vbox" style="margin-left: 5px; position: relative">\n    <resource-view [resource]="object" (dblclickObj)="objectDblClick($event)" (update)="onSecondaryResourceUpdate($event)"></resource-view>\n    <div style="position: absolute; left: 2px; top: 0px;">\n        <button type="button" class="close" (click)="closeSecondaryResView()" title="Close this resource view">\n            <span class="glyphicon glyphicon-remove" style="font-size: 10px"></span>\n        </button>\n        <button *ngIf="resStack.length > 0" type="button" class="close" (click)="previousResView()" title="Previous resource">\n            <span class="glyphicon glyphicon-chevron-left" style="font-size: 10px"></span>\n        </button>\n    </div>\n</div>'},function(e,t){e.exports='<div *ngIf="tabs.length > 0" class="vbox">\r\n    \r\n    \x3c!--Tabs navigation--\x3e\r\n    <ul class="nav nav-tabs">\r\n        <li *ngFor="let t of tabs" [ngClass]="{active : t.active}">\r\n            <a (click)="selectTab(t, \'true\')">\r\n                <rdf-resource [resource]="t.resource"></rdf-resource>\r\n                <span class="glyphicon glyphicon-remove-circle" (click)="closeTab(t)" style="cursor: pointer"\r\n                    onmouseover="this.className=\'glyphicon glyphicon-remove-sign\';"\r\n                    onmouseout="this.className=\'glyphicon glyphicon-remove-circle\';">\r\n                </span>\r\n            </a>\r\n        </li>\r\n        \x3c!-- style top 5px necessary to align the bottom of this tab with the others (since this is smaller) --\x3e\r\n        <li *ngIf="tabs.length > 1" style="top: 5px;">\r\n            <a (click)="closeAllTabs()" style="font-weight: bold; padding: 2px 5px;" title="Close all tabs"\r\n                onmouseover="this.style.color=\'#555\'" onmouseout="this.style.color=\'#337ab7\'">\r\n                <span class="glyphicon glyphicon-remove"></span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n    \x3c!--Tabs content--\x3e\r\n    <div class="tab-content">\r\n        <div *ngFor="let t of tabs" [ngClass]="{vbox : t.active}" [hidden]="!t.active">\r\n            <resource-view [resource]="t.resource" (dblclickObj)="objectDblClick($event)" (update)="onResourceUpdate($event, t)"></resource-view>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<textarea #editBlock *ngIf="editInProgress; else notEditBlock" [(ngModel)]="stringValue" class="form-control input-xs custom" style="resize: vertical;"\r\n    [rows]="textareaRows" (keydown)="onKeydown($event)">\r\n</textarea>\r\n\r\n<ng-template #notEditBlock>\r\n    <div [class]="\'form-control input-xs custom \' + renderingClass" [ngClass]="{ disabled: disabled }" (click)="edit()">{{stringValue}}</div>\r\n</ng-template>'},function(e,t){e.exports='\n<div class="wrap">\n    <div class="links">\n        <lang-item class="groupPanel-heading-content" [language]="langForFlag" [showTag]="false" [showName]="false" [size]="\'md\'"></lang-item>\n        <button *ngIf="emptyDef && terms.length == 0" (click)="removeBox()" class="btn btn-xs btn-default remove-button"  title="Remove box" [disabled]="readonly">\n            <span class="glyphicon glyphicon-remove" style="font-size: 7px;"></span>\n        </button>\n    </div>\n    <div class="btn-group semitransparent" style="display: flex;">\n        <button type="button" class="btn btn-xs add-button" (click)="addTermBox()" title="Add new Term" [disabled]="!addLabelAuthorized || emptyTerm || readonly">\n            <span class="glyphicon glyphicon-plus" style="font-size: 9px;"></span>\n        </button>\n        <button type="button" class="btn add-button arrow dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n          <span class="caret"></span>\n        </button>\n        <ul class="dropdown-menu pull-right">\n            <li [ngClass]="{ disabled : (!addDefAuthorized || emptyDef || readonly) }">\n                <a (click)="addDefinitionItem()" >Add definition</a>\n            </li>\n        </ul>\n    </div>\n</div>\n \n<lang-def *ngFor="let def of definitions" [def]="def" [resource]="resource" [lang]="lang" [readonly]="readonly" [defCrConfig]="defCrConfig"\n    (delete)="deleteDefinition(def)" (update)="onDefUpdate()">\n</lang-def>\n\n<lang-term *ngFor="let term of terms" [term]="term" [resource]="resource" [lang]="lang" [readonly]="readonly" \n    (delete)="deleteTerm(term)" (update)="onTermUpdate()">\n</lang-term>'},function(e,t){e.exports='<div class="def-wrap">\n    <label class="groupPanel-heading-content" style="font-size: 13px;">Definition:</label>\n    <inline-editable-value style="flex: 1; margin-left: 4px;" [value]="def" [disabled]="!editDefAuthorized || readonly"\n        [preventEdit]="defCrConfig.hasCustomRange && !def" (click)="onInlineValueClick($event)" (valueEdited)="onDefinitionEdited($event,def)">\n    </inline-editable-value>\n    <button class="btn btn-xs btn-default minus-button"  (click)="deleteDefinition()" title="Delete definition" [disabled]="!deleteDefAuthorized || readonly">\n        <span class="glyphicon glyphicon-minus" style="font-size: 9px;"></span>\n    </button>\n</div>'},function(e,t){e.exports='<div class="groupPanel" style="margin-top: 15px;">\n    <div *ngIf="term.object" class="groupPanel-heading">\n        <label class="groupPanel-heading-content" style="font-size: 9px;">{{term.object.qname}}</label>\n    </div>\n\n    <div class="groupPanel-body">\n        <div class="term-wrap">\n            <label [ngClass]="term?.isPrefLabel ? \'prefLabelColor\' : \'altLabelcolor\'" [title]="term.predicate.getShow()" style="font-size: 13px;">Term:</label>\n            <inline-editable-value style="flex: 1; margin-left: 4px;" [focusOnInit]="focus" [value]="term.object" (valueEdited)="onValueEdited($event)" \n                [disabled]="!editTermAuthorized || readonly">\n            </inline-editable-value>\n            <button class="btn btn-xs btn-default minus-button " (click)="deleteTermBox()" [disabled]="!deleteTermAuthorized || readonly" title="Delete Term">\n                <span class="glyphicon glyphicon-minus" style="font-size: 9px;"></span>\n            </button>\n        </div>\n    </div>\n</div>\n\n\n\n'},function(e,t,n){e.exports='<div class="panel panel-default vbox blockingDivHost">\r\n    <div class="panel-heading">\r\n        <rdf-resource style="flex: 1;" *ngIf="resource" [resource]="resource"></rdf-resource>\r\n        <input class="form-control input-xs" [ngModel]="resource.getURI()" readonly>\r\n\r\n        <button class="btn btn-xs btn-default" style="margin-left: 3px;" (click)="buildResourceView(resource)" title="Refresh">\r\n            <span class="glyphicon glyphicon-refresh"></span>\r\n        </button>\r\n        <button class="btn btn-default btn-xs" style="margin-left: 3px;" (click)="openSettings()" title="ResourceView settings">\r\n            <span class="glyphicon glyphicon-cog"></span>\r\n        </button>\r\n    </div>\r\n    <div  *ngIf="resource && !unexistingResource" class="panel-body scrollableContainer">\r\n        <ng-container *ngIf="!unexistingResource && !unknownHost">\r\n            \x3c!-- first--\x3e\r\n            <div class="panel panel-default"> \r\n                <div class="panel-body">\r\n                    <h2 class="qname"><span>{{resource.qname}}</span></h2>\r\n                    <div>\r\n                        <p>{{resource.getShow()}}</p>\r\n                        <p *ngFor="let def of definitions">{{def.getShow()}} ({{def.getAdditionalProperty(\'lang\')}})</p>\r\n                    </div>\r\n                    <h2 class="concept"><span>Broader Concepts</span></h2>\r\n                    <div>\r\n                        <p *ngFor="let broader of broaders">{{broader.getShow()}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- Languages--\x3e\r\n            <div class="lang">\r\n                <lang-item *ngFor="let item of languages" class="clickable" [language]="item.lang" [disabled]="item.disabled" \r\n                    [showName]="false" [size]="\'md\'" (click)="onLanguageClicked(item)">\r\n                </lang-item>\r\n            </div>\r\n            \x3c!-- Language definitions--\x3e\r\n            <div class="def-lang">\r\n                <lang-box #langBox *ngFor="let lang of langsWithValue" [resource]="resource" [lang]="lang" [pred-obj-list]="langStruct[lang]"\r\n                    [defCrConfig]="defCustomRangeConfig" [readonly]="readonly" (update)="buildResourceView(resource)" (delete)="deleteLangBox(lang)">\r\n                </lang-box>\r\n            </div>\r\n        </ng-container>\r\n\r\n        <div *ngIf="unexistingResource" class="alert alert-danger">\r\n            This resource is not available in the current project\r\n        </div>\r\n        <div *ngIf="unknownHost" class="alert alert-danger">\r\n            This resource is not available on accessible local projects nor can be reached on the Web\r\n        </div>\r\n\r\n    </div>\r\n    <div class="panel-footer" style="min-height: 31px;"></div>\r\n\r\n    <div #blockDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Load SHACL shapes</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div class="form-horizontal">\r\n        <div class="form-group">\r\n            <label class="control-label col-sm-1">File:</label>\r\n            <div class="col-sm-7">\r\n                <file-picker (fileChanged)="fileChangeEvent($event)" [accept]="filePickerAccept"></file-picker>    \r\n            </div>\r\n            <label class="control-label col-sm-1">Format:</label>\r\n            <div class="col-sm-3">\r\n                <select class="form-control input-sm" [(ngModel)]="selectedInputFormat">\r\n                    <option *ngFor="let f of inputFormats" [ngValue]="f">{{f.name}}</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <div class="checkbox-inline pull-left">\r\n        <label>\r\n            <input type="checkbox" [(ngModel)]="clearExisting">Clear existing\r\n        </label>\r\n    </div>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!file || !selectedInputFormat">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">Advanced Graph Application</h3>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" title="Save advanced graph application" (click)="saveGraph()">\r\n                    <span class="glyphicon glyphicon-floppy-save"></span>\r\n                </button>\r\n                <button class="btn btn-default" title="Load advanced graph application" (click)="loadGraph()">\r\n                    <span class="glyphicon glyphicon-floppy-open"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-body vbox scrollableContainer">\r\n    <div class="panel panel-default" style="margin-top: 4px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Nodes</label>\r\n            <div class="btn-toolbar" role="toolbar">\r\n                <div class="btn-group btn-group-xs">\r\n                    <button class="btn btn-default" (click)="addNode()">\r\n                        <span class="glyphicon glyphicon-plus"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" (click)="removeNode()" [disabled]="!selectedNode || selectedNode.readonly">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body table-responsive" style="min-height: 60px; max-height: 100px;">\r\n            <table class="table table-condensed">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Node ID</th>\r\n                        <th>Converter type</th>\r\n                        <th>Converter URI</th>\r\n                        <th>Details</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let n of alreadyDefinedNodes" (click)="selectNode(n)" [ngClass]="{ info : n == selectedNode }">\r\n                        <td class="grayText">{{n.nodeId}}</td>\r\n                        <td class="grayText">{{n.converter?.type}}</td>\r\n                        <td class="grayText">{{n.converter?.contractUri}}</td>\r\n                        <td class="grayText">\r\n                            <span *ngIf="n.converter?.language; else dtBlock">\r\n                                <label style="white-space: pre">Lang: </label>{{n.converter.language}}\r\n                            </span>\r\n                            <span #dtBlock *ngIf="n.converter?.datatypeUri">\r\n                                <label style="white-space: pre">Datatype: </label>{{getDatatypeShow(n.converter.datatypeUri)}}\r\n                            </span>\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngFor="let n of newDefinedNodes" (click)="selectNode(n)" [ngClass]="{ info : n == selectedNode }">\r\n                        <td>{{n.nodeId}}</td>\r\n                        <td>{{n.converter?.type}}</td>\r\n                        <td nowrap>\r\n                            {{n.converter?.contractUri}}\r\n                            <button *ngIf="n.converter?.type == \'uri\'" class="btn btn-xs btn-default" (click)="changeUriConverter(n)">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </td>\r\n                        <td nowrap>\r\n                            <span *ngIf="n.converter?.language; else dtBlock">\r\n                                <label style="white-space: pre">Lang: </label>\r\n                                {{n.converter.language}}\r\n                                <button *ngIf="n.converter?.type == \'literal\'" class="btn btn-xs btn-default" (click)="changeLiteralConverter(n)">\r\n                                    <span class="glyphicon glyphicon-pencil"></span>\r\n                                </button>\r\n                            </span>\r\n                            <span #dtBlock *ngIf="n.converter?.datatypeUri">\r\n                                <label style="white-space: pre">Datatype: </label>{{getDatatypeShow(n.converter.datatypeUri)}}\r\n                            </span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default" style="margin-top: 4px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Graph</label>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n\r\n            <div class="panel panel-alt" style="margin-top: 4px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">Prefix-Namespace mappings</label>\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button class="btn btn-default" (click)="addMapping()">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" (click)="removeMapping()" [disabled]="!selectedMapping">\r\n                                <span class="glyphicon glyphicon-minus"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div #prefixnstable class="panel-body table-responsive" style="min-height: 60px; max-height: 100px;">\r\n                    <table class="table table-condensed">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Prefix</th>\r\n                                <th>Namespace</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let m of globalPrefixMappings" class="" class="grayText" style="cursor: not-allowed">\r\n                                <td>{{m.prefix}}</td>\r\n                                <td>{{m.namespace}}</td>\r\n                            </tr>\r\n                            <tr *ngFor="let m of localPrefixMappings" (click)="selectMapping(m)" style="cursor: pointer" [ngClass]="{ info: m == selectedMapping }">\r\n                                <td>{{m.prefix}}</td>\r\n                                <td>{{m.namespace}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="panel panel-alt vbox" style="margin-top: 4px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">Graph pattern</label>\r\n                </div>\r\n                <div class="panel-body vbox">\r\n                    <div class="alert alert-info alert-dismissible alert-multiline" style="margin-bottom: 5px;">\r\n                        The graph pattern must contain only node IDs already defined in any header.<br>\r\n                        It could also contains a <span style="font-family: monospace;" ngNonBindable>{{pred}}</span>\r\n                        placeholder that will be replaced with the predicate of the header. \r\n                        In case the <span style="font-family: monospace;" ngNonBindable>{{pred}}</span> is used in the pattern,\r\n                        a default predicate <strong>must</strong> be provided as fallback when the header does not represent any valid predicate.\r\n                        <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n                    </div>\r\n                    <textarea class="form-control input-sm" style="resize: vertical" rows="5" [(ngModel)]="graphPattern"></textarea>\r\n                </div>\r\n                <div class="panel-footer">\r\n                    <div class="hbox" style="align-items: center">\r\n                        <label style="margin-right: 4px;">Default predicate:</label>\r\n                        <resource-picker [resource]="defaultPredicate" size="xs" [config]="{ roles: [\'property\']}"\r\n                            (resourceChanged)="updateDefaultPredicate($event)" style="flex: 1">\r\n                        </resource-picker>\r\n                        <span class="glyphicon glyphicon-info-sign" style="margin-left: 4px" \r\n                            title="If the graph pattern contains the \'pred\' placeholder this predicate is mandatory, otherwise it will be ignored">\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-heading">\r\n        <label>Converter</label>\r\n    </div>\r\n    <div class="panel-body scrollableContainer">\r\n\r\n        <table class="table table-condensed table-hoverable" style="margin-top: 4px;">\r\n            <thead>\r\n                <tr>\r\n                    <th>Name</th>\r\n                    <th>Description</th>\r\n                    <th nowrap>RDF Capability</th>\r\n                    <th>URI</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let c of availableConverters" (click)="selectConverter(c)" [ngClass]="{ info: c == selectedConverter }" style="cursor: pointer;">\r\n                    <td>{{c.getName()}}</td>\r\n                    <td style="white-space: pre;">{{c.getDescription()}}</td>\r\n                    <td nowrap>{{c.getRDFCapability()}}\r\n                        <span *ngIf="c.getRDFCapability() == \'typedLiteral\'" class="glyphicon glyphicon-info-sign" [title]="c.getDatatypes()"></span>\r\n                    </td>\r\n                    <td [title]="c.getURI()">{{c.getQName()}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n\r\n        <div *ngIf="selectedConverter" class="groupPanel vbox" style="margin-top: 12px;">\r\n            <div class="groupPanel-heading">\r\n                <span style="flex: 1">\r\n                    <label class="groupPanel-heading-content">Converter parameterization:</label>\r\n                </span>\r\n            </div>\r\n            <div class="groupPanel-body hbox">\r\n                <div class="panel panel-alt" style="flex: 1;">\r\n                    <div class="panel-heading">\r\n                        <label>Signature</label>\r\n                    </div>\r\n                    <div class="panel-body">\r\n                        <div *ngFor="let s of availableSignatures" class="listItem" (click)="selectSignature(s)" [ngClass]="{ active: s == selectedSignature }">\r\n                            <span>{{getSignatureShow(s)}}</span>\r\n                            <span *ngIf="s.getRequirementLevels() != \'IGNORED\'" [title]="\'Feature path \' + s.getRequirementLevels().toLocaleLowerCase()" style="margin-left: 4px; font-weight: bold;">\r\n                                <ng-container *ngIf="s.getRequirementLevels() == \'OPTIONAL\'">\r\n                                    [\r\n                                    <span class="glyphicon glyphicon-arrow-left"></span>\r\n                                    <span style="font-style: italic;">F</span>\r\n                                    ]\r\n                                </ng-container>\r\n                                <ng-container *ngIf="s.getRequirementLevels() == \'REQUIRED\'">\r\n                                    <span class="glyphicon glyphicon-arrow-left"></span>\r\n                                    <span style="font-style: italic;">F</span>\r\n                                </ng-container>\r\n                            </span>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                \x3c!-- default literal converter, datatype and language choice --\x3e\r\n                <div *ngIf="showDefaultLiteralConverterOpt(); else otherConvBlock" class="panel panel-default" style="flex: 3; margin-left: 4px;">\r\n                    <div class="panel-body hbox" style="align-items: center;">\r\n                        <select class="form-control input-sm" style="max-width: 150px; margin-right: 4px;" [(ngModel)]="selectedLiteralAspect"\r\n                            [disabled]="!literalAspectChangeable" (ngModelChange)="onSignatureParamChange()">\r\n                            <option *ngFor="let o of literalAspectOpts">{{o}}</option>\r\n                        </select>\r\n                        <ng-container [ngSwitch]="selectedLiteralAspect">\r\n                            <lang-picker *ngSwitchCase="languageLiteralAspect" style="flex: 1;" [(ngModel)]="language"\r\n                                (ngModelChange)="onSignatureParamChange()" [readonly]="constrainedLanguage">\r\n                            </lang-picker>\r\n                            <datatype-picker *ngSwitchCase="datatypeLiteralAspect" style="flex: 1;" [(ngModel)]="datatype"\r\n                                (ngModelChange)="onSignatureParamChange()" [readonly]="constrainedDatatype">\r\n                            </datatype-picker>\r\n                            <input *ngSwitchDefault class="form-control input-sm" readonly>\r\n                        </ng-container>\r\n                    </div>\r\n\r\n                </div>\r\n                \x3c!-- other converters --\x3e\r\n                <ng-template #otherConvBlock>\r\n                    <div *ngIf="signatureParams?.length > 0" class="panel panel-alt" style="flex: 2; margin-left: 4px;">\r\n                        <div class="panel-heading">\r\n                            <label>Params</label>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <table class="table table-condensed table-borderless">\r\n                                <colgroup>\r\n                                    <col style="width: 1%;">\r\n                                    <col>\r\n                                </colgroup>\r\n                                <tbody>\r\n                                    <tr *ngFor="let p of signatureParams">\r\n                                        <td nowrap>\r\n                                            <label>{{p.name}}</label>\r\n                                            <span class="glyphicon glyphicon-info-sign" [title]="getParameterTitle(p)"></span>\r\n                                        </td>\r\n                                        <td>\r\n                                            <ng-container *ngIf="p.type == \'java.lang.String\'">\r\n                                                <div *ngIf="p.name == \'xRole\'; else genericStringParamElseBlock" class="hbox">\r\n                                                    <select [(ngModel)]="p.value" class="form-control input-sm" (ngModelChange)="onSignatureParamChange()">\r\n                                                        <option *ngFor="let r of xRoles">{{r}}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <ng-template #genericStringParamElseBlock>\r\n                                                    <input class="form-control input-sm" [(ngModel)]="p.value" (ngModelChange)="onSignatureParamChange()">\r\n                                                </ng-template>\r\n                                            </ng-container>\r\n                                            <map-param-editor *ngIf="p.type == \'java.util.Map<java.lang.String, org.eclipse.rdf4j.model.Value>\'" \r\n                                                [value]="p.value" (valueChanged)="onMapParamChange($event, p)">\r\n                                            </map-param-editor>\r\n                                            <list-param-editor *ngIf="p.type == \'org.eclipse.rdf4j.model.Value[]\'" \r\n                                                [value]="p.value" (valueChanged)="onListParamChange($event, p)">\r\n                                            </list-param-editor>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <div *ngIf="isConverterRandom()" class="panel-footer">\r\n        <div class="checkbox-inline">\r\n            <label>\r\n                <input type="checkbox" [(ngModel)]="memoize" (ngModelChange)="onMemoizeChange()">Memoize\r\n            </label>\r\n            <span class="glyphicon glyphicon-info-sign" title="Apply the memoization: given the same input, the converter will generate the same output">\r\n            </span>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body">\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col>\r\n                <col style="width: 1%">\r\n                <col style="width: 1%">\r\n            </colgroup>\r\n            <tbody>\r\n                <tr *ngFor="let v of list; let index = index; let last = last; trackBy: trackByIndex">\r\n                    <td>\r\n                        <input class="form-control input-xs" [(ngModel)]="list[index]" (ngModelChange)="onModelChange()">\r\n                    </td>\r\n                    <td>\r\n                        <button *ngIf="list.length > 1" class="btn btn-xs btn-default" (click)="delete(index)">\r\n                            <span class="glyphicon glyphicon-trash"></span>\r\n                        </button>\r\n                    </td>\r\n                    <td>\r\n                        <button *ngIf="last" class="btn btn-xs btn-default" (click)="add()">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body">\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col style="width: 1%">\r\n                <col>\r\n                <col style="width: 1%">\r\n                <col>\r\n                <col style="width: 1%">\r\n                <col style="width: 1%">\r\n            </colgroup>\r\n            <tbody>\r\n                <tr *ngFor="let m of map; let index = index; let last = last;">\r\n                    <td><label>Key:</label></td>\r\n                    <td>\r\n                        <input class="form-control input-xs" [(ngModel)]="map[index].key" (ngModelChange)="onModelChange()">\r\n                    </td>\r\n                    <td><label>Value:</label></td>\r\n                    <td>\r\n                        <input class="form-control input-xs" [(ngModel)]="map[index].value" (ngModelChange)="onModelChange()">\r\n                    </td>\r\n                    <td>\r\n                        <button *ngIf="map.length > 1" class="btn btn-xs btn-default" (click)="delete(index)">\r\n                            <span class="glyphicon glyphicon-trash"></span>\r\n                        </button>\r\n                    </td>\r\n                    <td>\r\n                        <button *ngIf="last" class="btn btn-xs btn-default" (click)="add()">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">Header editor</h3>\r\n        <div *ngIf="header" class="checkbox-inline" style="white-space: nowrap; margin-left: 4px;">\r\n            <label>\r\n                <input type="checkbox" [(ngModel)]="header.ignore" (ngModelChange)="onIgnoreChange()">Ignore header\r\n            </label>\r\n            <span class="glyphicon glyphicon-info-sign" title="If checked, the current header will be ignored in the generated PEARL code and thus in the conversion process">\r\n            </span>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox scrollableContainer">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right"><label>Header:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [ngModel]="header?.nameStruct.fullName" readonly>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right" nowrap><label>PEARL feature:</label></td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [ngModel]="header?.pearlFeature" readonly>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n\r\n    <div class="panel panel-default vbox" style="margin-top: 4px; min-height: 100px">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">\r\n                Nodes\r\n                <span class="glyphicon glyphicon-info-sign" title="List of nodes generated from the current header"></span>\r\n            </label>\r\n            <div class="btn-toolbar" role="toolbar">\r\n                <button class="btn btn-xs btn-default" (click)="removeNode()" [disabled]="!selectedNode || header.ignore">\r\n                    <span class="glyphicon glyphicon-minus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body vbox table-responsive">\r\n            <table class="table table-condensed">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Node ID</th>\r\n                        <th>Converter type</th>\r\n                        <th>Converter URI</th>\r\n                        <th>Details</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let n of header?.nodes" (click)="selectNode(n)" [ngStyle]="{ cursor: header?.ignore ? \'not-allowed\' : \'pointer\' }"\r\n                        [ngClass]="{ info : n == selectedNode }">\r\n                        <td [ngClass]="{ grayText : header?.ignore }">{{n.nodeId}}</td>\r\n                        <td [ngClass]="{ grayText : header?.ignore }">{{n.converter?.type}}</td>\r\n                        <td [ngClass]="{ grayText : header?.ignore }" nowrap>\r\n                            {{n.converter?.contractUri}}\r\n                            <button *ngIf="n.converter?.type == \'uri\'" class="btn btn-xs btn-default" (click)="changeUriConverter(n)">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </td>\r\n                        <td [ngClass]="{ grayText : header?.ignore }" nowrap>\r\n                            <span *ngIf="n.converter?.language; else dtBlock">\r\n                                <label style="white-space: pre">Lang: </label>{{n.converter.language}}\r\n                                <button *ngIf="n.converter?.type == \'literal\'" class="btn btn-xs btn-default" (click)="changeLiteralConverter(n)">\r\n                                    <span class="glyphicon glyphicon-pencil"></span>\r\n                                </button>\r\n                            </span>\r\n                            <span #dtBlock *ngIf="n.converter?.datatypeUri">\r\n                                <label style="white-space: pre">Datatype: </label>{{getDatatypeShow(n.converter.datatypeUri)}}\r\n                            </span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox" style="margin-top: 4px; min-height: 100px">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">\r\n                Graph applications\r\n                <span class="glyphicon glyphicon-info-sign" title="List of applications of the nodes defined in the \'Nodes\' panel"></span>\r\n            </label>\r\n            <div class="btn-toolbar" role="toolbar">\r\n                <button class="btn btn-xs btn-default" (click)="editGraph()" [disabled]="!selectedGraph || header?.ignore">\r\n                    <span class="glyphicon glyphicon-pencil"></span>\r\n                </button>\r\n                <div class="btn-group btn-group-xs">\r\n                    <div class="btn-group btn-group-xs" role="group">\r\n                        <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" [disabled]="header?.ignore">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                        <ul class="dropdown-menu pull-right">\r\n                            <li><a (click)="addSimpleGraphApplication()">Add simple graph application</a></li>\r\n                            <li><a (click)="addAdvancedGraphApplication()">Add advanced graph application</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    <button class="btn btn-default" (click)="removeGraph()" [disabled]="!selectedGraph || header?.ignore">\r\n                        <span class="glyphicon glyphicon-minus"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body vbox scrollableContainer" style="min-height: 80px">\r\n            <table class="table table-condensed">\r\n                <colgroup>\r\n                    <col style="width: 1%">\r\n                    <col>\r\n                </colgroup>\r\n                <tbody>\r\n                    <tr *ngFor="let g of header?.graph" (click)="selectGraph(g)" [ngStyle]="{ cursor: header?.ignore ? \'not-allowed\' : \'pointer\' }"\r\n                        [ngClass]="{ info : g == selectedGraph }">\r\n                        <ng-container *ngIf="isSimpleGraphApplication(g); else advancedGraphBlock">\r\n                            <td [ngClass]="{ grayText : header?.ignore }" nowrap><label>Simple Graph Application:</label></td>\r\n                            <td [ngClass]="{ grayText : header?.ignore }" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 0">$subject {{g.property.getShow()}} ${{g.nodeId}}</td>\r\n                        </ng-container>\r\n                        <ng-template #advancedGraphBlock>\r\n                            <td [ngClass]="{ grayText : header?.ignore }" nowrap><label>Advanced Graph Application:</label></td>\r\n                            <td [ngClass]="{ grayText : header?.ignore }" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 0">{{g.pattern}}</td>\r\n                        </ng-template>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Node editor</h3>\r\n</div>\r\n<div class="modal-body vbox scrollableContainer">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right"><label>ID:</label></td>\r\n                <td><input id="toFocus" class="form-control input-sm" [(ngModel)]="nodeId" sanitized [disabled]="context.editingNode"></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <converter-config style="margin-top: 4px;" [converter]="context.editingNode?.converter" [memoize]="context.editingNode?.memoize" \r\n        [rangeType]="context.constrainedRangeType" [language]="context.constrainedLanguage" [datatype]="context.constrainedDatatype" \r\n        (update)="onConverterUpdate($event)">\r\n    </converter-config>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Sheet2RDF settings</h3>\r\n</div>\r\n<div class="modal-body vbox scrollableContainer">\r\n\r\n    <table class="table table-borderless table-condensed">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            \x3c!-- <tr>\r\n                <td class="text-right"><label>Use header:</label></td>\r\n                <td>\r\n                    <div class="hbox form-control input-sm" style="align-items: center; justify-content: center;">\r\n                        <label class="radio-inline">\r\n                            <input type="radio" [(ngModel)]="useHeader" [value]="true">true\r\n                        </label>\r\n                        <label class="radio-inline" style="margin-left: 15px;">\r\n                            <input type="radio" [(ngModel)]="useHeader" [value]="false">false\r\n                        </label>\r\n                    </div>\r\n                </td>\r\n            </tr> --\x3e\r\n            <tr>\r\n                <td class="text-right" nowrap>\r\n                    <label>FS naming:</label>\r\n                    <span class="glyphicon glyphicon-info-sign" title="Strategy to use for naming the UIMA Feature Structure related to the header"></span>\r\n                </td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="fsNamingStrategy">\r\n                        <option *ngFor="let ns of fsNamingStrategies" [ngValue]="ns" [title]="ns.title">{{ns.show}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Simple Graph Application</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n\r\n            <tr>\r\n                <td class="text-right"><label>Property:</label></td>\r\n                <td>\r\n                    <div class="input-group input-group-sm">\r\n                        <div class="form-control">\r\n                            <rdf-resource *ngIf="property" [resource]="property"></rdf-resource>\r\n                        </div>\r\n                        <div class="input-group-btn">\r\n                            <button class="btn btn-default" (click)="changeProperty()">\r\n                                <img src="'+n(275)+'">\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n\r\n            <tr>\r\n                <td class="text-right"><label>Range:</label></td>\r\n                <td>\r\n                    <div class="form-control input-sm" readonly>\r\n                        <ng-container *ngIf="rangeCollection?.length > 0">\r\n                            <rdf-resource *ngFor="let c of rangeCollection" [resource]="c"></rdf-resource>\r\n                        </ng-container>\r\n                        <ng-container *ngIf="rangeCollection?.length == 0">\r\n                            Undetermined\r\n                        </ng-container>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n\r\n            <tr>\r\n                <td class="text-right"><label>Range type:</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedRangeType" [disabled]="!property">\r\n                        <option *ngFor="let rt of rangeTypes" [ngValue]="rt">{{rt.show}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n                \r\n            <tr *ngIf="selectedRangeType?.type == \'resource\'">\r\n                <td class="text-right"><label>Type:</label></td>\r\n                <td>\r\n                    <div class="hbox" style="align-items: center;">\r\n                        <div class="input-group input-group-sm" style="flex: 1;">\r\n                            <select class="form-control" [(ngModel)]="assertedType" [disabled]="!assertType">\r\n                                <option *ngFor="let t of assertableTypes" [ngValue]="t">{{t.getShow()}}</option>\r\n                            </select>\r\n                            <div class="input-group-btn">\r\n                                <button class="btn btn-default" (click)="addAssertedType()" [disabled]="!assertType">\r\n                                    <img src="'+n(213)+'">\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div class="checkbox-inline" style="margin-left: 4px;">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="assertType">\r\n                                Assert type\r\n                            </label>\r\n                            <span class="glyphicon glyphicon-info-sign"\r\n                                title="Check this option in order to assert the rdf:type of the generated node">\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n\r\n            <tr *ngIf="selectedRangeType?.type == \'literal\'">\r\n                <td class="text-right"><label>Datatype:</label></td>\r\n                <td>\r\n                    <datatype-picker [(ngModel)]="datatype" [allowedDatatypes]="allowedDatatypes"></datatype-picker>\r\n                </td>\r\n            </tr>\r\n\r\n            <tr>\r\n                <td class="text-right"><label>Node:</label></td>\r\n                <td>\r\n                    <div class="input-group input-group-sm">\r\n                        <select class="form-control" [(ngModel)]="selectedNode" [disabled]="!isNodeSelectionEnabled()">\r\n                            <option *ngFor="let n of availableNodes" [ngValue]="n">{{getNodeSerialization(n)}}</option>\r\n                        </select>\r\n                        <div class="input-group-btn">\r\n                            <button class="btn btn-default" (click)="addNode()" [disabled]="!isNodeSelectionEnabled()">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n\r\n\r\n        </tbody>\r\n    </table>\r\n\r\n    <div *ngIf="selectedNode && getNodeNotCompliantError()" class="alert alert-danger" style="margin-top: 4px;">\r\n        {{getNodeNotCompliantError()}}\r\n    </div>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n        <h3 class="modal-title">Subject Header editor</h3>\r\n    </div>\r\n    <div class="modal-body vbox scrollableContainer">\r\n\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col style="width: 1%;">\r\n                <col>\r\n            </colgroup>\r\n            <tbody>\r\n                <tr>\r\n                    <td class="text-right">\r\n                        <label style="white-space: nowrap;">\r\n                            Header: <span class="glyphicon glyphicon-info-sign" title="Set the header used for the creation of the subject"></span>\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <select class="form-control input-sm" [(ngModel)]="selectedHeader">\r\n                            <option *ngFor="let h of context.headers" [ngValue]="h">{{h.nameStruct.fullName}}</option>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="text-right" nowrap><label>PEARL feature:</label></td>\r\n                    <td>\r\n                        <input type="text" class="form-control input-sm" [ngModel]="selectedHeader?.pearlFeature" readonly>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="text-right" nowrap>\r\n                        <label>\r\n                            Node ID: <span class="glyphicon glyphicon-info-sign" title="This value is readonly, \'subject\' is a reserved keyword for the subject node"></span>\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <input type="text" class="form-control input-sm" [ngModel]="context.subjectHeader.node.nodeId" readonly>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td class="text-right"><label>Type:</label></td>\r\n                    <td>\r\n                        <div class="hbox" style="align-items: center;">\r\n                            <div class="input-group input-group-sm" style="flex: 1;">\r\n                                <div class="form-control" style="opacity: 1; background-color: #eee;">\r\n                                    <rdf-resource *ngIf="type" [resource]="type"></rdf-resource>\r\n                                </div>\r\n                                <div class="input-group-btn">\r\n                                    <button class="btn btn-default" (click)="changeType()" [disabled]="!assertType">\r\n                                        <img src="'+n(213)+'">\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="checkbox-inline" style="margin-left: 4px;">\r\n                                <label>\r\n                                    <input type="checkbox" [(ngModel)]="assertType">\r\n                                    Assert type\r\n                                </label>\r\n                                <span class="glyphicon glyphicon-info-sign"\r\n                                    title="Check this option in order to assert a class membership for the subject node">\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <converter-config [converter]="selectedConverter" [memoize]="memoize" [rangeType]="\'resource\'" style="margin-top: 4px;" (update)="onConverterUpdate($event)">\r\n        </converter-config>\r\n\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isOkEnabled()">Ok</button>\r\n        <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n    </div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <div class="hbox" style="align-items: center; flex: initial;">\r\n        <div class="panel panel-default" style="flex: 1; margin-right: 4px;">\r\n            <div class="panel-body">\r\n                <div class="hbox" style="flex: initial; align-items: center;">\r\n                    <label style="white-space: nowrap; margin-right: 4px;">Spreadsheet file:</label>\r\n                    <file-picker (fileChanged)="fileChangeEvent($event)" [size]="\'xs\'" [accept]="\'.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\'"></file-picker>\r\n                    <button class="btn btn-default btn-xs" style="margin-left: 4px;" (click)="loadSpreadsheet()" [disabled]="!spreadsheetFile">\r\n                        <span class="glyphicon glyphicon-refresh" title="Reload"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <button class="btn btn-sm btn-default" title="Settings" (click)="settings()">\r\n            <span class="glyphicon glyphicon-cog"></span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class="vbox" style="margin-top: 4px;">\r\n\r\n        <div #topPanel class="hbox" [ngStyle]="{ \'flex\': topPanelFlex }">\r\n\r\n            <div #previewPanel class="panel panel-alt vbox" [ngStyle]="{ \'flex\': previewPanelFlex }">\r\n                <div class="panel-heading">\r\n                    <span style="flex: 1;">\r\n                        <label>Spreadsheet preview</label>\r\n                        <span *ngIf="truncatedRows != totalRows" style="margin-left: 5px;">(Rows: {{truncatedRows}} out of {{totalRows}})</span>\r\n                    </span>\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <button class="btn btn-default btn-xs" [ngClass]="getSubjHeaderCssClass()" (click)="editSubjectHeader()"\r\n                            title="Edit subject header" [disabled]="!tablePreview">\r\n                            Subject mapping\r\n                        </button>\r\n    \r\n                        <button class="btn btn-default btn-xs" (click)="generatePearl()" title="Generate Pearl" [disabled]="!tablePreview">\r\n                            <span class="glyphicon glyphicon-play"></span>\r\n                        </button>\r\n\r\n                        <div class="btn-group btn-group-xs">\r\n                            \x3c!-- Workaround to show input file as simple <button> --\x3e\r\n                            <input #inputStatusFile type="file" (change)="loadStatus(inputStatusFile.files[0])" (click)="$event.target.value=null" accept=".json, text/plain" style="display:none">\r\n                            <button class="btn btn-default" style="margin-left: -1px" (click)="inputStatusFile.click()" title="Load Mapping Status" [disabled]="!tablePreview">\r\n                                <span class="glyphicon glyphicon-open"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" (click)="exportStatus()" title="Export Mapping Status" [disabled]="!tablePreview">\r\n                                <span class="glyphicon glyphicon-save"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox" style="padding: 0px; background: #eee;">\r\n                    <table class="table scrollableContainer">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td *ngFor="let h of headers" class="columnHeader">\r\n                                    <span *ngIf="h.id==subjectHeader.id" class="label label-success" style="padding: 0px 2px" title="Subject">S</span>\r\n                                    <span [class]="h.cssClass" style="font-weight: bold;">\r\n                                        {{h.nameStruct.fullName}}\r\n                                    </span>\r\n                                    <button class="btn btn-xs btn-default" style="padding: 0px 3px;" title="Edit header" (click)="editHeader(h)">\r\n                                        <span class="glyphicon glyphicon-edit"></span>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngFor="let row of tablePreview" [id]="\'tableRow\'+row.idx" [ngClass]="{ info: row == selectedTablePreviewRow }">\r\n                                <td *ngFor="let c of row.cells" class="spreadsheetCell" [title]="c.value">{{c.value}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class="panel-footer">\r\n                    <div class="dropdown pull-right dropup">\r\n                        <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown">\r\n                            Legend <span class="caret"></span>\r\n                        </button>\r\n                        <ul class="dropdown-menu">\r\n                            <li>\r\n                                <a>\r\n                                    <div><span class="glyphicon glyphicon-stop configuredHeader"></span> Header with at least a valid configuration</div>\r\n                                    <div><span class="glyphicon glyphicon-stop incompleteHeader"></span> Header with incomplete configuration</div>\r\n                                    <div><span class="glyphicon glyphicon-stop unconfiguredHeader"></span> Header not configured</div>\r\n                                    <div><span class="glyphicon glyphicon-stop ignoredHeader"></span> Header ignored</div>\r\n                                    <div><span class="label label-success" style="padding: 0px 2px">S</span> Header used for the subject mapping</div>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="sliderX" (mousedown)="onMousedownX($event);"></div>\r\n\r\n            <div #pearlPanel class="panel panel-alt vbox" [ngStyle]="{ \'flex\': pearlPanelFlex }">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1;">\r\n                        Pearl\r\n                    </label>\r\n                    <span *ngIf="!pearlValidation.valid" class="glyphicon glyphicon-alert" style="margin-right: 8px; color: #d00;"\r\n                        [title]="pearlValidation.details"></span>\r\n\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <button class="btn btn-default btn-xs" (click)="generateTriples()" title="Generate Triples" [disabled]="!pearl">\r\n                            <span class="glyphicon glyphicon-play"></span>\r\n                        </button>\r\n                        <div class="btn-group btn-group-xs">\r\n                            \x3c!-- Workaround to show input file as simple <button> --\x3e\r\n                            <input #inputFile type="file" (change)="loadPearl(inputFile.files[0])" accept=".pr, text/plain" style="display:none">\r\n                            <button class="btn btn-default" style="margin-left: -1px" (click)="inputFile.click()" title="Load Pearl" [disabled]="!tablePreview">\r\n                                <span class="glyphicon glyphicon-open"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" (click)="exportPearl()" title="Export Pearl" [disabled]="!pearl">\r\n                                <span class="glyphicon glyphicon-save"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body hbox">\r\n                    <pearl-editor [(ngModel)]="pearl" (ngModelChange)="onPearlChange()" style="flex: 1;" [disabled]="!tablePreview">\r\n                    </pearl-editor>\r\n                    <button class="btn btn-default btn-xs" (click)="insertConverter()" style="align-self: flex-end; margin-left: 4px;"\r\n                        title="Insert converter" [disabled]="!tablePreview">\r\n                        <span class="glyphicon glyphicon-pencil"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class="sliderY" (mousedown)="onMousedownY($event);"></div>\r\n\r\n        <div #triplesPanel class="vbox" [ngStyle]="{ \'flex\': triplesPanelFlex }">\r\n            <div class="panel panel-alt vbox">\r\n                <div class="panel-heading">\r\n                    <span style="flex: 1;">\r\n                        <label>Generated triples preview</label>\r\n                        <span *ngIf="truncatedTriples != totalTriples" style="margin-left: 5px;">({{truncatedTriples}} out of {{totalTriples}})</span>\r\n                    </span>\r\n\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <button class="btn btn-default btn-xs" (click)="addTriples()" title="Add triples" [disabled]="!triplesPreview">\r\n                            <span class="glyphicon glyphicon-import"></span>\r\n                        </button>\r\n\r\n                        <div class="btn-group btn-group-xs">\r\n                            <div class="dropdown pull-right">\r\n                                <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" [disabled]="!triplesPreview">\r\n                                    Export as... <span class="caret"></span>\r\n                                </button>\r\n                                <ul class="dropdown-menu">\r\n                                    <li *ngFor="let f of exportFormats"><a (click)="exportTriplesAs(f)">{{f.name}}</a></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body vbox scrollableContainer">\r\n                    <table class="table table-condensed table-hoverable" style="flex: 1">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Subject</th>\r\n                                <th>Predicate</th>\r\n                                <th>Object</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody style="overflow: auto;">\r\n                            <tr *ngFor="let t of triplesPreview" (click)="selectTriplePreviewRow(t)"\r\n                                [ngClass]="{ \'oddTablePreviewRow\' : t.row%2==0, active: t == selectedTriplePreviewRow }">\r\n                                <td>{{t.subject}}</td>\r\n                                <td>{{t.predicate}}</td>\r\n                                <td>{{t.object}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Create task</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox" style="flex: initial; align-items: center;">\r\n        <label>Mode:</label>\r\n        <select class="form-control input-sm" style="margin-left: 5px;" [(ngModel)]="mode" (ngModelChange)="onModeChange()">\r\n            <option *ngFor="let m of modes" [ngValue]="m.mode">{{m.show}}</option>\r\n        </select>\r\n    </div>\r\n\r\n    <div *ngIf="mode" class="panel panel-default vbox" style="margin-top: 10px;">\r\n        <div class="panel-body">\r\n            <div class="hbox">\r\n                <div class="vbox">\r\n                    <label class="text-center" style="padding: 5px">Left dataset</label>\r\n                    <div class="form-horizontal" style="margin-top: 5px;">\r\n                        <div *ngIf="mode == \'projects\'" class="form-group">\r\n                            <label class="control-label col-sm-2">Project:</label>\r\n                            <div class="col-sm-10">\r\n                                <input class="form-control input-sm" [ngModel]="leftDataset.project.getName()" disabled>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf="mode == \'versions\'" class="form-group">\r\n                            <label class="control-label col-sm-2">Version:</label>\r\n                            <div class="col-sm-10">\r\n                                <select class="form-control input-sm" [(ngModel)]="leftDataset.version">\r\n                                    <option *ngFor="let v of versions" [ngValue]="v">{{v.versionId}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="vbox">\r\n                    <label class="text-center" style="padding: 5px">Right dataset</label>   \r\n                    <div class="form-horizontal" style="margin-top: 5px;">\r\n                        <div *ngIf="mode == \'projects\'" class="form-group">\r\n                            <label class="control-label col-sm-2">Project:</label>\r\n                            <div class="col-sm-10">\r\n                                <select class="form-control input-sm" [(ngModel)]="rightDataset.project">\r\n                                    <option *ngFor="let p of projects" [ngValue]="p">{{p.getName()}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf="mode == \'versions\'" class="form-group">\r\n                            <label class="control-label col-sm-2">Version:</label>\r\n                            <div class="col-sm-10">\r\n                                <select class="form-control input-sm" [(ngModel)]="rightDataset.version">\r\n                                    <option *ngFor="let v of versions" [ngValue]="v">{{v.versionId}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok()" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>\r\n'},function(e,t,n){e.exports='<div class="panel panel-default vbox blockingDivHost">\r\n    <div class="panel-heading">\r\n        <label style="flex: 1;">SKOS diffing tasks</label>\r\n\r\n        <div class="btn-group btn-group-xs">\r\n            <button class="btn btn-default" (click)="createTask()" title="Create task" [disabled]="serverDown">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n            <button class="btn btn-sm btn-default" (click)="deleteTask()" title="Delete task" [disabled]="!selectedTask || serverDown">\r\n                <span class="glyphicon glyphicon-minus"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div style="display: inline-block; margin-left: 5px;">\r\n            <div class="input-group input-group-xs">\r\n                <select class="form-control" [(ngModel)]="selectedResultFormat">\r\n                    <option *ngFor="let f of resultFormats" [ngValue]="f">{{f | uppercase}}</option>\r\n                </select>\r\n                <span class="input-group-btn">\r\n                    <button class="btn btn-default" (click)="downloadTaskResult()" title="Download task result" [disabled]="!selectedTask || serverDown">\r\n                        <span class="glyphicon glyphicon-save "></span>\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        </div>\r\n\r\n        <button class="btn btn-xs btn-default" style="margin-left: 5px;" (click)="listTasks()" title="Refresh tasks list">\r\n            <span class="glyphicon glyphicon-refresh"></span>\r\n        </button>\r\n        \x3c!-- <button *ngIf="isSettingsAuthorized" class="btn btn-xs btn-default" style="margin-left: 5px;" (click)="settings()" title="Settings">\r\n            <span class="glyphicon glyphicon-cog"></span>\r\n        </button> --\x3e\r\n    </div>\r\n    <div class="panel-body">\r\n        <table class="table table-condensed table-hoverable">\r\n            <thead>\r\n                <tr>\r\n                    <th>Left Dataset</th>\r\n                    <th>Right Dataset</th>\r\n                    <th>Status</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let task of tasks" [ngClass]="{ info: selectedTask == task }" (click)="selectTask(task)">\r\n                    <td>\r\n                        {{task.leftDataset.projectName}}\r\n                        <span *ngIf="task.leftDataset.versionId" class="text-muted" style="margin-left: 4px;">(version: {{task.leftDataset.versionId}})</span>\r\n                    </td>\r\n                    <td>\r\n                        {{task.rightDataset.projectName}}\r\n                        <span *ngIf="task.rightDataset.versionId" class="text-muted" style="margin-left: 4px;">(version: {{task.rightDataset.versionId}})</span>\r\n                    </td>\r\n                    <td>\r\n                        {{task.status}}\r\n                        <span *ngIf="task.executionTime" class="text-muted" style="margin-left: 4px;">(in: {{task.executionTime}})</span>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">Export as RDF</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    \r\n    <select class="form-control input-sm" [(ngModel)]="selectedExportFormat" name="format">\r\n        <option *ngFor="let f of exportFormats" [ngValue]="f">{{f.name}}</option>\r\n    </select>\r\n\r\n    <div class="checkbox-inline" style="margin: 6px 2px;">\r\n        <label>\r\n            <input type="checkbox" [(ngModel)]="applyFilter">Apply export filters\r\n        </label>\r\n    </div>\r\n\r\n    <div *ngIf="applyFilter" class="panel panel-alt vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Export transformations:</label>\r\n            <div class="btn-group btn-group-xs" role="group">\r\n                <button class="btn btn-default" title="Add filter" (click)="appendFilter()">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n                <button class="btn btn-default" title="Remove filter" (click)="removeFilter()"\r\n                    [disabled]="filtersChain.length == 0 || !selectedFilterChainElement">\r\n                    <span class="glyphicon glyphicon-minus"></span>\r\n                </button>\r\n                <button class="btn btn-default" title="Move down"  (click)="moveFilterDown()"\r\n                    [disabled]="isSelectedFilterLast() || !selectedFilterChainElement">\r\n                    <span class="glyphicon glyphicon-chevron-down"></span>\r\n                </button>\r\n                <button class="btn btn-default" title="Move up" (click)="moveFilterUp()"\r\n                    [disabled]="isSelectedFilterFirst() || !selectedFilterChainElement">\r\n                    <span class="glyphicon glyphicon-chevron-up"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body scrollableContainer" style="min-height: 60px;">\r\n            <div class="alert alert-info alert-dismissible" role="alert" style="margin-bottom: 5px;">\r\n                Here it is possible to create and configure a sequence of transformations to be applied during the export process.\r\n                <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n            </div>\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col style="width: 2%">\r\n                    <col>\r\n                    <col style="width: 5%">\r\n                </colgroup>\r\n                <tbody>\r\n                    <tr *ngFor="let filterChainEl of filtersChain; let l = last; let f = first; let idx = index" \r\n                        [ngClass]="{ info: filterChainEl == selectedFilterChainElement }" (click)="selectFilterChainElement(filterChainEl)">\r\n                        <td class="text-center" style="font-size: 11px; font-weight: 700;">{{idx+1}}</td>\r\n                        <td class="hbox">\r\n                            <extension-configurator [extensions]="filterChainEl.availableFactories"\r\n                                (extensionUpdated)="onExtensionUpdated(filterChainEl, $event)"\r\n                                (configurationUpdated)="onConfigurationUpdated(filterChainEl, $event)" style="flex: 1;">\r\n                            </extension-configurator>\r\n                        </td>\r\n                        <td class="text-center" style="font-size: 14px; font-weight: 700;">\r\n                            <span *ngIf="requireConfiguration(filterChainEl)" class="glyphicon glyphicon-warning-sign"\r\n                                title="This filter needs to be configured"></span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="panel panel-alt vbox">\r\n    <div *ngIf="mode==\'sparql\'" class="panel-heading">\r\n        <label style="flex: 1">Variable bindings</label>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-xs btn-default" [ngClass]="{ active: showDisplayName }" (click)="showDisplayName = !showDisplayName" \r\n                title="Show variable bindings display name">\r\n                <span class="glyphicon glyphicon-eye-open"></span>\r\n            </button>\r\n            <button *ngIf="configurable" class="btn btn-xs btn-default" (click)="editParameterization()" title="Edit parameterization">\r\n                <span class="glyphicon glyphicon-pencil"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body vbox table-responsive">\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col>\r\n                <col>\r\n                <col style="width: 1%">\r\n            </colgroup>\r\n            <tbody>\r\n                <tr *ngFor="let b of bindingStructs">\r\n                    \x3c!-- In search mode the assignment should not be shown --\x3e\r\n                    <ng-template [ngIf]="mode==\'sparql\' || mode==\'search\' && b.bindingType != \'assignment\'">\r\n                        <td class="text-right" style="margin-right: 2px;">\r\n                            <div *ngIf="mode == \'sparql\'; then sparqlModeBlock; else searchModeBlock"></div>\r\n                            <ng-template #sparqlModeBlock>\r\n                                <ng-template [ngIf]="showDisplayName">\r\n                                    <label *ngIf="b.displayName">{{b.displayName}}:</label>\r\n                                    <label *ngIf="!b.displayName">{{b.varName}}:</label>\r\n                                </ng-template>\r\n                                <label *ngIf="!showDisplayName">{{b.varName}}:</label>\r\n                            </ng-template>\r\n                            <ng-template #searchModeBlock>\r\n                                <label *ngIf="b.displayName">{{b.displayName}}:</label>\r\n                                <label *ngIf="!b.displayName">{{b.varName}}:</label>\r\n                            </ng-template>\r\n                        </td>\r\n\r\n                        <td>\r\n                            <ng-template [ngIf]="b.bindingType == \'assignment\' && b.value">\r\n                                <input class="form-control input-sm" [ngModel]="b.value.toNT()" readonly>\r\n                            </ng-template>\r\n        \r\n                            <ng-template [ngIf]="b.bindingType == \'constraint\' && b.datatype">\r\n                                <literal-picker [plain]="false" [typed]="true" [datatypes]="[b.datatype]" (literalChanged)="onLiteralChanged(b, $event)">\r\n                                </literal-picker>\r\n                            </ng-template>\r\n        \r\n                            <ng-template [ngIf]="b.bindingType == \'constraint\' && b.resourceRole">\r\n                                <resource-picker [resource]="b.value" [config]="{ roles: [b.resourceRole] }" [editable]="true" (resourceChanged)="onResourceChanged(b, $event)">\r\n                                </resource-picker>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td *ngIf="b.description"><span class="glyphicon glyphicon-info-sign" [title]="b.description"></span></td>\r\n                    </ng-template>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div *ngIf="configurable" class="panel-footer">\r\n        <div class="checkbox" style="margin: 0px;">\r\n            <label>\r\n                <input type="checkbox" [(ngModel)]="useBindings" (ngModelChange)="emitUpdate()">Use variable bindings\r\n            </label>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">Query parameterization</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 30vh;">\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1">Query parameters</label>\r\n            <button class="btn btn-xs btn-default" (click)="addBinding()" title="Add binding">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n        </div>\r\n        <div class="panel-body table-responsive" style="flex: 1;">\r\n            <table class="table table-condensed table-borderless">\r\n                <colgroup>\r\n                    <col>\r\n                    <col>\r\n                    <col>\r\n                    <col>\r\n                    <col>\r\n                    <col style="width: 1%">\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th nowrap>Binding Variable</th>\r\n                        <th nowrap>Display Name</th>\r\n                        <th>Description</th>\r\n                        <th nowrap>Binding Type</th>\r\n                        <th>Value</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let b of bindings">\r\n                        <td><input class="form-control input-sm" [(ngModel)]="b.varName"></td>\r\n                        <td><input class="form-control input-sm" [(ngModel)]="b.displayName"></td>\r\n                        <td><textarea class="form-control input-sm" style="resize: vertical" rows="1" [(ngModel)]="b.description"></textarea></td>\r\n                        <td>\r\n                            <select class="form-control input-sm" [(ngModel)]="b.bindingType" (ngModelChange)="onBindingTypeChange()">\r\n                                <option *ngFor="let t of bindingTypes" [ngValue]="t">{{t.show}}</option>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div *ngIf="b.bindingType?.value==\'assignment\'; else constraintBlock" class="input-group input-group-sm">\r\n                                <value-picker [value]="b.value" (valueChanged)="updateValue(b, $event)"></value-picker>\r\n                            </div>\r\n                            <ng-template #constraintBlock>\r\n                                <select *ngIf="b.bindingType?.specialization==\'datatype\'; else roleBlock" class="form-control input-sm" [(ngModel)]="b.datatype">\r\n                                    <option *ngFor="let d of datatypes" [ngValue]="d">{{d.getShow()}}</option>\r\n                                </select>\r\n                                <ng-template #roleBlock>\r\n                                    <select class="form-control input-sm" [(ngModel)]="b.resourceRole">\r\n                                        <option *ngFor="let r of roles" [value]="r.value">{{r.show}}</option>\r\n                                    </select>\r\n                                </ng-template>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td>\r\n                            <button class="btn btn-default btn-sm" (click)="removeBinding(b)">\r\n                                <span class="glyphicon glyphicon-trash"></span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="bindings.length == 0">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    \x3c!--Tabs navigation--\x3e\r\n    <ul class="nav nav-tabs" (click)="$event.preventDefault()">\r\n        <li *ngFor="let t of tabs" [ngClass]="{active : t.active}">\r\n            <a href (click)="selectTab(t)">\r\n                <span *ngIf="t.type==\'query\'" class="label label-primary" title="Query">Q</span>\r\n                <span *ngIf="t.type==\'parameterization\'" class="label label-info" title="Parameterized query">P</span>\r\n                <span>\r\n                    {{t.name}}\r\n                    <span *ngIf="!t.saved">*</span>\r\n                </span>\r\n                <span *ngIf="tabs.length > 1" class="glyphicon glyphicon-remove-circle" (click)="closeTab(t)" style="cursor: pointer"\r\n                    onmouseover="this.className=\'glyphicon glyphicon-remove-sign\';"\r\n                    onmouseout="this.className=\'glyphicon glyphicon-remove-circle\';">\r\n                </span>\r\n            </a>\r\n        </li>\r\n\r\n        <li [ngStyle]="{ \'cursor\': tabs.length>5 ? \'not-allowed\' : \'pointer\' }">\r\n            <div class="btn-group btn-group-xs">\r\n                <button #addBtn class="btn btn-default addQueryBtn" (click)="addQueryTab()" (mouseup)="addBtn.blur()" [disabled]="tabs.length>9">+</button>\r\n                <button type="button" class="btn btn-default addQueryBtn dropdown-toggle" style="padding: 4px;" data-toggle="dropdown" [disabled]="tabs.length>5">\r\n                    <span class="caret"></span>\r\n                </button>\r\n                <ul class="dropdown-menu">\r\n                    <li><a href (click)="addQueryTab()">Add query tab</a></li>\r\n                    <li><a href (click)="addParameterizationTab()">Add parameterized query tab</a></li>\r\n                </ul>\r\n              </div>\r\n        </li>\r\n\r\n    </ul>\r\n    \x3c!--Tabs content--\x3e\r\n    <div class="tab-content">\r\n        <div *ngFor="let t of tabs" [ngClass]="{vbox : t.active}" [hidden]="!t.active">\r\n            <sparql-tab *ngIf="t.type==\'query\'" class="vbox" (updateName)="t.name=$event" (savedStatus)="t.saved=$event"></sparql-tab>\r\n            <sparql-tab-param *ngIf="t.type==\'parameterization\'" class="vbox" (updateName)="t.name=$event"  (savedStatus)="t.saved=$event"></sparql-tab-param>\r\n        </div>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<yasgui [query]="query" (querychange)="onQueryChange($event)"></yasgui>\r\n\r\n\x3c!--Commands (submit, clear, inferred, ...)--\x3e\r\n<div style="margin: 5px 0;">\r\n    <button class="btn btn-xs btn-primary" type="button" (click)="doQuery()" [disabled]="queryInProgress || !queryValid">\r\n        Submit\r\n    </button>\r\n    <button class="btn btn-xs btn-info" type="button" (click)="clear()" [disabled]="queryResult == null">Clear</button>\r\n    <div class="hbox" style="align-items: center; display: inline-flex; margin-left: 6px;">\r\n        <div class="hbox" style="align-items: center; display: inline-flex; margin-left: 5px;">\r\n            <label style="margin-right: 2px;">Include inferred:</label>\r\n            <input type="checkbox" [(ngModel)]="inferred">\r\n        </div>\r\n        <div class="dropdown" style="margin-left: 6px;">\r\n            <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown"\r\n                [disabled]="queryResult == null || resultType == \'boolean\'">\r\n                Save results as... <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li><a (click)="exportAsJSON()">Json</a></li>\r\n                <li><a (click)="exportAsCSV()">CSV</a></li>\r\n                <li><a (click)="exportAsTSV()">TSV</a></li>\r\n                <li><a (click)="exportAsSpradsheet(\'xlsx\')">XLSX (Microsoft spreadsheet)</a></li>\r\n                <li><a (click)="exportAsSpradsheet(\'ods\')">ODS (OpenDocument spreadsheet)</a></li>\r\n                <li *ngIf="resultType==\'graph\'"><a (click)="exportAsRdf()">RDF format...</a></li>\r\n            </ul>\r\n        </div>\r\n        <span style="display: inline; margin-left: 6px;">\r\n            <span *ngIf="queryResult != null && resultType != \'boolean\'">\r\n                Results count: {{queryResult.length}}\r\n            </span>\r\n            <span *ngIf="queryTime">(Done in {{queryTime}})</span>\r\n        </span>\r\n    </div>\r\n    <div class="hbox pull-right" style="align-items: center">\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default btn-xs" title="Save query" (click)="saveConfiguration()">\r\n                    <span class="glyphicon glyphicon-floppy-save"></span>\r\n                </button>\r\n                <button class="btn btn-default btn-xs" title="Load query" (click)="loadConfiguration()">\r\n                    <span class="glyphicon glyphicon-floppy-open"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\x3c!--Query result--\x3e\r\n<div *ngIf="queryResult != null" class="vbox">\r\n    <div class="table-responsive vbox" style="border: 1px solid #ddd; padding: 4px;">\r\n        <table class="table table-striped table-condensed table-hoverable" style="flex: 1">\r\n            <thead>\r\n                <tr>\r\n                    <th *ngFor="let h of headers" style="white-space: nowrap">\r\n                        {{h}}\r\n                        <button *ngIf="resultType != \'boolean\'" class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="sortResult(h)">\r\n                            <span class="glyphicon glyphicon-sort-by-alphabet" *ngSwitchCase="h+asc_Order" ></span>\r\n                            <span class="glyphicon glyphicon-sort-by-alphabet-alt" *ngSwitchCase="h+desc_Order"></span>\r\n                            <span class="glyphicon glyphicon-sort" *ngSwitchDefault></span>\r\n                        </button>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody style="overflow: auto;">\r\n                <ng-template [ngIf]="resultType != \'boolean\'">\r\n                    <ng-template ngFor let-bindings [ngForOf]="queryResult" let-i="index">\r\n                        <ng-template [ngIf]="i >= resultsPage*resultsLimit && i < resultsPage*resultsLimit + resultsLimit"> \x3c!-- paging filter --\x3e\r\n                            <tr>\r\n                                <td *ngFor="let h of headers">\r\n                                    <span *ngIf="bindings[h]" [ngClass]="{ clickable: isBindingResource(bindings[h]) }" (click)="onBindingClick(bindings[h])">\r\n                                        {{getBindingShow(bindings[h])}}\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </ng-template>\r\n                    </ng-template>\r\n                </ng-template>\r\n                <ng-template [ngIf]="resultType == \'boolean\'">\r\n                    <tr>\r\n                        <td>\r\n                            {{queryResult}}\r\n                        </td>\r\n                    </tr>\r\n                </ng-template>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <div style="margin-top: 4px;">\r\n        <button *ngIf="isOpenGraphEnabled()" class="btn btn-xs btn-default" (click)="openGraph()">\r\n            <img src="'+n(64)+'" title="See results as graph" width="11px">\r\n        </button>\r\n        <div class="btn-group btn-group-xs pull-right" role="group">\r\n            <button class="btn btn-default" title="Previous page" (click)="resultsPage=resultsPage-1" [disabled]="resultsPage==0">\r\n                <span class="glyphicon glyphicon-triangle-left"></span>\r\n            </button>\r\n            <button class="btn btn-default" style="cursor: auto" disabled>\r\n                <span>{{resultsPage+1}} of {{resultsTotPage}}</span>\r\n            </button>\r\n            <button class="btn btn-default" title="Next page" (click)="resultsPage=resultsPage+1" [disabled]="resultsPage>=resultsTotPage-1">\r\n                <span class="glyphicon glyphicon-triangle-right"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="hbox" style="flex: initial">\r\n\r\n    <div class="panel panel-alt" style="flex: 2; margin-right: 4px;" >\r\n        <div class="panel-heading">\r\n            <span style="flex: 1">\r\n                <label>Stored query: </label> {{storedQueryName}}\r\n            </span>\r\n            <button class="btn btn-xs btn-default" (click)="changeStoredQuery()" title="Change stored query">\r\n                <span class="glyphicon glyphicon-pencil"></span>\r\n            </button>\r\n        </div>\r\n        <div class="panel-body">\r\n            <yasgui [query]="query" (querychange)="onQueryChange($event)" [readonly]="true"></yasgui>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="vbox">\r\n        <query-param-form class="vbox" [bindings]="parameterization" (update)="onVarBindingsUpdate($event)"\r\n            (paramsChange)="onParametrizationsChange($event)"></query-param-form>\r\n        <div class="hbox" style="margin-top: 4px; align-items: center; flex: initial;">\r\n            <label style="margin-right: 4px;">Description:</label>\r\n            <textarea class="form-control input-sm" style="resize: none" rows="3" [(ngModel)]="description" (ngModelChange)="onDescriptionChange()"></textarea>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n\x3c!--Commands (submit, clear, inferred, ...)--\x3e\r\n<div style="margin: 5px 0;">\r\n    <button class="btn btn-xs btn-primary" type="button" (click)="doQuery()" [disabled]="queryInProgress || !queryValid">\r\n        Submit\r\n    </button>\r\n    <button class="btn btn-xs btn-info" type="button" (click)="clear()" [disabled]="queryResult == null">Clear</button>\r\n    <div class="hbox" style="align-items: center; display: inline-flex; margin-left: 6px;">\r\n        <div class="hbox" style="align-items: center; display: inline-flex; margin-left: 5px;">\r\n            <label style="margin-right: 2px;">Include inferred:</label>\r\n            <input type="checkbox" [(ngModel)]="inferred">\r\n        </div>\r\n        <div class="dropdown" style="margin-left: 6px;">\r\n            <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown"\r\n                [disabled]="queryResult == null || resultType == \'boolean\'">\r\n                Save results as... <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li><a (click)="exportAsJSON()">Json</a></li>\r\n                <li><a (click)="exportAsCSV()">CSV</a></li>\r\n                <li><a (click)="exportAsTSV()">TSV</a></li>\r\n                <li><a (click)="exportAsSpradsheet(\'xlsx\')">XLSX (Microsoft spreadsheet)</a></li>\r\n                <li><a (click)="exportAsSpradsheet(\'ods\')">ODS (OpenDocument spreadsheet)</a></li>\r\n                <li *ngIf="resultType==\'graph\'"><a (click)="exportAsRdf()">RDF format...</a></li>\r\n            </ul>\r\n        </div>\r\n        <span style="display: inline; margin-left: 6px;">\r\n            <span *ngIf="queryResult != null && resultType != \'boolean\'">\r\n                Results count: {{queryResult.length}}\r\n            </span>\r\n            <span *ngIf="queryTime">(Done in {{queryTime}})</span>\r\n        </span>\r\n    </div>\r\n    <div class="hbox pull-right" style="align-items: center">\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default btn-xs" title="Save parameterized query" (click)="saveConfiguration()" [disabled]="!storedQueryReference">\r\n                    <span class="glyphicon glyphicon-floppy-save"></span>\r\n                </button>\r\n                <button class="btn btn-default btn-xs" title="Load parameterized query" (click)="loadConfiguration()">\r\n                    <span class="glyphicon glyphicon-floppy-open"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\x3c!--Query result--\x3e\r\n<div *ngIf="queryResult != null" class="vbox">\r\n    <div class="table-responsive vbox" style="border: 1px solid #ddd; padding: 4px;">\r\n        <table class="table table-striped table-condensed table-hoverable" style="flex: 1">\r\n            <thead>\r\n                <tr>\r\n                    <th *ngFor="let h of headers" style="white-space: nowrap">\r\n                        {{h}}\r\n                        <button *ngIf="resultType != \'boolean\'" class="btn btn-xs btn-default" [ngSwitch]="sortOrder" (click)="sortResult(h)">\r\n                            <span class="glyphicon glyphicon-sort-by-alphabet" *ngSwitchCase="h+asc_Order" ></span>\r\n                            <span class="glyphicon glyphicon-sort-by-alphabet-alt" *ngSwitchCase="h+desc_Order"></span>\r\n                            <span class="glyphicon glyphicon-sort" *ngSwitchDefault></span>\r\n                        </button>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody style="overflow: auto;">\r\n                <ng-template [ngIf]="resultType != \'boolean\'">\r\n                    <ng-template ngFor let-bindings [ngForOf]="queryResult" let-i="index">\r\n                        <ng-template [ngIf]="i >= resultsPage*resultsLimit && i < resultsPage*resultsLimit + resultsLimit"> \x3c!-- paging filter --\x3e\r\n                            <tr>\r\n                                <td *ngFor="let h of headers">\r\n                                    <span *ngIf="bindings[h]" [ngClass]="{ clickable: isBindingResource(bindings[h]) }" (click)="onBindingClick(bindings[h])">\r\n                                        {{getBindingShow(bindings[h])}}\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </ng-template>\r\n                    </ng-template>\r\n                </ng-template>\r\n                <ng-template [ngIf]="resultType == \'boolean\'">\r\n                    <tr>\r\n                        <td>\r\n                            {{queryResult}}\r\n                        </td>\r\n                    </tr>\r\n                </ng-template>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <div style="margin-top: 4px;">\r\n        <button *ngIf="isOpenGraphEnabled()" class="btn btn-xs btn-default" (click)="openGraph()">\r\n            <img src="'+n(64)+'" title="See results as graph" width="11px">\r\n        </button>\r\n        <div class="btn-group btn-group-xs pull-right" role="group">\r\n            <button class="btn btn-default" title="Previous page" (click)="resultsPage=resultsPage-1" [disabled]="resultsPage==0">\r\n                <span class="glyphicon glyphicon-triangle-left"></span>\r\n            </button>\r\n            <button class="btn btn-default" style="cursor: auto" disabled>\r\n                <span>{{resultsPage+1}} of {{resultsTotPage}}</span>\r\n            </button>\r\n            <button class="btn btn-default" title="Next page" (click)="resultsPage=resultsPage+1" [disabled]="resultsPage>=resultsTotPage-1">\r\n                <span class="glyphicon glyphicon-triangle-right"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div *ngIf="!readonly"  class="checkbox" style="margin: 0px;">\r\n    <label>\r\n        <input type="checkbox" [(ngModel)]="fetchFromPrefixCheck" (change)="onCheckboxChange($event.target.checked)">Fetch prefix from prefix.cc\r\n    </label>\r\n</div>\r\n<div style="position: relative" class="vbox" [ngClass]="{ \'yasqe-hide-btns\' : hideButtons }">\r\n    <textarea #txtarea [ngClass]="{disabled: readonly}">{{query}}</textarea>\r\n    <div *ngIf="!hideButtons" style="position: absolute; top: 9px; right: 46px; z-index: 5; opacity: 0.7">        \r\n        <a href="http://about.yasgui.org/" target="_blank" class="btn btn-info btn-xs">YASGUI</a>\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            \r\n            <ng-container *ngIf="safeToGo.safe; else unsafetyBlock">\r\n                <ng-container *ngFor="let n of list; let idx=index">\r\n                    <lexical-entry-list-node *ngIf="idx < nodeLimit && (!n.isDeprecated() || showDeprecated && n.isDeprecated())"\r\n                        [node]="n" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated"\r\n                        [context]="context" [projectCtx]="projectCtx"\r\n                        (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)">\r\n                    </lexical-entry-list-node>\r\n                </ng-container>\r\n            </ng-container>\r\n\r\n            <ng-template #unsafetyBlock>\r\n                <div class="alert alert-warning">\r\n                    This LexicalEntry list has an amount of elements ({{safeToGo.count}}) that exceeds the limit set in the settings ({{safeToGoLimit}}).\r\n                    Retrieving them all could be a long process, you might experience performance decrease or it might even hang the system.<br>\r\n                    It is recommended\r\n                    <ng-container *ngIf="unsafeIndexOneChar">\r\n                        to change the index length from 1-char to 2-char or\r\n                    </ng-container>\r\n                    to switch from <i>Index based</i> to <i>Search based</i> visualization mode from the list \r\n                    <a href="javascript:void(0)" (click)="requireSettings.emit()">settings</a>.\r\n                    <br>\r\n                    <ng-container *ngIf="!lexicon">\r\n                        You can also reduce the amount of lexical entries by selecting a lexicon from the <i>Lexicon</i> panel.<br>\r\n                    </ng-container>\r\n                    If you want to force the lexical entry list initialization at your own risk, click <a href="javascript:void(0)" (click)="forceSafeness()">here</a>\r\n                </div>\r\n            </ng-template>\r\n\r\n        </div>\r\n\r\n        <div #blockDivList class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="treeNode" #listNodeElement>\r\n    <rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()"\r\n        [ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}">\r\n    </rdf-resource>\r\n    <input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked" (ngModelChange)="onNodeCheckChange()">\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">\r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group">\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <button *ngIf="isActionVisible(action)" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                    <img [src]="action.icon" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template>\r\n        </div>\r\n        <div *ngIf="editable" style="margin: 0px 5px;">\r\n            <img *ngIf="!workingLexicon" src="'+n(815)+'"\r\n                title="No Lexicon selected, creation operation are disabled">\r\n        </div>\r\n        <div style="flex: 1"></div>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n            <button *ngIf="isOpenSettingsAvailable()" class="btn btn-default btn-xs" title="Settings" (click)="settings()">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" [disabled]="!allowMultiselection && !isOpenGraphEnabled(\'dataOriented\')">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                    <a (click)="openDataGraph()">\r\n                        <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                        Show data-oriented graph\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- List --\x3e\r\n    <div class="panel-body vbox">\r\n\r\n        <div *ngIf="lexiconChangeable" style="padding-bottom: 3px; display: flex; align-items: center">\r\n            <span style="white-space: nowrap; margin: 0px 3px;">Lexicon:</span>\r\n            <select class="form-control input-xs" [(ngModel)]="workingLexicon" (ngModelChange)="onLexiconSelectionChange()">\r\n                <option *ngFor="let l of lexiconList" [ngValue]="l">{{getLexiconRendering(l)}}</option>\r\n            </select>\r\n        </div>\r\n\r\n        <div *ngIf="visualizationMode == \'indexBased\'" style="padding-bottom: 3px; display: flex; align-items: center">\r\n            <select class="form-control input-xs" [(ngModel)]="firstDigitIndex" (ngModelChange)="onDigitChange()" style="width: initial">\r\n                <option *ngFor="let i of alphabet">{{i}}</option>\r\n            </select>\r\n            <ng-template [ngIf]="indexLenght>1">\r\n                <span style="font-weight: bold; margin: 0 5px">&gt;</span>\r\n                <select class="form-control input-xs" [(ngModel)]="secondDigitIndex" (ngModelChange)="onDigitChange()" style="width: initial">\r\n                    <option value=" ">{{firstDigitIndex}}</option>\r\n                    <option *ngFor="let i of alphabet" [value]="i">{{firstDigitIndex}}{{i}}</option>\r\n                </select>\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div *ngIf="visualizationMode == \'searchBased\' && !lastSearch" class="alert alert-warning" style="margin-bottom: 4px;">\r\n            Please use the search field to retrieve lexical entries\r\n        </div>\r\n\r\n        <lexical-entry-list [lexicon]="workingLexicon" [index]="index" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated"\r\n            [context]="context" [projectCtx]="projectCtx" (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)" (requireSettings)="settings()">\r\n        </lexical-entry-list>\r\n    </div>\r\n\r\n    \x3c!-- Search --\x3e\r\n    <div *ngIf="!hideSearch" class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" (advancedSearch)="advancedSearch($event)" [role]="panelRole" \r\n            [context]="context" [projectCtx]="projectCtx" [disabled]="!workingLexicon">\r\n        </search-bar>\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Lexical Entry list settings</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Visualization mode</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="visualization">\r\n                        <option *ngFor="let vm of visualizationModes" [value]="vm.value">{{vm.label}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <ng-container *ngIf="visualization == \'indexBased\'">\r\n                <tr>\r\n                    <td nowrap>\r\n                        <label>\r\n                            Lexical entries limitation\r\n                            <span class="glyphicon glyphicon-info-sign" \r\n                                title="Sets the maximum amount of lexical entries visible in the list. This setting prevents the initialization of a list that might cause performance issues"></span>\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <input class="form-control input-sm" type="number" min="1" [(ngModel)]="safeToGoLimit">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td nowrap>\r\n                        <label>Index length</label>\r\n                    </td>\r\n                    <td>\r\n                        <select class="form-control input-sm" [(ngModel)]="indexLenght">\r\n                            <option *ngFor="let l of lenghtChoices">{{l}}</option>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n            </ng-container>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <lexical-entry-list-panel style="flex: 3; margin-bottom: 4px;"\r\n        [lexiconChangeable]="true" [editable]="false" [deletable]="false" (nodeSelected)="onLexEntrySelected($event)"\r\n        (lexiconChanged)="onLexEntryLexiconChange($event)" (indexChanged)="onIndexChanged($event)">\r\n    </lexical-entry-list-panel>\r\n\r\n    <resource-list style="flex: 1" [resources]="lexicalSenses" (nodeSelected)="onLexicalSenseSelected($event)"></resource-list>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            <ng-container *ngFor="let n of list; let idx=index">\r\n                <div *ngIf="idx < nodeLimit && (!n.isDeprecated() || showDeprecated && n.isDeprecated())">\r\n                    <div class="listNodeItem">\r\n                        <input *ngIf="context == \'dataPanel\'" type="radio" style="margin-right: 5px;" name="lex_radio"\r\n                            [checked]="n == activeLexicon" (click)="toggleLexicon(n)">\r\n                        <lexicon-list-node [node]="n" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" \r\n                            [context]="context" [projectCtx]="projectCtx"\r\n                            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)" style="flex: 1">\r\n                        </lexicon-list-node>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n        </div>\r\n\r\n        <div #blockDivList class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="treeNode" #listNodeElement>\r\n    <rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()"\r\n        [ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}">\r\n    </rdf-resource>\r\n    <input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked" (ngModelChange)="onNodeCheckChange()">\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">\r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group">\r\n            \x3c!-- <button class="btn btn-default" title="Create Lexicon" (click)="create()" [disabled]="isCreateDisabled()">\r\n                <img src="'+n(801)+'" class="panelButtonImg"/>\r\n            </button>\r\n            <ng-template [ngIf]="deletable">\r\n                <button class="btn btn-default" title="Delete Lexicon" (click)="delete()" [disabled]="isDeleteDisabled()">\r\n                    <img src="'+n(802)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <button class="btn btn-default" title="Deprecate Lexicon" (click)="deprecate()" [disabled]="isDeprecateDisabled()">\r\n                    <img src="'+n(803)+'" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template> --\x3e\r\n\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <button *ngIf="isActionVisible(action)" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                    <img [src]="action.icon" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template>\r\n        </div>\r\n        <div style="flex: 1"></div>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" [disabled]="!allowMultiselection && !isOpenGraphEnabled(\'dataOriented\')">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                    <a (click)="openDataGraph()">\r\n                        <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                        Show data-oriented graph\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    \x3c!-- List --\x3e\r\n    <div class="panel-body vbox">\r\n        <lexicon-list [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context" [projectCtx]="projectCtx"\r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)" >\r\n        </lexicon-list>\r\n    </div>\r\n\r\n    \x3c!-- Search --\x3e\r\n    <div *ngIf="!hideSearch" class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" (advancedSearch)="advancedSearch($event)" [role]="panelRole" [context]="context" [projectCtx]="projectCtx"></search-bar>\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="hbox">\r\n    <class-tree-panel [roots]="roots" context="clsIndTree" (nodeSelected)="onTreeClassSelected($event)" [editable]="false" [projectCtx]="projectCtx">\r\n    </class-tree-panel>\r\n\r\n    \x3c!-- Show appropriate tree/list according to the selected class --\x3e\r\n    <div [ngSwitch]="selectedClass?.getURI()" class="vbox" style="margin-left: 4px;">\r\n\r\n        <concept-tree-panel *ngSwitchCase="\'http://www.w3.org/2004/02/skos/core#Concept\'" [context]="context"\r\n            [schemes]="currentSchemes" [editable]="editable" [deletable]="deletable" [schemeChangeable]="true"\r\n            [allowMultiselection]="allowMultiselection" [projectCtx]="projectCtx"\r\n            (nodeSelected)="onInstanceSelected($event)" (nodeChecked)="onNodeChecked($event)"\r\n            (schemeChanged)="onConceptTreeSchemeChange($event)" (multiselectionStatus)="onMultiselectionChange($event)">\r\n        </concept-tree-panel>\r\n\r\n        <scheme-list-panel *ngSwitchCase="\'http://www.w3.org/2004/02/skos/core#ConceptScheme\'" [context]="context"\r\n            [editable]="editable" [deletable]="deletable" [allowMultiselection]="allowMultiselection" [projectCtx]="projectCtx"\r\n            (nodeSelected)="onInstanceSelected($event)" (nodeChecked)="onNodeChecked($event)"\r\n            (multiselectionStatus)="onMultiselectionChange($event)">\r\n        </scheme-list-panel>\r\n\r\n        <collection-tree-panel *ngSwitchCase="\'http://www.w3.org/2004/02/skos/core#Collection\'" [context]="context"\r\n            [editable]="editable" [deletable]="deletable" [allowMultiselection]="allowMultiselection"  [projectCtx]="projectCtx"\r\n            (nodeSelected)="onInstanceSelected($event)" (nodeChecked)="onNodeChecked($event)" (multiselectionStatus)="onMultiselectionChange($event)">\r\n        </collection-tree-panel>\r\n\r\n        <lexical-entry-list-panel *ngSwitchCase="\'http://www.w3.org/ns/lemon/ontolex#LexicalEntry\'" [context]="context"\r\n            [lexiconChangeable]="true" [editable]="editable" [deletable]="deletable" [allowMultiselection]="allowMultiselection"\r\n            [projectCtx]="projectCtx" (nodeSelected)="onInstanceSelected($event)" (nodeChecked)="onNodeChecked($event)"\r\n            (lexiconChanged)="onLexEntryLexiconChange($event)" (multiselectionStatus)="onMultiselectionChange($event)">\r\n        </lexical-entry-list-panel>\r\n\r\n        <lexical-sense-selector *ngSwitchCase="\'http://www.w3.org/ns/lemon/ontolex#LexicalSense\'"\r\n            (nodeSelected)="onInstanceSelected($event)">\r\n        </lexical-sense-selector>\r\n\r\n        <instance-list-panel *ngSwitchDefault [context]="context"\r\n            [cls]="selectedClass" [editable]="editable" [deletable]="deletable" [allowMultiselection]="allowMultiselection" [projectCtx]="projectCtx"\r\n            (nodeSelected)="onInstanceSelected($event)" (nodeChecked)="onNodeChecked($event)" (multiselectionStatus)="onMultiselectionChange($event)">\r\n        </instance-list-panel>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<class-tree-panel #clsPanel [ngStyle]="{ \'flex\': classPanelFlex }" (nodeSelected)="onClassSelected($event)" (advancedSearch)="advancedSearch($event)"\r\n    [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n</class-tree-panel>\r\n\r\n<div class="sliderY" (mousedown)="onMousedown($event);"></div>\r\n\r\n<instance-list-panel #instPanel [ngStyle]="{ \'flex\': instancePanelFlex }" (nodeSelected)="onInstanceSelected($event)"\r\n    (advancedSearch)="advancedSearch($event)" (classChange)="onClassChangeRequest($event)"\r\n    [cls]="selectedClass" [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx"\r\n    [readonly]="readonly" [editable]="editable">\r\n</instance-list-panel>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            <ng-template ngFor let-r [ngForOf]="roots" let-idx="index">\r\n                <class-tree-node *ngIf="idx < rootLimit && (!r.isDeprecated() || showDeprecated && r.isDeprecated())" [node]="r" \r\n                    [root]="true" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated"\r\n                    [filterEnabled]="filterEnabled" [context]="context" [projectCtx]="projectCtx"\r\n                    (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)"\r\n                    (nodeExpandStart)="onNodeExpandStart()" (nodeExpandEnd)="onNodeExpandEnd()">\r\n                </class-tree-node>\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div #blockDivTree class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="treeNode" #treeNodeElement>\r\n    <div class="expandCollapseBtnContainer">\r\n        <ng-template [ngIf]="showExpandCollapseBtn">\r\n            <img *ngIf="!open" src="'+n(49)+'" class="arrow-right" (click)="expandNode().subscribe()">\r\n            <img *ngIf="open" src="'+n(49)+'" (click)="collapseNode()">\r\n        </ng-template>\r\n    </div>\r\n    <div class="hbox" style="position: relative">\r\n        <rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()" \r\n            [ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}"></rdf-resource>\r\n        <div *ngIf="node.getAdditionalProperty(\'numInst\') > 0 && this.showInstanceNumber" style="position: absolute; margin: 4px; top: 0; right: 0;">\r\n            <span class="label label-warning">{{node.getAdditionalProperty(\'numInst\')}}</span>\r\n        </div>\r\n    </div>\r\n    <input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked" (ngModelChange)="onNodeCheckChange()">\r\n</div>\r\n\r\n<div class="subTree" *ngIf="node.getAdditionalProperty(\'more\')==1">\r\n    <ng-template ngFor let-n [ngForOf]="children">\r\n        <ng-template [ngIf]="!n[\'filtered\']">\r\n            <class-tree-node *ngIf="!n.isDeprecated() || showDeprecated && n.isDeprecated()"\r\n                [node]="n" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated"\r\n                [filterEnabled]="filterEnabled" [context]="context" [projectCtx]="projectCtx"\r\n                (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)"\r\n                (nodeExpandStart)="onNodeExpandStart()" (nodeExpandEnd)="onNodeExpandEnd()">\r\n            </class-tree-node>\r\n        </ng-template>\r\n    </ng-template>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">\r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group" style="margin-right: 4px;">\r\n            \x3c!-- <button class="btn btn-default" title="Create Class" (click)="createRoot()" [disabled]="isCreateDisabled()">\r\n                <img src="'+n(151)+'" class="panelButtonImg"/>\r\n            </button>\r\n            <button class="btn btn-default" title="Create SubClass" (click)="createChild()" [disabled]="isCreateChildDisabled()">\r\n                <img src="'+n(791)+'" class="panelButtonImg"/>\r\n            </button>\r\n            <ng-template [ngIf]="deletable">\r\n                <button class="btn btn-default" title="Delete Class" (click)="delete()" [disabled]="isDeleteDisabled()">\r\n                    <img src="'+n(792)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <button class="btn btn-default" title="Deprecate Class" (click)="deprecate()" [disabled]="isDeprecateDisabled()">\r\n                    <img src="'+n(793)+'" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template> --\x3e\r\n\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <button *ngIf="isActionVisible(action)" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                    <img [src]="action.icon" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template>\r\n        </div>\r\n        <div style="flex: 1"></div>\r\n\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n            <button *ngIf="isOpenSettingsAvailable()" class="btn btn-default btn-xs" title="Settings" (click)="settings()">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            \x3c!-- Disabled when all the options are not available --\x3e\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" \r\n                [disabled]="!allowMultiselection && !isOpenGraphEnabled() && isContextDataPanel()">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li *ngIf="!isContextDataPanel()">\r\n                    <a (click)="filterEnabled = !filterEnabled">\r\n                        <span style="flex: 1;">\r\n                            <span class="glyphicon glyphicon-filter" style="margin-right: 4px;"></span>\r\n                            SubClass filter\r\n                        </span>\r\n                        <span *ngIf="filterEnabled" class="glyphicon glyphicon-ok pull-right"></span>\r\n                    </a>\r\n                </li>\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <ng-template [ngIf]="isOpenGraphEnabled()">\r\n                    <li *ngIf="isOpenGraphEnabled(\'modelOriented\')">\r\n                        <a (click)="openModelGraph()">\r\n                            <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                            Show model-oriented graph\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="isOpenIncrementalModelGraphEnabled()">\r\n                        <a (click)="openIncrementalGraph()">\r\n                            <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                            Show model-oriented graph rooted on the selected node\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                        <a (click)="openDataGraph()">\r\n                            <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                            Show data-oriented graph\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="isOpenGraphEnabled(\'umlOriented\')">\r\n                        <a (click)="openUmlGraph()">\r\n                            <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                            Show class-diagram\r\n                        </a>\r\n                    </li>\r\n                </ng-template>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    \x3c!-- Tree --\x3e\r\n    <div class="panel-body vbox">\r\n        <class-tree [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [filterEnabled]="filterEnabled" \r\n            [roots]="roots" [context]="context" [projectCtx]="projectCtx"\r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)"></class-tree>\r\n    </div>\r\n\r\n    \x3c!-- Search --\x3e\r\n    <div *ngIf="!hideSearch" class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" [role]="panelRole" [context]="context"></search-bar>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Class tree settings</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height: 40vh;">\r\n\r\n    <div class="hbox" style="align-items: center; flex: initial;">\r\n        <label style="white-space: nowrap; margin-right: 4px;">\r\n            Root class:\r\n        </label>\r\n        <input-editable *ngIf="rootClass" [value]="rootClass.getURI()" (valueEdited)="updateRootClass($event)" style="flex: 1;"></input-editable>\r\n        <button class="btn btn-default btn-sm" style="line-height: 1; margin-left: 4px;" (click)="changeClass()">\r\n            <img src="'+n(213)+'"/>\r\n        </button>\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox" style="margin-top: 8px;">\r\n        <div class="panel-heading">\r\n            <label>\r\n                SubClasses filter\r\n                <span class="glyphicon glyphicon-info-sign" title="Here you can create filters in order to hide subClasses of classes."></span>\r\n            </label>\r\n            <div style="flex: 1"></div>\r\n            <label>Enabled</label>\r\n            <input type="checkbox" style="margin-left: 6px;" [(ngModel)]="filterEnabled" title="Enable filter">\r\n        </div>\r\n        <div class="panel-body hbox">\r\n            <div class="panel panel-alt vbox">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">Classes</label>\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <button class="btn btn-default btn-xs" title="Rendering" (click)="renderingClasses = !renderingClasses"\r\n                            [ngClass]="{active: renderingClasses}">\r\n                            <span class="glyphicon glyphicon-font"></span>\r\n                        </button>\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button class="btn btn-default" (click)="addFilter()" title="Add filter">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" (click)="removeFilter()" title="Remove filter" [disabled]="!selectedFilteredClass">\r\n                                <span class="glyphicon glyphicon-minus"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body scrollableContainer">\r\n                    <div *ngFor="let f of filterMapRes" class="listItem" (click)="selectFilteredClass(f.cls)"\r\n                        [ngClass]="{ active: f.cls == selectedFilteredClass }">\r\n                        <rdf-resource [resource]="f.cls" [rendering]="renderingClasses"></rdf-resource>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="panel panel-alt vbox" style="margin-left: 4px;">\r\n                <div class="panel-heading">\r\n                    <label style="flex: 1">Filtered subClasses</label>\r\n                    <div class="btn-toolbar" role="toolbar">\r\n                        <button class="btn btn-default btn-xs" title="Rendering" (click)="renderingFilter = !renderingFilter"\r\n                            [ngClass]="{active: renderingFilter}">\r\n                            <span class="glyphicon glyphicon-font"></span>\r\n                        </button>\r\n                        <div class="btn-group btn-group-xs">\r\n                            <button class="btn btn-default" (click)="checkAllClasses(true)" title="Check all" [disabled]="!selectedFilteredClass">\r\n                                <span class="glyphicon glyphicon-check"></span>\r\n                            </button>\r\n                            <button class="btn btn-default" (click)="checkAllClasses(false)" title="Uncheck all" [disabled]="!selectedFilteredClass">\r\n                                <span class="glyphicon glyphicon-unchecked"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="panel-body scrollableContainer">\r\n                    <div *ngFor="let f of getFilterSubClasses()" class="listItem">\r\n                        <input type="checkbox" style="margin-right: 5px;" [(ngModel)]="f.checked" [disabled]="f.disabled">\r\n                        <rdf-resource [resource]="f.resource" [rendering]="renderingFilter" style="flex: 1;"></rdf-resource>\r\n                        <span *ngIf="f.checked" class="glyphicon glyphicon-eye-open"></span>\r\n                        <span *ngIf="!f.checked" class="glyphicon glyphicon-eye-close"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style="margin-top: 8px;">\r\n        <div class="checkbox-inline">\r\n            <label>\r\n                <input type="checkbox" [(ngModel)]="showInstNumb"> Show instances number\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            <ng-template ngFor let-n [ngForOf]="list" let-idx="index">\r\n                <datatype-list-node *ngIf="idx < nodeLimit && (!n.isDeprecated() || showDeprecated && n.isDeprecated())"\r\n                    [node]="n" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context" [projectCtx]="projectCtx"\r\n                    (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)">\r\n                </datatype-list-node>\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div #blockDivList class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="treeNode" #listNodeElement>\r\n    <rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()" [ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}">\r\n    </rdf-resource>\r\n    <input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked" (ngModelChange)="onNodeCheckChange()">\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">\r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group">\r\n            \x3c!-- <button class="btn btn-default" title="Create Datatype" (click)="create()" [disabled]="isCreateDisabled()">\r\n                <img src="'+n(794)+'" class="panelButtonImg"/>\r\n            </button>\r\n            <ng-template [ngIf]="deletable">\r\n                <button class="btn btn-default" title="Delete Datatype" (click)="delete()" [disabled]="isDeleteDisabled()">\r\n                    <img src="'+n(795)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <button class="btn btn-default" title="Deprecate Datatype" (click)="deprecate()" [disabled]="isDeprecateDisabled()">\r\n                    <img src="'+n(796)+'" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template> --\x3e\r\n\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <button *ngIf="isActionVisible(action)" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                    <img [src]="action.icon" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template>\r\n        </div>\r\n        <div style="flex: 1"></div>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" [disabled]="!allowMultiselection && !isOpenGraphEnabled(\'dataOriented\')">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                    <a (click)="openDataGraph()">\r\n                        <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                        Show data-oriented graph\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n    \x3c!-- Tree --\x3e\r\n    <div class="panel-body vbox">\r\n        <datatype-list [full]="full" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context" [projectCtx]="projectCtx"\r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)">\r\n        </datatype-list>\r\n    </div>\r\n\r\n    \x3c!-- Search --\x3e\r\n    <div class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" (advancedSearch)="advancedSearch($event)" [role]="panelRole" [context]="context" [projectCtx]="projectCtx"></search-bar>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            <ng-template ngFor let-n [ngForOf]="list" let-idx="index">\r\n                <instance-list-node *ngIf="idx < nodeLimit && (!n.isDeprecated() || showDeprecated && n.isDeprecated())"\r\n                    [node]="n" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context"\r\n                    (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)">\r\n                </instance-list-node>\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div #blockDivList class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="treeNode" #listNodeElement>\r\n    <rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()" \r\n        [ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}"></rdf-resource>\r\n    <input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked" (ngModelChange)="onNodeCheckChange()">\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">\r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group">\r\n            \x3c!-- <button class="btn btn-default" title="Create Instance" (click)="create()" [disabled]="isCreateDisabled()">\r\n                <img src="'+n(798)+'" class="panelButtonImg"/>\r\n            </button>\r\n            <ng-template [ngIf]="deletable">\r\n                <button class="btn btn-default" title="Delete Instance" (click)="delete()" [disabled]="isDeleteDisabled()">\r\n                    <img src="'+n(799)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <button class="btn btn-default" title="Deprecate Instance" (click)="deprecate()" [disabled]="isDeprecateDisabled()">\r\n                    <img src="'+n(800)+'" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template> --\x3e\r\n\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <button *ngIf="isActionVisible(action)" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                    <img [src]="action.icon" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template>\r\n        </div>\r\n        <div style="flex: 1"></div>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n            <button *ngIf="isOpenSettingsAvailable()" class="btn btn-default btn-xs" title="Settings" (click)="settings()">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" [disabled]="!allowMultiselection && !isOpenGraphEnabled(\'dataOriented\')">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                    <a (click)="openDataGraph()">\r\n                        <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                        Show data-oriented graph\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    \x3c!-- Tree --\x3e\r\n    <div class="panel-body vbox">\r\n        <instance-list [cls]="cls" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated"\r\n            [context]="context" [projectCtx]="projectCtx"\r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)">\r\n        </instance-list>\r\n    </div>\r\n\r\n    \x3c!-- Search --\x3e\r\n    <div *ngIf="!hideSearch" class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" [role]="panelRole" [cls]="cls" [disabled]="!cls" [context]="context"></search-bar>\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Instance list settings</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Visualization mode</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="visualization">\r\n                        <option *ngFor="let vm of visualizationModes" [value]="vm.value">{{vm.label}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            <ng-template ngFor let-r [ngForOf]="roots" let-idx="index">\r\n                <property-tree-node *ngIf="idx < rootLimit && (!r.isDeprecated() || showDeprecated && r.isDeprecated())" \r\n                    [node]="r" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context" [projectCtx]="projectCtx"\r\n                    (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)" (nodeExpandStart)="onNodeExpandStart()" (nodeExpandEnd)="onNodeExpandEnd()">\r\n                </property-tree-node>\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div #blockDivTree class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="treeNode" #treeNodeElement>\r\n\t<div class="expandCollapseBtnContainer">\r\n        <ng-template [ngIf]="showExpandCollapseBtn">\r\n            <img *ngIf="!open" src="'+n(49)+'" class="arrow-right" (click)="expandNode().subscribe()">\r\n            <img *ngIf="open" src="'+n(49)+'" (click)="collapseNode()">\r\n        </ng-template>\r\n\t</div>\r\n    <rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()" \r\n        [ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}"></rdf-resource>\r\n    <input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked" (ngModelChange)="onNodeCheckChange()">        \r\n</div>\r\n\r\n<div class="subTree" *ngIf="node.getAdditionalProperty(\'more\') == 1">\r\n    <ng-template ngFor let-n [ngForOf]="children">\r\n        <property-tree-node *ngIf="!n.isDeprecated() || showDeprecated && n.isDeprecated()"\r\n            [node]="n" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context" [projectCtx]="projectCtx"\r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)" (nodeExpandStart)="onNodeExpandStart()" (nodeExpandEnd)="onNodeExpandEnd()">\r\n        </property-tree-node>\r\n    </ng-template>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">\r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group">\r\n            \x3c!-- <div class="btn-group btn-group-xs" role="group">\r\n                <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" title="Create Property" [disabled]="isCreateDisabled()">\r\n                    <img src="'+n(89)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <ul class="dropdown-menu">\r\n                    <li>\r\n                        <a (click)="createRoot(\'property\')">\r\n                            <img src="'+n(275)+'"/>rdf:Property\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <a (click)="createRoot(\'objectProperty\')">\r\n                            <img src="'+n(276)+'"/>owl:ObjectProperty\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <a (click)="createRoot(\'datatypeProperty\')">\r\n                            <img src="'+n(813)+'"/>owl:DatatypeProperty\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <a (click)="createRoot(\'annotationProperty\')">\r\n                            <img src="'+n(376)+'"/>owl:AnnotationProperty\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <a (click)="createRoot(\'ontologyProperty\')">\r\n                            <img src="'+n(814)+'"/>owl:OntologyProperty\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <button class="btn btn-default" title="Create SubProperty" (click)="createChild()" [disabled]="isCreateChildDisabled()">\r\n                <img src="'+n(805)+'" class="panelButtonImg"/>\r\n            </button>\r\n            <ng-template [ngIf]="deletable">\r\n                <button class="btn btn-default" title="Delete Property" (click)="delete()" [disabled]="isDeleteDisabled()">\r\n                    <img src="'+n(806)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <button class="btn btn-default" title="Deprecate Property" (click)="deprecate()" [disabled]="isDeprecateDisabled()">\r\n                    <img src="'+n(807)+'" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template> --\x3e\r\n\r\n            \x3c!-- <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <button *ngIf="isActionVisible(action)" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                    <img [src]="action.icon" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template> --\x3e\r\n\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <ng-template [ngIf]="isActionVisible(action)">\r\n                    \x3c!-- Simple button --\x3e\r\n                    <button *ngIf="!action.subRoles" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                        <img [src]="action.icon" class="panelButtonImg"/>\r\n                    </button>\r\n                    \x3c!-- Dropdown button --\x3e\r\n                    <div *ngIf="action.subRoles" class="btn-group btn-group-xs" role="group">\r\n                        <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" [title]="action.title" [disabled]="isActionDisabled(action)">\r\n                            <img [src]="action.icon" class="panelButtonImg"/>\r\n                        </button>\r\n                        <ul class="dropdown-menu">\r\n                            <li>\r\n                                <a (click)="executeAction(action, action.role)">\r\n                                    {{action.role}}\r\n                                </a>\r\n                            </li>\r\n                            <li *ngFor="let role of action.subRoles">\r\n                                <a (click)="executeAction(action, role)">\r\n                                    {{role}}\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </ng-template>\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div style="flex: 1"></div>\r\n\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" [disabled]="!allowMultiselection && !isOpenGraphEnabled(\'dataOriented\')">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                    <a (click)="openDataGraph()">\r\n                        <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                        Show data-oriented graph\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n    </div>\r\n    \r\n    \x3c!-- Tree --\x3e\r\n    <div class="panel-body vbox">\r\n        <property-tree [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [type]="type" [resource]="resource" [roots]="rootProperties"\r\n            [context]="context" [projectCtx]="projectCtx" (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)">\r\n        </property-tree>\r\n    </div>\r\n\r\n    \x3c!-- Search --\x3e\r\n    <div *ngIf="!hideSearch" class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" (advancedSearch)="advancedSearch($event)" [role]="panelRole" [context]="context" [projectCtx]="projectCtx"></search-bar>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Andvanced search</h3>\r\n</div>\r\n<div class="modal-body scrollableContainer blockingDivHost" style="padding: 8px;">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label class="control-label">Search string:</label></td>\r\n                <td><input class="form-control input-sm" [(ngModel)]="searchString"></td>\r\n            </tr>\r\n            <tr>\r\n                <td><label class="control-label">Status:</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="selectedStatus">\r\n                        <option *ngFor="let s of statuses" [value]="s.value">{{s.show}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label>Search mode</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="hbox" style="align-items: center;">\r\n                <label class="control-label" style="white-space: nowrap; margin-right: 4px;">String match mode:</label>\r\n                <select class="form-control input-xs" [(ngModel)]="activeSearchMode">\r\n                    <option *ngFor="let sm of searchModes" [value]="sm.value">{{sm.show}}</option>\r\n                </select>\r\n            </div>\r\n            <div style="margin-top: 6px">\r\n                <div class="checkbox-inline">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="useURI">Search in URI\r\n                    </label>\r\n                </div>\r\n                <div class="checkbox-inline">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="useLocalName">Search in local name\r\n                    </label>\r\n                </div>\r\n                <div class="checkbox-inline">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="useNotes">Search in notes\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label>Lexicalization</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="hbox">\r\n                <div class="checkbox" style="margin: 5px 0px 0px">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="restrictLang">Restrict search to languages\r\n                    </label>\r\n                </div>\r\n                <div class="hbox" style="align-items: center; margin-left: 8px;">\r\n                    <div class="input-group input-group-xs">\r\n                        <input type="text" class="form-control" [ngModel]="languages" [disabled]="!restrictLang" readonly>\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-default" (click)="selectRestrictionLanguages()" placeholder="Select languages" [disabled]="!restrictLang">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="checkbox" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="includeLocales" [disabled]="!restrictLang">Include locales in search (e.g. en-GB, en-US)\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- Types --\x3e\r\n    <div class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Types</label>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="addTypesGroup()" title="Add group">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div *ngFor="let group of typesGroups; let lastGroup = last; let indexGroup = index">\r\n                <div class="hbox" style="align-items: center; margin: 2px 0;">\r\n                    <div class="hbox tile-group">\r\n                        <div *ngFor="let t of group; let indexType=index; let lastType = last" class="hbox" style="align-items: center; flex: initial">\r\n                            <span class="tile">\r\n                                <rdf-resource [resource]="t"></rdf-resource>\r\n                                <span class="glyphicon glyphicon-remove-circle" (click)="deleteType(group, indexType)" style="cursor: pointer"\r\n                                    onmouseover="this.className=\'glyphicon glyphicon-remove-sign\';"\r\n                                    onmouseout="this.className=\'glyphicon glyphicon-remove-circle\';">\r\n                                </span>\r\n                                <span *ngIf="context.readOnly" class="glyphicon glyphicon-remove-circle" style="cursor: not-allowed"></span>\r\n                            </span>\r\n                            <span *ngIf="!lastType">AND</span>\r\n                        </div>\r\n                        <div class="hbox" style="align-items: center; flex: initial; margin-left: 2px;">\r\n                            <button class="btn btn-default btn-xs" (click)="addType(group)">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <button class="btn btn-sm btn-default" (click)="deleteTypesGroup(indexGroup)" style="margin-left: 4px;">\r\n                        <span class="glyphicon glyphicon-trash"></span>\r\n                    </button>\r\n                </div>\r\n                <span *ngIf="!lastGroup">OR</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- Schemes --\x3e\r\n    <div *ngIf="showSchemeSelector" class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Schemes</label>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="addSchemesGroup()" title="Add group">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div *ngFor="let group of schemesGroups; let lastGroup = last; let indexGroup = index">\r\n                <div class="hbox" style="align-items: center; margin: 2px 0;">\r\n                    <div class="hbox tile-group">\r\n                        <div *ngFor="let s of group; let indexScheme=index; let lastScheme = last" class="hbox" style="align-items: center; flex: initial">\r\n                            <span class="tile">\r\n                                <rdf-resource [resource]="s"></rdf-resource>\r\n                                <span class="glyphicon glyphicon-remove-circle" (click)="deleteScheme(group, indexScheme)" \r\n                                    style="cursor: pointer" onmouseover="this.className=\'glyphicon glyphicon-remove-sign\';"\r\n                                    onmouseout="this.className=\'glyphicon glyphicon-remove-circle\';">\r\n                                </span>\r\n                                <span *ngIf="context.readOnly" class="glyphicon glyphicon-remove-circle" style="cursor: not-allowed"></span>\r\n                            </span>\r\n                            <span *ngIf="!lastScheme">AND</span>\r\n                        </div>\r\n                        <div class="hbox" style="align-items: center; flex: initial; margin-left: 2px;">\r\n                            <button class="btn btn-default btn-xs" (click)="addScheme(group)">\r\n                                <span class="glyphicon glyphicon-plus"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <button class="btn btn-sm btn-default" (click)="deleteSchemesGroup(indexGroup)" style="margin-left: 4px;">\r\n                        <span class="glyphicon glyphicon-trash"></span>\r\n                    </button>\r\n                </div>\r\n                <span *ngIf="!lastGroup">OR</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- Ingoing links --\x3e\r\n    <div class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Ingoing links</label>\r\n            <div class="btn-group btn-group-xs">\r\n                <button class="btn btn-default" (click)="addIngoingGroup()" title="Add group">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div *ngFor="let group of ingoingLinks; let lastGroup = last; let indexGroup = index">\r\n                <div class="hbox" style="align-items: center; margin: 3px 0;">\r\n                    <div class="panel panel-default" style="flex: 1;">\r\n                        <div class="panel-body">\r\n                            <div class="hbox" style="align-items: center; margin-bottom: 4px;">\r\n                                <label style="margin-right: 4px;">Predicate:</label>\r\n                                <resource-picker style="flex: 1;" [resource]="group.first" [config]="{ roles: [\'property\'] }" [editable]="true"\r\n                                    (resourceChanged)="updatePropIngoing(group, $event)">\r\n                                </resource-picker>\r\n                            </div>\r\n                            <div class="hbox tile-group">\r\n                                <div *ngFor="let v of group.second; let indexValue = index; let lastValue = last" class="hbox" style="align-items: center; flex: initial">\r\n                                    <span class="tile">\r\n                                        <rdf-resource [resource]="v"></rdf-resource>\r\n                                        <span class="glyphicon glyphicon-remove-circle" (click)="deleteIngoingValue(group, indexValue)"\r\n                                            style="cursor: pointer"\r\n                                            onmouseover="this.className=\'glyphicon glyphicon-remove-sign\';"\r\n                                            onmouseout="this.className=\'glyphicon glyphicon-remove-circle\';">\r\n                                        </span>\r\n                                    </span>\r\n                                    <span *ngIf="!lastValue">OR</span>\r\n                                </div>\r\n                                <div class="hbox" style="align-items: center; flex: initial; margin-left: 2px;">\r\n                                    <button class="btn btn-default btn-xs" (click)="addIngoingValue(group)">\r\n                                        <span class="glyphicon glyphicon-plus"></span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button class="btn btn-sm btn-default" (click)="deleteIngoingGroup(indexGroup)" style="margin-left: 4px;">\r\n                        <span class="glyphicon glyphicon-trash"></span>\r\n                    </button>\r\n                </div>\r\n                <span *ngIf="!lastGroup">AND</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    \x3c!-- Outgoing links --\x3e\r\n    <div class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Outgoing links</label>\r\n            <div class="btn-group btn-group-xs dropup">\r\n                <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n                <ul class="dropdown-menu pull-right">\r\n                    <li><a (click)="addOutgoingGroupValue()">Add set of values</a></li>\r\n                    <li><a (click)="addOutgoingGroupFreeText()">Add free text search</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body">\r\n\r\n            <div *ngFor="let group of outgoingLinksValue; let lastGroup = last; let indexGroup = index">\r\n                <div class="hbox" style="align-items: center; margin: 3px 0;">\r\n                    <div class="panel panel-default" style="flex: 1;">\r\n                        <div class="panel-body">\r\n                            <div class="hbox" style="align-items: center; margin-bottom: 4px;">\r\n                                <label style="margin-right: 4px;">Predicate:</label>\r\n                                <resource-picker style="flex: 1;" [resource]="group.first" [config]="{ roles: [\'property\'] }" [editable]="true" \r\n                                    (resourceChanged)="updatePropOutgoingValue(group, $event)">\r\n                                </resource-picker>\r\n                            </div>\r\n                            <div class="hbox tile-group">\r\n                                <div *ngFor="let v of group.second; let indexValue = index; let lastValue = last" class="hbox" style="align-items: center; flex: initial">\r\n                                    <span class="tile">\r\n                                        <rdf-resource [resource]="v"></rdf-resource>\r\n                                        <span class="glyphicon glyphicon-remove-circle" (click)="deleteOutgoingValue(group, indexValue)"\r\n                                            style="cursor: pointer"\r\n                                            onmouseover="this.className=\'glyphicon glyphicon-remove-sign\';"\r\n                                            onmouseout="this.className=\'glyphicon glyphicon-remove-circle\';">\r\n                                        </span>\r\n                                    </span>\r\n                                    <span *ngIf="!lastValue">OR</span>\r\n                                </div>\r\n                                <div class="hbox" style="align-items: center; flex: initial; margin-left: 2px;">\r\n                                    <div class="btn-group btn-group-xs dropup">\r\n                                        <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                                            <span class="glyphicon glyphicon-plus"></span>\r\n                                        </button>\r\n                                        <ul class="dropdown-menu">\r\n                                            <li><a (click)="addOutgoingValue(group, \'resource\')">Add resource</a></li>\r\n                                            <li><a (click)="addOutgoingValue(group, \'literal\')">Add literal</a></li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button class="btn btn-sm btn-default" (click)="deleteOutgoingGroupValue(indexGroup)" style="margin-left: 4px;">\r\n                        <span class="glyphicon glyphicon-trash"></span>\r\n                    </button>\r\n                </div>\r\n                <span *ngIf="!lastGroup">AND</span>\r\n            </div>\r\n\r\n            <span *ngIf="outgoingLinksValue.length > 0 && outgoingLinksFreeText.length > 0">AND</span>\r\n\r\n            <div *ngFor="let group of outgoingLinksFreeText; let lastGroup = last; let indexGroup = index">\r\n                <div class="hbox" style="align-items: center; margin: 3px 0;">\r\n                    <div class="panel panel-default" style="flex: 1;">\r\n                        <div class="panel-body">\r\n                            <div class="hbox" style="align-items: center; margin-bottom: 4px;">\r\n                                <label style="margin-right: 4px;">Predicate:</label>\r\n                                <resource-picker style="flex: 1;" [resource]="group.predicate" [config]="{ roles: [\'property\'] }" [editable]="true" \r\n                                    (resourceChanged)="updatePropOutgoingFreeText(group, $event)">\r\n                                </resource-picker>\r\n                            </div>\r\n                            <div class="hbox">\r\n                                <select class="form-control input-sm" style="width: initial; margin-right: 4px;" [(ngModel)]="group.mode">\r\n                                    <option *ngFor="let sm of searchModes" [value]="sm.value">{{sm.show}}</option>\r\n                                </select>\r\n                                <input class="form-control input-sm" [(ngModel)]="group.searchString">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button class="btn btn-sm btn-default" (click)="deleteOutgoingGroupFreeText(indexGroup)" style="margin-left: 4px;">\r\n                        <span class="glyphicon glyphicon-trash"></span>\r\n                    </button>\r\n                </div>\r\n                <span *ngIf="!lastGroup">AND</span>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Search</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">Custom search</h3>\r\n        <button class="btn btn-default btn-xs" [ngClass]="{active: detailsOn}" title="Show/hide SPARQL details about the custom search" (click)="detailsOn = !detailsOn">\r\n            Details\r\n            <span *ngIf="detailsOn" class="glyphicon glyphicon-eye-open"></span>\r\n            <span *ngIf="!detailsOn" class="glyphicon glyphicon-eye-close"></span>\r\n        </button>\r\n    </div>\r\n</div>\r\n<div class="modal-body blockingDivHost scrollableContainer">\r\n\r\n    <div *ngIf="description" class="alert alert-info" style="margin-bottom: 4px;">\r\n        {{description}}\r\n    </div>\r\n\r\n    <div *ngIf="staticParameterization && !detailsOn" class="alert alert-warning" style="margin-bottom: 4px;">\r\n        This search has no parameters so can only be run as is.\r\n    </div>\r\n\r\n    <query-param-form [bindings]="parameterization" (update)="onVarBindingsUpdate($event)" [configurable]="false" \r\n        [mode]="detailsOn ? \'sparql\' : \'search\'"></query-param-form>\r\n\r\n    <yasgui *ngIf="detailsOn" [query]="query" [readonly]="true" [hideButtons]="true"></yasgui>\r\n\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>\r\n\r\n    '},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">Load Stored Custom Search</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox" style="flex: initial; align-items: center; margin-bottom: 4px;">\r\n        <label>Level:</label>\r\n        <select class="form-control input-sm" style="display: inline-block; margin-left: 4px;" [(ngModel)]="selectedScope" (ngModelChange)="initReferences()">\r\n            <option *ngFor="let s of scopes">{{s}}</option>\r\n        </select>\r\n    </div>\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label style="flex: 1;">Stored Custom Search</label>\r\n            <button class="btn btn-xs btn-default" (click)="add()" title="Delete">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="panel-body table-responsive" style="min-height: 80px;">\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col>\r\n                    <col style="width: 1%;">\r\n                </colgroup>\r\n                <tbody>\r\n                    <tr *ngFor="let ref of references" (click)="selectReference(ref)" [ngClass]="{ info: selectedRef == ref }">\r\n                        <td>{{ref.identifier}}</td>\r\n                        <td>\r\n                            <button class="btn btn-xs btn-default" (click)="deleteReference(ref)" title="Delete">\r\n                                <span class="glyphicon glyphicon-trash"></span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedRef">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="hbox">\r\n    <ng2-completer *ngIf="searchSettings.useAutocompletion" style="flex: 1;" [inputClass]="\'form-control input-xs\'" \r\n        [(ngModel)]="searchStr" [datasource]="completerDatasource" (keydown)="searchKeyHandler($event)" (selected)="doSearch()" [minSearchLength]="3"\r\n        placeholder="Search..." matchClass="matchClass" pause="500" [disableInput]="disabled">\r\n    </ng2-completer>\r\n\r\n    <input *ngIf="!searchSettings.useAutocompletion" type="text" class="form-control input-xs" style="flex: 1;" \r\n        [(ngModel)]="searchStr" (keydown)="searchKeyHandler($event)" placeholder="Search..." [disabled]="disabled">\r\n\r\n\r\n\r\n    <div class="btn-group btn-group-xs dropup" style="margin-left: 4px;">\r\n        <button class="btn btn-default" type="button" (click)="doSearch()" [disabled]="disabled">\r\n            <span class="glyphicon glyphicon-search"></span>\r\n        </button>\r\n        <ng-container *ngIf="showOtherSearch()">\r\n            <button class="btn btn-xs btn-default dropdown-toggle" style="padding-left: 2px; padding-right: 3px;" data-toggle="dropdown">\r\n                <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu pull-right">\r\n                <li (click)="advancedSearch()"><a>Advanced search</a></li>\r\n                <li (click)="customSearch()"><a>Custom search</a></li>\r\n            </ul>\r\n        </ng-container>\r\n    </div>\r\n\r\n    <div class="btn-group btn-group-xs dropup" style="margin-left: 4px;">\r\n        <button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown"\r\n            style="border-radius: 0px; padding-left: 3px; padding-right: 3px; border-right: 1px; width: 24px;">\r\n            <span *ngIf="searchSettings.stringMatchMode == \'startsWith\'" \r\n                style="font-weight: bold; font-size: 14px; line-height: 1;">&#945;..</span>\r\n            <span *ngIf="searchSettings.stringMatchMode == \'contains\'"\r\n                style="font-weight: bold; font-size: 14px; line-height: 1;">.&#945;.</span>\r\n            <span *ngIf="searchSettings.stringMatchMode == \'endsWith\'" \r\n                style="font-weight: bold; font-size: 14px; line-height: 1;">..&#945;</span>\r\n            <span *ngIf="searchSettings.stringMatchMode == \'exact\'" \r\n                style="font-weight: bold; font-size: 14px; line-height: 1;">&#945;</span>\r\n            <span *ngIf="searchSettings.stringMatchMode == \'fuzzy\'" \r\n                style="font-weight: bold; font-size: 14px; line-height: 1; width: 16px">~&#945;</span>\r\n        </button>\r\n        <ul class="dropdown-menu pull-right">\r\n            <li *ngFor="let mode of stringMatchModes">\r\n                <a (click)="updateSearchMode(mode.value, $event)">\r\n                    <span *ngIf="searchSettings.stringMatchMode == mode.value" class="glyphicon glyphicon-ok" style="float: right"></span>\r\n                    <span style="font-weight: bold; font-size: 13px; margin-right: 4px; display: inline-block; width: 24px;">{{mode.symbol}}</span>\r\n                    <span>{{mode.show}}</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n\r\n        <button class="btn btn-default" type="button" (click)="editSettings()">\r\n            <span class="glyphicon glyphicon-cog"></span>\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Search settings</h3>\r\n</div>\r\n<div class="modal-body scrollableContainer">\r\n\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading">\r\n            <label>String match mode</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div *ngFor="let mode of stringMatchModes" class="radio" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="radio" name="searchMode" [value]="mode.value" [(ngModel)]="activeStringMatchMode" \r\n                        (ngModelChange)="updateSettings()">{{mode.show}}\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label style="margin-right: 5px;">Search mode</label>\r\n            <span class="glyphicon glyphicon-info-sign" title="Search always looks for the input string among the lexicalizations"></span>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="checkbox" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="useURI" (ngModelChange)="updateSettings()">\r\n                    Search in URI\r\n                </label>\r\n            </div>\r\n            <div class="checkbox" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="useLocalName" (ngModelChange)="updateSettings()">\r\n                    Search in local name\r\n                </label>\r\n            </div>\r\n            <div class="checkbox" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="useNotes" (ngModelChange)="updateSettings()">\r\n                    Search in notes\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label>Lexicalizations search</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="hbox">\r\n                <div class="checkbox" style="margin: 5px 0px 0px">\r\n                    <label>\r\n                        <input type="checkbox" [(ngModel)]="restrictLang" (ngModelChange)="updateSettings()">\r\n                        Restrict search to languages\r\n                    </label>\r\n                </div>\r\n                <div class="hbox" style="align-items: center; margin-left: 8px;">\r\n                    <div class="input-group input-group-xs">\r\n                        <input type="text" class="form-control" [ngModel]="languages" [disabled]="!restrictLang" readonly>\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-default" (click)="selectRestrictionLanguages()" placeholder="Select languages"\r\n                                [disabled]="!restrictLang">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="checkbox" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="includeLocales" [disabled]="!restrictLang" (ngModelChange)="updateSettings()">\r\n                    Include locales in search (e.g. en-GB, en-US)\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label style="margin-right: 5px;">Autocompletion</label>\r\n            <span class="glyphicon glyphicon-info-sign" \r\n                title="It is highly recommended to disable this feature in big project not hosted by a GraphDB server"></span>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="checkbox" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="useAutocompletion" (ngModelChange)="updateSettings()">\r\n                    Enable autocompletion support during typing\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="settingsForConceptPanel" class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label>Concept search</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="checkbox" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="restrictConceptSchemes" (ngModelChange)="updateSettings()">\r\n                    Restrict the search to the active skos:ConceptScheme(s)\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="settingsForInstancePanel" class="panel panel-default" style="margin-top: 5px;">\r\n        <div class="panel-heading">\r\n            <label>Instances search</label>\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="checkbox" style="margin: 5px 0px 0px">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="extendsToAllIndividuals" (ngModelChange)="updateSettings()">\r\n                    Extend the search to all the individuals (also belonging to other classes)\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            <ng-template ngFor let-r [ngForOf]="roots" let-idx="index">\r\n                <collection-tree-node *ngIf="idx < rootLimit && (!r.isDeprecated() || showDeprecated && r.isDeprecated())"\r\n                    [node]="r" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context" [projectCtx]="projectCtx" \r\n                    (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)" (nodeExpandStart)="onNodeExpandStart()" (nodeExpandEnd)="onNodeExpandEnd()">\r\n                </collection-tree-node>\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div #blockDivTree class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    \r\n    </div>\r\n\r\n</div>'},function(e,t,n){e.exports='<div class="treeNode" #treeNodeElement>\r\n    <div class="expandCollapseBtnContainer">\r\n        <ng-template [ngIf]="showExpandCollapseBtn">\r\n            <img *ngIf="!open" src="'+n(49)+'" class="arrow-right"\r\n                (click)="expandNode().subscribe()">\r\n            <img *ngIf="open" src="'+n(49)+'" (click)="collapseNode()">\r\n        </ng-template>\r\n    </div>\r\n    <rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()"\r\n        [ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}"></rdf-resource>\r\n    <input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked"\r\n        (ngModelChange)="onNodeCheckChange()">\r\n</div>\r\n\r\n<div class="subTree" *ngIf="node.getAdditionalProperty(\'more\')==1">\r\n    <ng-template ngFor let-n [ngForOf]="children">\r\n        <collection-tree-node *ngIf="!n.isDeprecated() || showDeprecated && n.isDeprecated()" [node]="n"\r\n            [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated"\r\n            [context]="context" [projectCtx]="projectCtx" \r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)"\r\n            (nodeExpandStart)="onNodeExpandStart()" (nodeExpandEnd)="onNodeExpandEnd()">\r\n        </collection-tree-node>\r\n    </ng-template>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">  \r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group">\r\n            \x3c!-- <div class="btn-group btn-group-xs" role="group" title="Create Collection">\r\n                <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" [disabled]="isCreateDisabled()">\r\n                    <img src="'+n(274)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <ul class="dropdown-menu">\r\n                    <li><a (click)="createRoot(\'skosCollection\')">Collection</a></li>\r\n                    <li><a (click)="createRoot(\'skosOrderedCollection\')">OrderedCollection</a></li>\r\n                </ul>\r\n            </div>\r\n            <div class="btn-group btn-group-xs" role="group" >\r\n                <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Create a nested Collection" \r\n                    [disabled]="isCreateChildDisabled()">\r\n                    <img src="'+n(808)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <ul class="dropdown-menu">\r\n                    <li><a (click)="createChild(\'skosCollection\')">Collection</a></li>\r\n                    <li><a (click)="createChild(\'skosOrderedCollection\')">OrderedCollection</a></li>\r\n                </ul>\r\n            </div>\r\n            <ng-template [ngIf]="deletable">\r\n                <button class="btn btn-default" title="Delete Collection" (click)="delete()" [disabled]="isDeleteDisabled()">\r\n                    <img src="'+n(809)+'" class="panelButtonImg"/>\r\n                </button>\r\n                <button class="btn btn-default" title="Deprecate Collection" (click)="deprecate()" [disabled]="isDeprecateDisabled()">\r\n                    <img src="'+n(810)+'" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template> --\x3e\r\n\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <ng-template [ngIf]="isActionVisible(action)">\r\n                    \x3c!-- Simple button --\x3e\r\n                    <button *ngIf="!action.subRoles" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                        <img [src]="action.icon" class="panelButtonImg"/>\r\n                    </button>\r\n                    \x3c!-- Dropdown button --\x3e\r\n                    <div *ngIf="action.subRoles" class="btn-group btn-group-xs" role="group">\r\n                        <button class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" [title]="action.title" [disabled]="isActionDisabled(action)">\r\n                            <img [src]="action.icon" class="panelButtonImg"/>\r\n                        </button>\r\n                        <ul class="dropdown-menu">\r\n                            <li>\r\n                                <a (click)="executeAction(action, action.role)">\r\n                                    {{action.role}}\r\n                                </a>\r\n                            </li>\r\n                            <li *ngFor="let role of action.subRoles">\r\n                                <a (click)="executeAction(action, role)">\r\n                                    {{role}}\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </ng-template>\r\n            </ng-template>\r\n        </div>\r\n        <div style="flex: 1;"></div>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            \x3c!-- Disabled when all the options are not available --\x3e\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown" [disabled]="!allowMultiselection && !isOpenGraphEnabled(\'dataOriented\')">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                    <a (click)="openDataGraph()">\r\n                        <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                        Show data-oriented graph\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    \x3c!-- Tree --\x3e\r\n    <div class="panel-body vbox">\r\n        <collection-tree [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context" [projectCtx]="projectCtx" \r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)">\r\n        </collection-tree>\r\n    </div>\r\n\r\n    \x3c!-- Search --\x3e\r\n    <div *ngIf="!hideSearch" class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" (advancedSearch)="advancedSearch($event)" [role]="panelRole" [context]="context" [projectCtx]="projectCtx"></search-bar>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            \r\n            <ng-container *ngIf="safeToGo.safe; else unsafetyBlock">\r\n                <ng-container *ngFor="let r of roots; let idx = index">\r\n                    <concept-tree-node *ngIf="idx < rootLimit && (!r.isDeprecated() || showDeprecated && r.isDeprecated())"\r\n                        [node]="r" [projectCtx]="projectCtx" [schemes]="schemes" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context"\r\n                        (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)" (nodeExpandStart)="onNodeExpandStart()" (nodeExpandEnd)="onNodeExpandEnd()">\r\n                    </concept-tree-node>\r\n                </ng-container>\r\n            </ng-container>\r\n\r\n            <ng-template #unsafetyBlock>\r\n                <div class="alert alert-warning">\r\n                    This Concept tree has an amount of top concepts ({{safeToGo.count}}) that exceeds the limit set in the settings ({{safeToGoLimit}}). \r\n                    Retrieving them all could be a long process, you might experience performance decrease or it might even hang the system.<br>\r\n                    It is recommended to switch from <i>Hierarchy based</i> to <i>Search based</i> visualization mode from the tree <a href="javascript:void(0)" (click)="requireSettings.emit()">settings</a>.\r\n                    <br>\r\n                    <ng-container *ngIf="!schemes || schemes.length == 0">\r\n                        You can also reduce the amount of top concepts by selecting a scheme from the <i>Scheme</i> panel.<br>\r\n                    </ng-container>\r\n                    If you want to force the Concept tree initialization at your own risk, click <a href="javascript:void(0)" (click)="forceSafeness()">here</a>.\r\n                </div>\r\n            </ng-template>\r\n            \r\n        </div>\r\n\r\n        <div #blockDivTree class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="treeNode" #treeNodeElement>\r\n\t<div class="expandCollapseBtnContainer">\r\n\t\t<ng-template [ngIf]="showExpandCollapseBtn">\r\n\t\t\t<img *ngIf="!open" src="'+n(49)+'" class="arrow-right"\r\n\t\t\t\t(click)="expandNode().subscribe()">\r\n\t\t\t<img *ngIf="open" src="'+n(49)+'" (click)="collapseNode()">\r\n\t\t</ng-template>\r\n\t</div>\r\n\t<rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()"\r\n\t\t[ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}"></rdf-resource>\r\n\t<input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked"\r\n\t\t(ngModelChange)="onNodeCheckChange()">\r\n</div>\r\n\r\n<div class="subTree" *ngIf="node.getAdditionalProperty(\'more\')==1">\r\n\t<ng-template ngFor let-n [ngForOf]="children">\r\n\t\t<concept-tree-node *ngIf="!n.isDeprecated() || showDeprecated && n.isDeprecated()" [node]="n"\r\n\t\t\t[projectCtx]="projectCtx" [schemes]="schemes" [rendering]="rendering" [multiselection]="multiselection"\r\n\t\t\t[showDeprecated]="showDeprecated" [context]="context" (nodeSelected)="onNodeSelected($event)"\r\n\t\t\t(nodeChecked)="onNodeChecked($event)" (nodeExpandStart)="onNodeExpandStart()"\r\n\t\t\t(nodeExpandEnd)="onNodeExpandEnd()">\r\n\t\t</concept-tree-node>\r\n\t</ng-template>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Add concepts to scheme</h3>\r\n</div>\r\n<div class="modal-body vbox blockingDivHost">\r\n\r\n    <div class="alert alert-warning">\r\n        You are going to add the concept \'{{context.concept.getShow()}}\' and its descendants to the scheme \'{{context.scheme.getShow()}}\'.\r\n        Are you sure?<br>\r\n    </div>\r\n\r\n    <div class="checkbox-inline" style="margin: 8px 6px; align-self: flex-end;">\r\n        <label>\r\n            <input type="checkbox" [(ngModel)]="setTopConcept">Set top concept\r\n        </label>\r\n        <span class="glyphicon glyphicon-info-sign" title="If checked, set the provided concept as top concept of the target scheme"></span>\r\n    </div>\r\n    \r\n    <div *ngIf="schemeList.length > 0" class="groupPanel vbox">\r\n        <div class="groupPanel-heading">\r\n            <div class="expandCollapseBtnContainer groupPanel-heading-content" style="margin: 0px">\r\n                <img src="'+n(49)+'" (click)="collapsed = !collapsed" [ngClass]="{\'arrow-right\': collapsed}">\r\n            </div>\r\n            <span style="flex: 1">\r\n                <label class="groupPanel-heading-content">Schemes filter:</label>\r\n            </span>\r\n        </div>\r\n        <div class="groupPanel-body vbox">\r\n            <ng-template [ngIf]="!collapsed">\r\n\r\n                <div class="alert alert-info">\r\n                    Only the concepts (among the descendants of \'{{context.concept.getShow()}}\') belonging to at least one of the following\r\n                    schemes will be added to the target scheme.\r\n                </div>\r\n\r\n                <div class="scrollableContainer" style="margin-top: 6px; border: 1px solid #ccc; border-radius: 3px;">\r\n                    <div *ngFor="let s of schemeList" class="listItem hbox" [ngClass]="{active : s == selectedScheme}">\r\n                        <rdf-resource [resource]="s.scheme" style="flex: 1;"></rdf-resource>\r\n                        <input type="checkbox" [(ngModel)]="s.checked">\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div #blockingDiv class="blockingDiv" style="display:none">\r\n        <div class="loadingDiv">\r\n            <div>\r\n                <p>Loading...</p><img src="'+n(18)+'" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">  \r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group">\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <button *ngIf="isActionVisible(action)" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                    <img [src]="action.icon" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template>\r\n        </div>\r\n        <div *ngIf="editable" style="margin: 0px 5px;">\r\n            <img *ngIf="isNoSchemeMode()" src="'+n(815)+'"\r\n                title="No ConceptScheme selected, creation operation are disabled">\r\n        </div>\r\n        <div style="flex: 1"></div>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n            <button *ngIf="isOpenSettingsAvailable()" class="btn btn-default btn-xs" title="Settings" (click)="settings()">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            \x3c!-- Disabled when all the options are not available --\x3e\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown"\r\n                [disabled]="!allowMultiselection && !isOpenGraphEnabled(\'dataOriented\') && !isAddToSchemeEnabled()">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <li *ngIf="isAddToSchemeEnabled()">\r\n                    <a (click)="addToScheme()">\r\n                        <span class="glyphicon glyphicon-share-alt" style="margin-right: 4px;"></span>\r\n                        Add selected concept\'s subtree to scheme...\r\n                    </a>\r\n                </li>\r\n                <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                    <a (click)="openDataGraph()">\r\n                        <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                        Show data-oriented graph\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    \x3c!-- Tree --\x3e\r\n    <div class="panel-body vbox">\r\n\r\n        <div *ngIf="schemeChangeable" style="padding-bottom: 3px; display: flex; align-items: center">\r\n            <span style="white-space: nowrap; margin: 0px 3px;">Concept Scheme:</span>\r\n            <select class="form-control input-xs" [(ngModel)]="selectedSchemeUri" (ngModelChange)="onSchemeSelectionChange()">\r\n                <option value="---">no-scheme</option>\r\n                <option *ngFor="let s of schemeList" [value]="s.getURI()">{{getSchemeRendering(s)}}</option>\r\n            </select>\r\n        </div>\r\n\r\n        <div *ngIf="visualizationMode == \'searchBased\' && !lastSearch" class="alert alert-warning" style="margin-bottom: 4px;">\r\n            Please use the search field to retrieve concepts\r\n        </div>\r\n\r\n        <concept-tree [projectCtx]="projectCtx" [schemes]="workingSchemes" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context"\r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)" (conceptRemovedFromScheme)="onConceptRemovedFromScheme($event)" (requireSettings)="settings()">\r\n        </concept-tree>\r\n    </div>\r\n\r\n    \x3c!-- Search --\x3e\r\n    <div *ngIf="!hideSearch" class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" (advancedSearch)="advancedSearch($event)" [role]="panelRole" [context]="context" [projectCtx]="projectCtx"></search-bar>\r\n    </div>\r\n    \r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Concept tree settings</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox" style="align-items: center; flex: initial">\r\n        <label style="margin-right: 4px; white-space: nowrap;">Visualization mode:</label>\r\n        <select class="form-control input-sm" [(ngModel)]="visualization">\r\n            <option *ngFor="let vm of visualizationModes" [value]="vm.value">{{vm.label}}</option>\r\n        </select>\r\n    </div>\r\n\r\n    <div *ngIf="visualization == \'hierarchyBased\'" class="panel panel-default vbox" style="margin-top: 6px;">\r\n        <div class="panel-body vbox">\r\n\r\n            <div class="form-horizontal">\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-4">\r\n                        Top concepts limitation\r\n                        <span class="glyphicon glyphicon-info-sign" \r\n                            title="Sets the maximum amount of top concepts visible in the tree. This setting prevents the initialization of a tree that might cause performance issues"></span>\r\n                    </label>\r\n                    <div class="col-sm-8">\r\n                        <input class="form-control input-sm" type="number" min="1" [(ngModel)]="safeToGoLimit">\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-4">\r\n                        Multi-scheme mode\r\n                        <span class="glyphicon glyphicon-info-sign" \r\n                            title="Toggles between OR and AND scheme-based filter of concepts in the concept tree"></span>\r\n                    </label>\r\n                    <div class="col-sm-8">\r\n                        <select class="form-control input-sm" [(ngModel)]="selectedMultischemeMode">\r\n                            <option *ngFor="let mode of multischemeModes" [value]="mode">{{mode | uppercase}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-4">\r\n                        Base broader property\r\n                        <span class="glyphicon glyphicon-info-sign" title="Base broader property to be selected when creating narrower concepts"></span>\r\n                    </label>\r\n                    <div class="col-sm-8">\r\n                        <div class="input-group input-group-sm">\r\n                            <input type="text" class="form-control" [ngModel]="baseBroaderProp" readonly>\r\n                            <div class="input-group-btn">\r\n                                <button class="btn btn-default" (click)="changeBaseBroaderProperty()">\r\n                                    <img src="'+n(276)+'"/>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="panel panel-default vbox" style="margin-top: 6px;">\r\n                <div class="panel-heading">\r\n                    <label>Management of broader/narrower</label>\r\n                </div>\r\n                <div class="panel-body vbox">\r\n\r\n                    <div class="alert alert-info" style="margin-bottom: 4px;">\r\n                        Here it is possible to customize the properties on which the concept tree hierarchy is based on.<br>\r\n                        If none of broader/narrower properties is selected, then skos:broader^ and skos:narrower will be used (in OR) to check narrower concepts.\r\n                        If any of the two is selected (with one or more properties), then only the selected properties will be used.\r\n                    </div>\r\n\r\n                    <div class="hbox">\r\n                        <div class="panel panel-alt vbox">\r\n                            <div class="panel-heading">\r\n                                <label style="flex:1">Broader</label>\r\n                                <div class="btn-toolbar" role="toolbar">\r\n                                    <div class="btn-group btn-group-xs">\r\n                                        <button class="btn btn-default" (click)="addBroader()">\r\n                                            <span class="glyphicon glyphicon-plus"></span>\r\n                                        </button>\r\n                                        <button class="btn btn-default" (click)="removeBroader()" [disabled]="!selectedBroader">\r\n                                            <span class="glyphicon glyphicon-minus"></span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="panel-body vbox" style="min-height: 80px;">\r\n                                <resource-list [resources]="broaderProps" (nodeSelected)="selectedBroader = $event"></resource-list>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="panel panel-alt vbox" style="margin-left: 4px;">\r\n                            <div class="panel-heading">\r\n                                <label style="flex:1">Narrower</label>\r\n                                <div class="btn-toolbar" role="toolbar">\r\n                                    <div class="btn-group btn-group-xs">\r\n                                        <button class="btn btn-default" (click)="addNarrower()">\r\n                                            <span class="glyphicon glyphicon-plus"></span>\r\n                                        </button>\r\n                                        <button class="btn btn-default" (click)="removeNarrower()" [disabled]="!selectedNarrower">\r\n                                            <span class="glyphicon glyphicon-minus"></span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="panel-body vbox" style="min-height: 80px;">\r\n                                <resource-list [resources]="narrowerProps" (nodeSelected)="selectedNarrower = $event"></resource-list>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div class="checkbox-inline">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="syncInverse" (ngModelChange)="onSyncChange()">Sync inverse properties\r\n                            </label>\r\n                            <span class="glyphicon glyphicon-info-sign" title="Keep synced the broader/narrower properties with their inverse properties">\r\n                            </span>\r\n                        </div>\r\n                        <div class="checkbox-inline">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="includeSubProps">Include subProperties\r\n                            </label>\r\n                            <span class="glyphicon glyphicon-info-sign"\r\n                                title="Includes the subProperties of the selected broader/narrower properties">\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="userGroup" class="panel-footer" style="margin-top: 6px;">\r\n            <button class="btn btn-xs btn-default pull-right" (click)="applyGroupSettings()">\r\n                Apply group settings\r\n                <span class="glyphicon glyphicon-info-sign" [title]="\'Group: \' + userGroup.shortName"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n\r\n    <div class="panel-body vbox">\r\n\r\n        <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\r\n            <ng-template ngFor let-n [ngForOf]="list" let-idx="index">\r\n                <div *ngIf="idx < nodeLimit && (!n.scheme.isDeprecated() || showDeprecated && n.scheme.isDeprecated())">\r\n                    <div class="listNodeItem">\r\n                        <input *ngIf="context == \'dataPanel\'" type="checkbox" style="margin-right: 5px;" [(ngModel)]="n.checked"\r\n                            (ngModelChange)="updateActiveSchemesPref()">\r\n                        <scheme-list-node [node]="n.scheme" [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" \r\n                            [context]="context" [projectCtx]="projectCtx" (nodeSelected)="selectNode(n)" (nodeChecked)="onNodeChecked($event)" style="flex:1">\r\n                        </scheme-list-node>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div #blockDivList class="blockingDiv" style="display:none">\r\n            <div class="loadingDiv">\r\n                <div>\r\n                    <p>Loading...</p><img src="'+n(18)+'"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="treeNode" #listNodeElement>\r\n\t<rdf-resource [resource]="node" [rendering]="rendering" (click)="selectNode()" \r\n                [ngClass]="{selectedResource : node.getAdditionalProperty(\'selected\')}">\r\n        </rdf-resource>\r\n        <input *ngIf="multiselection" type="checkbox" style="margin-left: 5px;" [(ngModel)]="checked" (ngModelChange)="onNodeCheckChange()">\r\n</div>'},function(e,t,n){e.exports='<div class="panel panel-default vbox">\r\n    \x3c!-- Commands --\x3e\r\n    <div class="panel-heading">\r\n        <div *ngIf="editable" class="btn-group btn-group-xs" role="group">\r\n            <ng-template ngFor let-action [ngForOf]="panelActions">\r\n                <button *ngIf="isActionVisible(action)" class="btn btn-default" [title]="action.title" (click)="executeAction(action)" [disabled]="isActionDisabled(action)">\r\n                    <img [src]="action.icon" class="panelButtonImg"/>\r\n                </button>\r\n            </ng-template>\r\n        </div>\r\n        <div style="flex: 1"></div>\r\n        <div class="btn-toolbar" role="toolbar">\r\n            <ng-container *ngIf="editable && context == \'dataPanel\'">\r\n                <button class="btn btn-xs btn-default" style="font-size: 10px; font-weight: bold; width: 28px; height: 20px; padding: 1px 2px;" \r\n                    (click)="switchMultischemeMode()" title="Toggles between OR and AND scheme-based filter of concepts in the concept tree">\r\n                    {{multischemeMode | uppercase}}\r\n                </button>\r\n                <div class="btn-group btn-group-xs" style="margin-right: 5px;">\r\n                    <button class="btn btn-default" (click)="activateAllScheme()">\r\n                        <span class="glyphicon glyphicon-check" style="width: 16px;"></span>\r\n                    </button>\r\n                    <button class="btn btn-default" title="Deselect all schemes" (click)="deactivateAllScheme()">\r\n                        <span class="glyphicon glyphicon-unchecked" style="width: 16px;"></span>\r\n                    </button>\r\n                </div>\r\n            </ng-container>\r\n            <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering=!rendering" [ngClass]="{ active: rendering }">\r\n                <span class="glyphicon glyphicon-font"></span>\r\n            </button>\r\n            <button class="btn btn-default btn-xs" title="Refresh" (click)="refresh()">\r\n                <span class="glyphicon glyphicon-refresh"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class="dropdown pull-right">\r\n            \x3c!-- Disabled when all the options are not available --\x3e\r\n            <button class="dropdown-toggle transparentBtn" data-toggle="dropdown"\r\n                [disabled]="!allowMultiselection && !isOpenGraphEnabled(\'dataOriented\') && !isAddAllConceptsEnabled()">\r\n                <span>&#9662;</span>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <ng-container *ngIf="allowMultiselection">\r\n                    <li>\r\n                        <a (click)="toggleMultiselection()">\r\n                            <span style="flex: 1;">\r\n                                <span class="glyphicon glyphicon-check" style="margin-right: 4px;"></span>\r\n                                Multiselection\r\n                            </span>\r\n                            <span *ngIf="multiselection" class="glyphicon glyphicon-ok pull-right"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li *ngIf="context==\'dataPanel\' && multiselection" [ngClass]="{ disabled: checkedNodes.length == 0 }">\r\n                        <a (click)="enrichMultiSubject()">\r\n                            <span class="glyphicon glyphicon-check" style="margin-right: 4px; margin-left: 16px;"></span>\r\n                            Add a property value to selected values\r\n                        </a>\r\n                    </li>\r\n                </ng-container>\r\n                <li *ngIf="isAddAllConceptsEnabled()">\r\n                    <a (click)="addAllConcepts()">\r\n                        <span class="glyphicon glyphicon-share-alt" style="margin-right: 4px; transform: rotate(90deg)"></span>\r\n                        Add all concepts to the selected scheme\r\n                    </a>\r\n                </li>\r\n                <li *ngIf="isOpenGraphEnabled(\'dataOriented\')">\r\n                    <a (click)="openDataGraph()">\r\n                        <img src="'+n(64)+'" style="margin-right: 4px;" width="11px">\r\n                        Show data-oriented graph\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n    </div>\r\n    <div class="panel-body vbox">\r\n        <scheme-list [rendering]="rendering" [multiselection]="multiselection" [showDeprecated]="showDeprecated" [context]="context" [projectCtx]="projectCtx" \r\n            (nodeSelected)="onNodeSelected($event)" (nodeChecked)="onNodeChecked($event)">\r\n        </scheme-list>\r\n    </div>\r\n\r\n    \x3c!-- search --\x3e\r\n    <div class="panel-footer">\r\n        <search-bar (search)="doSearch($event)" (advancedSearch)="advancedSearch($event)" [role]="panelRole" [context]="context" [projectCtx]="projectCtx">\r\n        </search-bar>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="vbox">\r\n\r\n    <ul class="nav nav-tabs nav-tabs-xs" (click)="$event.preventDefault()">\r\n        <ng-container *ngFor="let t of tabs">\r\n            <li *ngIf="showTab(t.role)" [ngClass]="{ active : activeTab == t.role, disabled: !isTabAuthorized(t.role) }">\r\n                <a href (click)="selectTab(t.role)">{{t.label}}</a>\r\n            </li>\r\n        </ng-container>\r\n        <li class="active" style="float: right;">\r\n            <a (click)="openSettings()" style="margin: 0px 2px;">\r\n                <span class="glyphicon glyphicon-cog"></span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n    \r\n    \x3c!--Tabs content--\x3e\r\n    <div class="tab-content">\r\n        <div *ngIf="showTab(\'cls\')" [ngClass]="{vbox : activeTab == \'cls\'}" [hidden]="activeTab != \'cls\'">\r\n            <class-individual-tree-panel (nodeSelected)="onNodeSelected($event)" (advancedSearch)="advancedSearch($event)"\r\n                [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n            </class-individual-tree-panel>\r\n        </div>\r\n        <div *ngIf="showTab(\'concept\')" [ngClass]="{vbox : activeTab == \'concept\'}" [hidden]="activeTab != \'concept\'">\r\n            <concept-tree-panel (nodeSelected)="onNodeSelected($event)" (advancedSearch)="advancedSearch($event)"\r\n                [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n            </concept-tree-panel>\r\n        </div>\r\n        <div *ngIf="showTab(\'conceptScheme\')" [ngClass]="{vbox : activeTab == \'conceptScheme\'}" [hidden]="activeTab != \'conceptScheme\'">\r\n            <scheme-list-panel (nodeSelected)="onNodeSelected($event)" (advancedSearch)="advancedSearch($event)"\r\n                [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n            </scheme-list-panel>\r\n        </div>\r\n        <div *ngIf="showTab(\'skosCollection\')" [ngClass]="{vbox : activeTab == \'skosCollection\'}" [hidden]="activeTab != \'skosCollection\'">\r\n            <collection-tree-panel (nodeSelected)="onNodeSelected($event)" (advancedSearch)="advancedSearch($event)" \r\n                [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n            </collection-tree-panel>\r\n        </div>\r\n        <div *ngIf="showTab(\'property\')" [ngClass]="{vbox : activeTab == \'property\'}" [hidden]="activeTab != \'property\'">\r\n            <property-tree-panel (nodeSelected)="onNodeSelected($event)" (advancedSearch)="advancedSearch($event)" \r\n                [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n            </property-tree-panel>\r\n        </div>\r\n        <div *ngIf="showTab(\'limeLexicon\')" [ngClass]="{vbox : activeTab == \'limeLexicon\'}" [hidden]="activeTab != \'limeLexicon\'">\r\n            <lexicon-list-panel (nodeSelected)="onNodeSelected($event)" (advancedSearch)="advancedSearch($event)" \r\n                [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n            </lexicon-list-panel>\r\n        </div>\r\n        <div *ngIf="showTab(\'ontolexLexicalEntry\')" [ngClass]="{vbox : activeTab == \'ontolexLexicalEntry\'}" [hidden]="activeTab != \'ontolexLexicalEntry\'">\r\n            <lexical-entry-list-panel (nodeSelected)="onNodeSelected($event)" (advancedSearch)="advancedSearch($event)" \r\n                [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n            </lexical-entry-list-panel>\r\n        </div>\r\n        <div *ngIf="showTab(\'dataRange\')" [ngClass]="{vbox : activeTab == \'dataRange\'}" [hidden]="activeTab != \'dataRange\'">\r\n            <datatype-list-panel (nodeSelected)="onNodeSelected($event)" (advancedSearch)="advancedSearch($event)" \r\n                [allowMultiselection]="allowMultiselection" [context]="context" [projectCtx]="projectCtx" [readonly]="readonly" [editable]="editable">\r\n            </datatype-list-panel>\r\n        </div>\r\n    </div>\r\n    \r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Tree/List settings</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div class="panel panel-default">\r\n        <div class="panel-body">\r\n            <div class="checkbox">\r\n                <label>\r\n                    <input type="checkbox" [(ngModel)]="showDeprecated" (ngModelChange)="onShowDeprecatedChange()">\r\n                    Show deprecated resources in tree/list\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Change password</h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap><label>Old password:</label></td>\r\n                <td>\r\n                    <input type="password" class="form-control input-sm" [(ngModel)]="oldPwd">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>New password:</label></td>\r\n                <td>\r\n                    <input type="password" class="form-control input-sm" [(ngModel)]="newPwd">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap><label>Confirm new password:</label></td>\r\n                <td>\r\n                    <input type="password" class="form-control input-sm" [ngClass]="{invalid : !isNewPwdConfirmOk()}" [(ngModel)]="newPwdConfirm">\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="vbox" style="align-items: center;" (keydown)="onKeydown($event)">\r\n\t<div style="margin-bottom: 5px; font-weight: bold; font-size: 13px;">\r\n\t\t<span class="glyphicon glyphicon-log-in"></span>\r\n\t\t<span> User login</span>\r\n\t</div>\r\n\t<input type="text" class="form-control input-sm" style="margin-bottom: 5px;" [(ngModel)]="email" placeholder="E-mail address">\r\n\t<input type="password" class="form-control input-sm" style="margin-bottom: 5px;" [(ngModel)]="password" placeholder="Password">\r\n\t<button class="btn btn-sm btn-primary" style="margin-bottom: 5px;" (click)="login()">Log in</button>\r\n\t<a (click)="forgotPassword()" style="cursor: pointer">Forgot password?</a>\r\n\t<a [routerLink]="[\'/Registration/0\']">Sign up</a>\r\n</div>'},function(e,t){e.exports='<div class="container vbox" style="flex: initial">\r\n\r\n    <div class="panel panel-default vbox" style="flex: initial">\r\n        <div class="panel-heading">\r\n            <label><span class="glyphicon glyphicon-user"></span> User registration:</label>\r\n        </div>\r\n        <div class="panel-body scrollableContainer">\r\n            <div *ngIf="privacyStatementAvailable" class="alert alert-info" style="margin-bottom: 6px;">\r\n                Please read our <a [routerLink]="" (click)="downloadPrivacyStatement()" style="font-weight: bold;">privacy statement</a>\r\n            </div>\r\n\r\n            <div *ngIf="firstAccess" class="alert alert-info" style="margin-bottom: 4px;">\r\n                VocBench found no registered user. In order to use the platform, you need to create an administrator account by entering\r\n                personal data and login credentials. A pre-defined user\r\n                (<span style="font-weight: bold;">username:</span> admin@vocbench.com, <span style="font-weight: bold;">password:</span> admin)\r\n                is available for letting those willing to use VocBench as a simple desktop tool and skip the user creation procedure.\r\n                <button class="btn btn-xs btn-primary" (click)="fillDefaultUser()">Fill pre-defined user</button>\r\n            </div>\r\n            <user-create [(ngModel)]="userForm"></user-create>\r\n        </div>\r\n        <div class="panel-footer">\r\n            <div class="pull-left">\r\n                <div><span style="color: red; margin-right: 2px;">* </span>Mandatory field</div>\r\n                <div><span style="color: red; margin-right: 2px;">** </span>Optional but highly recommended field</div>\r\n            </div>\r\n            <button type="submit" class="btn btn-default btn-sm pull-right" (click)="submit()">Submit</button>\r\n            <span class="clearfix"></span>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="form-inline">\n    <div class="form-group">\n        <label>E-mail address:</label>\n        <input class="form-control" [(ngModel)]="email" title="E-mail address">\n        <button class="btn btn-primary" (click)="reset()" [disabled]="!isEmailValid()">Reset password</button>\n    </div>\n</div>'},function(e,t){e.exports='<div class="form-horizontal">\r\n    <div class="form-group">\r\n        <label class="col-sm-2 control-label">E-mail: <span style="color: red">*</span></label>\r\n        <div class="col-sm-10">\r\n            <input type="email" class="form-control input-sm" [(ngModel)]="form.email" (ngModelChange)="onModelChange()"  placeholder="E-mail address">\r\n        </div>\r\n    </div>\r\n    <div class="form-group">\r\n        <label class="col-sm-2 control-label">Password: <span style="color: red">*</span></label>\r\n        <div class="col-sm-4">\r\n            <div class="input-group input-group-sm">\r\n                <input *ngIf="!showPwd" type="password" class="form-control" [(ngModel)]="form.password" (ngModelChange)="onModelChange()" placeholder="Password">\r\n                <input *ngIf="showPwd" class="form-control" [(ngModel)]="form.password" placeholder="password">\r\n                <span class="input-group-btn">\r\n                    <button class="btn btn-default" [ngClass]="{ active : showPwd }" (mousedown)="showPwd = true" (mouseup)="showPwd = false">\r\n                        <span *ngIf="!showPwd" class="glyphicon glyphicon-eye-close"></span>\r\n                        <span *ngIf="showPwd" class="glyphicon glyphicon-eye-open"></span>\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        <label class="col-sm-2 control-label">Confirm password: <span style="color: red">*</span></label>\r\n        <div class="col-sm-4">\r\n            <div class="input-group input-group-sm">\r\n                <input *ngIf="!showPwdConf" type="password" class="form-control" [ngClass]="{invalid : !isConfirmPwdOk()}" \r\n                    [(ngModel)]="form.confirmedPassword" (ngModelChange)="onModelChange()" placeholder="Password">\r\n                <input *ngIf="showPwdConf" class="form-control" [ngClass]="{invalid : !isConfirmPwdOk()}" \r\n                    [(ngModel)]="form.confirmedPassword" placeholder="Password">\r\n                <span class="input-group-btn">\r\n                    <button class="btn btn-default" [ngClass]="{ active : showPwdConf }" (mousedown)="showPwdConf = true" (mouseup)="showPwdConf = false">\r\n                        <span *ngIf="!showPwdConf" class="glyphicon glyphicon-eye-close"></span>\r\n                        <span *ngIf="showPwdConf" class="glyphicon glyphicon-eye-open"></span>\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="form-group">\r\n        <label class="col-sm-2 control-label">Given name: <span style="color: red">*</span></label>\r\n        <div class="col-sm-10">\r\n            <input class="form-control input-sm" [(ngModel)]="form.givenName" (ngModelChange)="onModelChange()"  placeholder="Given name">\r\n        </div>\r\n    </div>\r\n    <div class="form-group">\r\n        <label class="col-sm-2 control-label">Family name: <span style="color: red">*</span></label>\r\n        <div class="col-sm-10">\r\n            <input class="form-control input-sm" [(ngModel)]="form.familyName" (ngModelChange)="onModelChange()"  placeholder="Family name">\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- Optional (hidable) --\x3e\r\n    <ng-container *ngFor="let f of optionalFields">\r\n        <div *ngIf="f.visible" class="form-group">\r\n            <label class="col-sm-2 control-label">{{getOptionalFieldLabel(f)}}:</label>\r\n            <div class="col-sm-10">\r\n                <input class="form-control input-sm" [(ngModel)]="f.value" (ngModelChange)="onOptionalFieldChange(f)"  [placeholder]="getOptionalFieldLabel(f)">\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n\r\n    \x3c!-- Custom --\x3e\r\n    <div *ngFor="let f of customFields; let idx = index" class="form-group">\r\n        <label class="col-sm-2 control-label">{{f.label}}:</label>\r\n        <div class="col-sm-10">\r\n            <input class="form-control input-sm" [(ngModel)]="form.customProperties[f.iri]" (ngModelChange)="onModelChange()" [placeholder]="f.label">\r\n        </div>\r\n    </div>\r\n\r\n    <div style="height: 1px; margin: 0 0 7px; background-color: #e5e5e5;"></div>\r\n\r\n    \x3c!-- Others --\x3e\r\n    <div class="form-group">\r\n        <label class="col-sm-2 control-label">\r\n            User IRI:\r\n            <span class="glyphicon glyphicon-info-sign" [title]="iriInfoTitle"></span>\r\n        </label>\r\n        <div class="col-sm-10">\r\n            <input *ngIf="!personalUrlVisible" class="form-control input-sm" [(ngModel)]="form.iri" placeholder="User IRI" (ngModelChange)="onModelChange()">\r\n            <div *ngIf="personalUrlVisible" class="input-group">\r\n                <input class="form-control input-sm" [(ngModel)]="form.iri" placeholder="User IRI" (ngModelChange)="onModelChange()" [disabled]="form.urlAsIri">\r\n                <span class="input-group-addon" style="padding: 5px 10px;">\r\n                    <input type="checkbox" [(ngModel)]="form.urlAsIri" title="Use personal URL as user IRI" (ngModelChange)="onUrlAsIriChange()">\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="form-group">\r\n        <label class="col-sm-2 control-label">Avatar URL:</label>\r\n        <div class="col-sm-10">\r\n            <input class="form-control input-sm" [(ngModel)]="form.avatarUrl" placeholder="Avatar URL" (ngModelChange)="onModelChange()">\r\n        </div>\r\n    </div>\r\n    <div class="form-group">\r\n        <label class="col-sm-2 control-label">Language proficiencies: <span style="color: red">**</span></label>\r\n        <div class="col-sm-10">\r\n            <div class="input-group input-group-sm">\r\n                <input class="form-control" [(ngModel)]="form.languageProficiencies" placeholder="Language proficiencies" readonly>\r\n                <span class="input-group-btn">\r\n                    <button class="btn btn-default" (click)="editLanguages()" placeholder="Edit">\r\n                        <span class="glyphicon glyphicon-pencil"></span>\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-body scrollableContainer">\r\n        <div class="form-horizontal">\r\n            <div class="form-group">\r\n                <label class="col-sm-2 control-label">Given name:</label>\r\n                <div class="col-sm-10">\r\n                    <input-editable *ngIf="!readonly" [value]="user.getGivenName()" (valueEdited)="updateGivenName($event)"></input-editable>\r\n                    <input *ngIf="readonly" class="form-control input-sm" [ngModel]="user.getGivenName()" readonly>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="col-sm-2 control-label">Family name:</label>\r\n                <div class="col-sm-10">\r\n                    <input-editable *ngIf="!readonly" [value]="user.getFamilyName()" (valueEdited)="updateFamilyName($event)"></input-editable>\r\n                    <input *ngIf="readonly" class="form-control input-sm" [ngModel]="user.getFamilyName()" readonly>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="col-sm-2 control-label">E-mail:</label>\r\n                <div class="col-sm-10">\r\n                    <input-editable *ngIf="!readonly" type="email" [value]="user.getEmail()" (valueEdited)="updateEmail($event)"></input-editable>\r\n                    <input *ngIf="readonly" class="form-control input-sm" [ngModel]="user.getEmail()" readonly>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="!readonly" class="form-group">\r\n                <label class="col-sm-2 control-label">Password:</label>\r\n                <div class="col-sm-10">\r\n                    <div class="input-group input-group-sm">\r\n                        <input type="password" class="form-control" [ngModel]="\'xxxxxxxx\'" readonly>\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-default" type="button" style="width:36px;" (click)="changePwd()" placeholder="Edit">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- OPTIONAL --\x3e\r\n            <ng-container *ngFor="let f of optionalFields">\r\n                <div *ngIf="f.visible" class="form-group">\r\n                    <label class="col-sm-2 control-label">{{getOptionalFieldLabel(f)}}:</label>\r\n                    <div class="col-sm-10">\r\n                        <input-editable *ngIf="!readonly" [value]="getOptionalFieldValue(f)" (valueEdited)="updateOptionalFieldValue(f, $event)" [allowEmpty]="true"></input-editable>\r\n                        <input *ngIf="readonly" class="form-control input-sm" [ngModel]="getOptionalFieldValue(f)" readonly>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n            \x3c!-- Custom --\x3e\r\n            <div *ngFor="let f of customFields" class="form-group">\r\n                <label class="col-sm-2 control-label">{{f.label}}:</label>\r\n                <div class="col-sm-10">\r\n                    <input-editable *ngIf="!readonly" [value]="user.getCustomPropertyValue(f.iri)" (valueEdited)="updateCustomProperty(f, $event)" [allowEmpty]="true"></input-editable>\r\n                    <input *ngIf="readonly" class="form-control input-sm" [ngModel]="user.getCustomPropertyValue(f.iri)" readonly>\r\n                </div>\r\n            </div>\r\n            \x3c!-- Others --\x3e\r\n            <div class="form-group">\r\n                <label class="col-sm-2 control-label">Avatar URL:</label>\r\n                <div class="col-sm-10">\r\n                    <input-editable *ngIf="!readonly" [value]="user.getAvatarUrl()" [allowEmpty]="true" (valueEdited)="updateAvatarUrl($event)"></input-editable>\r\n                    <input *ngIf="readonly" class="form-control input-sm" [ngModel]="user.getAvatarUrl()" readonly>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="col-sm-2 control-label">Language proficiencies:</label>\r\n                <div class="col-sm-10">\r\n                    <div *ngIf="!readonly" class="input-group input-group-sm">\r\n                        <input class="form-control" [ngModel]="user.getLanguageProficiencies()" name="langs" readonly>\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-default" style="width:36px;" (click)="editLanguages()" placeholder="Edit">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                    <input *ngIf="readonly" class="form-control input-sm" [ngModel]="user.getLanguageProficiencies()" readonly>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel-footer">\r\n        <label>Registered: </label> {{user.getRegistrationDate()}}\r\n    </div>\r\n</div>'},function(e,t){e.exports='<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" style="padding: 10px;" \r\n\t(click)="onMenuOpen()" [title]="userShow">\r\n\t<div class="avatarContainer" style="height: 24px; width: 24px;">\r\n\t\t<img [src]="userAvatarUrl" (error)="setFallbackImage()" style="max-height: 24px; max-width: 24px; background-color: #95A5BC;"/>\r\n\t</div>\r\n</a>\r\n<ul class="dropdown-menu" style="font-size: 12px;">\r\n\t<li>\r\n\t\t<div class="hbox" style="padding: 10px; align-items: center;">\r\n\t\t\t<div class="avatarContainer" style="height: 48px; width: 48px;">\r\n\t\t\t\t<img [src]="userAvatarUrl" (error)="setFallbackImage()" style="max-height: 48px; max-width: 48px;"/>\r\n\t\t\t</div>\r\n\t\t\t<a [routerLink]="[\'/Profile\']" style="margin-left: 4px;">\r\n\t\t\t\t<span style="font-weight: bold; white-space: nowrap;">{{userShow}}</span>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</li>\r\n\t<li role="separator" class="divider"></li>\r\n\t<li><a [routerLink]="[\'/Profile\']"><span class="glyphicon glyphicon-user"></span> View profile</a></li>\r\n\t<li *ngIf="isNotificationsVisible"><a [routerLink]="[\'/Notifications\']"><span class="glyphicon glyphicon-bell"></span> Notifications</a></li>\r\n\t<li *ngIf="isProjectOpen"><a [routerLink]="[\'/Preferences\']"><span class="glyphicon glyphicon-cog"></span> Preferences</a></li>\r\n\t<li *ngIf="isAdministrationVisible"><a [routerLink]="[\'/Administration/Projects\']"><span class="glyphicon glyphicon-wrench"></span> Administration</a></li>\r\n\t<li role="separator" class="divider"></li>\r\n\t<li><a (click)="logout()"><span class="glyphicon glyphicon-log-out"></span> Log out</a></li>\r\n</ul>'},function(e,t){e.exports='<div class="container vbox" style="flex: initial">\r\n    <div class="panel panel-default vbox" style="flex: initial">\r\n        <div class="panel-heading">\r\n            <label><span class="glyphicon glyphicon-user"></span> User details</label>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n            <user-details [user]="user"></user-details>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='\x3c!-- <div class="panel panel-default vbox">\r\n    <div class="panel-body vbox" style="overflow: auto"> --\x3e\r\n        <textarea #txtarea [ngClass]="{disabled: disabled}"></textarea>\r\n    \x3c!-- </div>\r\n</div> --\x3e\r\n'},function(e,t){e.exports='<textarea #txtarea [ngClass]="{disabled: disabled}"></textarea>\r\n'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div style="padding: 6px 6px 0px">\r\n        <button class="btn btn-xs btn-default" (click)="onClick()">Helper</button>\r\n    </div>\r\n    <div class="panel-body vbox" style="overflow: auto; position: relative">\r\n        <div *ngIf="!codeValid" style="position: absolute; top: 12px; right: 30px; z-index: 1;" [title]="codeInvalidDetails">\r\n            <span class="glyphicon glyphicon-alert" style="color: red;"></span>\r\n        </div>\r\n        <textarea #txtarea [ngClass]="{disabled: disabled}"></textarea>\r\n        <span style="margin-top: 5px;">Press \'ctrl-space\' to show hints.</span>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\n    <h3 class="modal-title">\n        Helper Manchester Syntax\n    </h3>\n</div>\n<div class="modal-body vbox scrollableContainer" style="min-height: 350px;">\n\n    <p>This table shows the conversions between DL syntax and Manchester\n        syntax for these constructors:</p>\n    <table class="helper-table">\n        <tr>\n            <th>Constructor</th>\n            <th>DL syntax</th>\n            <th style="border-right: 0px;">Manchester syntax</th>\n        </tr>\n        <tr>\n            <td>Bottom</td>\n            <td></td>\n            <td style="border-right: 0px;">Nothing</td>\n        </tr>\n        <tr>\n            <td>Top</td>\n            <td></td>\n            <td style="border-right: 0px;">Thing</td>\n        </tr>\n        <tr>\n            <td>Intersection</td>\n            <td>C  D</td>\n            <td style="border-right: 0px;">C <span class="conjuction">AND</span> D</td>\n        </tr>\n        <tr>\n            <td>Union</td>\n            <td>C  D</td>\n            <td style="border-right: 0px;">C <span class="conjuction">OR</span> D</td>\n        </tr>\n        <tr>\n            <td>Complement</td>\n            <td>C</td>\n            <td style="border-right: 0px;"><span class="conjuction">NOT</span> C</td>\n        </tr>\n        <tr>\n            <td>Existential restriction</td>\n            <td>R.C</td>\n            <td style="border-right: 0px;">R <span class="quantifier">SOME</span> C</td>\n        </tr>\n        <tr>\n            <td>Universal restriction</td>\n            <td>R.C</td>\n            <td style="border-right: 0px;">R <span class="quantifier">ONLY</span> C</td>\n        </tr>\n        <tr>\n            <td>Min. cardinality restriction</td>\n            <td> n R.C</td>\n            <td style="border-right: 0px;">R <span class="quantifier">MIN</span> nC</td>\n        </tr>\n        <tr>\n            <td>Max. cardinality restriction</td>\n            <td> n R.C</td>\n            <td style="border-right: 0px;">R <span class="quantifier">MAX</span> nC</td>\n        </tr>\n        <tr>\n            <td>Eq. cardinality restriction</td>\n            <td>= n R.C</td>\n            <td style="border-right: 0px;">R <span class="quantifier">EXACTLY</span> nC</td>\n        </tr>\n        <tr>\n            <td>Self restriction</td>\n            <td>R.Self</td>\n            <td style="border-right: 0px;">R <span class="quantifier">SELF</span></td>\n        </tr>\n        <tr>\n            <td>Value restriction</td>\n            <td>R &#123;a&#125;</td>\n            <td style="border-right: 0px;">R <span class="quantifier">VALUE</span> &#123;a&#125;</td>\n        </tr>\n        \n        <tr>\n            <td>Property chain</td>\n            <td>R  P</td>\n            <td style="border-right: 0px;">R O P</td>\n        </tr>\n        <tr>\n            <td>Inverse property</td>\n            <td>R</td>\n            <td style="border-right: 0px;">INVERSE R</td>\n        </tr>\n        <tr>\n            <td>Property complement</td>\n            <td>R</td>\n            <td style="border-right: 0px;"><span class="conjuction">NOT</span> R</td>\n        </tr>\n    </table>\n    <p>This table shows the conversions between DL syntax\n        and Manchester syntax for these axioms:</p>\n    <table class="helper-table">\n        <tr>\n            <th>Axiom</th>\n            <th>DL syntax</th>\n            <th style="border-right: 0px;">Manchester syntax</th>\n        </tr>\n        <tr>\n            <td>Subclass of</td>\n            <td> C  D</td>\n            <td style="border-right: 0px;">C SubClassOf D</td>\n        </tr>\n        <tr>\n            <td>Equivalent Class</td>\n            <td>C  D </td>\n            <td style="border-right: 0px;">C EquivalentTo D</td>\n        </tr>\n        <tr>\n            <td>SubPropertyOf</td>\n            <td>R  P</td>\n            <td style="border-right: 0px;">C SubPropertyOf D</td>\n        </tr>\n        <tr>\n            <td>Equivalent property</td>\n            <td>R  P</td>\n            <td style="border-right: 0px;">R EquivalentTo P</td>\n        </tr>\n\n    </table>\n\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\n</div>'},function(e,t){e.exports='<textarea #txtarea [ngClass]="{disabled: disabled}"></textarea>\r\n'},function(e,t){e.exports='<textarea #txtarea id="ntriples" name="ntriples" [ngClass]="{disabled: disabled}"></textarea>\r\n'},function(e,t){e.exports='<div class="vbox" style="overflow: auto">\r\n    <textarea #txtarea [ngClass]="{disabled: disabled}"></textarea>\r\n</div>'},function(e,t){e.exports='<div class="hbox">\r\n\r\n    \x3c!--\r\n        Extension selector visible if: \r\n        * there are multiple extensions;\r\n        * there is one extension (immediately selected) and it has 0 or 1 configuration\r\n        Configuration selector visible if the selected extension has multiple configurations.\r\n    --\x3e\r\n    <select *ngIf="extensions.length > 1 || !selectedExtension.configurations || selectedExtension.configurations.length == 1"\r\n        class="form-control input-sm" [(ngModel)]="selectedExtension" (ngModelChange)="onChangeExtension()"\r\n        [title]="selectedExtension.description" style="margin-right: 2px;" [disabled]="disabled">\r\n        <option *ngFor="let ext of extensions" [ngValue]="ext" [title]="ext.description">\r\n            {{ext.name}} \r\n        </option>\r\n    </select>\r\n    <select *ngIf="selectedExtension.configurations?.length > 1" class="form-control input-sm" style="margin-left: 2px;"\r\n        [(ngModel)]="selectedConfiguration" (ngModelChange)="onChangeConfig()" [disabled]="disabled">\r\n        <option *ngFor="let cfg of selectedExtension.configurations" [ngValue]="cfg">{{cfg.shortName}}</option>\r\n    </select>\r\n\r\n    <span *ngIf="selectedExtension.configurations" class="btn-group btn-group-sm" style="display: flex; margin-left: 5px;">\r\n        <button class="btn btn-default" (click)="configure()" [disabled]="disabled">Configure</button>\r\n        <ng-template [ngIf]="storeable">\r\n            <button class="btn btn-default" title="Save configuration" (click)="saveConfig()" [disabled]="disabled">\r\n                <span class="glyphicon glyphicon-floppy-save"></span>\r\n            </button>\r\n            <button class="btn btn-default" title="Load configuration" (click)="loadConfig()" [disabled]="disabled">\r\n                <span class="glyphicon glyphicon-floppy-open"></span>\r\n            </button>\r\n        </ng-template>\r\n    </span>\r\n\r\n</div>'},function(e,t){e.exports='<div [class]="inputClass">\r\n    \r\n    <input *ngIf="type != \'select\'" [type]="inputType" class="form-control" [(ngModel)]="value"\r\n        [min]="min" [max]="max" [step]="step" [readonly]="!editInProgress" [disabled]="disabled">\r\n\r\n    \x3c!-- to show only if type == "select" and create a drop-down list with the items provided with "options" --\x3e\r\n    <select *ngIf="type == \'select\'" [(ngModel)]="value" class="form-control" [disabled]="disabled || !editInProgress">\r\n        <option *ngFor="let o of options" [value]="o">{{o}}</option>\r\n    </select>\r\n\r\n    \x3c!-- Edit buttons --\x3e\r\n    <span class="input-group-btn">\r\n        <button *ngIf="!editInProgress" class="btn btn-default" type="button" style="width:36px;"\r\n            (click)="edit()" title="Edit" [disabled]="disabled">\r\n            <span class="glyphicon glyphicon-pencil"></span>\r\n        </button>\r\n        <button *ngIf="editInProgress" class="btn btn-default" type="button" style="width:18px; padding: 0px;"\r\n            (click)="confirmEdit()" title="Confirm">\r\n            <span class="glyphicon glyphicon-ok" style="color: green"></span>\r\n        </button>\r\n        <button *ngIf="editInProgress" class="btn btn-default" type="button" style="width:18px; padding: 0px;"\r\n            (click)="cancelEdit()" title="Cancel">\r\n            <span class="glyphicon glyphicon-remove" style="color: red"></span>\r\n        </button>\r\n    </span>\r\n</div>'},function(e,t){e.exports='<div class="hbox" style="align-items: center" [title]="language.name + \' (\' + language.tag + \')\'">\r\n    \x3c!-- <div [class]="\'flagIcon \' + flagCls">\r\n        <img [src]="flagImgSrc" [ngClass]="{ disabled : disabled }">\r\n        <span *ngIf="flagImgSrc.indexOf(\'unknown\') != -1" [ngClass]="{ grayText: disabled }">{{language.tag}}</span>\r\n    </div> --\x3e\r\n    <div [class]="\'flagIcon \' + flagCls">\r\n        <ng-container *ngIf="flagImgSrc.indexOf(\'unknown\') != -1; then unknownFlag; else knownFlag"></ng-container>\r\n        <ng-template #knownFlag>\r\n            <img [src]="flagImgSrc" [ngClass]="{ disabled : disabled }">\r\n        </ng-template>\r\n        <ng-template #unknownFlag>\r\n            <div style="width: 16px; height: 12px;" [ngStyle]="{ \'background-color\': unkownFlagBackground, opacity: disabled ? 0.5 : initial }"></div>\r\n            <span style="color: white;">{{language.tag}}</span>\r\n        </ng-template>\r\n    </div>\r\n    \r\n    <span *ngIf="showName" [ngClass]="{ grayText: disabled }" style="margin-left: 2px;">{{language.name}}</span>\r\n    <span *ngIf="showTag" [ngClass]="{ grayText: disabled }" style="margin-left: 2px;">({{language.tag}})</span>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 [class]="headerStyle">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div [class]="msgStyle">\r\n        {{context.message}}\r\n\r\n        <div *ngIf="context.details" class="vbox" style="margin-top: 5px;">\r\n            <div (click)="detailsCollapsed = !detailsCollapsed" style="align-self: left">\r\n                <div class="expandCollapseBtnContainer" style="display: inline">\r\n                    <img src="'+n(49)+'"\r\n                        [ngClass]="{\'arrow-right\': detailsCollapsed}">\r\n                </div>\r\n                <label>Details:</label>\r\n            </div>\r\n            <div *ngIf="!detailsCollapsed" class="panel panel-default vbox">\r\n                <div class="panel-body scrollableContainer">\r\n                    {{context.details}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class="checkbox" style="margin-bottom: 0px">\r\n        <label><input type="checkbox" [(ngModel)]="check">{{context.checkboxLabel}}</label>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <h3 [class]="headerStyle">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div [class]="msgStyle + \' scrollableContainer\'" style="padding: 8px;">\r\n        <span style="white-space: pre-wrap">{{context.message}}</span>\r\n        <div *ngIf="context.details" class="vbox" style="margin-top: 5px;">\r\n            <div (click)="detailsCollapsed = !detailsCollapsed" style="align-self: left">\r\n                <div class="expandCollapseBtnContainer" style="display: inline">\r\n                    <img src="'+n(49)+'"\r\n                        [ngClass]="{\'arrow-right\': detailsCollapsed}">\r\n                </div>\r\n                <label>Details:</label>\r\n            </div>\r\n            <div *ngIf="!detailsCollapsed" class="panel panel-default vbox" style="min-height: 260px;">\r\n                <div class="panel-body scrollableContainer">\r\n                    <span style="white-space: pre-wrap;">{{context.details}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\n    <h3 [class]="headerStyle">{{context.title}}</h3>\n</div>\n<div class="modal-body">\n    <div [class]="msgStyle">\n        {{context.message}}\n    </div>\n    <div class="checkbox" style="margin-bottom: 0px">\n        <label><input type="checkbox" [(ngModel)]="check">{{context.checkboxLabel}}</label>\n    </div>\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">{{context.yesText}}</button>\n    <button class="btn btn-default btn-sm" (click)="cancel()">{{context.noText}}</button>\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 [class]="headerStyle">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div [class]="msgStyle" style="white-space: pre-line">{{context.message}}</div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">{{context.yesText}}</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">{{context.noText}}</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\n    <h3 class="modal-title text-info">{{context.title}}</h3>\n</div>\n<div class="modal-body">\n    <div class="alert alert-info" *ngIf="context.message">\n        {{context.message}}\n    </div>\n    <a [href]="safeDownloadLink" [download]="context.fileName">Download</a>\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\n</div>'},function(e,t){e.exports='<div class="modal-header">\n    <h3 class="modal-title text-info">{{context.title}}</h3>\n</div>\n<div class="modal-body">\n    <div class="alert alert-info" *ngIf="context.message" style="margin-bottom: 4px">\n        {{context.message}}\n    </div>\n    <file-picker (fileChanged)="fileChangeEvent($event)" [label]="context.label"\n        [accept]="context.accept" [placeholder]="context.placeholder">\n    </file-picker>\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div *ngIf="context.message" class="alert alert-info" style="margin-bottom: 5px">\r\n        {{context.message}}\r\n    </div>\r\n    <div class="hbox" style="align-items: center;">\r\n        <div *ngIf="context.label" style="margin-right: 4px;">\r\n            <label>{{context.label.value}}:</label>\r\n            <span *ngIf="context.label.tooltip" class="glyphicon glyphicon-question-sign" [title]="context.label.tooltip"></span>\r\n        </div>\r\n        <textarea id="toFocus" class="form-control input-sm" style="flex: 1; resize: vertical;" [(ngModel)]="inputTxt" rows="1"\r\n            (keydown)="onKeydown($event)" [sanitized]="context.inputSanitized">\r\n        </textarea>\r\n    </div>\r\n    <div *ngIf="!isInputValid() && !context.inputOptional && submitted" class="alert alert-danger">\r\n        <strong>{{context.label}}</strong> is required\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!context.inputOptional && !isInputValid()">Ok</button>\r\n    <button *ngIf="!context.hideNo" class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <div class="hbox" style="align-items: center;">\r\n        <label *ngIf="context.label" style="margin-right: 4px;">{{context.label}}:</label>\r\n        <div class="col-sm-12">\r\n            <div class="input-group input-group-sm">\r\n                <ng-template [ngIf]="namespaceLocked">\r\n                    <span class="input-group-addon" style="padding-right: 5px;">{{context.prefix}}</span>\r\n                    <input id="toFocus" type="text" class="form-control" [(ngModel)]="prefixedTxt"\r\n                        (keydown)="onKeydown($event)" [sanitized]="context.inputSanitized">\r\n                </ng-template>\r\n                \r\n                <ng-template [ngIf]="!namespaceLocked">\r\n                    <input id="toFocus" type="text" class="form-control" [(ngModel)]="expandedTxt"\r\n                        (keydown)="onKeydown($event)" [sanitized]="context.inputSanitized">\r\n                </ng-template>\r\n                \r\n                <div *ngIf="context.prefixEditable" class="input-group-btn">\r\n                    <button class="btn btn-default" style="width:30px; padding: 1px 3px;" (click)="unlockNamespace()"\r\n                        title="Lock/Unlock namespace" [ngClass]="{active: namespaceLocked}">\r\n                        <span class="glyphicon glyphicon-lock" style="font-size: 10px;"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="!isInputValid() && !context.inputOptional && submitted" class="alert alert-danger">\r\n        <strong>{{context.label}}</strong> is required\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!context.inputOptional && !isInputValid()">Ok</button>\r\n    <button *ngIf="!context.hideNo" class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        {{context.title}}\r\n    </h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="scrollableContainer">\r\n        <table class="table table-condensed table-borderless table-hoverable">\r\n            <colgroup>\r\n                <col style="width: 1%;">\r\n                <col>\r\n            </colgroup>\r\n            <tbody>\r\n                <tr *ngFor="let p of mapKeys">\r\n                    <td nowrap>\r\n                        <label>{{p}}:</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type="text" class="form-control input-sm" [(ngModel)]="properties[p]">\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-body vbox scrollableContainer">\r\n            <div *ngFor="let cf of context.cfList" class="listItem" [ngClass]="{ active: selectedCF == cf }" (click)="selectedCF = cf">\r\n                <span style="white-space: nowrap;">\r\n                    <span style="font-size: 13px;">{{cf.getName()}}</span>\r\n                    <span *ngIf="cf.getDescription()" class="glyphicon glyphicon-info-sign" style="margin-left: 4px;" [title]="cf.getDescription()"></span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedCF">Ok</button>\r\n    <button *ngIf="!context.hideNo" class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div class="alert alert-info" *ngIf="context.message">\r\n        {{context.message}}\r\n    </div>\r\n\r\n\r\n\r\n    <div class="panel panel-default vbox" style="margin-top: 5px;">\r\n        <div class="panel-heading">  \r\n            <div style="flex: 1"></div>\r\n            <div class="btn-toolbar" role="toolbar">\r\n                <button class="btn btn-default btn-xs" title="Rendering" (click)="rendering = !rendering" [ngClass]="{active: rendering}">\r\n                    <span class="glyphicon glyphicon-font"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="panel-body vbox">\r\n            <resource-list [resources]="context.resourceList" [rendering]="rendering" (nodeSelected)="onResourceSelected($event)">\r\n            </resource-list>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!resourceSelected">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 [class]="headerStyle">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div *ngIf="context.message" [class]="msgStyle">\r\n        {{context.message}}\r\n    </div>\r\n    <div class="panel panel-default vbox" style="margin-top: 5px;">\r\n        <div class="panel-body vbox scrollableContainer">\r\n            <div *ngFor="let opt of context.options" class="listItem" [ngClass]="{ active: optionSelected == opt }" (click)="optionSelected = opt">\r\n                <span *ngIf="!optionsWithDescription; else descrBlock">{{opt}}</span>\r\n                <ng-template #descrBlock>\r\n                    <span style="white-space: nowrap;">\r\n                        <span style="font-size: 13px;">{{opt.value}}</span>\r\n                        <span *ngIf="opt.description" class="glyphicon glyphicon-info-sign" style="margin-left: 4px;" [title]="opt.description"></span>\r\n                    </span>\r\n                </ng-template>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!optionSelected">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <class-individual-tree (nodeSelected)="onInstanceSelected($event)" [roots]="context.classes" [editable]="false" [projectCtx]="context.projectCtx">\r\n    </class-individual-tree>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedInstance">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <class-tree-panel (nodeSelected)="onClassSelected($event)" [editable]="false" [roots]="context.roots" [projectCtx]="context.projectCtx"></class-tree-panel>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedClass">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <collection-tree-panel [editable]="false" [projectCtx]="context.projectCtx" (nodeSelected)="onCollectionSelected($event)"></collection-tree-panel>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedCollection">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <concept-tree-panel [editable]="false" [schemeChangeable]="context.schemeChangeable" [schemes]="context.schemes" [projectCtx]="context.projectCtx"\r\n        (nodeSelected)="onConceptSelected($event)" >\r\n    </concept-tree-panel>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedConcept">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <datatype-list-panel [editable]="false" (nodeSelected)="onNodeSelected($event)"></datatype-list-panel>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedNode">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <instance-list [cls]="context.cls" (nodeSelected)="onInstanceSelected($event)">\r\n    </instance-list>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedInstance">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="hbox" style="flex: initial; align-items: center; margin-bottom: 5px;">\r\n        <label style="margin-right: 4px;">Lexicon:</label>\r\n        <button class="btn btn-default btn-xs" title="Change Lexicon" (click)="changeLexicon()" [disabled]="!context.lexiconChangeable">\r\n            <rdf-resource *ngIf="activeLexicon" [resource]="activeLexicon"></rdf-resource>\r\n            <span *ngIf="!activeLexicon">Select Lexicon</span>\r\n        </button>\r\n    </div>\r\n\r\n    <lexical-entry-list-panel [editable]="context.editable" [deletable]="context.deletable" [lexicon]="activeLexicon"\r\n        [allowMultiselection]="context.allowMultiselection" [projectCtx]="context.projectCtx"\r\n        (nodeSelected)="onLexiconSelected($event)" (nodeChecked)="checkedResources = $event" (multiselectionStatus)="multiselection = $event">\r\n    </lexical-entry-list-panel>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <lexicon-list-panel [editable]="false" [projectCtx]="context.projectCtx" (nodeSelected)="onLexiconSelected($event)"></lexicon-list-panel>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedLexicon">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div *ngIf="context.resource" class="checkbox-inline" style="margin-bottom: 5px;">\r\n        <label>\r\n            <input type="checkbox" [(ngModel)]="showAll" (ngModelChange)="onShowAllChanged()">Show all properties\r\n        </label>\r\n    </div>\r\n    <property-tree-panel [editable]="false" [roots]="context.rootProperties" [resource]="domainRes" [type]="context.type" [projectCtx]="context.projectCtx"\r\n        (nodeSelected)="onPropertySelected($event)">\r\n    </property-tree-panel>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedProperty">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <scheme-list-panel [editable]="false" [projectCtx]="context.projectCtx" (nodeSelected)="onSchemeSelected($event)"></scheme-list-panel>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedScheme">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="hbox" style="align-items: center; margin-bottom: 4px;">\r\n        <div style="flex: 1;" (keydown)="onKeydown($event)">\r\n            <div class="hbox" style="align-items: center;">\r\n                <label style="width: 50px;">Value:</label>\r\n                <textarea id="toFocus" type="text" class="form-control input-sm" rows="1" style="flex: 1; margin-right: 4px; height: initial; resize: vertical;"\r\n                    [(ngModel)]="value" [disabled]="context.valueReadonly"></textarea>\r\n                <lang-picker [(ngModel)]="lang" [disabled]="context.langReadonly" \r\n                    [config]="{ constrain: context.langConstraints?.constrain, locale: context.langConstraints?.locale }">\r\n                </lang-picker>\r\n            </div>\r\n        </div>\r\n        <div *ngIf="context.multiLabelOpt.enabled" class="hbox" style="flex: initial; align-items: center; margin-left: 6px;">\r\n            <button *ngIf="context.multiLabelOpt.enabled" class="btn btn-default btn-xs" (click)="addValue()" [disabled]="!isAddValueEnabled()">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n            <div style="width: 14px; margin-left: 2px;">\r\n                <span *ngIf="isDuplicateLangViolated()" class="glyphicon glyphicon-exclamation-sign" title="You cannot create multiple values with the same language"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel panel-default" *ngIf="values.length > 0">\r\n        <div class="panel-body vbox scrollableContainer" style="max-height: 300px;">\r\n            <div *ngFor="let v of values" class="listItem">\r\n                <rdf-resource style="flex: 1;" [resource]="v"></rdf-resource>\r\n                <button class="btn btn-default btn-xs" (click)="removeValue(v)">\r\n                    <span class="glyphicon glyphicon-trash" title="Remove label"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <div class="hbox" style="align-items: center;">\r\n        <div style="flex: 1; margin-right: 14px; text-align: initial;">\r\n            <div *ngIf="!lang && viewInitialized" class="alert alert-danger" style="padding: 7px;">\r\n                You cannot create values. You have no language assigned for the current project.\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <span *ngIf="isOkWarningActive()" class="glyphicon glyphicon-warning-sign" style="margin-right: 2px;"\r\n                title="Warning: the value currently typed will not be considered. It needs to be added through the \'+\' button">\r\n            </span>\r\n            <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n            <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="input-group input-group-sm">\n\n    <ng-template [ngIf]="namespaceLocked">\n        <span class="input-group-addon" style="padding-right: 5px;">\n            {{namespace}}\n        </span>\n        <input #lnWithPH *ngIf="placeholder" type="text" class="form-control" [(ngModel)]="localName"\n            (ngModelChange)="onModelChanged()" [placeholder]="placeholder" sanitized>\n        <input #lnWithoutPH *ngIf="!placeholder" type="text" class="form-control" [(ngModel)]="localName"\n            (ngModelChange)="onModelChanged()" sanitized>\n    </ng-template>\n    \n    <ng-template [ngIf]="!namespaceLocked">\n        <input *ngIf="placeholder" type="text" class="form-control" [(ngModel)]="uri" (ngModelChange)="onModelChanged()"\n            [placeholder]="placeholder" sanitized>\n        <input *ngIf="!placeholder" type="text" class="form-control" [(ngModel)]="uri" (ngModelChange)="onModelChanged()"\n            sanitized>\n    </ng-template>\n    \n    <div class="input-group-btn">\n        <button class="btn btn-default" style="width:30px; padding: 1px 3px;" (click)="unlockNamespace()"\n            title="Lock/Unlock namespace" [ngClass]="{active: namespaceLocked}">\n            <span class="glyphicon glyphicon-lock" style="font-size: 10px;"></span>\n        </button>\n    </div>\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change class" (click)="changeClass()" [disabled]="!context.clsChangeable">\r\n                <rdf-resource [resource]="resourceClass"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox" (keydown)="onKeydown($event)">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right"><label>Title:</label></td>\r\n                <td>\r\n                    <div class="hbox" style="align-items: center;">\r\n                        <input #toFocus type="text" class="form-control input-sm" style="flex: 1; margin-right: 4px;" [(ngModel)]="title">\r\n                        <lang-picker [(ngModel)]="title_lang"></lang-picker>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right"><label>Language:</label></td>\r\n                <td>\r\n                    <lang-picker [(ngModel)]="lang"></lang-picker>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right"><label>URI:</label></td>\r\n                <td>\r\n                    <editable-ns-input [(ngModel)]="uri" placeholder="Leave empty in order to autogenerate a random URI">\r\n                    </editable-ns-input>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <custom-form *ngIf="customFormId" [cfId]="customFormId" style="border-top:1px solid #ddd; margin-top: 5px;" \r\n        [(ngModel)]="formFields"></custom-form>\r\n\r\n    <div *ngIf="!title_lang && viewInitialized" class="alert alert-danger" style="margin-top: 5px;">\r\n        You cannot create resources. You have no language assigned for the current project.\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span *ngIf="createSense">\r\n            <button class="btn btn-default btn-xs" title="Change class" (click)="changeClass()" [disabled]="!context.clsChangeable">\r\n                <rdf-resource [resource]="resourceClass"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox" (keydown)="onKeydown($event)">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr *ngIf="linkToReference; else linkToLexEntry">\r\n                <td class="text-right"><label>Reference:</label></td>\r\n                <td>\r\n                    <resource-picker [config]="{ roles: pickerRoles }" [editable]="true" (resourceChanged)="updateLinkedRes($event)"></resource-picker>\r\n                </td>\r\n            </tr>\r\n            <ng-template #linkToLexEntry>\r\n                <tr>\r\n                    <td class="text-right" nowrap><label>Lexical Entry:</label></td>\r\n                    <td>\r\n                        <div class="hbox">\r\n                            <editable-ns-input style="flex: 1" [(ngModel)]="linkedResource"></editable-ns-input>\r\n                            <button class="btn btn-default btn-sm" style="margin-left: 4px;" (click)="pickLexicalEntry()">\r\n                                <span class="glyphicon glyphicon-pencil"></span>\r\n                            </button>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </ng-template>\r\n\r\n            <tr *ngIf="createSense; else createPlain">\r\n                <td></td>\r\n                <td>\r\n                    <div class="checkbox" style="margin-bottom: 0px;">\r\n                        <label>\r\n                            <input type="checkbox" [(ngModel)]="createPlainCheck">Create Plain\r\n                        </label>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <ng-template #createPlain>\r\n                <tr>\r\n                    <td></td>\r\n                    <td>\r\n                        <div class="checkbox" style="margin-bottom: 0px;">\r\n                            <label>\r\n                                <input type="checkbox" [(ngModel)]="createSenseCheck">Create Sense\r\n                            </label>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </ng-template>\r\n\r\n        </tbody>\r\n    </table>\r\n\r\n    <custom-form *ngIf="customFormId && createSense" [cfId]="customFormId" style="border-top:1px solid #ddd; margin-top: 5px;" \r\n        [(ngModel)]="formFields"></custom-form>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change class" (click)="changeClass()" [disabled]="!context.clsChangeable">\r\n                <rdf-resource [resource]="resourceClass"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox" (keydown)="onKeydown($event)">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right"><label>URI:</label></td>\r\n                <td>\r\n                    <editable-ns-input [(ngModel)]="uri"  [toFocus]="true">\r\n                    </editable-ns-input>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <custom-form *ngIf="customFormId" [cfId]="customFormId" style="border-top:1px solid #ddd; margin-top: 5px;" \r\n        [(ngModel)]="formFields"></custom-form>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change class" (click)="changeClass()" [disabled]="!context.clsChangeable">\r\n                <rdf-resource [resource]="resourceClass"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox" (keydown)="onKeydown($event)">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right"><label>{{context.literalLabel}}:</label></td>\r\n                <td>\r\n                    <div class="hbox" style="align-items: center; margin-bottom: 4px;">\r\n                        <input #toFocus type="text" class="form-control input-sm" style="flex: 1; margin-right: 4px;" name="label" [(ngModel)]="label">\r\n                        <lang-picker [(ngModel)]="lang" [config]="{ constrain: context.langConstraints.constrain, locale: context.langConstraints.locale }">\r\n                        </lang-picker>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right"><label>URI:</label></td>\r\n                <td>\r\n                    <editable-ns-input [(ngModel)]="uri" placeholder="Leave empty in order to autogenerate a random URI">\r\n                    </editable-ns-input>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <custom-form *ngIf="customFormId" [cfId]="customFormId" style="border-top:1px solid #ddd; margin-top: 5px;" \r\n        [(ngModel)]="formFields"></custom-form>\r\n\r\n    <div *ngIf="!lang && viewInitialized" class="alert alert-danger" style="margin-top: 5px;">\r\n        You cannot create resources. You have no language assigned for the current project.\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span *ngIf="context.broader" style="margin-right: 4px;">\r\n            <button class="btn btn-default btn-xs" title="Change broader property" (click)="changeBroaderProp()">\r\n                <rdf-resource [resource]="broaderProp"></rdf-resource>\r\n            </button>\r\n        </span>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change class" (click)="changeClass()" [disabled]="!context.clsChangeable">\r\n                <rdf-resource [resource]="resourceClass"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox" (keydown)="onKeydown($event)">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right"><label>Label:</label></td>\r\n                <td>\r\n                    <div class="hbox" style="align-items: center; margin-bottom: 4px;">\r\n                        <input #toFocus type="text" class="form-control input-sm" style="flex: 1; margin-right: 4px;" name="label" [(ngModel)]="label">\r\n                        <lang-picker [(ngModel)]="lang"></lang-picker>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right"><label>URI:</label></td>\r\n                <td>\r\n                    <editable-ns-input [(ngModel)]="uri" placeholder="Leave empty in order to autogenerate a random URI">\r\n                    </editable-ns-input>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="vbox" style="max-height: 20vh; margin-top: 2px;">\r\n        <scheme-selection (update)="onSchemesChanged($event)" [concept]="context.broader" [schemes]="context.schemes"></scheme-selection>\r\n    </div>\r\n\r\n    <custom-form *ngIf="customFormId" [cfId]="customFormId" style="border-top:1px solid #ddd; margin-top: 5px;" \r\n        [(ngModel)]="formFields"></custom-form>\r\n\r\n    <div *ngIf="!lang && viewInitialized" class="alert alert-danger" style="margin-top: 5px;">\r\n        You cannot create resources. You have no language assigned for the current project.\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t,n){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change class" (click)="changeClass()" [disabled]="!context.clsChangeable">\r\n                <rdf-resource [resource]="resourceClass"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body vbox" (keydown)="onKeydown($event)">\r\n\r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td class="text-right"><label>Label:</label></td>\r\n                <td>\r\n                    <div class="form-control input-sm">\r\n                        <rdf-resource [resource]="context.xLabel"></rdf-resource>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right"><label>URI:</label></td>\r\n                <td>\r\n                    <editable-ns-input [(ngModel)]="uri" placeholder="Leave empty in order to autogenerate a random URI">\r\n                    </editable-ns-input>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td class="text-right"><label>Position:</label></td>\r\n                <td>\r\n                    <select class="form-control input-sm" [(ngModel)]="position" (ngModelChange)="onPositionChange()">\r\n                        <option *ngFor="let p of positionList">{{p}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="isPositionNarrower()">\r\n                <td class="text-right"><label>Broader:</label></td>\r\n                <td>\r\n                    <div class="input-group">\r\n                        <div class="form-control input-sm">\r\n                            <rdf-resource *ngIf="broader" [resource]="broader"></rdf-resource>\r\n                        </div>\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-sm btn-default" style="padding: 3px;" (click)="selectBroader()">\r\n                                <img src="'+n(273)+'"/>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="isPositionSibling()">\r\n                <td class="text-right"><label>Sibling:</label></td>\r\n                <td>\r\n                    <div class="input-group">\r\n                        <div class="form-control input-sm">\r\n                            <rdf-resource *ngIf="sibling" [resource]="sibling"></rdf-resource>\r\n                        </div>\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-sm btn-default" style="padding: 3px;" (click)="selectSibling()">\r\n                                <img src="'+n(273)+'"/>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="isPositionSibling() && multipleSiblingBroaders">\r\n                <td class="text-right" style="white-space: nowrap">\r\n                    <span class="glyphicon glyphicon-info-sign"\r\n                        title="Selected sibling concept has multiple broaders, select which one will be the broader of the spawning concept"></span>\r\n                    <label>Broader:</label>\r\n                </td>\r\n                <td>\r\n                    <div class="panel panel-default">\r\n                        <div class="panel-body scrollableContainer">\r\n                            <rdf-resource *ngFor="let b of siblingBroaders" [resource]="b" (click)="selectedSiblingBroader = b"\r\n                                class="listItem" [ngClass]="{active : b == selectedSiblingBroader}"></rdf-resource>\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="vbox" style="max-height: 20vh; margin-top: 2px;">\r\n        <scheme-selection (update)="onSchemesChanged($event)" [concept]="broader"></scheme-selection>\r\n    </div>\r\n\r\n    <custom-form *ngIf="customFormId" [cfId]="customFormId" style="border-top:1px solid #ddd; margin-top: 5px;" \r\n        [(ngModel)]="formFields"></custom-form>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isInputValid()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <div class="hbox" style="align-items: center">\r\n        <h3 class="modal-title" style="flex: 1">{{context.title}}</h3>\r\n        <span>\r\n            <button class="btn btn-default btn-xs" title="Change class" (click)="changeClass()" [disabled]="!context.clsChangeable">\r\n                <rdf-resource [resource]="labelClass"></rdf-resource>\r\n            </button>\r\n        </span>\r\n    </div>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <div class="hbox" style="align-items: center; margin-bottom: 4px;">\r\n        <div style="flex: 1;" (keydown)="onKeydown($event)">\r\n            <div class="hbox" style="align-items: center;">\r\n                <label style="width: 50px;">Value:</label>\r\n                <textarea id="toFocus" type="text" class="form-control input-sm" rows="1" style="flex: 1; margin-right: 4px; height: initial; resize: vertical;"\r\n                    [(ngModel)]="value" [disabled]="context.valueReadonly"></textarea>\r\n                <lang-picker [(ngModel)]="lang" [disabled]="context.langReadonly"></lang-picker>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf="context.multiLabelOpt.enabled" class="hbox" style="flex: initial; align-items: center; margin-left: 6px;">\r\n            <button *ngIf="context.multiLabelOpt.enabled" class="btn btn-default btn-xs" (click)="addValue()" [disabled]="!isAddValueEnabled()">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n            <div style="width: 14px; margin-left: 2px;">\r\n                <span *ngIf="isDuplicateLangViolated()" class="glyphicon glyphicon-exclamation-sign" title="You cannot create multiple values with the same language"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="panel panel-default" *ngIf="values.length > 0">\r\n        <div class="panel-body vbox scrollableContainer" style="max-height: 300px;">\r\n            <div *ngFor="let v of values" class="listItem">\r\n                <rdf-resource style="flex: 1;" [resource]="v"></rdf-resource>\r\n                <button class="btn btn-default btn-xs" (click)="removeValue(v)">\r\n                    <span class="glyphicon glyphicon-trash" title="Remove label"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <div class="hbox" style="align-items: center;">\r\n        <div style="flex: 1; margin-right: 14px; text-align: initial;">\r\n            <div *ngIf="!lang && viewInitialized" class="alert alert-danger" style="padding: 7px;">\r\n                You cannot create resources. You have no language assigned for the current project.\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <span *ngIf="isOkWarningActive()" class="glyphicon glyphicon-warning-sign" style="margin-right: 2px;"\r\n                title="Warning: the value currently typed will not be considered. It needs to be added through the \'+\' button">\r\n            </span>\r\n            <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n            <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){e.exports='<div class="groupPanel vbox">\r\n    <div class="groupPanel-heading">\r\n        <div class="expandCollapseBtnContainer groupPanel-heading-content" style="margin: 0px">\r\n            <img src="'+n(49)+'" (click)="collapsed = !collapsed"\r\n                [ngClass]="{\'arrow-right\': collapsed}">\r\n        </div>\r\n        <span style="flex: 1">\r\n            <label class="groupPanel-heading-content">Schemes:</label>\r\n        </span>\r\n        <span *ngIf="!collapsed" class="groupPanel-heading-content">\r\n            <input type="image" [src]="addBtnImgSrc" (click)="addScheme()">\r\n        </span>\r\n    </div>\r\n    <div class="groupPanel-body vbox">\r\n        <div *ngIf="!collapsed" class="scrollableContainer" style="border: 1px solid #ccc; border-radius: 3px;">\r\n            <div *ngFor="let s of schemeList" class="listItem hbox" [ngClass]="{active : s == selectedScheme}">\r\n                <rdf-resource [resource]="s" style="flex: 1;"></rdf-resource>\r\n                <button class="transparentBtn" title="Remove" (click)="removeScheme(s)">\r\n                    <span>-</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div *ngIf="showAspectSelector" class="btn-group btn-group-xs" style="align-self: flex-end; margin-bottom: 6px;">\r\n        <button *ngFor="let selector of aspectSelectors" class="btn btn-default" [ngClass]="{ active: selectedAspectSelector == selector }"\r\n            (click)="selectedAspectSelector = selector">{{selector}}</button>\r\n    </div>\r\n    \r\n    <div *ngIf="selectedAspectSelector == typedLiteralAspectSelector">\r\n        <div class="hbox" style="align-items: flex-end;">\r\n            <typed-literal-input [allowedDatatypes]="context.allowedDatatypes" [datatype]="datatype" [(ngModel)]="value"\r\n                (datatypeChange)="onDatatypeChange($event)" style="flex: 1;">\r\n            </typed-literal-input>\r\n            <button *ngIf="context.multivalue" class="btn btn-default btn-xs" (click)="addValue()" style="margin-left: 4px; margin-bottom: 4px;" [disabled]="!isAddValueEnabled()">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div *ngIf="notValidatableType" class="alert alert-warning" style="margin-top: 6px;">\r\n            <span class="glyphicon glyphicon-warning-sign" style="margin-right: 6px;"></span>\r\n            Creation of a literal for datatype {{datatype.getShow()}} does not undergo any validation.\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="selectedAspectSelector == dataRangeAspectSelector">\r\n        <select *ngIf="context.dataRanges.length > 1" class="form-control input-sm" [(ngModel)]="selectedDataRange">\r\n            <option *ngFor="let dr of context.dataRanges" [ngValue]="dr">\r\n                {{getDataRangePreview(dr)}}\r\n            </option>\r\n        </select>\r\n        <div class="hbox" style="align-items: center; margin-top: 6px;">\r\n            <select class="form-control input-sm" [(ngModel)]="value">\r\n                <option *ngFor="let v of selectedDataRange" [ngValue]="v">{{v.toNT()}}</option>\r\n            </select>\r\n            <button *ngIf="context.multivalue" class="btn btn-default btn-xs" (click)="addValue()" style="margin-left: 4px; margin-bottom: 4px;" [disabled]="!isAddValueEnabled()">\r\n                <span class="glyphicon glyphicon-plus"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="values.length > 0" class="panel panel-default" style="margin-top: 4px;">\r\n        <div class="panel-body vbox scrollableContainer" style="max-height: 300px;">\r\n            <div *ngFor="let v of values" class="listItem">\r\n                <rdf-resource style="flex: 1;" [resource]="v"></rdf-resource>\r\n                <button class="btn btn-default btn-xs" (click)="removeValue(v)">\r\n                    <span class="glyphicon glyphicon-trash" title="Remove"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <span *ngIf="isOkWarningActive()" class="glyphicon glyphicon-warning-sign" style="margin-right: 2px;"\r\n        title="Warning: the value currently typed will not be considered. It needs to be added through the \'+\' button">\r\n    </span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    \r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-body table-responsive" style="min-height: 80px;">\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col>\r\n                    <col>\r\n                    <col style="width: 1%">\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Identifier</th>\r\n                        <th>Scope</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let ref of references" (click)="selectReference(ref)" [ngClass]="{ info: selectedRef == ref }">\r\n                        <td>{{ref.identifier}}</td>\r\n                        <td>{{ref.getReferenceScope()}}</td>\r\n                        <td>\r\n                            <button *ngIf="context.allowDelete" class="btn btn-xs btn-default" (click)="deleteReference(ref)" title="Delete">\r\n                                <span class="glyphicon glyphicon-trash"></span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngFor="let ref of context.additionalReferences" (click)="selectReference(ref)" [ngClass]="{ info: selectedRef == ref }">\r\n                        <td>{{ref.identifier}}</td>\r\n                        <td>APPLICATION</td>\r\n                        <td></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedRef">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    \r\n    <table class="table table-condensed table-borderless">\r\n        <colgroup>\r\n            <col style="width: 1%;">\r\n            <col>\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td nowrap>\r\n                    <label>ID:</label>\r\n                </td>\r\n                <td>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="identifier">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td nowrap>\r\n                    <label>Scope:</label>\r\n                </td>\r\n                <td>\r\n                    <select class="form-control input-sm" style="display: inline-block" [(ngModel)]="selectedScope">\r\n                        <option *ngFor="let s of scopes">{{s}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class="panel panel-default vbox" style="margin-top: 6px;">\r\n        <div class="panel-body table-responsive" style="min-height: 80px;">\r\n            <table class="table table-condensed table-hoverable">\r\n                <colgroup>\r\n                    <col>\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Stored configurations</th>\r\n                        <th>Scope</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let ref of references" (click)="selectReference(ref)" [ngClass]="{ info: selectedRef == ref }">\r\n                        <td>{{ref.identifier}}</td>\r\n                        <td>{{ref.getReferenceScope()}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!identifier">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="alert alert-info" *ngIf="context.message">\r\n        {{context.message}}\r\n    </div>\r\n        \r\n    <div class="scrollableContainer" style="border: 1px solid #ddd; margin-top: 5px;">\r\n        <table class="table table-condensed table-hoverable">\r\n            <thead>\r\n                <tr>\r\n                    <th>Name</th>\r\n                    <th>Description</th>\r\n                    <th nowrap>RDF Capability</th>\r\n                    <th>URI</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let c of converters" (click)="selectConverter(c)" [ngClass]="{ info: c == selectedConverter }">\r\n                    <td>{{c.getName()}}</td>\r\n                    <td style="white-space: pre;">{{c.getDescription()}}</td>\r\n                    <td nowrap>{{c.getRDFCapability()}}\r\n                        <span *ngIf="c.getDatatypes().length > 0" class="glyphicon glyphicon-info-sign" [title]="c.getDatatypes()"></span>\r\n                    </td>\r\n                    <td [title]="c.getURI()">{{c.getQName()}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <form class="form-horizontal" style="margin-top: 8px;">\r\n        <div class="form-group" style="margin: 0px;">\r\n            <label class="control-label col-sm-1">Signature:</label>\r\n            <div class="col-sm-11">\r\n                <div class="input-group input-group-sm">\r\n                    <span *ngIf="selectedConverter?.getRDFCapability() == \'node\'" class="input-group-btn">\r\n                        <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" [disabled]="concerterTypeConstrained">\r\n                            {{selectedConverterType}} <span class="caret"></span>\r\n                        </button>\r\n                        <ul class="dropdown-menu">\r\n                            <li><a (click)="switchConverterType(\'uri\')">Uri</a></li>\r\n                            <li><a (click)="switchConverterType(\'literal\')">Literal</a></li>\r\n                        </ul>\r\n                    </span>\r\n                    <input type="text" class="form-control" [ngModel]="projectionOperator" name="projectionOperator" readonly>\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-default" (click)="chooseSignature()" title="Change signature" [disabled]="!isSignatureEditable()">\r\n                            <span class="glyphicon glyphicon-pencil"></span>\r\n                        </button>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    \r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedConverter">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title text-info">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="alert alert-info" *ngIf="context.message">\r\n        {{context.message}}\r\n    </div>\r\n        \r\n    <div class="scrollableContainer" style="border: 1px solid #ddd; margin-top: 5px;">\r\n        \r\n        <ng-template ngFor let-s [ngForOf]="context.signatures">\r\n\r\n            <div class="listItem vbox" style="margin: 2px; padding: 6px; border: 1px solid #ddd; border-radius: 4px;" (click)="selectSignature(s)"\r\n                [ngClass]="{active: selectedSignature == s}">\r\n                \r\n                    <div *ngIf="s.getParameters().length == 0">No parameters</div>\r\n                    <ng-template [ngIf]="s.getParameters().length > 0">\r\n                        <div *ngFor="let p of s.getParameters()" style="margin-top: 3px;">\r\n                            <span style="color: #101094; font-family: Courier New, Courier, monospace">{{p.type}}</span>\r\n                            <span style="font-weight: bolder; font-family: Courier New, Courier, monospace">{{p.name}}</span>\r\n                            <span *ngIf="p.getDescription().length > 0" class="grayText"> ({{p.getDescription()}})</span>\r\n                        </div>\r\n                    </ng-template>\r\n            </div>\r\n        \r\n        </ng-template>\r\n\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedSignature">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <div class="scrollableContainer">\r\n        <table class="table table-condensed table-hoverable">\r\n            <colgroup>\r\n                <col style="width: 1%">\r\n                <col style="width: 1%">\r\n                <col>\r\n            </colgroup>\r\n            <thead>\r\n                <tr>\r\n                    <th class="text-center" style="padding: 0px 8px;">Selected</th>\r\n                    <th class="text-center" style="padding: 0px 8px;" nowrap>ISO code</th>\r\n                    <th class="text-center" style="padding: 0px 8px;">Language</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let l of languageItems">\r\n                    <td class="text-center">\r\n                        <input type="checkbox" style="vertical-align: middle" [(ngModel)]="l.selected">\r\n                    </td>\r\n                    <td class="text-center" nowrap>{{l.lang.tag}}</td>\r\n                    <td class="text-center">\r\n                        <lang-item [language]="l.lang"></lang-item>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n    <manchester-editor class="vbox" [(ngModel)]="expression"></manchester-editor>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkEnabled()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{config.shortName}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <settings-renderer-panel class="vbox" [(ngModel)]="config"></settings-renderer-panel>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <span class="pull-left">(*) Mandatory field</span>\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!isOkClickable()">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">Configuration for remote data store</h3>\r\n</div>\r\n<div class="modal-body">\r\n\r\n    <div class="panel panel-default">\r\n        <div class="panel-body table-responsive">\r\n            <table class="table table-condensed table-hoverable">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Server URL</th>\r\n                        <th>Username</th>\r\n                        <th>Password</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngIf="savedConfigs.length == 0">\r\n                        <td colspan="4">No Remote Access Configuration found. Please, create a new one.</td>\r\n                    </tr>\r\n                    <tr *ngFor="let conf of savedConfigs">\r\n                        <td>\r\n                            <input-editable [value]="conf.serverURL" (valueEdited)="updateConfServerURL(conf, $event)"></input-editable>\r\n                        </td>\r\n                        <td>\r\n                            <input-editable [value]="conf.username" allowEmpty="true" (valueEdited)="updateConfUsername(conf, $event)"></input-editable>\r\n                        </td>\r\n                        <td>\r\n                            <input-editable [value]="conf.password" allowEmpty="true" (valueEdited)="updateConfPassword(conf, $event)"></input-editable>\r\n                        </td>\r\n                        <td>\r\n                            <button class="btn btn-sm btn-default" (click)="deleteConfig(conf)">\r\n                                <span class="glyphicon glyphicon-trash"></span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class="panel-footer">\r\n            <div class="hbox" style="align-items: center;">\r\n                <label>New:</label>\r\n                <input class="form-control input-sm" style="margin-left: 6px;" [(ngModel)]="newConfig.serverURL" placeholder="http://serverurl">\r\n                <input class="form-control input-sm" style="margin-left: 6px;" [(ngModel)]="newConfig.username" placeholder="username">\r\n                <input class="form-control input-sm" style="margin-left: 6px;" [(ngModel)]="newConfig.password" placeholder="password">\r\n                <button class="btn btn-sm btn-default" style="margin-left: 6px;" (click)="createConfiguration()" [disabled]="!newConfig.serverURL">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)">Ok</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox">\r\n\r\n    <div class="panel panel-default scrollableContainer">\r\n        <table class="table table-condensed table-hoverable" >\r\n            <thead>\r\n                <tr>\r\n                    <th class="text-center" style="width: 1%">ID</th>\r\n                    <th class="text-center">Location</th>\r\n                    <th class="text-center">Description</th>\r\n                    <th class="text-center" style="width: 1%">Readable</th>\r\n                    <th class="text-center" style="width: 1%">Writeable</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let repo of repoList" (click)="selectedRepo = repo" [ngClass]="{ info : selectedRepo == repo}">\r\n                    <td style="font-weight: bold;">{{repo.id}}</td>\r\n                    <td class="text-center">{{repo.location}}</td>\r\n                    <td class="text-center">{{repo.description}}</td>\r\n                    <td class="text-center">{{repo.readable}}</td>\r\n                    <td class="text-center">{{repo.writable}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedRepo">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <resource-picker [config]="{ roles: context.roles }" (resourceChanged)="updateResource($event)" [editable]="context.editable"></resource-picker>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!resource">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='<div class="modal-header">\r\n    <h3 class="modal-title">{{context.title}}</h3>\r\n</div>\r\n<div class="modal-body vbox" style="min-height:30vh;">\r\n\r\n    <div class="panel panel-default vbox">\r\n        <div class="panel-heading">\r\n            <label>Users</label>\r\n        </div>\r\n        <div class="panel-body vbox" style="padding: 0px;">\r\n            <div class="scrollableContainer">\r\n                <div *ngFor="let u of userList" class="listItem" [ngClass]="{active: u == selectedUser, disabled: !isUserSelectable(u)}" (click)="selectUser(u)">\r\n                    {{u.getShow()}} <span class="grayText">&nbsp;({{u.getEmail()}})</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm" (click)="ok($event)" [disabled]="!selectedUser">Ok</button>\r\n    <button class="btn btn-default btn-sm" (click)="cancel()">Cancel</button>\r\n</div>'},function(e,t){e.exports='\r\n<div class="panel panel-default vbox">\r\n    <div class="panel-body hbox">\r\n\r\n        <div class="panel panel-default vbox" style="margin-right: 4px;">\r\n            <div class="panel-heading">\r\n                <label>Resource Types</label>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n                <div *ngFor="let rps of rolePartitionsStructs" class="listItem" (click)="selectRolePartitionsStruct(rps)"\r\n                    [ngClass]="{ active: rps == selectedRolePartitionsStruct }">\r\n                    {{rps.role.show}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="panel panel-default vbox">\r\n            <div class="panel-heading">\r\n                <label style="flex: 1;">Partitions</label>\r\n                <div class="btn-toolbar" role="toolbar">\r\n                    <div class="btn-group btn-group-xs" role="group">\r\n                        <button class="btn btn-default" (click)="checkAll(selectedRolePartitionsStruct, true)" title="Check all">\r\n                            <span class="glyphicon glyphicon-check"></span>\r\n                        </button>\r\n                        <button class="btn btn-default" (click)="checkAll(selectedRolePartitionsStruct, false)" title="Uncheck all">\r\n                            <span class="glyphicon glyphicon-unchecked"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body scrollableContainer">\r\n                <div *ngFor="let partition of selectedRolePartitionsStruct?.partitions" class="listItem">\r\n                    <input type="checkbox" [(ngModel)]="partition.checked" (ngModelChange)="updatePref()">\r\n                    <span style="flex: 1; margin-left: 4px">{{partition.show}}</span>\r\n                    <span *ngIf="partition.checked" class="glyphicon glyphicon-eye-open"></span>\r\n                    <span *ngIf="!partition.checked" class="glyphicon glyphicon-eye-close"></span>\r\n                    \r\n                    <div class="dropdown pull-right">\r\n                        <button class="dropdown-toggle transparentBtn" data-toggle="dropdown">\r\n                            <span>&#9662;</span>\r\n                        </button>\r\n                        <ul class="dropdown-menu">\r\n                            <li>\r\n                                <a (click)="checkForAllRoles(partition.id, true)">\r\n                                    <span class="glyphicon glyphicon-eye-open" style="margin-right: 4px;"></span>Set visible for all resource types\r\n                                </a>\r\n                            </li>\r\n                            <li>\r\n                                <a (click)="checkForAllRoles(partition.id, false)">\r\n                                    <span class="glyphicon glyphicon-eye-close" style="margin-right: 4px;"></span>Hide for all resource types\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class="panel-footer">\r\n        <button class="btn btn-xs btn-default pull-right" (click)="reset()" title="Set visible all the partitions of all the Resource types">\r\n            <span class="glyphicon glyphicon-eye-open"></span>\r\n            Enable all\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<select [(ngModel)]="datatype" (ngModelChange)="onDatatypeChange()" [class]="selectClass" [disabled]="disabled || readonly">\r\n    <option *ngFor="let dt of datatypeList" [ngValue]="dt" [title]="dt.toNT()">{{dt.getShow()}}</option>\r\n</select>'},function(e,t){e.exports='<div [class]="inputGroupClass">\r\n    <span class="input-group-btn">\r\n        <span class="btn btn-default btn-file">{{label}}\r\n            <input #inputFile type="file" (change)="fileChangeEvent(inputFile.files[0])" [accept]="accept">\r\n        </span>\r\n    </span>\r\n    <input type="text" class="form-control" [ngModel]="file?.name" [placeholder]="placeholder" readonly>\r\n</div>'},function(e,t){e.exports='<span [title]="getMenuTitle()" style="display: flex; align-items: center;">\r\n    <select [(ngModel)]="language" (ngModelChange)="onLangChange()" [class]="selectClass" style="margin-right: 4px;" \r\n        [disabled]="isDisabled() || readonly">\r\n        <option *ngFor="let l of languageList" [ngValue]="l">{{l.name}} ({{l.tag}})</option>\r\n    </select>\r\n    <lang-item *ngIf="showFlag && language" [language]="language" [showName]="false"></lang-item>\r\n</span>'},function(e,t){e.exports='<div class="input-group input-group-sm">\r\n    <input type="text" class="form-control" [ngModel]="literalNT" [disabled]="disabled" readonly>\r\n    <div class="input-group-btn">\r\n        <button class="btn btn-default" (click)="pickLiteral()" title="Pick an existing resource" [disabled]="disabled">\r\n            <span class="glyphicon glyphicon-pencil"></span>\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div [class]="\'input-group input-group-\' + size">\r\n    <input type="text" class="form-control" [(ngModel)]="resourceIRI" (ngModelChange)="onModelChanged()" placeholder="http://example.org" [readonly]="!editable" [disabled]="disabled">\r\n    <div class="input-group-btn">\r\n        \x3c!-- Allowed only local --\x3e\r\n        <button *ngIf="config.allowLocal && !config.allowRemote" class="btn btn-default" (click)="pickLocalResource()" title="Pick an existing resource" [disabled]="disabled">\r\n            <span class="glyphicon glyphicon-pencil"></span>\r\n        </button>\r\n        \x3c!-- Allowed only remote --\x3e\r\n        <button *ngIf="!config.allowLocal && config.allowRemote" class="btn btn-default" (click)="pickExternalResource()" title="Pick a resource from external project" [disabled]="disabled">\r\n            <span class=" glyphicon glyphicon-share-alt"></span>\r\n        </button>\r\n        \x3c!-- Allowed both local and remote --\x3e\r\n        <ng-container *ngIf="config.allowLocal && config.allowRemote">\r\n            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n                <span class="glyphicon glyphicon-pencil"></span>\r\n            </button>\r\n            <ul class="dropdown-menu dropdown-menu-right">\r\n                <li><a (click)="pickLocalResource()">From current project</a></li>\r\n                <li><a (click)="pickExternalResource()">From external project</a></li>\r\n            </ul>\r\n        </ng-container>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="hbox">\r\n\r\n    <select class="form-control input-sm" style="margin-right: 4px; width: initial" [(ngModel)]="selectedResType" (ngModelChange)="onTypeChange()"\r\n        [disabled]="disabled">\r\n        <option *ngFor="let rt of resTypes" [ngValue]="rt">{{rt.show}}</option>\r\n    </select>\r\n\r\n    <div [ngSwitch]="selectedResType.value" style="width: 100%">\r\n        <resource-picker *ngSwitchCase="\'uri\'" [resource]="value" [editable]="editable" (resourceChanged)="updateIRI($event)" [disabled]="disabled">\r\n        </resource-picker>\r\n\r\n        <literal-picker *ngSwitchCase="\'literal\'" [literal]="value" (literalChanged)="updateLiteral($event)" [disabled]="disabled">\r\n        </literal-picker>\r\n    </div>\r\n\r\n</div>'},function(e,t){e.exports='<div class="rdfResourceIcon">\r\n    <ng-container *ngIf="imgSrc">\r\n        <img *ngIf="!lang; else resWithLangBlock" [src]="imgSrc" [title]="natureTooltip">    \r\n        <ng-template #resWithLangBlock>\r\n            \x3c!--If flag is not available write the langTag over an empty flag--\x3e\r\n            <div *ngIf="!langFlagAvailable; else langFlagBlock" class="flagIcon" [title]="lang">\r\n                <img [src]="unknownFlagImgSrc" [ngClass]="{disabled: !isExplicit()}">\r\n                <span>{{lang}}</span>\r\n            </div>\r\n            <ng-template #langFlagBlock>\r\n                <img [src]="imgSrc" [title]="lang" [ngClass]="{disabled: !isExplicit()}">\r\n            </ng-template>\r\n        </ng-template>\r\n    </ng-container>\r\n</div>\r\n<span [title]="resource.toNT()" [class]="\'rdfResourceText\' + renderingClass">\r\n    <ng-container *ngIf="manchExpr; else notManchExprBlock">\r\n        <span style="font-family: monospace;">\r\n            <span *ngFor="let cas of manchExprStruct" [class]="cas.class">{{cas.token}}</span>\r\n        </span>\r\n    </ng-container>\r\n\r\n    <ng-template #notManchExprBlock>\r\n        <ng-container *ngIf="literalWithLink; else notLinkBlock">\r\n            <ng-container *ngFor="let s of splittedLiteral; let even = even">\r\n                <ng-container *ngIf="even; then renderNormal; else renderAsLink"></ng-container>\r\n                <ng-template #renderNormal>\r\n                    <span style="white-space: pre-wrap">{{s}}</span>\r\n                </ng-template>\r\n                <ng-template #renderAsLink>\r\n                    <a (click)="openLink(s)" class="clickable">{{s}}</a>\r\n                </ng-template>\r\n            </ng-container>\r\n        </ng-container>\r\n    </ng-template>\r\n\r\n    <ng-template #notLinkBlock>\r\n        <span style="white-space: pre-wrap">{{renderingLabel}}</span>\r\n    </ng-template>\r\n</span>'},function(e,t){e.exports='<div style="border: 1px solid #ddd;" class="vbox">\n    <div #scrollableContainer class="scrollableContainer" (scroll)="onScroll()">\n        <div *ngFor="let r of resources; index as idx">\n            <div *ngIf="idx < resLimit" class="listItem" [ngClass]="{selectedResource : r == resourceSelected}" (click)="onResourceSelected(r)">\n                <rdf-resource [resource]="r" [rendering]="rendering"></rdf-resource>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="panel panel-default">\r\n    <div class="panel-body">\r\n        <table class="table table-condensed table-borderless">\r\n            <colgroup>\r\n                <col style="width: 1%">\r\n                <col>\r\n                <col style="width: 1%">\r\n                <col>\r\n                <col style="width: 1%">\r\n                <col style="width: 1%">\r\n            </colgroup>\r\n            <tbody>\r\n                <tr *ngFor="let m of map; let index = index; let last = last;">\r\n                    <td><label>Key:</label></td>\r\n                    <td>\r\n                        \x3c!-- At the moment, do not check the type of the key, consider it always as string --\x3e\r\n                        <input class="form-control input-xs" [(ngModel)]="map[index].key" (ngModelChange)="onModelChange()" [disabled]="disabled">\r\n                    </td>\r\n                    <td><label>Value:</label></td>\r\n                    <td>\r\n                        \x3c!-- At the moment, do not check the type of the value, consider it always as string --\x3e\r\n                        <textarea type="text" rows="1" class="form-control input-xs" style="resize: vertical" [(ngModel)]="map[index].value" (ngModelChange)="onModelChange()" [disabled]="disabled">\r\n                        </textarea>\r\n                    </td>\r\n                    <td>\r\n                        <button *ngIf="map.length > 1" class="btn btn-xs btn-default" (click)="delete(index)" [disabled]="disabled">\r\n                            <span class="glyphicon glyphicon-trash"></span>\r\n                        </button>\r\n                    </td>\r\n                    <td>\r\n                        <button *ngIf="last" class="btn btn-xs btn-default" (click)="add(index)" [disabled]="disabled">\r\n                            <span class="glyphicon glyphicon-plus"></span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<ng-container *ngIf="prop">\r\n\r\n    <select *ngIf="prop.enumeration; else notEnumerationBlock" class="form-control input-sm" [(ngModel)]="prop.value" (ngModelChange)="onModelChanged()" [disabled]="disabled">\r\n        <option *ngFor="let enum of prop.enumeration" [value]="enum">{{enum}}</option>\r\n    </select>\r\n\r\n    <ng-template #notEnumerationBlock>\r\n        <div [ngSwitch]="prop.type.name">\r\n            <div *ngSwitchCase="\'boolean\'" class="input-sm form-control text-center">\r\n                <label class="radio-inline">\r\n                    <input type="radio" (click)="updateBoolean(prop, true)" [name]="\'radio_\'+prop.name" [checked]="prop.value==true" [disabled]="disabled">true\r\n                </label>\r\n                <label class="radio-inline">\r\n                    <input type="radio" (click)="updateBoolean(prop, false)" [name]="\'radio_\'+prop.name" [checked]="prop.value==false" [disabled]="disabled">false\r\n                </label>\r\n            </div>\r\n\r\n            <resource-picker *ngSwitchCase="\'IRI\'" [resource]="prop.value" [config]="{ roles: getIRIRoleConstraints(prop) }" [editable]="true"\r\n                (resourceChanged)="updateValue(prop, $event)" [disabled]="disabled">\r\n            </resource-picker>\r\n\r\n            <resource-picker *ngSwitchCase="\'Resource\'" [resource]="prop.value" [config]="{ roles: getIRIRoleConstraints(prop) }" [editable]="true"\r\n                (resourceChanged)="updateValue(prop, $event)" [disabled]="disabled">\r\n            </resource-picker>\r\n\r\n            <value-picker *ngSwitchCase="\'RDFValue\'" [value]="prop.value" [editable]="true" (valueChanged)="updateValue(prop, $event)" [disabled]="disabled">\r\n            </value-picker>\r\n\r\n            <literal-picker *ngSwitchCase="\'Literal\'" [literal]="prop.value" (literalChanged)="updateValue(prop, $event)" [disabled]="disabled">\r\n            </literal-picker>\r\n\r\n            <setting-set *ngSwitchCase="\'Set\'" [value]="prop.value" [types]="prop.type.typeArguments" \r\n                (valueChanged)="updateSetValue(prop, $event)" [disabled]="disabled"></setting-set>\r\n\r\n            <setting-map *ngSwitchCase="\'Map\'" [value]="prop.value" [types]="prop.type.typeArguments" \r\n                (valueChanged)="updateMapValue(prop, $event)" [disabled]="disabled"></setting-map>\r\n\r\n            <textarea *ngSwitchCase="\'java.lang.String\'" type="text" rows="1" class="form-control input-sm" style="resize: vertical" \r\n                [(ngModel)]="prop.value" [disabled]="disabled">\r\n            </textarea>\r\n\r\n            <input *ngSwitchCase="\'int\'" type="number" class="form-control input-sm" step="1" [(ngModel)]="prop.value" [disabled]="disabled">\r\n            <input *ngSwitchCase="\'integer\'" type="number" class="form-control input-sm" step="1" [(ngModel)]="prop.value" [disabled]="disabled">\r\n            <input *ngSwitchCase="\'long\'" type="number" class="form-control input-sm" step="1" [(ngModel)]="prop.value" [disabled]="disabled">\r\n            <input *ngSwitchCase="\'float\'" type="number" class="form-control input-sm" step="0.01" [(ngModel)]="prop.value" [disabled]="disabled">\r\n            <input *ngSwitchCase="\'double\'" type="number" class="form-control input-sm" step="0.01" [(ngModel)]="prop.value" [disabled]="disabled">\r\n\r\n            <div *ngSwitchDefault class="hbox" style="align-items: center; position: relative;">\r\n                <textarea *ngSwitchDefault type="text" rows="1" class="form-control input-sm" style="resize: vertical;" \r\n                    [(ngModel)]="prop.value" [disabled]="disabled">\r\n                </textarea>\r\n                <span class="glyphicon glyphicon-warning-sign" style="position: absolute; top: 8px; right: 8px;"\r\n                    [title]="\'This parameter has an unknown type (\' + prop.type.name + \'). The entered value will be interpreted as a low-level JSON value.\'">\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n</ng-container>'},function(e,t){e.exports='<table class="table table-condensed table-borderless">\r\n    <colgroup>\r\n        <col>\r\n        <col style="width: 1%">\r\n        <col style="width: 1%">\r\n    </colgroup>\r\n    <tbody>\r\n        \x3c!-- Why index and track by? https://stackoverflow.com/q/40314732/5805661 --\x3e\r\n        <tr *ngFor="let v of value; let index = index; let last = last; trackBy: trackByIndex;">\r\n            <td style="padding: 2px 0px;">\r\n                <div [ngSwitch]="types[0].name">\r\n                    <resource-picker *ngSwitchCase="\'IRI\'" [resource]="value[index]" [config]="{ roles: getIRIRoleConstraints() }" [editable]="true"\r\n                        (resourceChanged)="updateValue(index, $event)" [disabled]="disabled">\r\n                    </resource-picker>\r\n\r\n                    <resource-picker *ngSwitchCase="\'Resource\'" [resource]="value[index]" [config]="{ roles: getIRIRoleConstraints() }" [editable]="true"\r\n                        (resourceChanged)="updateValue(index, $event)" [disabled]="disabled">\r\n                    </resource-picker>\r\n\r\n                    <value-picker *ngSwitchCase="\'RDFValue\'" [value]="value[index]" [editable]="true" (valueChanged)="updateValue(index, $event)"\r\n                        [disabled]="disabled">\r\n                    </value-picker>\r\n\r\n                    <literal-picker *ngSwitchCase="\'Literal\'" [literal]="value[index]" (literalChanged)="updateValue(index, $event)" [disabled]="disabled">\r\n                    </literal-picker>\r\n\r\n                    <textarea *ngSwitchCase="\'java.lang.String\'" type="text" rows="1" class="form-control input-sm" style="resize: vertical"\r\n                        [(ngModel)]="value[index]" (ngModelChange)="onModelChange()" [disabled]="disabled">\r\n                    </textarea>\r\n\r\n                    <input *ngSwitchCase="\'int\'" type="number" class="form-control input-sm" step="1" [(ngModel)]="p.value" [disabled]="disabled">\r\n                    <input *ngSwitchCase="\'integer\'" type="number" class="form-control input-sm" step="1" [(ngModel)]="p.value" [disabled]="disabled">\r\n                    <input *ngSwitchCase="\'long\'" type="number" class="form-control input-sm" step="1" [(ngModel)]="p.value" [disabled]="disabled">\r\n                    <input *ngSwitchCase="\'float\'" type="number" class="form-control input-sm" step="0.01" [(ngModel)]="p.value" [disabled]="disabled">\r\n                    <input *ngSwitchCase="\'double\'" type="number" class="form-control input-sm" step="0.01" [(ngModel)]="p.value" [disabled]="disabled">\r\n\r\n                    <div *ngSwitchDefault class="hbox" style="align-items: center; position: relative;">\r\n                        <textarea *ngSwitchDefault type="text" rows="1" class="form-control input-sm" \r\n                            style="resize: vertical;" [(ngModel)]="value[index]" (ngModelChange)="onModelChange()" [disabled]="disabled">\r\n                        </textarea>\r\n                        <span class="glyphicon glyphicon-warning-sign" style="position: absolute; top: 8px; right: 8px;"\r\n                            [title]="\'This parameter has an unknown type (\' + types[0].name + \'). The entered value will be interpreted as a low-level JSON value.\'">\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <td style="padding: 0px;">\r\n                <button *ngIf="value.length > 1" class="btn btn-sm btn-default" (click)="delete(index)" style="margin-left: 3px;" [disabled]="disabled">\r\n                    <span class="glyphicon glyphicon-trash"></span>\r\n                </button>\r\n            </td>\r\n            <td style="padding: 0px;">\r\n                <button *ngIf="last" class="btn btn-sm btn-default" (click)="add(index)" style="margin-left: 3px;" [disabled]="disabled">\r\n                    <span class="glyphicon glyphicon-plus"></span>\r\n                </button>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>'},function(e,t){e.exports='<table class="table table-condensed table-borderless table-hoverable">\r\n    <colgroup>\r\n        <col style="width: 1%;">\r\n        <col>\r\n        <col style="width: 1%;">\r\n    </colgroup>\r\n    <tbody>\r\n        <tr *ngFor="let p of settings?.properties; let i=index">\r\n            <td nowrap>\r\n                <ng-container *ngIf="p.displayName; then displayName; else noDisplayName"></ng-container>\r\n                <ng-template #displayName>\r\n                    {{p.displayName}}\r\n                </ng-template>\r\n                <ng-template #noDisplayName>\r\n                    {{p.name}}\r\n                </ng-template>\r\n                <span *ngIf="p.required" title="Required">*</span>\r\n            </td>\r\n            <td>\r\n                <setting-prop-renderer [(ngModel)]="settings.properties[i]" (ngModelChange)="onModelChanged()" [disabled]="disabled"></setting-prop-renderer>\r\n            </td>\r\n            <td>\r\n                <span *ngIf="p.description && p.description != \'\'" class="glyphicon glyphicon-info-sign" style="margin-left: 3px" [title]="p.description"></span>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>'},function(e,t){e.exports='<div class="panel panel-default vbox">\r\n    <div class="panel-heading hbox" style="flex: initial">\r\n        <label style="flex: 1">{{settings?.shortName}}</label>\r\n        <div *ngIf="scope">\r\n            <label>scope:</label>\r\n            <span>{{scope}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body" class="scrollableContainer">\r\n\r\n        <div *ngIf="settings?.htmlDescription" class="alert alert-info alert-dismissible alert-multiline" style="margin-bottom: 4px;">\r\n            <div class="hbox" style="align-items: center;">\r\n                <span class="glyphicon glyphicon-info-sign" style="margin-right: 6px;"></span>\r\n                <span style="flex: 1;" [innerHTML]="safeDescription"></span>\r\n            </div>\r\n            <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n        </div>\r\n\r\n        <div *ngIf="settings?.htmlWarning" class="alert alert-warning alert-dismissible alert-multiline" style="margin-bottom: 4px;">\r\n            <div class="hbox" style="align-items: center;">\r\n                <span class="glyphicon glyphicon-warning-sign" style="margin-right: 6px;"></span>\r\n                <span style="flex: 1;" [innerHTML]="safeWarning"></span>\r\n            </div>\r\n            <button class="close" data-dismiss="alert"><span>&times;</span></button>\r\n        </div>\r\n\r\n        <settings-renderer [(ngModel)]="settings" (ngModelChange)="onModelChanged()"></settings-renderer>\r\n        \r\n    </div>\r\n</div>'},function(e,t){e.exports='<div>\r\n    <select class="form-control input-sm" [(ngModel)]="selectedDatatype" (ngModelChange)="onDatatypeChange()" style="margin-bottom: 6px;">\r\n        <option *ngFor="let dt of datatypeList" [ngValue]="dt" [title]="dt.getURI()">{{dt.getShow()}}</option>\r\n    </select>\r\n\r\n\r\n    <ng-container *ngIf="enumerations">\r\n        <select class="form-control input-sm" [(ngModel)]="selectedEnumeration" (ngModelChange)="onEnumerationChange()">\r\n            <option *ngFor="let e of enumerations" [ngValue]="e">{{e.toNT()}}</option>\r\n        </select>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf="!enumerations">\r\n        <input *ngIf="numericInput; else nonNumericBlock" type="number" [min]="numericInputMin" [max]="numericInputMax" \r\n            class="form-control input-sm" [(ngModel)]="stringValue" (ngModelChange)="onValueChanged()">\r\n        <ng-template #nonNumericBlock>\r\n            <div *ngIf="isDatatypeBound(); else nonBoundBlock">\r\n                <div class="panel panel-default">\r\n                    <div class="panel-body">\r\n                        <div *ngIf="selectedDatatype?.getURI()==\'http://www.w3.org/2001/XMLSchema#boolean\'" class="text-center">\r\n                            <label class="radio-inline">\r\n                                <input type="radio" (click)="stringValue=\'true\'; onValueChanged()" [checked]="stringValue==\'true\'">true\r\n                            </label>\r\n                            <label class="radio-inline" style="margin-left: 20px;">\r\n                                <input type="radio" (click)="stringValue=\'false\'; onValueChanged()" [checked]="stringValue==\'false\'">false\r\n                            </label>\r\n                        </div>\r\n                        <div *ngIf="selectedDatatype?.getURI()==\'http://www.w3.org/2001/XMLSchema#date\'">\r\n                            <input class="form-control input-sm" type="date" [(ngModel)]="stringValue" (ngModelChange)="onValueChanged()">\r\n                        </div>\r\n                        <div *ngIf="selectedDatatype?.getURI()==\'http://www.w3.org/2001/XMLSchema#dateTime\'">\r\n                            <input class="form-control input-sm" type="datetime-local" [(ngModel)]="stringValue" (ngModelChange)="onValueChanged()">\r\n                        </div>\r\n                        <div *ngIf="selectedDatatype?.getURI()==\'http://www.w3.org/2001/XMLSchema#time\'">\r\n                            <input class="form-control input-sm" type="time" [(ngModel)]="stringValue" (ngModelChange)="onValueChanged()">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <input type="text" class="form-control input-sm" style="margin-top: 6px;" [(ngModel)]="stringValue" (ngModelChange)="onValueChanged()" disabled>\r\n            </div>\r\n            <ng-template #nonBoundBlock>\r\n                <div *ngIf="selectedDatatype?.getURI()==\'http://www.w3.org/1999/02/22-rdf-syntax-ns#langString\'; else defaultBlock"\r\n                    class="hbox" style="align-items: center;">\r\n                    <textarea class="form-control input-sm" rows="1" style="flex: 1; margin-right: 4px; height: initial; resize: vertical;"\r\n                        [(ngModel)]="stringValue" (ngModelChange)="onValueChanged()">\r\n                    </textarea>\r\n                    <lang-picker [(ngModel)]="lang" (ngModelChange)="onLangChanged()"></lang-picker>\r\n                </div>\r\n                \x3c!-- any other unknown datatype: non numeric, non bound, not rdf:langString --\x3e\r\n                <ng-template #defaultBlock>\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="stringValue" (ngModelChange)="onValueChanged()">\r\n                </ng-template>\r\n            </ng-template>\r\n        </ng-template>\r\n    </ng-container>\r\n\r\n</div>'},,,,,function(e,t){e.exports=".firstCol { \r\n    min-width: 90px; \r\n    max-width: 250px; \r\n    white-space: nowrap; \r\n    overflow: hidden; \r\n    text-overflow: ellipsis; \r\n    border-right: 2px solid #ddd;\r\n}\r\n.fixedCol { \r\n    max-width: 60px; \r\n    width: 60px; \r\n    white-space: nowrap; \r\n    overflow: hidden; \r\n    text-overflow: ellipsis; \r\n}\r\n.fixedColInner { \r\n    min-width: 30px; \r\n    width: 30px; \r\n    min-height: 26px; \r\n    height: 26px; \r\n}\r\n\r\n\r\n/* Access level */\r\n\r\n.disabledCell { \r\n    background-color: #eee;\r\n}\r\n.accessed { \r\n    background-color: #aef793;\r\n    color: #3c763d;\r\n    font-weight: bold;\r\n}\r\n.locked {\r\n    border: 2px double #a94442;\r\n}\r\n\r\n\r\n/* Lock level */\r\n\r\n.lock-badge {\r\n    width: 25px;\r\n    padding: 1px 3px;\r\n    font-size: 11px;\r\n    line-height: 1.5;\r\n    border-radius: 3px;\r\n    display: inline-block;\r\n    margin-bottom: 0;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    border: 1px solid transparent;\r\n}\r\n.lock-badge.lock-default {\r\n    color: #333;\r\n    background-color: #fff;\r\n    border-color: #ccc;\r\n}\r\n.lock-badge.lock-active {\r\n    color: #a94442;\r\n    background-color: #f2dede;\r\n    border-color: #a94442;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n/* Rotated headers */\r\n\r\nth.rotate {\r\n    height: 90px;\r\n    width: 30px;\r\n    white-space: nowrap;\r\n    padding: 0px;\r\n}\r\nth.rotate > .rotated-container {\r\n    transform: translate(26px, 34px) rotate(315deg);\r\n}\r\nth.rotate > .rotated-container > .consumer-container {\r\n    position: absolute;\r\n    width: 127px; /* 127 is the diagonal of a square with side 90px (see height of .rotate) */\r\n    border-bottom: 1px solid #ccc;\r\n}\r\nth.rotate > .rotated-container > .consumer-container > .consumer-text {\r\n    position: absolute;\r\n    bottom: 3px;\r\n    left: -3px;\r\n    /* For ellipsis */\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap !important;\r\n    max-width: 117px; /* gives a bigger margin to the 127px width of the consumer-container */\r\n}\r\n.table-bordered>thead>tr>th.rotate {\r\n    border: 0px; /* This for removing the default border set by bootstrap */\r\n    border-bottom: 2px solid #ddd; /* This for setting at least the bottom-border of the header row */\r\n}"},function(e,t){e.exports=".nav-tabs-bottom>li {\r\n    float: left;\r\n    margin-top: -1px;\r\n}\r\n.nav-tabs-bottom>li>a {\r\n    margin-right: 2px;\r\n    padding: 4px 8px;\r\n    background-color: #fff;\r\n    border: 1px solid #ddd;\r\n    border-radius: 0px 0px 4px 4px;\r\n    line-height: 1;\r\n    color: #555;\r\n    cursor: default;\r\n}\r\n.nav-tabs-bottom>li.active>a, .nav-tabs-bottom>li.active>a:hover, .nav-tabs-bottom>li.active>a:focus {\r\n    background-color: #f5f5f5;\r\n    border-top-color: transparent;\r\n}"},function(e,t){e.exports=".custom {\n    background-color: rgb(251, 251, 251);\n    border: 1px solid rgb(251, 251, 251);\n    box-shadow: none;\n    height: auto; \n    min-height: 19px;\n    white-space: pre-wrap; \n}\n.custom.disabled {\n    background-color: rgb(244, 244, 244);\n    cursor: not-allowed;\n}\n\n.custom:hover{\n    border: 1px solid rgb(244, 244, 244) !important;\n}\n\ntextarea:hover {\n    border: 1px solid rgb(244, 244, 244);\n}\n\ntextarea:focus {\n    border: 1px solid rgb(244, 244, 244);\n}\n\n"},function(e,t){e.exports="  .wrap {\n    display: flex;\n    text-align: center;\n    margin: 2px;\n    position: relative;\n    margin-top: 40px;\n  }\n\n  .links {\n    padding: 0 10px;\n    display: flex;\n    /* justify-content: space-between; */\n    position: relative;\n  }\n\n  .wrap:before {\n    content: '';\n    position: absolute;\n    top: 100%;\n    /* top:50% for flag in middle of the line*/\n    left: 0;\n    border-top: 1px solid black;\n    background: black;\n    width: 100%;\n    transform: translateY(-50%);\n  }\n\n  .semitransparent {\n    margin-left: auto;\n  }\n\n  .semitransparent:hover>.add-button {\n    background: rgba(221, 221, 221, 0.5);\n    transition: all 0.4s ease-in;\n  }\n\n  .add-button {\n    border: none;\n    background: rgba(255, 255, 255, 0.5);\n    transition: all 0.3s ease-out;\n  }\n\n  .add-button:hover, .add-button:focus, .add-button:active {\n    background: rgba(221, 221, 221, 0.5);\n    transition: all 0.4s ease-in;\n  }\n\n  .add-button:focus {\n    outline: none;\n  }\n\n  .add-button span {\n    color: white;\n  }\n\n  .arrow {\n    margin: 0;\n    padding: 0 1px !important;\n  }\n\n  .minus-button {\n    border: none;\n    background: rgba(255, 255, 255, 0.5);\n    transition: all 0.3s ease-out;\n    margin-left: 3px;\n  }\n\n  .minus-button:hover, .minus-button:focus, .minus-button:active {\n    background: rgba(221, 221, 221, 0.5);\n    transition: all 0.4s ease-in;\n  }\n\n  .minus-button:focus {\n    outline: none;\n  }\n\n  .minus-button span {\n    color: white;\n  }\n\n  .remove-button {\n    position: absolute;\n    left: 30%;\n    border: none;\n    background: transparent;\n    transition: all 0.3s ease-out;\n  }\n\n  .remove-button:hover, .remove-button:focus, .remove-button:active {\n    background: rgba(124, 124, 124, 0.8);\n    transition: all 0.4s ease-in;\n  }\n\n  .remove-button:hover>span {\n    color: white;\n  }\n\n  .remove-button:focus {\n    outline: none;\n  }\n\n  .remove-button span {\n    color: transparent;\n  }"},function(e,t){e.exports="  .def-wrap {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-top: 5px;\n  }\n\n  .add-button {\n    border: none;\n    background: rgba(255, 255, 255, 0.5);\n    transition: all 0.3s ease-out;\n  }\n\n  .add-button:hover, .add-button:focus, .add-button:active {\n    background: rgba(221, 221, 221, 0.5);\n    transition: all 0.4s ease-in;\n  }\n\n  .add-button:focus {\n    outline: none;\n  }\n\n  .add-button span {\n    color: white;\n  }\n\n  .minus-button {\n    border: none;\n    background: rgba(255, 255, 255, 0.5);\n    transition: all 0.3s ease-out;\n    margin-left: 3px;\n  }\n\n  .minus-button:hover, .minus-button:focus, .minus-button:active {\n    background: rgba(221, 221, 221, 0.5);\n    transition: all 0.4s ease-in;\n  }\n\n  .minus-button:focus {\n    outline: none;\n  }\n\n  .minus-button span {\n    color: white;\n  }"},function(e,t){e.exports=".prefLabelColor {\n  color: #337ab7;\n}\n\n.altLabelcolor {\n  color: #686969;\n}\n\n.term-wrap {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.minus-button {\n  border: none;\n  background: rgba(255, 255, 255, 0.5);\n  transition: all 0.3s ease-out;\n  margin-left: 3px;\n}\n\n.minus-button:hover, .minus-button:focus, .minus-button:active {\n  background: rgba(221, 221, 221, 0.5);\n  transition: all 0.4s ease-in;\n}\n\n.minus-button:focus {\n  outline: none;\n}\n\n.minus-button span {\n  color: white;\n}"},function(e,t){e.exports="/* first panel */\n.qname { width:100%;  border-bottom: 1px solid #000; line-height:1px;  margin:20px 0px 20px; font-size: 13px; } \n.qname span { background:#fff; padding:0px 5px; margin-left:20px; } \n.concept { width:100%;  border-bottom: 1px solid #000; line-height:1px;  margin:20px 0px 20px; font-size: 13px; } \n.concept span { background:#fff; padding:0px 5px; margin-left:20px; } \n/* languages */\n.lang {margin-top: 20px; display: flex; flex-direction: row; flex-wrap: wrap; }\nlang-item{ padding: 3px; flex-basis: 1%;}\n/* languages definition */\n.def-lang {margin-top: 13px;}\n\n"},function(e,t){e.exports='/*\r\nHere I extended the CSS rules of the default theme in codemirror.css\r\n(https://codemirror.net/lib/codemirror.css) with further rules for each keyword of the manchester syntax\r\n*/\r\n\r\n.cm-quantifier { color: #9c0cb2; font-weight: bold; } /* some, value, ... */\r\n.cm-conjuction { color: #0c965f; font-weight: bold; } /* and, or, ... */\r\n.cm-facet { color: #05a; } /* minLenght, pattern, ... */\r\n.cm-builtinDatatype { color: #085; } /* integer, decimal, ... */\r\n.cm-characteristic { color: #0075ba; font-weight: bold; } /* Functional, InverseFunctional */\r\n.cm-bracket { color: #997; }\r\n.cm-frame { color: #757575; font-weight: bold; } /* AnnotationProperty:, Class:, ... */\r\n.cm-section { color: #001abc; font-weight: bold; } /* Annotations:, SubClassOf:, ... */\r\n.cm-boolean { color: #219 } /* atom */\r\n\r\n/* these are used for hints window*/\r\n.quantifier { color: #9c0cb2; font-weight: bold; } /* some, value, ... */\r\n.conjuction { color: #0c965f; font-weight: bold; } /* and, or, ... */\r\n.facet { color: #05a; } /* minLenght, pattern, ... */ \r\n\r\n.underline{\r\n    background: url("../../../../assets/images/underline.gif") bottom repeat-x;\r\n}'},function(e,t){e.exports="/* this file is used to customize css of the helper table*/\n\n.helper-table {\n    font-size: 13px;\n    width: 70%;\n    border: 1px solid black;\n    border-width: 0px 0px 1px 0px;\n    margin-bottom: 10px;\n}\n\ntable.helper-table th{\n    border: 1px solid black;\n    border-width: 0px 1px 1px 0px;\n    text-align: center;\n}\n\ntable.helper-table td{\n    border: 1px solid black;\n    border-width: 0px 1px 0px 0px;\n    text-align: center;\n}\n\np {\n    font-size: 15px;\n}\n\n"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){(function(global){var require,require;!function(e){module.exports=e()}(function(){var define,module,exports;return function e(t,n,r){function s(i,a){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!a&&l)return require(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[i]={exports:{}};t[i][0].call(p.exports,function(e){var n=t[i][1][e];return s(n||e)},p,p.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)s(r[i]);return s}({1:[function(e,t,n){"use strict";var r=e("jquery");r.deparam=function(e,t){var n={},o={true:!0,false:!1,null:null};return r.each(e.replace(/\+/g," ").split("&"),function(e,i){var a,s=i.split("="),l=decodeURIComponent(s[0]),c=n,p=0,d=l.split("]["),u=d.length-1;if(/\[/.test(d[0])&&/\]$/.test(d[u])?(d[u]=d[u].replace(/\]$/,""),d=d.shift().split("[").concat(d),u=d.length-1):u=0,2===s.length)if(a=decodeURIComponent(s[1]),t&&(a=a&&!isNaN(a)?+a:"undefined"===a?void 0:void 0!==o[a]?o[a]:a),u)for(;p<=u;p++)l=""===d[p]?c.length:d[p],c=c[l]=p<u?c[l]||(d[p+1]&&isNaN(d[p+1])?{}:[]):a;else r.isArray(n[l])?n[l].push(a):void 0!==n[l]?n[l]=[n[l],a]:n[l]=a;else l&&(n[l]=t?void 0:"")}),n}},{jquery:15}],2:[function(e,t,n){t.exports={table:{"*[&&,valueLogical]":{"&&":["[&&,valueLogical]","*[&&,valueLogical]"],AS:[],")":[],",":[],"||":[],";":[]},"*[,,expression]":{",":["[,,expression]","*[,,expression]"],")":[]},"*[,,objectPath]":{",":["[,,objectPath]","*[,,objectPath]"],".":[],";":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[,,object]":{",":["[,,object]","*[,,object]"],".":[],";":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"*[/,pathEltOrInverse]":{"/":["[/,pathEltOrInverse]","*[/,pathEltOrInverse]"],"|":[],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"*[;,?[or([verbPath,verbSimple]),objectList]]":{";":["[;,?[or([verbPath,verbSimple]),objectList]]","*[;,?[or([verbPath,verbSimple]),objectList]]"],".":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[;,?[verb,objectList]]":{";":["[;,?[verb,objectList]]","*[;,?[verb,objectList]]"],".":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"*[UNION,groupGraphPattern]":{UNION:["[UNION,groupGraphPattern]","*[UNION,groupGraphPattern]"],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],".":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[graphPatternNotTriples,?.,?triplesBlock]":{"{":["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],OPTIONAL:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],MINUS:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],GRAPH:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],SERVICE:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],FILTER:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],BIND:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],VALUES:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],"}":[]},"*[quadsNotTriples,?.,?triplesTemplate]":{GRAPH:["[quadsNotTriples,?.,?triplesTemplate]","*[quadsNotTriples,?.,?triplesTemplate]"],"}":[]},"*[|,pathOneInPropertySet]":{"|":["[|,pathOneInPropertySet]","*[|,pathOneInPropertySet]"],")":[]},"*[|,pathSequence]":{"|":["[|,pathSequence]","*[|,pathSequence]"],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"*[||,conditionalAndExpression]":{"||":["[||,conditionalAndExpression]","*[||,conditionalAndExpression]"],AS:[],")":[],",":[],";":[]},"*dataBlockValue":{UNDEF:["dataBlockValue","*dataBlockValue"],IRI_REF:["dataBlockValue","*dataBlockValue"],TRUE:["dataBlockValue","*dataBlockValue"],FALSE:["dataBlockValue","*dataBlockValue"],PNAME_LN:["dataBlockValue","*dataBlockValue"],PNAME_NS:["dataBlockValue","*dataBlockValue"],STRING_LITERAL1:["dataBlockValue","*dataBlockValue"],STRING_LITERAL2:["dataBlockValue","*dataBlockValue"],STRING_LITERAL_LONG1:["dataBlockValue","*dataBlockValue"],STRING_LITERAL_LONG2:["dataBlockValue","*dataBlockValue"],INTEGER:["dataBlockValue","*dataBlockValue"],DECIMAL:["dataBlockValue","*dataBlockValue"],DOUBLE:["dataBlockValue","*dataBlockValue"],INTEGER_POSITIVE:["dataBlockValue","*dataBlockValue"],DECIMAL_POSITIVE:["dataBlockValue","*dataBlockValue"],DOUBLE_POSITIVE:["dataBlockValue","*dataBlockValue"],INTEGER_NEGATIVE:["dataBlockValue","*dataBlockValue"],DECIMAL_NEGATIVE:["dataBlockValue","*dataBlockValue"],DOUBLE_NEGATIVE:["dataBlockValue","*dataBlockValue"],"}":[],")":[]},"*datasetClause":{FROM:["datasetClause","*datasetClause"],WHERE:[],"{":[]},"*describeDatasetClause":{FROM:["describeDatasetClause","*describeDatasetClause"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],WHERE:[],"{":[],VALUES:[],$:[]},"*graphNode":{"(":["graphNode","*graphNode"],"[":["graphNode","*graphNode"],VAR1:["graphNode","*graphNode"],VAR2:["graphNode","*graphNode"],NIL:["graphNode","*graphNode"],IRI_REF:["graphNode","*graphNode"],TRUE:["graphNode","*graphNode"],FALSE:["graphNode","*graphNode"],BLANK_NODE_LABEL:["graphNode","*graphNode"],ANON:["graphNode","*graphNode"],PNAME_LN:["graphNode","*graphNode"],PNAME_NS:["graphNode","*graphNode"],STRING_LITERAL1:["graphNode","*graphNode"],STRING_LITERAL2:["graphNode","*graphNode"],STRING_LITERAL_LONG1:["graphNode","*graphNode"],STRING_LITERAL_LONG2:["graphNode","*graphNode"],INTEGER:["graphNode","*graphNode"],DECIMAL:["graphNode","*graphNode"],DOUBLE:["graphNode","*graphNode"],INTEGER_POSITIVE:["graphNode","*graphNode"],DECIMAL_POSITIVE:["graphNode","*graphNode"],DOUBLE_POSITIVE:["graphNode","*graphNode"],INTEGER_NEGATIVE:["graphNode","*graphNode"],DECIMAL_NEGATIVE:["graphNode","*graphNode"],DOUBLE_NEGATIVE:["graphNode","*graphNode"],")":[]},"*graphNodePath":{"(":["graphNodePath","*graphNodePath"],"[":["graphNodePath","*graphNodePath"],VAR1:["graphNodePath","*graphNodePath"],VAR2:["graphNodePath","*graphNodePath"],NIL:["graphNodePath","*graphNodePath"],IRI_REF:["graphNodePath","*graphNodePath"],TRUE:["graphNodePath","*graphNodePath"],FALSE:["graphNodePath","*graphNodePath"],BLANK_NODE_LABEL:["graphNodePath","*graphNodePath"],ANON:["graphNodePath","*graphNodePath"],PNAME_LN:["graphNodePath","*graphNodePath"],PNAME_NS:["graphNodePath","*graphNodePath"],STRING_LITERAL1:["graphNodePath","*graphNodePath"],STRING_LITERAL2:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath","*graphNodePath"],INTEGER:["graphNodePath","*graphNodePath"],DECIMAL:["graphNodePath","*graphNodePath"],DOUBLE:["graphNodePath","*graphNodePath"],INTEGER_POSITIVE:["graphNodePath","*graphNodePath"],DECIMAL_POSITIVE:["graphNodePath","*graphNodePath"],DOUBLE_POSITIVE:["graphNodePath","*graphNodePath"],INTEGER_NEGATIVE:["graphNodePath","*graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath","*graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath","*graphNodePath"],")":[]},"*groupCondition":{"(":["groupCondition","*groupCondition"],STR:["groupCondition","*groupCondition"],LANG:["groupCondition","*groupCondition"],LANGMATCHES:["groupCondition","*groupCondition"],DATATYPE:["groupCondition","*groupCondition"],BOUND:["groupCondition","*groupCondition"],IRI:["groupCondition","*groupCondition"],URI:["groupCondition","*groupCondition"],BNODE:["groupCondition","*groupCondition"],RAND:["groupCondition","*groupCondition"],ABS:["groupCondition","*groupCondition"],CEIL:["groupCondition","*groupCondition"],FLOOR:["groupCondition","*groupCondition"],ROUND:["groupCondition","*groupCondition"],CONCAT:["groupCondition","*groupCondition"],STRLEN:["groupCondition","*groupCondition"],UCASE:["groupCondition","*groupCondition"],LCASE:["groupCondition","*groupCondition"],ENCODE_FOR_URI:["groupCondition","*groupCondition"],CONTAINS:["groupCondition","*groupCondition"],STRSTARTS:["groupCondition","*groupCondition"],STRENDS:["groupCondition","*groupCondition"],STRBEFORE:["groupCondition","*groupCondition"],STRAFTER:["groupCondition","*groupCondition"],YEAR:["groupCondition","*groupCondition"],MONTH:["groupCondition","*groupCondition"],DAY:["groupCondition","*groupCondition"],HOURS:["groupCondition","*groupCondition"],MINUTES:["groupCondition","*groupCondition"],SECONDS:["groupCondition","*groupCondition"],TIMEZONE:["groupCondition","*groupCondition"],TZ:["groupCondition","*groupCondition"],NOW:["groupCondition","*groupCondition"],UUID:["groupCondition","*groupCondition"],STRUUID:["groupCondition","*groupCondition"],MD5:["groupCondition","*groupCondition"],SHA1:["groupCondition","*groupCondition"],SHA256:["groupCondition","*groupCondition"],SHA384:["groupCondition","*groupCondition"],SHA512:["groupCondition","*groupCondition"],COALESCE:["groupCondition","*groupCondition"],IF:["groupCondition","*groupCondition"],STRLANG:["groupCondition","*groupCondition"],STRDT:["groupCondition","*groupCondition"],SAMETERM:["groupCondition","*groupCondition"],ISIRI:["groupCondition","*groupCondition"],ISURI:["groupCondition","*groupCondition"],ISBLANK:["groupCondition","*groupCondition"],ISLITERAL:["groupCondition","*groupCondition"],ISNUMERIC:["groupCondition","*groupCondition"],VAR1:["groupCondition","*groupCondition"],VAR2:["groupCondition","*groupCondition"],SUBSTR:["groupCondition","*groupCondition"],REPLACE:["groupCondition","*groupCondition"],REGEX:["groupCondition","*groupCondition"],EXISTS:["groupCondition","*groupCondition"],NOT:["groupCondition","*groupCondition"],IRI_REF:["groupCondition","*groupCondition"],PNAME_LN:["groupCondition","*groupCondition"],PNAME_NS:["groupCondition","*groupCondition"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],HAVING:[],$:[],"}":[]},"*havingCondition":{"(":["havingCondition","*havingCondition"],STR:["havingCondition","*havingCondition"],LANG:["havingCondition","*havingCondition"],LANGMATCHES:["havingCondition","*havingCondition"],DATATYPE:["havingCondition","*havingCondition"],BOUND:["havingCondition","*havingCondition"],IRI:["havingCondition","*havingCondition"],URI:["havingCondition","*havingCondition"],BNODE:["havingCondition","*havingCondition"],RAND:["havingCondition","*havingCondition"],ABS:["havingCondition","*havingCondition"],CEIL:["havingCondition","*havingCondition"],FLOOR:["havingCondition","*havingCondition"],ROUND:["havingCondition","*havingCondition"],CONCAT:["havingCondition","*havingCondition"],STRLEN:["havingCondition","*havingCondition"],UCASE:["havingCondition","*havingCondition"],LCASE:["havingCondition","*havingCondition"],ENCODE_FOR_URI:["havingCondition","*havingCondition"],CONTAINS:["havingCondition","*havingCondition"],STRSTARTS:["havingCondition","*havingCondition"],STRENDS:["havingCondition","*havingCondition"],STRBEFORE:["havingCondition","*havingCondition"],STRAFTER:["havingCondition","*havingCondition"],YEAR:["havingCondition","*havingCondition"],MONTH:["havingCondition","*havingCondition"],DAY:["havingCondition","*havingCondition"],HOURS:["havingCondition","*havingCondition"],MINUTES:["havingCondition","*havingCondition"],SECONDS:["havingCondition","*havingCondition"],TIMEZONE:["havingCondition","*havingCondition"],TZ:["havingCondition","*havingCondition"],NOW:["havingCondition","*havingCondition"],UUID:["havingCondition","*havingCondition"],STRUUID:["havingCondition","*havingCondition"],MD5:["havingCondition","*havingCondition"],SHA1:["havingCondition","*havingCondition"],SHA256:["havingCondition","*havingCondition"],SHA384:["havingCondition","*havingCondition"],SHA512:["havingCondition","*havingCondition"],COALESCE:["havingCondition","*havingCondition"],IF:["havingCondition","*havingCondition"],STRLANG:["havingCondition","*havingCondition"],STRDT:["havingCondition","*havingCondition"],SAMETERM:["havingCondition","*havingCondition"],ISIRI:["havingCondition","*havingCondition"],ISURI:["havingCondition","*havingCondition"],ISBLANK:["havingCondition","*havingCondition"],ISLITERAL:["havingCondition","*havingCondition"],ISNUMERIC:["havingCondition","*havingCondition"],SUBSTR:["havingCondition","*havingCondition"],REPLACE:["havingCondition","*havingCondition"],REGEX:["havingCondition","*havingCondition"],EXISTS:["havingCondition","*havingCondition"],NOT:["havingCondition","*havingCondition"],IRI_REF:["havingCondition","*havingCondition"],PNAME_LN:["havingCondition","*havingCondition"],PNAME_NS:["havingCondition","*havingCondition"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],$:[],"}":[]},"*or([[(,*dataBlockValue,)],NIL])":{"(":["or([[(,*dataBlockValue,)],NIL])","*or([[(,*dataBlockValue,)],NIL])"],NIL:["or([[(,*dataBlockValue,)],NIL])","*or([[(,*dataBlockValue,)],NIL])"],"}":[]},"*or([[*,unaryExpression],[/,unaryExpression]])":{"*":["or([[*,unaryExpression],[/,unaryExpression]])","*or([[*,unaryExpression],[/,unaryExpression]])"],"/":["or([[*,unaryExpression],[/,unaryExpression]])","*or([[*,unaryExpression],[/,unaryExpression]])"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],";":[]},"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])":{"+":["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"-":["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],";":[]},"*or([baseDecl,prefixDecl])":{BASE:["or([baseDecl,prefixDecl])","*or([baseDecl,prefixDecl])"],PREFIX:["or([baseDecl,prefixDecl])","*or([baseDecl,prefixDecl])"],$:[],CONSTRUCT:[],DESCRIBE:[],ASK:[],INSERT:[],DELETE:[],SELECT:[],LOAD:[],CLEAR:[],DROP:[],ADD:[],MOVE:[],COPY:[],CREATE:[],WITH:[]},"*or([var,[(,expression,AS,var,)]])":{"(":["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],VAR1:["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],VAR2:["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],WHERE:[],"{":[],FROM:[]},"*orderCondition":{ASC:["orderCondition","*orderCondition"],DESC:["orderCondition","*orderCondition"],VAR1:["orderCondition","*orderCondition"],VAR2:["orderCondition","*orderCondition"],"(":["orderCondition","*orderCondition"],STR:["orderCondition","*orderCondition"],LANG:["orderCondition","*orderCondition"],LANGMATCHES:["orderCondition","*orderCondition"],DATATYPE:["orderCondition","*orderCondition"],BOUND:["orderCondition","*orderCondition"],IRI:["orderCondition","*orderCondition"],URI:["orderCondition","*orderCondition"],BNODE:["orderCondition","*orderCondition"],RAND:["orderCondition","*orderCondition"],ABS:["orderCondition","*orderCondition"],CEIL:["orderCondition","*orderCondition"],FLOOR:["orderCondition","*orderCondition"],ROUND:["orderCondition","*orderCondition"],CONCAT:["orderCondition","*orderCondition"],STRLEN:["orderCondition","*orderCondition"],UCASE:["orderCondition","*orderCondition"],LCASE:["orderCondition","*orderCondition"],ENCODE_FOR_URI:["orderCondition","*orderCondition"],CONTAINS:["orderCondition","*orderCondition"],STRSTARTS:["orderCondition","*orderCondition"],STRENDS:["orderCondition","*orderCondition"],STRBEFORE:["orderCondition","*orderCondition"],STRAFTER:["orderCondition","*orderCondition"],YEAR:["orderCondition","*orderCondition"],MONTH:["orderCondition","*orderCondition"],DAY:["orderCondition","*orderCondition"],HOURS:["orderCondition","*orderCondition"],MINUTES:["orderCondition","*orderCondition"],SECONDS:["orderCondition","*orderCondition"],TIMEZONE:["orderCondition","*orderCondition"],TZ:["orderCondition","*orderCondition"],NOW:["orderCondition","*orderCondition"],UUID:["orderCondition","*orderCondition"],STRUUID:["orderCondition","*orderCondition"],MD5:["orderCondition","*orderCondition"],SHA1:["orderCondition","*orderCondition"],SHA256:["orderCondition","*orderCondition"],SHA384:["orderCondition","*orderCondition"],SHA512:["orderCondition","*orderCondition"],COALESCE:["orderCondition","*orderCondition"],IF:["orderCondition","*orderCondition"],STRLANG:["orderCondition","*orderCondition"],STRDT:["orderCondition","*orderCondition"],SAMETERM:["orderCondition","*orderCondition"],ISIRI:["orderCondition","*orderCondition"],ISURI:["orderCondition","*orderCondition"],ISBLANK:["orderCondition","*orderCondition"],ISLITERAL:["orderCondition","*orderCondition"],ISNUMERIC:["orderCondition","*orderCondition"],SUBSTR:["orderCondition","*orderCondition"],REPLACE:["orderCondition","*orderCondition"],REGEX:["orderCondition","*orderCondition"],EXISTS:["orderCondition","*orderCondition"],NOT:["orderCondition","*orderCondition"],IRI_REF:["orderCondition","*orderCondition"],PNAME_LN:["orderCondition","*orderCondition"],PNAME_NS:["orderCondition","*orderCondition"],VALUES:[],LIMIT:[],OFFSET:[],$:[],"}":[]},"*usingClause":{USING:["usingClause","*usingClause"],WHERE:[]},"*var":{VAR1:["var","*var"],VAR2:["var","*var"],")":[]},"*varOrIRIref":{VAR1:["varOrIRIref","*varOrIRIref"],VAR2:["varOrIRIref","*varOrIRIref"],IRI_REF:["varOrIRIref","*varOrIRIref"],PNAME_LN:["varOrIRIref","*varOrIRIref"],PNAME_NS:["varOrIRIref","*varOrIRIref"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],WHERE:[],"{":[],FROM:[],VALUES:[],$:[]},"+graphNode":{"(":["graphNode","*graphNode"],"[":["graphNode","*graphNode"],VAR1:["graphNode","*graphNode"],VAR2:["graphNode","*graphNode"],NIL:["graphNode","*graphNode"],IRI_REF:["graphNode","*graphNode"],TRUE:["graphNode","*graphNode"],FALSE:["graphNode","*graphNode"],BLANK_NODE_LABEL:["graphNode","*graphNode"],ANON:["graphNode","*graphNode"],PNAME_LN:["graphNode","*graphNode"],PNAME_NS:["graphNode","*graphNode"],STRING_LITERAL1:["graphNode","*graphNode"],STRING_LITERAL2:["graphNode","*graphNode"],STRING_LITERAL_LONG1:["graphNode","*graphNode"],STRING_LITERAL_LONG2:["graphNode","*graphNode"],INTEGER:["graphNode","*graphNode"],DECIMAL:["graphNode","*graphNode"],DOUBLE:["graphNode","*graphNode"],INTEGER_POSITIVE:["graphNode","*graphNode"],DECIMAL_POSITIVE:["graphNode","*graphNode"],DOUBLE_POSITIVE:["graphNode","*graphNode"],INTEGER_NEGATIVE:["graphNode","*graphNode"],DECIMAL_NEGATIVE:["graphNode","*graphNode"],DOUBLE_NEGATIVE:["graphNode","*graphNode"]},"+graphNodePath":{"(":["graphNodePath","*graphNodePath"],"[":["graphNodePath","*graphNodePath"],VAR1:["graphNodePath","*graphNodePath"],VAR2:["graphNodePath","*graphNodePath"],NIL:["graphNodePath","*graphNodePath"],IRI_REF:["graphNodePath","*graphNodePath"],TRUE:["graphNodePath","*graphNodePath"],FALSE:["graphNodePath","*graphNodePath"],BLANK_NODE_LABEL:["graphNodePath","*graphNodePath"],ANON:["graphNodePath","*graphNodePath"],PNAME_LN:["graphNodePath","*graphNodePath"],PNAME_NS:["graphNodePath","*graphNodePath"],STRING_LITERAL1:["graphNodePath","*graphNodePath"],STRING_LITERAL2:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath","*graphNodePath"],INTEGER:["graphNodePath","*graphNodePath"],DECIMAL:["graphNodePath","*graphNodePath"],DOUBLE:["graphNodePath","*graphNodePath"],INTEGER_POSITIVE:["graphNodePath","*graphNodePath"],DECIMAL_POSITIVE:["graphNodePath","*graphNodePath"],DOUBLE_POSITIVE:["graphNodePath","*graphNodePath"],INTEGER_NEGATIVE:["graphNodePath","*graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath","*graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath","*graphNodePath"]},"+groupCondition":{"(":["groupCondition","*groupCondition"],STR:["groupCondition","*groupCondition"],LANG:["groupCondition","*groupCondition"],LANGMATCHES:["groupCondition","*groupCondition"],DATATYPE:["groupCondition","*groupCondition"],BOUND:["groupCondition","*groupCondition"],IRI:["groupCondition","*groupCondition"],URI:["groupCondition","*groupCondition"],BNODE:["groupCondition","*groupCondition"],RAND:["groupCondition","*groupCondition"],ABS:["groupCondition","*groupCondition"],CEIL:["groupCondition","*groupCondition"],FLOOR:["groupCondition","*groupCondition"],ROUND:["groupCondition","*groupCondition"],CONCAT:["groupCondition","*groupCondition"],STRLEN:["groupCondition","*groupCondition"],UCASE:["groupCondition","*groupCondition"],LCASE:["groupCondition","*groupCondition"],ENCODE_FOR_URI:["groupCondition","*groupCondition"],CONTAINS:["groupCondition","*groupCondition"],STRSTARTS:["groupCondition","*groupCondition"],STRENDS:["groupCondition","*groupCondition"],STRBEFORE:["groupCondition","*groupCondition"],STRAFTER:["groupCondition","*groupCondition"],YEAR:["groupCondition","*groupCondition"],MONTH:["groupCondition","*groupCondition"],DAY:["groupCondition","*groupCondition"],HOURS:["groupCondition","*groupCondition"],MINUTES:["groupCondition","*groupCondition"],SECONDS:["groupCondition","*groupCondition"],TIMEZONE:["groupCondition","*groupCondition"],TZ:["groupCondition","*groupCondition"],NOW:["groupCondition","*groupCondition"],UUID:["groupCondition","*groupCondition"],STRUUID:["groupCondition","*groupCondition"],MD5:["groupCondition","*groupCondition"],SHA1:["groupCondition","*groupCondition"],SHA256:["groupCondition","*groupCondition"],SHA384:["groupCondition","*groupCondition"],SHA512:["groupCondition","*groupCondition"],COALESCE:["groupCondition","*groupCondition"],IF:["groupCondition","*groupCondition"],STRLANG:["groupCondition","*groupCondition"],STRDT:["groupCondition","*groupCondition"],SAMETERM:["groupCondition","*groupCondition"],ISIRI:["groupCondition","*groupCondition"],ISURI:["groupCondition","*groupCondition"],ISBLANK:["groupCondition","*groupCondition"],ISLITERAL:["groupCondition","*groupCondition"],ISNUMERIC:["groupCondition","*groupCondition"],VAR1:["groupCondition","*groupCondition"],VAR2:["groupCondition","*groupCondition"],SUBSTR:["groupCondition","*groupCondition"],REPLACE:["groupCondition","*groupCondition"],REGEX:["groupCondition","*groupCondition"],EXISTS:["groupCondition","*groupCondition"],NOT:["groupCondition","*groupCondition"],IRI_REF:["groupCondition","*groupCondition"],PNAME_LN:["groupCondition","*groupCondition"],PNAME_NS:["groupCondition","*groupCondition"]},"+havingCondition":{"(":["havingCondition","*havingCondition"],STR:["havingCondition","*havingCondition"],LANG:["havingCondition","*havingCondition"],LANGMATCHES:["havingCondition","*havingCondition"],DATATYPE:["havingCondition","*havingCondition"],BOUND:["havingCondition","*havingCondition"],IRI:["havingCondition","*havingCondition"],URI:["havingCondition","*havingCondition"],BNODE:["havingCondition","*havingCondition"],RAND:["havingCondition","*havingCondition"],ABS:["havingCondition","*havingCondition"],CEIL:["havingCondition","*havingCondition"],FLOOR:["havingCondition","*havingCondition"],ROUND:["havingCondition","*havingCondition"],CONCAT:["havingCondition","*havingCondition"],STRLEN:["havingCondition","*havingCondition"],UCASE:["havingCondition","*havingCondition"],LCASE:["havingCondition","*havingCondition"],ENCODE_FOR_URI:["havingCondition","*havingCondition"],CONTAINS:["havingCondition","*havingCondition"],STRSTARTS:["havingCondition","*havingCondition"],STRENDS:["havingCondition","*havingCondition"],STRBEFORE:["havingCondition","*havingCondition"],STRAFTER:["havingCondition","*havingCondition"],YEAR:["havingCondition","*havingCondition"],MONTH:["havingCondition","*havingCondition"],DAY:["havingCondition","*havingCondition"],HOURS:["havingCondition","*havingCondition"],MINUTES:["havingCondition","*havingCondition"],SECONDS:["havingCondition","*havingCondition"],TIMEZONE:["havingCondition","*havingCondition"],TZ:["havingCondition","*havingCondition"],NOW:["havingCondition","*havingCondition"],UUID:["havingCondition","*havingCondition"],STRUUID:["havingCondition","*havingCondition"],MD5:["havingCondition","*havingCondition"],SHA1:["havingCondition","*havingCondition"],SHA256:["havingCondition","*havingCondition"],SHA384:["havingCondition","*havingCondition"],SHA512:["havingCondition","*havingCondition"],COALESCE:["havingCondition","*havingCondition"],IF:["havingCondition","*havingCondition"],STRLANG:["havingCondition","*havingCondition"],STRDT:["havingCondition","*havingCondition"],SAMETERM:["havingCondition","*havingCondition"],ISIRI:["havingCondition","*havingCondition"],ISURI:["havingCondition","*havingCondition"],ISBLANK:["havingCondition","*havingCondition"],ISLITERAL:["havingCondition","*havingCondition"],ISNUMERIC:["havingCondition","*havingCondition"],SUBSTR:["havingCondition","*havingCondition"],REPLACE:["havingCondition","*havingCondition"],REGEX:["havingCondition","*havingCondition"],EXISTS:["havingCondition","*havingCondition"],NOT:["havingCondition","*havingCondition"],IRI_REF:["havingCondition","*havingCondition"],PNAME_LN:["havingCondition","*havingCondition"],PNAME_NS:["havingCondition","*havingCondition"]},"+or([var,[(,expression,AS,var,)]])":{"(":["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],VAR1:["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],VAR2:["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"]},"+orderCondition":{ASC:["orderCondition","*orderCondition"],DESC:["orderCondition","*orderCondition"],VAR1:["orderCondition","*orderCondition"],VAR2:["orderCondition","*orderCondition"],"(":["orderCondition","*orderCondition"],STR:["orderCondition","*orderCondition"],LANG:["orderCondition","*orderCondition"],LANGMATCHES:["orderCondition","*orderCondition"],DATATYPE:["orderCondition","*orderCondition"],BOUND:["orderCondition","*orderCondition"],IRI:["orderCondition","*orderCondition"],URI:["orderCondition","*orderCondition"],BNODE:["orderCondition","*orderCondition"],RAND:["orderCondition","*orderCondition"],ABS:["orderCondition","*orderCondition"],CEIL:["orderCondition","*orderCondition"],FLOOR:["orderCondition","*orderCondition"],ROUND:["orderCondition","*orderCondition"],CONCAT:["orderCondition","*orderCondition"],STRLEN:["orderCondition","*orderCondition"],UCASE:["orderCondition","*orderCondition"],LCASE:["orderCondition","*orderCondition"],ENCODE_FOR_URI:["orderCondition","*orderCondition"],CONTAINS:["orderCondition","*orderCondition"],STRSTARTS:["orderCondition","*orderCondition"],STRENDS:["orderCondition","*orderCondition"],STRBEFORE:["orderCondition","*orderCondition"],STRAFTER:["orderCondition","*orderCondition"],YEAR:["orderCondition","*orderCondition"],MONTH:["orderCondition","*orderCondition"],DAY:["orderCondition","*orderCondition"],HOURS:["orderCondition","*orderCondition"],MINUTES:["orderCondition","*orderCondition"],SECONDS:["orderCondition","*orderCondition"],TIMEZONE:["orderCondition","*orderCondition"],TZ:["orderCondition","*orderCondition"],NOW:["orderCondition","*orderCondition"],UUID:["orderCondition","*orderCondition"],STRUUID:["orderCondition","*orderCondition"],MD5:["orderCondition","*orderCondition"],SHA1:["orderCondition","*orderCondition"],SHA256:["orderCondition","*orderCondition"],SHA384:["orderCondition","*orderCondition"],SHA512:["orderCondition","*orderCondition"],COALESCE:["orderCondition","*orderCondition"],IF:["orderCondition","*orderCondition"],STRLANG:["orderCondition","*orderCondition"],STRDT:["orderCondition","*orderCondition"],SAMETERM:["orderCondition","*orderCondition"],ISIRI:["orderCondition","*orderCondition"],ISURI:["orderCondition","*orderCondition"],ISBLANK:["orderCondition","*orderCondition"],ISLITERAL:["orderCondition","*orderCondition"],ISNUMERIC:["orderCondition","*orderCondition"],SUBSTR:["orderCondition","*orderCondition"],REPLACE:["orderCondition","*orderCondition"],REGEX:["orderCondition","*orderCondition"],EXISTS:["orderCondition","*orderCondition"],NOT:["orderCondition","*orderCondition"],IRI_REF:["orderCondition","*orderCondition"],PNAME_LN:["orderCondition","*orderCondition"],PNAME_NS:["orderCondition","*orderCondition"]},"+varOrIRIref":{VAR1:["varOrIRIref","*varOrIRIref"],VAR2:["varOrIRIref","*varOrIRIref"],IRI_REF:["varOrIRIref","*varOrIRIref"],PNAME_LN:["varOrIRIref","*varOrIRIref"],PNAME_NS:["varOrIRIref","*varOrIRIref"]},"?.":{".":["."],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?DISTINCT":{DISTINCT:["DISTINCT"],"!":[],"+":[],"-":[],VAR1:[],VAR2:[],"(":[],STR:[],LANG:[],LANGMATCHES:[],DATATYPE:[],BOUND:[],IRI:[],URI:[],BNODE:[],RAND:[],ABS:[],CEIL:[],FLOOR:[],ROUND:[],CONCAT:[],STRLEN:[],UCASE:[],LCASE:[],ENCODE_FOR_URI:[],CONTAINS:[],STRSTARTS:[],STRENDS:[],STRBEFORE:[],STRAFTER:[],YEAR:[],MONTH:[],DAY:[],HOURS:[],MINUTES:[],SECONDS:[],TIMEZONE:[],TZ:[],NOW:[],UUID:[],STRUUID:[],MD5:[],SHA1:[],SHA256:[],SHA384:[],SHA512:[],COALESCE:[],IF:[],STRLANG:[],STRDT:[],SAMETERM:[],ISIRI:[],ISURI:[],ISBLANK:[],ISLITERAL:[],ISNUMERIC:[],TRUE:[],FALSE:[],COUNT:[],SUM:[],MIN:[],MAX:[],AVG:[],SAMPLE:[],GROUP_CONCAT:[],SUBSTR:[],REPLACE:[],REGEX:[],EXISTS:[],NOT:[],IRI_REF:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],PNAME_LN:[],PNAME_NS:[],"*":[]},"?GRAPH":{GRAPH:["GRAPH"],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT":{SILENT:["SILENT"],VAR1:[],VAR2:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT_1":{SILENT:["SILENT"],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT_2":{SILENT:["SILENT"],GRAPH:[],DEFAULT:[],NAMED:[],ALL:[]},"?SILENT_3":{SILENT:["SILENT"],GRAPH:[]},"?SILENT_4":{SILENT:["SILENT"],DEFAULT:[],GRAPH:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?WHERE":{WHERE:["WHERE"],"{":[]},"?[,,expression]":{",":["[,,expression]"],")":[]},"?[.,?constructTriples]":{".":["[.,?constructTriples]"],"}":[]},"?[.,?triplesBlock]":{".":["[.,?triplesBlock]"],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?[.,?triplesTemplate]":{".":["[.,?triplesTemplate]"],"}":[],GRAPH:[]},"?[;,SEPARATOR,=,string]":{";":["[;,SEPARATOR,=,string]"],")":[]},"?[;,update]":{";":["[;,update]"],$:[]},"?[AS,var]":{AS:["[AS,var]"],")":[]},"?[INTO,graphRef]":{INTO:["[INTO,graphRef]"],";":[],$:[]},"?[or([verbPath,verbSimple]),objectList]":{VAR1:["[or([verbPath,verbSimple]),objectList]"],VAR2:["[or([verbPath,verbSimple]),objectList]"],"^":["[or([verbPath,verbSimple]),objectList]"],a:["[or([verbPath,verbSimple]),objectList]"],"!":["[or([verbPath,verbSimple]),objectList]"],"(":["[or([verbPath,verbSimple]),objectList]"],IRI_REF:["[or([verbPath,verbSimple]),objectList]"],PNAME_LN:["[or([verbPath,verbSimple]),objectList]"],PNAME_NS:["[or([verbPath,verbSimple]),objectList]"],";":[],".":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?[pathOneInPropertySet,*[|,pathOneInPropertySet]]":{a:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],"^":["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],IRI_REF:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],PNAME_LN:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],PNAME_NS:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],")":[]},"?[update1,?[;,update]]":{INSERT:["[update1,?[;,update]]"],DELETE:["[update1,?[;,update]]"],LOAD:["[update1,?[;,update]]"],CLEAR:["[update1,?[;,update]]"],DROP:["[update1,?[;,update]]"],ADD:["[update1,?[;,update]]"],MOVE:["[update1,?[;,update]]"],COPY:["[update1,?[;,update]]"],CREATE:["[update1,?[;,update]]"],WITH:["[update1,?[;,update]]"],$:[]},"?[verb,objectList]":{a:["[verb,objectList]"],VAR1:["[verb,objectList]"],VAR2:["[verb,objectList]"],IRI_REF:["[verb,objectList]"],PNAME_LN:["[verb,objectList]"],PNAME_NS:["[verb,objectList]"],";":[],".":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"?argList":{NIL:["argList"],"(":["argList"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],"*":[],"/":[],";":[]},"?constructTriples":{VAR1:["constructTriples"],VAR2:["constructTriples"],NIL:["constructTriples"],"(":["constructTriples"],"[":["constructTriples"],IRI_REF:["constructTriples"],TRUE:["constructTriples"],FALSE:["constructTriples"],BLANK_NODE_LABEL:["constructTriples"],ANON:["constructTriples"],PNAME_LN:["constructTriples"],PNAME_NS:["constructTriples"],STRING_LITERAL1:["constructTriples"],STRING_LITERAL2:["constructTriples"],STRING_LITERAL_LONG1:["constructTriples"],STRING_LITERAL_LONG2:["constructTriples"],INTEGER:["constructTriples"],DECIMAL:["constructTriples"],DOUBLE:["constructTriples"],INTEGER_POSITIVE:["constructTriples"],DECIMAL_POSITIVE:["constructTriples"],DOUBLE_POSITIVE:["constructTriples"],INTEGER_NEGATIVE:["constructTriples"],DECIMAL_NEGATIVE:["constructTriples"],DOUBLE_NEGATIVE:["constructTriples"],"}":[]},"?groupClause":{GROUP:["groupClause"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],HAVING:[],$:[],"}":[]},"?havingClause":{HAVING:["havingClause"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],$:[],"}":[]},"?insertClause":{INSERT:["insertClause"],WHERE:[],USING:[]},"?limitClause":{LIMIT:["limitClause"],VALUES:[],$:[],"}":[]},"?limitOffsetClauses":{LIMIT:["limitOffsetClauses"],OFFSET:["limitOffsetClauses"],VALUES:[],$:[],"}":[]},"?offsetClause":{OFFSET:["offsetClause"],VALUES:[],$:[],"}":[]},"?or([DISTINCT,REDUCED])":{DISTINCT:["or([DISTINCT,REDUCED])"],REDUCED:["or([DISTINCT,REDUCED])"],"*":[],"(":[],VAR1:[],VAR2:[]},"?or([LANGTAG,[^^,iriRef]])":{LANGTAG:["or([LANGTAG,[^^,iriRef]])"],"^^":["or([LANGTAG,[^^,iriRef]])"],UNDEF:[],IRI_REF:[],TRUE:[],FALSE:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],a:[],VAR1:[],VAR2:[],"^":[],"!":[],"(":[],".":[],";":[],",":[],AS:[],")":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],"*":[],"/":[],"}":[],"[":[],NIL:[],BLANK_NODE_LABEL:[],ANON:[],"]":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"?or([[*,unaryExpression],[/,unaryExpression]])":{"*":["or([[*,unaryExpression],[/,unaryExpression]])"],"/":["or([[*,unaryExpression],[/,unaryExpression]])"],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],";":[]},"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])":{"=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"!=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"<":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],">":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"<=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],">=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IN:["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOT:["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],AS:[],")":[],",":[],"||":[],"&&":[],";":[]},"?orderClause":{ORDER:["orderClause"],VALUES:[],LIMIT:[],OFFSET:[],$:[],"}":[]},"?pathMod":{"*":["pathMod"],"?":["pathMod"],"+":["pathMod"],"{":["pathMod"],"|":[],"/":[],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"?triplesBlock":{VAR1:["triplesBlock"],VAR2:["triplesBlock"],NIL:["triplesBlock"],"(":["triplesBlock"],"[":["triplesBlock"],IRI_REF:["triplesBlock"],TRUE:["triplesBlock"],FALSE:["triplesBlock"],BLANK_NODE_LABEL:["triplesBlock"],ANON:["triplesBlock"],PNAME_LN:["triplesBlock"],PNAME_NS:["triplesBlock"],STRING_LITERAL1:["triplesBlock"],STRING_LITERAL2:["triplesBlock"],STRING_LITERAL_LONG1:["triplesBlock"],STRING_LITERAL_LONG2:["triplesBlock"],INTEGER:["triplesBlock"],DECIMAL:["triplesBlock"],DOUBLE:["triplesBlock"],INTEGER_POSITIVE:["triplesBlock"],DECIMAL_POSITIVE:["triplesBlock"],DOUBLE_POSITIVE:["triplesBlock"],INTEGER_NEGATIVE:["triplesBlock"],DECIMAL_NEGATIVE:["triplesBlock"],DOUBLE_NEGATIVE:["triplesBlock"],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?triplesTemplate":{VAR1:["triplesTemplate"],VAR2:["triplesTemplate"],NIL:["triplesTemplate"],"(":["triplesTemplate"],"[":["triplesTemplate"],IRI_REF:["triplesTemplate"],TRUE:["triplesTemplate"],FALSE:["triplesTemplate"],BLANK_NODE_LABEL:["triplesTemplate"],ANON:["triplesTemplate"],PNAME_LN:["triplesTemplate"],PNAME_NS:["triplesTemplate"],STRING_LITERAL1:["triplesTemplate"],STRING_LITERAL2:["triplesTemplate"],STRING_LITERAL_LONG1:["triplesTemplate"],STRING_LITERAL_LONG2:["triplesTemplate"],INTEGER:["triplesTemplate"],DECIMAL:["triplesTemplate"],DOUBLE:["triplesTemplate"],INTEGER_POSITIVE:["triplesTemplate"],DECIMAL_POSITIVE:["triplesTemplate"],DOUBLE_POSITIVE:["triplesTemplate"],INTEGER_NEGATIVE:["triplesTemplate"],DECIMAL_NEGATIVE:["triplesTemplate"],DOUBLE_NEGATIVE:["triplesTemplate"],"}":[],GRAPH:[]},"?whereClause":{WHERE:["whereClause"],"{":["whereClause"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],VALUES:[],$:[]},"[!=,numericExpression]":{"!=":["!=","numericExpression"]},"[&&,valueLogical]":{"&&":["&&","valueLogical"]},"[(,*dataBlockValue,)]":{"(":["(","*dataBlockValue",")"]},"[(,*var,)]":{"(":["(","*var",")"]},"[(,expression,)]":{"(":["(","expression",")"]},"[(,expression,AS,var,)]":{"(":["(","expression","AS","var",")"]},"[*,unaryExpression]":{"*":["*","unaryExpression"]},"[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]":{WHERE:["*datasetClause","WHERE","{","?triplesTemplate","}","solutionModifier"],FROM:["*datasetClause","WHERE","{","?triplesTemplate","}","solutionModifier"]},"[+,multiplicativeExpression]":{"+":["+","multiplicativeExpression"]},"[,,expression]":{",":[",","expression"]},"[,,integer,}]":{",":[",","integer","}"]},"[,,objectPath]":{",":[",","objectPath"]},"[,,object]":{",":[",","object"]},"[,,or([},[integer,}]])]":{",":[",","or([},[integer,}]])"]},"[-,multiplicativeExpression]":{"-":["-","multiplicativeExpression"]},"[.,?constructTriples]":{".":[".","?constructTriples"]},"[.,?triplesBlock]":{".":[".","?triplesBlock"]},"[.,?triplesTemplate]":{".":[".","?triplesTemplate"]},"[/,pathEltOrInverse]":{"/":["/","pathEltOrInverse"]},"[/,unaryExpression]":{"/":["/","unaryExpression"]},"[;,?[or([verbPath,verbSimple]),objectList]]":{";":[";","?[or([verbPath,verbSimple]),objectList]"]},"[;,?[verb,objectList]]":{";":[";","?[verb,objectList]"]},"[;,SEPARATOR,=,string]":{";":[";","SEPARATOR","=","string"]},"[;,update]":{";":[";","update"]},"[<,numericExpression]":{"<":["<","numericExpression"]},"[<=,numericExpression]":{"<=":["<=","numericExpression"]},"[=,numericExpression]":{"=":["=","numericExpression"]},"[>,numericExpression]":{">":[">","numericExpression"]},"[>=,numericExpression]":{">=":[">=","numericExpression"]},"[AS,var]":{AS:["AS","var"]},"[IN,expressionList]":{IN:["IN","expressionList"]},"[INTO,graphRef]":{INTO:["INTO","graphRef"]},"[NAMED,iriRef]":{NAMED:["NAMED","iriRef"]},"[NOT,IN,expressionList]":{NOT:["NOT","IN","expressionList"]},"[UNION,groupGraphPattern]":{UNION:["UNION","groupGraphPattern"]},"[^^,iriRef]":{"^^":["^^","iriRef"]},"[constructTemplate,*datasetClause,whereClause,solutionModifier]":{"{":["constructTemplate","*datasetClause","whereClause","solutionModifier"]},"[deleteClause,?insertClause]":{DELETE:["deleteClause","?insertClause"]},"[graphPatternNotTriples,?.,?triplesBlock]":{"{":["graphPatternNotTriples","?.","?triplesBlock"],OPTIONAL:["graphPatternNotTriples","?.","?triplesBlock"],MINUS:["graphPatternNotTriples","?.","?triplesBlock"],GRAPH:["graphPatternNotTriples","?.","?triplesBlock"],SERVICE:["graphPatternNotTriples","?.","?triplesBlock"],FILTER:["graphPatternNotTriples","?.","?triplesBlock"],BIND:["graphPatternNotTriples","?.","?triplesBlock"],VALUES:["graphPatternNotTriples","?.","?triplesBlock"]},"[integer,or([[,,or([},[integer,}]])],}])]":{INTEGER:["integer","or([[,,or([},[integer,}]])],}])"]},"[integer,}]":{INTEGER:["integer","}"]},"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]":{INTEGER_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"]},"[or([verbPath,verbSimple]),objectList]":{VAR1:["or([verbPath,verbSimple])","objectList"],VAR2:["or([verbPath,verbSimple])","objectList"],"^":["or([verbPath,verbSimple])","objectList"],a:["or([verbPath,verbSimple])","objectList"],"!":["or([verbPath,verbSimple])","objectList"],"(":["or([verbPath,verbSimple])","objectList"],IRI_REF:["or([verbPath,verbSimple])","objectList"],PNAME_LN:["or([verbPath,verbSimple])","objectList"],PNAME_NS:["or([verbPath,verbSimple])","objectList"]},"[pathOneInPropertySet,*[|,pathOneInPropertySet]]":{a:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],"^":["pathOneInPropertySet","*[|,pathOneInPropertySet]"],IRI_REF:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],PNAME_LN:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],PNAME_NS:["pathOneInPropertySet","*[|,pathOneInPropertySet]"]},"[quadsNotTriples,?.,?triplesTemplate]":{GRAPH:["quadsNotTriples","?.","?triplesTemplate"]},"[update1,?[;,update]]":{INSERT:["update1","?[;,update]"],DELETE:["update1","?[;,update]"],LOAD:["update1","?[;,update]"],CLEAR:["update1","?[;,update]"],DROP:["update1","?[;,update]"],ADD:["update1","?[;,update]"],MOVE:["update1","?[;,update]"],COPY:["update1","?[;,update]"],CREATE:["update1","?[;,update]"],WITH:["update1","?[;,update]"]},"[verb,objectList]":{a:["verb","objectList"],VAR1:["verb","objectList"],VAR2:["verb","objectList"],IRI_REF:["verb","objectList"],PNAME_LN:["verb","objectList"],PNAME_NS:["verb","objectList"]},"[|,pathOneInPropertySet]":{"|":["|","pathOneInPropertySet"]},"[|,pathSequence]":{"|":["|","pathSequence"]},"[||,conditionalAndExpression]":{"||":["||","conditionalAndExpression"]},add:{ADD:["ADD","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},additiveExpression:{"!":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"+":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"-":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],VAR1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],VAR2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"(":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LANG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LANGMATCHES:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DATATYPE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],BOUND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IRI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],URI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],BNODE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],RAND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ABS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CEIL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],FLOOR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ROUND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CONCAT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRLEN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],UCASE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LCASE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ENCODE_FOR_URI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CONTAINS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRSTARTS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRENDS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRBEFORE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRAFTER:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],YEAR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MONTH:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DAY:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],HOURS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MINUTES:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SECONDS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TIMEZONE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TZ:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],NOW:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],UUID:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRUUID:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MD5:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA256:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA384:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA512:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],COALESCE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IF:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRLANG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRDT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SAMETERM:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISIRI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISURI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISBLANK:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISLITERAL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISNUMERIC:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TRUE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],FALSE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],COUNT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SUM:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MIN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MAX:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],AVG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SAMPLE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],GROUP_CONCAT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SUBSTR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],REPLACE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],REGEX:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],EXISTS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],NOT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IRI_REF:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL_LONG1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL_LONG2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],PNAME_LN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],PNAME_NS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"]},aggregate:{COUNT:["COUNT","(","?DISTINCT","or([*,expression])",")"],SUM:["SUM","(","?DISTINCT","expression",")"],MIN:["MIN","(","?DISTINCT","expression",")"],MAX:["MAX","(","?DISTINCT","expression",")"],AVG:["AVG","(","?DISTINCT","expression",")"],SAMPLE:["SAMPLE","(","?DISTINCT","expression",")"],GROUP_CONCAT:["GROUP_CONCAT","(","?DISTINCT","expression","?[;,SEPARATOR,=,string]",")"]},allowBnodes:{"}":[]},allowVars:{"}":[]},argList:{NIL:["NIL"],"(":["(","?DISTINCT","expression","*[,,expression]",")"]},askQuery:{ASK:["ASK","*datasetClause","whereClause","solutionModifier"]},baseDecl:{BASE:["BASE","IRI_REF"]},bind:{BIND:["BIND","(","expression","AS","var",")"]},blankNode:{BLANK_NODE_LABEL:["BLANK_NODE_LABEL"],ANON:["ANON"]},blankNodePropertyList:{"[":["[","propertyListNotEmpty","]"]},blankNodePropertyListPath:{"[":["[","propertyListPathNotEmpty","]"]},booleanLiteral:{TRUE:["TRUE"],FALSE:["FALSE"]},brackettedExpression:{"(":["(","expression",")"]},builtInCall:{STR:["STR","(","expression",")"],LANG:["LANG","(","expression",")"],LANGMATCHES:["LANGMATCHES","(","expression",",","expression",")"],DATATYPE:["DATATYPE","(","expression",")"],BOUND:["BOUND","(","var",")"],IRI:["IRI","(","expression",")"],URI:["URI","(","expression",")"],BNODE:["BNODE","or([[(,expression,)],NIL])"],RAND:["RAND","NIL"],ABS:["ABS","(","expression",")"],CEIL:["CEIL","(","expression",")"],FLOOR:["FLOOR","(","expression",")"],ROUND:["ROUND","(","expression",")"],CONCAT:["CONCAT","expressionList"],SUBSTR:["substringExpression"],STRLEN:["STRLEN","(","expression",")"],REPLACE:["strReplaceExpression"],UCASE:["UCASE","(","expression",")"],LCASE:["LCASE","(","expression",")"],ENCODE_FOR_URI:["ENCODE_FOR_URI","(","expression",")"],CONTAINS:["CONTAINS","(","expression",",","expression",")"],STRSTARTS:["STRSTARTS","(","expression",",","expression",")"],STRENDS:["STRENDS","(","expression",",","expression",")"],STRBEFORE:["STRBEFORE","(","expression",",","expression",")"],STRAFTER:["STRAFTER","(","expression",",","expression",")"],YEAR:["YEAR","(","expression",")"],MONTH:["MONTH","(","expression",")"],DAY:["DAY","(","expression",")"],HOURS:["HOURS","(","expression",")"],MINUTES:["MINUTES","(","expression",")"],SECONDS:["SECONDS","(","expression",")"],TIMEZONE:["TIMEZONE","(","expression",")"],TZ:["TZ","(","expression",")"],NOW:["NOW","NIL"],UUID:["UUID","NIL"],STRUUID:["STRUUID","NIL"],MD5:["MD5","(","expression",")"],SHA1:["SHA1","(","expression",")"],SHA256:["SHA256","(","expression",")"],SHA384:["SHA384","(","expression",")"],SHA512:["SHA512","(","expression",")"],COALESCE:["COALESCE","expressionList"],IF:["IF","(","expression",",","expression",",","expression",")"],STRLANG:["STRLANG","(","expression",",","expression",")"],STRDT:["STRDT","(","expression",",","expression",")"],SAMETERM:["SAMETERM","(","expression",",","expression",")"],ISIRI:["ISIRI","(","expression",")"],ISURI:["ISURI","(","expression",")"],ISBLANK:["ISBLANK","(","expression",")"],ISLITERAL:["ISLITERAL","(","expression",")"],ISNUMERIC:["ISNUMERIC","(","expression",")"],REGEX:["regexExpression"],EXISTS:["existsFunc"],NOT:["notExistsFunc"]},clear:{CLEAR:["CLEAR","?SILENT_2","graphRefAll"]},collection:{"(":["(","+graphNode",")"]},collectionPath:{"(":["(","+graphNodePath",")"]},conditionalAndExpression:{"!":["valueLogical","*[&&,valueLogical]"],"+":["valueLogical","*[&&,valueLogical]"],"-":["valueLogical","*[&&,valueLogical]"],VAR1:["valueLogical","*[&&,valueLogical]"],VAR2:["valueLogical","*[&&,valueLogical]"],"(":["valueLogical","*[&&,valueLogical]"],STR:["valueLogical","*[&&,valueLogical]"],LANG:["valueLogical","*[&&,valueLogical]"],LANGMATCHES:["valueLogical","*[&&,valueLogical]"],DATATYPE:["valueLogical","*[&&,valueLogical]"],BOUND:["valueLogical","*[&&,valueLogical]"],IRI:["valueLogical","*[&&,valueLogical]"],URI:["valueLogical","*[&&,valueLogical]"],BNODE:["valueLogical","*[&&,valueLogical]"],RAND:["valueLogical","*[&&,valueLogical]"],ABS:["valueLogical","*[&&,valueLogical]"],CEIL:["valueLogical","*[&&,valueLogical]"],FLOOR:["valueLogical","*[&&,valueLogical]"],ROUND:["valueLogical","*[&&,valueLogical]"],CONCAT:["valueLogical","*[&&,valueLogical]"],STRLEN:["valueLogical","*[&&,valueLogical]"],UCASE:["valueLogical","*[&&,valueLogical]"],LCASE:["valueLogical","*[&&,valueLogical]"],ENCODE_FOR_URI:["valueLogical","*[&&,valueLogical]"],CONTAINS:["valueLogical","*[&&,valueLogical]"],STRSTARTS:["valueLogical","*[&&,valueLogical]"],STRENDS:["valueLogical","*[&&,valueLogical]"],STRBEFORE:["valueLogical","*[&&,valueLogical]"],STRAFTER:["valueLogical","*[&&,valueLogical]"],YEAR:["valueLogical","*[&&,valueLogical]"],MONTH:["valueLogical","*[&&,valueLogical]"],DAY:["valueLogical","*[&&,valueLogical]"],HOURS:["valueLogical","*[&&,valueLogical]"],MINUTES:["valueLogical","*[&&,valueLogical]"],SECONDS:["valueLogical","*[&&,valueLogical]"],TIMEZONE:["valueLogical","*[&&,valueLogical]"],TZ:["valueLogical","*[&&,valueLogical]"],NOW:["valueLogical","*[&&,valueLogical]"],UUID:["valueLogical","*[&&,valueLogical]"],STRUUID:["valueLogical","*[&&,valueLogical]"],MD5:["valueLogical","*[&&,valueLogical]"],SHA1:["valueLogical","*[&&,valueLogical]"],SHA256:["valueLogical","*[&&,valueLogical]"],SHA384:["valueLogical","*[&&,valueLogical]"],SHA512:["valueLogical","*[&&,valueLogical]"],COALESCE:["valueLogical","*[&&,valueLogical]"],IF:["valueLogical","*[&&,valueLogical]"],STRLANG:["valueLogical","*[&&,valueLogical]"],STRDT:["valueLogical","*[&&,valueLogical]"],SAMETERM:["valueLogical","*[&&,valueLogical]"],ISIRI:["valueLogical","*[&&,valueLogical]"],ISURI:["valueLogical","*[&&,valueLogical]"],ISBLANK:["valueLogical","*[&&,valueLogical]"],ISLITERAL:["valueLogical","*[&&,valueLogical]"],ISNUMERIC:["valueLogical","*[&&,valueLogical]"],TRUE:["valueLogical","*[&&,valueLogical]"],FALSE:["valueLogical","*[&&,valueLogical]"],COUNT:["valueLogical","*[&&,valueLogical]"],SUM:["valueLogical","*[&&,valueLogical]"],MIN:["valueLogical","*[&&,valueLogical]"],MAX:["valueLogical","*[&&,valueLogical]"],AVG:["valueLogical","*[&&,valueLogical]"],SAMPLE:["valueLogical","*[&&,valueLogical]"],GROUP_CONCAT:["valueLogical","*[&&,valueLogical]"],SUBSTR:["valueLogical","*[&&,valueLogical]"],REPLACE:["valueLogical","*[&&,valueLogical]"],REGEX:["valueLogical","*[&&,valueLogical]"],EXISTS:["valueLogical","*[&&,valueLogical]"],NOT:["valueLogical","*[&&,valueLogical]"],IRI_REF:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL1:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL2:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL_LONG1:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL_LONG2:["valueLogical","*[&&,valueLogical]"],INTEGER:["valueLogical","*[&&,valueLogical]"],DECIMAL:["valueLogical","*[&&,valueLogical]"],DOUBLE:["valueLogical","*[&&,valueLogical]"],INTEGER_POSITIVE:["valueLogical","*[&&,valueLogical]"],DECIMAL_POSITIVE:["valueLogical","*[&&,valueLogical]"],DOUBLE_POSITIVE:["valueLogical","*[&&,valueLogical]"],INTEGER_NEGATIVE:["valueLogical","*[&&,valueLogical]"],DECIMAL_NEGATIVE:["valueLogical","*[&&,valueLogical]"],DOUBLE_NEGATIVE:["valueLogical","*[&&,valueLogical]"],PNAME_LN:["valueLogical","*[&&,valueLogical]"],PNAME_NS:["valueLogical","*[&&,valueLogical]"]},conditionalOrExpression:{"!":["conditionalAndExpression","*[||,conditionalAndExpression]"],"+":["conditionalAndExpression","*[||,conditionalAndExpression]"],"-":["conditionalAndExpression","*[||,conditionalAndExpression]"],VAR1:["conditionalAndExpression","*[||,conditionalAndExpression]"],VAR2:["conditionalAndExpression","*[||,conditionalAndExpression]"],"(":["conditionalAndExpression","*[||,conditionalAndExpression]"],STR:["conditionalAndExpression","*[||,conditionalAndExpression]"],LANG:["conditionalAndExpression","*[||,conditionalAndExpression]"],LANGMATCHES:["conditionalAndExpression","*[||,conditionalAndExpression]"],DATATYPE:["conditionalAndExpression","*[||,conditionalAndExpression]"],BOUND:["conditionalAndExpression","*[||,conditionalAndExpression]"],IRI:["conditionalAndExpression","*[||,conditionalAndExpression]"],URI:["conditionalAndExpression","*[||,conditionalAndExpression]"],BNODE:["conditionalAndExpression","*[||,conditionalAndExpression]"],RAND:["conditionalAndExpression","*[||,conditionalAndExpression]"],ABS:["conditionalAndExpression","*[||,conditionalAndExpression]"],CEIL:["conditionalAndExpression","*[||,conditionalAndExpression]"],FLOOR:["conditionalAndExpression","*[||,conditionalAndExpression]"],ROUND:["conditionalAndExpression","*[||,conditionalAndExpression]"],CONCAT:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRLEN:["conditionalAndExpression","*[||,conditionalAndExpression]"],UCASE:["conditionalAndExpression","*[||,conditionalAndExpression]"],LCASE:["conditionalAndExpression","*[||,conditionalAndExpression]"],ENCODE_FOR_URI:["conditionalAndExpression","*[||,conditionalAndExpression]"],CONTAINS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRSTARTS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRENDS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRBEFORE:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRAFTER:["conditionalAndExpression","*[||,conditionalAndExpression]"],YEAR:["conditionalAndExpression","*[||,conditionalAndExpression]"],MONTH:["conditionalAndExpression","*[||,conditionalAndExpression]"],DAY:["conditionalAndExpression","*[||,conditionalAndExpression]"],HOURS:["conditionalAndExpression","*[||,conditionalAndExpression]"],MINUTES:["conditionalAndExpression","*[||,conditionalAndExpression]"],SECONDS:["conditionalAndExpression","*[||,conditionalAndExpression]"],TIMEZONE:["conditionalAndExpression","*[||,conditionalAndExpression]"],TZ:["conditionalAndExpression","*[||,conditionalAndExpression]"],NOW:["conditionalAndExpression","*[||,conditionalAndExpression]"],UUID:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRUUID:["conditionalAndExpression","*[||,conditionalAndExpression]"],MD5:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA1:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA256:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA384:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA512:["conditionalAndExpression","*[||,conditionalAndExpression]"],COALESCE:["conditionalAndExpression","*[||,conditionalAndExpression]"],IF:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRLANG:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRDT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SAMETERM:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISIRI:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISURI:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISBLANK:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISLITERAL:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISNUMERIC:["conditionalAndExpression","*[||,conditionalAndExpression]"],TRUE:["conditionalAndExpression","*[||,conditionalAndExpression]"],FALSE:["conditionalAndExpression","*[||,conditionalAndExpression]"],COUNT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SUM:["conditionalAndExpression","*[||,conditionalAndExpression]"],MIN:["conditionalAndExpression","*[||,conditionalAndExpression]"],MAX:["conditionalAndExpression","*[||,conditionalAndExpression]"],AVG:["conditionalAndExpression","*[||,conditionalAndExpression]"],SAMPLE:["conditionalAndExpression","*[||,conditionalAndExpression]"],GROUP_CONCAT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SUBSTR:["conditionalAndExpression","*[||,conditionalAndExpression]"],REPLACE:["conditionalAndExpression","*[||,conditionalAndExpression]"],REGEX:["conditionalAndExpression","*[||,conditionalAndExpression]"],EXISTS:["conditionalAndExpression","*[||,conditionalAndExpression]"],NOT:["conditionalAndExpression","*[||,conditionalAndExpression]"],IRI_REF:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL1:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL2:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL_LONG1:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL_LONG2:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],PNAME_LN:["conditionalAndExpression","*[||,conditionalAndExpression]"],PNAME_NS:["conditionalAndExpression","*[||,conditionalAndExpression]"]},constraint:{"(":["brackettedExpression"],STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["functionCall"],PNAME_LN:["functionCall"],PNAME_NS:["functionCall"]},constructQuery:{CONSTRUCT:["CONSTRUCT","or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])"]},constructTemplate:{"{":["{","?constructTriples","}"]},constructTriples:{VAR1:["triplesSameSubject","?[.,?constructTriples]"],VAR2:["triplesSameSubject","?[.,?constructTriples]"],NIL:["triplesSameSubject","?[.,?constructTriples]"],"(":["triplesSameSubject","?[.,?constructTriples]"],"[":["triplesSameSubject","?[.,?constructTriples]"],IRI_REF:["triplesSameSubject","?[.,?constructTriples]"],TRUE:["triplesSameSubject","?[.,?constructTriples]"],FALSE:["triplesSameSubject","?[.,?constructTriples]"],BLANK_NODE_LABEL:["triplesSameSubject","?[.,?constructTriples]"],ANON:["triplesSameSubject","?[.,?constructTriples]"],PNAME_LN:["triplesSameSubject","?[.,?constructTriples]"],PNAME_NS:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL1:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL2:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL_LONG1:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL_LONG2:["triplesSameSubject","?[.,?constructTriples]"],INTEGER:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE:["triplesSameSubject","?[.,?constructTriples]"],INTEGER_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],INTEGER_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"]},copy:{COPY:["COPY","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},create:{CREATE:["CREATE","?SILENT_3","graphRef"]},dataBlock:{NIL:["or([inlineDataOneVar,inlineDataFull])"],"(":["or([inlineDataOneVar,inlineDataFull])"],VAR1:["or([inlineDataOneVar,inlineDataFull])"],VAR2:["or([inlineDataOneVar,inlineDataFull])"]},dataBlockValue:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],UNDEF:["UNDEF"]},datasetClause:{FROM:["FROM","or([defaultGraphClause,namedGraphClause])"]},defaultGraphClause:{IRI_REF:["sourceSelector"],PNAME_LN:["sourceSelector"],PNAME_NS:["sourceSelector"]},delete1:{DATA:["DATA","quadDataNoBnodes"],WHERE:["WHERE","quadPatternNoBnodes"],"{":["quadPatternNoBnodes","?insertClause","*usingClause","WHERE","groupGraphPattern"]},deleteClause:{DELETE:["DELETE","quadPattern"]},describeDatasetClause:{FROM:["FROM","or([defaultGraphClause,namedGraphClause])"]},describeQuery:{DESCRIBE:["DESCRIBE","or([+varOrIRIref,*])","*describeDatasetClause","?whereClause","solutionModifier"]},disallowBnodes:{"}":[],GRAPH:[],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},disallowVars:{"}":[],GRAPH:[],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},drop:{DROP:["DROP","?SILENT_2","graphRefAll"]},existsFunc:{EXISTS:["EXISTS","groupGraphPattern"]},expression:{"!":["conditionalOrExpression"],"+":["conditionalOrExpression"],"-":["conditionalOrExpression"],VAR1:["conditionalOrExpression"],VAR2:["conditionalOrExpression"],"(":["conditionalOrExpression"],STR:["conditionalOrExpression"],LANG:["conditionalOrExpression"],LANGMATCHES:["conditionalOrExpression"],DATATYPE:["conditionalOrExpression"],BOUND:["conditionalOrExpression"],IRI:["conditionalOrExpression"],URI:["conditionalOrExpression"],BNODE:["conditionalOrExpression"],RAND:["conditionalOrExpression"],ABS:["conditionalOrExpression"],CEIL:["conditionalOrExpression"],FLOOR:["conditionalOrExpression"],ROUND:["conditionalOrExpression"],CONCAT:["conditionalOrExpression"],STRLEN:["conditionalOrExpression"],UCASE:["conditionalOrExpression"],LCASE:["conditionalOrExpression"],ENCODE_FOR_URI:["conditionalOrExpression"],CONTAINS:["conditionalOrExpression"],STRSTARTS:["conditionalOrExpression"],STRENDS:["conditionalOrExpression"],STRBEFORE:["conditionalOrExpression"],STRAFTER:["conditionalOrExpression"],YEAR:["conditionalOrExpression"],MONTH:["conditionalOrExpression"],DAY:["conditionalOrExpression"],HOURS:["conditionalOrExpression"],MINUTES:["conditionalOrExpression"],SECONDS:["conditionalOrExpression"],TIMEZONE:["conditionalOrExpression"],TZ:["conditionalOrExpression"],NOW:["conditionalOrExpression"],UUID:["conditionalOrExpression"],STRUUID:["conditionalOrExpression"],MD5:["conditionalOrExpression"],SHA1:["conditionalOrExpression"],SHA256:["conditionalOrExpression"],SHA384:["conditionalOrExpression"],SHA512:["conditionalOrExpression"],COALESCE:["conditionalOrExpression"],IF:["conditionalOrExpression"],STRLANG:["conditionalOrExpression"],STRDT:["conditionalOrExpression"],SAMETERM:["conditionalOrExpression"],ISIRI:["conditionalOrExpression"],ISURI:["conditionalOrExpression"],ISBLANK:["conditionalOrExpression"],ISLITERAL:["conditionalOrExpression"],ISNUMERIC:["conditionalOrExpression"],TRUE:["conditionalOrExpression"],FALSE:["conditionalOrExpression"],COUNT:["conditionalOrExpression"],SUM:["conditionalOrExpression"],MIN:["conditionalOrExpression"],MAX:["conditionalOrExpression"],AVG:["conditionalOrExpression"],SAMPLE:["conditionalOrExpression"],GROUP_CONCAT:["conditionalOrExpression"],SUBSTR:["conditionalOrExpression"],REPLACE:["conditionalOrExpression"],REGEX:["conditionalOrExpression"],EXISTS:["conditionalOrExpression"],NOT:["conditionalOrExpression"],IRI_REF:["conditionalOrExpression"],STRING_LITERAL1:["conditionalOrExpression"],STRING_LITERAL2:["conditionalOrExpression"],STRING_LITERAL_LONG1:["conditionalOrExpression"],STRING_LITERAL_LONG2:["conditionalOrExpression"],INTEGER:["conditionalOrExpression"],DECIMAL:["conditionalOrExpression"],DOUBLE:["conditionalOrExpression"],INTEGER_POSITIVE:["conditionalOrExpression"],DECIMAL_POSITIVE:["conditionalOrExpression"],DOUBLE_POSITIVE:["conditionalOrExpression"],INTEGER_NEGATIVE:["conditionalOrExpression"],DECIMAL_NEGATIVE:["conditionalOrExpression"],DOUBLE_NEGATIVE:["conditionalOrExpression"],PNAME_LN:["conditionalOrExpression"],PNAME_NS:["conditionalOrExpression"]},expressionList:{NIL:["NIL"],"(":["(","expression","*[,,expression]",")"]},filter:{FILTER:["FILTER","constraint"]},functionCall:{IRI_REF:["iriRef","argList"],PNAME_LN:["iriRef","argList"],PNAME_NS:["iriRef","argList"]},graphGraphPattern:{GRAPH:["GRAPH","varOrIRIref","groupGraphPattern"]},graphNode:{VAR1:["varOrTerm"],VAR2:["varOrTerm"],NIL:["varOrTerm"],IRI_REF:["varOrTerm"],TRUE:["varOrTerm"],FALSE:["varOrTerm"],BLANK_NODE_LABEL:["varOrTerm"],ANON:["varOrTerm"],PNAME_LN:["varOrTerm"],PNAME_NS:["varOrTerm"],STRING_LITERAL1:["varOrTerm"],STRING_LITERAL2:["varOrTerm"],STRING_LITERAL_LONG1:["varOrTerm"],STRING_LITERAL_LONG2:["varOrTerm"],INTEGER:["varOrTerm"],DECIMAL:["varOrTerm"],DOUBLE:["varOrTerm"],INTEGER_POSITIVE:["varOrTerm"],DECIMAL_POSITIVE:["varOrTerm"],DOUBLE_POSITIVE:["varOrTerm"],INTEGER_NEGATIVE:["varOrTerm"],DECIMAL_NEGATIVE:["varOrTerm"],DOUBLE_NEGATIVE:["varOrTerm"],"(":["triplesNode"],"[":["triplesNode"]},graphNodePath:{VAR1:["varOrTerm"],VAR2:["varOrTerm"],NIL:["varOrTerm"],IRI_REF:["varOrTerm"],TRUE:["varOrTerm"],FALSE:["varOrTerm"],BLANK_NODE_LABEL:["varOrTerm"],ANON:["varOrTerm"],PNAME_LN:["varOrTerm"],PNAME_NS:["varOrTerm"],STRING_LITERAL1:["varOrTerm"],STRING_LITERAL2:["varOrTerm"],STRING_LITERAL_LONG1:["varOrTerm"],STRING_LITERAL_LONG2:["varOrTerm"],INTEGER:["varOrTerm"],DECIMAL:["varOrTerm"],DOUBLE:["varOrTerm"],INTEGER_POSITIVE:["varOrTerm"],DECIMAL_POSITIVE:["varOrTerm"],DOUBLE_POSITIVE:["varOrTerm"],INTEGER_NEGATIVE:["varOrTerm"],DECIMAL_NEGATIVE:["varOrTerm"],DOUBLE_NEGATIVE:["varOrTerm"],"(":["triplesNodePath"],"[":["triplesNodePath"]},graphOrDefault:{DEFAULT:["DEFAULT"],IRI_REF:["?GRAPH","iriRef"],PNAME_LN:["?GRAPH","iriRef"],PNAME_NS:["?GRAPH","iriRef"],GRAPH:["?GRAPH","iriRef"]},graphPatternNotTriples:{"{":["groupOrUnionGraphPattern"],OPTIONAL:["optionalGraphPattern"],MINUS:["minusGraphPattern"],GRAPH:["graphGraphPattern"],SERVICE:["serviceGraphPattern"],FILTER:["filter"],BIND:["bind"],VALUES:["inlineData"]},graphRef:{GRAPH:["GRAPH","iriRef"]},graphRefAll:{GRAPH:["graphRef"],DEFAULT:["DEFAULT"],NAMED:["NAMED"],ALL:["ALL"]},graphTerm:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],BLANK_NODE_LABEL:["blankNode"],ANON:["blankNode"],NIL:["NIL"]},groupClause:{GROUP:["GROUP","BY","+groupCondition"]},groupCondition:{STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["functionCall"],PNAME_LN:["functionCall"],PNAME_NS:["functionCall"],"(":["(","expression","?[AS,var]",")"],VAR1:["var"],VAR2:["var"]},groupGraphPattern:{"{":["{","or([subSelect,groupGraphPatternSub])","}"]},groupGraphPatternSub:{"{":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],OPTIONAL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],MINUS:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],GRAPH:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],SERVICE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],FILTER:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],BIND:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VALUES:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VAR1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VAR2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],NIL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"(":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"[":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],IRI_REF:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],TRUE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],FALSE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],BLANK_NODE_LABEL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],ANON:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],PNAME_LN:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],PNAME_NS:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL_LONG1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL_LONG2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"}":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"]},groupOrUnionGraphPattern:{"{":["groupGraphPattern","*[UNION,groupGraphPattern]"]},havingClause:{HAVING:["HAVING","+havingCondition"]},havingCondition:{"(":["constraint"],STR:["constraint"],LANG:["constraint"],LANGMATCHES:["constraint"],DATATYPE:["constraint"],BOUND:["constraint"],IRI:["constraint"],URI:["constraint"],BNODE:["constraint"],RAND:["constraint"],ABS:["constraint"],CEIL:["constraint"],FLOOR:["constraint"],ROUND:["constraint"],CONCAT:["constraint"],STRLEN:["constraint"],UCASE:["constraint"],LCASE:["constraint"],ENCODE_FOR_URI:["constraint"],CONTAINS:["constraint"],STRSTARTS:["constraint"],STRENDS:["constraint"],STRBEFORE:["constraint"],STRAFTER:["constraint"],YEAR:["constraint"],MONTH:["constraint"],DAY:["constraint"],HOURS:["constraint"],MINUTES:["constraint"],SECONDS:["constraint"],TIMEZONE:["constraint"],TZ:["constraint"],NOW:["constraint"],UUID:["constraint"],STRUUID:["constraint"],MD5:["constraint"],SHA1:["constraint"],SHA256:["constraint"],SHA384:["constraint"],SHA512:["constraint"],COALESCE:["constraint"],IF:["constraint"],STRLANG:["constraint"],STRDT:["constraint"],SAMETERM:["constraint"],ISIRI:["constraint"],ISURI:["constraint"],ISBLANK:["constraint"],ISLITERAL:["constraint"],ISNUMERIC:["constraint"],SUBSTR:["constraint"],REPLACE:["constraint"],REGEX:["constraint"],EXISTS:["constraint"],NOT:["constraint"],IRI_REF:["constraint"],PNAME_LN:["constraint"],PNAME_NS:["constraint"]},inlineData:{VALUES:["VALUES","dataBlock"]},inlineDataFull:{NIL:["or([NIL,[(,*var,)]])","{","*or([[(,*dataBlockValue,)],NIL])","}"],"(":["or([NIL,[(,*var,)]])","{","*or([[(,*dataBlockValue,)],NIL])","}"]},inlineDataOneVar:{VAR1:["var","{","*dataBlockValue","}"],VAR2:["var","{","*dataBlockValue","}"]},insert1:{DATA:["DATA","quadData"],"{":["quadPattern","*usingClause","WHERE","groupGraphPattern"]},insertClause:{INSERT:["INSERT","quadPattern"]},integer:{INTEGER:["INTEGER"]},iriRef:{IRI_REF:["IRI_REF"],PNAME_LN:["prefixedName"],PNAME_NS:["prefixedName"]},iriRefOrFunction:{IRI_REF:["iriRef","?argList"],PNAME_LN:["iriRef","?argList"],PNAME_NS:["iriRef","?argList"]},limitClause:{LIMIT:["LIMIT","INTEGER"]},limitOffsetClauses:{LIMIT:["limitClause","?offsetClause"],OFFSET:["offsetClause","?limitClause"]},load:{LOAD:["LOAD","?SILENT_1","iriRef","?[INTO,graphRef]"]},minusGraphPattern:{MINUS:["MINUS","groupGraphPattern"]},modify:{WITH:["WITH","iriRef","or([[deleteClause,?insertClause],insertClause])","*usingClause","WHERE","groupGraphPattern"]},move:{MOVE:["MOVE","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},multiplicativeExpression:{"!":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"+":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"-":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],VAR1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],VAR2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"(":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LANG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LANGMATCHES:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DATATYPE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],BOUND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IRI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],URI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],BNODE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],RAND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ABS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CEIL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],FLOOR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ROUND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CONCAT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRLEN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],UCASE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LCASE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ENCODE_FOR_URI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CONTAINS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRSTARTS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRENDS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRBEFORE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRAFTER:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],YEAR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MONTH:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DAY:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],HOURS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MINUTES:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SECONDS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TIMEZONE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TZ:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],NOW:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],UUID:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRUUID:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MD5:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA256:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA384:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA512:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],COALESCE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IF:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRLANG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRDT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SAMETERM:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISIRI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISURI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISBLANK:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISLITERAL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISNUMERIC:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TRUE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],FALSE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],COUNT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SUM:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MIN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MAX:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],AVG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SAMPLE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],GROUP_CONCAT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SUBSTR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],REPLACE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],REGEX:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],EXISTS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],NOT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IRI_REF:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL_LONG1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL_LONG2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],PNAME_LN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],PNAME_NS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"]},namedGraphClause:{NAMED:["NAMED","sourceSelector"]},notExistsFunc:{NOT:["NOT","EXISTS","groupGraphPattern"]},numericExpression:{"!":["additiveExpression"],"+":["additiveExpression"],"-":["additiveExpression"],VAR1:["additiveExpression"],VAR2:["additiveExpression"],"(":["additiveExpression"],STR:["additiveExpression"],LANG:["additiveExpression"],LANGMATCHES:["additiveExpression"],DATATYPE:["additiveExpression"],BOUND:["additiveExpression"],IRI:["additiveExpression"],URI:["additiveExpression"],BNODE:["additiveExpression"],RAND:["additiveExpression"],ABS:["additiveExpression"],CEIL:["additiveExpression"],FLOOR:["additiveExpression"],ROUND:["additiveExpression"],CONCAT:["additiveExpression"],STRLEN:["additiveExpression"],UCASE:["additiveExpression"],LCASE:["additiveExpression"],ENCODE_FOR_URI:["additiveExpression"],CONTAINS:["additiveExpression"],STRSTARTS:["additiveExpression"],STRENDS:["additiveExpression"],STRBEFORE:["additiveExpression"],STRAFTER:["additiveExpression"],YEAR:["additiveExpression"],MONTH:["additiveExpression"],DAY:["additiveExpression"],HOURS:["additiveExpression"],MINUTES:["additiveExpression"],SECONDS:["additiveExpression"],TIMEZONE:["additiveExpression"],TZ:["additiveExpression"],NOW:["additiveExpression"],UUID:["additiveExpression"],STRUUID:["additiveExpression"],MD5:["additiveExpression"],SHA1:["additiveExpression"],SHA256:["additiveExpression"],SHA384:["additiveExpression"],SHA512:["additiveExpression"],COALESCE:["additiveExpression"],IF:["additiveExpression"],STRLANG:["additiveExpression"],STRDT:["additiveExpression"],SAMETERM:["additiveExpression"],ISIRI:["additiveExpression"],ISURI:["additiveExpression"],ISBLANK:["additiveExpression"],ISLITERAL:["additiveExpression"],ISNUMERIC:["additiveExpression"],TRUE:["additiveExpression"],FALSE:["additiveExpression"],COUNT:["additiveExpression"],SUM:["additiveExpression"],MIN:["additiveExpression"],MAX:["additiveExpression"],AVG:["additiveExpression"],SAMPLE:["additiveExpression"],GROUP_CONCAT:["additiveExpression"],SUBSTR:["additiveExpression"],REPLACE:["additiveExpression"],REGEX:["additiveExpression"],EXISTS:["additiveExpression"],NOT:["additiveExpression"],IRI_REF:["additiveExpression"],STRING_LITERAL1:["additiveExpression"],STRING_LITERAL2:["additiveExpression"],STRING_LITERAL_LONG1:["additiveExpression"],STRING_LITERAL_LONG2:["additiveExpression"],INTEGER:["additiveExpression"],DECIMAL:["additiveExpression"],DOUBLE:["additiveExpression"],INTEGER_POSITIVE:["additiveExpression"],DECIMAL_POSITIVE:["additiveExpression"],DOUBLE_POSITIVE:["additiveExpression"],INTEGER_NEGATIVE:["additiveExpression"],DECIMAL_NEGATIVE:["additiveExpression"],DOUBLE_NEGATIVE:["additiveExpression"],PNAME_LN:["additiveExpression"],PNAME_NS:["additiveExpression"]},numericLiteral:{INTEGER:["numericLiteralUnsigned"],DECIMAL:["numericLiteralUnsigned"],DOUBLE:["numericLiteralUnsigned"],INTEGER_POSITIVE:["numericLiteralPositive"],DECIMAL_POSITIVE:["numericLiteralPositive"],DOUBLE_POSITIVE:["numericLiteralPositive"],INTEGER_NEGATIVE:["numericLiteralNegative"],DECIMAL_NEGATIVE:["numericLiteralNegative"],DOUBLE_NEGATIVE:["numericLiteralNegative"]},numericLiteralNegative:{INTEGER_NEGATIVE:["INTEGER_NEGATIVE"],DECIMAL_NEGATIVE:["DECIMAL_NEGATIVE"],DOUBLE_NEGATIVE:["DOUBLE_NEGATIVE"]},numericLiteralPositive:{INTEGER_POSITIVE:["INTEGER_POSITIVE"],DECIMAL_POSITIVE:["DECIMAL_POSITIVE"],DOUBLE_POSITIVE:["DOUBLE_POSITIVE"]},numericLiteralUnsigned:{INTEGER:["INTEGER"],DECIMAL:["DECIMAL"],DOUBLE:["DOUBLE"]},object:{"(":["graphNode"],"[":["graphNode"],VAR1:["graphNode"],VAR2:["graphNode"],NIL:["graphNode"],IRI_REF:["graphNode"],TRUE:["graphNode"],FALSE:["graphNode"],BLANK_NODE_LABEL:["graphNode"],ANON:["graphNode"],PNAME_LN:["graphNode"],PNAME_NS:["graphNode"],STRING_LITERAL1:["graphNode"],STRING_LITERAL2:["graphNode"],STRING_LITERAL_LONG1:["graphNode"],STRING_LITERAL_LONG2:["graphNode"],INTEGER:["graphNode"],DECIMAL:["graphNode"],DOUBLE:["graphNode"],INTEGER_POSITIVE:["graphNode"],DECIMAL_POSITIVE:["graphNode"],DOUBLE_POSITIVE:["graphNode"],INTEGER_NEGATIVE:["graphNode"],DECIMAL_NEGATIVE:["graphNode"],DOUBLE_NEGATIVE:["graphNode"]},objectList:{"(":["object","*[,,object]"],"[":["object","*[,,object]"],VAR1:["object","*[,,object]"],VAR2:["object","*[,,object]"],NIL:["object","*[,,object]"],IRI_REF:["object","*[,,object]"],TRUE:["object","*[,,object]"],FALSE:["object","*[,,object]"],BLANK_NODE_LABEL:["object","*[,,object]"],ANON:["object","*[,,object]"],PNAME_LN:["object","*[,,object]"],PNAME_NS:["object","*[,,object]"],STRING_LITERAL1:["object","*[,,object]"],STRING_LITERAL2:["object","*[,,object]"],STRING_LITERAL_LONG1:["object","*[,,object]"],STRING_LITERAL_LONG2:["object","*[,,object]"],INTEGER:["object","*[,,object]"],DECIMAL:["object","*[,,object]"],DOUBLE:["object","*[,,object]"],INTEGER_POSITIVE:["object","*[,,object]"],DECIMAL_POSITIVE:["object","*[,,object]"],DOUBLE_POSITIVE:["object","*[,,object]"],INTEGER_NEGATIVE:["object","*[,,object]"],DECIMAL_NEGATIVE:["object","*[,,object]"],DOUBLE_NEGATIVE:["object","*[,,object]"]},objectListPath:{"(":["objectPath","*[,,objectPath]"],"[":["objectPath","*[,,objectPath]"],VAR1:["objectPath","*[,,objectPath]"],VAR2:["objectPath","*[,,objectPath]"],NIL:["objectPath","*[,,objectPath]"],IRI_REF:["objectPath","*[,,objectPath]"],TRUE:["objectPath","*[,,objectPath]"],FALSE:["objectPath","*[,,objectPath]"],BLANK_NODE_LABEL:["objectPath","*[,,objectPath]"],ANON:["objectPath","*[,,objectPath]"],PNAME_LN:["objectPath","*[,,objectPath]"],PNAME_NS:["objectPath","*[,,objectPath]"],STRING_LITERAL1:["objectPath","*[,,objectPath]"],STRING_LITERAL2:["objectPath","*[,,objectPath]"],STRING_LITERAL_LONG1:["objectPath","*[,,objectPath]"],STRING_LITERAL_LONG2:["objectPath","*[,,objectPath]"],INTEGER:["objectPath","*[,,objectPath]"],DECIMAL:["objectPath","*[,,objectPath]"],DOUBLE:["objectPath","*[,,objectPath]"],INTEGER_POSITIVE:["objectPath","*[,,objectPath]"],DECIMAL_POSITIVE:["objectPath","*[,,objectPath]"],DOUBLE_POSITIVE:["objectPath","*[,,objectPath]"],INTEGER_NEGATIVE:["objectPath","*[,,objectPath]"],DECIMAL_NEGATIVE:["objectPath","*[,,objectPath]"],DOUBLE_NEGATIVE:["objectPath","*[,,objectPath]"]},objectPath:{"(":["graphNodePath"],"[":["graphNodePath"],VAR1:["graphNodePath"],VAR2:["graphNodePath"],NIL:["graphNodePath"],IRI_REF:["graphNodePath"],TRUE:["graphNodePath"],FALSE:["graphNodePath"],BLANK_NODE_LABEL:["graphNodePath"],ANON:["graphNodePath"],PNAME_LN:["graphNodePath"],PNAME_NS:["graphNodePath"],STRING_LITERAL1:["graphNodePath"],STRING_LITERAL2:["graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath"],INTEGER:["graphNodePath"],DECIMAL:["graphNodePath"],DOUBLE:["graphNodePath"],INTEGER_POSITIVE:["graphNodePath"],DECIMAL_POSITIVE:["graphNodePath"],DOUBLE_POSITIVE:["graphNodePath"],INTEGER_NEGATIVE:["graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath"]},offsetClause:{OFFSET:["OFFSET","INTEGER"]},optionalGraphPattern:{OPTIONAL:["OPTIONAL","groupGraphPattern"]},"or([*,expression])":{"*":["*"],"!":["expression"],"+":["expression"],"-":["expression"],VAR1:["expression"],VAR2:["expression"],"(":["expression"],STR:["expression"],LANG:["expression"],LANGMATCHES:["expression"],DATATYPE:["expression"],BOUND:["expression"],IRI:["expression"],URI:["expression"],BNODE:["expression"],RAND:["expression"],ABS:["expression"],CEIL:["expression"],FLOOR:["expression"],ROUND:["expression"],CONCAT:["expression"],STRLEN:["expression"],UCASE:["expression"],LCASE:["expression"],ENCODE_FOR_URI:["expression"],CONTAINS:["expression"],STRSTARTS:["expression"],STRENDS:["expression"],STRBEFORE:["expression"],STRAFTER:["expression"],YEAR:["expression"],MONTH:["expression"],DAY:["expression"],HOURS:["expression"],MINUTES:["expression"],SECONDS:["expression"],TIMEZONE:["expression"],TZ:["expression"],NOW:["expression"],UUID:["expression"],STRUUID:["expression"],MD5:["expression"],SHA1:["expression"],SHA256:["expression"],SHA384:["expression"],SHA512:["expression"],COALESCE:["expression"],IF:["expression"],STRLANG:["expression"],STRDT:["expression"],SAMETERM:["expression"],ISIRI:["expression"],ISURI:["expression"],ISBLANK:["expression"],ISLITERAL:["expression"],ISNUMERIC:["expression"],TRUE:["expression"],FALSE:["expression"],COUNT:["expression"],SUM:["expression"],MIN:["expression"],MAX:["expression"],AVG:["expression"],SAMPLE:["expression"],GROUP_CONCAT:["expression"],SUBSTR:["expression"],REPLACE:["expression"],REGEX:["expression"],EXISTS:["expression"],NOT:["expression"],IRI_REF:["expression"],STRING_LITERAL1:["expression"],STRING_LITERAL2:["expression"],STRING_LITERAL_LONG1:["expression"],STRING_LITERAL_LONG2:["expression"],INTEGER:["expression"],DECIMAL:["expression"],DOUBLE:["expression"],INTEGER_POSITIVE:["expression"],DECIMAL_POSITIVE:["expression"],DOUBLE_POSITIVE:["expression"],INTEGER_NEGATIVE:["expression"],DECIMAL_NEGATIVE:["expression"],DOUBLE_NEGATIVE:["expression"],PNAME_LN:["expression"],PNAME_NS:["expression"]},"or([+or([var,[(,expression,AS,var,)]]),*])":{"(":["+or([var,[(,expression,AS,var,)]])"],VAR1:["+or([var,[(,expression,AS,var,)]])"],VAR2:["+or([var,[(,expression,AS,var,)]])"],"*":["*"]},"or([+varOrIRIref,*])":{VAR1:["+varOrIRIref"],VAR2:["+varOrIRIref"],IRI_REF:["+varOrIRIref"],PNAME_LN:["+varOrIRIref"],PNAME_NS:["+varOrIRIref"],"*":["*"]},"or([ASC,DESC])":{ASC:["ASC"],DESC:["DESC"]},"or([DISTINCT,REDUCED])":{DISTINCT:["DISTINCT"],REDUCED:["REDUCED"]},"or([LANGTAG,[^^,iriRef]])":{LANGTAG:["LANGTAG"],"^^":["[^^,iriRef]"]},"or([NIL,[(,*var,)]])":{NIL:["NIL"],"(":["[(,*var,)]"]},"or([[(,*dataBlockValue,)],NIL])":{"(":["[(,*dataBlockValue,)]"],NIL:["NIL"]},"or([[(,expression,)],NIL])":{"(":["[(,expression,)]"],NIL:["NIL"]},"or([[*,unaryExpression],[/,unaryExpression]])":{"*":["[*,unaryExpression]"],"/":["[/,unaryExpression]"]},"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])":{"+":["[+,multiplicativeExpression]"],"-":["[-,multiplicativeExpression]"],INTEGER_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DECIMAL_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DOUBLE_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],INTEGER_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DECIMAL_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DOUBLE_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"]},"or([[,,or([},[integer,}]])],}])":{",":["[,,or([},[integer,}]])]"],"}":["}"]},"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])":{"=":["[=,numericExpression]"],"!=":["[!=,numericExpression]"],"<":["[<,numericExpression]"],">":["[>,numericExpression]"],"<=":["[<=,numericExpression]"],">=":["[>=,numericExpression]"],IN:["[IN,expressionList]"],NOT:["[NOT,IN,expressionList]"]},"or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])":{"{":["[constructTemplate,*datasetClause,whereClause,solutionModifier]"],WHERE:["[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]"],FROM:["[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]"]},"or([[deleteClause,?insertClause],insertClause])":{DELETE:["[deleteClause,?insertClause]"],INSERT:["insertClause"]},"or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])":{INTEGER:["[integer,or([[,,or([},[integer,}]])],}])]"],",":["[,,integer,}]"]},"or([baseDecl,prefixDecl])":{BASE:["baseDecl"],PREFIX:["prefixDecl"]},"or([defaultGraphClause,namedGraphClause])":{IRI_REF:["defaultGraphClause"],PNAME_LN:["defaultGraphClause"],PNAME_NS:["defaultGraphClause"],NAMED:["namedGraphClause"]},"or([inlineDataOneVar,inlineDataFull])":{VAR1:["inlineDataOneVar"],VAR2:["inlineDataOneVar"],NIL:["inlineDataFull"],"(":["inlineDataFull"]},"or([iriRef,[NAMED,iriRef]])":{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],NAMED:["[NAMED,iriRef]"]},"or([iriRef,a])":{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],a:["a"]},"or([numericLiteralPositive,numericLiteralNegative])":{INTEGER_POSITIVE:["numericLiteralPositive"],DECIMAL_POSITIVE:["numericLiteralPositive"],DOUBLE_POSITIVE:["numericLiteralPositive"],INTEGER_NEGATIVE:["numericLiteralNegative"],DECIMAL_NEGATIVE:["numericLiteralNegative"],DOUBLE_NEGATIVE:["numericLiteralNegative"]},"or([queryAll,updateAll])":{CONSTRUCT:["queryAll"],DESCRIBE:["queryAll"],ASK:["queryAll"],SELECT:["queryAll"],INSERT:["updateAll"],DELETE:["updateAll"],LOAD:["updateAll"],CLEAR:["updateAll"],DROP:["updateAll"],ADD:["updateAll"],MOVE:["updateAll"],COPY:["updateAll"],CREATE:["updateAll"],WITH:["updateAll"],$:["updateAll"]},"or([selectQuery,constructQuery,describeQuery,askQuery])":{SELECT:["selectQuery"],CONSTRUCT:["constructQuery"],DESCRIBE:["describeQuery"],ASK:["askQuery"]},"or([subSelect,groupGraphPatternSub])":{SELECT:["subSelect"],"{":["groupGraphPatternSub"],OPTIONAL:["groupGraphPatternSub"],MINUS:["groupGraphPatternSub"],GRAPH:["groupGraphPatternSub"],SERVICE:["groupGraphPatternSub"],FILTER:["groupGraphPatternSub"],BIND:["groupGraphPatternSub"],VALUES:["groupGraphPatternSub"],VAR1:["groupGraphPatternSub"],VAR2:["groupGraphPatternSub"],NIL:["groupGraphPatternSub"],"(":["groupGraphPatternSub"],"[":["groupGraphPatternSub"],IRI_REF:["groupGraphPatternSub"],TRUE:["groupGraphPatternSub"],FALSE:["groupGraphPatternSub"],BLANK_NODE_LABEL:["groupGraphPatternSub"],ANON:["groupGraphPatternSub"],PNAME_LN:["groupGraphPatternSub"],PNAME_NS:["groupGraphPatternSub"],STRING_LITERAL1:["groupGraphPatternSub"],STRING_LITERAL2:["groupGraphPatternSub"],STRING_LITERAL_LONG1:["groupGraphPatternSub"],STRING_LITERAL_LONG2:["groupGraphPatternSub"],INTEGER:["groupGraphPatternSub"],DECIMAL:["groupGraphPatternSub"],DOUBLE:["groupGraphPatternSub"],INTEGER_POSITIVE:["groupGraphPatternSub"],DECIMAL_POSITIVE:["groupGraphPatternSub"],DOUBLE_POSITIVE:["groupGraphPatternSub"],INTEGER_NEGATIVE:["groupGraphPatternSub"],DECIMAL_NEGATIVE:["groupGraphPatternSub"],DOUBLE_NEGATIVE:["groupGraphPatternSub"],"}":["groupGraphPatternSub"]},"or([var,[(,expression,AS,var,)]])":{VAR1:["var"],VAR2:["var"],"(":["[(,expression,AS,var,)]"]},"or([verbPath,verbSimple])":{"^":["verbPath"],a:["verbPath"],"!":["verbPath"],"(":["verbPath"],IRI_REF:["verbPath"],PNAME_LN:["verbPath"],PNAME_NS:["verbPath"],VAR1:["verbSimple"],VAR2:["verbSimple"]},"or([},[integer,}]])":{"}":["}"],INTEGER:["[integer,}]"]},orderClause:{ORDER:["ORDER","BY","+orderCondition"]},orderCondition:{ASC:["or([ASC,DESC])","brackettedExpression"],DESC:["or([ASC,DESC])","brackettedExpression"],"(":["constraint"],STR:["constraint"],LANG:["constraint"],LANGMATCHES:["constraint"],DATATYPE:["constraint"],BOUND:["constraint"],IRI:["constraint"],URI:["constraint"],BNODE:["constraint"],RAND:["constraint"],ABS:["constraint"],CEIL:["constraint"],FLOOR:["constraint"],ROUND:["constraint"],CONCAT:["constraint"],STRLEN:["constraint"],UCASE:["constraint"],LCASE:["constraint"],ENCODE_FOR_URI:["constraint"],CONTAINS:["constraint"],STRSTARTS:["constraint"],STRENDS:["constraint"],STRBEFORE:["constraint"],STRAFTER:["constraint"],YEAR:["constraint"],MONTH:["constraint"],DAY:["constraint"],HOURS:["constraint"],MINUTES:["constraint"],SECONDS:["constraint"],TIMEZONE:["constraint"],TZ:["constraint"],NOW:["constraint"],UUID:["constraint"],STRUUID:["constraint"],MD5:["constraint"],SHA1:["constraint"],SHA256:["constraint"],SHA384:["constraint"],SHA512:["constraint"],COALESCE:["constraint"],IF:["constraint"],STRLANG:["constraint"],STRDT:["constraint"],SAMETERM:["constraint"],ISIRI:["constraint"],ISURI:["constraint"],ISBLANK:["constraint"],ISLITERAL:["constraint"],ISNUMERIC:["constraint"],SUBSTR:["constraint"],REPLACE:["constraint"],REGEX:["constraint"],EXISTS:["constraint"],NOT:["constraint"],IRI_REF:["constraint"],PNAME_LN:["constraint"],PNAME_NS:["constraint"],VAR1:["var"],VAR2:["var"]},path:{"^":["pathAlternative"],a:["pathAlternative"],"!":["pathAlternative"],"(":["pathAlternative"],IRI_REF:["pathAlternative"],PNAME_LN:["pathAlternative"],PNAME_NS:["pathAlternative"]},pathAlternative:{"^":["pathSequence","*[|,pathSequence]"],a:["pathSequence","*[|,pathSequence]"],"!":["pathSequence","*[|,pathSequence]"],"(":["pathSequence","*[|,pathSequence]"],IRI_REF:["pathSequence","*[|,pathSequence]"],PNAME_LN:["pathSequence","*[|,pathSequence]"],PNAME_NS:["pathSequence","*[|,pathSequence]"]},pathElt:{a:["pathPrimary","?pathMod"],"!":["pathPrimary","?pathMod"],"(":["pathPrimary","?pathMod"],IRI_REF:["pathPrimary","?pathMod"],PNAME_LN:["pathPrimary","?pathMod"],PNAME_NS:["pathPrimary","?pathMod"]},pathEltOrInverse:{a:["pathElt"],"!":["pathElt"],"(":["pathElt"],IRI_REF:["pathElt"],PNAME_LN:["pathElt"],PNAME_NS:["pathElt"],"^":["^","pathElt"]},pathMod:{"*":["*"],"?":["?"],"+":["+"],"{":["{","or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])"]},pathNegatedPropertySet:{a:["pathOneInPropertySet"],"^":["pathOneInPropertySet"],IRI_REF:["pathOneInPropertySet"],PNAME_LN:["pathOneInPropertySet"],PNAME_NS:["pathOneInPropertySet"],"(":["(","?[pathOneInPropertySet,*[|,pathOneInPropertySet]]",")"]},pathOneInPropertySet:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],a:["a"],"^":["^","or([iriRef,a])"]},pathPrimary:{IRI_REF:["storeProperty","iriRef"],PNAME_LN:["storeProperty","iriRef"],PNAME_NS:["storeProperty","iriRef"],a:["storeProperty","a"],"!":["!","pathNegatedPropertySet"],"(":["(","path",")"]},pathSequence:{"^":["pathEltOrInverse","*[/,pathEltOrInverse]"],a:["pathEltOrInverse","*[/,pathEltOrInverse]"],"!":["pathEltOrInverse","*[/,pathEltOrInverse]"],"(":["pathEltOrInverse","*[/,pathEltOrInverse]"],IRI_REF:["pathEltOrInverse","*[/,pathEltOrInverse]"],PNAME_LN:["pathEltOrInverse","*[/,pathEltOrInverse]"],PNAME_NS:["pathEltOrInverse","*[/,pathEltOrInverse]"]},prefixDecl:{PREFIX:["PREFIX","PNAME_NS","IRI_REF"]},prefixedName:{PNAME_LN:["PNAME_LN"],PNAME_NS:["PNAME_NS"]},primaryExpression:{"(":["brackettedExpression"],STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["iriRefOrFunction"],PNAME_LN:["iriRefOrFunction"],PNAME_NS:["iriRefOrFunction"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],VAR1:["var"],VAR2:["var"],COUNT:["aggregate"],SUM:["aggregate"],MIN:["aggregate"],MAX:["aggregate"],AVG:["aggregate"],SAMPLE:["aggregate"],GROUP_CONCAT:["aggregate"]},prologue:{BASE:["*or([baseDecl,prefixDecl])"],PREFIX:["*or([baseDecl,prefixDecl])"],$:["*or([baseDecl,prefixDecl])"],CONSTRUCT:["*or([baseDecl,prefixDecl])"],DESCRIBE:["*or([baseDecl,prefixDecl])"],ASK:["*or([baseDecl,prefixDecl])"],INSERT:["*or([baseDecl,prefixDecl])"],DELETE:["*or([baseDecl,prefixDecl])"],SELECT:["*or([baseDecl,prefixDecl])"],LOAD:["*or([baseDecl,prefixDecl])"],CLEAR:["*or([baseDecl,prefixDecl])"],DROP:["*or([baseDecl,prefixDecl])"],ADD:["*or([baseDecl,prefixDecl])"],MOVE:["*or([baseDecl,prefixDecl])"],COPY:["*or([baseDecl,prefixDecl])"],CREATE:["*or([baseDecl,prefixDecl])"],WITH:["*or([baseDecl,prefixDecl])"]},propertyList:{a:["propertyListNotEmpty"],VAR1:["propertyListNotEmpty"],VAR2:["propertyListNotEmpty"],IRI_REF:["propertyListNotEmpty"],PNAME_LN:["propertyListNotEmpty"],PNAME_NS:["propertyListNotEmpty"],".":[],"}":[],GRAPH:[]},propertyListNotEmpty:{a:["verb","objectList","*[;,?[verb,objectList]]"],VAR1:["verb","objectList","*[;,?[verb,objectList]]"],VAR2:["verb","objectList","*[;,?[verb,objectList]]"],IRI_REF:["verb","objectList","*[;,?[verb,objectList]]"],PNAME_LN:["verb","objectList","*[;,?[verb,objectList]]"],PNAME_NS:["verb","objectList","*[;,?[verb,objectList]]"]},propertyListPath:{a:["propertyListNotEmpty"],VAR1:["propertyListNotEmpty"],VAR2:["propertyListNotEmpty"],IRI_REF:["propertyListNotEmpty"],PNAME_LN:["propertyListNotEmpty"],PNAME_NS:["propertyListNotEmpty"],".":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},propertyListPathNotEmpty:{VAR1:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],VAR2:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"^":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],a:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"!":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"(":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],IRI_REF:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],PNAME_LN:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],PNAME_NS:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"]},quadData:{"{":["{","disallowVars","quads","allowVars","}"]},quadDataNoBnodes:{"{":["{","disallowBnodes","disallowVars","quads","allowVars","allowBnodes","}"]},quadPattern:{"{":["{","quads","}"]},quadPatternNoBnodes:{"{":["{","disallowBnodes","quads","allowBnodes","}"]},quads:{GRAPH:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],VAR1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],VAR2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],NIL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"(":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"[":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],IRI_REF:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],TRUE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],FALSE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],BLANK_NODE_LABEL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],ANON:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],PNAME_LN:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],PNAME_NS:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL_LONG1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL_LONG2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"}":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"]},quadsNotTriples:{GRAPH:["GRAPH","varOrIRIref","{","?triplesTemplate","}"]},queryAll:{CONSTRUCT:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],DESCRIBE:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],ASK:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],SELECT:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"]},rdfLiteral:{STRING_LITERAL1:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL2:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL_LONG1:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL_LONG2:["string","?or([LANGTAG,[^^,iriRef]])"]},regexExpression:{REGEX:["REGEX","(","expression",",","expression","?[,,expression]",")"]},relationalExpression:{"!":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"+":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"-":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],VAR1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],VAR2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"(":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LANG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LANGMATCHES:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DATATYPE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],BOUND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IRI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],URI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],BNODE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],RAND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ABS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CEIL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],FLOOR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ROUND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CONCAT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRLEN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],UCASE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LCASE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ENCODE_FOR_URI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CONTAINS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRSTARTS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRENDS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRBEFORE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRAFTER:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],YEAR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MONTH:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DAY:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],HOURS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MINUTES:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SECONDS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TIMEZONE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TZ:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOW:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],UUID:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRUUID:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MD5:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA256:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA384:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA512:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],COALESCE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IF:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRLANG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRDT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SAMETERM:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISIRI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISURI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISBLANK:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISLITERAL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISNUMERIC:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TRUE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],FALSE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],COUNT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SUM:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MIN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MAX:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],AVG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SAMPLE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],GROUP_CONCAT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SUBSTR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],REPLACE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],REGEX:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],EXISTS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IRI_REF:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL_LONG1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL_LONG2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],PNAME_LN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],PNAME_NS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"]},selectClause:{SELECT:["SELECT","?or([DISTINCT,REDUCED])","or([+or([var,[(,expression,AS,var,)]]),*])"]},selectQuery:{SELECT:["selectClause","*datasetClause","whereClause","solutionModifier"]},serviceGraphPattern:{SERVICE:["SERVICE","?SILENT","varOrIRIref","groupGraphPattern"]},solutionModifier:{LIMIT:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],OFFSET:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],ORDER:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],HAVING:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],GROUP:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],VALUES:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],$:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],"}":["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"]},sourceSelector:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"]},sparql11:{$:["prologue","or([queryAll,updateAll])","$"],CONSTRUCT:["prologue","or([queryAll,updateAll])","$"],DESCRIBE:["prologue","or([queryAll,updateAll])","$"],ASK:["prologue","or([queryAll,updateAll])","$"],INSERT:["prologue","or([queryAll,updateAll])","$"],DELETE:["prologue","or([queryAll,updateAll])","$"],SELECT:["prologue","or([queryAll,updateAll])","$"],LOAD:["prologue","or([queryAll,updateAll])","$"],CLEAR:["prologue","or([queryAll,updateAll])","$"],DROP:["prologue","or([queryAll,updateAll])","$"],ADD:["prologue","or([queryAll,updateAll])","$"],MOVE:["prologue","or([queryAll,updateAll])","$"],COPY:["prologue","or([queryAll,updateAll])","$"],CREATE:["prologue","or([queryAll,updateAll])","$"],WITH:["prologue","or([queryAll,updateAll])","$"],BASE:["prologue","or([queryAll,updateAll])","$"],PREFIX:["prologue","or([queryAll,updateAll])","$"]},storeProperty:{VAR1:[],VAR2:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[],a:[]},strReplaceExpression:{REPLACE:["REPLACE","(","expression",",","expression",",","expression","?[,,expression]",")"]},string:{STRING_LITERAL1:["STRING_LITERAL1"],STRING_LITERAL2:["STRING_LITERAL2"],STRING_LITERAL_LONG1:["STRING_LITERAL_LONG1"],STRING_LITERAL_LONG2:["STRING_LITERAL_LONG2"]},subSelect:{SELECT:["selectClause","whereClause","solutionModifier","valuesClause"]},substringExpression:{SUBSTR:["SUBSTR","(","expression",",","expression","?[,,expression]",")"]},triplesBlock:{VAR1:["triplesSameSubjectPath","?[.,?triplesBlock]"],VAR2:["triplesSameSubjectPath","?[.,?triplesBlock]"],NIL:["triplesSameSubjectPath","?[.,?triplesBlock]"],"(":["triplesSameSubjectPath","?[.,?triplesBlock]"],"[":["triplesSameSubjectPath","?[.,?triplesBlock]"],IRI_REF:["triplesSameSubjectPath","?[.,?triplesBlock]"],TRUE:["triplesSameSubjectPath","?[.,?triplesBlock]"],FALSE:["triplesSameSubjectPath","?[.,?triplesBlock]"],BLANK_NODE_LABEL:["triplesSameSubjectPath","?[.,?triplesBlock]"],ANON:["triplesSameSubjectPath","?[.,?triplesBlock]"],PNAME_LN:["triplesSameSubjectPath","?[.,?triplesBlock]"],PNAME_NS:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL1:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL2:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL_LONG1:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL_LONG2:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"]},triplesNode:{"(":["collection"],"[":["blankNodePropertyList"]},triplesNodePath:{"(":["collectionPath"],"[":["blankNodePropertyListPath"]},triplesSameSubject:{VAR1:["varOrTerm","propertyListNotEmpty"],VAR2:["varOrTerm","propertyListNotEmpty"],NIL:["varOrTerm","propertyListNotEmpty"],IRI_REF:["varOrTerm","propertyListNotEmpty"],TRUE:["varOrTerm","propertyListNotEmpty"],FALSE:["varOrTerm","propertyListNotEmpty"],BLANK_NODE_LABEL:["varOrTerm","propertyListNotEmpty"],ANON:["varOrTerm","propertyListNotEmpty"],PNAME_LN:["varOrTerm","propertyListNotEmpty"],PNAME_NS:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL1:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL2:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL_LONG1:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL_LONG2:["varOrTerm","propertyListNotEmpty"],INTEGER:["varOrTerm","propertyListNotEmpty"],DECIMAL:["varOrTerm","propertyListNotEmpty"],DOUBLE:["varOrTerm","propertyListNotEmpty"],INTEGER_POSITIVE:["varOrTerm","propertyListNotEmpty"],DECIMAL_POSITIVE:["varOrTerm","propertyListNotEmpty"],DOUBLE_POSITIVE:["varOrTerm","propertyListNotEmpty"],INTEGER_NEGATIVE:["varOrTerm","propertyListNotEmpty"],DECIMAL_NEGATIVE:["varOrTerm","propertyListNotEmpty"],DOUBLE_NEGATIVE:["varOrTerm","propertyListNotEmpty"],"(":["triplesNode","propertyList"],"[":["triplesNode","propertyList"]},triplesSameSubjectPath:{VAR1:["varOrTerm","propertyListPathNotEmpty"],VAR2:["varOrTerm","propertyListPathNotEmpty"],NIL:["varOrTerm","propertyListPathNotEmpty"],IRI_REF:["varOrTerm","propertyListPathNotEmpty"],TRUE:["varOrTerm","propertyListPathNotEmpty"],FALSE:["varOrTerm","propertyListPathNotEmpty"],BLANK_NODE_LABEL:["varOrTerm","propertyListPathNotEmpty"],ANON:["varOrTerm","propertyListPathNotEmpty"],PNAME_LN:["varOrTerm","propertyListPathNotEmpty"],PNAME_NS:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL1:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL2:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL_LONG1:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL_LONG2:["varOrTerm","propertyListPathNotEmpty"],INTEGER:["varOrTerm","propertyListPathNotEmpty"],DECIMAL:["varOrTerm","propertyListPathNotEmpty"],DOUBLE:["varOrTerm","propertyListPathNotEmpty"],INTEGER_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],DECIMAL_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],DOUBLE_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],INTEGER_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],DECIMAL_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],DOUBLE_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],"(":["triplesNodePath","propertyListPath"],"[":["triplesNodePath","propertyListPath"]},triplesTemplate:{VAR1:["triplesSameSubject","?[.,?triplesTemplate]"],VAR2:["triplesSameSubject","?[.,?triplesTemplate]"],NIL:["triplesSameSubject","?[.,?triplesTemplate]"],"(":["triplesSameSubject","?[.,?triplesTemplate]"],"[":["triplesSameSubject","?[.,?triplesTemplate]"],IRI_REF:["triplesSameSubject","?[.,?triplesTemplate]"],TRUE:["triplesSameSubject","?[.,?triplesTemplate]"],FALSE:["triplesSameSubject","?[.,?triplesTemplate]"],BLANK_NODE_LABEL:["triplesSameSubject","?[.,?triplesTemplate]"],ANON:["triplesSameSubject","?[.,?triplesTemplate]"],PNAME_LN:["triplesSameSubject","?[.,?triplesTemplate]"],PNAME_NS:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL1:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL2:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL_LONG1:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL_LONG2:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"]},unaryExpression:{"!":["!","primaryExpression"],"+":["+","primaryExpression"],"-":["-","primaryExpression"],VAR1:["primaryExpression"],VAR2:["primaryExpression"],"(":["primaryExpression"],STR:["primaryExpression"],LANG:["primaryExpression"],LANGMATCHES:["primaryExpression"],DATATYPE:["primaryExpression"],BOUND:["primaryExpression"],IRI:["primaryExpression"],URI:["primaryExpression"],BNODE:["primaryExpression"],RAND:["primaryExpression"],ABS:["primaryExpression"],CEIL:["primaryExpression"],FLOOR:["primaryExpression"],ROUND:["primaryExpression"],CONCAT:["primaryExpression"],STRLEN:["primaryExpression"],UCASE:["primaryExpression"],LCASE:["primaryExpression"],ENCODE_FOR_URI:["primaryExpression"],CONTAINS:["primaryExpression"],STRSTARTS:["primaryExpression"],STRENDS:["primaryExpression"],STRBEFORE:["primaryExpression"],STRAFTER:["primaryExpression"],YEAR:["primaryExpression"],MONTH:["primaryExpression"],DAY:["primaryExpression"],HOURS:["primaryExpression"],MINUTES:["primaryExpression"],SECONDS:["primaryExpression"],TIMEZONE:["primaryExpression"],TZ:["primaryExpression"],NOW:["primaryExpression"],UUID:["primaryExpression"],STRUUID:["primaryExpression"],MD5:["primaryExpression"],SHA1:["primaryExpression"],SHA256:["primaryExpression"],SHA384:["primaryExpression"],SHA512:["primaryExpression"],COALESCE:["primaryExpression"],IF:["primaryExpression"],STRLANG:["primaryExpression"],STRDT:["primaryExpression"],SAMETERM:["primaryExpression"],ISIRI:["primaryExpression"],ISURI:["primaryExpression"],ISBLANK:["primaryExpression"],ISLITERAL:["primaryExpression"],ISNUMERIC:["primaryExpression"],TRUE:["primaryExpression"],FALSE:["primaryExpression"],COUNT:["primaryExpression"],SUM:["primaryExpression"],MIN:["primaryExpression"],MAX:["primaryExpression"],AVG:["primaryExpression"],SAMPLE:["primaryExpression"],GROUP_CONCAT:["primaryExpression"],SUBSTR:["primaryExpression"],REPLACE:["primaryExpression"],REGEX:["primaryExpression"],EXISTS:["primaryExpression"],NOT:["primaryExpression"],IRI_REF:["primaryExpression"],STRING_LITERAL1:["primaryExpression"],STRING_LITERAL2:["primaryExpression"],STRING_LITERAL_LONG1:["primaryExpression"],STRING_LITERAL_LONG2:["primaryExpression"],INTEGER:["primaryExpression"],DECIMAL:["primaryExpression"],DOUBLE:["primaryExpression"],INTEGER_POSITIVE:["primaryExpression"],DECIMAL_POSITIVE:["primaryExpression"],DOUBLE_POSITIVE:["primaryExpression"],INTEGER_NEGATIVE:["primaryExpression"],DECIMAL_NEGATIVE:["primaryExpression"],DOUBLE_NEGATIVE:["primaryExpression"],PNAME_LN:["primaryExpression"],PNAME_NS:["primaryExpression"]},update:{INSERT:["prologue","?[update1,?[;,update]]"],DELETE:["prologue","?[update1,?[;,update]]"],LOAD:["prologue","?[update1,?[;,update]]"],CLEAR:["prologue","?[update1,?[;,update]]"],DROP:["prologue","?[update1,?[;,update]]"],ADD:["prologue","?[update1,?[;,update]]"],MOVE:["prologue","?[update1,?[;,update]]"],COPY:["prologue","?[update1,?[;,update]]"],CREATE:["prologue","?[update1,?[;,update]]"],WITH:["prologue","?[update1,?[;,update]]"],BASE:["prologue","?[update1,?[;,update]]"],PREFIX:["prologue","?[update1,?[;,update]]"],$:["prologue","?[update1,?[;,update]]"]},update1:{LOAD:["load"],CLEAR:["clear"],DROP:["drop"],ADD:["add"],MOVE:["move"],COPY:["copy"],CREATE:["create"],INSERT:["INSERT","insert1"],DELETE:["DELETE","delete1"],WITH:["modify"]},updateAll:{INSERT:["?[update1,?[;,update]]"],DELETE:["?[update1,?[;,update]]"],LOAD:["?[update1,?[;,update]]"],CLEAR:["?[update1,?[;,update]]"],DROP:["?[update1,?[;,update]]"],ADD:["?[update1,?[;,update]]"],MOVE:["?[update1,?[;,update]]"],COPY:["?[update1,?[;,update]]"],CREATE:["?[update1,?[;,update]]"],WITH:["?[update1,?[;,update]]"],$:["?[update1,?[;,update]]"]},usingClause:{USING:["USING","or([iriRef,[NAMED,iriRef]])"]},valueLogical:{"!":["relationalExpression"],"+":["relationalExpression"],"-":["relationalExpression"],VAR1:["relationalExpression"],VAR2:["relationalExpression"],"(":["relationalExpression"],STR:["relationalExpression"],LANG:["relationalExpression"],LANGMATCHES:["relationalExpression"],DATATYPE:["relationalExpression"],BOUND:["relationalExpression"],IRI:["relationalExpression"],URI:["relationalExpression"],BNODE:["relationalExpression"],RAND:["relationalExpression"],ABS:["relationalExpression"],CEIL:["relationalExpression"],FLOOR:["relationalExpression"],ROUND:["relationalExpression"],CONCAT:["relationalExpression"],STRLEN:["relationalExpression"],UCASE:["relationalExpression"],LCASE:["relationalExpression"],ENCODE_FOR_URI:["relationalExpression"],CONTAINS:["relationalExpression"],STRSTARTS:["relationalExpression"],STRENDS:["relationalExpression"],STRBEFORE:["relationalExpression"],STRAFTER:["relationalExpression"],YEAR:["relationalExpression"],MONTH:["relationalExpression"],DAY:["relationalExpression"],HOURS:["relationalExpression"],MINUTES:["relationalExpression"],SECONDS:["relationalExpression"],TIMEZONE:["relationalExpression"],TZ:["relationalExpression"],NOW:["relationalExpression"],UUID:["relationalExpression"],STRUUID:["relationalExpression"],MD5:["relationalExpression"],SHA1:["relationalExpression"],SHA256:["relationalExpression"],SHA384:["relationalExpression"],SHA512:["relationalExpression"],COALESCE:["relationalExpression"],IF:["relationalExpression"],STRLANG:["relationalExpression"],STRDT:["relationalExpression"],SAMETERM:["relationalExpression"],ISIRI:["relationalExpression"],ISURI:["relationalExpression"],ISBLANK:["relationalExpression"],ISLITERAL:["relationalExpression"],ISNUMERIC:["relationalExpression"],TRUE:["relationalExpression"],FALSE:["relationalExpression"],COUNT:["relationalExpression"],SUM:["relationalExpression"],MIN:["relationalExpression"],MAX:["relationalExpression"],AVG:["relationalExpression"],SAMPLE:["relationalExpression"],GROUP_CONCAT:["relationalExpression"],SUBSTR:["relationalExpression"],REPLACE:["relationalExpression"],REGEX:["relationalExpression"],EXISTS:["relationalExpression"],NOT:["relationalExpression"],IRI_REF:["relationalExpression"],STRING_LITERAL1:["relationalExpression"],STRING_LITERAL2:["relationalExpression"],STRING_LITERAL_LONG1:["relationalExpression"],STRING_LITERAL_LONG2:["relationalExpression"],INTEGER:["relationalExpression"],DECIMAL:["relationalExpression"],DOUBLE:["relationalExpression"],INTEGER_POSITIVE:["relationalExpression"],DECIMAL_POSITIVE:["relationalExpression"],DOUBLE_POSITIVE:["relationalExpression"],INTEGER_NEGATIVE:["relationalExpression"],DECIMAL_NEGATIVE:["relationalExpression"],DOUBLE_NEGATIVE:["relationalExpression"],PNAME_LN:["relationalExpression"],PNAME_NS:["relationalExpression"]},valuesClause:{VALUES:["VALUES","dataBlock"],$:[],"}":[]},var:{VAR1:["VAR1"],VAR2:["VAR2"]},varOrIRIref:{VAR1:["var"],VAR2:["var"],IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"]},varOrTerm:{VAR1:["var"],VAR2:["var"],NIL:["graphTerm"],IRI_REF:["graphTerm"],TRUE:["graphTerm"],FALSE:["graphTerm"],BLANK_NODE_LABEL:["graphTerm"],ANON:["graphTerm"],PNAME_LN:["graphTerm"],PNAME_NS:["graphTerm"],STRING_LITERAL1:["graphTerm"],STRING_LITERAL2:["graphTerm"],STRING_LITERAL_LONG1:["graphTerm"],STRING_LITERAL_LONG2:["graphTerm"],INTEGER:["graphTerm"],DECIMAL:["graphTerm"],DOUBLE:["graphTerm"],INTEGER_POSITIVE:["graphTerm"],DECIMAL_POSITIVE:["graphTerm"],DOUBLE_POSITIVE:["graphTerm"],INTEGER_NEGATIVE:["graphTerm"],DECIMAL_NEGATIVE:["graphTerm"],DOUBLE_NEGATIVE:["graphTerm"]},verb:{VAR1:["storeProperty","varOrIRIref"],VAR2:["storeProperty","varOrIRIref"],IRI_REF:["storeProperty","varOrIRIref"],PNAME_LN:["storeProperty","varOrIRIref"],PNAME_NS:["storeProperty","varOrIRIref"],a:["storeProperty","a"]},verbPath:{"^":["path"],a:["path"],"!":["path"],"(":["path"],IRI_REF:["path"],PNAME_LN:["path"],PNAME_NS:["path"]},verbSimple:{VAR1:["var"],VAR2:["var"]},whereClause:{"{":["?WHERE","groupGraphPattern"],WHERE:["?WHERE","groupGraphPattern"]}},keywords:/^(GROUP_CONCAT|DATATYPE|BASE|PREFIX|SELECT|CONSTRUCT|DESCRIBE|ASK|FROM|NAMED|ORDER|BY|LIMIT|ASC|DESC|OFFSET|DISTINCT|REDUCED|WHERE|GRAPH|OPTIONAL|UNION|FILTER|GROUP|HAVING|AS|VALUES|LOAD|CLEAR|DROP|CREATE|MOVE|COPY|SILENT|INSERT|DELETE|DATA|WITH|TO|USING|NAMED|MINUS|BIND|LANGMATCHES|LANG|BOUND|SAMETERM|ISIRI|ISURI|ISBLANK|ISLITERAL|REGEX|TRUE|FALSE|UNDEF|ADD|DEFAULT|ALL|SERVICE|INTO|IN|NOT|IRI|URI|BNODE|RAND|ABS|CEIL|FLOOR|ROUND|CONCAT|STRLEN|UCASE|LCASE|ENCODE_FOR_URI|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|NOW|UUID|STRUUID|MD5|SHA1|SHA256|SHA384|SHA512|COALESCE|IF|STRLANG|STRDT|ISNUMERIC|SUBSTR|REPLACE|EXISTS|COUNT|SUM|MIN|MAX|AVG|SAMPLE|SEPARATOR|STR)/i,punct:/^(\*|a|\.|\{|\}|,|\(|\)|;|\[|\]|\|\||&&|=|!=|!|<=|>=|<|>|\+|-|\/|\^\^|\?|\||\^)/,startSymbol:"sparql11",acceptEmpty:!0}},{}],3:[function(e,t,n){"use strict";var r=e("codemirror");r.defineMode("sparql11",function(t,n){function getPossibles(e){var t=[],n=o[e];if(void 0!=n)for(var r in n)t.push(r.toString());else t.push(e);return t}function tokenBase(e,t){function recordFailurePos(){var r=e.column();t.errorStartPos=r,t.errorEndPos=r+n.text.length}0==e.pos&&(t.possibleCurrent=t.possibleNext);var n=function(){var n=null;if(t.inLiteral){var o=!1;if(n=e.match(g[t.inLiteral].contents.regex,!0,!1),n&&0==n[0].length&&(n=e.match(g[t.inLiteral].closing.regex,!0,!1),o=!0),n&&n[0].length>0){var i={quotePos:o?"end":"content",cat:f[t.inLiteral].CAT,style:g[t.inLiteral].complete.style,text:n[0],start:e.start};return o&&(t.inLiteral=!1),i}}for(var a in g)if(n=e.match(g[a].quotes.regex,!0,!1)){var s;return t.inLiteral?(t.inLiteral=!1,s="end"):(t.inLiteral=a,s="start"),{cat:f[a].CAT,style:g[a].quotes.style,text:n[0],quotePos:s,start:e.start}}for(var l=0;l<b.length;++l)if(n=e.match(b[l].regex,!0,!1))return{cat:b[l].name,style:b[l].style,text:n[0],start:e.start};return(n=e.match(r.keywords,!0,!1))?{cat:e.current().toUpperCase(),style:"keyword",text:n[0],start:e.start}:(n=e.match(r.punct,!0,!1))?{cat:e.current(),style:"punc",text:n[0],start:e.start}:(n=e.match(/^.[A-Za-z0-9]*/,!0,!1),{cat:"<invalid_token>",style:"error",text:n[0],start:e.start})}();if("<invalid_token>"==n.cat)return 1==t.OK&&(t.OK=!1,recordFailurePos()),t.complete=!1,n.style;if("WS"==n.cat||"COMMENT"==n.cat||n.quotePos&&"end"!=n.quotePos)return t.possibleCurrent=t.possibleNext,n.style;var i,a=!1,s=n.cat;if(!n.quotePos||"end"==n.quotePos)for(;t.stack.length>0&&s&&t.OK&&!a;)if(i=t.stack.pop(),"var"===i&&n.text&&(t.variables[n.text]=n.text),o[i]){var l=o[i][s];if(void 0!=l&&function(e){return(t.allowVars||"var"!=e)&&(t.allowBnodes||"blankNode"!=e&&"blankNodePropertyList"!=e&&"blankNodePropertyListPath"!=e)}(i)){for(var c=l.length-1;c>=0;--c)t.stack.push(l[c]);!function(e){switch(t.inPrefixDecl="prefixDecl"===e,e){case"disallowVars":t.allowVars=!1;break;case"allowVars":t.allowVars=!0;break;case"disallowBnodes":t.allowBnodes=!1;break;case"allowBnodes":t.allowBnodes=!0;break;case"storeProperty":t.storeProperty=!0}}(i)}else t.OK=!1,t.complete=!1,recordFailurePos(),t.stack.push(i)}else if(i==s){t.inPrefixDecl&&("PNAME_NS"===i&&n.text.length>0?t.currentPnameNs=n.text.slice(0,-1):void 0!==t.currentPnameNs&&n.text.length>2&&(t.prefixes[t.currentPnameNs]=n.text.slice(1,-1),t.currentPnameNs=void 0)),a=!0,function(e){null==t.queryType&&("SELECT"!=e&&"CONSTRUCT"!=e&&"ASK"!=e&&"DESCRIBE"!=e&&"INSERT"!=e&&"DELETE"!=e&&"LOAD"!=e&&"CLEAR"!=e&&"CREATE"!=e&&"DROP"!=e&&"COPY"!=e&&"MOVE"!=e&&"ADD"!=e||(t.queryType=e))}(i);for(var p=!0,d=t.stack.length;d>0;--d){var u=o[t.stack[d-1]];u&&u.$||(p=!1)}if(t.complete=p,t.storeProperty&&"punc"!=s.cat&&(t.lastProperty=n.text,t.storeProperty=!1),!t.inPrefixDecl&&("PNAME_NS"===s||"PNAME_LN"===s)){var h=n.text.indexOf(":");if(h>=0){var m=n.text.slice(0,h);!t.prefixes[m]&&["bif","xsd","sql"].indexOf(m)<0&&(t.OK=!1,recordFailurePos(),t.errorMsg="Prefix '"+m+"' is not defined")}}}else t.OK=!1,t.complete=!1,recordFailurePos();return!a&&t.OK&&(t.OK=!1,t.complete=!1,recordFailurePos()),t.possibleCurrent.indexOf("a")>=0&&(t.lastPredicateOffset=n.start),t.possibleCurrent=t.possibleNext,t.possibleNext=getPossibles(t.stack[t.stack.length-1]),n.style}function indent(e,n){if(e.inLiteral)return 0;if(e.stack.length&&"?[or([verbPath,verbSimple]),objectList]"==e.stack[e.stack.length-1])return e.lastPredicateOffset;var r=0,o=e.stack.length-1;if(/^[\}\]\)]/.test(n)){for(var i=n.substr(0,1);o>=0;--o)if(e.stack[o]==i){--o;break}}else{var a=y[e.stack[o]];a&&(r+=a,--o)}for(;o>=0;--o){var a=x[e.stack[o]];a&&(r+=a)}return r*t.indentUnit}var r=(t.indentUnit,e("./_tokenizer-table.js")),o=r.table,i="[0-9A-Fa-f]",a="(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD])(((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))|\\.)*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])))?)?:",s="[eE][\\+-]?[0-9]+",l="(([0-9]+\\.[0-9]*)|(\\.[0-9]+))",c="(([0-9]+\\.[0-9]*"+s+")|(\\.[0-9]+"+s+")|([0-9]+"+s+"))",p="\\\\[tbnrf\\\\\"']",d=i+"{4}",u="(\\\\u"+d+"|\\\\U00(10|0"+i+")"+d+")",f={SINGLE:{CAT:"STRING_LITERAL_LONG1",QUOTES:"'''",CONTENTS:"(('|'')?([^'\\\\]|"+p+"|"+u+"))*"},DOUBLE:{CAT:"STRING_LITERAL_LONG2",QUOTES:'"""',CONTENTS:'(("|"")?([^"\\\\]|'+p+"|"+u+"))*"}};for(var h in f)f[h].COMPLETE=f[h].QUOTES+f[h].CONTENTS+f[h].QUOTES;var g={};for(var h in f)g[h]={complete:{name:"STRING_LITERAL_LONG_"+h,regex:new RegExp("^"+f[h].COMPLETE),style:"string"},contents:{name:"STRING_LITERAL_LONG_"+h,regex:new RegExp("^"+f[h].CONTENTS),style:"string"},closing:{name:"STRING_LITERAL_LONG_"+h,regex:new RegExp("^"+f[h].CONTENTS+f[h].QUOTES),style:"string"},quotes:{name:"STRING_LITERAL_LONG_QUOTES_"+h,regex:new RegExp("^"+f[h].QUOTES),style:"string"}};var m="[\\x20\\x09\\x0D\\x0A]",v="#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)",b=[{name:"WS",regex:new RegExp("^"+m+"+"),style:"ws"},{name:"COMMENT",regex:new RegExp("^"+v),style:"comment"},{name:"IRI_REF",regex:new RegExp('^<[^<>"`|{}^\\\0- ]*>'),style:"variable-3"},{name:"VAR1",regex:new RegExp("^\\?([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])*"),style:"atom"},{name:"VAR2",regex:new RegExp("^\\$([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])*"),style:"atom"},{name:"LANGTAG",regex:new RegExp("^@[a-zA-Z]+(-[a-zA-Z0-9]+)*"),style:"meta"},{name:"DOUBLE",regex:new RegExp("^"+c),style:"number"},{name:"DECIMAL",regex:new RegExp("^"+l),style:"number"},{name:"INTEGER",regex:new RegExp("^[0-9]+"),style:"number"},{name:"DOUBLE_POSITIVE",regex:new RegExp("^\\+(([0-9]+\\.[0-9]*[eE][\\+-]?[0-9]+)|(\\.[0-9]+[eE][\\+-]?[0-9]+)|([0-9]+[eE][\\+-]?[0-9]+))"),style:"number"},{name:"DECIMAL_POSITIVE",regex:new RegExp("^\\+(([0-9]+\\.[0-9]*)|(\\.[0-9]+))"),style:"number"},{name:"INTEGER_POSITIVE",regex:new RegExp("^\\+[0-9]+"),style:"number"},{name:"DOUBLE_NEGATIVE",regex:new RegExp("^-(([0-9]+\\.[0-9]*[eE][\\+-]?[0-9]+)|(\\.[0-9]+[eE][\\+-]?[0-9]+)|([0-9]+[eE][\\+-]?[0-9]+))"),style:"number"},{name:"DECIMAL_NEGATIVE",regex:new RegExp("^-(([0-9]+\\.[0-9]*)|(\\.[0-9]+))"),style:"number"},{name:"INTEGER_NEGATIVE",regex:new RegExp("^-[0-9]+"),style:"number"},{name:"STRING_LITERAL1",regex:new RegExp("^'(([^\\x27\\x5C\\x0A\\x0D])|\\\\[tbnrf\\\\\"']|(\\\\u[0-9A-Fa-f]{4}|\\\\U00(10|0[0-9A-Fa-f])[0-9A-Fa-f]{4}))*'"),style:"string"},{name:"STRING_LITERAL2",regex:new RegExp('^"(([^\\x22\\x5C\\x0A\\x0D])|\\\\[tbnrf\\\\"\']|(\\\\u[0-9A-Fa-f]{4}|\\\\U00(10|0[0-9A-Fa-f])[0-9A-Fa-f]{4}))*"'),style:"string"},{name:"NIL",regex:new RegExp("^\\(([\\x20\\x09\\x0D\\x0A]|(#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)))*\\)"),style:"punc"},{name:"ANON",regex:new RegExp("^\\[([\\x20\\x09\\x0D\\x0A]|(#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)))*\\]"),style:"punc"},{name:"PNAME_LN",regex:new RegExp("^(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD])(((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))|\\.)*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])))?)?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|:|[0-9]|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])))((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.|:|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])))*(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|:|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%]))))?"),style:"string-2"},{name:"PNAME_NS",regex:new RegExp("^"+a),style:"string-2"},{name:"BLANK_NODE_LABEL",regex:new RegExp("^_:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|[0-9])((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.)*([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]))?"),style:"string-2"}],y={"*[,, object]":3,"*[(,),object]":3,"*[(,),objectPath]":3,"*[/,pathEltOrInverse]":2,object:2,objectPath:2,objectList:2,objectListPath:2,storeProperty:2,pathMod:2,"?pathMod":2,propertyListNotEmpty:1,propertyList:1,propertyListPath:1,propertyListPathNotEmpty:1,"?[verb,objectList]":1},x={"}":1,"]":1,")":1,"{":-1,"(":-1,"[":-1};return{token:tokenBase,startState:function(e){return{tokenize:tokenBase,OK:!0,complete:r.acceptEmpty,errorStartPos:null,errorEndPos:null,queryType:null,possibleCurrent:getPossibles(r.startSymbol),possibleNext:getPossibles(r.startSymbol),allowVars:!0,allowBnodes:!0,storeProperty:!1,lastProperty:"",inLiteral:!1,stack:[r.startSymbol],lastPredicateOffset:t.indentUnit,prefixes:{},variables:{}}},indent:indent,electricChars:"}])"}}),r.defineMIME("application/x-sparql-query","sparql11")},{"./_tokenizer-table.js":2,codemirror:14}],4:[function(e,t,n){var r=t.exports=function(){this.words=0,this.prefixes=0,this.children=[]};r.prototype={insert:function(e,t){if(0!=e.length){var n,o,i=this;if(void 0===t&&(t=0),t===e.length)return void i.words++;i.prefixes++,n=e[t],void 0===i.children[n]&&(i.children[n]=new r),o=i.children[n],o.insert(e,t+1)}},remove:function(e,t){if(0!=e.length){var n,r,o=this;if(void 0===t&&(t=0),void 0!==o){if(t===e.length)return void o.words--;o.prefixes--,n=e[t],r=o.children[n],r.remove(e,t+1)}}},update:function(e,t){0!=e.length&&0!=t.length&&(this.remove(e),this.insert(t))},countWord:function(e,t){if(0==e.length)return 0;var n,r,o=this,i=0;return void 0===t&&(t=0),t===e.length?o.words:(n=e[t],r=o.children[n],void 0!==r&&(i=r.countWord(e,t+1)),i)},countPrefix:function(e,t){if(0==e.length)return 0;var n,r,o=this,i=0;if(void 0===t&&(t=0),t===e.length)return o.prefixes;var n=e[t];return r=o.children[n],void 0!==r&&(i=r.countPrefix(e,t+1)),i},find:function(e){return 0!=e.length&&this.countWord(e)>0},getAllWords:function(e){var t,n,r=this,o=[];if(void 0===e&&(e=""),void 0===r)return[];r.words>0&&o.push(e);for(t in r.children)r.children.hasOwnProperty(t)&&(n=r.children[t],o=o.concat(n.getAllWords(e+t)));return o},autoComplete:function(e,t){var n,r,o=this;return 0==e.length?void 0===t?o.getAllWords(e):[]:(void 0===t&&(t=0),n=e[t],r=o.children[n],void 0===r?[]:t===e.length-1?r.getAllWords(e):r.autoComplete(e,t+1))}}},{}],5:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";function setFullscreen(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function setNormal(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,function(t,n,r){r==e.Init&&(r=!1),!r!=!n&&(n?setFullscreen(t):setNormal(t))})})},{"../../lib/codemirror":14}],6:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){function findMatchingBracket(e,t,o,i){var a=e.getLineHandle(t.line),s=t.ch-1,l=s>=0&&r[a.text.charAt(s)]||r[a.text.charAt(++s)];if(!l)return null;var c=">"==l.charAt(1)?1:-1;if(o&&c>0!=(s==t.ch))return null;var p=e.getTokenTypeAt(n(t.line,s+1)),d=scanForBracket(e,n(t.line,s+(c>0?1:0)),c,p||null,i);return null==d?null:{from:n(t.line,s),to:d&&d.pos,match:d&&d.ch==l.charAt(0),forward:c>0}}function scanForBracket(e,t,o,i,a){for(var s=a&&a.maxScanLineLength||1e4,l=a&&a.maxScanLines||1e3,c=[],p=a&&a.bracketRegex?a.bracketRegex:/[(){}[\]]/,d=o>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),u=t.line;u!=d;u+=o){var f=e.getLine(u);if(f){var h=o>0?0:f.length-1,g=o>0?f.length:-1;if(!(f.length>s))for(u==t.line&&(h=t.ch-(o<0?1:0));h!=g;h+=o){var m=f.charAt(h);if(p.test(m)&&(void 0===i||e.getTokenTypeAt(n(u,h+1))==i)){var v=r[m];if(">"==v.charAt(1)==o>0)c.push(m);else{if(!c.length)return{pos:n(u,h),ch:m};c.pop()}}}}}return u-o!=(o>0?e.lastLine():e.firstLine())&&null}function matchBrackets(e,r,o){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],s=e.listSelections(),l=0;l<s.length;l++){var c=s[l].empty()&&findMatchingBracket(e,s[l].head,!1,o);if(c&&e.getLine(c.from.line).length<=i){var p=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(c.from,n(c.from.line,c.from.ch+1),{className:p})),c.to&&e.getLine(c.to.line).length<=i&&a.push(e.markText(c.to,n(c.to.line,c.to.ch+1),{className:p}))}}if(a.length){t&&e.state.focused&&e.focus();var d=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!r)return d;setTimeout(d,800)}}function doMatchBrackets(e){e.operation(function(){o&&(o(),o=null),o=matchBrackets(e,!1,e.state.matchBrackets)})}var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},o=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&t.off("cursorActivity",doMatchBrackets),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",doMatchBrackets))}),e.defineExtension("matchBrackets",function(){matchBrackets(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,n){return findMatchingBracket(this,e,t,n)}),e.defineExtension("scanForBracket",function(e,t,n,r){return scanForBracket(this,e,t,n,r)})})},{"../../lib/codemirror":14}],7:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function findOpening(a){for(var s=n.ch,l=0;;){var c=s<=0?-1:i.lastIndexOf(a,s-1);if(-1!=c){if(1==l&&c<n.ch)break;if(r=t.getTokenTypeAt(e.Pos(o,c+1)),!/^(comment|string)/.test(r))return c+1;s=c-1}else{if(1==l)break;l=1,s=i.length}}}var r,o=n.line,i=t.getLine(o),a="{",s="}",l=findOpening("{");if(null==l&&(a="[",s="]",l=findOpening("[")),null!=l){var c,p,d=1,u=t.lastLine();e:for(var f=o;f<=u;++f)for(var h=t.getLine(f),g=f==o?l:0;;){var m=h.indexOf(a,g),v=h.indexOf(s,g);if(m<0&&(m=h.length),v<0&&(v=h.length),(g=Math.min(m,v))==h.length)break;if(t.getTokenTypeAt(e.Pos(f,g+1))==r)if(g==m)++d;else if(!--d){c=f,p=g;break e}++g}if(null!=c&&(o!=c||p!=l))return{from:e.Pos(o,l),to:e.Pos(c,p)}}}),e.registerHelper("fold","import",function(t,n){function hasImport(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var o=n,i=Math.min(t.lastLine(),n+10);o<=i;++o){var a=t.getLine(o),s=a.indexOf(";");if(-1!=s)return{startCh:r.end,end:e.Pos(o,s)}}}var r,o=n.line,i=hasImport(o);if(!i||hasImport(o-1)||(r=hasImport(o-2))&&r.end.line==o-1)return null;for(var a=i.end;;){var s=hasImport(a.line+1);if(null==s)break;a=s.end}return{from:t.clipPos(e.Pos(o,i.startCh+1)),to:a}}),e.registerHelper("fold","include",function(t,n){function hasInclude(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var r=n.line,o=hasInclude(r);if(null==o||null!=hasInclude(r-1))return null;for(var i=r;;){if(null==hasInclude(i+1))break;++i}return{from:e.Pos(r,o+1),to:t.clipPos(e.Pos(i))}})})},{"../../lib/codemirror":14}],8:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";function doFold(t,n,r,o){function getRange(e){var r=i(t,n);if(!r||r.to.line-r.from.line<a)return null;for(var s=t.findMarksAt(r.from),l=0;l<s.length;++l)if(s[l].__isFold&&"fold"!==o){if(!e)return null;r.cleared=!0,s[l].clear()}return r}if(r&&r.call){var i=r;r=null}else var i=getOption(t,r,"rangeFinder");"number"==typeof n&&(n=e.Pos(n,0));var a=getOption(t,r,"minFoldSize"),s=getRange(!0);if(getOption(t,r,"scanUp"))for(;!s&&n.line>t.firstLine();)n=e.Pos(n.line-1,0),s=getRange(!1);if(s&&!s.cleared&&"unfold"!==o){var l=makeWidget(t,r);e.on(l,"mousedown",function(t){c.clear(),e.e_preventDefault(t)});var c=t.markText(s.from,s.to,{replacedWith:l,clearOnEnter:getOption(t,r,"clearOnEnter"),__isFold:!0});c.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,s.from,s.to)}}function makeWidget(e,t){var n=getOption(e,t,"widget");if("string"==typeof n){var r=document.createTextNode(n);n=document.createElement("span"),n.appendChild(r),n.className="CodeMirror-foldmarker"}return n}function getOption(e,n,r){if(n&&void 0!==n[r])return n[r];var o=e.options.foldOptions;return o&&void 0!==o[r]?o[r]:t[r]}e.newFoldFunction=function(e,t){return function(n,r){doFold(n,r,{rangeFinder:e,widget:t})}},e.defineExtension("foldCode",function(e,t,n){doFold(this,e,t,n)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var o=e[r](t,n);if(o)return o}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var o=n[r](e,t);if(o)return o}});var t={rangeFinder:e.fold.auto,widget:"",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return getOption(this,e,t)})})},{"../../lib/codemirror":14}],9:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror"),e("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],r):r(CodeMirror)}(function(e){"use strict";function State(e){this.options=e,this.from=this.to=0}function parseOptions(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function isFolded(e,n){for(var r=e.findMarks(t(n,0),t(n+1,0)),o=0;o<r.length;++o)if(r[o].__isFold&&r[o].find().from.line==n)return r[o]}function marker(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function updateFoldInfo(e,n,r){var o=e.state.foldGutter.options,i=n,a=e.foldOption(o,"minFoldSize"),s=e.foldOption(o,"rangeFinder");e.eachLine(n,r,function(n){var r=null;if(isFolded(e,i))r=marker(o.indicatorFolded);else{var l=t(i,0),c=s&&s(e,l);c&&c.to.line-c.from.line>=a&&(r=marker(o.indicatorOpen))}e.setGutterMarker(n,o.gutter,r),++i})}function updateInViewport(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){updateFoldInfo(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function onGutterClick(e,n,r){var o=e.state.foldGutter;if(o){var i=o.options;if(r==i.gutter){var a=isFolded(e,n);a?a.clear():e.foldCode(t(n,0),i.rangeFinder)}}}function onChange(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){updateInViewport(e)},n.foldOnChangeTimeSpan||600)}}function onViewportChange(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?updateInViewport(e):e.operation(function(){n.from<t.from&&(updateFoldInfo(e,n.from,t.from),t.from=n.from),n.to>t.to&&(updateFoldInfo(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function onFold(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&updateFoldInfo(e,r,r+1)}}e.defineOption("foldGutter",!1,function(t,n,r){r&&r!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",onGutterClick),t.off("change",onChange),t.off("viewportChange",onViewportChange),t.off("fold",onFold),t.off("unfold",onFold),t.off("swapDoc",onChange)),n&&(t.state.foldGutter=new State(parseOptions(n)),updateInViewport(t),t.on("gutterClick",onGutterClick),t.on("change",onChange),t.on("viewportChange",onViewportChange),t.on("fold",onFold),t.on("unfold",onFold),t.on("swapDoc",onChange))});var t=e.Pos})},{"../../lib/codemirror":14,"./foldcode":8}],10:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";function cmp(e,t){return e.line-t.line||e.ch-t.ch}function Iter(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?r.from:e.firstLine(),this.max=r?r.to-1:e.lastLine()}function tagAt(e,n){var r=e.cm.getTokenTypeAt(t(e.line,n));return r&&/\btag\b/.test(r)}function nextLine(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function prevLine(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function toTagEnd(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(nextLine(e))continue;return}{if(tagAt(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t+1}}}function toTagStart(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(prevLine(e))continue;return}if(tagAt(e,t+1)){r.lastIndex=t,e.ch=t;var n=r.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function toNextTag(e){for(;;){r.lastIndex=e.ch;var t=r.exec(e.text);if(!t){if(nextLine(e))continue;return}{if(tagAt(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function toPrevTag(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(prevLine(e))continue;return}{if(tagAt(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}}function findMatchingClose(e,n){for(var r=[];;){var o,i=toNextTag(e),a=e.line,s=e.ch-(i?i[0].length:0);if(!i||!(o=toTagEnd(e)))return;if("selfClose"!=o)if(i[1]){for(var l=r.length-1;l>=0;--l)if(r[l]==i[2]){r.length=l;break}if(l<0&&(!n||n==i[2]))return{tag:i[2],from:t(a,s),to:t(e.line,e.ch)}}else r.push(i[2])}}function findMatchingOpen(e,n){for(var r=[];;){var o=toPrevTag(e);if(!o)return;if("selfClose"!=o){var i=e.line,a=e.ch,s=toTagStart(e);if(!s)return;if(s[1])r.push(s[2]);else{for(var l=r.length-1;l>=0;--l)if(r[l]==s[2]){r.length=l;break}if(l<0&&(!n||n==s[2]))return{tag:s[2],from:t(e.line,e.ch),to:t(i,a)}}}else toTagStart(e)}}var t=e.Pos,n="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=new RegExp("<(/?)(["+n+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");e.registerHelper("fold","xml",function(e,n){for(var r=new Iter(e,n.line,0);;){var o,i=toNextTag(r);if(!i||r.line!=n.line||!(o=toTagEnd(r)))return;if(!i[1]&&"selfClose"!=o){var a=t(r.line,r.ch),s=findMatchingClose(r,i[2]);return s&&{from:a,to:s.from}}}}),e.findMatchingTag=function(e,n,r){var o=new Iter(e,n.line,n.ch,r);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var i=toTagEnd(o),a=i&&t(o.line,o.ch),s=i&&toTagStart(o);if(i&&s&&!(cmp(o,n)>0)){var l={from:t(o.line,o.ch),to:a,tag:s[2]};return"selfClose"==i?{open:l,close:null,at:"open"}:s[1]?{open:findMatchingOpen(o,s[2]),close:l,at:"close"}:(o=new Iter(e,a.line,a.ch,r),{open:l,close:findMatchingClose(o,s[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,n){for(var r=new Iter(e,t.line,t.ch,n);;){var o=findMatchingOpen(r);if(!o)break;var i=new Iter(e,t.line,t.ch,n),a=findMatchingClose(i,o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,n,r){return findMatchingClose(new Iter(e,t.line,t.ch,r?{from:0,to:r}:null),n)}})},{"../../lib/codemirror":14}],11:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";function Completion(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function isNewCompletion(t,n){return e.cmpPos(n.from,t.from)>0&&t.to.ch-t.from.ch!=n.to.ch-n.from.ch}function parseOptions(e,t,n){var r=e.options.hintOptions,o={};for(var a in i)o[a]=i[a];if(r)for(var a in r)void 0!==r[a]&&(o[a]=r[a]);if(n)for(var a in n)void 0!==n[a]&&(o[a]=n[a]);return o.hint.resolve&&(o.hint=o.hint.resolve(e,t)),o}function getText(e){return"string"==typeof e?e:e.text}function buildKeyMap(e,t){function addBinding(e,r){var i;i="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,o[e]=i}var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=e.options.customKeys,o=r?{}:n;if(r)for(var i in r)r.hasOwnProperty(i)&&addBinding(i,r[i]);var a=e.options.extraKeys;if(a)for(var i in a)a.hasOwnProperty(i)&&addBinding(i,a[i]);return o}function getHintElement(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function Widget(r,o){this.completion=r,this.data=o,this.picked=!1;var i=this,a=r.cm,s=this.hints=document.createElement("ul");s.className="CodeMirror-hints",this.selectedHint=o.selectedHint||0;for(var l=o.list,c=0;c<l.length;++c){var p=s.appendChild(document.createElement("li")),d=l[c],u=t+(c!=this.selectedHint?"":" "+n);null!=d.className&&(u=d.className+" "+u),p.className=u,d.render?d.render(p,o,d):p.appendChild(document.createTextNode(d.displayText||getText(d))),p.hintId=c}var f=a.cursorCoords(r.options.alignWithWord?o.from:null),h=f.left,g=f.bottom,m=!0;s.style.left=h+"px",s.style.top=g+"px";var v=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),b=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(r.options.container||document.body).appendChild(s);var y=s.getBoundingClientRect(),x=y.bottom-b,C=s.scrollHeight>s.clientHeight+1,R=a.getScrollInfo();if(x>0){var S=y.bottom-y.top;if(f.top-(f.bottom-y.top)-S>0)s.style.top=(g=f.top-S)+"px",m=!1;else if(S>b){s.style.height=b-5+"px",s.style.top=(g=f.bottom-y.top)+"px";var P=a.getCursor();o.from.ch!=P.ch&&(f=a.cursorCoords(P),s.style.left=(h=f.left)+"px",y=s.getBoundingClientRect())}}var E=y.right-v;if(E>0&&(y.right-y.left>v&&(s.style.width=v-5+"px",E-=y.right-y.left-v),s.style.left=(h=f.left-E)+"px"),C)for(var w=s.firstChild;w;w=w.nextSibling)w.style.paddingRight=a.display.nativeBarWidth+"px";if(a.addKeyMap(this.keyMap=buildKeyMap(r,{moveFocus:function(e,t){i.changeActive(i.selectedHint+e,t)},setFocus:function(e){i.changeActive(e)},menuSize:function(){return i.screenAmount()},length:l.length,close:function(){r.close()},pick:function(){i.pick()},data:o})),r.options.closeOnUnfocus){var I;a.on("blur",this.onBlur=function(){I=setTimeout(function(){r.close()},100)}),a.on("focus",this.onFocus=function(){clearTimeout(I)})}return a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),t=a.getWrapperElement().getBoundingClientRect(),n=g+R.top-e.top,o=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(m||(o+=s.offsetHeight),o<=t.top||o>=t.bottom)return r.close();s.style.top=n+"px",s.style.left=h+R.left-e.left+"px"}),e.on(s,"dblclick",function(e){var t=getHintElement(s,e.target||e.srcElement);t&&null!=t.hintId&&(i.changeActive(t.hintId),i.pick())}),e.on(s,"click",function(e){var t=getHintElement(s,e.target||e.srcElement);t&&null!=t.hintId&&(i.changeActive(t.hintId),r.options.completeOnSingleClick&&i.pick())}),e.on(s,"mousedown",function(){setTimeout(function(){a.focus()},20)}),e.signal(o,"select",l[0],s.firstChild),!0}function applicableHelpers(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}function fetchHints(e,t,n,r){if(e.async)e(t,r,n);else{var o=e(t,n);o&&o.then?o.then(r):r(o)}}function resolveAutoHints(t,n){var r,o=t.getHelpers(n,"hint");if(o.length){var i=function(e,t,n){function run(o){if(o==r.length)return t(null);fetchHints(r[o],e,n,function(e){e&&e.list.length>0?t(e):run(o+1)})}var r=applicableHelpers(e,o);run(0)};return i.async=!0,i.supportsSelection=!0,i}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}var t="CodeMirror-hint",n="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var o in n)r[o]=n[o];return e.showHint(r)},e.defineExtension("showHint",function(t){t=parseOptions(this,this.getCursor("start"),t);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var r=0;r<n.length;r++)if(n[r].head.line!=n[r].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new Completion(this,t);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}});var r=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;Completion.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(getText(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=r(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;fetchHints(this.options.hint,this.cm,this.options,function(r){t.tick==n&&t.finishUpdate(r,e)})}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&isNewCompletion(this.data,t)||(this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new Widget(this,t),e.signal(t,"shown"))))}},Widget.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,r){if(t>=this.data.list.length?t=r?this.data.list.length-1:0:t<0&&(t=r?0:this.data.list.length-1),this.selectedHint!=t){var o=this.hints.childNodes[this.selectedHint];o.className=o.className.replace(" "+n,""),o=this.hints.childNodes[this.selectedHint=t],o.className+=" "+n,o.offsetTop<this.hints.scrollTop?this.hints.scrollTop=o.offsetTop-3:o.offsetTop+o.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=o.offsetTop+o.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],o)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:resolveAutoHints}),e.registerHelper("hint","fromList",function(t,n){var r=t.getCursor(),o=t.getTokenAt(r),i=e.Pos(r.line,o.end);if(o.string&&/\w/.test(o.string[o.string.length-1]))var a=o.string,s=e.Pos(r.line,o.start);else var a="",s=i;for(var l=[],c=0;c<n.words.length;c++){var p=n.words[c];p.slice(0,a.length)==a&&l.push(p)}if(l.length)return{list:l,from:s,to:i}}),e.commands.autocomplete=e.showHint;var i={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)})},{"../../lib/codemirror":14}],12:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";e.runMode=function(t,n,r,o){var i=e.getMode(e.defaults,n),a=/MSIE \d/.test(navigator.userAgent),s=a&&(null==document.documentMode||document.documentMode<9);if(r.appendChild){var l=o&&o.tabSize||e.defaults.tabSize,c=r,p=0;c.innerHTML="",r=function(e,t){if("\n"==e)return c.appendChild(document.createTextNode(s?"\r":e)),void(p=0);for(var n="",r=0;;){var o=e.indexOf("\t",r);if(-1==o){n+=e.slice(r),p+=e.length-r;break}p+=o-r,n+=e.slice(r,o);var i=l-p%l;p+=i;for(var a=0;a<i;++a)n+=" ";r=o+1}if(t){var d=c.appendChild(document.createElement("span"));d.className="cm-"+t.replace(/ +/g," cm-"),d.appendChild(document.createTextNode(n))}else c.appendChild(document.createTextNode(n))}}for(var d=e.splitLines(t),u=o&&o.state||e.startState(i),f=0,h=d.length;f<h;++f){f&&r("\n");var g=new e.StringStream(d[f]);for(!g.string&&i.blankLine&&i.blankLine(u);!g.eol();){var m=i.token(g,u);r(g.current(),m,f,g.start,u),g.start=g.pos}}}})},{"../../lib/codemirror":14}],13:[function(e,t,n){!function(r){"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}(function(e){"use strict";function SearchCursor(e,n,r,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof n&&(o=!1),r=r?e.clipPos(r):t(0,0),this.pos={from:r,to:r},"string"!=typeof n)n.global||(n=new RegExp(n.source,n.ignoreCase?"ig":"g")),this.matches=function(r,o){if(r){n.lastIndex=0;for(var i,a,s=e.getLine(o.line).slice(0,o.ch),l=0;;){n.lastIndex=l;var c=n.exec(s);if(!c)break;if(i=c,a=i.index,(l=i.index+(i[0].length||1))==s.length)break}var p=i&&i[0].length||0;p||(0==a&&0==s.length?i=void 0:a!=e.getLine(o.line).length&&p++)}else{n.lastIndex=o.ch;var s=e.getLine(o.line),i=n.exec(s),p=i&&i[0].length||0,a=i&&i.index;a+p==s.length||p||(p=1)}if(i&&p)return{from:t(o.line,a),to:t(o.line,a+p),match:i}};else{var i=n;o&&(n=n.toLowerCase());var a=o?function(e){return e.toLowerCase()}:function(e){return e},s=n.split("\n");if(1==s.length)n.length?this.matches=function(r,o){if(r){var s=e.getLine(o.line).slice(0,o.ch),l=a(s),c=l.lastIndexOf(n);if(c>-1)return c=adjustPos(s,l,c),{from:t(o.line,c),to:t(o.line,c+i.length)}}else{var s=e.getLine(o.line).slice(o.ch),l=a(s),c=l.indexOf(n);if(c>-1)return c=adjustPos(s,l,c)+o.ch,{from:t(o.line,c),to:t(o.line,c+i.length)}}}:this.matches=function(){};else{var l=i.split("\n");this.matches=function(n,r){var o=s.length-1;if(n){if(r.line-(s.length-1)<e.firstLine())return;if(a(e.getLine(r.line).slice(0,l[o].length))!=s[s.length-1])return;for(var i=t(r.line,l[o].length),c=r.line-1,p=o-1;p>=1;--p,--c)if(s[p]!=a(e.getLine(c)))return;var d=e.getLine(c),u=d.length-l[0].length;if(a(d.slice(u))!=s[0])return;return{from:t(c,u),to:i}}if(!(r.line+(s.length-1)>e.lastLine())){var d=e.getLine(r.line),u=d.length-l[0].length;if(a(d.slice(u))==s[0]){for(var f=t(r.line,u),c=r.line+1,p=1;p<o;++p,++c)if(s[p]!=a(e.getLine(c)))return;if(a(e.getLine(c).slice(0,l[o].length))==s[o])return{from:f,to:t(c,l[o].length)}}}}}}}function adjustPos(e,t,n){if(e.length==t.length)return n;for(var r=Math.min(n,e.length);;){var o=e.slice(0,r).toLowerCase().length;if(o<n)++r;else{if(!(o>n))return r;--r}}}var t=e.Pos;SearchCursor.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function savePosAndFail(e){var r=t(e,0);return n.pos={from:r,to:r},n.atOccurrence=!1,!1}for(var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return savePosAndFail(0);r=t(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return savePosAndFail(o);r=t(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(n,r){if(this.atOccurrence){var o=e.splitLines(n);this.doc.replaceRange(o,this.pos.from,this.pos.to,r),this.pos.to=t(this.pos.from.line+o.length-1,o[o.length-1].length+(1==o.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new SearchCursor(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new SearchCursor(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],o=this.getSearchCursor(t,this.getCursor("from"),n);o.findNext()&&!(e.cmpPos(o.to(),this.getCursor("to"))>0);)r.push({anchor:o.from(),head:o.to()});r.length&&this.setSelections(r,0)})})},{"../../lib/codemirror":14}],14:[function(e,t,n){!function(e){if("object"==typeof n&&"object"==typeof t)t.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function CodeMirror(e,t){if(!(this instanceof CodeMirror))return new CodeMirror(e,t);this.options=t=t?copyObj(t):{},copyObj(V,t,!1),setGuttersForLineNumbers(t);var n=t.value;"string"==typeof n&&(n=new pe(n,t.mode,null,t.lineSeparator)),this.doc=n;var r=new CodeMirror.inputStyles[t.inputStyle](this),o=this.display=new Display(e,n,r);o.wrapper.CodeMirror=this,updateGutters(this),themeChanged(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!g&&o.input.focus(),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null};var l=this;i&&a<11&&setTimeout(function(){l.display.input.reset(!0)},20),registerEventHandlers(this),ensureGlobalHandlers(),startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,n),t.autofocus&&!g||l.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this);for(var c in G)G.hasOwnProperty(c)&&G[c](this,t[c],B);maybeUpdateLineNumberWidth(this),t.finishInit&&t.finishInit(this);for(var p=0;p<q.length;++p)q[p](this);endOperation(this),s&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Display(e,t,r){var o=this;this.input=r,o.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=elt("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=elt("div",null,"CodeMirror-code"),o.selectionDiv=elt("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=elt("div",null,"CodeMirror-cursors"),o.measure=elt("div",null,"CodeMirror-measure"),o.lineMeasure=elt("div",null,"CodeMirror-measure"),o.lineSpace=elt("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none"),o.mover=elt("div",[elt("div",[o.lineSpace],"CodeMirror-lines")],null,"position: relative"),o.sizer=elt("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=elt("div",null,null,"position: absolute; height: "+Ce+"px; width: 1px;"),o.gutters=elt("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=elt("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=elt("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),i&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),s||n&&g||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,r.init(o)}function loadMode(e){e.doc.mode=CodeMirror.getMode(e.options,e.doc.modeOption),resetModeState(e)}function resetModeState(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,startWorker(e,100),e.state.modeGen++,e.curOp&&regChange(e)}function wrappingChanged(e){e.options.lineWrapping?(Fe(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(je(e.display.wrapper,"CodeMirror-wrap"),findMaxLine(e)),estimateLineHeights(e),regChange(e),clearCaches(e),setTimeout(function(){updateScrollbars(e)},100)}function estimateHeight(e){var t=textHeight(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/charWidth(e.display)-3);return function(o){if(lineIsHidden(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function estimateLineHeights(e){var t=e.doc,n=estimateHeight(e);t.iter(function(e){var t=n(e);t!=e.height&&updateLineHeight(e,t)})}function themeChanged(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),clearCaches(e)}function guttersChanged(e){updateGutters(e),regChange(e),setTimeout(function(){alignHorizontally(e)},20)}function updateGutters(e){var t=e.display.gutters,n=e.options.gutters;removeChildren(t);for(var r=0;r<n.length;++r){var o=n[r],i=t.appendChild(elt("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(e.display.lineGutter=i,i.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",updateGutterSpace(e)}function updateGutterSpace(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function lineLength(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=collapsedSpanAtStart(r);){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}for(r=e;t=collapsedSpanAtEnd(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function findMaxLine(e){var t=e.display,n=e.doc;t.maxLine=getLine(n,n.first),t.maxLineLength=lineLength(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=lineLength(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function setGuttersForLineNumbers(e){var t=indexOf(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function measureForScrollbars(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+paddingVert(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+scrollGap(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function NativeScrollbars(e,t,n){this.cm=n;var r=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(o),me(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),me(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,i&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function NullScrollbars(){}function initScrollbars(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&je(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new CodeMirror.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),me(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?setScrollLeft(e,t):setScrollTop(e,t)},e),e.display.scrollbars.addClass&&Fe(e.display.wrapper,e.display.scrollbars.addClass)}function updateScrollbars(e,t){t||(t=measureForScrollbars(e));var n=e.display.barWidth,r=e.display.barHeight;updateScrollbarsInner(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&updateHeightsInViewport(e),updateScrollbarsInner(e,measureForScrollbars(e)),n=e.display.barWidth,r=e.display.barHeight}function updateScrollbarsInner(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function visibleLines(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-paddingTop(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=lineAtHeight(t,r),a=lineAtHeight(t,o);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<i?(i=s,a=lineAtHeight(t,heightAtLine(getLine(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(i=lineAtHeight(t,heightAtLine(getLine(t,l))-e.wrapper.clientHeight),a=l)}return{from:i,to:Math.max(a,i+1)}}function alignHorizontally(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=compensateForHScroll(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=i);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function maybeUpdateLineNumberWidth(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=lineNumberFor(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(elt("div",[elt("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",updateGutterSpace(e),!0}return!1}function lineNumberFor(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function compensateForHScroll(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function DisplayUpdate(e,t,n){var r=e.display;this.viewport=t,this.visible=visibleLines(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(e),this.force=n,this.dims=getDimensions(e),this.events=[]}function maybeClipScrollbars(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=scrollGap(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=scrollGap(e)+"px",t.scrollbarsClipped=!0)}function updateDisplayIfNeeded(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return resetView(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==countDirtyView(e))return!1;maybeUpdateLineNumberWidth(e)&&(resetView(e),t.dims=getDimensions(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),S&&(i=visualLineNo(e.doc,i),a=visualLineEndNo(e.doc,a));var s=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;adjustView(e,i,a),n.viewOffset=heightAtLine(getLine(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=countDirtyView(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=activeElt();return l>4&&(n.lineDiv.style.display="none"),patchDisplay(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&activeElt()!=c&&c.offsetHeight&&c.focus(),removeChildren(n.cursorDiv),removeChildren(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,startWorker(e,400)),n.updateLineNumbers=null,!0}function postUpdateDisplay(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=displayWidth(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+paddingVert(e.display)-displayHeight(e),n.top)}),t.visible=visibleLines(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&updateDisplayIfNeeded(e,t);r=!1){updateHeightsInViewport(e);var o=measureForScrollbars(e);updateSelection(e),updateScrollbars(e,o),setDocumentHeight(e,o)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function updateDisplaySimple(e,t){var n=new DisplayUpdate(e,t);if(updateDisplayIfNeeded(e,n)){updateHeightsInViewport(e),postUpdateDisplay(e,n);var r=measureForScrollbars(e);updateSelection(e),updateScrollbars(e,r),setDocumentHeight(e,r),n.finish()}}function setDocumentHeight(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+scrollGap(e)+"px"}function updateHeightsInViewport(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var o,s=t.view[r];if(!s.hidden){if(i&&a<8){var l=s.node.offsetTop+s.node.offsetHeight;o=l-n,n=l}else{var c=s.node.getBoundingClientRect();o=c.bottom-c.top}var p=s.line.height-o;if(o<2&&(o=textHeight(t)),(p>.001||p<-.001)&&(updateLineHeight(s.line,o),updateWidgetHeight(s.line),s.rest))for(var d=0;d<s.rest.length;d++)updateWidgetHeight(s.rest[d])}}}function updateWidgetHeight(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function getDimensions(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a)n[e.options.gutters[a]]=i.offsetLeft+i.clientLeft+o,r[e.options.gutters[a]]=i.clientWidth;return{fixedPos:compensateForHScroll(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function patchDisplay(e,t,n){function rm(t){var n=t.nextSibling;return s&&m&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,a=i.firstChild,l=r.view,c=r.viewFrom,p=0;p<l.length;p++){var d=l[p];if(d.hidden);else if(d.node&&d.node.parentNode==i){for(;a!=d.node;)a=rm(a);var u=o&&null!=t&&t<=c&&d.lineNumber;d.changes&&(indexOf(d.changes,"gutter")>-1&&(u=!1),updateLineForChanges(e,d,c,n)),u&&(removeChildren(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(lineNumberFor(e.options,c)))),a=d.node.nextSibling}else{var f=buildLineElement(e,d,c,n);i.insertBefore(f,a)}c+=d.size}for(;a;)a=rm(a)}function updateLineForChanges(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?updateLineText(e,t):"gutter"==i?updateLineGutter(e,t,n,r):"class"==i?updateLineClasses(t):"widget"==i&&updateLineWidgets(e,t,r)}t.changes=null}function ensureLineWrapped(e){return e.node==e.text&&(e.node=elt("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),i&&a<8&&(e.node.style.zIndex=2)),e.node}function updateLineBackground(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=ensureLineWrapped(e);e.background=n.insertBefore(elt("div",null,t),n.firstChild)}}function getLineContent(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):buildLineContent(e,t)}function updateLineText(e,t){var n=t.text.className,r=getLineContent(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,updateLineClasses(t)):n&&(t.text.className=n)}function updateLineClasses(e){updateLineBackground(e),e.line.wrapClass?ensureLineWrapped(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function updateLineGutter(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=ensureLineWrapped(t);t.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var o=ensureLineWrapped(t),a=t.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),o.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(elt("div",lineNumberFor(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=i.hasOwnProperty(l)&&i[l];c&&a.appendChild(elt("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function updateLineWidgets(e,t,n){t.alignable&&(t.alignable=null);for(var r,o=t.node.firstChild;o;o=r){var r=o.nextSibling;"CodeMirror-linewidget"==o.className&&t.node.removeChild(o)}insertLineWidgets(e,t,n)}function buildLineElement(e,t,n,r){var o=getLineContent(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),updateLineClasses(t),updateLineGutter(e,t,n,r),insertLineWidgets(e,t,r),t.node}function insertLineWidgets(e,t,n){if(insertLineWidgetsFor(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)insertLineWidgetsFor(e,t.rest[r],t,n,!1)}function insertLineWidgetsFor(e,t,n,r,o){if(t.widgets)for(var i=ensureLineWrapped(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=elt("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),positionLineWidget(l,c,n,r),e.display.input.setUneditable(c),o&&l.above?i.insertBefore(c,n.gutter||n.text):i.appendChild(c),signalLater(l,"redraw")}}function positionLineWidget(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function copyPos(e){return P(e.line,e.ch)}function maxPos(e,t){return E(e,t)<0?t:e}function minPos(e,t){return E(e,t)<0?e:t}function ensureFocus(e){e.state.focused||(e.display.input.focus(),onFocus(e))}function applyTextInput(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=e.state.pasteIncoming||"paste"==o,s=i.splitLines(t),l=null;if(a&&r.ranges.length>1)if(w&&w.text.join("\n")==t){if(r.ranges.length%w.text.length==0){l=[];for(var c=0;c<w.text.length;c++)l.push(i.splitLines(w.text[c]))}}else s.length==r.ranges.length&&(l=map(s,function(e){return[e]}));for(var c=r.ranges.length-1;c>=0;c--){var p=r.ranges[c],d=p.from(),u=p.to();p.empty()&&(n&&n>0?d=P(d.line,d.ch-n):e.state.overwrite&&!a?u=P(u.line,Math.min(getLine(i,u.line).text.length,u.ch+lst(s).length)):w&&w.lineWise&&w.text.join("\n")==t&&(d=u=P(d.line,0)));var f=e.curOp.updateInput,h={from:d,to:u,text:l?l[c%l.length]:s,origin:o||(a?"paste":e.state.cutIncoming?"cut":"+input")};makeChange(e.doc,h),signalLater(e,"inputRead",e,h)}t&&!a&&triggerElectric(e,t),ensureCursorVisible(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function handlePaste(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||runInOp(t,function(){applyTextInput(t,n,0,null,"paste")}),!0}function triggerElectric(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(t.indexOf(i.electricChars.charAt(s))>-1){a=indentLine(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(getLine(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=indentLine(e,o.head.line,"smart"));a&&signalLater(e,"electricInput",e,o.head.line)}}}function copyableRanges(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:P(o,0),head:P(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function disableBrowserMagic(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function TextareaInput(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Delayed,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function hiddenTextarea(){var e=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=elt("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return s?e.style.width="1000px":e.setAttribute("wrap","off"),h&&(e.style.border="1px solid black"),disableBrowserMagic(e),t}function ContentEditableInput(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Delayed,this.gracePeriod=!1}function posToDOM(e,t){var n=findViewForLine(e,t.line);if(!n||n.hidden)return null;var r=getLine(e.doc,t.line),o=mapFromLineView(n,r,t.line),i=getOrder(r),a="left";if(i){a=getBidiPartAt(i,t.ch)%2?"right":"left"}var s=nodeAndOffsetInLineMap(o.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function badPos(e,t){return t&&(e.bad=!0),e}function domToPos(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return badPos(e.clipPos(P(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return locateNodeInLineView(i,t,n)}}function locateNodeInLineView(e,t,n){function find(t,n,r){for(var o=-1;o<(c?c.length:0);o++)for(var i=o<0?l.map:c[o],a=0;a<i.length;a+=3){var s=i[a+2];if(s==t||s==n){var p=lineNo(o<0?e.line:e.rest[o]),d=i[a]+r;return(r<0||s!=t)&&(d=i[a+(r?1:0)]),P(p,d)}}}var r=e.text.firstChild,o=!1;if(!t||!Ne(r,t))return badPos(P(lineNo(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var i=e.rest?lst(e.rest):e.line;return badPos(P(lineNo(i),i.text.length),o)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,c=l.maps,p=find(a,s,n);if(p)return badPos(p,o);for(var d=s.nextSibling,u=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(p=find(d,d.firstChild,0))return badPos(P(p.line,p.ch-u),o);u+=d.textContent.length}for(var f=s.previousSibling,u=n;f;f=f.previousSibling){if(p=find(f,f.firstChild,-1))return badPos(P(p.line,p.ch+u),o);u+=d.textContent.length}}function domTextBetween(e,t,n,r,o){function recognizeMarker(e){return function(t){return t.id==e}}function walk(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(i+=n);var l,c=t.getAttribute("cm-marker");if(c){var p=e.findMarks(P(r,0),P(o+1,0),recognizeMarker(+c));return void(p.length&&(l=p[0].find())&&(i+=getBetween(e.doc,l.from,l.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)walk(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var u=t.nodeValue;if(!u)return;a&&(i+=s,a=!1),i+=u}}for(var i="",a=!1,s=e.doc.lineSeparator();walk(t),t!=n;)t=t.nextSibling;return i}function Selection(e,t){this.ranges=e,this.primIndex=t}function Range(e,t){this.anchor=e,this.head=t}function normalizeSelection(e,t){var n=e[t];e.sort(function(e,t){return E(e.from(),t.from())}),t=indexOf(e,n);for(var r=1;r<e.length;r++){var o=e[r],i=e[r-1];if(E(i.to(),o.from())>=0){var a=minPos(i.from(),o.from()),s=maxPos(i.to(),o.to()),l=i.empty()?o.from()==o.head:i.from()==i.head;r<=t&&--t,e.splice(--r,2,new Range(l?s:a,l?a:s))}}return new Selection(e,t)}function simpleSelection(e,t){return new Selection([new Range(e,t||e)],0)}function clipLine(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function clipPos(e,t){if(t.line<e.first)return P(e.first,0);var n=e.first+e.size-1;return t.line>n?P(n,getLine(e,n).text.length):clipToLen(t,getLine(e,t.line).text.length)}function clipToLen(e,t){var n=e.ch;return null==n||n>t?P(e.line,t):n<0?P(e.line,0):e}function isLine(e,t){return t>=e.first&&t<e.first+e.size}function clipPosArray(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=clipPos(e,t[r]);return n}function extendRange(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var o=t.anchor;if(r){var i=E(n,o)<0;i!=E(r,o)<0?(o=n,n=r):i!=E(n,r)<0&&(n=r)}return new Range(o,n)}return new Range(r||n,n)}function extendSelection(e,t,n,r){setSelection(e,new Selection([extendRange(e,e.sel.primary(),t,n)],0),r)}function extendSelections(e,t,n){for(var r=[],o=0;o<e.sel.ranges.length;o++)r[o]=extendRange(e,e.sel.ranges[o],t[o],null);setSelection(e,normalizeSelection(r,e.sel.primIndex),n)}function replaceOneSelection(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,setSelection(e,normalizeSelection(o,e.sel.primIndex),r)}function setSimpleSelection(e,t,n,r){setSelection(e,simpleSelection(t,n),r)}function filterSelectionChange(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Range(clipPos(e,t[n].anchor),clipPos(e,t[n].head))},origin:n&&n.origin};return ye(e,"beforeSelectionChange",e,r),e.cm&&ye(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?normalizeSelection(r.ranges,r.ranges.length-1):t}function setSelectionReplaceHistory(e,t,n){var r=e.history.done,o=lst(r);o&&o.ranges?(r[r.length-1]=t,setSelectionNoUndo(e,t,n)):setSelection(e,t,n)}function setSelection(e,t,n){setSelectionNoUndo(e,t,n),addSelectionToHistory(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function setSelectionNoUndo(e,t,n){(hasHandler(e,"beforeSelectionChange")||e.cm&&hasHandler(e.cm,"beforeSelectionChange"))&&(t=filterSelectionChange(e,t,n)),setSelectionInner(e,skipAtomicInSelection(e,t,n&&n.bias||(E(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||ensureCursorVisible(e.cm)}function setSelectionInner(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,signalCursorActivity(e.cm)),signalLater(e,"cursorActivity",e))}function reCheckSelection(e){setSelectionInner(e,skipAtomicInSelection(e,e.sel,null,!1),Se)}function skipAtomicInSelection(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=skipAtomic(e,a.anchor,s&&s.anchor,n,r),c=skipAtomic(e,a.head,s&&s.head,n,r);(o||l!=a.anchor||c!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new Range(l,c))}return o?normalizeSelection(o,t.primIndex):t}function skipAtomicInner(e,t,n,r,o){var i=getLine(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(o&&(ye(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var c,p=l.find(r<0?1:-1);if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(p=movePos(e,p,-r,p&&p.line==t.line?i:null)),p&&p.line==t.line&&(c=E(p,n))&&(r<0?c<0:c>0))return skipAtomicInner(e,p,t,r,o)}var d=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(d=movePos(e,d,r,d.line==t.line?i:null)),d?skipAtomicInner(e,d,t,r,o):null}}return t}function skipAtomic(e,t,n,r,o){var i=r||1,a=skipAtomicInner(e,t,n,i,o)||!o&&skipAtomicInner(e,t,n,i,!0)||skipAtomicInner(e,t,n,-i,o)||!o&&skipAtomicInner(e,t,n,-i,!0);return a||(e.cantEdit=!0,P(e.first,0))}function movePos(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?clipPos(e,P(t.line-1)):null:n>0&&t.ch==(r||getLine(e,t.line)).text.length?t.line<e.first+e.size-1?P(t.line+1,0):null:new P(t.line,t.ch+n)}function updateSelection(e){e.display.input.showSelection(e.display.input.prepareSelection())}function prepareSelection(e,t){for(var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&drawSelectionCursor(e,s.head,o),l||drawSelectionRange(e,s,i)}}return r}function drawSelectionCursor(e,t,n){var r=cursorCoords(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(elt("div","","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var i=n.appendChild(elt("div","","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=r.other.left+"px",i.style.top=r.other.top+"px",i.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function drawSelectionRange(e,t,n){function add(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?l-e:n)+"px; height: "+(r-t)+"px"))}function drawForLine(t,n,r){function coords(n,r){return charCoords(e,P(t,n),"div",c,r)}var i,a,c=getLine(o,t),p=c.text.length;return iterateBidiSections(getOrder(c),n||0,null==r?p:r,function(e,t,o){var c,d,u,f=coords(e,"left");if(e==t)c=f,d=u=f.left;else{if(c=coords(t-1,"right"),"rtl"==o){var h=f;f=c,c=h}d=f.left,u=c.right}null==n&&0==e&&(d=s),c.top-f.top>3&&(add(d,f.top,null,f.bottom),d=s,f.bottom<c.top&&add(d,f.bottom,null,c.top)),null==r&&t==p&&(u=l),(!i||f.top<i.top||f.top==i.top&&f.left<i.left)&&(i=f),(!a||c.bottom>a.bottom||c.bottom==a.bottom&&c.right>a.right)&&(a=c),d<s+1&&(d=s),add(d,c.top,u-d,c.bottom)}),{start:i,end:a}}var r=e.display,o=e.doc,i=document.createDocumentFragment(),a=paddingH(e.display),s=a.left,l=Math.max(r.sizerWidth,displayWidth(e)-r.sizer.offsetLeft)-a.right,c=t.from(),p=t.to();if(c.line==p.line)drawForLine(c.line,c.ch,p.ch);else{var d=getLine(o,c.line),u=getLine(o,p.line),f=visualLine(d)==visualLine(u),h=drawForLine(c.line,c.ch,f?d.text.length+1:null).end,g=drawForLine(p.line,f?0:null,p.ch).start;f&&(h.top<g.top-2?(add(h.right,h.top,null,h.bottom),add(s,g.top,g.left,g.bottom)):add(h.right,h.top,g.left-h.right,h.bottom)),h.bottom<g.top&&add(s,h.bottom,null,g.top)}n.appendChild(i)}function restartBlink(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function startWorker(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,bind(highlightWorker,e))}function highlightWorker(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Y(t.mode,getStateBefore(e,t.frontier)),o=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(i){if(t.frontier>=e.display.viewFrom){var a=i.styles,s=i.text.length>e.options.maxHighlightLength,l=highlightLine(e,i,s?Y(t.mode,r):r,!0);i.styles=l.styles;var c=i.styleClasses,p=l.classes;p?i.styleClasses=p:c&&(i.styleClasses=null);for(var d=!a||a.length!=i.styles.length||c!=p&&(!c||!p||c.bgClass!=p.bgClass||c.textClass!=p.textClass),u=0;!d&&u<a.length;++u)d=a[u]!=i.styles[u];d&&o.push(t.frontier),i.stateAfter=s?r:Y(t.mode,r)}else i.text.length<=e.options.maxHighlightLength&&processLine(e,i.text,r),i.stateAfter=t.frontier%5==0?Y(t.mode,r):null;if(++t.frontier,+new Date>n)return startWorker(e,e.options.workDelay),!0}),o.length&&runInOp(e,function(){for(var t=0;t<o.length;t++)regLineChange(e,o[t],"text")})}}function findStartLine(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=i.first)return i.first;var l=getLine(i,s-1);if(l.stateAfter&&(!n||s<=i.frontier))return s;var c=we(l.text,null,e.options.tabSize);(null==o||r>c)&&(o=s-1,r=c)}return o}function getStateBefore(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return!0;var i=findStartLine(e,t,n),a=i>r.first&&getLine(r,i-1).stateAfter;return a=a?Y(r.mode,a):X(r.mode),r.iter(i,t,function(n){processLine(e,n.text,a);var s=i==t-1||i%5==0||i>=o.viewFrom&&i<o.viewTo;n.stateAfter=s?Y(r.mode,a):null,++i}),n&&(r.frontier=i),a}function paddingTop(e){return e.lineSpace.offsetTop}function paddingVert(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function paddingH(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=removeChildrenAndAdd(e.measure,elt("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function scrollGap(e){return Ce-e.display.nativeBarWidth}function displayWidth(e){return e.display.scroller.clientWidth-scrollGap(e)-e.display.barWidth}function displayHeight(e){return e.display.scroller.clientHeight-scrollGap(e)-e.display.barHeight}function ensureLineHeights(e,t,n){var r=e.options.lineWrapping,o=r&&displayWidth(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&i.push((l.bottom+c.top)/2-n.top)}}i.push(n.bottom-n.top)}}function mapFromLineView(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(lineNo(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function updateExternalMeasurement(e,t){t=visualLine(t);var n=lineNo(t),r=e.display.externalMeasured=new LineView(e.doc,t,n);r.lineN=n;var o=r.built=buildLineContent(e,r);return r.text=o.pre,removeChildrenAndAdd(e.display.lineMeasure,o.pre),r}function measureChar(e,t,n,r){return measureCharPrepared(e,prepareMeasureForLine(e,t),n,r)}function findViewForLine(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[findViewIndex(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function prepareMeasureForLine(e,t){var n=lineNo(t),r=findViewForLine(e,n);r&&!r.text?r=null:r&&r.changes&&(updateLineForChanges(e,r,n,getDimensions(e)),e.curOp.forceUpdate=!0),r||(r=updateExternalMeasurement(e,t));var o=mapFromLineView(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function measureCharPrepared(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(ensureLineHeights(e,t.view,t.rect),t.hasHeights=!0),i=measureCharInner(e,t,n,r),i.bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}function nodeAndOffsetInLineMap(e,t,n){for(var r,o,i,a,s=0;s<e.length;s+=3){var l=e[s],c=e[s+1];if(t<l?(o=0,i=1,a="left"):t<c?(o=t-l,i=o+1):(s==e.length-3||t==c&&e[s+3]>t)&&(i=c-l,o=i-1,t>=c&&(a="right")),null!=o){if(r=e[s+2],l==c&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[2+(s-=3)],a="left";if("right"==n&&o==c-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],a="right";break}}return{node:r,start:o,end:i,collapse:a,coverStart:l,coverEnd:c}}function getUsefulRect(e,t){var n=L;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function measureCharInner(e,t,n,r){var o,s=nodeAndOffsetInLineMap(t.map,n,r),l=s.node,c=s.start,p=s.end,d=s.collapse;if(3==l.nodeType){for(var u=0;u<4;u++){for(;c&&isExtendingChar(t.line.text.charAt(s.coverStart+c));)--c;for(;s.coverStart+p<s.coverEnd&&isExtendingChar(t.line.text.charAt(s.coverStart+p));)++p;if(o=i&&a<9&&0==c&&p==s.coverEnd-s.coverStart?l.parentNode.getBoundingClientRect():getUsefulRect(Le(l,c,p).getClientRects(),r),o.left||o.right||0==c)break;p=c,c-=1,d="right"}i&&a<11&&(o=maybeUpdateRectForZooming(e.display.measure,o))}else{c>0&&(d=r="right");var f;o=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(i&&a<9&&!c&&(!o||!o.left&&!o.right)){var h=l.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+charWidth(e.display),top:h.top,bottom:h.bottom}:L}for(var g=o.top-t.rect.top,m=o.bottom-t.rect.top,v=(g+m)/2,b=t.view.measure.heights,u=0;u<b.length-1&&!(v<b[u]);u++);var y=u?b[u-1]:0,x=b[u],C={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:y,bottom:x};return o.left||o.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=m),C}function maybeUpdateRectForZooming(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function clearLineMeasurementCacheFor(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function clearLineMeasurementCache(e){e.display.externalMeasure=null,removeChildren(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)clearLineMeasurementCacheFor(e.display.view[t])}function clearCaches(e){clearLineMeasurementCache(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(e,t,n,r){if(t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var i=widgetHeight(t.widgets[o]);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=heightAtLine(t);if("local"==r?a+=paddingTop(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:pageScrollY());var l=s.left+("window"==r?0:pageScrollX());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function fromCoordSystem(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=pageScrollX(),o-=pageScrollY();else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function charCoords(e,t,n,r,o){return r||(r=getLine(e.doc,t.line)),intoCoordSystem(e,r,measureChar(e,r,t.ch,o),n)}function cursorCoords(e,t,n,r,o,i){function get(t,a){var s=measureCharPrepared(e,o,t,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,intoCoordSystem(e,r,s,n)}function getBidi(e,t){var n=a[t],r=n.level%2;return e==bidiLeft(n)&&t&&n.level<a[t-1].level?(n=a[--t],e=bidiRight(n)-(n.level%2?0:1),r=!0):e==bidiRight(n)&&t<a.length-1&&n.level<a[t+1].level&&(n=a[++t],e=bidiLeft(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?get(e-1):get(e,r)}r=r||getLine(e.doc,t.line),o||(o=prepareMeasureForLine(e,r));var a=getOrder(r),s=t.ch;if(!a)return get(s);var l=getBidiPartAt(a,s),c=getBidi(s,l);return null!=qe&&(c.other=getBidi(s,qe)),c}function estimateCoords(e,t){var n=0,t=clipPos(e.doc,t);e.options.lineWrapping||(n=charWidth(e.display)*t.ch);var r=getLine(e.doc,t.line),o=heightAtLine(r)+paddingTop(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function PosWithInfo(e,t,n,r){var o=P(e,t);return o.xRel=r,n&&(o.outside=!0),o}function coordsChar(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return PosWithInfo(r.first,0,!0,-1);var o=lineAtHeight(r,n),i=r.first+r.size-1;if(o>i)return PosWithInfo(r.first+r.size-1,getLine(r,i).text.length,!0,1);t<0&&(t=0);for(var a=getLine(r,o);;){var s=coordsCharInner(e,a,o,t,n),l=collapsedSpanAtEnd(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;o=lineNo(a=c.to.line)}}function coordsCharInner(e,t,n,r,o){function getX(r){var o=cursorCoords(e,P(n,r),"line",t,l);return a=!0,i>o.bottom?o.left-s:i<o.top?o.left+s:(a=!1,o.left)}var i=o-heightAtLine(t),a=!1,s=2*e.display.wrapper.clientWidth,l=prepareMeasureForLine(e,t),c=getOrder(t),p=t.text.length,d=lineLeft(t),u=lineRight(t),f=getX(d),h=a,g=getX(u),m=a;if(r>g)return PosWithInfo(n,u,m,1);for(;;){if(c?u==d||u==moveVisually(t,d,1):u-d<=1){var v=r<f||r-f<=g-r?d:u,b=v==d?h:m,y=r-(v==d?f:g);if(m&&!c&&!/\s/.test(t.text.charAt(v))&&y>0&&v<t.text.length&&l.view.measure.heights.length>1){var x=measureCharPrepared(e,l,v,"right");i<=x.bottom&&i>=x.top&&Math.abs(r-x.right)<y&&(b=!1,v++,y=r-x.right)}for(;isExtendingChar(t.text.charAt(v));)++v;return PosWithInfo(n,v,b,y<-1?-1:y>1?1:0)}var C=Math.ceil(p/2),R=d+C;if(c){R=d;for(var S=0;S<C;++S)R=moveVisually(t,R,1)}var E=getX(R);E>r?(u=R,g=E,(m=a)&&(g+=1e3),p=C):(d=R,f=E,h=a,p-=C)}}function textHeight(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==I){I=elt("pre");for(var t=0;t<49;++t)I.appendChild(document.createTextNode("x")),I.appendChild(elt("br"));I.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(e.measure,I);var n=I.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),removeChildren(e.measure),n||1}function charWidth(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=elt("span","xxxxxxxxxx"),n=elt("pre",[t]);removeChildrenAndAdd(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function startOperation(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++k},M?M.ops.push(e.curOp):e.curOp.ownsGroup=M={ops:[e.curOp],delayedCallbacks:[]}}function fireCallbacksForOps(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function endOperation(e){var t=e.curOp,n=t.ownsGroup;if(n)try{fireCallbacksForOps(n)}finally{M=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;endOperations(n)}}function endOperations(e){for(var t=e.ops,n=0;n<t.length;n++)endOperation_R1(t[n]);for(var n=0;n<t.length;n++)endOperation_W1(t[n]);for(var n=0;n<t.length;n++)endOperation_R2(t[n]);for(var n=0;n<t.length;n++)endOperation_W2(t[n]);for(var n=0;n<t.length;n++)endOperation_finish(t[n])}function endOperation_R1(e){var t=e.cm,n=t.display;maybeClipScrollbars(t),e.updateMaxLine&&findMaxLine(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new DisplayUpdate(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function endOperation_W1(e){e.updatedDisplay=e.mustUpdate&&updateDisplayIfNeeded(e.cm,e.update)}function endOperation_R2(e){var t=e.cm,n=t.display;e.updatedDisplay&&updateHeightsInViewport(t),e.barMeasure=measureForScrollbars(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=measureChar(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+scrollGap(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-displayWidth(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function endOperation_W2(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&setScrollLeft(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==activeElt()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&updateScrollbars(t,e.barMeasure),e.updatedDisplay&&setDocumentHeight(t,e.barMeasure),e.selectionChanged&&restartBlink(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&ensureFocus(e.cm)}function endOperation_finish(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&postUpdateDisplay(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,alignHorizontally(t)),e.scrollToPos){var o=scrollPosIntoView(t,clipPos(r,e.scrollToPos.from),clipPos(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&maybeScrollWindow(t,o)}var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||ye(i[s],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&ye(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ye(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function runInOp(e,t){if(e.curOp)return t();startOperation(e);try{return t()}finally{endOperation(e)}}function operation(e,t){return function(){if(e.curOp)return t.apply(e,arguments);startOperation(e);try{return t.apply(e,arguments)}finally{endOperation(e)}}}function methodOp(e){return function(){if(this.curOp)return e.apply(this,arguments);startOperation(this);try{return e.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);startOperation(t);try{return e.apply(this,arguments)}finally{endOperation(t)}}}function LineView(e,t,n){this.line=t,this.rest=visualLineContinued(t),this.size=this.rest?lineNo(lst(this.rest))-n+1:1,this.node=this.text=null,this.hidden=lineIsHidden(e,t)}function buildViewArray(e,t,n){for(var r,o=[],i=t;i<n;i=r){var a=new LineView(e.doc,getLine(e.doc,i),i);r=i+a.size,o.push(a)}return o}function regChange(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)S&&visualLineNo(e.doc,t)<o.viewTo&&resetView(e);else if(n<=o.viewFrom)S&&visualLineEndNo(e.doc,n+r)>o.viewFrom?resetView(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)resetView(e);else if(t<=o.viewFrom){var i=viewCuttingPoint(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):resetView(e)}else if(n>=o.viewTo){var i=viewCuttingPoint(e,t,t,-1);i?(o.view=o.view.slice(0,i.index),o.viewTo=i.lineN):resetView(e)}else{var a=viewCuttingPoint(e,t,t,-1),s=viewCuttingPoint(e,n,n+r,1);a&&s?(o.view=o.view.slice(0,a.index).concat(buildViewArray(e,a.lineN,s.lineN)).concat(o.view.slice(s.index)),o.viewTo+=r):resetView(e)}var l=o.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(o.externalMeasured=null))}function regLineChange(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[findViewIndex(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==indexOf(a,n)&&a.push(n)}}}function resetView(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function findViewIndex(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function viewCuttingPoint(e,t,n,r){var o,i=findViewIndex(e,t),a=e.display.view;if(!S||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=0,l=e.display.viewFrom;s<i;s++)l+=a[s].size;if(l!=t){if(r>0){if(i==a.length-1)return null;o=l+a[i].size-t,i++}else o=l-t;t+=o,n+=o}for(;visualLineNo(e.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function adjustView(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=buildViewArray(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=buildViewArray(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(findViewIndex(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(buildViewArray(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,findViewIndex(e,n)))),r.viewTo=n}function countDirtyView(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function registerEventHandlers(e){function finishTouch(){t.activeTouch&&(n=setTimeout(function(){t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function isMouseLikeTouchEvent(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function farAway(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var t=e.display;me(t.scroller,"mousedown",operation(e,onMouseDown)),i&&a<11?me(t.scroller,"dblclick",operation(e,function(t){if(!signalDOMEvent(e,t)){var n=posFromMouse(e,t);if(n&&!clickInGutter(e,t)&&!eventInWidget(e.display,t)){fe(t);var r=e.findWordAt(n);extendSelection(e.doc,r.anchor,r.head)}}})):me(t.scroller,"dblclick",function(t){signalDOMEvent(e,t)||fe(t)}),C||me(t.scroller,"contextmenu",function(t){onContextMenu(e,t)});var n,r={end:0};me(t.scroller,"touchstart",function(o){if(!signalDOMEvent(e,o)&&!isMouseLikeTouchEvent(o)){clearTimeout(n);var i=+new Date;t.activeTouch={start:i,moved:!1,prev:i-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}}),me(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),me(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!eventInWidget(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,i=e.coordsChar(t.activeTouch,"page");o=!r.prev||farAway(r,r.prev)?new Range(i,i):!r.prev.prev||farAway(r,r.prev.prev)?e.findWordAt(i):new Range(P(i.line,0),clipPos(e.doc,P(i.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),fe(n)}finishTouch()}),me(t.scroller,"touchcancel",finishTouch),me(t.scroller,"scroll",function(){t.scroller.clientHeight&&(setScrollTop(e,t.scroller.scrollTop),setScrollLeft(e,t.scroller.scrollLeft,!0),ye(e,"scroll",e))}),me(t.scroller,"mousewheel",function(t){onScrollWheel(e,t)}),me(t.scroller,"DOMMouseScroll",function(t){onScrollWheel(e,t)}),me(t.wrapper,"scroll",function(){t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){signalDOMEvent(e,t)||ge(t)},over:function(t){signalDOMEvent(e,t)||(onDragOver(e,t),ge(t))},start:function(t){onDragStart(e,t)},drop:operation(e,onDrop),leave:function(t){signalDOMEvent(e,t)||clearDragCursor(e)}};var o=t.input.getField();me(o,"keyup",function(t){onKeyUp.call(e,t)}),me(o,"keydown",operation(e,onKeyDown)),me(o,"keypress",operation(e,onKeyPress)),me(o,"focus",bind(onFocus,e)),me(o,"blur",bind(onBlur,e))}function dragDropChanged(e,t,n){if(!t!=!(n&&n!=CodeMirror.Init)){var r=e.display.dragFunctions,o=t?me:be;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function onResize(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function eventInWidget(e,t){for(var n=e_target(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function posFromMouse(e,t,n,r){var o=e.display;if(!n&&"true"==e_target(t).getAttribute("cm-not-content"))return null;var i,a,s=o.lineSpace.getBoundingClientRect();try{i=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=coordsChar(e,i,a);if(r&&1==c.xRel&&(l=getLine(e.doc,c.line).text).length==c.ch){var p=we(l,l.length,e.options.tabSize)-l.length;c=P(c.line,Math.max(0,Math.round((i-paddingH(e.display).left)/charWidth(e.display))-p))}return c}function onMouseDown(e){var t=this,n=t.display;if(!(signalDOMEvent(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,eventInWidget(n,e))return void(s||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!clickInGutter(t,e)){var r=posFromMouse(t,e);switch(window.focus(),e_button(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?leftButtonDown(t,e,r):e_target(e)==n.scroller&&fe(e);break;case 2:s&&(t.state.lastMiddleDown=+new Date),r&&extendSelection(t.doc,r),setTimeout(function(){n.input.focus()},20),fe(e);break;case 3:C?onContextMenu(t,e):delayBlurEvent(t)}}}}function leftButtonDown(e,t,n){i?setTimeout(bind(ensureFocus,e),0):e.curOp.focus=activeElt();var r,o=+new Date;_&&_.time>o-400&&0==E(_.pos,n)?r="triple":A&&A.time>o-400&&0==E(A.pos,n)?(r="double",_={time:o,pos:n}):(r="single",A={time:o,pos:n});var a,s=e.doc.sel,l=m?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ve&&!e.isReadOnly()&&"single"==r&&(a=s.contains(n))>-1&&(E((a=s.ranges[a]).from(),n)<0||n.xRel>0)&&(E(a.to(),n)>0||n.xRel<0)?leftButtonStartDrag(e,t,n,l):leftButtonSelect(e,t,n,r,l)}function leftButtonStartDrag(e,t,n,r){var o=e.display,l=+new Date,c=operation(e,function(p){s&&(o.scroller.draggable=!1),e.state.draggingText=!1,be(document,"mouseup",c),be(o.scroller,"drop",c),Math.abs(t.clientX-p.clientX)+Math.abs(t.clientY-p.clientY)<10&&(fe(p),!r&&+new Date-200<l&&extendSelection(e.doc,n),s||i&&9==a?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())});s&&(o.scroller.draggable=!0),e.state.draggingText=c,c.copy=m?t.altKey:t.ctrlKey,o.scroller.dragDrop&&o.scroller.dragDrop(),me(document,"mouseup",c),me(o.scroller,"drop",c)}function leftButtonSelect(e,t,n,r,o){function extendTo(t){if(0!=E(f,t))if(f=t,"rect"==r){for(var o=[],i=e.options.tabSize,p=we(getLine(a,n.line).text,n.ch,i),d=we(getLine(a,t.line).text,t.ch,i),u=Math.min(p,d),h=Math.max(p,d),g=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=m;g++){var v=getLine(a,g).text,b=Ie(v,u,i);u==h?o.push(new Range(P(g,b),P(g,b))):v.length>b&&o.push(new Range(P(g,b),P(g,Ie(v,h,i))))}o.length||o.push(new Range(n,n)),setSelection(a,normalizeSelection(c.ranges.slice(0,l).concat(o),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y=s,x=y.anchor,C=t;if("single"!=r){if("double"==r)var R=e.findWordAt(t);else var R=new Range(P(t.line,0),clipPos(a,P(t.line+1,0)));E(R.anchor,x)>0?(C=R.head,x=minPos(y.from(),R.anchor)):(C=R.anchor,x=maxPos(y.to(),R.head))}var o=c.ranges.slice(0);o[l]=new Range(clipPos(a,x),C),setSelection(a,normalizeSelection(o,l),Pe)}}function extend(t){var n=++g,o=posFromMouse(e,t,!0,"rect"==r);if(o)if(0!=E(o,f)){e.curOp.focus=activeElt(),extendTo(o);var s=visibleLines(i,a);(o.line>=s.to||o.line<s.from)&&setTimeout(operation(e,function(){g==n&&extend(t)}),150)}else{var l=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;l&&setTimeout(operation(e,function(){g==n&&(i.scroller.scrollTop+=l,extend(t))}),50)}}function done(t){e.state.selectingText=!1,g=1/0,fe(t),i.input.focus(),be(document,"mousemove",m),be(document,"mouseup",b),a.history.lastSelOrigin=null}var i=e.display,a=e.doc;fe(t);var s,l,c=a.sel,p=c.ranges;if(o&&!t.shiftKey?(l=a.sel.contains(n),s=l>-1?p[l]:new Range(n,n)):(s=a.sel.primary(),l=a.sel.primIndex),v?t.shiftKey&&t.metaKey:t.altKey)r="rect",o||(s=new Range(n,n)),n=posFromMouse(e,t,!0,!0),l=-1;else if("double"==r){var d=e.findWordAt(n);s=e.display.shift||a.extend?extendRange(a,s,d.anchor,d.head):d}else if("triple"==r){var u=new Range(P(n.line,0),clipPos(a,P(n.line+1,0)));s=e.display.shift||a.extend?extendRange(a,s,u.anchor,u.head):u}else s=extendRange(a,s,n);o?-1==l?(l=p.length,setSelection(a,normalizeSelection(p.concat([s]),l),{scroll:!1,origin:"*mouse"})):p.length>1&&p[l].empty()&&"single"==r&&!t.shiftKey?(setSelection(a,normalizeSelection(p.slice(0,l).concat(p.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=a.sel):replaceOneSelection(a,l,s,Pe):(l=0,setSelection(a,new Selection([s],0),Pe),c=a.sel);var f=n,h=i.wrapper.getBoundingClientRect(),g=0,m=operation(e,function(e){e_button(e)?extend(e):done(e)}),b=operation(e,done);e.state.selectingText=b,me(document,"mousemove",m),me(document,"mouseup",b)}function gutterEvent(e,t,n,r){try{var o=t.clientX,i=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&fe(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!hasHandler(e,n))return e_defaultPrevented(t);i-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o){var p=lineAtHeight(e.doc,i),d=e.options.gutters[l];return ye(e,n,e,p,d,t),e_defaultPrevented(t)}}}function clickInGutter(e,t){return gutterEvent(e,t,"gutterClick",!0)}function onDrop(e){var t=this;if(clearDragCursor(t),!signalDOMEvent(t,e)&&!eventInWidget(t.display,e)){fe(e),i&&(O=+new Date);var n=posFromMouse(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,a=Array(o),s=0,l=0;l<o;++l)!function(e,r){if(!t.options.allowDropFileTypes||-1!=indexOf(t.options.allowDropFileTypes,e.type)){var i=new FileReader;i.onload=operation(t,function(){var e=i.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[r]=e,++s==o){n=clipPos(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(a.join(t.doc.lineSeparator())),origin:"paste"};makeChange(t.doc,l),setSelectionReplaceHistory(t.doc,simpleSelection(n,U(l)))}}),i.readAsText(e)}}(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!t.state.draggingText.copy)var c=t.listSelections();if(setSelectionNoUndo(t.doc,simpleSelection(n,n)),c)for(var l=0;l<c.length;++l)replaceRange(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function onDragStart(e,t){if(i&&(!e.state.draggingText||+new Date-O<100))return void ge(t);if(!signalDOMEvent(e,t)&&!eventInWidget(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=elt("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),p&&n.parentNode.removeChild(n)}}function onDragOver(e,t){var n=posFromMouse(e,t);if(n){var r=document.createDocumentFragment();drawSelectionCursor(e,n,r),e.display.dragCursor||(e.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),removeChildrenAndAdd(e.display.dragCursor,r)}}function clearDragCursor(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function setScrollTop(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,n||updateDisplaySimple(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),n&&updateDisplaySimple(e),startWorker(e,100))}function setScrollLeft(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,alignHorizontally(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function onScrollWheel(e,t){var r=D(t),o=r.x,i=r.y,a=e.display,l=a.scroller,c=l.scrollWidth>l.clientWidth,d=l.scrollHeight>l.clientHeight;if(o&&c||i&&d){if(i&&m&&s)e:for(var u=t.target,f=a.view;u!=l;u=u.parentNode)for(var h=0;h<f.length;h++)if(f[h].node==u){e.display.currentWheelTarget=u;break e}if(o&&!n&&!p&&null!=T)return i&&d&&setScrollTop(e,Math.max(0,Math.min(l.scrollTop+i*T,l.scrollHeight-l.clientHeight))),setScrollLeft(e,Math.max(0,Math.min(l.scrollLeft+o*T,l.scrollWidth-l.clientWidth))),(!i||i&&d)&&fe(t),void(a.wheelStartX=null);if(i&&null!=T){var g=i*T,v=e.doc.scrollTop,b=v+a.wrapper.clientHeight;g<0?v=Math.max(0,v+g-50):b=Math.min(e.doc.height,b+g+50),updateDisplaySimple(e,{top:v,bottom:b})}N<20&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=o,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var e=l.scrollLeft-a.wheelStartX,t=l.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(T=(T*N+n)/(N+1),++N)}},200)):(a.wheelDX+=o,a.wheelDY+=i))}}function doHandleBinding(e,t,n){if("string"==typeof t&&!(t=K[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=Re}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function lookupKeyForEditor(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=J(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&J(t,e.options.extraKeys,n,e)||J(t,e.options.keyMap,n,e)}function dispatchKey(e,t,n,r){var o=e.state.keySeq;if(o){if(Z(t))return"handled";j.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),t=o+" "+t}var i=lookupKeyForEditor(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&signalLater(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(fe(n),restartBlink(e)),o&&!i&&/\'$/.test(t)?(fe(n),!0):!!i}function handleKeyBinding(e,t){var n=ee(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?dispatchKey(e,"Shift-"+n,t,function(t){return doHandleBinding(e,t,!0)})||dispatchKey(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return doHandleBinding(e,t)}):dispatchKey(e,n,t,function(t){return doHandleBinding(e,t)}))}function handleCharBinding(e,t,n){return dispatchKey(e,"'"+n+"'",t,function(t){return doHandleBinding(e,t,!0)})}function onKeyDown(e){var t=this;if(t.curOp.focus=activeElt(),!signalDOMEvent(t,e)){i&&a<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=handleKeyBinding(t,e);p&&(F=r?n:null,!r&&88==n&&!ze&&(m?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||showCrossHair(t)}}function showCrossHair(e){function up(e){18!=e.keyCode&&e.altKey||(je(t,"CodeMirror-crosshair"),be(document,"keyup",up),be(document,"mouseover",up))}var t=e.display.lineDiv;Fe(t,"CodeMirror-crosshair"),me(document,"keyup",up),me(document,"mouseover",up)}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var t=this;if(!(eventInWidget(t.display,e)||signalDOMEvent(t,e)||e.ctrlKey&&!e.altKey||m&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(p&&n==F)return F=null,void fe(e);if(!p||e.which&&!(e.which<10)||!handleKeyBinding(t,e)){handleCharBinding(t,e,String.fromCharCode(null==r?n:r))||t.display.input.onKeyPress(e)}}}function delayBlurEvent(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,onBlur(e))},100)}function onFocus(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ye(e,"focus",e),e.state.focused=!0,Fe(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),s&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),restartBlink(e))}function onBlur(e){e.state.delayingBlurEvent||(e.state.focused&&(ye(e,"blur",e),e.state.focused=!1,je(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function onContextMenu(e,t){eventInWidget(e.display,t)||contextMenuInGutter(e,t)||signalDOMEvent(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function contextMenuInGutter(e,t){return!!hasHandler(e,"gutterContextMenu")&&gutterEvent(e,t,"gutterContextMenu",!1)}function adjustForChange(e,t){if(E(e,t.from)<0)return e;if(E(e,t.to)<=0)return U(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=U(t).ch-t.to.ch),P(n,r)}function computeSelAfterChange(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new Range(adjustForChange(o.anchor,t),adjustForChange(o.head,t)))}return normalizeSelection(n,e.sel.primIndex)}function offsetPos(e,t,n){return e.line==t.line?P(n.line,e.ch-t.ch+n.ch):P(n.line+(e.line-t.line),e.ch)}function computeReplacedSel(e,t,n){for(var r=[],o=P(e.first,0),i=o,a=0;a<t.length;a++){var s=t[a],l=offsetPos(s.from,o,i),c=offsetPos(U(s),o,i);if(o=s.to,i=c,"around"==n){var p=e.sel.ranges[a],d=E(p.head,p.anchor)<0;r[a]=new Range(d?c:l,d?l:c)}else r[a]=new Range(l,l)}return new Selection(r,e.sel.primIndex)}function filterChange(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,o){t&&(this.from=clipPos(e,t)),n&&(this.to=clipPos(e,n)),r&&(this.text=r),void 0!==o&&(this.origin=o)}),ye(e,"beforeChange",e,r),e.cm&&ye(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function makeChange(e,t,n){if(e.cm){if(!e.cm.curOp)return operation(e.cm,makeChange)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(hasHandler(e,"beforeChange")||e.cm&&hasHandler(e.cm,"beforeChange"))||(t=filterChange(e,t,!0))){var r=R&&!n&&removeReadOnlyRanges(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)makeChangeInner(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text});else makeChangeInner(e,t)}}function makeChangeInner(e,t){if(1!=t.text.length||""!=t.text[0]||0!=E(t.from,t.to)){var n=computeSelAfterChange(e,t);addChangeToHistory(e,t,n,e.cm?e.cm.curOp.id:NaN),makeChangeSingleDoc(e,t,n,stretchSpansOverChange(e,t));var r=[];linkedDocs(e,function(e,n){n||-1!=indexOf(r,e.history)||(rebaseHist(e.history,t),r.push(e.history)),makeChangeSingleDoc(e,t,null,stretchSpansOverChange(e,t))})}}function makeChangeFromHistory(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,o=e.history,i=e.sel,a="undo"==t?o.done:o.undone,s="undo"==t?o.undone:o.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;r=a.pop(),r.ranges;){if(pushSelectionToHistory(r,s),n&&!r.equals(e.sel))return void setSelection(e,r,{clearRedo:!1});i=r}var c=[];pushSelectionToHistory(i,s),s.push({changes:c,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var p=hasHandler(e,"beforeChange")||e.cm&&hasHandler(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var d=r.changes[l];if(d.origin=t,p&&!filterChange(e,d,!1))return void(a.length=0);c.push(historyChangeFromChange(e,d));var u=l?computeSelAfterChange(e,d):lst(a);makeChangeSingleDoc(e,d,u,mergeOldSpans(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:U(d)});var f=[];linkedDocs(e,function(e,t){t||-1!=indexOf(f,e.history)||(rebaseHist(e.history,d),f.push(e.history)),makeChangeSingleDoc(e,d,null,mergeOldSpans(e,d))})}}}}function shiftDoc(e,t){if(0!=t&&(e.first+=t,e.sel=new Selection(map(e.sel.ranges,function(e){return new Range(P(e.anchor.line+t,e.anchor.ch),P(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){regChange(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)regLineChange(e.cm,r,"gutter")}}function makeChangeSingleDoc(e,t,n,r){if(e.cm&&!e.cm.curOp)return operation(e.cm,makeChangeSingleDoc)(e,t,n,r);if(t.to.line<e.first)return void shiftDoc(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);shiftDoc(e,o),t={from:P(e.first,0),to:P(t.to.line+o,t.to.ch),text:[lst(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:P(i,getLine(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=getBetween(e,t.from,t.to),n||(n=computeSelAfterChange(e,t)),e.cm?makeChangeSingleDocInEditor(e.cm,t,r):updateDoc(e,t,r),setSelectionNoUndo(e,n,Se)}}function makeChangeSingleDocInEditor(e,t,n){var r=e.doc,o=e.display,i=t.from,a=t.to,s=!1,l=i.line;e.options.lineWrapping||(l=lineNo(visualLine(getLine(r,i.line))),r.iter(l,a.line+1,function(e){if(e==o.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&signalCursorActivity(e),updateDoc(r,t,n,estimateHeight(e)),e.options.lineWrapping||(r.iter(l,i.line+t.text.length,function(e){var t=lineLength(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,i.line),startWorker(e,400);var c=t.text.length-(a.line-i.line)-1;t.full?regChange(e):i.line!=a.line||1!=t.text.length||isWholeLineUpdate(e.doc,t)?regChange(e,i.line,a.line+1,c):regLineChange(e,i.line,"text");var p=hasHandler(e,"changes"),d=hasHandler(e,"change");if(d||p){var u={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&signalLater(e,"change",e,u),p&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(u)}e.display.selForContextMenu=null}function replaceRange(e,t,n,r,o){if(r||(r=n),E(r,n)<0){var i=r;r=n,n=i}"string"==typeof t&&(t=e.splitLines(t)),makeChange(e,{from:n,to:r,text:t,origin:o})}function maybeScrollWindow(e,t){if(!signalDOMEvent(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!f){var i=elt("div","",null,"position: absolute; top: "+(t.top-n.viewOffset-paddingTop(e.display))+"px; height: "+(t.bottom-t.top+scrollGap(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(i),i.scrollIntoView(o),e.display.lineSpace.removeChild(i)}}}function scrollPosIntoView(e,t,n,r){null==r&&(r=0);for(var o=0;o<5;o++){var i=!1,a=cursorCoords(e,t),s=n&&n!=t?cursorCoords(e,n):a,l=calculateScrollPos(e,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),c=e.doc.scrollTop,p=e.doc.scrollLeft;if(null!=l.scrollTop&&(setScrollTop(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(i=!0)),null!=l.scrollLeft&&(setScrollLeft(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-p)>1&&(i=!0)),!i)break}return a}function scrollIntoView(e,t,n,r,o){var i=calculateScrollPos(e,t,n,r,o);null!=i.scrollTop&&setScrollTop(e,i.scrollTop),null!=i.scrollLeft&&setScrollLeft(e,i.scrollLeft)}function calculateScrollPos(e,t,n,r,o){var i=e.display,a=textHeight(e.display);n<0&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,l=displayHeight(e),c={};o-n>l&&(o=n+l);var p=e.doc.height+paddingVert(i),d=n<a,u=o>p-a;if(n<s)c.scrollTop=d?0:n;else if(o>s+l){var f=Math.min(n,(u?p:o)-l);f!=s&&(c.scrollTop=f)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,g=displayWidth(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),m=r-t>g;return m&&(r=t+g),t<10?c.scrollLeft=0:t<h?c.scrollLeft=Math.max(0,t-(m?0:10)):r>g+h-3&&(c.scrollLeft=r+(m?0:10)-g),c}function addToScrollPos(e,t,n){null==t&&null==n||resolveScrollToPos(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function ensureCursorVisible(e){resolveScrollToPos(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?P(t.line,t.ch-1):t,r=P(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function resolveScrollToPos(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=estimateCoords(e,t.from),r=estimateCoords(e,t.to),o=calculateScrollPos(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(o.scrollLeft,o.scrollTop)}}function indentLine(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=getStateBefore(e,t):n="prev");var a=e.options.tabSize,s=getLine(i,t),l=we(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,p=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((c=i.mode.indent(o,s.text.slice(p.length),s.text))==Re||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>i.first?we(getLine(i,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",u=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/a);f;--f)u+=a,d+="\t";if(u<c&&(d+=spaceStr(c-u)),d!=p)return replaceRange(i,d,P(t,0),P(t,p.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<i.sel.ranges.length;f++){var h=i.sel.ranges[f];if(h.head.line==t&&h.head.ch<p.length){var u=P(t,p.length);replaceOneSelection(i,f,new Range(u,u));break}}}function changeLine(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=getLine(e,clipLine(e,t)):o=lineNo(t),null==o?null:(r(i,o)&&e.cm&&regLineChange(e.cm,o,n),i)}function deleteNearSelection(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var i=t(n[o]);r.length&&E(i.from,lst(r).to)<=0;){var a=r.pop();if(E(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}runInOp(e,function(){for(var t=r.length-1;t>=0;t--)replaceRange(e.doc,"",r[t].from,r[t].to,"+delete");ensureCursorVisible(e)})}function findPosH(e,t,n,r,o){function findNextLine(){var t=i+n;return!(t<e.first||t>=e.first+e.size)&&(i=t,l=getLine(e,t))}function moveOnce(e){var t=(o?moveVisually:moveLogically)(l,a,n,!0);if(null==t){if(e||!findNextLine())return!1;a=o?(n<0?lineRight:lineLeft)(l):n<0?l.text.length:0}else a=t;return!0}var i=t.line,a=t.ch,s=n,l=getLine(e,i);if("char"==r)moveOnce();else if("column"==r)moveOnce(!0);else if("word"==r||"group"==r)for(var c=null,p="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),u=!0;!(n<0)||moveOnce(!u);u=!1){var f=l.text.charAt(a)||"\n",h=isWordChar(f,d)?"w":p&&"\n"==f?"n":!p||/\s/.test(f)?null:"p";if(!p||u||h||(h="s"),c&&c!=h){n<0&&(n=1,moveOnce());break}if(h&&(c=h),n>0&&!moveOnce(!u))break}var g=skipAtomic(e,P(i,a),t,s,!0);return E(t,g)||(g.hitSide=!0),g}function findPosV(e,t,n,r){var o,i=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=t.top+n*(s-(n<0?1.5:.5)*textHeight(e.display))}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;;){var l=coordsChar(e,a,o);if(!l.outside)break;if(n<0?o<=0:o>=i.height){l.hitSide=!0;break}o+=5*n}return l}function option(e,t,n,r){CodeMirror.defaults[e]=t,n&&(G[e]=r?function(e,t,r){r!=B&&n(e,t,r)}:n)}function normalizeKeyName(e){for(var t,n,r,o,i=e.split(/-(?!$)/),e=i[i.length-1],a=0;a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function getKeyMap(e){return"string"==typeof e?Q[e]:e}function markText(e,t,n,r,o){if(r&&r.shared)return markTextShared(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return operation(e.cm,markText)(e,t,n,r,o);var i=new re(e,o),a=E(t,n);if(r&&copyObj(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=elt("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(conflictingCollapsedRange(e,t.line,t,n,i)||t.line!=n.line&&conflictingCollapsedRange(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");S=!0}i.addToHistory&&addChangeToHistory(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&i.collapsed&&!c.options.lineWrapping&&visualLine(e)==c.display.maxLine&&(s=!0),i.collapsed&&l!=t.line&&updateLineHeight(e,0),addMarkedSpan(e,new MarkedSpan(i,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),i.collapsed&&e.iter(t.line,n.line+1,function(t){lineIsHidden(e,t)&&updateLineHeight(t,0)}),i.clearOnEnter&&me(i,"beforeCursorEnter",function(){i.clear()}),i.readOnly&&(R=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++ne,i.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),i.collapsed)regChange(c,t.line,n.line+1);else if(i.className||i.title||i.startStyle||i.endStyle||i.css)for(var p=t.line;p<=n.line;p++)regLineChange(c,p,"text");i.atomic&&reCheckSelection(c.doc),signalLater(c,"markerAdded",c,i)}return i}function markTextShared(e,t,n,r,o){r=copyObj(r),r.shared=!1;var i=[markText(e,t,n,r,o)],a=i[0],s=r.widgetNode;return linkedDocs(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),i.push(markText(e,clipPos(e,t),clipPos(e,n),r,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=lst(i)}),new oe(i,a)}function findSharedMarkers(e){return e.findMarks(P(e.first,0),e.clipPos(P(e.lastLine())),function(e){return e.parent})}function copySharedMarkers(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(E(i,a)){var s=markText(e,i,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function detachSharedMarkers(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];linkedDocs(n.primary.doc,function(e){r.push(e)});for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==indexOf(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}}}function MarkedSpan(e,t,n){this.marker=e,this.from=t,this.to=n}function getMarkedSpanFor(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function removeMarkedSpan(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function addMarkedSpan(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function markedSpansBefore(e,t,n){if(e)for(var r,o=0;o<e.length;++o){var i=e[o],a=i.marker,s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);if(s||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var l=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new MarkedSpan(a,i.from,l?null:i.to))}}return r}function markedSpansAfter(e,t,n){if(e)for(var r,o=0;o<e.length;++o){var i=e[o],a=i.marker,s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);if(s||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var l=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new MarkedSpan(a,l?null:i.from-t,null==i.to?null:i.to-t))}}return r}function stretchSpansOverChange(e,t){if(t.full)return null;var n=isLine(e,t.from.line)&&getLine(e,t.from.line).markedSpans,r=isLine(e,t.to.line)&&getLine(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==E(t.from,t.to),s=markedSpansBefore(n,o,a),l=markedSpansAfter(r,i,a),c=1==t.text.length,p=lst(t.text).length+(c?o:0);if(s)for(var d=0;d<s.length;++d){var u=s[d];if(null==u.to){var f=getMarkedSpanFor(l,u.marker);f?c&&(u.to=null==f.to?null:f.to+p):u.to=o}}if(l)for(var d=0;d<l.length;++d){var u=l[d];if(null!=u.to&&(u.to+=p),null==u.from){var f=getMarkedSpanFor(s,u.marker);f||(u.from=p,c&&(s||(s=[])).push(u))}else u.from+=p,c&&(s||(s=[])).push(u)}s&&(s=clearEmptySpans(s)),l&&l!=s&&(l=clearEmptySpans(l));var h=[s];if(!c){var g,m=t.text.length-2;if(m>0&&s)for(var d=0;d<s.length;++d)null==s[d].to&&(g||(g=[])).push(new MarkedSpan(s[d].marker,null,null));for(var d=0;d<m;++d)h.push(g);h.push(l)}return h}function clearEmptySpans(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function mergeOldSpans(e,t){var n=getOldSpans(e,t),r=stretchSpansOverChange(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<i.length;++c)if(i[c].marker==l.marker)continue e;i.push(l)}else a&&(n[o]=a)}return n}function removeReadOnlyRanges(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=indexOf(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],s=a.find(0),l=0;l<o.length;++l){var c=o[l];if(!(E(c.to,s.from)<0||E(c.from,s.to)>0)){var p=[l,1],d=E(c.from,s.from),u=E(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&p.push({from:c.from,to:s.from}),(u>0||!a.inclusiveRight&&!u)&&p.push({from:s.to,to:c.to}),o.splice.apply(o,p),l+=p.length-1}}return o}function detachMarkedSpans(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function attachMarkedSpans(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function extraLeft(e){return e.inclusiveLeft?-1:0}function extraRight(e){return e.inclusiveRight?1:0}function compareCollapsedMarkers(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=E(r.from,o.from)||extraLeft(e)-extraLeft(t);if(i)return-i;var a=E(r.to,o.to)||extraRight(e)-extraRight(t);return a||t.id-e.id}function collapsedSpanAtSide(e,t){var n,r=S&&e.markedSpans;if(r)for(var o,i=0;i<r.length;++i)o=r[i],o.marker.collapsed&&null==(t?o.from:o.to)&&(!n||compareCollapsedMarkers(n,o.marker)<0)&&(n=o.marker);return n}function collapsedSpanAtStart(e){return collapsedSpanAtSide(e,!0)}function collapsedSpanAtEnd(e){return collapsedSpanAtSide(e,!1)}function conflictingCollapsedRange(e,t,n,r,o){var i=getLine(e,t),a=S&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),p=E(c.from,n)||extraLeft(l.marker)-extraLeft(o),d=E(c.to,r)||extraRight(l.marker)-extraRight(o);if(!(p>=0&&d<=0||p<=0&&d>=0)&&(p<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?E(c.to,n)>=0:E(c.to,n)>0)||p>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?E(c.from,r)<=0:E(c.from,r)<0)))return!0}}}function visualLine(e){for(var t;t=collapsedSpanAtStart(e);)e=t.find(-1,!0).line;return e}function visualLineContinued(e){for(var t,n;t=collapsedSpanAtEnd(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function visualLineNo(e,t){var n=getLine(e,t),r=visualLine(n);return n==r?t:lineNo(r)}function visualLineEndNo(e,t){if(t>e.lastLine())return t;var n,r=getLine(e,t);if(!lineIsHidden(e,r))return t;for(;n=collapsedSpanAtEnd(r);)r=n.find(1,!0).line;return lineNo(r)+1}function lineIsHidden(e,t){var n=S&&t.markedSpans;if(n)for(var r,o=0;o<n.length;++o)if(r=n[o],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&lineIsHiddenInner(e,t,r))return!0}}function lineIsHiddenInner(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return lineIsHiddenInner(e,r.line,getMarkedSpanFor(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o,i=0;i<t.markedSpans.length;++i)if(o=t.markedSpans[i],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&lineIsHiddenInner(e,t,o))return!0}function adjustScrollWhenAboveVisible(e,t,n){heightAtLine(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&addToScrollPos(e,null,n)}function widgetHeight(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ne(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(t.display.measure,elt("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function addLineWidget(e,t,n,r){var o=new ie(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),changeLine(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length-1,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!lineIsHidden(e,t)){var r=heightAtLine(t)<e.scrollTop;updateLineHeight(t,t.height+widgetHeight(o)),r&&addToScrollPos(i,null,o.height),i.curOp.forceUpdate=!0}return!0}),o}function updateLine(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),detachMarkedSpans(e),attachMarkedSpans(e,n);var o=r?r(e):1;o!=e.height&&updateLineHeight(e,o)}function cleanUpLine(e){e.parent=null,detachMarkedSpans(e)}function extractLineClasses(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function callBlankLine(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=CodeMirror.innerMode(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function readToken(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=CodeMirror.innerMode(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}function takeToken(e,t,n,r){function getObj(e){return{start:p.start,end:p.pos,string:p.current(),type:o||null,state:e?Y(i.mode,c):c}}var o,i=e.doc,a=i.mode;t=clipPos(i,t);var s,l=getLine(i,t.line),c=getStateBefore(e,t.line,n),p=new te(l.text,e.options.tabSize);for(r&&(s=[]);(r||p.pos<t.ch)&&!p.eol();)p.start=p.pos,o=readToken(a,p,c),r&&s.push(getObj(!0));return r?s:getObj()}function runMode(e,t,n,r,o,i,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,p=null,d=new te(t,e.options.tabSize),u=e.options.addModeClass&&[null];for(""==t&&extractLineClasses(callBlankLine(n,r),i);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&processLine(e,t,r,d.pos),d.pos=t.length,l=null):l=extractLineClasses(readToken(n,d,r,u),i),u){var f=u[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||p!=l){for(;c<d.start;)c=Math.min(d.start,c+5e4),o(c,p);p=l}d.start=d.pos}for(;c<d.pos;){var h=Math.min(d.pos,c+5e4);o(h,p),c=h}}function highlightLine(e,t,n,r){var o=[e.state.modeGen],i={};runMode(e,t.text,e.doc.mode,n,function(e,t){o.push(e,t)},i,r);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],l=1,c=0;runMode(e,t.text,s.mode,!0,function(e,t){for(var n=l;c<e;){var r=o[l];r>e&&o.splice(l,1,e,o[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)o.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;n<l;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"cm-overlay "+t}},i)}return{styles:o,classes:i.bgClass||i.textClass?i:null}}function getLineStyles(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=getStateBefore(e,lineNo(t)),o=highlightLine(e,t,t.text.length>e.options.maxHighlightLength?Y(e.doc.mode,r):r);t.stateAfter=r,t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function processLine(e,t,n,r){var o=e.doc.mode,i=new te(t,e.options.tabSize);for(i.start=i.pos=r||0,""==t&&callBlankLine(o,n);!i.eol();)readToken(o,i,n),i.start=i.pos}function interpretTokenStyle(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?le:se;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function buildLineContent(e,t){var n=elt("span",null,null,s?"padding-right: .1px":null),r={pre:elt("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(i||s)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a,l=o?t.rest[o-1]:t.line;r.pos=0,r.addToken=buildToken,hasBadBidiRects(e.display.measure)&&(a=getOrder(l))&&(r.addToken=buildTokenBadBidi(r.addToken,a)),r.map=[];insertLineContent(l,r,getLineStyles(e,l,t!=e.display.externalMeasured&&lineNo(l))),l.styleClasses&&(l.styleClasses.bgClass&&(r.bgClass=joinClasses(l.styleClasses.bgClass,r.bgClass||"")),l.styleClasses.textClass&&(r.textClass=joinClasses(l.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(zeroWidthElement(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(s){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ye(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=joinClasses(r.pre.className,r.textClass||"")),r}function defaultSpecialCharPlaceholder(e){var t=elt("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function buildToken(e,t,n,r,o,s,l){if(t){var c=e.splitSpaces?splitSpaces(t,e.trailingSpace):t,p=e.cm.state.specialChars,d=!1;if(p.test(t))for(var u=document.createDocumentFragment(),f=0;;){p.lastIndex=f;var h=p.exec(t),g=h?h.index-f:t.length-f;if(g){var m=document.createTextNode(c.slice(f,f+g));i&&a<9?u.appendChild(elt("span",[m])):u.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!h)break;if(f+=g+1,"\t"==h[0]){var v=e.cm.options.tabSize,b=v-e.col%v,m=u.appendChild(elt("span",spaceStr(b),"cm-tab"));m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else if("\r"==h[0]||"\n"==h[0]){var m=u.appendChild(elt("span","\r"==h[0]?"":"","cm-invalidchar"));m.setAttribute("cm-text",h[0]),e.col+=1}else{var m=e.cm.options.specialCharPlaceholder(h[0]);m.setAttribute("cm-text",h[0]),i&&a<9?u.appendChild(elt("span",[m])):u.appendChild(m),e.col+=1}e.map.push(e.pos,e.pos+1,m),e.pos++}else{e.col+=t.length;var u=document.createTextNode(c);e.map.push(e.pos,e.pos+t.length,u),i&&a<9&&(d=!0),e.pos+=t.length}if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||o||d||l){var y=n||"";r&&(y+=r),o&&(y+=o);var x=elt("span",[u],y,l);return s&&(x.title=s),e.content.appendChild(x)}e.content.appendChild(u)}}function splitSpaces(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=""),r+=i,n=" "==i}return r}function buildTokenBadBidi(e,t){return function(n,r,o,i,a,s,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=n.pos,p=c+r.length;;){for(var d=0;d<t.length;d++){var u=t[d];if(u.to>c&&u.from<=c)break}if(u.to>=p)return e(n,r,o,i,a,s,l);e(n,r.slice(0,u.to-c),o,i,null,s,l),i=null,r=r.slice(u.to-c),c=u.to}}}function buildCollapsedSpan(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function insertLineContent(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,s,l,c,p,d,u,f=o.length,h=0,g=1,m="",v=0;;){if(v==h){l=c=p=d=s="",u=null,v=1/0;for(var b,y=[],x=0;x<r.length;++x){var C=r[x],R=C.marker;"bookmark"==R.type&&C.from==h&&R.widgetNode?y.push(R):C.from<=h&&(null==C.to||C.to>h||R.collapsed&&C.to==h&&C.from==h)?(null!=C.to&&C.to!=h&&v>C.to&&(v=C.to,c=""),R.className&&(l+=" "+R.className),R.css&&(s=(s?s+";":"")+R.css),R.startStyle&&C.from==h&&(p+=" "+R.startStyle),R.endStyle&&C.to==v&&(b||(b=[])).push(R.endStyle,C.to),R.title&&!d&&(d=R.title),R.collapsed&&(!u||compareCollapsedMarkers(u.marker,R)<0)&&(u=C)):C.from>h&&v>C.from&&(v=C.from)}if(b)for(var x=0;x<b.length;x+=2)b[x+1]==v&&(c+=" "+b[x]);if(!u||u.from==h)for(var x=0;x<y.length;++x)buildCollapsedSpan(t,0,y[x]);if(u&&(u.from||0)==h){if(buildCollapsedSpan(t,(null==u.to?f+1:u.to)-h,u.marker,null==u.from),null==u.to)return;u.to==h&&(u=!1)}}if(h>=f)break;for(var S=Math.min(f,v);;){if(m){var P=h+m.length;if(!u){var E=P>S?m.slice(0,S-h):m;t.addToken(t,E,a?a+l:l,p,h+E.length==v?c:"",d,s)}if(P>=S){m=m.slice(S-h),h=S;break}h=P,p=""}m=o.slice(i,i=n[g++]),a=interpretTokenStyle(n[g++],t.cm.options)}}else for(var g=1;g<n.length;g+=2)t.addToken(t,o.slice(i,i=n[g]),interpretTokenStyle(n[g+1],t.cm.options))}function isWholeLineUpdate(e,t){return 0==t.from.ch&&0==t.to.ch&&""==lst(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function updateDoc(e,t,n,r){function spansFor(e){return n?n[e]:null}function update(e,n,o){updateLine(e,n,o,r),signalLater(e,"change",e,t)}function linesFor(e,t){for(var n=e,o=[];n<t;++n)o.push(new ae(a[n],spansFor(n),r));return o}var o=t.from,i=t.to,a=t.text,s=getLine(e,o.line),l=getLine(e,i.line),c=lst(a),p=spansFor(a.length-1),d=i.line-o.line;if(t.full)e.insert(0,linesFor(0,a.length)),e.remove(a.length,e.size-a.length);else if(isWholeLineUpdate(e,t)){var u=linesFor(0,a.length-1);update(l,l.text,p),d&&e.remove(o.line,d),u.length&&e.insert(o.line,u)}else if(s==l)if(1==a.length)update(s,s.text.slice(0,o.ch)+c+s.text.slice(i.ch),p);else{var u=linesFor(1,a.length-1);u.push(new ae(c+s.text.slice(i.ch),p,r)),update(s,s.text.slice(0,o.ch)+a[0],spansFor(0)),e.insert(o.line+1,u)}else if(1==a.length)update(s,s.text.slice(0,o.ch)+a[0]+l.text.slice(i.ch),spansFor(0)),e.remove(o.line+1,d);else{update(s,s.text.slice(0,o.ch)+a[0],spansFor(0)),update(l,c+l.text.slice(i.ch),p);var u=linesFor(1,a.length-1);d>1&&e.remove(o.line+1,d-1),e.insert(o.line+1,u)}signalLater(e,"change",e,t)}function LeafChunk(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function BranchChunk(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}function linkedDocs(e,t,n){function propagate(e,r,o){if(e.linked)for(var i=0;i<e.linked.length;++i){var a=e.linked[i];if(a.doc!=r){var s=o&&a.sharedHist;n&&!s||(t(a.doc,s),propagate(a.doc,e,s))}}}propagate(e,null,!0)}function attachDoc(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,estimateLineHeights(e),loadMode(e),e.options.lineWrapping||findMaxLine(e),e.options.mode=t.modeOption,regChange(e)}function getLine(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function getBetween(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o}),r}function getLines(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function updateLineHeight(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function lineNo(e){if(null==e.parent)return null;for(var t=e.parent,n=indexOf(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function lineAtHeight(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var a=e.lines[r],s=a.height;if(t<s)break;t-=s}return n+r}function heightAtLine(e){e=visualLine(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;n=i,i=n.parent)for(var r=0;r<i.children.length;++r){var a=i.children[r];if(a==n)break;t+=a.height}return t}function getOrder(e){var t=e.order;return null==t&&(t=e.order=$e(e.text)),t}function History(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function historyChangeFromChange(e,t){var n={from:copyPos(t.from),to:U(t),text:getBetween(e,t.from,t.to)};return attachLocalSpans(e,n,t.from.line,t.to.line+1),linkedDocs(e,function(e){attachLocalSpans(e,n,t.from.line,t.to.line+1)},!0),n}function clearSelectionEvents(e){for(;e.length;){if(!lst(e).ranges)break;e.pop()}}function lastChangeEvent(e,t){return t?(clearSelectionEvents(e.done),lst(e.done)):e.done.length&&!lst(e.done).ranges?lst(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),lst(e.done)):void 0}function addChangeToHistory(e,t,n,r){var o=e.history;o.undone.length=0;var i,a=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&o.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(i=lastChangeEvent(o,o.lastOp==r))){var s=lst(i.changes);0==E(t.from,t.to)&&0==E(t.from,s.to)?s.to=U(t):i.changes.push(historyChangeFromChange(e,t))}else{var l=lst(o.done);for(l&&l.ranges||pushSelectionToHistory(e.sel,o.done),i={changes:[historyChangeFromChange(e,t)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=a,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,s||ye(e,"historyAdded")}function selectionEventCanBeMerged(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function addSelectionToHistory(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||selectionEventCanBeMerged(e,i,lst(o.done),t))?o.done[o.done.length-1]=t:pushSelectionToHistory(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&clearSelectionEvents(o.undone)}function pushSelectionToHistory(e,t){var n=lst(t);n&&n.ranges&&n.equals(e)||t.push(e)}function attachLocalSpans(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i})}function removeClearedSpans(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function getOldSpans(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,o=[];r<t.text.length;++r)o.push(removeClearedSpans(n[r]));return o}function copyHistoryArray(e,t,n){for(var r=0,o=[];r<e.length;++r){var i=e[r];if(i.ranges)o.push(n?Selection.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];o.push({changes:s});for(var l=0;l<a.length;++l){var c,p=a[l];if(s.push({from:p.from,to:p.to,text:p.text}),t)for(var d in p)(c=d.match(/^spans_(\d+)$/))&&indexOf(t,Number(c[1]))>-1&&(lst(s)[d]=p[d],delete p[d])}}}return o}function rebaseHistSelSingle(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function rebaseHistArray(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||(i=e[o]=i.deepCopy(),i.copied=!0);for(var s=0;s<i.ranges.length;s++)rebaseHistSelSingle(i.ranges[s].anchor,t,n,r),rebaseHistSelSingle(i.ranges[s].head,t,n,r)}else{for(var s=0;s<i.changes.length;++s){var l=i.changes[s];if(n<l.from.line)l.from=P(l.from.line+r,l.from.ch),l.to=P(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function rebaseHist(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;rebaseHistArray(e.done,n,r,o),rebaseHistArray(e.undone,n,r,o)}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function e_target(e){return e.target||e.srcElement}function e_button(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),m&&e.ctrlKey&&1==t&&(t=3),t}function getHandlers(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():ve:r||ve}function signalLater(e,t){var n=getHandlers(e,t,!1);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);M?r=M.delayedCallbacks:xe?r=xe:(r=xe=[],setTimeout(fireOrphanDelayed,0));for(var i=0;i<n.length;++i)r.push(function(e){return function(){e.apply(null,o)}}(n[i]))}}function fireOrphanDelayed(){var e=xe;xe=null;for(var t=0;t<e.length;++t)e[t]()}function signalDOMEvent(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ye(e,n||t.type,e,t),e_defaultPrevented(t)||t.codemirrorIgnore}function signalCursorActivity(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==indexOf(n,t[r])&&n.push(t[r])}function hasHandler(e,t){return getHandlers(e,t).length>0}function eventMixin(e){e.prototype.on=function(e,t){me(this,e,t)},e.prototype.off=function(e,t){be(this,e,t)}}function Delayed(){this.id=null}function spaceStr(e){for(;Ae.length<=e;)Ae.push(lst(Ae)+" ");return Ae[e]}function lst(e){return e[e.length-1]}function indexOf(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function map(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function nothing(){}function createObj(e,t){var n;return Object.create?n=Object.create(e):(nothing.prototype=e,n=new nothing),t&&copyObj(t,n),n}function copyObj(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function bind(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function isWordChar(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ke(e))||t.test(e):ke(e)}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function isExtendingChar(e){return e.charCodeAt(0)>=768&&Oe.test(e)}function elt(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function removeChildren(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(e,t){return removeChildren(e).appendChild(t)}function activeElt(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function classTest(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function joinClasses(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!classTest(n[r]).test(t)&&(t+=" "+n[r]);return t}function forEachCodeMirror(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function ensureGlobalHandlers(){Ue||(registerGlobalHandlers(),Ue=!0)}function registerGlobalHandlers(){var e;me(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,forEachCodeMirror(onResize)},100))}),me(window,"blur",function(){forEachCodeMirror(onBlur)})}function zeroWidthElement(e){if(null==Te){var t=elt("span","");removeChildrenAndAdd(e,elt("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Te=t.offsetWidth<=1&&t.offsetHeight>2&&!(i&&a<8))}var n=Te?elt("span",""):elt("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function hasBadBidiRects(e){if(null!=De)return De;var t=removeChildrenAndAdd(e,document.createTextNode("AA")),n=Le(t,0,1).getBoundingClientRect(),r=Le(t,1,2).getBoundingClientRect();return removeChildren(e),!(!n||n.left==n.right)&&(De=r.right-n.right<3)}function hasBadZoomedRects(e){if(null!=He)return He;var t=removeChildrenAndAdd(e,elt("span","x")),n=t.getBoundingClientRect(),r=Le(t,0,1).getBoundingClientRect();return He=Math.abs(n.left-r.left)>1}function iterateBidiSections(e,t,n,r){if(!e)return r(t,n,"ltr");for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),o=!0)}o||r(t,n,"ltr")}function bidiLeft(e){return e.level%2?e.to:e.from}function bidiRight(e){return e.level%2?e.from:e.to}function lineLeft(e){var t=getOrder(e);return t?bidiLeft(t[0]):0}function lineRight(e){var t=getOrder(e);return t?bidiRight(lst(t)):e.text.length}function lineStart(e,t){var n=getLine(e.doc,t),r=visualLine(n);r!=n&&(t=lineNo(r));var o=getOrder(r),i=o?o[0].level%2?lineRight(r):lineLeft(r):0;return P(t,i)}function lineEnd(e,t){for(var n,r=getLine(e.doc,t);n=collapsedSpanAtEnd(r);)r=n.find(1,!0).line,t=null;var o=getOrder(r),i=o?o[0].level%2?lineLeft(r):lineRight(r):r.text.length;return P(null==t?lineNo(r):t,i)}function lineStartSmart(e,t){var n=lineStart(e,t.line),r=getLine(e.doc,n.line),o=getOrder(r);if(!o||0==o[0].level){var i=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return P(n.line,a?0:i)}return n}function compareBidiLevel(e,t,n){var r=e[0].level;return t==r||n!=r&&t<n}function getBidiPartAt(e,t){qe=null;for(var n,r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;if(o.from==t||o.to==t){if(null!=n)return compareBidiLevel(e,o.level,e[n].level)?(o.from!=o.to&&(qe=n),r):(o.from!=o.to&&(qe=r),n);n=r}}return n}function moveInLine(e,t,n,r){if(!r)return t+n;do{t+=n}while(t>0&&isExtendingChar(e.text.charAt(t)));return t}function moveVisually(e,t,n,r){var o=getOrder(e);if(!o)return moveLogically(e,t,n,r);for(var i=getBidiPartAt(o,t),a=o[i],s=moveInLine(e,t,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return getBidiPartAt(o,s)==i?s:(a=o[i+=n],n>0==a.level%2?a.to:a.from);if(!(a=o[i+=n]))return null;s=n>0==a.level%2?moveInLine(e,a.to,-1,r):moveInLine(e,a.from,1,r)}}function moveLogically(e,t,n,r){var o=t+n;if(r)for(;o>0&&isExtendingChar(e.text.charAt(o));)o+=n;return o<0||o>e.text.length?null:o}var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=r||o,a=i&&(r?document.documentMode||6:o[1]),s=/WebKit\//.test(e),l=s&&/Qt\/\d+\.\d+/.test(e),c=/Chrome\//.test(e),p=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),u=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),h=/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=h||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),m=h||/Mac/.test(t),v=/\bCrOS\b/.test(e),b=/win/i.test(t),y=p&&e.match(/Version\/(\d*\.\d*)/);y&&(y=Number(y[1])),y&&y>=15&&(p=!1,s=!0);var x=m&&(l||p&&(null==y||y<12.11)),C=n||i&&a>=9,R=!1,S=!1;NativeScrollbars.prototype=copyObj({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+i+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=m&&!u?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Delayed,this.disableVert=new Delayed},enableZeroWidthBar:function(e,t){function maybeDisable(){var n=e.getBoundingClientRect();document.elementFromPoint(n.left+1,n.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,maybeDisable)}e.style.pointerEvents="auto",t.set(1e3,maybeDisable)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},NativeScrollbars.prototype),NullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype),CodeMirror.scrollbarModel={native:NativeScrollbars,null:NullScrollbars},DisplayUpdate.prototype.signal=function(e,t){hasHandler(e,t)&&this.events.push(arguments)},DisplayUpdate.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ye.apply(null,this.events[e])};var P=CodeMirror.Pos=function(e,t){if(!(this instanceof P))return new P(e,t);this.line=e,this.ch=t},E=CodeMirror.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},w=null;TextareaInput.prototype=copyObj({init:function(e){function prepareCopyCut(e){if(!signalDOMEvent(n,e)){if(n.somethingSelected())w={lineWise:!1,text:n.getSelections()},t.inaccurateSelection&&(t.prevInput="",t.inaccurateSelection=!1,o.value=w.text.join("\n"),_e(o));else{if(!n.options.lineWiseCopyCut)return;var r=copyableRanges(n);w={lineWise:!0,text:r.text},"cut"==e.type?n.setSelections(r.ranges,null,Se):(t.prevInput="",o.value=r.text.join("\n"),_e(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}var t=this,n=this.cm,r=this.wrapper=hiddenTextarea(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),h&&(o.style.width="0px"),me(o,"input",function(){i&&a>=9&&t.hasSelection&&(t.hasSelection=null),t.poll()}),me(o,"paste",function(e){signalDOMEvent(n,e)||handlePaste(e,n)||(n.state.pasteIncoming=!0,t.fastPoll())}),me(o,"cut",prepareCopyCut),me(o,"copy",prepareCopyCut),me(e.scroller,"paste",function(r){eventInWidget(e,r)||signalDOMEvent(n,r)||(n.state.pasteIncoming=!0,t.focus())}),me(e.lineSpace,"selectstart",function(t){eventInWidget(e,t)||fe(t)}),me(o,"compositionstart",function(){var e=n.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),me(o,"compositionend",function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=prepareSelection(e);if(e.options.moveInputWithCursor){var o=cursorCoords(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},showSelection:function(e){var t=this.cm,n=t.display;removeChildrenAndAdd(n.cursorDiv,e.cursors),removeChildrenAndAdd(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,o=r.doc;if(r.somethingSelected()){this.prevInput="";var s=o.sel.primary();t=ze&&(s.to().line-s.from().line>100||(n=r.getSelection()).length>1e3);var l=t?"-":n||r.getSelection();this.textarea.value=l,r.state.focused&&_e(this.textarea),i&&a>=9&&(this.hasSelection=l)}else e||(this.prevInput=this.textarea.value="",i&&a>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!g||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function p(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,p))}var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,p)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Be(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(i&&a>=9&&this.hasSelection===r||m&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,l=Math.min(n.length,r.length);s<l&&n.charCodeAt(s)==r.charCodeAt(s);)++s;var c=this;return runInOp(e,function(){applyTextInput(e,r.slice(s),n.length-s,null,c.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=c.prevInput="":c.prevInput=r,c.composing&&(c.composing.range.clear(),c.composing.range=e.markText(c.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){i&&a>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function prepareSelectAllHack(){if(null!=o.selectionStart){var e=n.somethingSelected(),i=""+(e?o.value:"");o.value="",o.value=i,t.prevInput=e?"":"",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function rehide(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=u,o.style.cssText=d,i&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=o.selectionStart){(!i||i&&a<9)&&prepareSelectAllHack();var e=0,s=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&""==t.prevInput?operation(n,K.selectAll)(n):e++<10?r.detectingSelectAll=setTimeout(s,500):r.input.reset()};r.detectingSelectAll=setTimeout(s,200)}}var t=this,n=t.cm,r=n.display,o=t.textarea,l=posFromMouse(n,e),c=r.scroller.scrollTop;if(l&&!p){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(l)&&operation(n,setSelection)(n.doc,simpleSelection(l),Se);var d=o.style.cssText,u=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var f=t.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px; z-index: 1000; background: "+(i?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",s)var h=window.scrollY;if(r.input.focus(),s&&window.scrollTo(null,h),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),i&&a>=9&&prepareSelectAllHack(),C){ge(e);var g=function(){be(window,"mouseup",g),setTimeout(rehide,20)};me(window,"mouseup",g)}else setTimeout(rehide,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:nothing,needsContentAttribute:!1},TextareaInput.prototype),ContentEditableInput.prototype=copyObj({init:function(e){function onCopyCut(e){if(!signalDOMEvent(n,e)){if(n.somethingSelected())w={lineWise:!1,text:n.getSelections()},"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=copyableRanges(n);w={lineWise:!0,text:t.text},"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,Se),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!h)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",w.text.join("\n"));else{var r=hiddenTextarea(),o=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),o.value=w.text.join("\n");var i=document.activeElement;_e(o),setTimeout(function(){n.display.lineSpace.removeChild(r),i.focus()},50)}}}var t=this,n=t.cm,r=t.div=e.lineDiv;disableBrowserMagic(r),me(r,"paste",function(e){signalDOMEvent(n,e)||handlePaste(e,n)}),me(r,"compositionstart",function(e){var r=e.data;if(t.composing={sel:n.doc.sel,data:r,startData:r},r){var o=n.doc.sel.primary(),i=n.getLine(o.head.line),a=i.indexOf(r,Math.max(0,o.head.ch-r.length));a>-1&&a<=o.head.ch&&(t.composing.sel=simpleSelection(P(o.head.line,a),P(o.head.line,a+r.length)))}}),me(r,"compositionupdate",function(e){t.composing.data=e.data}),me(r,"compositionend",function(e){var n=t.composing;n&&(e.data==n.startData||/\u200b/.test(e.data)||(n.data=e.data),setTimeout(function(){n.handled||t.applyComposition(n),t.composing==n&&(t.composing=null)},50))}),me(r,"touchstart",function(){t.forceCompositionEnd()}),me(r,"input",function(){t.composing||!n.isReadOnly()&&t.pollContent()||runInOp(t.cm,function(){regChange(n)})}),me(r,"copy",onCopyCut),me(r,"cut",onCopyCut)},prepareSelection:function(){var e=prepareSelection(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=domToPos(this.cm,e.anchorNode,e.anchorOffset),o=domToPos(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!o||o.bad||0!=E(minPos(r,o),t.from())||0!=E(maxPos(r,o),t.to())){var i=posToDOM(this.cm,t.from()),a=posToDOM(this.cm,t.to());if(i||a){var s=this.cm.display.view,l=e.rangeCount&&e.getRangeAt(0);if(i){if(!a){var c=s[s.length-1].measure,p=c.maps?c.maps[c.maps.length-1]:c.map;a={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}}else i={node:s[0].measure.map[2],offset:0};try{var d=Le(i.node,i.offset,a.offset,a.node)}catch(e){}d&&(!n&&this.cm.state.focused?(e.collapse(i.node,i.offset),d.collapsed||e.addRange(d)):(e.removeAllRanges(),e.addRange(d)),l&&null==e.anchorNode?e.addRange(l):n&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){removeChildrenAndAdd(this.cm.display.cursorDiv,e.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ne(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function poll(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,poll))}var e=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,poll)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=domToPos(t,e.anchorNode,e.anchorOffset),r=domToPos(t,e.focusNode,e.focusOffset);n&&r&&runInOp(t,function(){setSelection(t.doc,simpleSelection(n,r),Se),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),o=n.to();if(r.line<t.viewFrom||o.line>t.viewTo-1)return!1;var i;if(r.line==t.viewFrom||0==(i=findViewIndex(e,r.line)))var a=lineNo(t.view[0].line),s=t.view[0].node;else var a=lineNo(t.view[i].line),s=t.view[i-1].node.nextSibling;var l=findViewIndex(e,o.line);if(l==t.view.length-1)var c=t.viewTo-1,p=t.lineDiv.lastChild;else var c=lineNo(t.view[l+1].line)-1,p=t.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(domTextBetween(e,s,p,a,c)),u=getBetween(e.doc,P(a,0),P(c,getLine(e.doc,c).text.length));d.length>1&&u.length>1;)if(lst(d)==lst(u))d.pop(),u.pop(),c--;else{if(d[0]!=u[0])break;d.shift(),u.shift(),a++}for(var f=0,h=0,g=d[0],m=u[0],v=Math.min(g.length,m.length);f<v&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var b=lst(d),y=lst(u),x=Math.min(b.length-(1==d.length?f:0),y.length-(1==u.length?f:0));h<x&&b.charCodeAt(b.length-h-1)==y.charCodeAt(y.length-h-1);)++h;d[d.length-1]=b.slice(0,b.length-h),d[0]=d[0].slice(f);var C=P(a,f),R=P(c,u.length?lst(u).length-h:0);return d.length>1||d[0]||E(C,R)?(replaceRange(e.doc,d,C,R,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?operation(this.cm,regChange)(this.cm):e.data&&e.data!=e.startData&&operation(this.cm,applyTextInput)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:!0},ContentEditableInput.prototype),CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput},Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=E(n.anchor,r.anchor)||0!=E(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Range(copyPos(this.ranges[t].anchor),copyPos(this.ranges[t].head));return new Selection(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(E(t,r.from())>=0&&E(e,r.to())<=0)return n}return-1}},Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var I,A,_,L={left:0,right:0,top:0,bottom:0},M=null,k=0,O=0,N=0,T=null;i?T=-.53:n?T=15:c?T=-.7:d&&(T=-1/3);var D=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};CodeMirror.wheelEventPixels=function(e){var t=D(e);return t.x*=T,t.y*=T,t};var j=new Delayed,F=null,U=CodeMirror.changeEnd=function(e){return e.text?P(e.from.line+e.text.length-1,lst(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,G.hasOwnProperty(e)&&operation(this,G[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](getKeyMap(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:methodOp(function(e,t){var n=e.token?e:CodeMirror.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,regChange(this)}),removeOverlay:methodOp(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void regChange(this)}}),indentLine:methodOp(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),isLine(this.doc,e)&&indentLine(this,e,t,n)}),indentSelection:methodOp(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(indentLine(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&ensureCursorVisible(this));else{var i=o.from(),a=o.to(),s=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)indentLine(this,l,e);var c=this.doc.sel.ranges;0==i.ch&&t.length==c.length&&c[r].from().ch>0&&replaceOneSelection(this.doc,r,new Range(i,c[r].to()),Se)}}}),getTokenAt:function(e,t){return takeToken(this,e,t)},getLineTokens:function(e,t){return takeToken(this,P(e),t,!0)},getTokenTypeAt:function(e){e=clipPos(this.doc,e);var t,n=getLineStyles(this,getLine(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?CodeMirror.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!$.hasOwnProperty(t))return n;var r=$[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&n.push(r[o[t]]);else if(o[t])for(var i=0;i<o[t].length;i++){var a=r[o[t][i]];a&&n.push(a)}else o.helperType&&r[o.helperType]?n.push(r[o.helperType]):r[o.name]&&n.push(r[o.name]);for(var i=0;i<r._global.length;i++){var s=r._global[i];s.pred(o,this)&&-1==indexOf(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=clipLine(n,null==e?n.first+n.size-1:e),getStateBefore(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?clipPos(this.doc,e):e?r.from():r.to(),cursorCoords(this,n,t||"page")},charCoords:function(e,t){return charCoords(this,clipPos(this.doc,e),t||"page")},coordsChar:function(e,t){return e=fromCoordSystem(this,e,t||"page"),coordsChar(this,e.left,e.top)},lineAtHeight:function(e,t){return e=fromCoordSystem(this,{top:e,left:0},t||"page").top,lineAtHeight(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),n=getLine(this.doc,e)}else n=e;return intoCoordSystem(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-heightAtLine(n):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},setGutterMarker:methodOp(function(e,t,n){return changeLine(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&isEmpty(r)&&(e.gutterMarkers=null),!0})}),clearGutter:methodOp(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,regLineChange(t,r,"gutter"),isEmpty(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!isLine(this.doc,e))return null;var t=e;if(!(e=getLine(this.doc,e)))return null}else{var t=lineNo(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display;e=cursorCoords(this,clipPos(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(i.wrapper.clientHeight,this.doc.height),c=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(s=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&scrollIntoView(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function(e){if(K.hasOwnProperty(e))return K[e].call(null,this)},triggerElectric:methodOp(function(e){triggerElectric(this,e)}),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var i=0,a=clipPos(this.doc,e);i<t&&(a=findPosH(this.doc,a,o,n,r),!a.hitSide);++i);return a},moveH:methodOp(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?findPosH(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Ee)}),deleteH:methodOp(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):deleteNearSelection(this,function(n){var o=findPosH(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}})}),findPosV:function(e,t,n,r){var o=1,i=r;t<0&&(o=-1,t=-t);for(var a=0,s=clipPos(this.doc,e);a<t;++a){var l=cursorCoords(this,s,"div");if(null==i?i=l.left:l.left=i,s=findPosV(this,l,o,n),s.hitSide)break}return s},moveV:methodOp(function(e,t){var n=this,r=this.doc,o=[],i=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(i)return e<0?a.from():a.to();var s=cursorCoords(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),o.push(s.left);var l=findPosV(n,s,e,t);return"page"==t&&a==r.sel.primary()&&addToScrollPos(n,null,charCoords(n,l,"div").top-s.top),l},Ee),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]}),findWordAt:function(e){var t=this.doc,n=getLine(t,e.line).text,r=e.ch,o=e.ch;if(n){var i=this.getHelper(e,"wordChars");(e.xRel<0||o==n.length)&&r?--r:++o;for(var a=n.charAt(r),s=isWordChar(a,i)?function(e){return isWordChar(e,i)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!isWordChar(e)};r>0&&s(n.charAt(r-1));)--r;for(;o<n.length&&s(n.charAt(o));)++o}return new Range(P(e.line,r),P(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Fe(this.display.cursorDiv,"CodeMirror-overwrite"):je(this.display.cursorDiv,"CodeMirror-overwrite"),ye(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:methodOp(function(e,t){null==e&&null==t||resolveScrollToPos(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-scrollGap(this)-this.display.barHeight,width:e.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:P(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)resolveScrollToPos(this),this.curOp.scrollToPos=e;else{var n=calculateScrollPos(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:methodOp(function(e,t){function interpret(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=interpret(e)),null!=t&&(n.display.wrapper.style.height=interpret(t)),n.options.lineWrapping&&clearLineMeasurementCache(this);var r=n.display.viewFrom;n.doc.iter(r,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){regLineChange(n,r,"widget");break}++r}),n.curOp.forceUpdate=!0,ye(n,"refresh",this)}),operation:function(e){return runInOp(this,e)},refresh:methodOp(function(){var e=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this),(null==e||Math.abs(e-textHeight(this.display))>.5)&&estimateLineHeights(this),ye(this,"refresh",this)}),swapDoc:methodOp(function(e){var t=this.doc;return t.cm=null,attachDoc(this,e),clearCaches(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,signalLater(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},eventMixin(CodeMirror);var V=CodeMirror.defaults={},G=CodeMirror.optionHandlers={},B=CodeMirror.Init={toString:function(){return"CodeMirror.Init"}};option("value","",function(e,t){e.setValue(t)},!0),option("mode",null,function(e,t){e.doc.modeOption=t,loadMode(e)},!0),option("indentUnit",2,loadMode,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,function(e){resetModeState(e),clearCaches(e),regChange(e)},!0),option("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(P(r,i))}r++});for(var o=n.length-1;o>=0;o--)replaceRange(e.doc,t,n[o],P(n[o].line,n[o].ch+t.length))}}),option("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=CodeMirror.Init&&e.refresh()}),option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(e){e.refresh()},!0),option("electricChars",!0),option("inputStyle",g?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),option("rtlMoveVisually",!b),option("wholeLineUpdateBefore",!0),option("theme","default",function(e){themeChanged(e),guttersChanged(e)},!0),option("keyMap","default",function(e,t,n){var r=getKeyMap(t),o=n!=CodeMirror.Init&&getKeyMap(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)}),option("extraKeys",null),option("lineWrapping",!1,wrappingChanged,!0),option("gutters",[],function(e){setGuttersForLineNumbers(e.options),guttersChanged(e)},!0),option("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?compensateForHScroll(e.display)+"px":"0",e.refresh()},!0),option("coverGutterNextToScrollbar",!1,function(e){updateScrollbars(e)},!0),option("scrollbarStyle","native",function(e){initScrollbars(e),updateScrollbars(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),option("lineNumbers",!1,function(e){setGuttersForLineNumbers(e.options),guttersChanged(e)},!0),option("firstLineNumber",1,guttersChanged,!0),option("lineNumberFormatter",function(e){return e},guttersChanged,!0),option("showCursorWhenSelecting",!1,updateSelection,!0),option("resetSelectionOnContextMenu",!0),option("lineWiseCopyCut",!0),option("readOnly",!1,function(e,t){"nocursor"==t?(onBlur(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),option("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),option("dragDrop",!0,dragDropChanged),option("allowDropFileTypes",null),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,updateSelection,!0),option("singleCursorHeightPerLine",!0,updateSelection,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,resetModeState,!0),option("addModeClass",!1,resetModeState,!0),option("pollInterval",100),option("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),option("historyEventDelay",1250),option("viewportMargin",10,function(e){e.refresh()},!0),option("maxHighlightLength",1e4,resetModeState,!0),option("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),option("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),option("autofocus",null);var z=CodeMirror.modes={},H=CodeMirror.mimeModes={};CodeMirror.defineMode=function(e,t){CodeMirror.defaults.mode||"null"==e||(CodeMirror.defaults.mode=e),arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),z[e]=t},CodeMirror.defineMIME=function(e,t){H[e]=t},CodeMirror.resolveMode=function(e){if("string"==typeof e&&H.hasOwnProperty(e))e=H[e];else if(e&&"string"==typeof e.name&&H.hasOwnProperty(e.name)){var t=H[e.name];"string"==typeof t&&(t={name:t}),e=createObj(t,e),e.name=t.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return CodeMirror.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},CodeMirror.getMode=function(e,t){var t=CodeMirror.resolveMode(t),n=z[t.name];if(!n)return CodeMirror.getMode(e,"text/plain");var r=n(e,t);if(W.hasOwnProperty(t.name)){var o=W[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var i in t.modeProps)r[i]=t.modeProps[i];return r},CodeMirror.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),CodeMirror.defineMIME("text/plain","null");var W=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(e,t){copyObj(t,W.hasOwnProperty(e)?W[e]:W[e]={})},CodeMirror.defineExtension=function(e,t){CodeMirror.prototype[e]=t},CodeMirror.defineDocExtension=function(e,t){pe.prototype[e]=t},CodeMirror.defineOption=option;var q=[];CodeMirror.defineInitHook=function(e){q.push(e)};var $=CodeMirror.helpers={};CodeMirror.registerHelper=function(e,t,n){$.hasOwnProperty(e)||($[e]=CodeMirror[e]={_global:[]}),$[e][t]=n},CodeMirror.registerGlobalHelper=function(e,t,n,r){CodeMirror.registerHelper(e,t,r),$[e]._global.push({pred:n,val:r})};var Y=CodeMirror.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n},X=CodeMirror.startState=function(e,t,n){return!e.startState||e.startState(t,n)};CodeMirror.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var K=CodeMirror.commands={selectAll:function(e){e.setSelection(P(e.firstLine(),0),P(e.lastLine()),Se)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Se)},killLine:function(e){deleteNearSelection(e,function(t){if(t.empty()){var n=getLine(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:P(t.head.line+1,0)}:{from:t.head,to:P(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){deleteNearSelection(e,function(t){return{from:P(t.from().line,0),to:clipPos(e.doc,P(t.to().line+1,0))}})},delLineLeft:function(e){deleteNearSelection(e,function(e){return{from:P(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){deleteNearSelection(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){deleteNearSelection(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(P(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(P(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return lineStart(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return lineStartSmart(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return lineEnd(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ee)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ee)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?lineStartSmart(e,t.head):r},Ee)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=we(e.getLine(i.line),i.ch,r);t.push(spaceStr(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){runInOp(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var o=t[r].head,i=getLine(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new P(o.line,o.ch-1)),o.ch>0)o=new P(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),P(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=getLine(e.doc,o.line-1).text;a&&e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),P(o.line-1,a.length-1),P(o.line,1),"+transpose")}n.push(new Range(o,o))}e.setSelections(n)})},newlineAndIndent:function(e){runInOp(e,function(){for(var t=e.listSelections().length,n=0;n<t;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}ensureCursorVisible(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},Q=CodeMirror.keyMap={};Q.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Q.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Q.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Q.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Q.default=m?Q.macDefault:Q.pcDefault,CodeMirror.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=map(n.split(" "),normalizeKeyName),i=0;i<o.length;i++){var a,s;i==o.length-1?(s=o.join(" "),a=r):(s=o.slice(0,i+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e};var J=CodeMirror.lookupKey=function(e,t,n,r){t=getKeyMap(t);var o=t.call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return J(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=J(e,t.fallthrough[i],n,r);if(a)return a}}},Z=CodeMirror.isModifierKey=function(e){var t="string"==typeof e?e:We[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ee=CodeMirror.keyName=function(e,t){if(p&&34==e.keyCode&&e.char)return!1;var n=We[e.keyCode],r=n;return null!=r&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(x?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(x?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};CodeMirror.fromTextArea=function(e,t){function save(){e.value=a.getValue()}if(t=t?copyObj(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=activeElt();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}if(e.form&&(me(e.form,"submit",save),!t.leaveSubmitMethodAlone)){var r=e.form,o=r.submit;try{var i=r.submit=function(){save(),r.submit=o,r.submit(),r.submit=i}}catch(e){}}t.finishInit=function(t){t.save=save,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,save(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(be(e.form,"submit",save),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var a=CodeMirror(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return a};var te=CodeMirror.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};te.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=we(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?we(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return we(this.string,null,this.tabSize)-(this.lineStart?we(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ne=0,re=CodeMirror.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ne};eventMixin(re),re.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&startOperation(e),hasHandler(this,"clear")){var n=this.find();n&&signalLater(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],s=getMarkedSpanFor(a.markedSpans,this);e&&!this.collapsed?regLineChange(e,lineNo(a),"text"):e&&(null!=s.to&&(o=lineNo(a)),null!=s.from&&(r=lineNo(a))),a.markedSpans=removeMarkedSpan(a.markedSpans,s),null==s.from&&this.collapsed&&!lineIsHidden(this.doc,a)&&e&&updateLineHeight(a,textHeight(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var l=visualLine(this.lines[i]),c=lineLength(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&regChange(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&reCheckSelection(e.doc)),e&&signalLater(e,"markerCleared",e,this),t&&endOperation(e),this.parent&&this.parent.clear()}},re.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,o=0;o<this.lines.length;++o){var i=this.lines[o],a=getMarkedSpanFor(i.markedSpans,this);if(null!=a.from&&(n=P(t?i:lineNo(i),a.from),-1==e))return n;if(null!=a.to&&(r=P(t?i:lineNo(i),a.to),1==e))return r}return n&&{from:n,to:r}},re.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&runInOp(n,function(){var r=e.line,o=lineNo(e.line),i=findViewForLine(n,o);if(i&&(clearLineMeasurementCacheFor(i),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!lineIsHidden(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var s=widgetHeight(t)-a;s&&updateLineHeight(r,r.height+s)}})},re.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=indexOf(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},re.prototype.detachLine=function(e){if(this.lines.splice(indexOf(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var ne=0,oe=CodeMirror.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};eventMixin(oe),oe.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();signalLater(this,"clear")}},oe.prototype.find=function(e,t){return this.primary.find(e,t)};var ie=CodeMirror.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};eventMixin(ie),ie.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=lineNo(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var i=widgetHeight(this);updateLineHeight(n,Math.max(0,n.height-i)),e&&runInOp(e,function(){adjustScrollWhenAboveVisible(e,n,-i),regLineChange(e,r,"widget")})}},ie.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=widgetHeight(this)-e;r&&(updateLineHeight(n,n.height+r),t&&runInOp(t,function(){t.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(t,n,r)}))};var ae=CodeMirror.Line=function(e,t,n){this.text=e,attachMarkedSpans(this,t),this.height=n?n(this):1};eventMixin(ae),ae.prototype.lineNo=function(){return lineNo(this)};var se={},le={};LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,cleanUpLine(o),signalLater(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e),a=r.height;if(r.removeInner(e,i),this.height-=a-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var s=[];this.collapse(s),this.children=[new LeafChunk(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<=i){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,s=a;s<o.lines.length;){var l=new LeafChunk(o.lines.slice(s,s+=25));o.height-=l.height,this.children.splice(++r,0,l),l.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new BranchChunk(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=indexOf(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var o=new BranchChunk(e.children);o.parent=e,e.children=[o,n],e=o}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var ce=0,pe=CodeMirror.Doc=function(e,t,n,r){if(!(this instanceof pe))return new pe(e,t,n,r);null==n&&(n=0),BranchChunk.call(this,[new LeafChunk([new ae("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var o=P(n,0);this.sel=simpleSelection(o),this.history=new History(null),this.id=++ce,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),updateDoc(this,{from:o,to:o,text:e}),setSelection(this,simpleSelection(o),Se)};pe.prototype=createObj(BranchChunk.prototype,{constructor:pe,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=getLines(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:docMethodOp(function(e){var t=P(this.first,0),n=this.first+this.size-1;makeChange(this,{from:t,to:P(n,getLine(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),setSelection(this,simpleSelection(t))}),replaceRange:function(e,t,n,r){t=clipPos(this,t),n=n?clipPos(this,n):t,replaceRange(this,e,t,n,r)},getRange:function(e,t,n){var r=getBetween(this,clipPos(this,e),clipPos(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(isLine(this,e))return getLine(this,e)},getLineNumber:function(e){return lineNo(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=getLine(this,e)),visualLine(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return clipPos(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(e,t,n){setSimpleSelection(this,clipPos(this,"number"==typeof e?P(e,t||0):e),null,n)}),setSelection:docMethodOp(function(e,t,n){setSimpleSelection(this,clipPos(this,e),clipPos(this,t||e),n)}),extendSelection:docMethodOp(function(e,t,n){extendSelection(this,clipPos(this,e),t&&clipPos(this,t),n)}),extendSelections:docMethodOp(function(e,t){extendSelections(this,clipPosArray(this,e),t)}),extendSelectionsBy:docMethodOp(function(e,t){extendSelections(this,clipPosArray(this,map(this.sel.ranges,e)),t)}),setSelections:docMethodOp(function(e,t,n){if(e.length){for(var r=0,o=[];r<e.length;r++)o[r]=new Range(clipPos(this,e[r].anchor),clipPos(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(o,t),n)}}),addSelection:docMethodOp(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Range(clipPos(this,e),clipPos(this,t||e))),setSelection(this,normalizeSelection(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=getBetween(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=getBetween(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:docMethodOp(function(e,t,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:n}}for(var s=t&&"end"!=t&&computeReplacedSel(this,r,t),i=r.length-1;i>=0;i--)makeChange(this,r[i]);s?setSelectionReplaceHistory(this,s):this.cm&&ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(e){var t=this.history=new History(this.history.maxGeneration);t.done=copyHistoryArray(e.done.slice(0),null,!0),t.undone=copyHistoryArray(e.undone.slice(0),null,!0)},addLineClass:docMethodOp(function(e,t,n){return changeLine(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(classTest(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:docMethodOp(function(e,t,n){return changeLine(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(classTest(n));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:docMethodOp(function(e,t,n){return addLineWidget(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return markText(this,clipPos(this,e),clipPos(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=clipPos(this,e),markText(this,e,e,n,"bookmark")},findMarksAt:function(e){e=clipPos(this,e);var t=[],n=getLine(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=clipPos(this,e),t=clipPos(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n}),clipPos(this,P(n,t))},indexFromPos:function(e){e=clipPos(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new pe(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new pe(getLines(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],copySharedMarkers(r,findSharedMarkers(this)),r},unlinkDoc:function(e){if(e instanceof CodeMirror&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),detachSharedMarkers(findSharedMarkers(this));break}}if(e.history==this.history){var r=[e.id];linkedDocs(e,function(e){r.push(e.id)},!0),e.history=new History(null),e.history.done=copyHistoryArray(this.history.done,r),e.history.undone=copyHistoryArray(this.history.undone,r)}},iterLinkedDocs:function(e){linkedDocs(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ge(e)},lineSeparator:function(){return this.lineSep||"\n"}}),pe.prototype.eachLine=pe.prototype.iter;var de="iter insert remove copy getEditor constructor".split(" ");for(var ue in pe.prototype)pe.prototype.hasOwnProperty(ue)&&indexOf(de,ue)<0&&(CodeMirror.prototype[ue]=function(e){return function(){return e.apply(this.doc,arguments)}}(pe.prototype[ue]));eventMixin(pe);var fe=CodeMirror.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},he=CodeMirror.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},ge=CodeMirror.e_stop=function(e){fe(e),he(e)},me=CodeMirror.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),o=r[t]||(r[t]=[]);o.push(n)}},ve=[],be=CodeMirror.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=getHandlers(e,t,!1),o=0;o<r.length;++o)if(r[o]==n){r.splice(o,1);break}},ye=CodeMirror.signal=function(e,t){var n=getHandlers(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)},xe=null,Ce=30,Re=CodeMirror.Pass={toString:function(){return"CodeMirror.Pass"}},Se={scroll:!1},Pe={origin:"*mouse"},Ee={origin:"+move"};Delayed.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var we=CodeMirror.countColumn=function(e,t,n,r,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=r||0,a=o||0;;){var s=e.indexOf("\t",i);if(s<0||s>=t)return a+(t-i);a+=s-i,a+=n-a%n,i=s+1}},Ie=CodeMirror.findColumn=function(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,o+=n-o%n,r=i+1,o>=t)return r}},Ae=[""],_e=function(e){e.select()};h?_e=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:i&&(_e=function(e){try{e.select()}catch(e){}});var Le,Me=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ke=CodeMirror.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Me.test(e))},Oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Le=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ne=CodeMirror.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};i&&a<11&&(activeElt=function(){try{return document.activeElement}catch(e){return document.body}});var Te,De,je=CodeMirror.rmClass=function(e,t){var n=e.className,r=classTest(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}},Fe=CodeMirror.addClass=function(e,t){var n=e.className;classTest(t).test(n)||(e.className+=(n?" ":"")+t)},Ue=!1,Ve=function(){if(i&&a<9)return!1;var e=elt("div");return"draggable"in e||"dragDrop"in e}(),Ge=CodeMirror.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Be=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ze=function(){var e=elt("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),He=null,We=CodeMirror.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;e<10;e++)We[e+48]=We[e+96]=String(e);for(var e=65;e<=90;e++)We[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)We[e+111]=We[e+63235]="F"+e}();var qe,$e=function(){function charType(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1773?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}function BidiSpan(e,t,n){this.level=e,this.from=t,this.to=n}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,i=/[Lb1n]/,a=/[1n]/;return function(e){if(!n.test(e))return!1;for(var t,s=e.length,l=[],c=0;c<s;++c)l.push(t=charType(e.charCodeAt(c)));for(var c=0,p="L";c<s;++c){var t=l[c];"m"==t?l[c]=p:p=t}for(var c=0,d="L";c<s;++c){var t=l[c];"1"==t&&"r"==d?l[c]="n":o.test(t)&&(d=t,"r"==t&&(l[c]="R"))}for(var c=1,p=l[0];c<s-1;++c){var t=l[c];"+"==t&&"1"==p&&"1"==l[c+1]?l[c]="1":","!=t||p!=l[c+1]||"1"!=p&&"n"!=p||(l[c]=p),p=t}for(var c=0;c<s;++c){var t=l[c];if(","==t)l[c]="N";else if("%"==t){for(var u=c+1;u<s&&"%"==l[u];++u);for(var f=c&&"!"==l[c-1]||u<s&&"1"==l[u]?"1":"N",h=c;h<u;++h)l[h]=f;c=u-1}}for(var c=0,d="L";c<s;++c){var t=l[c];"L"==d&&"1"==t?l[c]="L":o.test(t)&&(d=t)}for(var c=0;c<s;++c)if(r.test(l[c])){for(var u=c+1;u<s&&r.test(l[u]);++u);for(var g="L"==(c?l[c-1]:"L"),m="L"==(u<s?l[u]:"L"),f=g||m?"L":"R",h=c;h<u;++h)l[h]=f;c=u-1}for(var v,b=[],c=0;c<s;)if(i.test(l[c])){var y=c;for(++c;c<s&&i.test(l[c]);++c);b.push(new BidiSpan(0,y,c))}else{var x=c,C=b.length;for(++c;c<s&&"L"!=l[c];++c);for(var h=x;h<c;)if(a.test(l[h])){x<h&&b.splice(C,0,new BidiSpan(1,x,h));var R=h;for(++h;h<c&&a.test(l[h]);++h);b.splice(C,0,new BidiSpan(2,R,h)),x=h}else++h;x<c&&b.splice(C,0,new BidiSpan(1,x,c))}return 1==b[0].level&&(v=e.match(/^\s+/))&&(b[0].from=v[0].length,b.unshift(new BidiSpan(0,0,v[0].length))),1==lst(b).level&&(v=e.match(/\s+$/))&&(lst(b).to-=v[0].length,b.push(new BidiSpan(0,s-v[0].length,s))),2==b[0].level&&b.unshift(new BidiSpan(1,b[0].to,b[0].to)),b[0].level!=lst(b).level&&b.push(new BidiSpan(b[0].level,s,s)),b}}();return CodeMirror.version="5.17.0",CodeMirror})},{}],15:[function(e,t,n){/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){function isArrayLike(e){var t=!!e&&"length"in e&&e.length,n=u.type(e);return"function"!==n&&!u.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function winnow(e,t,n){if(u.isFunction(t))return u.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return u.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(R.test(t))return u.filter(t,e,n);t=u.filter(t,e)}return u.grep(e,function(e){return s.call(t,e)>-1!==n})}function sibling(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function createOptions(e){var t={};return u.each(e.match(I)||[],function(e,n){t[n]=!0}),t}function completed(){r.removeEventListener("DOMContentLoaded",completed),e.removeEventListener("load",completed),u.ready()}function Data(){this.expando=u.expando+Data.uid++}function dataAttr(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(N,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:O.test(n)?u.parseJSON(n):n)}catch(e){}k.set(e,t,n)}else n=void 0;return n}function adjustCSS(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return u.css(e,t,"")},l=s(),c=n&&n[3]||(u.cssNumber[t]?"":"px"),p=(u.cssNumber[t]||"px"!==c&&+l)&&D.exec(u.css(e,t));if(p&&p[3]!==c){c=c||p[3],n=n||[],p=+l||1;do{i=i||".5",p/=i,u.style(e,t,p+c)}while(i!==(i=s()/l)&&1!==i&&--a)}return n&&(p=+p||+l||0,o=n[1]?p+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=p,r.end=o)),o}function getAll(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&u.nodeName(e,t)?u.merge([e],n):n}function setGlobalEval(e,t){for(var n=0,r=e.length;n<r;n++)M.set(e[n],"globalEval",!t||M.get(t[n],"globalEval"))}function buildFragment(e,t,n,r,o){for(var i,a,s,l,c,p,d=t.createDocumentFragment(),f=[],h=0,g=e.length;h<g;h++)if((i=e[h])||0===i)if("object"===u.type(i))u.merge(f,i.nodeType?[i]:i);else if(z.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(V.exec(i)||["",""])[1].toLowerCase(),l=B[s]||B._default,a.innerHTML=l[1]+u.htmlPrefilter(i)+l[2],p=l[0];p--;)a=a.lastChild;u.merge(f,a.childNodes),a=d.firstChild,a.textContent=""}else f.push(t.createTextNode(i));for(d.textContent="",h=0;i=f[h++];)if(r&&u.inArray(i,r)>-1)o&&o.push(i);else if(c=u.contains(i.ownerDocument,i),a=getAll(d.appendChild(i),"script"),c&&setGlobalEval(a),n)for(p=0;i=a[p++];)G.test(i.type||"")&&n.push(i);return d}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return r.activeElement}catch(e){}}function on(e,t,n,r,o,i){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)on(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=returnFalse;else if(!o)return e;return 1===i&&(a=o,o=function(e){return u().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=u.guid++)),e.each(function(){u.event.add(this,t,o,r,n)})}function manipulationTarget(e,t){return u.nodeName(e,"table")&&u.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function restoreScript(e){var t=K.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function cloneCopyEvent(e,t){var n,r,o,i,a,s,l,c;if(1===t.nodeType){if(M.hasData(e)&&(i=M.access(e),a=M.set(t,i),c=i.events)){delete a.handle,a.events={};for(o in c)for(n=0,r=c[o].length;n<r;n++)u.event.add(t,o,c[o][n])}k.hasData(e)&&(s=k.access(e),l=u.extend({},s),k.set(t,l))}}function fixInput(e,t){var n=t.nodeName.toLowerCase();"input"===n&&U.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function domManip(e,t,n,r){t=i.apply([],t);var o,a,s,l,c,p,f=0,h=e.length,g=h-1,m=t[0],v=u.isFunction(m);if(v||h>1&&"string"==typeof m&&!d.checkClone&&X.test(m))return e.each(function(o){var i=e.eq(o);v&&(t[0]=m.call(this,o,i.html())),domManip(i,t,n,r)});if(h&&(o=buildFragment(t,e[0].ownerDocument,!1,e,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=u.map(getAll(o,"script"),disableScript),l=s.length;f<h;f++)c=o,f!==g&&(c=u.clone(c,!0,!0),l&&u.merge(s,getAll(c,"script"))),n.call(e[f],c,f);if(l)for(p=s[s.length-1].ownerDocument,u.map(s,restoreScript),f=0;f<l;f++)c=s[f],G.test(c.type||"")&&!M.access(c,"globalEval")&&u.contains(p,c)&&(c.src?u._evalUrl&&u._evalUrl(c.src):u.globalEval(c.textContent.replace(Q,"")))}return e}function remove(e,t,n){for(var r,o=t?u.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||u.cleanData(getAll(r)),r.parentNode&&(n&&u.contains(r.ownerDocument,r)&&setGlobalEval(getAll(r,"script")),r.parentNode.removeChild(r));return e}function actualDisplay(e,t){var n=u(t.createElement(e)).appendTo(t.body),r=u.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=r,n=Z[e];return n||(n=actualDisplay(e,t),"none"!==n&&n||(J=(J||u("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=J[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),J.detach()),Z[e]=n),n}function curCSS(e,t,n){var r,o,i,a,s=e.style;return n=n||ne(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||u.contains(e.ownerDocument,e)||(a=u.style(e,t)),n&&!d.pixelMarginRight()&&te.test(a)&&ee.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),void 0!==a?a+"":a}function addGetHookIf(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function vendorPropName(e){if(e in ce)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=le.length;n--;)if((e=le[n]+t)in ce)return e}function setPositiveNumber(e,t,n){var r=D.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function augmentWidthOrHeight(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=u.css(e,n+j[i],!0,o)),r?("content"===n&&(a-=u.css(e,"padding"+j[i],!0,o)),"margin"!==n&&(a-=u.css(e,"border"+j[i]+"Width",!0,o))):(a+=u.css(e,"padding"+j[i],!0,o),"padding"!==n&&(a+=u.css(e,"border"+j[i]+"Width",!0,o)));return a}function getWidthOrHeight(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=ne(e),a="border-box"===u.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(o=curCSS(e,t,i),(o<0||null==o)&&(o=e.style[t]),te.test(o))return o;r=a&&(d.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+augmentWidthOrHeight(e,t,n||(a?"border":"content"),r,i)+"px"}function showHide(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(i[a]=M.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&F(r)&&(i[a]=M.access(r,"olddisplay",defaultDisplay(r.nodeName)))):(o=F(r),"none"===n&&o||M.set(r,"olddisplay",o?n:u.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function Tween(e,t,n,r,o){return new Tween.prototype.init(e,t,n,r,o)}function createFxNow(){return e.setTimeout(function(){pe=void 0}),pe=u.now()}function genFx(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=j[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function createTween(e,t,n){for(var r,o=(Animation.tweeners[t]||[]).concat(Animation.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,o,i,a,s,l,c,p=this,d={},f=e.style,h=e.nodeType&&F(e),g=M.get(e,"fxshow");n.queue||(s=u._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,u.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=u.css(e,"display"),"inline"===("none"===c?M.get(e,"olddisplay")||defaultDisplay(e.nodeName):c)&&"none"===u.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],ue.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;h=!0}d[r]=g&&g[r]||u.style(e,r)}else c=void 0;if(u.isEmptyObject(d))"inline"===("none"===c?defaultDisplay(e.nodeName):c)&&(f.display=c);else{g?"hidden"in g&&(h=g.hidden):g=M.access(e,"fxshow",{}),i&&(g.hidden=!h),h?u(e).show():p.done(function(){u(e).hide()}),p.done(function(){var t;M.remove(e,"fxshow");for(t in d)u.style(e,t,d[t])});for(r in d)a=createTween(h?g[r]:0,r,p),r in g||(g[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function propFilter(e,t){var n,r,o,i,a;for(n in e)if(r=u.camelCase(n),o=t[r],i=e[n],u.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=u.cssHooks[r])&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function Animation(e,t,n){var r,o,i=0,a=Animation.prefilters.length,s=u.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=pe||createFxNow(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,i=1-r,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(i);return s.notifyWith(e,[c,i,n]),i<1&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:u.extend({},t),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},n),originalProperties:t,originalOptions:n,startTime:pe||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=u.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),p=c.props;for(propFilter(p,c.opts.specialEasing);i<a;i++)if(r=Animation.prefilters[i].call(c,e,p,c.opts))return u.isFunction(r.stop)&&(u._queueHooks(c.elem,c.opts.queue).stop=u.proxy(r.stop,r)),r;return u.map(p,createTween,c),u.isFunction(c.opts.start)&&c.opts.start.call(e,c),u.fx.timer(u.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function getClass(e){return e.getAttribute&&e.getAttribute("class")||""}function addToPrefiltersOrTransports(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(I)||[];if(u.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function inspect(a){var s;return o[a]=!0,u.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||i||o[l]?i?!(s=l):void 0:(t.dataTypes.unshift(l),inspect(l),!1)}),s}var o={},i=e===ke;return inspect(t.dataTypes[0])||!o["*"]&&inspect("*")}function ajaxExtend(e,t){var n,r,o=u.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&u.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}function ajaxConvert(e,t,n,r){var o,i,a,s,l,c={},p=e.dataTypes.slice();if(p[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=p.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=p.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(o in c)if(s=o.split(" "),s[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],p.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var o;if(u.isArray(t))u.each(t,function(t,o){n||De.test(e)?r(e,o):buildParams(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==u.type(t))r(e,t);else for(o in t)buildParams(e+"["+o+"]",t[o],n,r)}function getWindow(e){return u.isWindow(e)?e:9===e.nodeType&&e.defaultView}var n=[],r=e.document,o=n.slice,i=n.concat,a=n.push,s=n.indexOf,l={},c=l.toString,p=l.hasOwnProperty,d={},u=function(e,t){return new u.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,g=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};u.fn=u.prototype={jquery:"2.2.4",constructor:u,selector:"",length:0,toArray:function(){return o.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:o.call(this)},pushStack:function(e){var t=u.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return u.each(this,e)},map:function(e){return this.pushStack(u.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},u.extend=u.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||u.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(c&&r&&(u.isPlainObject(r)||(o=u.isArray(r)))?(o?(o=!1,i=n&&u.isArray(n)?n:[]):i=n&&u.isPlainObject(n)?n:{},a[t]=u.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},u.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===u.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!u.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==u.type(e)||e.nodeType||u.isWindow(e))return!1;if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||p.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=u.trim(e))&&(1===e.indexOf("use strict")?(t=r.createElement("script"),t.text=e,r.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(h,"ms-").replace(g,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(isArrayLike(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(isArrayLike(Object(e))?u.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(isArrayLike(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return i.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),u.isFunction(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||u.guid++,i},now:Date.now,support:d}),"function"==typeof Symbol&&(u.fn[Symbol.iterator]=n[Symbol.iterator]),u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var v=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function Sizzle(e,t,r,o){var i,s,c,p,d,h,v,b,R=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!o&&((t?t.ownerDocument||t:C)!==f&&u(t),t=t||f,g)){if(11!==S&&(h=J.exec(e)))if(i=h[1]){if(9===S){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(R&&(c=R.getElementById(i))&&y(t,c)&&c.id===i)return r.push(c),r}else{if(h[2])return O.apply(r,t.getElementsByTagName(e)),r;if((i=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!w[e+" "]&&(!m||!m.test(e))){if(1!==S)R=t,b=e;else if("object"!==t.nodeName.toLowerCase()){for((p=t.getAttribute("id"))?p=p.replace(ee,"\\$&"):t.setAttribute("id",p=x),v=a(e),s=v.length,d=$.test(p)?"#"+p:"[id='"+p+"']";s--;)v[s]=d+" "+toSelector(v[s]);b=v.join(","),R=Z.test(e)&&testContext(t.parentNode)||t}if(b)try{return O.apply(r,R.querySelectorAll(b)),r}catch(e){}finally{p===x&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,r,o)}function createCache(){function cache(t,n){return e.push(t+" ")>r.cacheLength&&delete cache[e.shift()],cache[t+" "]=n}var e=[];return cache}function markFunction(e){return e[x]=!0,e}function assert(e){var t=f.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function addHandle(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function siblingCheck(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function createPositionalPseudo(e){return markFunction(function(t){return t=+t,markFunction(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function testContext(e){return e&&void 0!==e.getElementsByTagName&&e}function setFilters(){}function toSelector(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function addCombinator(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=S++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,c,p=[R,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[x]||(t[x]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[r])&&s[0]===R&&s[1]===i)return p[2]=s[2];if(l[r]=p,p[2]=e(t,n,a))return!0}}}function elementMatcher(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function multipleContexts(e,t,n){for(var r=0,o=t.length;r<o;r++)Sizzle(e,t[r],n);return n}function condense(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function setMatcher(e,t,n,r,o,i){return r&&!r[x]&&(r=setMatcher(r)),o&&!o[x]&&(o=setMatcher(o,i)),markFunction(function(i,a,s,l){var c,p,d,u=[],f=[],h=a.length,g=i||multipleContexts(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:condense(g,u,e,s,l),v=n?o||(i?e:h||r)?[]:a:m;if(n&&n(m,v,s,l),r)for(c=condense(v,f),r(c,[],s,l),p=c.length;p--;)(d=c[p])&&(v[f[p]]=!(m[f[p]]=d));if(i){if(o||e){if(o){for(c=[],p=v.length;p--;)(d=v[p])&&c.push(m[p]=d);o(null,v=[],c,l)}for(p=v.length;p--;)(d=v[p])&&(c=o?T(i,d):u[p])>-1&&(i[c]=!(a[c]=d))}}else v=condense(v===a?v.splice(h,v.length):v),o?o(null,a,v,l):O.apply(a,v)})}function matcherFromTokens(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,p=addCombinator(function(e){return e===t},s,!0),d=addCombinator(function(e){return T(t,e)>-1},s,!0),u=[function(e,n,r){var o=!a&&(r||n!==c)||((t=n).nodeType?p(e,n,r):d(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])u=[addCombinator(elementMatcher(u),n)];else{if(n=r.filter[e[l].type].apply(null,e[l].matches),n[x]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return setMatcher(l>1&&elementMatcher(u),l>1&&toSelector(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),n,l<o&&matcherFromTokens(e.slice(l,o)),o<i&&matcherFromTokens(e=e.slice(o)),o<i&&toSelector(e))}u.push(n)}return elementMatcher(u)}function matcherFromGroupMatchers(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,l,p){var d,h,m,v=0,b="0",y=i&&[],x=[],C=c,S=i||o&&r.find.TAG("*",p),P=R+=null==C?1:Math.random()||.1,E=S.length;for(p&&(c=a===f||a||p);b!==E&&null!=(d=S[b]);b++){if(o&&d){for(h=0,a||d.ownerDocument===f||(u(d),s=!g);m=e[h++];)if(m(d,a||f,s)){l.push(d);break}p&&(R=P)}n&&((d=!m&&d)&&v--,i&&y.push(d))}if(v+=b,n&&b!==v){for(h=0;m=t[h++];)m(y,x,a,s);if(i){if(v>0)for(;b--;)y[b]||x[b]||(x[b]=M.call(l));x=condense(x)}O.apply(l,x),p&&!i&&x.length>0&&v+t.length>1&&Sizzle.uniqueSort(l)}return p&&(R=P,c=C),y};return n?markFunction(i):i}var t,n,r,o,i,a,s,l,c,p,d,u,f,h,g,m,v,b,y,x="sizzle"+1*new Date,C=e.document,R=0,S=0,P=createCache(),E=createCache(),w=createCache(),I=function(e,t){return e===t&&(d=!0),0},A=1<<31,_={}.hasOwnProperty,L=[],M=L.pop,k=L.push,O=L.push,N=L.slice,T=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",U="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",V=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",G=new RegExp(j+"+","g"),B=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),z=new RegExp("^"+j+"*,"+j+"*"),H=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),W=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),q=new RegExp(V),$=new RegExp("^"+F+"$"),Y={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){u()};try{O.apply(L=N.call(C.childNodes),C.childNodes),L[C.childNodes.length].nodeType}catch(e){O={apply:L.length?function(e,t){k.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}n=Sizzle.support={},i=Sizzle.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},u=Sizzle.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:C;return a!==f&&9===a.nodeType&&a.documentElement?(f=a,h=f.documentElement,g=!i(f),(o=f.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),n.attributes=assert(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=assert(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(f.getElementsByClassName),n.getById=assert(function(e){return h.appendChild(e).id=x,!f.getElementsByName||!f.getElementsByName(x).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Q.test(f.querySelectorAll))&&(assert(function(e){h.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+x+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||m.push(".#.+[+~]")}),assert(function(e){var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Q.test(b=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&assert(function(e){n.disconnectedMatch=b.call(e,"div"),b.call(e,"[s!='']:x"),v.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),y=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===f||e.ownerDocument===C&&y(C,e)?-1:t===f||t.ownerDocument===C&&y(C,t)?1:p?T(p,e)-T(p,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===f?-1:t===f?1:o?-1:i?1:p?T(p,e)-T(p,t):0;if(o===i)return siblingCheck(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?siblingCheck(a[r],s[r]):a[r]===C?-1:s[r]===C?1:0},f):f},Sizzle.matches=function(e,t){return Sizzle(e,null,null,t)},Sizzle.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&u(e),t=t.replace(W,"='$1']"),n.matchesSelector&&g&&!w[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return Sizzle(t,f,null,[e]).length>0},Sizzle.contains=function(e,t){return(e.ownerDocument||e)!==f&&u(e),y(e,t)},Sizzle.attr=function(e,t){(e.ownerDocument||e)!==f&&u(e);var o=r.attrHandle[t.toLowerCase()],i=o&&_.call(r.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},Sizzle.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Sizzle.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,p=!n.sortStable&&e.slice(0),e.sort(I),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return p=null,e},o=Sizzle.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},r=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Sizzle.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Sizzle.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=P[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&P(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Sizzle.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(G," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,p,d,u,f,h,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(m){if(i){for(;g;){for(u=t;u=u[g];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&b){for(u=m,d=u[x]||(u[x]={}),p=d[u.uniqueID]||(d[u.uniqueID]={}),c=p[e]||[],f=c[0]===R&&c[1],y=f&&c[2],u=f&&m.childNodes[f];u=++f&&u&&u[g]||(y=f=0)||h.pop();)if(1===u.nodeType&&++y&&u===t){p[e]=[R,f,y];break}}else if(b&&(u=t,d=u[x]||(u[x]={}),p=d[u.uniqueID]||(d[u.uniqueID]={}),c=p[e]||[],f=c[0]===R&&c[1],y=f),!1===y)for(;(u=++f&&u&&u[g]||(y=f=0)||h.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++y||(b&&(d=u[x]||(u[x]={}),p=d[u.uniqueID]||(d[u.uniqueID]={}),p[e]=[R,y]),u!==t)););return(y-=o)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||Sizzle.error("unsupported pseudo: "+e);return o[x]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?markFunction(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=T(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:markFunction(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[x]?markFunction(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:markFunction(function(e){return function(t){return Sizzle(e,t).length>0}}),contains:markFunction(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:markFunction(function(e){return $.test(e||"")||Sizzle.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(e,t){return[t-1]}),eq:createPositionalPseudo(function(e,t,n){return[n<0?n+t:n]}),even:createPositionalPseudo(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:createPositionalPseudo(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:createPositionalPseudo(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:createPositionalPseudo(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(t);return setFilters.prototype=r.filters=r.pseudos,r.setFilters=new setFilters,a=Sizzle.tokenize=function(e,t){var n,o,i,a,s,l,c,p=E[e+" "];if(p)return t?0:p.slice(0);for(s=e,l=[],c=r.preFilter;s;){n&&!(o=z.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=H.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(o=Y[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?Sizzle.error(e):E(e,l).slice(0)},s=Sizzle.compile=function(e,t){var n,r=[],o=[],i=w[e+" "];if(!i){for(t||(t=a(e)),n=t.length;n--;)i=matcherFromTokens(t[n]),i[x]?r.push(i):o.push(i);i=w(e,matcherFromGroupMatchers(o,r)),i.selector=e}return i},l=Sizzle.select=function(e,t,o,i){var l,c,p,d,u,f="function"==typeof e&&e,h=!i&&a(e=f.selector||e);if(o=o||[],1===h.length){if(c=h[0]=h[0].slice(0),c.length>2&&"ID"===(p=c[0]).type&&n.getById&&9===t.nodeType&&g&&r.relative[c[1].type]){if(!(t=(r.find.ID(p.matches[0].replace(te,ne),t)||[])[0]))return o;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=Y.needsContext.test(e)?0:c.length;l--&&(p=c[l],!r.relative[d=p.type]);)if((u=r.find[d])&&(i=u(p.matches[0].replace(te,ne),Z.test(c[0].type)&&testContext(t.parentNode)||t))){if(c.splice(l,1),!(e=i.length&&toSelector(c)))return O.apply(o,i),o;break}}return(f||s(e,h))(i,t,!g,o,!t||Z.test(e)&&testContext(t.parentNode)||t),o},n.sortStable=x.split("").sort(I).join("")===x,n.detectDuplicates=!!d,u(),n.sortDetached=assert(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),assert(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&assert(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||addHandle("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),assert(function(e){return null==e.getAttribute("disabled")})||addHandle(D,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),Sizzle}(e);u.find=v,u.expr=v.selectors,u.expr[":"]=u.expr.pseudos,u.uniqueSort=u.unique=v.uniqueSort,u.text=v.getText,u.isXMLDoc=v.isXML,u.contains=v.contains;var b=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&u(e).is(n))break;r.push(e)}return r},y=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},x=u.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,R=/^.[^:#\[\.,]*$/;u.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?u.find.matchesSelector(r,e)?[r]:[]:u.find.matches(e,u.grep(t,function(e){return 1===e.nodeType}))},u.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(u(e).filter(function(){for(t=0;t<n;t++)if(u.contains(o[t],this))return!0}));for(t=0;t<n;t++)u.find(e,o[t],r);return r=this.pushStack(n>1?u.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,"string"==typeof e&&x.test(e)?u(e):e||[],!1).length}});var S,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(u.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||S,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof u?t[0]:t,u.merge(this,u.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),C.test(o[1])&&u.isPlainObject(t))for(o in t)u.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return i=r.getElementById(o[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=r,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):u.isFunction(e)?void 0!==n.ready?n.ready(e):e(u):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),u.makeArray(e,this))}).prototype=u.fn,S=u(r);var E=/^(?:parents|prev(?:Until|All))/,w={children:!0,contents:!0,next:!0,prev:!0};u.fn.extend({has:function(e){var t=u(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(u.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=x.test(e)||"string"!=typeof e?u(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&u.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?u.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?s.call(u(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),u.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},parentsUntil:function(e,t,n){return b(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return b(e,"nextSibling")},prevAll:function(e){return b(e,"previousSibling")},nextUntil:function(e,t,n){return b(e,"nextSibling",n)},prevUntil:function(e,t,n){return b(e,"previousSibling",n)},siblings:function(e){return y((e.parentNode||{}).firstChild,e)},children:function(e){return y(e.firstChild)},contents:function(e){return e.contentDocument||u.merge([],e.childNodes)}},function(e,t){u.fn[e]=function(n,r){var o=u.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=u.filter(r,o)),this.length>1&&(w[e]||u.uniqueSort(o),E.test(e)&&o.reverse()),this.pushStack(o)}});var I=/\S+/g;u.Callbacks=function(e){e="string"==typeof e?createOptions(e):u.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function add(t){u.each(t,function(t,n){u.isFunction(n)?e.unique&&c.has(n)||i.push(n):n&&n.length&&"string"!==u.type(n)&&add(n)})}(arguments),n&&!t&&l()),this},remove:function(){return u.each(arguments,function(e,t){for(var n;(n=u.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?u.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},u.extend({Deferred:function(e){var t=[["resolve","done",u.Callbacks("once memory"),"resolved"],["reject","fail",u.Callbacks("once memory"),"rejected"],["notify","progress",u.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return u.Deferred(function(n){u.each(t,function(t,i){var a=u.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&u.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?u.extend(e,r):r}},o={};return r.pipe=r.then,u.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,i=0,a=o.call(arguments),s=a.length,l=1!==s||e&&u.isFunction(e.promise)?s:0,c=1===l?e:u.Deferred(),p=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?o.call(arguments):i,r===t?c.notifyWith(n,r):--l||c.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)a[i]&&u.isFunction(a[i].promise)?a[i].promise().progress(p(i,n,t)).done(p(i,r,a)).fail(c.reject):--l;return l||c.resolveWith(r,a),c.promise()}});var A;u.fn.ready=function(e){return u.ready.promise().done(e),this},u.extend({isReady:!1,readyWait:1,holdReady:function(e){e?u.readyWait++:u.ready(!0)},ready:function(e){(!0===e?--u.readyWait:u.isReady)||(u.isReady=!0,!0!==e&&--u.readyWait>0||(A.resolveWith(r,[u]),u.fn.triggerHandler&&(u(r).triggerHandler("ready"),u(r).off("ready"))))}}),u.ready.promise=function(t){return A||(A=u.Deferred(),"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(u.ready):(r.addEventListener("DOMContentLoaded",completed),e.addEventListener("load",completed))),A.promise(t)},u.ready.promise();var _=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===u.type(n)){o=!0;for(s in n)_(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,u.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(u(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},L=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};Data.uid=1,Data.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!L(e))return{};var t=e[this.expando];return t||(t={},L(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[t]=n;else for(r in t)o[r]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,u.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=e[this.expando];if(void 0!==i){if(void 0===t)this.register(e);else{u.isArray(t)?r=t.concat(t.map(u.camelCase)):(o=u.camelCase(t),t in i?r=[t,o]:(r=o,r=r in i?[r]:r.match(I)||[])),n=r.length;for(;n--;)delete i[r[n]]}(void 0===t||u.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!u.isEmptyObject(t)}};var M=new Data,k=new Data,O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/[A-Z]/g;u.extend({hasData:function(e){return k.hasData(e)||M.hasData(e)},data:function(e,t,n){return k.access(e,t,n)},removeData:function(e,t){k.remove(e,t)},_data:function(e,t,n){return M.access(e,t,n)},_removeData:function(e,t){M.remove(e,t)}}),u.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=k.get(i),1===i.nodeType&&!M.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=u.camelCase(r.slice(5)),dataAttr(i,r,o[r])));M.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){k.set(this,e)}):_(this,function(t){var n,r;if(i&&void 0===t){if(void 0!==(n=k.get(i,e)||k.get(i,e.replace(N,"-$&").toLowerCase())))return n;if(r=u.camelCase(e),void 0!==(n=k.get(i,r)))return n;if(void 0!==(n=dataAttr(i,r,void 0)))return n}else r=u.camelCase(e),this.each(function(){var n=k.get(this,r);k.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&k.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){k.remove(this,e)})}}),u.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=M.get(e,t),n&&(!r||u.isArray(n)?r=M.access(e,t,u.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=u.queue(e,t),r=n.length,o=n.shift(),i=u._queueHooks(e,t),a=function(){u.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return M.get(e,n)||M.access(e,n,{empty:u.Callbacks("once memory").add(function(){M.remove(e,[t+"queue",n])})})}}),u.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?u.queue(this[0],e):void 0===t?this:this.each(function(){var n=u.queue(this,e,t);u._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&u.dequeue(this,e)})},dequeue:function(e){return this.each(function(){u.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=u.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=M.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,D=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),j=["Top","Right","Bottom","Left"],F=function(e,t){return e=t||e,"none"===u.css(e,"display")||!u.contains(e.ownerDocument,e)},U=/^(?:checkbox|radio)$/i,V=/<([\w:-]+)/,G=/^$|\/(?:java|ecma)script/i,B={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};B.optgroup=B.option,B.tbody=B.tfoot=B.colgroup=B.caption=B.thead,B.th=B.td;var z=/<|&#?\w+;/;!function(){var e=r.createDocumentFragment(),t=e.appendChild(r.createElement("div")),n=r.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),d.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var H=/^key/,W=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,q=/^([^.]*)(?:\.(.+)|)/;u.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,c,p,d,f,h,g,m,v=M.get(e);if(v)for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=u.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==u&&u.event.triggered!==t.type?u.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(I)||[""],c=t.length;c--;)s=q.exec(t[c])||[],h=m=s[1],g=(s[2]||"").split(".").sort(),h&&(d=u.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=u.event.special[h]||{},p=u.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&u.expr.match.needsContext.test(o),namespace:g.join(".")},i),(f=l[h])||(f=l[h]=[],f.delegateCount=0,d.setup&&!1!==d.setup.call(e,r,g,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,p):f.push(p),u.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,c,p,d,f,h,g,m,v=M.hasData(e)&&M.get(e);if(v&&(l=v.events)){for(t=(t||"").match(I)||[""],c=t.length;c--;)if(s=q.exec(t[c])||[],h=m=s[1],g=(s[2]||"").split(".").sort(),h){for(d=u.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,f=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)p=f[i],!o&&m!==p.origType||n&&n.guid!==p.guid||s&&!s.test(p.namespace)||r&&r!==p.selector&&("**"!==r||!p.selector)||(f.splice(i,1),p.selector&&f.delegateCount--,d.remove&&d.remove.call(e,p));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,g,v.handle)||u.removeEvent(e,h,v.handle),delete l[h])}else for(h in l)u.event.remove(e,h+t[c],n,r,!0);u.isEmptyObject(l)&&M.remove(e,"handle events")}},dispatch:function(e){e=u.event.fix(e);var t,n,r,i,a,s=[],l=o.call(arguments),c=(M.get(this,"events")||{})[e.type]||[],p=u.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,e)){for(s=u.event.handlers.call(this,e,c),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(r=((u.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,l))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?u(o,this).index(l)>-1:u.find(o,this,null,[l]).length),r[o]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,o,i,a=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||r,o=n.documentElement,i=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[u.expando])return e;var t,n,o,i=e.type,a=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=W.test(i)?this.mouseHooks:H.test(i)?this.keyHooks:{}),o=s.props?this.props.concat(s.props):this.props,e=new u.Event(a),t=o.length;t--;)n=o[t],e[n]=a[n];return e.target||(e.target=r),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u.nodeName(this,"input"))return this.click(),!1},_default:function(e){return u.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},u.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},u.Event=function(e,t){if(!(this instanceof u.Event))return new u.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?returnTrue:returnFalse):this.type=e,t&&u.extend(this,t),this.timeStamp=e&&e.timeStamp||u.now(),this[u.expando]=!0},u.Event.prototype={constructor:u.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){u.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||u.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),u.fn.extend({on:function(e,t,n,r){return on(this,e,t,n,r)},one:function(e,t,n,r){return on(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,u(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=returnFalse),this.each(function(){u.event.remove(this,e,n,t)})}});var $=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Y=/<script|<style|<link/i,X=/checked\s*(?:[^=]|=\s*.checked.)/i,K=/^true\/(.*)/,Q=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;u.extend({htmlPrefilter:function(e){return e.replace($,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=u.contains(e.ownerDocument,e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||u.isXMLDoc(e)))for(a=getAll(s),i=getAll(e),r=0,o=i.length;r<o;r++)fixInput(i[r],a[r]);if(t)if(n)for(i=i||getAll(e),a=a||getAll(s),r=0,o=i.length;r<o;r++)cloneCopyEvent(i[r],a[r]);else cloneCopyEvent(e,s);return a=getAll(s,"script"),a.length>0&&setGlobalEval(a,!l&&getAll(e,"script")),s},cleanData:function(e){for(var t,n,r,o=u.event.special,i=0;void 0!==(n=e[i]);i++)if(L(n)){if(t=n[M.expando]){if(t.events)for(r in t.events)o[r]?u.event.remove(n,r):u.removeEvent(n,r,t.handle);n[M.expando]=void 0}n[k.expando]&&(n[k.expando]=void 0)}}}),u.fn.extend({domManip:domManip,detach:function(e){return remove(this,e,!0)},remove:function(e){return remove(this,e)},text:function(e){return _(this,function(e){return void 0===e?u.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return domManip(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){manipulationTarget(this,e).appendChild(e)}})},prepend:function(){return domManip(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(u.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return u.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Y.test(e)&&!B[(V.exec(e)||["",""])[1].toLowerCase()]){e=u.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(u.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return domManip(this,arguments,function(t){var n=this.parentNode;u.inArray(this,e)<0&&(u.cleanData(getAll(this)),n&&n.replaceChild(t,this))},e)}}),u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){u.fn[e]=function(e){for(var n,r=[],o=u(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),u(o[s])[t](n),a.apply(r,n.get());return this.pushStack(r)}});var J,Z={HTML:"block",BODY:"block"},ee=/^margin/,te=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),ne=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},re=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o},oe=r.documentElement;!function(){function computeStyleTests(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",oe.appendChild(a);var r=e.getComputedStyle(s);t="1%"!==r.top,i="2px"===r.marginLeft,n="4px"===r.width,s.style.marginRight="50%",o="4px"===r.marginRight,oe.removeChild(a)}var t,n,o,i,a=r.createElement("div"),s=r.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),u.extend(d,{pixelPosition:function(){return computeStyleTests(),t},boxSizingReliable:function(){return null==n&&computeStyleTests(),n},pixelMarginRight:function(){return null==n&&computeStyleTests(),o},reliableMarginLeft:function(){return null==n&&computeStyleTests(),i},reliableMarginRight:function(){var t,n=s.appendChild(r.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",oe.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),oe.removeChild(a),s.removeChild(n),t}}))}();var ie=/^(none|table(?!-c[ea]).+)/,ae={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"},le=["Webkit","O","Moz","ms"],ce=r.createElement("div").style;u.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=u.camelCase(t),l=e.style;if(t=u.cssProps[s]||(u.cssProps[s]=vendorPropName(s)||s),a=u.cssHooks[t]||u.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t];i=typeof n,"string"===i&&(o=D.exec(n))&&o[1]&&(n=adjustCSS(e,t,o),i="number"),null!=n&&n===n&&("number"===i&&(n+=o&&o[3]||(u.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))}},css:function(e,t,n,r){var o,i,a,s=u.camelCase(t);return t=u.cssProps[s]||(u.cssProps[s]=vendorPropName(s)||s),a=u.cssHooks[t]||u.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=curCSS(e,t,r)),"normal"===o&&t in se&&(o=se[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),u.each(["height","width"],function(e,t){u.cssHooks[t]={get:function(e,n,r){if(n)return ie.test(u.css(e,"display"))&&0===e.offsetWidth?re(e,ae,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var o,i=r&&ne(e),a=r&&augmentWidthOrHeight(e,t,r,"border-box"===u.css(e,"boxSizing",!1,i),i);return a&&(o=D.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=u.css(e,t)),setPositiveNumber(e,n,a)}}}),u.cssHooks.marginLeft=addGetHookIf(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(curCSS(e,"marginLeft"))||e.getBoundingClientRect().left-re(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),u.cssHooks.marginRight=addGetHookIf(d.reliableMarginRight,function(e,t){if(t)return re(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),u.each({margin:"",padding:"",border:"Width"},function(e,t){u.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+j[r]+t]=i[r]||i[r-2]||i[0];return o}},ee.test(e)||(u.cssHooks[e+t].set=setPositiveNumber)}),u.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,o,i={},a=0;if(u.isArray(t)){for(r=ne(e),o=t.length;a<o;a++)i[t[a]]=u.css(e,t[a],!1,r);return i}return void 0!==n?u.style(e,t,n):u.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){F(this)?u(this).show():u(this).hide()})}}),u.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||u.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(u.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=u.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=u.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){u.fx.step[e.prop]?u.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[u.cssProps[e.prop]]&&!u.cssHooks[e.prop]?e.elem[e.prop]=e.now:u.style(e.elem,e.prop,e.now+e.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},u.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},u.fx=Tween.prototype.init,u.fx.step={};var pe,de,ue=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;u.Animation=u.extend(Animation,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return adjustCSS(n.elem,e,D.exec(t),n),n}]},tweener:function(e,t){u.isFunction(e)?(t=e,e=["*"]):e=e.match(I);for(var n,r=0,o=e.length;r<o;r++)n=e[r],Animation.tweeners[n]=Animation.tweeners[n]||[],Animation.tweeners[n].unshift(t)},prefilters:[defaultPrefilter],prefilter:function(e,t){t?Animation.prefilters.unshift(e):Animation.prefilters.push(e)}}),u.speed=function(e,t,n){var r=e&&"object"==typeof e?u.extend({},e):{complete:n||!n&&t||u.isFunction(e)&&e,duration:e,easing:n&&t||t&&!u.isFunction(t)&&t};return r.duration=u.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in u.fx.speeds?u.fx.speeds[r.duration]:u.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){u.isFunction(r.old)&&r.old.call(this),r.queue&&u.dequeue(this,r.queue)},r},u.fn.extend({fadeTo:function(e,t,n,r){return this.filter(F).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=u.isEmptyObject(e),i=u.speed(t,n,r),a=function(){var t=Animation(this,u.extend({},e),i);(o||M.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=u.timers,a=M.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&fe.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||u.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=M.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=u.timers,a=r?r.length:0;for(n.finish=!0,u.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),u.each(["toggle","show","hide"],function(e,t){var n=u.fn[t];u.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,o)}}),u.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){u.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),u.timers=[],u.fx.tick=function(){var e,t=0,n=u.timers;for(pe=u.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||u.fx.stop(),pe=void 0},u.fx.timer=function(e){u.timers.push(e),e()?u.fx.start():u.timers.pop()},u.fx.interval=13,u.fx.start=function(){de||(de=e.setInterval(u.fx.tick,u.fx.interval))},u.fx.stop=function(){e.clearInterval(de),de=null},u.fx.speeds={slow:600,fast:200,_default:400},u.fn.delay=function(t,n){return t=u.fx?u.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=r.createElement("input"),t=r.createElement("select"),n=t.appendChild(r.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=n.selected,t.disabled=!0,d.optDisabled=!n.disabled,e=r.createElement("input"),e.value="t",e.type="radio",d.radioValue="t"===e.value}();var he,ge=u.expr.attrHandle;u.fn.extend({attr:function(e,t){return _(this,u.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){u.removeAttr(this,e)})}}),u.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?u.prop(e,t,n):(1===i&&u.isXMLDoc(e)||(t=t.toLowerCase(),o=u.attrHooks[t]||(u.expr.match.bool.test(t)?he:void 0)),void 0!==n?null===n?void u.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=u.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&u.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(I);if(i&&1===e.nodeType)for(;n=i[o++];)r=u.propFix[n]||n,u.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),he={set:function(e,t,n){return!1===t?u.removeAttr(e,n):e.setAttribute(n,n),n}},u.each(u.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ge[t]||u.find.attr;ge[t]=function(e,t,r){var o,i;return r||(i=ge[t],ge[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,ge[t]=i),o}});var me=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;u.fn.extend({prop:function(e,t){return _(this,u.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[u.propFix[e]||e]})}}),u.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&u.isXMLDoc(e)||(t=u.propFix[t]||t,o=u.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=u.find.attr(e,"tabindex");return t?parseInt(t,10):me.test(e.nodeName)||ve.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(u.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),u.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){u.propFix[this.toLowerCase()]=this});var be=/[\t\r\n\f]/g;u.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(u.isFunction(e))return this.each(function(t){u(this).addClass(e.call(this,t,getClass(this)))});if("string"==typeof e&&e)for(t=e.match(I)||[];n=this[l++];)if(o=getClass(n),r=1===n.nodeType&&(" "+o+" ").replace(be," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=u.trim(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(u.isFunction(e))return this.each(function(t){u(this).removeClass(e.call(this,t,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(I)||[];n=this[l++];)if(o=getClass(n),r=1===n.nodeType&&(" "+o+" ").replace(be," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=u.trim(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):u.isFunction(e)?this.each(function(n){u(this).toggleClass(e.call(this,n,getClass(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=u(this),i=e.match(I)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=getClass(this),t&&M.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":M.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+getClass(n)+" ").replace(be," ").indexOf(t)>-1)return!0;return!1}});var ye=/\r/g,xe=/[\x20\t\r\n\f]+/g;u.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=u.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,u(this).val()):e,null==o?o="":"number"==typeof o?o+="":u.isArray(o)&&(o=u.map(o,function(e){return null==e?"":e+""})),(t=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=u.valHooks[o.type]||u.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(ye,""):null==n?"":n)}}}),u.extend({valHooks:{option:{get:function(e){var t=u.find.attr(e,"value");return null!=t?t:u.trim(u.text(e)).replace(xe," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,l=o<0?s:i?o:0;l<s;l++)if(n=r[l],(n.selected||l===o)&&(d.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!u.nodeName(n.parentNode,"optgroup"))){if(t=u(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=u.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=u.inArray(u.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(e,t){if(u.isArray(t))return e.checked=u.inArray(u(e).val(),t)>-1}},d.checkOn||(u.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ce=/^(?:focusinfocus|focusoutblur)$/;u.extend(u.event,{trigger:function(t,n,o,i){var a,s,l,c,d,f,h,g=[o||r],m=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(s=l=o=o||r,3!==o.nodeType&&8!==o.nodeType&&!Ce.test(m+u.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),d=m.indexOf(":")<0&&"on"+m,t=t[u.expando]?t:new u.Event(m,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:u.makeArray(n,[t]),h=u.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(o,n))){if(!i&&!h.noBubble&&!u.isWindow(o)){for(c=h.delegateType||m,Ce.test(c+m)||(s=s.parentNode);s;s=s.parentNode)g.push(s),l=s;l===(o.ownerDocument||r)&&g.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=g[a++])&&!t.isPropagationStopped();)t.type=a>1?c:h.bindType||m,f=(M.get(s,"events")||{})[t.type]&&M.get(s,"handle"),f&&f.apply(s,n),(f=d&&s[d])&&f.apply&&L(s)&&(t.result=f.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(g.pop(),n)||!L(o)||d&&u.isFunction(o[m])&&!u.isWindow(o)&&(l=o[d],l&&(o[d]=null),u.event.triggered=m,o[m](),u.event.triggered=void 0,l&&(o[d]=l)),t.result}},simulate:function(e,t,n){var r=u.extend(new u.Event,n,{type:e,isSimulated:!0});u.event.trigger(r,null,t)}}),u.fn.extend({trigger:function(e,t){return this.each(function(){u.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return u.event.trigger(e,t,n,!0)}}),u.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){u.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),u.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),d.focusin="onfocusin"in e,d.focusin||u.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){u.event.simulate(t,e.target,u.event.fix(e))};u.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=M.access(r,t);o||r.addEventListener(e,n,!0),M.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=M.access(r,t)-1;o?M.access(r,t,o):(r.removeEventListener(e,n,!0),M.remove(r,t))}}});var Re=e.location,Se=u.now(),Pe=/\?/;u.parseJSON=function(e){return JSON.parse(e+"")},u.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||u.error("Invalid XML: "+t),n};var Ee=/#.*$/,we=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ae=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_e=/^(?:GET|HEAD)$/,Le=/^\/\//,Me={},ke={},Oe="*/".concat("*"),Ne=r.createElement("a");Ne.href=Re.href,u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Re.href,type:"GET",isLocal:Ae.test(Re.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":u.parseJSON,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,u.ajaxSettings),t):ajaxExtend(u.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(Me),ajaxTransport:addToPrefiltersOrTransports(ke),ajax:function(t,n){function done(t,n,r,s){var c,d,y,x,R,P=n;2!==C&&(C=2,l&&e.clearTimeout(l),o=void 0,a=s||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(x=ajaxHandleResponses(f,S,r)),x=ajaxConvert(f,x,S,c),c?(f.ifModified&&(R=S.getResponseHeader("Last-Modified"),R&&(u.lastModified[i]=R),(R=S.getResponseHeader("etag"))&&(u.etag[i]=R)),204===t||"HEAD"===f.type?P="nocontent":304===t?P="notmodified":(P=x.state,d=x.data,y=x.error,c=!y)):(y=P,!t&&P||(P="error",t<0&&(t=0))),S.status=t,S.statusText=(n||P)+"",c?m.resolveWith(h,[d,P,S]):m.rejectWith(h,[S,P,y]),S.statusCode(b),b=void 0,p&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,f,c?d:y]),v.fireWith(h,[S,P]),p&&(g.trigger("ajaxComplete",[S,f]),--u.active||u.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,i,a,s,l,c,p,d,f=u.ajaxSetup({},n),h=f.context||f,g=f.context&&(h.nodeType||h.jquery)?u(h):u.event,m=u.Deferred(),v=u.Callbacks("once memory"),b=f.statusCode||{},y={},x={},C=0,R="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!s)for(s={};t=Ie.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=x[n]=x[n]||e,y[e]=t),this},overrideMimeType:function(e){return C||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(C<2)for(t in e)b[t]=[b[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||R;return o&&o.abort(t),done(0,t),this}};if(m.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,f.url=((t||f.url||Re.href)+"").replace(Ee,"").replace(Le,Re.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=u.trim(f.dataType||"*").toLowerCase().match(I)||[""],null==f.crossDomain){c=r.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Ne.protocol+"//"+Ne.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=u.param(f.data,f.traditional)),inspectPrefiltersOrTransports(Me,f,n,S),2===C)return S;p=u.event&&f.global,p&&0==u.active++&&u.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!_e.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(Pe.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=we.test(i)?i.replace(we,"$1_="+Se++):i+(Pe.test(i)?"&":"?")+"_="+Se++)),f.ifModified&&(u.lastModified[i]&&S.setRequestHeader("If-Modified-Since",u.lastModified[i]),u.etag[i]&&S.setRequestHeader("If-None-Match",u.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Oe+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)S.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(h,S,f)||2===C))return S.abort();R="abort";for(d in{success:1,error:1,complete:1})S[d](f[d]);if(o=inspectPrefiltersOrTransports(ke,f,n,S)){if(S.readyState=1,p&&g.trigger("ajaxSend",[S,f]),2===C)return S;f.async&&f.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},f.timeout));try{C=1,o.send(y,done)}catch(e){if(!(C<2))throw e;done(-1,e)}}else done(-1,"No Transport");return S},getJSON:function(e,t,n){return u.get(e,t,n,"json")},getScript:function(e,t){return u.get(e,void 0,t,"script")}}),u.each(["get","post"],function(e,t){u[t]=function(e,n,r,o){return u.isFunction(n)&&(o=o||r,r=n,n=void 0),u.ajax(u.extend({url:e,type:t,dataType:o,data:n,success:r},u.isPlainObject(e)&&e))}}),u._evalUrl=function(e){return u.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},u.fn.extend({wrapAll:function(e){var t;return u.isFunction(e)?this.each(function(t){u(this).wrapAll(e.call(this,t))}):(this[0]&&(t=u(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return u.isFunction(e)?this.each(function(t){u(this).wrapInner(e.call(this,t))}):this.each(function(){var t=u(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=u.isFunction(e);return this.each(function(n){u(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){u.nodeName(this,"body")||u(this).replaceWith(this.childNodes)}).end()}}),u.expr.filters.hidden=function(e){return!u.expr.filters.visible(e)},u.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Te=/%20/g,De=/\[\]$/,je=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,Ue=/^(?:input|select|textarea|keygen)/i;u.param=function(e,t){var n,r=[],o=function(e,t){t=u.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=u.ajaxSettings&&u.ajaxSettings.traditional),u.isArray(e)||e.jquery&&!u.isPlainObject(e))u.each(e,function(){o(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,o);return r.join("&").replace(Te,"+")},u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=u.prop(this,"elements");return e?u.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!u(this).is(":disabled")&&Ue.test(this.nodeName)&&!Fe.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var n=u(this).val();return null==n?null:u.isArray(n)?u.map(n,function(e){return{name:t.name,value:e.replace(je,"\r\n")}}):{name:t.name,value:n.replace(je,"\r\n")}}).get()}}),u.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ve={0:200,1223:204},Ge=u.ajaxSettings.xhr();d.cors=!!Ge&&"withCredentials"in Ge,d.ajax=Ge=!!Ge,u.ajaxTransport(function(t){var n,r;if(d.cors||Ge&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ve[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return u.globalEval(e),e}}}),u.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),u.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(o,i){t=u("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Be=[],ze=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Be.pop()||u.expando+"_"+Se++;return this[e]=!0,e}}),u.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=!1!==t.jsonp&&(ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=u.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ze,"$1"+o):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||u.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){void 0===i?u(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Be.push(o)),a&&u.isFunction(i)&&i(a[0]),a=i=void 0}),"script"}),u.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||r;var o=C.exec(e),i=!n&&[];return o?[t.createElement(o[1])]:(o=buildFragment([e],t,i),i&&i.length&&u(i).remove(),u.merge([],o.childNodes))};var He=u.fn.load;u.fn.load=function(e,t,n){if("string"!=typeof e&&He)return He.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=u.trim(e.slice(s)),e=e.slice(0,s)),u.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&u.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?u("<div>").append(u.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},u.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){u.fn[t]=function(e){return this.on(t,e)}}),u.expr.filters.animated=function(e){return u.grep(u.timers,function(t){return e===t.elem}).length},u.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c,p=u.css(e,"position"),d=u(e),f={};"static"===p&&(e.style.position="relative"),s=d.offset(),i=u.css(e,"top"),l=u.css(e,"left"),c=("absolute"===p||"fixed"===p)&&(i+l).indexOf("auto")>-1,c?(r=d.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),u.isFunction(t)&&(t=t.call(e,n,u.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):d.css(f)}},u.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){u.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;if(i)return t=i.documentElement,u.contains(t,r)?(o=r.getBoundingClientRect(),n=getWindow(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===u.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),u.nodeName(e[0],"html")||(r=e.offset()),r.top+=u.css(e[0],"borderTopWidth",!0),r.left+=u.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-u.css(n,"marginTop",!0),left:t.left-r.left-u.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===u.css(e,"position");)e=e.offsetParent;return e||oe})}}),u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;u.fn[e]=function(r){return _(this,function(e,r,o){var i=getWindow(e);if(void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),u.each(["top","left"],function(e,t){u.cssHooks[t]=addGetHookIf(d.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),te.test(n)?u(e).position()[t]+"px":n})}),u.each({Height:"height",Width:"width"},function(e,t){u.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){u.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return _(this,function(t,n,r){var o;return u.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?u.css(t,n,a):u.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),u.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),u.fn.andSelf=u.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return u});var We=e.jQuery,qe=e.$;return u.noConflict=function(t){return e.$===u&&(e.$=qe),t&&e.jQuery===u&&(e.jQuery=We),u},t||(e.jQuery=e.$=u),u})},{}],16:[function(e,t,n){var r=e("../src/store-engine"),o=e("../storages/all"),i=[e("../plugins/json2")];t.exports=r.createStore(o,i)},{"../plugins/json2":17,"../src/store-engine":19,"../storages/all":21}],17:[function(e,t,n){function json2Plugin(){return e("./lib/json2"),{}}t.exports=json2Plugin},{"./lib/json2":18}],18:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,n=0;n<i;n+=1)a[n]=str(n,l)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(r=rep[n],(o=str(r,l))&&a.push(quote(r)+(gap?": ":":")+o));else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(o=str(r,l))&&a.push(quote(r)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],19:[function(e,t,n){function _warn(){var e="undefined"==typeof console?null:console;if(e){(e.warn?e.warn:e.log).apply(e,arguments)}}function createStore(e,t,n){n||(n=""),e&&!c(e)&&(e=[e]),t&&!c(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",f=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h={_namespacePrefix:r,_namespaceRegexp:f,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){function super_fn(){if(n)return a(arguments,function(e,n){t[n]=e}),n.apply(r,t)}var t=o(arguments,0),r=this,i=[super_fn].concat(t);return e.apply(r,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(c(e))return void a(e,function(e){t._addPlugin(e)});if(!i(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!p(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!d(n))throw new Error("Plugins must return an object of function properties");a(n,function(n,r){if(!p(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)})}},addStorage:function(e){_warn("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},g=l(h,u,{plugins:[]});return g.raw={},a(g,function(e,t){p(e)&&(g.raw[t]=s(g,e))}),a(e,function(e){g._addStorage(e)}),a(t,function(e){g._addPlugin(e)}),g}var r=e("./util"),o=r.slice,i=r.pluck,a=r.each,s=r.bind,l=r.create,c=r.isList,p=r.isFunction,d=r.isObject;t.exports={createStore:createStore};var u={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return createStore.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return createStore(this.storage,this.plugins,e)}}},{"./util":20}],20:[function(e,t,n){(function(e){function bind(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function slice(e,t){return Array.prototype.slice.call(e,t||0)}function each(e,t){pluck(e,function(e,n){return t(e,n),!1})}function map(e,t){var n=isList(e)?[]:{};return pluck(e,function(e,r){return n[r]=t(e,r),!1}),n}function pluck(e,t){if(isList(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function isList(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}function isObject(e){return e&&"[object Object]"==={}.toString.call(e)}var n=function(){return Object.assign?Object.assign:function(e,t,n,r){for(var o=1;o<arguments.length;o++)each(Object(arguments[o]),function(t,n){e[n]=t});return e}}(),r=function(){function F(){}return Object.create?function(e,t,r,o){var i=slice(arguments,1);return n.apply(this,[Object.create(e)].concat(i))}:function(e,t,r,o){var i=slice(arguments,1);return F.prototype=e,n.apply(this,[new F].concat(i))}}(),o=function(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}(),i="undefined"!=typeof window?window:e;t.exports={assign:n,create:r,trim:o,bind:bind,slice:slice,each:each,map:map,pluck:pluck,isList:isList,isFunction:isFunction,isObject:isObject,Global:i}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){t.exports=[e("./localStorage"),e("./oldFF-globalStorage"),e("./oldIE-userDataStorage"),e("./cookieStorage"),e("./sessionStorage"),e("./memoryStorage")]},{"./cookieStorage":22,"./localStorage":23,"./memoryStorage":24,"./oldFF-globalStorage":25,"./oldIE-userDataStorage":26,"./sessionStorage":27}],22:[function(e,t,n){function read(e){if(!e||!_has(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))}function each(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var r=t[n].split("="),o=unescape(r[0]),s=unescape(r[1]);e(s,o)}}function write(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove(e){e&&_has(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll(){each(function(e,t){remove(t)})}function _has(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}var r=e("../src/util"),o=r.Global,i=r.trim;t.exports={name:"cookieStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var a=o.document},{"../src/util":20}],23:[function(e,t,n){function localStorage(){return o.localStorage}function read(e){return localStorage().getItem(e)}function write(e,t){return localStorage().setItem(e,t)}function each(e){for(var t=localStorage().length-1;t>=0;t--){var n=localStorage().key(t);e(read(n),n)}}function remove(e){return localStorage().removeItem(e)}function clearAll(){return localStorage().clear()}var r=e("../src/util"),o=r.Global;t.exports={name:"localStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll}},{"../src/util":20}],24:[function(e,t,n){function read(e){return r[e]}function write(e,t){r[e]=t}function each(e){for(var t in r)r.hasOwnProperty(t)&&e(r[t],t)}function remove(e){delete r[e]}function clearAll(e){r={}}t.exports={name:"memoryStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var r={}},{}],25:[function(e,t,n){function read(e){return i[e]}function write(e,t){i[e]=t}function each(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}function remove(e){return i.removeItem(e)}function clearAll(){each(function(e,t){delete i[e]})}var r=e("../src/util"),o=r.Global;t.exports={name:"oldFF-globalStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var i=o.globalStorage},{"../src/util":20}],26:[function(e,t,n){function write(e,t){if(!l){var n=fixKey(e);s(function(e){e.setAttribute(n,t),e.save(i)})}}function read(e){if(!l){var t=fixKey(e),n=null;return s(function(e){n=e.getAttribute(t)}),n}}function each(e){s(function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}})}function remove(e){var t=fixKey(e);s(function(e){e.removeAttribute(t),e.save(i)})}function clearAll(){s(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(i)})}function fixKey(e){return e.replace(/^\d/,"___$&").replace(c,"___")}var r=e("../src/util"),o=r.Global;t.exports={name:"oldIE-userDataStorage",write:write,read:read,each:each,remove:remove,clearAll:clearAll};var i="storejs",a=o.document,s=function(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e,t,n;try{t=new ActiveXObject("htmlfile"),t.open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(t){n=a.createElement("div"),e=a.body}return function(t){var r=[].slice.call(arguments,0);r.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(i),t.apply(this,r),e.removeChild(n)}}(),l=(o.navigator?o.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},{"../src/util":20}],27:[function(e,t,n){function sessionStorage(){return o.sessionStorage}function read(e){return sessionStorage().getItem(e)}function write(e,t){return sessionStorage().setItem(e,t)}function each(e){for(var t=sessionStorage().length-1;t>=0;t--){var n=sessionStorage().key(t);e(read(n),n)}}function remove(e){return sessionStorage().removeItem(e)}function clearAll(){return sessionStorage().clear()}var r=e("../src/util"),o=r.Global;t.exports={name:"sessionStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll}},{"../src/util":20}],28:[function(e,t,n){t.exports={_args:[["yasgui-utils@1.6.7","/home/lrd900/yasgui/yasqe.opentriply"]],_from:"yasgui-utils@1.6.7",_id:"yasgui-utils@1.6.7",_inBundle:!1,_integrity:"sha1-K8/FoxVojeOuYFeIPZrjQrIF8mc=",_location:"/yasgui-utils",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"yasgui-utils@1.6.7",name:"yasgui-utils",escapedName:"yasgui-utils",rawSpec:"1.6.7",saveSpec:null,fetchSpec:"1.6.7"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.7.tgz",_spec:"1.6.7",_where:"/home/lrd900/yasgui/yasqe.opentriply",author:{name:"Laurens Rietveld"},bugs:{url:"https://github.com/YASGUI/Utils/issues"},dependencies:{store:"^2.0.4"},description:"Utils for YASGUI libs",homepage:"https://github.com/YASGUI/Utils",licenses:[{type:"MIT",url:"http://yasgui.github.io/license.txt"}],main:"src/main.js",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",url:"http://laurensrietveld.nl"}],name:"yasgui-utils",repository:{type:"git",url:"git://github.com/YASGUI/Utils.git"},version:"1.6.7"}},{}],29:[function(e,t,n){window.console=window.console||{log:function(){}},t.exports={storage:e("./storage.js"),svg:e("./svg.js"),version:{"yasgui-utils":e("../package.json").version},nestedExists:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){if(!e||!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0}}},{"../package.json":28,"./storage.js":30,"./svg.js":31}],30:[function(e,t,n){function isQuotaExceeded(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}var r=e("store"),o={day:function(){return 864e5},month:function(){o.day()},year:function(){o.month()}},i=t.exports={set:function(e,t,n,i){if(r.enabled&&e&&void 0!==t){"string"==typeof n&&(n=o[n]()),t.documentElement&&(t=(new XMLSerializer).serializeToString(t.documentElement));try{r.set(e,{val:t,exp:n,time:(new Date).getTime()})}catch(e){if(e.quotaExceeded=isQuotaExceeded(e),!e.quotaExceeded||!i)throw e;i(e)}}},remove:function(e){r.enabled&&e&&r.remove(e)},removeAll:function(e){r.enabled&&(e?"function"==typeof e&&r.each(function(t,n){e(n,t)&&i.remove(n)}):r.clearAll())},get:function(e){if(!r.enabled)return null;if(e){var t=r.get(e);return t?t.exp&&(new Date).getTime()-t.time>t.exp?null:t.val:null}return null}}},{store:16}],31:[function(e,t,n){t.exports={draw:function(e,n){if(e){var r=t.exports.getElement(n);r&&(e.append?e.append(r):e.appendChild(r))}},getElement:function(e){if(e&&0==e.indexOf("<svg")){var t=new DOMParser,n=t.parseFromString(e,"text/xml"),r=n.documentElement,o=document.createElement("div");return o.className="svgImg",o.appendChild(r),o}return!1}}},{}],32:[function(e,t,n){t.exports={name:"yasgui-yasqe",description:"Yet Another SPARQL Query Editor",version:"2.11.19",main:"src/main.js",license:"MIT",author:"Laurens Rietveld",homepage:"http://yasqe.yasgui.org",scripts:{dev:"gulp serve",build:"gulp",patch:"gulp patch",minor:"gulp minor",major:"gulp major","update-interactive":"npm-check --skip-unused -u"},devDependencies:{"bootstrap-sass":"^3.3.7",browserify:"^13.1.0","browserify-shim":"^3.8.12","browserify-transform-tools":"^1.6.0",exorcist:"^0.4.0",gulp:"^3.9.1","gulp-autoprefixer":"^3.1.0","gulp-bump":"^2.2.0","gulp-concat":"^2.6.0","gulp-connect":"^4.2.0","gulp-cssimport":"^3.1.0","gulp-cssnano":"^2.1.2","gulp-embedlr":"^0.5.2","gulp-filter":"^4.0.0","gulp-git":"^2.4.1","gulp-jsvalidate":"^2.1.0","gulp-livereload":"^3.8.1","gulp-notify":"^2.2.0","gulp-rename":"^1.2.2","gulp-sass":"^2.3.2","gulp-sourcemaps":"^1.6.0","gulp-streamify":"1.0.2","gulp-tag-version":"^1.3.0","gulp-uglify":"^1.5.4","node-sass":"^3.8.0","require-dir":"^0.3.2","run-sequence":"^1.2.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~1.1.0","vinyl-transform":"1.0.0",watchify:"^3.7.0"},bugs:"https://github.com/YASGUI/YASQE/issues/",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",web:"http://laurensrietveld.nl"}],repository:{type:"git",url:"https://github.com/YASGUI/YASQE.git"},dependencies:{codemirror:"5.17.0",jquery:"^2.2.4",prettier:"^1.4.4","yasgui-utils":"^1.6.7"},optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"}}}},{}],33:[function(e,t,n){"use strict";var r=e("jquery"),o=e("../utils.js"),i=e("yasgui-utils"),a=e("../../lib/trie.js");e("../main.js");t.exports=function(e,t){var n={},l={},c={};t.on("cursorActivity",function(e,t){u(!0)}),t.on("change",function(){var e=[];for(var o in n)n[o].is(":visible")&&e.push(n[o]);if(e.length>0){var i=r(t.getWrapperElement()).find(".CodeMirror-vscrollbar"),a=0;i.is(":visible")&&(a=i.outerWidth()),e.forEach(function(e){e.css("right",a)})}});var p=function(e,n){c[e.name]=new a;for(var r=0;r<n.length;r++)c[e.name].insert(n[r]);var s=o.getPersistencyId(t,e.persistent);s&&i.storage.set(s,n,"month",t.options.onQuotaExceeded)},d=function(e,n){var r=l[e]=new n(t,e);if(r.name=e,r.bulk){var a=function(e){e&&e instanceof Array&&e.length>0&&p(r,e)};if(r.get instanceof Array)a(r.get);else{var s=null,c=o.getPersistencyId(t,r.persistent);c&&(s=i.storage.get(c)),s&&s.length>0?a(s):r.get instanceof Function&&(r.async?r.get(null,a):a(r.get()))}}},u=function(n){if(!t.somethingSelected()){for(var o in l)if(-1!=r.inArray(o,t.options.autocompleters)){var i=l[o];if(i.isValidCompletionPosition)if(i.isValidCompletionPosition()){if(!i.callbacks||!i.callbacks.validPosition||!1!==i.callbacks.validPosition(t,i)){var a=function(r){if(n&&(!r.autoShow||!r.bulk&&r.async))return!1;var o={closeCharacters:/(?=a)b/,completeSingle:!1};!r.bulk&&r.async&&(o.async=!0);var i=function(e,t){return f(r,t)};e.showHint(t,i,o);return!0}(i);if(a)break}}else i.callbacks&&i.callbacks.invalidPosition&&i.callbacks.invalidPosition(t,i)}}},f=function(e,n){var r=t.getCompleteToken();if(e.preProcessToken&&(r=e.preProcessToken(r)),r){if(e.bulk||!e.async)return function(t){var n=t.autocompletionString||t.string,r=[];if(c[e.name])r=c[e.name].autoComplete(n);else if("function"==typeof e.get&&0==e.async)r=e.get(n);else if("object"==typeof e.get)for(var o=n.length,i=0;i<e.get.length;i++){var a=e.get[i];a.slice(0,o)==n&&r.push(a)}return h(r,e,t)}(r);var o=function(t){n(h(t,e,r))};e.get(r,o)}},h=function(n,r,o){for(var i=[],a=0;a<n.length;a++){var l=n[a];r.postProcessToken&&(l=r.postProcessToken(o,l)),i.push({text:l,displayText:l,hint:s})}var c=t.getCursor(),p={completionToken:o.string,list:i,from:{line:c.line,ch:o.start},to:{line:c.line,ch:o.end}};if(r.callbacks)for(var d in r.callbacks)r.callbacks[d]&&e.on(p,d,r.callbacks[d]);return p};return{init:d,completers:l,notifications:{getEl:function(e){return r(n[e.name])},show:function(e,t){t.autoshow||(n[t.name]||(n[t.name]=r("<div class='completionNotification'></div>")),n[t.name].show().text("Press CTRL - <spacebar> to autocomplete").appendTo(r(e.getWrapperElement())))},hide:function(e,t){n[t.name]&&n[t.name].hide()}},autoComplete:u,getTrie:function(e){return"string"==typeof e?c[e]:c[e.name]}}};var s=function(e,t,n){n.text!=e.getTokenAt(e.getCursor()).string&&e.replaceRange(n.text,t.from,t.to)}},{"../../lib/trie.js":4,"../main.js":43,"../utils.js":49,jquery:15,"yasgui-utils":29}],34:[function(e,t,n){"use strict";e("jquery");t.exports=function(n,r){return{isValidCompletionPosition:function(){return t.exports.isValidCompletionPosition(n)},get:function(t,r){return e("./utils").fetchFromLov(n,this,t,r)},preProcessToken:function(e){return t.exports.preProcessToken(n,e)},postProcessToken:function(e,r){return t.exports.postProcessToken(n,e,r)},async:!0,bulk:!1,autoShow:!1,persistent:r,callbacks:{validPosition:n.autocompleters.notifications.show,invalidPosition:n.autocompleters.notifications.hide}}},t.exports.isValidCompletionPosition=function(e){var t=e.getCompleteToken();if(0==t.string.indexOf("?"))return!1;var n=e.getCursor(),r=e.getPreviousNonWsToken(n.line,t);return"a"==r.string||("rdf:type"==r.string||("rdfs:domain"==r.string||"rdfs:range"==r.string))},t.exports.preProcessToken=function(t,n){return e("./utils.js").preprocessResourceTokenForCompletion(t,n)},t.exports.postProcessToken=function(t,n,r){return e("./utils.js").postprocessResourceTokenForCompletion(t,n,r)}},{"./utils":37,"./utils.js":37,jquery:15}],35:[function(e,t,n){"use strict";var r=e("jquery"),o={"string-2":"prefixed",atom:"var"};t.exports=function(e,n){return e.on("change",function(){t.exports.appendPrefixIfNeeded(e,n)}),{isValidCompletionPosition:function(){return t.exports.isValidCompletionPosition(e)},get:function(e,n){r.get(t.exports.fetchFrom,function(e){var t=[];for(var r in e)if("bif"!=r){var o=r+": <"+e[r]+">";t.push(o)}t.sort(),n(t)})},preProcessToken:function(n){return t.exports.preprocessPrefixTokenForCompletion(e,n)},async:!0,bulk:!0,autoShow:!0,persistent:n,callbacks:{pick:function(){e.collapsePrefixes(!1)}}}},t.exports.isValidCompletionPosition=function(e){var t=e.getCursor(),n=e.getTokenAt(t);if(e.getLine(t.line).length>t.ch)return!1;if("ws"!=n.type&&(n=e.getCompleteToken()),0==!n.string.indexOf("a")&&-1==r.inArray("PNAME_NS",n.state.possibleCurrent))return!1;var o=e.getPreviousNonWsToken(t.line,n);return!(!o||"PREFIX"!=o.string.toUpperCase())},t.exports.preprocessPrefixTokenForCompletion=function(e,t){var n=e.getPreviousNonWsToken(e.getCursor().line,t);return n&&n.string&&":"==n.string.slice(-1)&&(t={start:n.start,end:t.end,string:n.string+" "+t.string,state:t.state}),t},t.exports.appendPrefixIfNeeded=function(e,t){if(e.autocompleters.getTrie(t)&&e.options.autocompleters&&-1!=e.options.autocompleters.indexOf(t)){var n=e.getCursor(),r=e.getTokenAt(n);if("prefixed"==o[r.type]){var i=r.string.indexOf(":");if(-1!==i){var a=e.getPreviousNonWsToken(n.line,r).string.toUpperCase(),s=e.getTokenAt({line:n.line,ch:r.start});if("PREFIX"!=a&&("ws"==s.type||null==s.type)){var l=r.string.substring(0,i+1);if(null==e.getPrefixesFromQuery()[l.slice(0,-1)]){var c=e.autocompleters.getTrie(t).autoComplete(l);c.length>0&&e.addPrefixes(c[0])}}}}}},t.exports.fetchFrom=(0===window.location.protocol.indexOf("http")?"//":"http://")+"prefix.cc/popular/all.file.json"},{jquery:15}],36:[function(e,t,n){"use strict";var r=e("jquery");t.exports=function(n,r){return{isValidCompletionPosition:function(){return t.exports.isValidCompletionPosition(n)},get:function(t,r){return e("./utils").fetchFromLov(n,this,t,r)},preProcessToken:function(e){return t.exports.preProcessToken(n,e)},postProcessToken:function(e,r){return t.exports.postProcessToken(n,e,r)},async:!0,bulk:!1,autoShow:!1,persistent:r,callbacks:{validPosition:n.autocompleters.notifications.show,invalidPosition:n.autocompleters.notifications.hide}}},t.exports.isValidCompletionPosition=function(e){var t=e.getCompleteToken();if(0==t.string.length)return!1;if(0==t.string.indexOf("?"))return!1;if(r.inArray("a",t.state.possibleCurrent)>=0)return!0;var n=e.getCursor();return"rdfs:subPropertyOf"==e.getPreviousNonWsToken(n.line,t).string},t.exports.preProcessToken=function(t,n){return e("./utils.js").preprocessResourceTokenForCompletion(t,n)},t.exports.postProcessToken=function(t,n,r){return e("./utils.js").postprocessResourceTokenForCompletion(t,n,r)}},{"./utils":37,"./utils.js":37,jquery:15}],37:[function(e,t,n){"use strict";var r=e("jquery"),o=(e("./utils.js"),e("yasgui-utils")),i=function(e,t){var n=e.getPrefixesFromQuery();if(0==!t.string.indexOf("<")&&(t.tokenPrefix=t.string.substring(0,t.string.indexOf(":")+1),null!=n[t.tokenPrefix.slice(0,-1)]&&(t.tokenPrefixUri=n[t.tokenPrefix.slice(0,-1)])),t.autocompletionString=t.string.trim(),0==!t.string.indexOf("<")&&t.string.indexOf(":")>-1)for(var r in n)if(t.tokenPrefix===r+":"){t.autocompletionString=n[r],t.autocompletionString+=t.string.substring(r.length+1);break}return 0==t.autocompletionString.indexOf("<")&&(t.autocompletionString=t.autocompletionString.substring(1)),-1!==t.autocompletionString.indexOf(">",t.length-1)&&(t.autocompletionString=t.autocompletionString.substring(0,t.autocompletionString.length-1)),t},a=function(e,t,n){return n=t.tokenPrefix&&t.autocompletionString&&t.tokenPrefixUri?t.tokenPrefix+n.substring(t.tokenPrefixUri.length):"<"+n+">"},s=0===window.location.protocol.indexOf("http")?"//":"http://",l=function(t,n,i,a){if(!i||!i.string||0==i.string.trim().length)return t.autocompleters.notifications.getEl(n).empty().append("Nothing to autocomplete yet!"),!1;var l={q:i.autocompletionString,page:1};"classes"==n.name?l.type="class":l.type="property";var c=[],p="",d=function(){p=s+"lov.okfn.org/dataset/lov/api/v2/autocomplete/terms?"+r.param(l)};d();var u=function(){l.page++,d()},f=function(){r.get(p,function(e){for(var o=0;o<e.results.length;o++)r.isArray(e.results[o].uri)&&e.results[o].uri.length>0?c.push(e.results[o].uri[0]):c.push(e.results[o].uri);c.length<e.total_results&&c.length<50?(u(),f()):(c.length>0?t.autocompleters.notifications.hide(t,n):t.autocompleters.notifications.getEl(n).text("0 matches found..."),a(c))}).fail(function(e,r,o){t.autocompleters.notifications.getEl(n).empty().append("Failed fetching suggestions..")})};t.autocompleters.notifications.getEl(n).empty().append(r("<span>Fetchting autocompletions &nbsp;</span>")).append(r(o.svg.getElement(e("../imgs.js").loader)).addClass("notificationLoader")),f()};t.exports={fetchFromLov:l,preprocessResourceTokenForCompletion:i,postprocessResourceTokenForCompletion:a}},{"../imgs.js":42,"./utils.js":37,jquery:15,"yasgui-utils":29}],38:[function(e,t,n){"use strict";var r=e("jquery");t.exports=function(e){return{isValidCompletionPosition:function(){var t=e.getTokenAt(e.getCursor());return!("ws"==t.type||!(t=e.getCompleteToken(t))||"?"!==t.string[0]&&"$"!==t.string[0])},get:function(t){if(0==t.trim().length)return[];var n={};r(e.getWrapperElement()).find(".cm-atom").each(function(){var e=this.innerHTML;if("?"===e[0]||"$"===e[0]){var o=r(this).next();if(o.attr("class")&&o.attr("class").indexOf("cm-atom")>=0&&(e+=o.text()),e.length<=1)return;if(0!==e.indexOf(t))return;if(e==t)return;n[e]=!0}});var o=[];for(var i in n)o.push(i);return o.sort(),o},async:!1,bulk:!1,autoShow:!0}}},{jquery:15}],39:[function(e,t,n){var r=e("./sparql.js"),o=e("jquery"),i=function(e){return"'"+e+"'"};t.exports={createCurlString:function(e,t){var n=r.getAjaxConfig(e,t),a=n.url;if(0!==n.url.indexOf("http")){var a=window.location.protocol+"//"+window.location.host;0===n.url.indexOf("/")?a+=n.url:a+=window.location.pathname+n.url}var s=["curl",a,"-X",e.options.sparql.requestMethod];"POST"==e.options.sparql.requestMethod&&s.push("--data "+i(o.param(n.data)));for(var l in n.headers)s.push("-H "+i(l+": "+n.headers[l]));return s.join(" ")}}},{"./sparql.js":46,jquery:15}],40:[function(e,t,n){var r=e("jquery"),o=e("./main.js");o.defaults=r.extend(!0,{},o.defaults,{mode:"sparql11",value:"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nSELECT * WHERE {\n  ?sub ?pred ?obj .\n} \nLIMIT 10",highlightSelectionMatches:{showToken:/\w/},tabMode:"indent",lineNumbers:!0,lineWrapping:!0,backdrop:!1,foldGutter:{rangeFinder:new o.fold.combine(o.fold.brace,o.fold.prefix)},collapsePrefixesOnLoad:!1,gutters:["gutterErrorBar","CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,fixedGutter:!0,syntaxErrorCheck:!0,onQuotaExceeded:function(e){console.warn("Could not store in localstorage. Skipping..",e)},extraKeys:{"Ctrl-Space":o.autoComplete,"Cmd-Space":o.autoComplete,"Ctrl-D":o.deleteLine,"Ctrl-K":o.deleteLine,"Shift-Ctrl-K":o.deleteLine,"Cmd-D":o.deleteLine,"Cmd-K":o.deleteLine,"Ctrl-/":o.commentLines,"Cmd-/":o.commentLines,"Ctrl-Alt-Down":o.copyLineDown,"Ctrl-Alt-Up":o.copyLineUp,"Cmd-Alt-Down":o.copyLineDown,"Cmd-Alt-Up":o.copyLineUp,"Shift-Ctrl-F":o.doAutoFormat,"Shift-Cmd-F":o.doAutoFormat,"Ctrl-]":o.indentMore,"Cmd-]":o.indentMore,"Ctrl-[":o.indentLess,"Cmd-[":o.indentLess,"Ctrl-S":o.storeQuery,"Cmd-S":o.storeQuery,"Ctrl-Enter":o.executeQuery,"Cmd-Enter":o.executeQuery,F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}},cursorHeight:.9,createShareLink:o.createShareLink,createShortLink:null,consumeShareLink:o.consumeShareLink,persistent:function(e){return"yasqe_"+r(e.getWrapperElement()).closest("[id]").attr("id")+"_queryVal"},sparql:{queryName:function(e){return e.getQueryMode()},showQueryButton:!1,endpoint:"http://dbpedia.org/sparql",requestMethod:"POST",acceptHeaderGraph:"text/turtle,*/*;q=0.9",acceptHeaderSelect:"application/sparql-results+json,*/*;q=0.9",acceptHeaderUpdate:"text/plain,*/*;q=0.9",namedGraphs:[],defaultGraphs:[],args:[],headers:{},getQueryForAjax:null,callbacks:{beforeSend:null,complete:null,error:null,success:null},handlers:{}}})},{"./main.js":43,jquery:15}],41:[function(e,t,n){t.exports=e("./main.js")},{"./main.js":43}],42:[function(e,t,n){"use strict";t.exports={query:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path d="M64.622 2.41H14.995c-6.627 0-12 5.374-12 12V64.31c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V14.41c0-6.627-5.373-12-12-12zM24.125 63.907V15.093L61 39.168 24.125 63.906z"/></svg>',queryInvalid:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 73.627 73.897"><path d="M61.627 0H12C5.373 0 0 5.373 0 12v49.897c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V12c0-6.628-5.373-12-12-12zM21.13 61.495V12.682l36.875 24.075L21.13 61.495z"/><path d="M66.13 65.904H49.77c-1.647 0-2.89-.58-3.5-1.636-.608-1.056-.49-2.422.334-3.848l8.18-14.167c.822-1.427 1.947-2.212 3.165-2.212s2.342.786 3.165 2.213l8.18 14.167c.824 1.426.942 2.792.333 3.848-.61 1.055-1.852 1.636-3.5 1.636zm-6.51-4.986c0-.85-.69-1.54-1.54-1.54-.85 0-1.54.69-1.54 1.54 0 .85.69 1.54 1.54 1.54.85 0 1.54-.69 1.54-1.54zm.04-9.266c0-.873-.708-1.58-1.58-1.58-.874 0-1.582.707-1.582 1.58l.374 5.61h.005c.054.62.568 1.108 1.202 1.108.586 0 1.075-.415 1.188-.968.01-.045.01-.093.014-.14h.01l.368-5.61z" fill="#a80"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" baseProfile="tiny" viewBox="0 0 100 100"><path fill-rule="evenodd" d="M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z"/></svg>',share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M36.764 50c0 .308-.07.598-.088.905l32.247 16.12c2.76-2.34 6.293-3.798 10.195-3.798C87.89 63.227 95 70.337 95 79.11 95 87.89 87.89 95 79.118 95c-8.78 0-15.882-7.11-15.882-15.89 0-.317.07-.6.088-.906l-32.247-16.12c-2.77 2.33-6.293 3.79-10.195 3.79C12.11 65.873 5 58.77 5 50c0-8.78 7.11-15.89 15.882-15.89 3.902 0 7.427 1.467 10.195 3.796l32.247-16.12c-.018-.307-.088-.597-.088-.913C63.236 12.11 70.338 5 79.118 5 87.89 5 95 12.11 95 20.873c0 8.78-7.11 15.89-15.882 15.89-3.91 0-7.436-1.467-10.195-3.805L36.676 49.086c.017.308.088.598.088.914z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 66.399998 66.399998"><g fill="red"><path d="M33.2 0C14.9 0 0 14.9 0 33.2c0 18.3 14.9 33.2 33.2 33.2 18.3 0 33.2-14.9 33.2-33.2C66.4 14.9 51.5 0 33.2 0zm0 59.4C18.7 59.4 7 47.6 7 33.2 7 18.7 18.8 7 33.2 7c14.4 0 26.2 11.8 26.2 26.2 0 14.4-11.8 26.2-26.2 26.2z"/><path d="M33.1 45.6c-1.4 0-2.5.5-3.5 1.5-.9 1-1.4 2.2-1.4 3.6 0 1.6.5 2.8 1.5 3.8 1 .9 2.1 1.3 3.4 1.3 1.3 0 2.4-.5 3.4-1.4 1-.9 1.5-2.2 1.5-3.7 0-1.4-.5-2.6-1.4-3.6-.9-1-2.1-1.5-3.5-1.5zM33.3 12.4c-1.5 0-2.8.5-3.7 1.6-.9 1-1.4 2.4-1.4 4.2 0 1.1.1 2.9.2 5.6l.8 13.1c.2 1.8.4 3.2.9 4.1.5 1.2 1.5 1.8 2.9 1.8 1.3 0 2.3-.7 2.9-1.9.5-1 .7-2.3.9-4l1.1-13.4c.1-1.3.2-2.5.2-3.8 0-2.2-.3-3.9-.8-5.1-.5-1-1.6-2.2-4-2.2z"/></g></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 -10 100 100"><path d="M5-10v38.89L21.667 12.22 38.334 28.89l5.555-5.556L27.22 6.667 43.89-10H5zM105-10v38.89L88.333 12.22 71.667 28.89l-5.556-5.556L82.778 6.667 66.11-10H105zM5 90V51.11l16.667 16.667L38.334 51.11l5.555 5.557L27.22 73.333 43.89 90H5zM105 90V51.11L88.333 67.778 71.667 51.11l-5.556 5.557 16.667 16.666L66.11 90H105z" fill="#010101"/></svg>',smallscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 -10 100 100"><path d="M43.89 28.89V-10L27.22 6.667 10.555-10 5-4.445l16.667 16.667L5 28.89h38.89zM66.11 28.89V-10L82.78 6.667 99.444-10 105-4.445 88.334 12.222 105 28.89H66.11zM43.89 51.11V90L27.22 73.334 10.555 90 5 84.444l16.667-16.666L5 51.11h38.89zM66.11 51.11V90L82.78 73.334 99.444 90 105 84.444 88.334 67.778 105 51.11H66.11z" fill="#010101"/></svg>'}},{}],43:[function(e,t,n){"use strict";window.console=window.console||{log:function(){}};var r=e("jquery"),o=e("codemirror"),i=e("./utils.js"),a=e("yasgui-utils"),s=e("./imgs.js");e("../lib/deparam.js"),e("codemirror/addon/fold/foldcode.js"),e("codemirror/addon/fold/foldgutter.js"),e("codemirror/addon/fold/xml-fold.js"),e("codemirror/addon/fold/brace-fold.js"),e("./prefixFold.js"),e("codemirror/addon/hint/show-hint.js"),e("codemirror/addon/search/searchcursor.js"),e("codemirror/addon/edit/matchbrackets.js"),e("codemirror/addon/runmode/runmode.js"),e("codemirror/addon/display/fullscreen.js"),e("../lib/grammar/tokenizer.js");var l=t.exports=function(e,t){var n=r("<div>",{class:"yasqe"}).appendTo(r(e));t=c(t);var i=p(o(n[0],t));return f(i),i},c=function(e){return r.extend(!0,{},l.defaults,e)},p=function(t){t.autocompleters=e("./autocompleters/autocompleterBase.js")(l,t),t.options.autocompleters&&t.options.autocompleters.forEach(function(e){l.Autocompleters[e]&&t.autocompleters.init(e,l.Autocompleters[e])}),t.emit=function(e,n){l.signal(t,e,n)},t.lastQueryDuration=null,t.getCompleteToken=function(n,r){return e("./tokenUtils.js").getCompleteToken(t,n,r)},t.getPreviousNonWsToken=function(n,r){return e("./tokenUtils.js").getPreviousNonWsToken(t,n,r)},t.getNextNonWsToken=function(n,r){return e("./tokenUtils.js").getNextNonWsToken(t,n,r)},t.collapsePrefixes=function(n){void 0===n&&(n=!0),t.foldCode(e("./prefixFold.js").findFirstPrefixLine(t),l.fold.prefix,n?"fold":"unfold")};var n=null,o=null;return t.setBackdrop=function(e){(t.options.backdrop||0===t.options.backdrop||"0"===t.options.backdrop)&&(null===o&&1===(o=+t.options.backdrop)&&(o=400),n||(n=r("<div>",{class:"backdrop"}).click(function(){r(this).hide()}).insertAfter(r(t.getWrapperElement()))),e?n.show(o):n.hide(o))},t.query=function(e){l.executeQuery(t,e)},t.getUrlArguments=function(e){return l.getUrlArguments(t,e)},t.getPrefixesFromQuery=function(){return e("./prefixUtils.js").getPrefixesFromQuery(t)},t.addPrefixes=function(n){return e("./prefixUtils.js").addPrefixes(t,n)},t.removePrefixes=function(n){return e("./prefixUtils.js").removePrefixes(t,n)},t.getVariablesFromQuery=function(){return r.map(t.getTokenAt({line:t.lastLine(),ch:t.getLine(t.lastLine()).length},!0).state.variables,function(e,t){return t})},t.getQueryWithValues=function(e){if(!e)return t.getValue();var n;if("string"==typeof e)n=e;else{Array.isArray(e)||(e=[e]);var r=e.reduce(function(e,t){for(var n in t)e[n]=n;return e},{}),o=[];for(var i in r)o.push(i);if(!o.length)return t.getValue();n="VALUES ("+o.join(" ")+") {\n",e.forEach(function(e){n+="( ",o.forEach(function(t){n+=e[t]||"UNDEF"}),n+=" )\n"}),n+="}\n"}if(!n)return t.getValue();var a="",s=!1,c=!1;return l.runMode(t.getValue(),"sparql11",function(e,t,r,o,i){"keyword"===t&&"select"===e.toLowerCase()&&(c=!0),a+=e,c&&!s&&"punc"===t&&"{"===e&&(s=!0,a+="\n"+n)}),a},t.getValueWithoutComments=function(){var e="";return l.runMode(t.getValue(),"sparql11",function(t,n){"comment"!=n&&(e+=t)}),e},t.getQueryType=function(){return t.queryType},t.getQueryMode=function(){var e=t.getQueryType();return"INSERT"==e||"DELETE"==e||"LOAD"==e||"CLEAR"==e||"CREATE"==e||"DROP"==e||"COPY"==e||"MOVE"==e||"ADD"==e?"update":"query"},t.setCheckSyntaxErrors=function(e){t.options.syntaxErrorCheck=e,m(t)},t.enableCompleter=function(e){d(t.options,e),l.Autocompleters[e]&&t.autocompleters.init(e,l.Autocompleters[e])},t.disableCompleter=function(e){u(t.options,e)},t},d=function(e,t){e.autocompleters||(e.autocompleters=[]),e.autocompleters.push(t)},u=function(e,t){if("object"==typeof e.autocompleters){var n=r.inArray(t,e.autocompleters);n>=0&&(e.autocompleters.splice(n,1),u(e,t))}},f=function(e){var t=i.getPersistencyId(e,e.options.persistent);if(t){var n=a.storage.get(t);n&&e.setValue(n)}l.drawButtons(e),e.on("blur",function(e,t){l.storeQuery(e)}),e.on("change",function(e,t){m(e),l.updateQueryButton(e),l.positionButtons(e)}),e.on("changes",function(){m(e),l.updateQueryButton(e),l.positionButtons(e)}),e.on("cursorActivity",function(e,t){g(e)}),e.prevQueryValid=!1,m(e),l.positionButtons(e),r(e.getWrapperElement()).on("mouseenter",".cm-atom",function(){var t=r(this).text();r(e.getWrapperElement()).find(".cm-atom").filter(function(){return r(this).text()===t}).addClass("matchingVar")}).on("mouseleave",".cm-atom",function(){r(e.getWrapperElement()).find(".matchingVar").removeClass("matchingVar")}),e.options.consumeShareLink&&(e.options.consumeShareLink(e,h()),window.addEventListener("hashchange",function(){e.options.consumeShareLink(e,h())})),e.options.collapsePrefixesOnLoad&&e.collapsePrefixes(!0)},h=function(){var e=null;return window.location.hash.length>1&&(e=r.deparam(location.href.split("#")[1])),e&&"query"in e||!(window.location.search.length>1)||(e=r.deparam(window.location.search.substring(1))),e},g=function(e){e.cursor=r(".CodeMirror-cursor"),e.buttons&&e.buttons.is(":visible")&&e.cursor.length>0&&(i.elementsOverlap(e.cursor,e.buttons)?e.buttons.find("svg").attr("opacity","0.2"):e.buttons.find("svg").attr("opacity","1.0"))},m=function(t,n){t.queryValid=!0,t.clearGutter("gutterErrorBar");for(var o=null,i=0;i<t.lineCount();++i){var l=!1;t.prevQueryValid||(l=!0);var c=t.getTokenAt({line:i,ch:t.getLine(i).length},l),o=c.state;if(t.queryType=o.queryType,0==o.OK){if(!t.options.syntaxErrorCheck)return void r(t.getWrapperElement()).find(".sp-error").css("color","black");var p=a.svg.getElement(s.warning);o.errorMsg?e("./tooltip")(t,p,function(){return r("<div/>").text(c.state.errorMsg).html()}):o.possibleCurrent&&o.possibleCurrent.length>0&&e("./tooltip")(t,p,function(){var e=[];return o.possibleCurrent.forEach(function(t){e.push("<strong style='text-decoration:underline'>"+r("<div/>").text(t).html()+"</strong>")}),"This line is invalid. Expected: "+e.join(", ")}),p.style.marginTop="2px",p.style.marginLeft="2px",p.className="parseErrorIcon",t.setGutterMarker(i,"gutterErrorBar",p),t.queryValid=!1;break}}if(t.prevQueryValid=t.queryValid,n&&null!=o&&void 0!=o.stack){var d=o.stack,u=o.stack.length;u>1?t.queryValid=!1:1==u&&"solutionModifier"!=d[0]&&"?limitOffsetClauses"!=d[0]&&"?offsetClause"!=d[0]&&(t.queryValid=!1)}};r.extend(l,o),l.Autocompleters={},l.registerAutocompleter=function(e,t){l.Autocompleters[e]=t,d(l.defaults,e)},l.autoComplete=function(e){e.autocompleters.autoComplete(!1)},l.registerAutocompleter("prefixes",e("./autocompleters/prefixes.js")),l.registerAutocompleter("properties",e("./autocompleters/properties.js")),l.registerAutocompleter("classes",e("./autocompleters/classes.js")),l.registerAutocompleter("variables",e("./autocompleters/variables.js")),l.positionButtons=function(e){var t=r(e.getWrapperElement()).find(".CodeMirror-vscrollbar"),n=0;t.is(":visible")&&(n=t.outerWidth()),e.buttons.is(":visible")&&e.buttons.css("right",n+4)},l.createShareLink=function(e){var t={};return window.location.hash.length>1&&(t=r.deparam(window.location.hash.substring(1))),t.query=e.getValue(),t},l.getAsCurl=function(t,n){return e("./curl.js").createCurlString(t,n)},l.consumeShareLink=function(e,t){t&&t.query&&e.setValue(t.query)},l.drawButtons=function(e){if(e.buttons=r("<div class='yasqe_buttons'></div>").appendTo(r(e.getWrapperElement())),e.options.createShareLink){var t=r(a.svg.getElement(s.share));t.click(function(n){n.stopPropagation();var o=r("<div class='yasqe_sharePopup'></div>").appendTo(e.buttons);r("html").click(function(){o&&o.remove()}),o.click(function(e){e.stopPropagation()});var i=r("<input>").val(location.protocol+"//"+location.host+location.pathname+location.search+"#"+r.param(e.options.createShareLink(e)));i.focus(function(){var e=r(this);e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})}),o.empty().append(r("<div>",{class:"inputWrapper"}).append(i)),e.options.createShortLink&&(o.addClass("enableShort"),r("<button>Shorten</button>").addClass("yasqe_btn yasqe_btn-sm yasqe_btn-primary").click(function(){r(this).parent().find("button").attr("disabled","disabled"),e.options.createShortLink(i.val(),function(e,t){e?(i.remove(),o.find(".inputWrapper").append(r("<span>",{class:"shortlinkErr"}).text(e))):i.val(t).focus()})}).appendTo(o)),r("<button>CURL</button>").addClass("yasqe_btn yasqe_btn-sm yasqe_btn-primary").click(function(){r(this).parent().find("button").attr("disabled","disabled"),i.val(l.getAsCurl(e)).focus()}).appendTo(o);var a=t.position();o.css("top",a.top+t.outerHeight()+parseInt(o.css("padding-top"))+"px").css("left",a.left+t.outerWidth()-o.outerWidth()+"px"),i.focus()}).addClass("yasqe_share").attr("title","Share your query").appendTo(e.buttons)}var n=r("<div>",{class:"fullscreenToggleBtns"}).append(r(a.svg.getElement(s.fullscreen)).addClass("yasqe_fullscreenBtn").attr("title","Set editor full screen").click(function(){e.setOption("fullScreen",!0),e.emit("fullscreen-enter")})).append(r(a.svg.getElement(s.smallscreen)).addClass("yasqe_smallscreenBtn").attr("title","Set editor to normal size").click(function(){e.setOption("fullScreen",!1),e.emit("fullscreen-leave")}));e.buttons.append(n),e.options.sparql.showQueryButton&&(r("<div>",{class:"yasqe_queryButton"}).click(function(){r(this).hasClass("query_busy")?(e.xhr&&e.xhr.abort(),l.updateQueryButton(e)):e.query()}).appendTo(e.buttons),l.updateQueryButton(e))};var v={busy:"loader",valid:"query",error:"queryInvalid"};l.updateQueryButton=function(e,t){var n=r(e.getWrapperElement()).find(".yasqe_queryButton");0!=n.length&&(t||(t="valid",!1===e.queryValid&&(t="error")),t!=e.queryStatus&&(n.empty().removeClass(function(e,t){return t.split(" ").filter(function(e){return 0==e.indexOf("query_")}).join(" ")}),"busy"==t?(n.append(r("<div>",{class:"loader"})),e.queryStatus=t):"valid"!=t&&"error"!=t||(n.addClass("query_"+t),a.svg.draw(n,s[v[t]]),e.queryStatus=t)))},l.fromTextArea=function(e,t){t=c(t);var n=(r("<div>",{class:"yasqe"}).insertBefore(r(e)).append(r(e)),p(o.fromTextArea(e,t)));return f(n),n},l.storeQuery=function(e){var t=i.getPersistencyId(e,e.options.persistent);t&&a.storage.set(t,e.getValue(),"month",e.options.onQuotaExceeded)},l.commentLines=function(e){for(var t=e.getCursor(!0).line,n=e.getCursor(!1).line,r=Math.min(t,n),o=Math.max(t,n),i=!0,a=r;a<=o;a++){var s=e.getLine(a);if(0==s.length||"#"!=s.substring(0,1)){i=!1;break}}for(var a=r;a<=o;a++)i?e.replaceRange("",{line:a,ch:0},{line:a,ch:1}):e.replaceRange("#",{line:a,ch:0})},l.copyLineUp=function(e){var t=e.getCursor(),n=e.lineCount();e.replaceRange("\n",{line:n-1,ch:e.getLine(n-1).length});for(var r=n;r>t.line;r--){var o=e.getLine(r-1);e.replaceRange(o,{line:r,ch:0},{line:r,ch:e.getLine(r).length})}},l.copyLineDown=function(e){l.copyLineUp(e);var t=e.getCursor();t.line++,e.setCursor(t)},l.doAutoFormat=function(e){e.somethingSelected()||e.execCommand("selectAll");var t={line:e.getCursor(!1).line,ch:e.getSelection().length};b(e,e.getCursor(!0),t)};var b=function(e,t,n){var r=e.indexFromPos(t),o=e.indexFromPos(n),i=y(e.getValue(),r,o);e.operation(function(){e.replaceRange(i,t,n);for(var o=e.posFromIndex(r).line,a=e.posFromIndex(r+i.length).line,s=o;s<=a;s++)e.indentLine(s,"smart")})},y=function(e,t,n){e=e.substring(t,n);var i=[["keyword","ws","prefixed","ws","uri"],["keyword","ws","uri"]],a=["{",".",";"],s=["}"],l=function(e,t){for(var n=0;n<i.length;n++)if(d.valueOf().toString()==i[n].valueOf().toString())return 1;for(var n=0;n<a.length;n++)if(e==a[n])return 1;for(var n=0;n<s.length;n++)if(""!=r.trim(p)&&e==s[n])return-1;return 0},c="",p="",d=[];return o.runMode(e,"sparql11",function(e,t){d.push(t);var n=l(e);0!=n?(1==n?(c+=e+"\n",p=""):(c+="\n"+e,p=e),d=[]):(p+=e,c+=e),1==d.length&&"sp-ws"==d[0]&&(d=[])}),r.trim(c.replace(/\n\s*\n/g,"\n"))};e("./sparql.js"),e("./defaults.js"),l.$=r,l.version={CodeMirror:o.version,YASQE:e("../package.json").version,jquery:r.fn.jquery,"yasgui-utils":a.version}},{"../lib/deparam.js":1,"../lib/grammar/tokenizer.js":3,"../package.json":32,"./autocompleters/autocompleterBase.js":33,"./autocompleters/classes.js":34,"./autocompleters/prefixes.js":35,"./autocompleters/properties.js":36,"./autocompleters/variables.js":38,"./curl.js":39,"./defaults.js":40,"./imgs.js":42,"./prefixFold.js":44,"./prefixUtils.js":45,"./sparql.js":46,"./tokenUtils.js":47,"./tooltip":48,"./utils.js":49,codemirror:14,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/edit/matchbrackets.js":6,"codemirror/addon/fold/brace-fold.js":7,"codemirror/addon/fold/foldcode.js":8,"codemirror/addon/fold/foldgutter.js":9,"codemirror/addon/fold/xml-fold.js":10,"codemirror/addon/hint/show-hint.js":11,"codemirror/addon/runmode/runmode.js":12,"codemirror/addon/search/searchcursor.js":13,jquery:15,"yasgui-utils":29}],44:[function(e,t,n){function findFirstPrefix(e,t,n,o){n||(n=0),o||(o=e.getLine(t)),o=o.toUpperCase();for(var a=n,s=0;;){var l=o.indexOf(i,a);if(-1!=l){if(1==s&&l<n)break;if(!/^(comment|string)/.test(e.getTokenTypeAt(r.Pos(t,l+1))))return l+1;if((a=l-1)===s)break}else{if(1==s)break;s=1,a=o.length}}}var r=e("codemirror"),o=e("./tokenUtils.js"),i="PREFIX ";t.exports={findFirstPrefixLine:function(e){for(var t=e.lastLine(),n=0;n<=t;++n)if(findFirstPrefix(e,n)>=0)return n}},r.registerHelper("fold","prefix",function(e,t){var n=t.line,a=e.getLine(n),s=function(t,n){var i=e.getTokenAt(r.Pos(t,n+1));if(!i||"keyword"!=i.type)return-1;var a=o.getNextNonWsToken(e,t,i.end+1);if(!a||"string-2"!=a.type)return-1;var s=o.getNextNonWsToken(e,t,a.end+1);return s&&"variable-3"==s.type?s.end:-1};if(!function(){for(var t=!1,r=n-1;r>=0;r--)if(e.getLine(r).toUpperCase().indexOf(i)>=0){t=!0;break}return t}()){var l=findFirstPrefix(e,n,t.ch,a);if(null!=l){for(var c,p=!1,d=e.lastLine(),u=s(n,l),f=n,h=n;h<=d&&!p;++h)for(var g=e.getLine(h),m=h==n?l+1:0;;){!p&&g.indexOf("{")>=0&&(p=!0);var v=g.toUpperCase().indexOf(i,m);if(!(v>=0))break;(c=s(h,v))>0&&(u=c,f=h,m=u),m++}return{from:r.Pos(n,l+i.length),to:r.Pos(f,u)}}}})},{"./tokenUtils.js":47,codemirror:14}],45:[function(e,t,n){"use strict";var r=function(e,t){var n=e.getPrefixesFromQuery();if("string"==typeof t)o(e,t);else for(var r in t)r in n||o(e,r+": <"+t[r]+">");e.collapsePrefixes(!1)},o=function(e,t){e.replaceRange("PREFIX "+t+"\n",{line:0,ch:0}),e.collapsePrefixes(!1)},i=function(e,t){for(var n in t)e.setValue(e.getValue().replace(new RegExp("PREFIX\\s*"+n+":\\s*"+function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}("<"+t[n]+">")+"\\s*","ig"),""));e.collapsePrefixes(!1)},a=function(e){return e.getTokenAt({line:e.lastLine(),ch:e.getLine(e.lastLine()).length},!0).state.prefixes};t.exports={addPrefixes:r,getPrefixesFromQuery:a,removePrefixes:i}},{}],46:[function(e,t,n){"use strict";var r=e("jquery"),o=e("./utils.js"),i=e("./main.js");i.getAjaxConfig=function(t,n){var o="function"==typeof n?n:null,s="object"==typeof n?n:{};if(t.options.sparql&&(s=r.extend({},t.options.sparql,s)),s.handlers&&r.extend(!0,s.callbacks,s.handlers),s.endpoint&&0!=s.endpoint.length){var l=t.getQueryMode(),c={url:"function"==typeof s.endpoint?s.endpoint(t):s.endpoint,type:"update"==l?"POST":"function"==typeof s.requestMethod?s.requestMethod(t):s.requestMethod,headers:{Accept:a(t,s)}};s.xhrFields&&(c.xhrFields=s.xhrFields);var p=!1;if(s.callbacks)for(var d in s.callbacks)s.callbacks[d]&&(p=!0,c[d]=s.callbacks[d]);if("GET"===c.type){var u=!0;r.each(t.getUrlArguments(s),function(e,t){c.url+=(u?"?":"&")+t.name+"="+encodeURIComponent(t.value),u=!1})}else c.data=t.getUrlArguments(s);if(p||o){o&&(c.complete=o),s.headers&&!r.isEmptyObject(s.headers)&&r.extend(c.headers,s.headers);var f=new Date,h=function(){t.lastQueryDuration=new Date-f,i.updateQueryButton(t),t.setBackdrop(!1)},g=[function(){e("./main.js").signal(t,"queryFinish",arguments)},h];return c.complete&&g.push(c.complete),c.complete=g,c}}},i.executeQuery=function(e,t){i.signal(e,"query",e,t),i.updateQueryButton(e,"busy"),e.setBackdrop(!0),e.xhr=r.ajax(i.getAjaxConfig(e,t))},i.getUrlArguments=function(e,t){var n=e.getQueryMode(),i=[{name:o.getString(e,e.options.sparql.queryName),value:t.getQueryForAjax?t.getQueryForAjax(e):e.getValue()}];if(t.namedGraphs&&t.namedGraphs.length>0)for(var a="query"==n?"named-graph-uri":"using-named-graph-uri ",s=0;s<t.namedGraphs.length;s++)i.push({name:a,value:t.namedGraphs[s]});if(t.defaultGraphs&&t.defaultGraphs.length>0)for(var a="query"==n?"default-graph-uri":"using-graph-uri ",s=0;s<t.defaultGraphs.length;s++)i.push({name:a,value:t.defaultGraphs[s]});return t.args&&t.args.length>0&&r.merge(i,t.args),i};var a=function(e,t){var n=null;if(!t.acceptHeader||t.acceptHeaderGraph||t.acceptHeaderSelect||t.acceptHeaderUpdate)if("update"==e.getQueryMode())n="function"==typeof t.acceptHeader?t.acceptHeaderUpdate(e):t.acceptHeaderUpdate;else{var r=e.getQueryType();n="DESCRIBE"==r||"CONSTRUCT"==r?"function"==typeof t.acceptHeaderGraph?t.acceptHeaderGraph(e):t.acceptHeaderGraph:"function"==typeof t.acceptHeaderSelect?t.acceptHeaderSelect(e):t.acceptHeaderSelect}else n="function"==typeof t.acceptHeader?t.acceptHeader(e):t.acceptHeader;return n};t.exports={getAjaxConfig:i.getAjaxConfig}},{"./main.js":43,"./utils.js":49,jquery:15}],47:[function(e,t,n){"use strict";var r=function(e,t,n){n||(n=e.getCursor()),t||(t=e.getTokenAt(n));var o=e.getTokenAt({line:n.line,ch:t.start});return null!=o.type&&"ws"!=o.type&&null!=t.type&&"ws"!=t.type?(t.start=o.start,t.string=o.string+t.string,r(e,t,{line:n.line,ch:o.start})):null!=t.type&&"ws"==t.type?(t.start=t.start+1,t.string=t.string.substring(1),t):t},o=function(e,t,n){var r=e.getTokenAt({line:t,ch:n.start});return null!=r&&"ws"==r.type&&(r=o(e,t,r)),r},i=function(e,t,n){void 0==n&&(n=1);var r=e.getTokenAt({line:t,ch:n});return null==r||void 0==r||r.end<n?null:"ws"==r.type?i(e,t,r.end+1):r};t.exports={getPreviousNonWsToken:o,getCompleteToken:r,getNextNonWsToken:i}},{}],48:[function(e,t,n){"use strict";var r=e("jquery");e("./utils.js");t.exports=function(e,t,n){var o,t=r(t);t.hover(function(){"function"==typeof n&&(n=n()),o=r("<div>").addClass("yasqe_tooltip").html(n).appendTo(t),i()},function(){r(".yasqe_tooltip").remove()});var i=function(){r(e.getWrapperElement()).offset().top>=o.offset().top&&(o.css("bottom","auto"),o.css("top","26px"))}}},{"./utils.js":49,jquery:15}],49:[function(e,t,n){"use strict";var r=e("jquery"),o=function(e,t){var n=!1;try{void 0!==e[t]&&(n=!0)}catch(e){}return n},i=function(e,t){var n=null;return t&&(n="string"==typeof t?t:t(e)),n},a=function(){function getPositions(e){var t,n,o;return t=r(e).offset(),n=r(e).width(),o=r(e).height(),[[t.left,t.left+n],[t.top,t.top+o]]}function comparePositions(e,t){var n,r;return n=e[0]<t[0]?e:t,r=e[0]<t[0]?t:e,n[1]>r[0]||n[0]===r[0]}return function(e,t){var n=getPositions(e),r=getPositions(t);return comparePositions(n[0],r[0])&&comparePositions(n[1],r[1])}}(),s=function(e,t){return"function"==typeof t?t(e):t};t.exports={keyExists:o,getPersistencyId:i,elementsOverlap:a,getString:s}},{jquery:15}]},{},[41])(41)})}).call(exports,__webpack_require__(178))},function(e,t){e.exports={name:"vocbench3",version:"8.0.1-beta.0",description:"",scripts:{start:"webpack-dev-server --inline --progress --port 8181",build:"rimraf dist && webpack --config config/webpack.prod.js --progress --profile --bail"},license:"BSD-3-Clause",repository:{type:"bitbucket",url:"https://bitbucket.org/art-uniroma2/vocbench3.git"},dependencies:{"@angular/common":"5.2.9","@angular/compiler":"5.2.9","@angular/core":"5.2.9","@angular/forms":"5.2.9","@angular/http":"5.2.9","@angular/platform-browser":"5.2.9","@angular/platform-browser-dynamic":"5.2.9","@angular/router":"5.2.9",bootstrap:"3.3.7",codemirror:"5.26.0","core-js":"2.6.11",d3:"5.7.0",jquery:"3.2.1",jsprolog:"0.2.2","ng2-completer":"1.6.3","ngx-modialog":"5.0.0",rxjs:"^5.5.0","yasgui-yasqe":"2.11.22","zone.js":"^0.8.4"},devDependencies:{"@types/codemirror":"0.0.88","@types/d3":"5.0.1","@types/jquery":"3.3.33","@types/node":"6.14.9","angular2-template-loader":"^0.6.0","awesome-typescript-loader":"^3.0.4","css-loader":"^0.26.1","extract-text-webpack-plugin":"^2.0.0-rc.3","file-loader":"^0.9.0","html-loader":"^0.4.3","html-webpack-plugin":"^2.16.1","null-loader":"^0.1.1","raw-loader":"^0.5.1",rimraf:"^2.7.1","style-loader":"^0.13.1",typescript:"2.8.4",webpack:"^2.2.1","webpack-dev-server":"2.4.1","webpack-merge":"^3.0.0"}}},function(e,t,n){!function(e){e(n(56))}(function(e){"use strict";function getRegexp(e,t){return t?new RegExp("(?:"+e.join("|")+")\\b"):new RegExp("(?:"+e.join("|")+")\\b","i")}const t=["true","false"],n=["decimal","double","float","integer","string"],r=["Functional","InverseFunctional","Reflexive","Irreflexive","Symmetric","Asymmetric","Transitive","Inverse"],o=["and","not","that","or"],i=["langRange","length","maxLength","minLength","pattern","<","<=",">",">="],a=["some","only","value","min","max","exactly","self"],s=getRegexp(t,!1),l=getRegexp(n,!0),c=getRegexp(r,!1),p=getRegexp(o,!1),d=getRegexp(i,!0),u=getRegexp(a,!1);e.defineSimpleMode("manchester",{start:[{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,token:"string"},{regex:s,token:"boolean"},{regex:l,token:"builtinDatatype"},{regex:c,token:"characteristic"},{regex:p,token:"conjuction"},{regex:d,token:"facet"},{regex:u,token:"quantifier"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:/\/(?:[^\\]|\\.)*?\//,token:"variable-3"},{regex:/[\{\[\(]/,indent:!0,token:"bracket"},{regex:/[\}\]\)]/,dedent:!0,token:"bracket"},{regex:/[a-z$][\w$]*/,token:"variable"}]})})},function(e,t,n){!function(e){e(n(56))}(function(e){"use strict";e.defineMode("mustache",function(t,n){var r={token:function(e,t){var n;if(e.match("{{"))for(;null!=(n=e.next());)if("}"==n&&"}"==e.next())return e.eat("}"),"mustache";for(;null!=e.next()&&!e.match("{{",!1););return null}};return e.overlayMode(e.getMode(t,n.backdrop||"text/html"),r)})})},function(e,t,n){!function(e){e(n(56))}(function(e){"use strict";e.defineMode("pearl",function(e){function wordRegexp(e){return new RegExp("^(?:"+e.join("|")+")$","i")}function tokenBase(e,n){var a=e.next();if(t=null,"$"==a||"?"==a)return e.match(/^[\w\d]*/),"variable-2";if("%"==a&&e.match(/^[a-zA-Z0-9-_]+%/))return e.match(/^[^\s\u00a0>]*>?/),"variable-4";if("<"==a&&!e.match(/^[\s\u00a0=]/,!1))return e.match(/^[^\s\u00a0>]*>?/),"atom";if('"'==a||"'"==a)return n.tokenize=tokenLiteral(a),n.tokenize(e,n);if(/[{}\(\),\.;\[\]]/.test(a))return t=a,"bracket";if("/"!=a){if(i.test(a))return e.eatWhile(i),"operator";if(":"==a)return e.eatWhile(/[\w\d\._\-]/),"atom";if("@"==a)return e.eatWhile(/[a-z\d\-]/i),"meta";if(e.eatWhile(/[_\w\d]/),e.eat(":"))return e.eatWhile(/[\w\d_\-]/),"atom";var s=e.current();return r.test(s)?"builtin":o.test(s)?"keyword":"variable"}return e.eat("*")?(n.tokenize=tokenComment,tokenComment(e,n)):e.eat("/")?(e.skipToEnd(),"comment"):void 0}function tokenComment(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=tokenBase;break}r="*"==n}return"comment"}function tokenLiteral(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){n.tokenize=tokenBase;break}o=!o&&"\\"==r}return"string"}}function pushContext(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function popContext(e){e.indent=e.context.indent,e.context=e.context.prev}var t,n=e.indentUnit,r=wordRegexp(["uri","bnode","regex","a","literal","as"]),o=wordRegexp(["prefix","where","OPTIONAL","graph","nodes","insert","delete","rule","bindings","Annotation","annotations","lazy","conditions","dependsOn","forRegex"]),i=/[*+\-<>=&|\^\/!\?]/;return{startState:function(){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(e,n){if(e.sol()&&(n.context&&null==n.context.align&&(n.context.align=!1),n.indent=e.indentation()),e.eatSpace())return null;var r=n.tokenize(e,n);if("comment"!=r&&n.context&&null==n.context.align&&"pattern"!=n.context.type&&(n.context.align=!0),"("==t)pushContext(n,")",e.column());else if("["==t)pushContext(n,"]",e.column());else if("{"==t)pushContext(n,"}",e.column());else if(/[\]\}\)]/.test(t)){for(;n.context&&"pattern"==n.context.type;)popContext(n);n.context&&t==n.context.type&&(popContext(n),"}"==t&&n.context&&"pattern"==n.context.type&&popContext(n))}else"."==t&&n.context&&"pattern"==n.context.type?popContext(n):/atom|string|variable/.test(r)&&n.context&&(/[\}\]]/.test(n.context.type)?pushContext(n,"pattern",e.column()):"pattern"!=n.context.type||n.context.align||(n.context.align=!0,n.context.col=e.column()));return r},indent:function(e,t){var r=t&&t.charAt(0),o=e.context;if(/[\]\}]/.test(r))for(;o&&"pattern"==o.type;)o=o.prev;var i=o&&r==o.type;return o?"pattern"==o.type?o.col:o.align?o.col+(i?0:1):o.indent+(i?0:n):0},lineComment:"//"}})})},function(e,t,n){function webpackContext(e){return n(webpackContextResolve(e))}function webpackContextResolve(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./flag_ar.png":1612,"./flag_be.png":1613,"./flag_bg.png":1614,"./flag_bn.png":1615,"./flag_cs.png":1616,"./flag_da.png":1617,"./flag_de.png":1618,"./flag_el.png":1619,"./flag_en-gb.png":1620,"./flag_en-us.png":1621,"./flag_en.png":1622,"./flag_es.png":1623,"./flag_et.png":1624,"./flag_fa.png":1625,"./flag_fi.png":1626,"./flag_fr.png":1627,"./flag_ga.png":1628,"./flag_hi.png":1629,"./flag_hr.png":1630,"./flag_hu.png":1631,"./flag_hy.png":1632,"./flag_id.png":1633,"./flag_it.png":1634,"./flag_ja.png":1635,"./flag_ka.png":1636,"./flag_km.png":1637,"./flag_ko.png":1638,"./flag_kz.png":1639,"./flag_lt.png":1640,"./flag_lv.png":1641,"./flag_nl.png":1642,"./flag_no.png":1643,"./flag_pl.png":1644,"./flag_pt.png":1645,"./flag_ro.png":1646,"./flag_ru.png":1647,"./flag_sk.png":1648,"./flag_sl.png":1649,"./flag_sq.png":1650,"./flag_sr.png":1651,"./flag_sv.png":1652,"./flag_th.png":1653,"./flag_tr.png":1654,"./flag_uk.png":1655,"./flag_unknown.png":790,"./flag_vi.png":1656,"./flag_zh.png":1657};webpackContext.keys=function(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=2383},function(e,t,n){function webpackContext(e){return n(webpackContextResolve(e))}function webpackContextResolve(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./annotationProperty_create.png":375,"./annotationProperty_delete.png":1658,"./cls_addChild.png":791,"./cls_create.png":151,"./cls_delete.png":792,"./cls_deprecate.png":793,"./conceptScheme_create.png":272,"./conceptScheme_delete.png":1659,"./conceptScheme_deprecate.png":1660,"./concept_addChild.png":1661,"./concept_create.png":273,"./concept_delete.png":1662,"./concept_deprecate.png":1663,"./dataRange_create.png":794,"./dataRange_delete.png":795,"./dataRange_deprecate.png":796,"./datatypeProperty_create.png":797,"./datatypeProperty_delete.png":1664,"./individual_create.png":798,"./individual_delete.png":799,"./individual_deprecate.png":800,"./limeLexicon_create.png":801,"./limeLexicon_delete.png":802,"./limeLexicon_deprecate.png":803,"./objectProperty_create.png":128,"./objectProperty_delete.png":1665,"./ontolexLexicalEntry_create.png":1666,"./ontolexLexicalEntry_delete.png":1667,"./ontolexLexicalEntry_deprecate.png":1668,"./ontologyProperty_create.png":804,"./ontologyProperty_delete.png":1669,"./property_addChild.png":805,"./property_create.png":89,"./property_delete.png":806,"./property_deprecate.png":807,"./skosCollection_addChild.png":808,"./skosCollection_create.png":274,"./skosCollection_delete.png":809,"./skosCollection_deprecate.png":810};webpackContext.keys=function(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=2384}],[1110]);