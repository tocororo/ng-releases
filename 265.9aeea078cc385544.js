"use strict";(self.webpackChunksceiba_ui=self.webpackChunksceiba_ui||[]).push([[265],{3265:(ii,U,c)=>{c.r(U),c.d(U,{PersonsAppModule:()=>ei,createTranslateLoader:()=>$});var C=c(9862),G=c(1447),R=c(6223),f=c(9515),V=c(5061),z=c(4611),y=c(1476),g=c(5313),M=c(1884),l=c(3887),W=c(553),u=c(6814),Z=c(5861),e=c(5879),X=c(6593);function K(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ngx-dropzone-remove-badge",1),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r._remove(o))}),e.qZA()}}const ee=[[["ngx-dropzone-label"]]],te=["ngx-dropzone-label"],ne=["fileInput"];function ie(n,a){1&n&&e.Hsn(0,2,["*ngIf","!_hasPreviews"])}const oe=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],ae=["ngx-dropzone-preview","*","ngx-dropzone-label"];let re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["ngx-dropzone-label"]]}),n})();function w(n){return null!=n&&"false"!=`${n}`}let ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(t,i){1&t&&(e.O4$(),e.TgZ(0,"svg"),e._UZ(1,"line",0)(2,"line",1),e.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),n})();var L=function(n){return n[n.BACKSPACE=8]="BACKSPACE",n[n.DELETE=46]="DELETE",n}(L||{});let Q=(()=>{class n{constructor(t){this.sanitizer=t,this._removable=!1,this.removed=new e.vpe,this.tabIndex=0}set file(t){this._file=t}get file(){return this._file}get removable(){return this._removable}set removable(t){this._removable=w(t)}keyEvent(t){switch(t.keyCode){case L.BACKSPACE:case L.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(t){t.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var t=this;return(0,Z.Z)(function*(){return new Promise((i,o)=>{const r=new FileReader;if(r.onload=s=>{i(s.target.result)},r.onerror=s=>{console.error(`FileReader failed on file ${t.file.name}.`),o(s)},!t.file)return o("No file to read. Please provide a file using the [file] Input property.");r.readAsDataURL(t.file)})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(t,i){1&t&&e.NdJ("keyup",function(r){return i.keyEvent(r)}),2&t&&(e.Ikx("tabindex",i.tabIndex),e.Akn(i.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:te,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(t,i){1&t&&(e.F$t(ee),e.Hsn(0),e.YNc(1,K,1,0,"ngx-dropzone-remove-badge",0)),2&t&&(e.xp6(1),e.Q6J("ngIf",i.removable))},dependencies:[ce,u.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),n})(),Y=(()=>{class n{parseFileList(t,i,o,r){const s=[],p=[];for(let h=0;h<t.length;h++){const x=t.item(h);this.isAccepted(x,i)?o&&x.size>o?this.rejectFile(p,x,"size"):!r&&s.length>=1?this.rejectFile(p,x,"no_multiple"):s.push(x):this.rejectFile(p,x,"type")}return{addedFiles:s,rejectedFiles:p}}isAccepted(t,i){if("*"===i)return!0;const o=i.split(",").map(m=>m.toLowerCase().trim()),r=t.type.toLowerCase(),s=t.name.toLowerCase();return!!o.find(m=>m.endsWith("/*")?r.split("/")[0]===m.split("/")[0]:m.startsWith(".")?s.endsWith(m):m==r)}rejectFile(t,i,o){const r=i;r.reason=o,t.push(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),le=(()=>{class n{constructor(t){this.service=t,this.change=new e.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(t){this._disabled=w(t),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(t){this._multiple=w(t)}get maxFileSize(){return this._maxFileSize}set maxFileSize(t){this._maxFileSize=function se(n){return isNaN(parseFloat(n))||isNaN(Number(n))?null:Number(n)}(t)}get expandable(){return this._expandable}set expandable(t){this._expandable=w(t)}get disableClick(){return this._disableClick}set disableClick(t){this._disableClick=w(t)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(t){this._processDirectoryDrop=w(t)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(t){this.disabled||(this.preventDefault(t),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(t){if(!this.disabled)if(this.preventDefault(t),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const i=t.dataTransfer.items;if(i.length>0){const o=[],r=[];for(let p=0;p<i.length;p++){const m=i[p].webkitGetAsEntry();m.isFile?o.push(t.dataTransfer.files[p]):m.isDirectory&&r.push(m)}const s=new DataTransfer;if(o.forEach(p=>{s.items.add(p)}),!r.length&&s.items.length&&this.handleFileDrop(s.files),r.length){const p=[];for(const m of r)p.push(this.extractFilesFromDirectory(m));Promise.all(p).then(m=>{m.reduce((h,x)=>[...h,...x]).forEach(h=>{s.items.add(h)}),this.handleFileDrop(s.files)})}}}else this.handleFileDrop(t.dataTransfer.files)}extractFilesFromDirectory(t){function i(r){return o.apply(this,arguments)}function o(){return(o=(0,Z.Z)(function*(r){try{return yield new Promise((s,p)=>r.file(s,p))}catch(s){console.log("Error converting a fileEntry to a File: ",s)}})).apply(this,arguments)}return new Promise((r,s)=>{const p=[],m=t.createReader(),h=()=>{m.readEntries(function(){var x=(0,Z.Z)(function*(q){if(q.length){const ti=q.filter(J=>J.isFile);for(const J of ti){const ni=yield i(J);p.push(ni)}h()}else r(p)});return function(q){return x.apply(this,arguments)}}())};h()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(t){this.handleFileDrop(t.target.files),this._fileInput.nativeElement.value="",this.preventDefault(t)}handleFileDrop(t){const i=this.service.parseFileList(t,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:i.addedFiles,rejectedFiles:i.rejectedFiles,source:this})}preventDefault(t){t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y,2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,Q,5),2&t){let r;e.iGM(r=e.CRH())&&(i._previewChildren=r)}},viewQuery:function(t,i){if(1&t&&e.Gf(ne,7),2&t){let o;e.iGM(o=e.CRH())&&(i._fileInput=o.first)}},hostVars:8,hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i._onClick()})("dragover",function(r){return i._onDragOver(r)})("dragleave",function(){return i._onDragLeave()})("drop",function(r){return i._onDrop(r)}),2&t&&e.ekj("ngx-dz-disabled",i.disabled)("expandable",i.expandable)("unclickable",i.disableClick)("ngx-dz-hovered",i._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[e._Bn([Y])],ngContentSelectors:ae,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(t,i){1&t&&(e.F$t(oe),e.TgZ(0,"input",0,1),e.NdJ("change",function(r){return i._onFilesSelected(r)}),e.qZA(),e.YNc(2,ie,1,0,"ng-content",2),e.Hsn(3),e.Hsn(4,1)),2&t&&(e.Q6J("id",i.id)("multiple",i.multiple)("accept",i.accept)("disabled",i.disabled),e.uIk("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedBy),e.xp6(2),e.Q6J("ngIf",!i._hasPreviews))},dependencies:[u.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),n})(),pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez]]}),n})();var me=c(6208),ge=c(6729),ue=c(1922);const de=[{nameTranslate:"ACERCA_DE",href:"/help/about",useRouterLink:!0,icon:"info"},{nameTranslate:"PRIVACIDAD",href:"/help/policy",useRouterLink:!0,icon:"security"},{nameTranslate:"CONTACTOS",href:"/help/contact",useRouterLink:!0,icon:"contacts"}];var d=c(2787);function _e(n,a){1&n&&(e.TgZ(0,"div",16)(1,"span",17),e.ALo(2,"translate"),e.TgZ(3,"strong"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&n&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(2,2,"BETA_TOOLTIP")),e.xp6(3),e.Oqu(e.lcZ(5,4,"BETA")))}function he(n,a){if(1&n&&(e.TgZ(0,"button",18),e.ALo(1,"translate"),e.TgZ(2,"mat-icon",19),e._uU(3,"translate"),e.qZA()()),2&n){e.oxw();const t=e.MAs(15);e.s9C("matTooltip",e.lcZ(1,2,"IDIOMA")),e.Q6J("matMenuTriggerFor",t)}}function fe(n,a){if(1&n&&(e._UZ(0,"toco-authentication",20),e.ALo(1,"translate")),2&n){const t=e.oxw();e.Q6J("oauthInfo",t.oauthInfo)("isButtonLogin","true")("isButtonLoginIcon","true")("isButtonLoginText",e.lcZ(1,4,"AUTENTICARSE"))}}function xe(n,a){1&n&&(e.TgZ(0,"mat-icon"),e._uU(1,"radio_button_checked"),e.qZA())}function ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){const r=e.CHM(t).index,s=e.oxw();return e.KtG(s.setLanguage(r))}),e.YNc(1,xe,2,0,"mat-icon",22),e._uU(2),e.qZA()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw(),r=e.MAs(18);e.xp6(1),e.Q6J("ngIf",i==o.currentLang)("ngIfElse",r),e.xp6(1),e.hij(" ",t," ")}}function Ce(n,a){1&n&&(e.TgZ(0,"mat-icon"),e._uU(1,"radio_button_unchecked"),e.qZA())}function be(n,a){if(1&n&&(e.TgZ(0,"a",25)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",t.href),e.xp6(2),e.Oqu(e.lcZ(3,2,t.nameTranslate))}}function Te(n,a){if(1&n&&(e.TgZ(0,"a",26)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("href",t.href,e.LSH)("target",t.target),e.xp6(2),e.Oqu(e.lcZ(3,3,t.nameTranslate))}}function ye(n,a){if(1&n&&(e.ynx(0),e.YNc(1,be,4,4,"a",23),e.YNc(2,Te,4,5,"ng-template",null,24,e.W1O),e.BQk()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.useRouterLink)("ngIfElse",i)}}const we=function(n){return[n,""]};let Oe=(()=>{class n{constructor(t,i,o,r,s,p,m){this._env=t,this._transServ=i,this.router=o,this.oauthService=r,this.http=s,this.oauthStorage=p,this.authenticateService=m,this.languageTexts=["Espa\xf1ol","English"],this.languageAbbrs=["es","en"],this.isBeta=!0,this.isAuthenticated=!1,this.autehnticated_name="",this.simpleMenu=!1,this.user=null,this.authenticateSuscription=null,this.env=this._env,this.oauthInfo=this.env.oauthInfo}ngOnInit(){this.currentLang=0,null==this.showMenuLang&&(this.showMenuLang=!1),this.sceibaHost=this._env.sceibaHost,this._transServ.setDefaultLang("es"),this._transServ.use("es"),this._transServ.addLangs(this.languageAbbrs),this._menuLoginOptions=this.menuLoginOptions||[{nameTranslate:"AUTENTICARSE",icon:"lock",href:null,click:()=>console.log("login===")},{nameTranslate:"REGISTRARSE",icon:"assignment_ind",href:null,click:()=>console.log("login===")}],this._menuUser=this.menuUser||[{nameTranslate:"ACCOUNT_SETTINGS",icon:"account_circle",href:`${this.sceibaHost}account/settings/profile/`,useRouterLink:!1,target:"_blank"},{nameTranslate:"PERFIL_USUARIO",icon:"person_outline",href:`/person/${this.user&&this.user.id}`,useRouterLink:!0},{nameTranslate:"CAMBIAR_CONTRASE\xd1A",icon:"vpn_key",href:`${this.sceibaHost}account/settings/password/`,useRouterLink:!1,target:"_blank"},{nameTranslate:"SEGURIDAD",icon:"security",href:`${this.sceibaHost}account/settings/security/`,useRouterLink:!1,target:"_blank"},{nameTranslate:"APLICACIONES",icon:"settings_applications",href:`${this.sceibaHost}account/settings/applications/`,useRouterLink:!1,target:"_blank"},{nameTranslate:"SALIR",icon:"exit_to_app",href:"/",useRouterLink:!0,click:()=>this.logoff()}],this.staticMenuOptions=this.menuOptions||[{nameTranslate:"IMPORTAR",icon:"publish",useRouterLink:!0,hideLabel:!0,href:"/import"},{nameTranslate:"APLICACIONES",icon:"apps",childrenMenu:this._menuApps||[{nameTranslate:"SCEIBA",href:this._env.sceiba,target:"_blank",useRouterLink:!1,img:{src:"/assets/icons/apps/sceiba.svg",style:""},divider:!0},{nameTranslate:"BUSQUEDA",href:this._env.discover,target:"_blank",useRouterLink:!1,img:{src:"/assets/icons/apps/discover.svg",style:"width: 55px; height: 55px"}},{nameTranslate:"REVISTAS_MES",href:this._env.revistasmes,target:"_blank",useRouterLink:!1,img:{src:"/assets/icons/apps/revistasmes.png",style:"width: 55px; height: 55px"}},{nameTranslate:"CATALOGO",href:this._env.catalog,target:"_blank",useRouterLink:!1,img:{src:"/assets/icons/apps/catalog.svg",style:"width: 55px; height: 55px"},divider:!0},{nameTranslate:"ORGANIZACIONES",href:this._env.organizations,target:"_blank",useRouterLink:!1,img:{src:"/assets/icons/apps/organizaciones.svg",style:"width: 55px; height: 55px"}},{nameTranslate:"PERSONAS",href:"/",target:"_self",useRouterLink:!0,img:{src:"/assets/icons/apps/persons.svg",style:"width: 55px; height: 55px"}},{nameTranslate:"VOCABULARIOS",href:this._env.vocabularies,target:"_blank",useRouterLink:!0,img:{src:"/assets/icons/apps/vocabs.svg",style:"width: 55px; height: 55px"},divider:!0},{nameTranslate:"SMOODLE",href:this._env.moodle,target:"_blank",useRouterLink:!1,img:{src:"/assets/icons/apps/scourses.svg",style:"width: 55px; height: 55px"}},{nameTranslate:"EVALUACION_APP",href:this._env.sceiba,target:"_blank",useRouterLink:!1,img:{src:"/assets/icons/apps/evaluations.svg",style:"width: 55px; height: 55px"}}],isMenuApps:!0},{nameTranslate:"AYUDA",icon:"help",childrenMenu:de}],this._menuOptions=this.staticMenuOptions;let i=JSON.parse(this.oauthStorage.getItem("user"));i&&(this.user=i.data.userprofile.user,this._menuOptions=[...this.staticMenuOptions,{nameTranslate:this.user?this.user.email.split("@")[0]:"",icon:"person_pin",childrenMenu:this._menuUser,hideLabel:!0}]),this.authenticateSuscription=this.authenticateService.authenticationSubjectObservable.subscribe(o=>{o?(this.user=o.data.userprofile.user,this._menuOptions=[...this.staticMenuOptions,{nameTranslate:this.user?this.user.email.split("@")[0]:"",icon:"person_pin",childrenMenu:this._menuUser,hideLabel:!0}]):this.logoff()},o=>{this.user=null},()=>{})}ngOnDestroy(){this.authenticateSuscription&&this.authenticateSuscription.unsubscribe()}showHideMenuHeader(){let t="menuAppst-menu-trigger menuAppst-icon-button menuAppst-button-base";return window.innerWidth<600?t+" show-menu":t+" hide-menu"}showHideMenuHeaderElements(){return window.innerWidth>600?"menu-full show-menu-elements":"menu-full hide-menu"}setLanguage(t){if(t!=this.currentLang){console.log("setLanguage method is called with language: ",t);let i=(0,l.FQO)(this.currentLang=t);this._transServ.use(i)}}get isHome(){return"/"==this.router.url}login(){console.log("hi"),this.oauthService.initImplicitFlow()}logoff(){this.oauthService.logOut(),this.oauthStorage.removeItem("user"),this.user=void 0,this._menuOptions=this.staticMenuOptions}get name(){let t=JSON.parse(this.oauthStorage.getItem("user"));return t?t.email:null}getUserInfo(){return this.http.get(this._env.sceibaApi+"me")}me(){this.getUserInfo().subscribe({next:t=>{console.log(t)},error:t=>{},complete:()=>{}})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(l.qAh),e.Y36(f.sK),e.Y36(d.F0),e.Y36(M.Ct),e.Y36(C.eN),e.Y36(M.Hy),e.Y36(l.FY))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["toco-header"]],inputs:{languageTexts:"languageTexts",languageAbbrs:"languageAbbrs",isBeta:"isBeta",icon:"icon",iconLabel:"iconLabel",iconAlt:"iconAlt",menuOptions:"menuOptions",menuLoginOptions:"menuLoginOptions",menuUser:"menuUser",showMenuLang:"showMenuLang",isAuthenticated:"isAuthenticated",autehnticated_name:"autehnticated_name"},decls:22,vars:16,consts:[[1,"mat-elevation-z8",2,"position","relative","z-index","2"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","space-between center","fxLayoutAlign.xs","space-between stretch",2,"height","auto !important","min-height","80px"],[2,"width","330px","display","flex","align-items","center"],["class","triangle",4,"ngIf"],["mat-button","",2,"white-space","normal","display","flex","align-items","center",3,"routerLink"],[2,"height","50px","margin-right","6px",3,"src","alt"],[1,"mat-h3"],["appearance","legacy","aria-label","'MENU_INICIO' | translate","fxLayout","row wrap","fxLayoutAlign","center","fxLayoutGap","15px",1,"center-elements"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip",4,"ngIf"],[3,"menuItems"],[3,"oauthInfo","isButtonLogin","isButtonLoginIcon","isButtonLoginText",4,"ngIf"],["menuLanguages","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["elseTemplate_radio_button_unchecked",""],["menuHeader","matMenu"],[4,"ngFor","ngForOf"],[1,"triangle"],["matTooltipClass","tooltip-beta-red",3,"matTooltip"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip"],[1,"mat-18"],[3,"oauthInfo","isButtonLogin","isButtonLoginIcon","isButtonLoginText"],["mat-menu-item","",3,"click"],[4,"ngIf","ngIfElse"],["mat-menu-item","",3,"routerLink",4,"ngIf","ngIfElse"],["useHrefMenu",""],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"href","target"]],template:function(i,o){1&i&&(e.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"div",2),e.YNc(3,_e,6,6,"div",3),e.TgZ(4,"a",4),e._UZ(5,"img",5),e.ALo(6,"translate"),e.TgZ(7,"span",6),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",7),e.YNc(11,he,4,4,"button",8),e._UZ(12,"app-menu",9),e.YNc(13,fe,2,6,"toco-authentication",10),e.qZA()()(),e.TgZ(14,"mat-menu",null,11),e.YNc(16,ve,3,3,"a",12),e.YNc(17,Ce,2,0,"ng-template",null,13,e.W1O),e.qZA(),e.TgZ(19,"mat-menu",null,14),e.YNc(21,ye,4,2,"ng-container",15),e.qZA()),2&i&&(e.xp6(3),e.Q6J("ngIf",o.isBeta),e.xp6(1),e.Q6J("routerLink",e.VKq(14,we,o.env.persons)),e.xp6(1),e.s9C("src",o.icon,e.LSH),e.Q6J("alt",e.lcZ(6,10,o.iconAlt)),e.xp6(3),e.Oqu(e.lcZ(9,12,o.iconLabel)),e.xp6(3),e.Q6J("ngIf",o.showMenuLang),e.xp6(1),e.Q6J("menuItems",o._menuOptions),e.xp6(1),e.Q6J("ngIf",!o.user),e.xp6(3),e.Q6J("ngForOf",o.languageTexts),e.xp6(5),e.Q6J("ngForOf",o.menuElements))},styles:[".menu-icon-button[_ngcontent-%COMP%]{border:inherit;background-color:inherit}.color-white[_ngcontent-%COMP%]{color:#fff!important;text-emphasis:white;text-decoration:none!important}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;min-height:64px}.w-90[_ngcontent-%COMP%]{width:90%}.apps[_ngcontent-%COMP%]{margin:.5em;display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#000;font-size:smaller}.apps[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55px;height:55px}.MES[_ngcontent-%COMP%]{width:190px!important}.menu-full[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap}.font-bold[_ngcontent-%COMP%]{font-weight:700}.triangle[_ngcontent-%COMP%]{position:relative;width:0;height:0;border-top:0px solid transparent;border-left:80px solid #dd2c00;border-bottom:80px solid transparent;margin-left:-16px}.triangle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:23px;top:11px;color:#fff;transform:rotate(-45deg)}.show-menu[_ngcontent-%COMP%]{display:inline-block}.hide-menu[_ngcontent-%COMP%]{display:none}.show-menu-elements[_ngcontent-%COMP%]{display:flex}.center-elements[_ngcontent-%COMP%]{width:auto}a[_ngcontent-%COMP%]{color:#000!important;text-decoration:none!important}@media screen and (max-width: 490px){.center-elements[_ngcontent-%COMP%]{width:100%}}"]})}return n})();var _=c(3814),O=c(2296),b=c(7988),P=c(2596),T=c(617),Me=c(6385);const Pe=["childMenu"];function Ze(n,a){1&n&&e._UZ(0,"mat-divider",9)}function Ae(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"a",6),e.ALo(2,"translate"),e._UZ(3,"img",7),e.ALo(4,"translate"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.YNc(8,Ze,1,0,"mat-divider",8),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.s9C("matTooltip",e.lcZ(2,7,t.nameTranslate)),e.Q6J("href",t.href,e.LSH)("target",t.target),e.xp6(2),e.Q6J("src",t.img.src,e.LSH)("alt",e.lcZ(4,9,t.nameTranslate)),e.xp6(3),e.Oqu(e.lcZ(7,11,t.nameTranslate)),e.xp6(2),e.Q6J("ngIf",t.divider)}}function Se(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",4),e.YNc(2,Ae,9,13,"ng-container",5),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.subMenuElements)}}function Ie(n,a){if(1&n&&(e.TgZ(0,"span")(1,"button",11)(2,"mat-icon"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e._UZ(7,"app-menu-item",12,13),e.qZA()),2&n){const t=e.MAs(8),i=e.oxw().$implicit;e.xp6(1),e.Q6J("matMenuTriggerFor",t.childMenu),e.xp6(2),e.Oqu(i.icon),e.xp6(2),e.Oqu(e.lcZ(6,4,i.nameTranslate)),e.xp6(2),e.Q6J("subMenuElements",i.childrenMenu)}}function Ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit;return e.KtG(o.click())}),e.TgZ(2,"mat-icon"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("routerLink",t.href),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(e.lcZ(6,3,t.nameTranslate))}}function ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit;return e.KtG(o.click())}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("target",t.target)("href",t.href,e.LSH),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(e.lcZ(5,4,t.nameTranslate))}}function ze(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ne,7,5,"span",2),e.YNc(2,ke,6,6,"ng-template",null,14,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.useRouterLink)("ngIfElse",t)}}function Le(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ie,9,6,"span",10),e.YNc(2,ze,4,2,"ng-container",10),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.childrenMenu&&t.childrenMenu.length>0),e.xp6(1),e.Q6J("ngIf",!t.childrenMenu||0===t.childrenMenu.length)}}function De(n,a){if(1&n&&e.YNc(0,Le,3,2,"ng-container",5),2&n){const t=e.oxw();e.Q6J("ngForOf",t.subMenuElements)}}let Fe=(()=>{class n{constructor(){this.isMenuApps=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-menu-item"]],viewQuery:function(i,o){if(1&i&&e.Gf(Pe,7),2&i){let r;e.iGM(r=e.CRH())&&(o.childMenu=r.first)}},inputs:{subMenuElements:"subMenuElements",isMenuApps:"isMenuApps"},decls:5,vars:3,consts:[[3,"overlapTrigger"],["childMenu","matMenu"],[4,"ngIf","ngIfElse"],["simpleMenu",""],["fxLayout","row wrap","fxLayoutAlign","space-around flex-end"],[4,"ngFor","ngForOf"],[1,"apps","mat-caption",3,"href","target","matTooltip"],[2,"width","55px","height","55px",3,"src","alt"],["class","w-90 my-10",4,"ngIf"],[1,"w-90","my-10"],[4,"ngIf"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor"],[3,"subMenuElements"],["menu",""],["useHrefMenu",""],["mat-menu-item","",3,"routerLink","click"],["mat-menu-item","",3,"target","href","click"]],template:function(i,o){if(1&i&&(e.TgZ(0,"mat-menu",0,1),e.YNc(2,Se,3,1,"ng-container",2),e.YNc(3,De,1,1,"ng-template",null,3,e.W1O),e.qZA()),2&i){const r=e.MAs(4);e.Q6J("overlapTrigger",!1),e.xp6(2),e.Q6J("ngIf",o.isMenuApps)("ngIfElse",r)}},dependencies:[u.sg,u.O5,_.xw,_.Wh,b.VK,b.OP,b.p6,P.gM,T.Hw,Me.d,d.rH,n,f.X$],styles:[".apps[_ngcontent-%COMP%]{margin:.5em;display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#000;font-size:smaller}.apps[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55px;height:55px}.w-90[_ngcontent-%COMP%]{width:90%}.my-10[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}"]})}return n})();function qe(n,a){if(1&n&&(e.TgZ(0,"button",8),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3),e.qZA()()),2&n){e.oxw(2);const t=e.MAs(5),i=e.oxw().$implicit;e.s9C("matTooltip",e.lcZ(1,3,i.nameTranslate)),e.Q6J("matMenuTriggerFor",t.childMenu),e.xp6(3),e.Oqu(i.icon)}}function Je(n,a){if(1&n&&(e.ynx(0),e.YNc(1,qe,4,5,"button",7),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.icon)}}function Ue(n,a){if(1&n&&(e.TgZ(0,"button",8),e.ALo(1,"translate"),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){e.oxw();const t=e.MAs(5),i=e.oxw().$implicit;e.s9C("matTooltip",e.lcZ(1,3,i.nameTranslate)),e.Q6J("matMenuTriggerFor",t.childMenu),e.xp6(2),e.hij(" ",e.lcZ(3,5,i.nameTranslate)," ")}}function Re(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Je,2,1,"ng-container",3),e.YNc(2,Ue,4,7,"ng-template",null,4,e.W1O),e._UZ(4,"app-menu-item",5,6),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.icon)("ngIfElse",t),e.xp6(3),e.Q6J("subMenuElements",i.childrenMenu)("isMenuApps",i.isMenuApps)}}function Qe(n,a){if(1&n&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.icon)}}function Ye(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.nameTranslate))}}function Ee(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"button",10),e.ALo(2,"translate"),e.YNc(3,Qe,2,1,"mat-icon",2),e.YNc(4,Ye,3,3,"span",2),e.qZA(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.s9C("matTooltip",e.lcZ(2,4,t.nameTranslate)),e.Q6J("routerLink",t.href),e.xp6(2),e.Q6J("ngIf",t.icon),e.xp6(1),e.Q6J("ngIf",!t.hideLabel)}}function Be(n,a){if(1&n&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.icon)}}function He(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.nameTranslate))}}function je(n,a){if(1&n&&(e.TgZ(0,"a",11),e.ALo(1,"translate"),e.YNc(2,Be,2,1,"mat-icon",2),e.YNc(3,He,3,3,"span",2),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.s9C("matTooltip",e.lcZ(1,5,t.nameTranslate)),e.Q6J("target",t.target)("href",t.href,e.LSH),e.xp6(2),e.Q6J("ngIf",t.icon),e.xp6(1),e.Q6J("ngIf",!t.hideLabel)}}function $e(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ee,5,6,"ng-container",3),e.YNc(2,je,4,7,"ng-template",null,9,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.useRouterLink)("ngIfElse",t)}}function Ge(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Re,6,4,"ng-container",2),e.YNc(2,$e,4,2,"ng-container",2),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.childrenMenu&&t.childrenMenu.length>0&&!t.hidden),e.xp6(1),e.Q6J("ngIf",!(t.childrenMenu&&0!==t.childrenMenu.length||t.hidden))}}let Ve=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-menu"]],inputs:{menuItems:"menuItems"},decls:2,vars:1,consts:[["appearance","legacy","aria-label","'MENU_INICIO' | translate","fxLayout","row wrap","fxLayoutAlign","center","fxLayoutGap","8px",1,"center-elements"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noIcon",""],[3,"subMenuElements","isMenuApps"],["menu",""],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip"],["useHrefMenu",""],["mat-icon-button","",3,"routerLink","matTooltip"],["mat-icon-button","",3,"target","href","matTooltip"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Ge,3,2,"ng-container",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",o.menuItems))},dependencies:[u.sg,u.O5,_.xw,_.SQ,_.Wh,O.o6,O.RK,b.p6,P.gM,T.Hw,d.rH,Fe,f.X$],styles:[".mat-menu-panel{max-width:350px!important}.mat-menu-panel a{color:#000!important;text-decoration:none!important}\n"],encapsulation:2})}return n})();var We=c(3815),A=c(7509);const Xe=function(){return{width:"90%","margin-left":"1em","padding-top":"60px"}};let Ke=(()=>{class n{constructor(t,i,o,r){this._router=t,this._activatedRoute=i,this.transServ=o,this._metadata=r,this.actionText=l.dw5}ngOnInit(){this._activatedRoute.url.subscribe(()=>{this._metadata.meta.updateTag({name:"DC.title",content:"Personas"}),this._metadata.meta.updateTag({name:"DC.description",content:"Gestiona los perfiles de los investigadores as\xed como de otras personas relacionados con la investigaci\xf3n cient\xedfica, identificando a cada una de ellas de manera un\xedvoca y promoviendo la desambiguaci\xf3n de perfiles"})})}queryChange(t){this._router.navigate(["search"],{relativeTo:this._activatedRoute,queryParams:{q:t},queryParamsHandling:""})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(f.sK),e.Y36(l.Doh))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:11,vars:8,consts:[["fxLayout","column","fxLayoutAlign","center center"],["fxLayoutAlign","center center",1,"w-100","bg-primary-color"],[1,"pt-2em","pb-2em","ph-10"],[1,"mat-display-2",2,"margin","0","text-align","center","color","white"],["fxLayout","row","fxLayoutAlign","center center",1,"w-100"],[1,"w-80",2,"margin","1em 0"],[1,"w-100",3,"buttonColor","query","queryChange"],[1,"w-70",2,"margin-top","0.5em","margin-left","4em",3,"ngStyle.xs"],["markdown","",1,"mat-h2","text-format",3,"src"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"toco-search-query-input",6),e.NdJ("queryChange",function(s){return o.queryChange(s)}),e.qZA()()(),e.TgZ(9,"div",7),e._UZ(10,"div",8),e.qZA()()),2&i&&(e.xp6(4),e.hij(" ",e.lcZ(5,5,"SCEIBA_PERSONAS_SUB")," "),e.xp6(4),e.Q6J("buttonColor","primary")("query",""),e.xp6(1),e.Q6J("ngStyle.xs",e.DdM(7,Xe)),e.xp6(1),e.Q6J("src","/assets/markdown/personas/home.people."+("es"==o.transServ.currentLang?"es.md":"en.md")))},dependencies:[_.xw,_.Wh,A.Zl,z.lF,l.d1Z,f.X$],styles:[".main-sceiba[_ngcontent-%COMP%]{background-image:url(/assets/icons/sceiba.top.svg);background-repeat:no-repeat;background-position:center top;background-size:contain;-webkit-backdrop-size:contain;-moz-background-size:contain;-o-background-size:contain}.main-title[_ngcontent-%COMP%]{margin:0}.text-get-started[_ngcontent-%COMP%]{font-size:x-large;text-align:center;margin-right:2em}.button-get-started[_ngcontent-%COMP%]{height:2em;font-size:24px;line-height:46px}.a-grey[_ngcontent-%COMP%]{color:#000;text-decoration:none}.a-grey[_ngcontent-%COMP%]:hover{text-decoration:underline}.pt-5[_ngcontent-%COMP%]{padding-top:5px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-2em[_ngcontent-%COMP%]{padding-top:2em}.pb-20[_ngcontent-%COMP%]{padding-bottom:20px}.pb-2em[_ngcontent-%COMP%]{padding-bottom:2em}.pb-1em[_ngcontent-%COMP%]{padding-bottom:1em}.ph-10[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.ph-30[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.w-20[_ngcontent-%COMP%]{width:25%;min-width:15em}.w-50[_ngcontent-%COMP%]{width:50%;min-width:15em}.w-70[_ngcontent-%COMP%]{width:70%;min-width:15em}.w-80[_ngcontent-%COMP%]{width:80%;min-width:15em}.w-100[_ngcontent-%COMP%]{width:100%;min-width:15em}.text-center[_ngcontent-%COMP%]{text-align:center}.text-xxl[_ngcontent-%COMP%]{font-size:9vw}.text-xl[_ngcontent-%COMP%]{font-size:5vw}.text-m[_ngcontent-%COMP%]{font-size:4vw}.text-s[_ngcontent-%COMP%]{font-size:2.2vw}.text-xs[_ngcontent-%COMP%]{font-size:1.8vw}.right-stats[_ngcontent-%COMP%]{min-width:11em;padding:0 16px;margin:1em 0}.line-vertical[_ngcontent-%COMP%]{width:60%;border-left:solid 2px grey;align-self:normal!important;padding:16px}.aling-center[_ngcontent-%COMP%]{margin:.5em;max-width:8em;text-align:center}.w-img[_ngcontent-%COMP%]{width:100px;border-radius:50%}.mySlides[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{min-height:300px;position:relative;margin:0;padding-left:10px;padding-right:10px}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.65);color:#fff;padding:16px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:medium}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:40%;width:20px;height:20px;padding:16px;margin-top:-22px;color:#fff;transition:.6s ease;border-radius:50%}.next[_ngcontent-%COMP%]{right:0}.prev[_ngcontent-%COMP%]:hover, .next[_ngcontent-%COMP%]:hover{background-color:#000c}.text[_ngcontent-%COMP%]{color:#007f3f;font-size:xx-large;padding:10px 50px;text-align:center}.numbertext[_ngcontent-%COMP%]{color:#f2f2f2;font-size:12px;padding:8px 12px;position:absolute;top:0}.dot[_ngcontent-%COMP%]{cursor:pointer;height:15px;width:15px;margin:0 2px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color .6s ease}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{background-color:#717171}.fade[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_fade;-webkit-animation-duration:1.5s;animation-name:_ngcontent-%COMP%_fade;animation-duration:1.5s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.4}to{opacity:1}}@media (max-width: 650px){.text[_ngcontent-%COMP%]{font-size:medium}}@media only screen and (max-width: 667px){.text[_ngcontent-%COMP%]{bottom:40px}.container[_ngcontent-%COMP%]{min-height:150px}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{top:40%}.main-sceiba[_ngcontent-%COMP%]{background-image:url(/assets/icons/sceiba.top.xs.svg)}}.card1-header-image[_ngcontent-%COMP%]{background-image:url(/assets/images/proximamente/people1.png);background-size:cover}.card2-header-image[_ngcontent-%COMP%]{background-image:url(/assets/images/proximamente/evaluation2.png);background-size:cover}.card3-header-image[_ngcontent-%COMP%]{background-image:url(/assets/images/proximamente/folder1.png);background-size:cover}.bgtranparent[_ngcontent-%COMP%]{background-color:#fffc}.cards-nexts[_ngcontent-%COMP%]{padding-top:20px;align-items:end;margin-right:0!important}.product1-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/catalog.svg);background-size:cover}.product2-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/organizacion.svg);background-size:cover}.product3-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/vocabs.svg);background-size:cover}.product4-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/mes.svg);background-size:cover}.white-title[_ngcontent-%COMP%]{color:#fff;font-size:x-large;text-align:center}"]})}return n})();var et=c(8217),tt=c(6890);let S=(()=>{class n{constructor(t,i,o,r){this._env=t,this.handler=i,this.oAuthStorage=o,this._http=r,this._prefix="people"}getPeople(t){return this._http.get(this._env.sceibaApi+"search/persons/")}getPeopleById(t){return this._http.get(this._env.sceibaApi+"pid/persons/"+t)}saveImport(t,i){this.oAuthStorage.getItem("access_token");const r=new FormData;return r.append("file",i),console.log(i),this._http.post(this._env.sceibaApi+"persons/import/"+t,r)}static#e=this.\u0275fac=function(i){return new(i||n)(e.LFG(l.qAh),e.LFG(C.jN),e.LFG(M.Hy),e.LFG(C.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nt=c(7700);function it(n,a){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Nombre"),e.qZA())}function ot(n,a){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.name)," ")}}function at(n,a){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Apellidos"),e.qZA())}function rt(n,a){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.lastName)," ")}}function st(n,a){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Aliases"),e.qZA())}function ct(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function lt(n,a){if(1&n&&(e.TgZ(0,"td",15),e.YNc(1,ct,3,3,"div",16),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t.aliases)}}function pt(n,a){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Sexo"),e.qZA())}function mt(n,a){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.gender)}}function gt(n,a){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Pa\xeds"),e.qZA())}function ut(n,a){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.country)}}function dt(n,a){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Email Institucional"),e.qZA())}function _t(n,a){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.institutional_email," ")}}function ht(n,a){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Emails"),e.qZA())}function ft(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function xt(n,a){if(1&n&&(e.TgZ(0,"td",15),e.YNc(1,ft,2,1,"div",16),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t.externals_email)}}function vt(n,a){1&n&&e._UZ(0,"tr",17)}function Ct(n,a){1&n&&e._UZ(0,"tr",18)}const bt=function(){return[5,10,20]};let Tt=(()=>{class n{set matPaginator(t){this.paginator=t,this.dataSource.paginator=this.paginator}constructor(){this.displayedColumns=["name","lastName","aliases","gender","country","institutional_email","emails"],this.pageSize=5,this.pageIndex=0}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-json-table"]],viewQuery:function(i,o){if(1&i&&e.Gf(y.NW,5),2&i){let r;e.iGM(r=e.CRH())&&(o.matPaginator=r.first)}},inputs:{dataSource:"dataSource"},decls:26,vars:6,consts:[["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","aliases"],["matColumnDef","gender"],["matColumnDef","country"],["matColumnDef","institutional_email"],["matColumnDef","emails"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,it,2,0,"th",2),e.YNc(3,ot,3,3,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,at,2,0,"th",2),e.YNc(6,rt,3,3,"td",3),e.BQk(),e.ynx(7,5),e.YNc(8,st,2,0,"th",2),e.YNc(9,lt,2,1,"td",3),e.BQk(),e.ynx(10,6),e.YNc(11,pt,2,0,"th",2),e.YNc(12,mt,2,1,"td",3),e.BQk(),e.ynx(13,7),e.YNc(14,gt,2,0,"th",2),e.YNc(15,ut,2,1,"td",3),e.BQk(),e.ynx(16,8),e.YNc(17,dt,2,0,"th",2),e.YNc(18,_t,2,1,"td",3),e.BQk(),e.ynx(19,9),e.YNc(20,ht,2,0,"th",2),e.YNc(21,xt,2,1,"td",3),e.BQk(),e.YNc(22,vt,1,0,"tr",10),e.YNc(23,Ct,1,0,"tr",11),e.qZA(),e._UZ(24,"mat-paginator",12,13)),2&i&&(e.Q6J("dataSource",o.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,bt)))},dependencies:[u.sg,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,y.NW,u.rS]})}return n})();var I=c(9038);function yt(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Nombre"),e.qZA())}function wt(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.nombre)," ")}}function Ot(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Apellido 1"),e.qZA())}function Mt(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.apellido1)," ")}}function Pt(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Apellido 2"),e.qZA())}function Zt(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.apellido2)," ")}}function At(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Pais"),e.qZA())}function St(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.pais)}}function It(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Expediente"),e.qZA())}function Nt(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.idExpediente)}}function kt(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"CI"),e.qZA())}function zt(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.noCi)}}function Lt(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Sexo"),e.qZA())}function Dt(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.sexo)}}function Ft(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Email Institucional"),e.qZA())}function qt(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.institutional_email," ")}}function Jt(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Email"),e.qZA())}function Ut(n,a){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.externals_email)}}function Rt(n,a){1&n&&(e.TgZ(0,"th",17),e._uU(1,"Aliases"),e.qZA())}function Qt(n,a){if(1&n&&(e.TgZ(0,"mat-list",20)(1,"mat-list-item",21),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t)}}function Yt(n,a){if(1&n&&(e.TgZ(0,"td",18),e.YNc(1,Qt,3,1,"mat-list",19),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t.aliases)}}function Et(n,a){1&n&&e._UZ(0,"tr",22)}function Bt(n,a){1&n&&e._UZ(0,"tr",23)}const Ht=function(){return[5,10,20]};let jt=(()=>{class n{set matPaginator(t){this.paginator=t,this.dataSource.paginator=this.paginator}constructor(){this.displayedColumns=["nombre","apellido1","apellido2","idExpediente","noCi","pais","sexo","institutional_email","externals_email","aliases"]}ngOnInit(){console.log(this.dataSource.data),this.dataSource.data.shift(),this.dataSource.data=this.dataSource.data.map(t=>{let i={};return this.displayedColumns.forEach(o=>{i[o]=t[o]}),{...i}}),console.log(this.dataSource.data)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-csv-table"]],viewQuery:function(i,o){if(1&i&&e.Gf(y.NW,5),2&i){let r;e.iGM(r=e.CRH())&&(o.matPaginator=r.first)}},inputs:{dataSource:"dataSource"},decls:35,vars:6,consts:[["mat-table","",2,"width","100%",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","apellido1"],["matColumnDef","apellido2"],["matColumnDef","pais"],["matColumnDef","idExpediente"],["matColumnDef","noCi"],["matColumnDef","sexo"],["matColumnDef","institutional_email"],["matColumnDef","externals_email"],["matColumnDef","aliases"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["role","list",4,"ngFor","ngForOf"],["role","list"],["role","listitem"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,yt,2,0,"th",2),e.YNc(3,wt,3,3,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,Ot,2,0,"th",2),e.YNc(6,Mt,3,3,"td",3),e.BQk(),e.ynx(7,5),e.YNc(8,Pt,2,0,"th",2),e.YNc(9,Zt,3,3,"td",3),e.BQk(),e.ynx(10,6),e.YNc(11,At,2,0,"th",2),e.YNc(12,St,2,1,"td",3),e.BQk(),e.ynx(13,7),e.YNc(14,It,2,0,"th",2),e.YNc(15,Nt,2,1,"td",3),e.BQk(),e.ynx(16,8),e.YNc(17,kt,2,0,"th",2),e.YNc(18,zt,2,1,"td",3),e.BQk(),e.ynx(19,9),e.YNc(20,Lt,2,0,"th",2),e.YNc(21,Dt,2,1,"td",3),e.BQk(),e.ynx(22,10),e.YNc(23,Ft,2,0,"th",2),e.YNc(24,qt,2,1,"td",3),e.BQk(),e.ynx(25,11),e.YNc(26,Jt,2,0,"th",2),e.YNc(27,Ut,2,1,"td",3),e.BQk(),e.ynx(28,12),e.YNc(29,Rt,2,0,"th",2),e.YNc(30,Yt,2,1,"td",3),e.BQk(),e.YNc(31,Et,1,0,"tr",13),e.YNc(32,Bt,1,0,"tr",14),e.qZA(),e._UZ(33,"mat-paginator",15,16)),2&i&&(e.Q6J("dataSource",o.dataSource),e.xp6(31),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,Ht)))},dependencies:[u.sg,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,y.NW,I.i$,I.Tg,u.rS]})}return n})();function $t(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ngx-dropzone-preview",12),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onRemove(r))}),e.TgZ(1,"ngx-dropzone-label"),e._uU(2),e.qZA()()}if(2&n){const t=a.$implicit;e.Q6J("removable",!0),e.xp6(2),e.AsE("",t.name," (",t.type,")")}}function Gt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveData())}),e._uU(2," Guardar "),e.qZA()()}}function Vt(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"app-json-table",17),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("dataSource",t.dataSource)}}function Wt(n,a){if(1&n&&e._UZ(0,"app-csv-table",17),2&n){const t=e.oxw(2);e.Q6J("dataSource",t.dataSource)}}function Xt(n,a){if(1&n&&(e.TgZ(0,"div",13)(1,"h2",14),e._uU(2),e.qZA(),e.YNc(3,Vt,2,1,"ng-container",15),e.YNc(4,Wt,1,1,"ng-template",null,16,e.W1O),e.qZA()),2&n){const t=e.MAs(5),i=e.oxw();e.xp6(2),e.Oqu(i.org.name),e.xp6(1),e.Q6J("ngIf",i.isJsonFile)("ngIfElse",t)}}function Kt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showData())}),e._uU(1," Mostrar "),e.qZA()}}let en=(()=>{class n{constructor(t,i,o){this._snackBar=t,this.peopleService=i,this.dialog=o,this.file=[],this.dataSource=new g.by([]),this.m=new l.pF$(this._snackBar),this.isJsonFile=!1,this.isOpenDialog=!1,this.requiredCSVkyes=["apellido1","apellido2","externals_email","idExpediente","institutional_email","noCi","nombre","pais","sexo"],this.requiredJSONKyes=["_id","identifiers","name","lastName","gender","country","institutional_email","emails"]}onSelect(t){const i=[...t.addedFiles];this.readFile(i[0]).then(o=>{let r=null;if("application/json"!==i[0].type){const s=this.csvToJson(o);if(r=JSON.parse(s),Array.isArray(r)&&this.requiredCSVkyes.every(m=>r[0].hasOwnProperty(m)))return this.isJsonFile=!1,this.file=i,void this.openDialog()}else{r=JSON.parse(o);const s=r.hasOwnProperty("persons")&&Array.isArray(r.persons),p=this.requiredJSONKyes.every(m=>r.persons[0].hasOwnProperty(m));if(s&&p)return this.isJsonFile=!0,this.file=i,void this.openDialog()}this.m.showMessage(l.GL1.OK,"El archivo a importar no cumple con los campos requeridos")})}showData(){console.log(this.file),0===this.file.length?this.m.showMessage(l.GL1.OK,"No hay archivo para mostrar"):this.readFile(this.file[0]).then(t=>{if("application/json"!==this.file[0].type){const i=this.csvToJson(t);this.people=JSON.parse(i)}else this.people=JSON.parse(t).persons;this.dataSource.data=this.people.length>800?this.people.slice(0,800):this.people,console.log("\u{1f680} ~ file: import-people.component.ts:130 ~ this.readFile ~ this.dataSource.data",this.dataSource.data)})}readFile(t){return(0,Z.Z)(function*(){return new Promise((i,o)=>{const r=new FileReader;if(r.onload=s=>i(s.target.result),r.onerror=s=>o(null),!t)return o(null);r.readAsText(t)})})()}onRemove(t){console.log(t),this.file.splice(this.file.indexOf(t),1),this.people=[]}csvToJson(t){let i=t.split("\n"),o=[],r=i[0].split(",");for(let s=0;s<i.length;s++){const p={},m=i[s].split(",");for(let h=0;h<r.length;h++)p[r[h]]=m[h];o.push(p)}return JSON.stringify(o)}saveData(){0===this.file.length?this.m.showMessage(l.GL1.OK,"No hay archivo para guardar"):this.peopleService.saveImport(this.org.id,this.file[0]).subscribe(t=>{console.log(t)})}filtersChange(t){console.log(t.organizations)}openDialog(){this.dialog.open(et.Q,{width:"95%",data:{}}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),this.org=i})}afterClosed(t){console.log("\u{1f680} ~ file: import-people.component.ts:201 ~ afterClosed ~ result:",t),this.isOpenDialog=!1,this.org=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(tt.ux),e.Y36(S),e.Y36(nt.uw))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-import-people"]],decls:19,vars:5,consts:[[1,"container"],[2,"padding-bottom","20px"],[1,"instructions"],["markdown","",1,"instructions-markdown",2,"margin","0",3,"src"],["accept",".csv,.json",3,"change"],[2,"font-size","100px","width","0","height","0"],[3,"removable","removed",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],["class","mat-elevation-z4","style","margin: 0 30px",4,"ngIf"],[1,"button-container"],["mat-raised-button","","color","primary","style","margin-right: 10px;",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[3,"removable","removed"],[1,"mat-elevation-z4",2,"margin","0 30px"],[2,"padding","20px"],[4,"ngIf","ngIfElse"],["csvTable",""],[3,"dataSource"],["mat-raised-button","","color","primary",2,"margin-right","10px",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Importar personas"),e.qZA(),e.TgZ(3,"div",2)(4,"div")(5,"p"),e._uU(6," El archivo (.json / .csv) de importaci\xf3n para personas debe cumplir con las siguientes estructuras/campos "),e.qZA()(),e._UZ(7,"div",3),e.qZA(),e.TgZ(8,"ngx-dropzone",4),e.NdJ("change",function(s){return o.onSelect(s)}),e.TgZ(9,"ngx-dropzone-label")(10,"mat-icon",5),e._uU(11,"person_add"),e.qZA()(),e.YNc(12,$t,3,3,"ngx-dropzone-preview",6),e.qZA()(),e.YNc(13,Gt,3,0,"div",7),e.YNc(14,Xt,6,3,"div",8),e.TgZ(15,"div",9),e.YNc(16,Kt,2,0,"button",10),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.saveData()}),e._uU(18," Guardar "),e.qZA()()),2&i&&(e.xp6(7),e.Q6J("src","/assets/markdown/personas/import.instructions.es.md"),e.xp6(5),e.Q6J("ngForOf",o.file),e.xp6(1),e.Q6J("ngIf",o.people&&o.people.length>0),e.xp6(1),e.Q6J("ngIf",o.people&&o.people.length>0),e.xp6(2),e.Q6J("ngIf",!o.people||0===o.people.length))},dependencies:[u.sg,u.O5,le,re,Q,z.lF,O.lW,T.Hw,Tt,jt],styles:[".container[_ngcontent-%COMP%]{padding:2rem;position:relative;width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{width:95%;padding:2rem;text-align:left;margin:0 auto}table[_ngcontent-%COMP%]{width:100%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:end;margin:15px}.mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%], .mat-fab.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]     .instructions{overflow-x:auto;width:100%;margin-bottom:30px}[_nghost-%COMP%]     .instructions-markdown table{width:100%;background-color:#f5f5f5;margin-bottom:15px}[_nghost-%COMP%]     .instructions-markdown table thead tr th, [_nghost-%COMP%]     .instructions-markdown table tbody tr td{border:1px solid gray;padding:15px}"]})}return n})(),tn=(()=>{class n{constructor(t){this._router=t}ngOnInit(){}get isHome(){return"/"===this._router.url}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-mainlayout"]],decls:1,vars:0,template:function(i,o){1&i&&e._UZ(0,"router-outlet")},dependencies:[d.lC]})}return n})();var N=c(2557);const nn=function(){return{"margin-right":"0","margin-bottom":"20px"}},v=function(n){return{color:n}},on=function(){return{width:"95%"}};let an=(()=>{class n{constructor(t,i){this._activatedRoute=t,this.service=i}ngOnInit(){this._activatedRoute.data.subscribe(t=>{console.log(t),this.person=t.person.metadata})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.gz),e.Y36(S))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-people-layout"]],decls:29,vars:37,consts:[[1,"bg-primary-color","wrapper"],["fxLayout.xs","column",1,"header"],[1,"person-primary-info"],[1,"title"],[1,"sub-title"],["aria-label","Fish selection",1,"status",3,"ngStyle.xs"],[1,"matChipStatus",2,"font-size","26px","margin-right","80px",3,"ngStyle.lt-md"],[2,"display","flex","align-items","center"],[3,"ngStyle","ngStyle.xs"],[1,"matChipStatus",2,"font-size","26px"],["fxLayout","row","fxLayoutAlign","center center",2,"border-radius","40px 40px 0 0"],[2,"margin-top","-100px","width","90%","background-color","white","border-radius","40px 40px 0 0","box-shadow","0px 5px 15px rgb(0, 0, 0, 0.088)",3,"ngStyle.xs"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon"),e._uU(3," account_circle"),e.qZA(),e.TgZ(4,"div",2)(5,"p",3),e._uU(6),e.qZA(),e.TgZ(7,"p",4),e._uU(8),e.qZA(),e.TgZ(9,"p",4),e._uU(10),e.qZA()()(),e.TgZ(11,"mat-chip-listbox",5)(12,"mat-chip-option",6)(13,"div",7)(14,"mat-icon",8),e._uU(15,"fiber_manual_record"),e.qZA(),e.TgZ(16,"span",8),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"mat-chip-option",9)(20,"div",7)(21,"mat-icon",8),e._uU(22,"fiber_manual_record"),e.qZA(),e.TgZ(23,"span",8),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()(),e.TgZ(26,"div",10)(27,"div",11),e._UZ(28,"router-outlet"),e.qZA()()),2&i&&(e.xp6(6),e.Oqu(o.person.name),e.xp6(2),e.Oqu(o.person.email),e.xp6(2),e.Oqu(o.person.country),e.xp6(2),e.Q6J("ngStyle.lt-md",e.DdM(19,nn)),e.xp6(2),e.Q6J("ngStyle",e.VKq(20,v,o.person.active?"green":"#dd2c00"))("ngStyle.xs",e.VKq(22,v,o.person.active?"green":"#dd2c00")),e.xp6(2),e.Q6J("ngStyle",e.VKq(24,v,o.person.active?"green":"#dd2c00"))("ngStyle.xs",e.VKq(26,v,o.person.active?"green":"#dd2c00")),e.xp6(1),e.Oqu(e.lcZ(18,15,o.person.active?"active":"disabled")),e.xp6(4),e.Q6J("ngStyle",e.VKq(28,v,o.person.publicProfile?"green":"orange"))("ngStyle.xs",e.VKq(30,v,o.person.publicProfile?"green":"orange")),e.xp6(2),e.Q6J("ngStyle",e.VKq(32,v,o.person.publicProfile?"green":"orange"))("ngStyle.xs",e.VKq(34,v,o.person.publicProfile?"green":"orange")),e.xp6(1),e.Oqu(e.lcZ(25,17,o.person.publicProfile?"restricted":"unRestricted")),e.xp6(3),e.Q6J("ngStyle.xs",e.DdM(36,on)))},dependencies:[u.PC,_.xw,_.Wh,A.Zl,T.Hw,N.z2,N.iO,d.lC,f.X$],styles:[".wrapper[_ngcontent-%COMP%]{height:580px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:200px;height:200px;font-size:200px}.wrapper[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{margin-top:20px}.wrapper[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .matChipStatus[_ngcontent-%COMP%]{background-color:#fff;box-shadow:#ffffff80 1px 3px 12px 4px;font-weight:550;padding:25px}.wrapper[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-bottom:2px;margin-right:5px}.person-primary-info[_ngcontent-%COMP%]{padding-left:50px}.person-primary-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .person-primary-info[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px;margin-top:10px}.person-primary-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:40px;font-weight:800}.person-primary-info[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:26px;font-weight:500;opacity:.8}@media screen and (max-width: 768px){[_nghost-%COMP%]     .mdc-evolution-chip-set__chips{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}}@media screen and (max-width: 599px){[_nghost-%COMP%]     .mat-chip-list-wrapper{justify-content:center}.wrapper[_ngcontent-%COMP%]{height:680px;justify-content:flex-start;padding-top:30px}.wrapper[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{margin-top:0!important;padding:30px 40px!important}.person-primary-info[_ngcontent-%COMP%]{padding-left:40px}}"]})}return n})();var E=c(4104),k=c(3305);function rn(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",6),e._uU(5),e.qZA()()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,t)),e.xp6(3),e.Oqu(i.person[t])}}function sn(n,a){if(1&n&&(e.TgZ(0,"mat-list-item",7)(1,"span",8),e._uU(2),e.qZA(),e.TgZ(3,"span",6),e._uU(4),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.hij("",t.idtype," : "),e.xp6(2),e.Oqu(t.value)}}function cn(n,a){if(1&n&&(e.TgZ(0,"mat-chip-option",11),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function ln(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-chip-listbox",9),e.YNc(5,cn,2,1,"mat-chip-option",10),e.qZA()()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,t)),e.xp6(3),e.Q6J("ngForOf",i.person[t])}}function pn(n,a){if(1&n&&(e.TgZ(0,"mat-list-item",7)(1,"span",6),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.label||t)}}function mn(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"mat-accordion")(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title")(5,"span",3),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"mat-list",4),e.YNc(9,pn,3,1,"mat-list-item",5),e.qZA()()()()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,2,t)),e.xp6(3),e.Q6J("ngForOf",i.person[t])}}let gn=(()=>{class n{constructor(){this.text=["name","gender"],this.chips=["aliases"],this.accordion=["affiliations","email_addresses"]}ngOnInit(){this.people={name:"Alejandro",lastName:"Cabrera Mena",gender:"M",country:"Cuba",email:"alejandro97.acm@gmail.com",url:"http://localhost:4200/1/view",identifiers:[{idtype:"ark",value:"value"}],researchInterests:["interest1","interest2","interest3","interest4"],keyWords:["keyWords1","keyWords2","keyWords3","keyWords4"],aliases:["aliases1","aliases2"],academicTitles:["master"],affiliations:["affiliations1"],subaffiliations:["subAffiliations1","subAffiliations2"],boardMember:["boardMember"],rolesSceiba:[{id:"1",name:"editor",description:""}],respPublications:[{revista:"Mendive",roles:["revisor"]}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-general-tab"]],inputs:{person:"person"},decls:14,vars:7,consts:[[1,"wrapper"],["class","row","fxLayout.xs","column",4,"ngFor","ngForOf"],["fxLayout.xs","column",1,"row"],[1,"title"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],[1,"data-elements"],["role","listitem"],[2,"opacity","0.6","margin-right","10px"],["aria-label","Fish selection"],["color","accent","selected","",4,"ngFor","ngForOf"],["color","accent","selected",""]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,rn,6,4,"div",1),e.TgZ(2,"div",2)(3,"mat-accordion")(4,"mat-expansion-panel")(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"span",3),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"mat-list",4),e.YNc(11,sn,5,2,"mat-list-item",5),e.qZA()()()(),e.YNc(12,ln,6,4,"div",1),e.YNc(13,mn,10,4,"div",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",o.text),e.xp6(7),e.Oqu(e.lcZ(9,5,"identifiers")),e.xp6(3),e.Q6J("ngForOf",o.person.identifiers),e.xp6(1),e.Q6J("ngForOf",o.chips),e.xp6(1),e.Q6J("ngForOf",o.accordion))},dependencies:[u.sg,_.xw,N.z2,N.iO,k.pp,k.ib,k.yz,k.yK,I.i$,I.Tg,f.X$],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:55px}.row[_ngcontent-%COMP%]{display:flex;margin-bottom:30px}.row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .data-elements[_ngcontent-%COMP%]{font-size:18px}.row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{opacity:.6;margin-right:10px;margin-bottom:10px}@media screen and (max-width: 599px){.wrapper[_ngcontent-%COMP%]{padding:30px 20px}}"]})}return n})(),un=(()=>{class n{constructor(t){this._activatedRoute=t,this.person=null}ngOnInit(){this._activatedRoute.parent.data.subscribe(t=>{console.log(t),this.person=t.person.metadata})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.gz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-people-view"]],decls:8,vars:2,consts:[[3,"loading"],["label","General"],[3,"person"],["label","Art\xedculos"],["label","Estadisticas"]],template:function(i,o){1&i&&(e._UZ(0,"toco-progress",0),e.TgZ(1,"mat-tab-group")(2,"mat-tab",1),e._UZ(3,"app-general-tab",2),e.qZA(),e.TgZ(4,"mat-tab",3),e._uU(5," Content 2 "),e.qZA(),e.TgZ(6,"mat-tab",4),e._uU(7," Content 2 "),e.qZA()()),2&i&&(e.Q6J("loading",!o.person),e.xp6(3),e.Q6J("person",o.person))},dependencies:[E.uX,E.SP,l.t15,gn],styles:[".layout-primary[_ngcontent-%COMP%]{height:500px!important}"]})}return n})();var dn=c(8645),_n=c(8180),hn=c(7398);class fn{constructor(){}hasPermissions(a){if(localStorage.getItem("roles")&&localStorage.getItem("roles").length>0){const t=localStorage.getItem("roles").split(",");for(const i in t)if(t[i]==a)return!0}return!1}}let xn=(()=>{class n{constructor(){this.errorSubject=new dn.x}sendErrors(t){this.errorSubject.next(t)}clearErrors(){this.errorSubject.next(null)}getErrors(){return this.errorSubject.asObservable()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vn=(()=>{class n{constructor(t,i,o){this.router=t,this.service=i,this.errorService=o}resolve(t,i){let r,o=t.paramMap.get("uuid");return r=this.service.getPeopleById(o),r.pipe((0,_n.q)(1),(0,hn.U)(s=>{if(s){if(!s.ERROR)return s;console.log("Error desde el backend, ",s.ERROR),this.errorService.sendErrors({title:"Error desde el servidor",status:"402",message:s.ERROR}),this.router.navigate(["error"])}else console.log("Esto es cuando no hay hit")}))}get hasCurationPermission(){let t=new fn;return!(!t.hasPermissions("curator")&&!t.hasPermissions("admin"))}static#e=this.\u0275fac=function(i){return new(i||n)(e.LFG(d.F0),e.LFG(S),e.LFG(xn))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var D=c(2651);class Cn{constructor(){}hasPermissions(a){if(localStorage.getItem("roles")&&localStorage.getItem("roles").length>0){const t=localStorage.getItem("roles").split(",");for(const i in t)if(t[i]==a)return!0}return!1}}var F=c(5195);const bn=function(n,a){return[n,a,"edit"]};function Tn(n,a){if(1&n&&(e.TgZ(0,"span",9)(1,"mat-icon",10),e._uU(2,"mode_edit"),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("routerLink",e.WLB(1,bn,i.env.persons,t.metadata.id))}}function yn(n,a){1&n&&(e.ynx(0),e._uU(1," | "),e.BQk())}function wn(n,a){if(1&n&&(e.TgZ(0,"li",13),e._uU(1),e.YNc(2,yn,2,0,"ng-container",14),e.qZA()),2&n){const t=a.$implicit,i=a.index,o=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t," "),e.xp6(1),e.Q6J("ngIf",i<o.metadata.types.length-1)}}function On(n,a){if(1&n&&(e.TgZ(0,"ul",11)(1,"span"),e._uU(2,"Tipos:"),e.qZA(),e.YNc(3,wn,3,2,"li",12),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",t.metadata.types)}}function Mn(n,a){1&n&&(e.ynx(0),e._uU(1," | "),e.BQk())}function Pn(n,a){if(1&n&&(e.TgZ(0,"li",13),e._uU(1),e.YNc(2,Mn,2,0,"ng-container",14),e.qZA()),2&n){const t=a.$implicit,i=a.index,o=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t," "),e.xp6(1),e.Q6J("ngIf",i<o.metadata.acronyms.length-1)}}function Zn(n,a){if(1&n&&(e.TgZ(0,"ul",11)(1,"span"),e._uU(2,"Acr\xf3nimos:"),e.qZA(),e.YNc(3,Pn,3,2,"li",12),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",t.metadata.acronyms)}}function An(n,a){1&n&&(e.ynx(0),e._uU(1," | "),e.BQk())}function Sn(n,a){if(1&n&&(e.TgZ(0,"li",13),e._uU(1),e.YNc(2,An,2,0,"ng-container",14),e.qZA()),2&n){const t=a.$implicit,i=a.index,o=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t," "),e.xp6(1),e.Q6J("ngIf",i<o.metadata.aliases.length-1)}}function In(n,a){if(1&n&&(e.TgZ(0,"ul",11)(1,"span"),e._uU(2,"Conocida como:"),e.qZA(),e.YNc(3,Sn,3,2,"li",12),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",t.metadata.aliases)}}function Nn(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.idtype,": ",t.value," ")}}function kn(n,a){1&n&&(e.ynx(0),e._uU(1," | "),e.BQk())}function zn(n,a){if(1&n&&(e.TgZ(0,"li",13),e.YNc(1,Nn,2,2,"ng-container",14),e.YNc(2,kn,2,0,"ng-container",14),e.qZA()),2&n){const t=a.$implicit,i=a.index,o=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf","dni"!==t.idtype),e.xp6(1),e.Q6J("ngIf",i<o.metadata.identifiers.length-1)}}function Ln(n,a){if(1&n&&(e.TgZ(0,"ul",11)(1,"span"),e._uU(2,"Identificadores:"),e.qZA(),e.YNc(3,zn,3,2,"li",12),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",t.metadata.identifiers)}}function Dn(n,a){1&n&&e._UZ(0,"hr",15)}const Fn=function(){return{margin:"1em 8px"}},qn=function(n,a){return[n,"person",a,"view"]};function Jn(n,a){if(1&n&&(e.TgZ(0,"div",4)(1,"h2"),e.YNc(2,Tn,3,4,"span",5),e.TgZ(3,"span",6),e._uU(4),e.qZA()(),e.YNc(5,On,4,1,"ul",7),e.YNc(6,Zn,4,1,"ul",7),e.YNc(7,In,4,1,"ul",7),e.YNc(8,Ln,4,1,"ul",7),e.YNc(9,Dn,1,0,"hr",8),e.qZA()),2&n){const t=a.$implicit,i=a.index,o=e.oxw(2);e.Q6J("ngStyle",e.DdM(9,Fn)),e.xp6(2),e.Q6J("ngIf",o.hasPermission),e.xp6(1),e.Q6J("routerLink",e.WLB(10,qn,o.env.persons,t.metadata.id)),e.xp6(1),e.hij(" ",t.metadata.name," "),e.xp6(1),e.Q6J("ngIf",t.metadata.types&&t.metadata.types.length>0),e.xp6(1),e.Q6J("ngIf",t.metadata.acronyms&&t.metadata.acronyms.length>0),e.xp6(1),e.Q6J("ngIf",t.metadata.aliases&&t.metadata.aliases.length>0),e.xp6(1),e.Q6J("ngIf",t.metadata.identifiers&&t.metadata.identifiers.length>0),e.xp6(1),e.Q6J("ngIf",i<o.hitList.hits.length-1)}}function Un(n,a){if(1&n&&(e.TgZ(0,"mat-card",2),e._UZ(1,"mat-card-header"),e.TgZ(2,"mat-card-content"),e.YNc(3,Jn,10,13,"div",3),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.hitList.hits)}}function Rn(n,a){1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-content")(2,"h2"),e._uU(3,"No hay resultados para su b\xfasqueda..."),e.qZA()()())}let Qn=(()=>{class n{constructor(t){this._env=t,this.pdfType="list",this.env=this._env}ngOnInit(){}get hasPermission(){let t=new Cn;return!(!t.hasPermissions("curator")&&!t.hasPermissions("admin"))}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(l.qAh))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["search-list"]],inputs:{hitList:"hitList"},decls:3,vars:2,consts:[["class","mat-elevation-z0",4,"ngIf","ngIfElse"],["templateNotInfo",""],[1,"mat-elevation-z0"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["mat-icon-button","","matTooltip","Editar la Persona",3,"routerLink",4,"ngIf"],[2,"cursor","pointer",3,"routerLink"],["fxLayout","row wrap",4,"ngIf"],["class","hr-grey-ligth",4,"ngIf"],["mat-icon-button","","matTooltip","Editar la Persona",3,"routerLink"],[1,"mat-18"],["fxLayout","row wrap"],["class","li-margin-style",4,"ngFor","ngForOf"],[1,"li-margin-style"],[4,"ngIf"],[1,"hr-grey-ligth"]],template:function(i,o){if(1&i&&(e.YNc(0,Un,4,1,"mat-card",0),e.YNc(1,Rn,4,0,"ng-template",null,1,e.W1O)),2&i){const r=e.MAs(2);e.Q6J("ngIf",o.hitList&&o.hitList.hits.length>0)("ngIfElse",r)}},dependencies:[u.sg,u.O5,u.PC,_.xw,A.Zl,P.gM,T.Hw,F.a8,F.dn,F.dk,d.rH],styles:[".p-40[_ngcontent-%COMP%]{padding-left:40px}.li-margin-style[_ngcontent-%COMP%]{margin:0 8px;list-style:none}.hr-grey-ligth[_ngcontent-%COMP%]{border-color:#fff3}"]})}return n})();function Yn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"toco-search-aggregations",10),e.NdJ("keySelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.aggrChange(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("aggregations",t.sr.aggregations)("selectedAggr",t.aggrsSelection)}}function En(n,a){1&n&&e.GkF(0)}function Bn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"button",14),e.NdJ("click",function(){e.CHM(t),e.oxw(2);const o=e.MAs(7);return e.KtG(o.toggle())}),e.TgZ(3,"mat-icon"),e._uU(4,"filter_list"),e.qZA()(),e.TgZ(5,"toco-search-query-input",15),e.NdJ("queryChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.queryChange(o))}),e.qZA()(),e._UZ(6,"search-list",16),e.TgZ(7,"mat-paginator",17),e.NdJ("page",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.pageChange(o))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("query",t.query),e.xp6(1),e.Q6J("hitList",t.sr.hits),e.xp6(1),e.Q6J("length",t.sr.hits.total)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("pageSizeOptions",t.pageSizeOptions)}}function Hn(n,a){if(1&n&&e.YNc(0,Bn,8,6,"div",11),2&n){const t=e.oxw();e.Q6J("ngIf",t.sr)}}function jn(n,a){1&n&&(e.TgZ(0,"div",12)(1,"h3",18),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"IMPLEMENTE_ESTO_ALEJANDRO")))}function $n(n,a){if(1&n&&e.YNc(0,jn,4,3,"div",11),2&n){const t=e.oxw();e.Q6J("ngIf",t.sr)}}let Gn=(()=>{class n{constructor(t,i,o){this.peopleService=t,this.activatedRoute=i,this.router=o}ngOnInit(){this.searchResultType=!0,this.aggrKeys=void 0,this.pageSize=5,this.pageIndex=0,this.pageSizeOptions=[5,15,25,50,100],this.query="",this.aggrsSelection={},this.params=void 0,this.sr=void 0,this.navigationExtras=void 0,this.loading=!0,this.activatedRoute.queryParamMap.subscribe({next:t=>{this.aggrsSelection={},console.log(t);for(let i=0;i<t.keys.length;i++){const o=t.keys[i];switch(o){case"size":this.pageSize=Number.parseInt(t.get(o));break;case"page":this.pageIndex=Number.parseInt(t.get(o));break;case"q":this.query=t.get(o);break;default:this.aggrsSelection.hasOwnProperty(o)||(this.aggrsSelection[o]=[]),this.aggrsSelection[o].push(t.get(o))}}this.updateFetchParams(),this.fetchSearchRequested()},error:t=>{},complete:()=>{}})}changeView(){this.searchResultType=!this.searchResultType}updateFetchParams(){this.params=new C.LE,this.params=this.params.set("size",this.pageSize.toString(10)),this.params=this.params.set("page",(this.pageIndex+1).toString(10)),this.params=this.params.set("q",this.query);for(const t in this.aggrsSelection)this.aggrsSelection[t].forEach(i=>{this.params=this.params.set(t,i)})}fetchSearchRequested(){this.peopleService.getPeople(this.params).subscribe(t=>{console.log("fetchSearchRequested",t),this.sr=t,this.aggrKeys=[{value:this.sr.aggregations.country,key:"Pa\xeds"},{value:this.sr.aggregations.state,key:"Provincia"},{value:this.sr.aggregations.status,key:"Estado"},{value:this.sr.aggregations.types,key:"Tipo"}]},t=>{console.log("Error in `_fetchSearchRequested` method.")},()=>{console.log("Finish the `_fetchSearchRequested` method."),this.loading=!1})}pageChange(t){this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.updateQueryParams()}aggrChange(t){this.aggrsSelection=t,this.updateQueryParams()}queryChange(t){this.query=t,this.updateQueryParams()}updateQueryParams(){this.loading=!0;let t={};t.size=this.pageSize.toString(10),t.page=this.pageIndex.toString(10),t.q=this.query;for(const i in this.aggrsSelection)this.aggrsSelection[i].forEach(o=>{t[i]=o});this.navigationExtras={relativeTo:this.activatedRoute,queryParams:t,queryParamsHandling:""},this.router.navigate(["."],this.navigationExtras)}onResize(t){this.drawer.opened=!(window.innerWidth<=740)}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(S),e.Y36(d.gz),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["persons-app-search"]],viewQuery:function(i,o){if(1&i&&e.Gf(D.jA,5),2&i){let r;e.iGM(r=e.CRH())&&(o.drawer=r.first)}},hostBindings:function(i,o){1&i&&e.NdJ("resize",function(s){return o.onResize(s)},!1,e.Jf7)},decls:14,vars:8,consts:[["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","space-between center",2,"height","80px","padding","0 16px"],[1,"mat-h2"],[3,"loading"],["autosize","",2,"background-color","white"],["mode","side","opened","","position","start"],["drawer",""],[3,"aggregations","selectedAggr","keySelect",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["thenTemplate_SearchList",""],["elseTemplate_SearchCharts",""],[3,"aggregations","selectedAggr","keySelect"],["class","m-1",4,"ngIf"],[1,"m-1"],["fxLayout","row nowrap","fxLayout.xs","column","fxLayoutAlign","space-between center"],["mat-icon-button","","matTooltip","Filtros avanzados",3,"click"],[1,"p-1",2,"width","100%",3,"query","queryChange"],[3,"hitList"],[3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"mat-h2",2,"margin","0","text-align","center","color","black"]],template:function(i,o){if(1&i&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e._UZ(4,"toco-progress",2),e.TgZ(5,"mat-drawer-container",3)(6,"mat-drawer",4,5),e.YNc(8,Yn,1,2,"toco-search-aggregations",6),e.qZA(),e.YNc(9,En,1,0,"ng-container",7),e.YNc(10,Hn,1,1,"ng-template",null,8,e.W1O),e.YNc(12,$n,1,1,"ng-template",null,9,e.W1O),e.qZA()),2&i){const r=e.MAs(11),s=e.MAs(13);e.xp6(2),e.Oqu(e.lcZ(3,6,"TOCO_SEARCH_SEARCH.SPAN_SEARCH_LABEL")),e.xp6(2),e.Q6J("loading",o.loading),e.xp6(4),e.Q6J("ngIf",void 0!==o.sr),e.xp6(1),e.Q6J("ngIf",o.searchResultType)("ngIfThen",r)("ngIfElse",s)}},dependencies:[u.O5,y.NW,_.xw,_.Wh,O.RK,P.gM,T.Hw,D.jA,D.kh,l.t15,l.m4B,l.d1Z,Qn,f.X$],styles:[".mat-card-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:40px}.mat-card-margin[_ngcontent-%COMP%]{margin:0 10px}"]})}return n})();var Vn=c(8606);const Wn=function(){return{width:"95%"}};var B=function(n){return n[n.People=0]="People",n[n.Main=1]="Main",n}(B||{});let H=(()=>{class n{constructor(t,i,o){this.environment=t,this.oauthStorage=i,this.headerService=o,this.env=t}ngOnInit(){this.extraUser=[{nameTranslate:"IMPORTAR",icon:"publish",useRouterLink:!0,hideLabel:!0,href:`${this.environment.persons}/import`,disabled:this.hasPermissionAdmin}],this._subMenus=[{nameTranslate:"TOCO_SEARCH_SEARCH.SPAN_SEARCH_LABEL",useRouterLink:!0,href:this.environment.persons+"/search"}],this.headerService.setHeaderData({icon:"/assets/icons/apps/persons.svg",iconLabel:"SCEIBA_PERSONAS",iconAlt:"PERSONAS",iconRoute:this.env.persons,secondaryMenuElements:this._subMenus,extraMenuAuthenticatedUser:this.extraUser})}get hasPermissionAdmin(){let t=this.oauthStorage.getItem("roles");if(t){let i=t.split(",");for(const o in i)if("admin"==t[o])return!0}return!1}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(l.qAh),e.Y36(M.Hy),e.Y36(Vn.r))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["sceiba-ui-persons-root"]],decls:4,vars:2,consts:[[1,"bg-primary-color",2,"height","100px","width","100%","height","200px","background","linear-gradient(to right, #007e3e, #373131)"],["fxLayout","row","fxLayoutAlign","center center",2,"border-radius","40px 40px 0 0"],[2,"margin-top","-170px","width","95%","background-color","white","border-radius","0px 0px 0 0","box-shadow","0px 5px 15px rgb(0, 0, 0, 0.088)",3,"ngStyle.xs"]],template:function(i,o){1&i&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"router-outlet"),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("ngStyle.xs",e.DdM(1,Wn)))},dependencies:[_.xw,_.Wh,A.Zl,d.lC],styles:[".menu-icon-button[_ngcontent-%COMP%]{border:inherit;background-color:inherit}.color-white[_ngcontent-%COMP%]{color:#fff!important;text-emphasis:white;text-decoration:none!important}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;min-height:64px}.w-90[_ngcontent-%COMP%]{width:90%}.apps[_ngcontent-%COMP%]{margin:.5em}.apps[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.MES[_ngcontent-%COMP%]{width:190px!important}.triangle[_ngcontent-%COMP%]{position:relative;width:0;height:0;border-top:0px solid transparent;border-left:80px solid #dd2c00;border-bottom:80px solid transparent;margin-left:-16px}.triangle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:23px;top:11px;color:#fff;transform:rotate(-45deg)}.center-elements[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: 490px){.center-elements[_ngcontent-%COMP%]{width:100%}}"]})}return n})();const Xn=[{path:"",component:H,children:[{path:"",component:tn,children:[{path:"",component:Ke},{path:"search",component:Gn},{path:"import",component:en,data:{layout:B.Main}}]},{path:"person/:uuid",component:an,resolve:{person:vn},children:[{path:"view",component:un}]},{path:"**",component:We.S}]}];let Kn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(Xn),d.Bz]})}return n})();var j=c(1274);function $(n){return new V.w(n,"./assets/i18n/",".json")}let ei=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n,bootstrap:[H]});static#n=this.\u0275inj=e.cJS({providers:[l.oDG,l.isv,l.eY8,ue.Q,{provide:l.qAh,useValue:W.N},{provide:M.Hy,useFactory:l.$wE}],imports:[u.ez,C.JF,g.p0,y.TU,pe,f.aw.forChild({loader:{provide:f.Zw,useFactory:$,deps:[C.eN]}}),R.UX,G.o9,z.JP.forRoot({loader:C.eN}),l.TY2,me.f,R.u5,l.IR2,l.pNY,l.TY2,l.t8n,l.nzq,Kn,ge.C]})}return n})();e.B6R(Oe,function(){return[u.sg,u.O5,_.xw,_.SQ,_.Wh,O.zs,O.RK,b.VK,b.OP,b.p6,j.Ye,j.rD,P.gM,T.Hw,d.rH,Ve]},function(){return[f.X$]})}}]);