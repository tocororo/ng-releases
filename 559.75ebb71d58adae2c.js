"use strict";(self.webpackChunksceiba_ui=self.webpackChunksceiba_ui||[]).push([[559],{7559:(wt,it,g)=>{g.r(it),g.d(it,{OrganizationsAppModule:()=>Ua,createTranslateLoader:()=>Ie});var m=g(9862),x=g(6223),U=g(9515),I=g(5061),C=g(6814),e=g(1447),X=g(8751),k=g(1884),tt=g(4611),A=g(6208),F=g(553),u=g(3887),at=g(6729),P=g(2728),et=g(8916),B=g(8028),t=g(5879),R=g(6890),Q=g(7700),N=g(2296),$=g(1274),q=g(2596),z=g(617),O=g(5195),ot=g(2599),Z=g(3814),G=g(7509),D=g(4170);function mt(i,c){if(1&i&&(t.TgZ(0,"mat-label"),t._uU(1),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.hij("",n.textLabel,":")}}function gt(i,c){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Oqu(n.textContent)}}function rt(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onPropagate(o.textContent))}),t.TgZ(1,"mat-icon",3),t._uU(2,"merge_type"),t.qZA()()}}function T(i,c){1&i&&(t.TgZ(0,"mat-card-footer"),t._uU(1," \xa0 \xa0 "),t.qZA())}function Y(i,c){if(1&i&&(t.TgZ(0,"mat-card")(1,"mat-card-content"),t.YNc(2,mt,2,1,"mat-label",0),t.YNc(3,gt,2,1,"span",0),t.YNc(4,rt,3,0,"button",1),t.qZA(),t.YNc(5,T,2,0,"mat-card-footer",0),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.textLabel),t.xp6(1),t.Q6J("ngIf",n.textContent),t.xp6(1),t.Q6J("ngIf",!n.isMaster&&n.textContent),t.xp6(1),t.Q6J("ngIf",n.isMaster)}}function f(i,c){if(1&i&&(t.TgZ(0,"mat-label"),t._uU(1),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.hij("",n.textLabel,":")}}function v(i,c){1&i&&(t.TgZ(0,"mat-label",5),t._uU(1,"Vac\xedo"),t.qZA())}function b(i,c){1&i&&(t.TgZ(0,"mat-card-footer"),t._uU(1," \xa0 \xa0 "),t.qZA())}function w(i,c){if(1&i&&(t.TgZ(0,"mat-card")(1,"mat-card-content"),t.YNc(2,f,2,1,"mat-label",0),t.YNc(3,v,2,0,"mat-label",4),t.qZA(),t.YNc(4,b,2,0,"mat-card-footer",0),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.textLabel),t.xp6(1),t.Q6J("ngIf",!n.textContent),t.xp6(1),t.Q6J("ngIf",n.isMaster)}}let L=(()=>{class i{constructor(){this.isMaster=!0,this.textLabel=null,this.textContent=null,this.propagate=new t.vpe}ngOnInit(){}onPropagate(n){this.propagate.emit(n)}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-disambiguate-text-field"]],inputs:{isMaster:"isMaster",textLabel:"textLabel",textContent:"textContent"},outputs:{propagate:"propagate"},decls:2,vars:2,consts:[[4,"ngIf"],["mat-button","","aria-label","Cambiar en la organizaci\xf3n principal","matTooltip","Cambiar en la organizacion principal",3,"click",4,"ngIf"],["mat-button","","aria-label","Cambiar en la organizaci\xf3n principal","matTooltip","Cambiar en la organizacion principal",3,"click"],["color","warn"],["class","text-muted text-through",4,"ngIf"],[1,"text-muted","text-through"]],template:function(a,o){1&a&&(t.YNc(0,Y,6,4,"mat-card",0),t.YNc(1,w,5,3,"mat-card",0)),2&a&&(t.Q6J("ngIf",o.textContent),t.xp6(1),t.Q6J("ngIf",!o.textContent))},dependencies:[C.O5,N.lW,q.gM,z.Hw,O.a8,O.dn,O.rt,D.hX],styles:[".text-muted[_ngcontent-%COMP%]{color:#0000008a;padding-left:.2em}.text-through[_ngcontent-%COMP%]{text-decoration:line-through}"]})}return i})();var M=g(3305),H=g(9038);function nt(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"mat-panel-description")(1,"button",3),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onPropagate(o.contentList))}),t.TgZ(2,"mat-icon",4),t._uU(3,"merge_type_left"),t.qZA()()()}}function W(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.onPropagate([o]))}),t.TgZ(1,"mat-icon",9),t._uU(2,"merge_type"),t.qZA()()}}function ut(i,c){if(1&i&&(t.TgZ(0,"mat-list-item",5)(1,"a",6),t._uU(2),t.qZA(),t.YNc(3,W,3,0,"button",7),t.qZA()),2&i){const n=c.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(n.label),t.xp6(1),t.Q6J("ngIf",!a.isMaster)}}function xt(i,c){if(1&i&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA(),t.YNc(4,nt,4,0,"mat-panel-description",0),t.qZA(),t.TgZ(5,"mat-list",1),t.YNc(6,ut,4,2,"mat-list-item",2),t.qZA()()),2&i){const n=t.oxw();t.xp6(3),t.hij(" ",n.accordionTitle," "),t.xp6(1),t.Q6J("ngIf",!n.isMaster),t.xp6(2),t.Q6J("ngForOf",n.contentList)}}function Tt(i,c){if(1&i&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-label",10),t._uU(5,"Vac\xedo"),t.qZA()()),2&i){const n=t.oxw();t.xp6(3),t.hij(" ",n.accordionTitle," ")}}let Ot=(()=>{class i{constructor(){this.isMaster=!0,this.accordionTitle="",this.contentList=null,this.propagate=new t.vpe}ngOnInit(){}onPropagate(n){this.propagate.emit(n)}chageHere(){}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-show-one-relationship"]],inputs:{isMaster:"isMaster",accordionTitle:"accordionTitle",contentList:"contentList"},outputs:{propagate:"propagate"},decls:2,vars:2,consts:[[4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],["mat-button","","aria-label","Incluir todos los elementos","matTooltip","Agregar todos los elementos a la organizacion principal",3,"click"],["color","warn"],["role","listitem"],["href",""],["mat-button","","aria-label","Incluir otro elemento a la organizacion principal","matTooltip","Agregar elemento a la organizacion principal",3,"click",4,"ngIf"],["mat-button","","aria-label","Incluir otro elemento a la organizacion principal","matTooltip","Agregar elemento a la organizacion principal",3,"click"],["color","primary"],[1,"text-muted","text-through"]],template:function(a,o){1&a&&(t.YNc(0,xt,7,3,"mat-expansion-panel",0),t.YNc(1,Tt,6,1,"mat-expansion-panel",0)),2&a&&(t.Q6J("ngIf",o.contentList&&o.contentList.length),t.xp6(1),t.Q6J("ngIf",!o.contentList||0==o.contentList.length))},dependencies:[C.sg,C.O5,N.lW,q.gM,z.Hw,D.hX,M.ib,M.yz,M.yK,M.u4,H.i$,H.Tg],styles:[".text-muted[_ngcontent-%COMP%]{color:#0000008a;padding-left:.2em}.text-through[_ngcontent-%COMP%]{text-decoration:line-through}"]})}return i})();function Zt(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"mat-panel-title")(1,"button",6),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onPropagate())}),t.TgZ(2,"mat-icon",7),t._uU(3,"merge_type_left"),t.qZA()()()}}function At(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4," Relaciones con otras Organizaciones "),t.qZA(),t.YNc(5,Zt,4,0,"mat-panel-title",0),t.qZA(),t.TgZ(6,"mat-accordion",2)(7,"app-show-one-relationship",3),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw();return t.KtG(d.getPropagateRelationships(o))}),t.qZA(),t.TgZ(8,"app-show-one-relationship",4),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw();return t.KtG(d.getPropagateRelationships(o))}),t.qZA(),t.TgZ(9,"app-show-one-relationship",5),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw();return t.KtG(d.getPropagateRelationships(o))}),t.qZA()()()()}if(2&i){const n=t.oxw();t.xp6(5),t.Q6J("ngIf",!n.isMaster),t.xp6(2),t.Q6J("isMaster",n.isMaster)("contentList",n.parents),t.xp6(1),t.Q6J("isMaster",n.isMaster)("contentList",n.children),t.xp6(1),t.Q6J("isMaster",n.isMaster)("contentList",n.others)}}function Ft(i,c){1&i&&(t.TgZ(0,"mat-accordion",2)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4," Relaciones con otras Organizaciones "),t.qZA()(),t.TgZ(5,"mat-label",8),t._uU(6,"Vac\xedo"),t.qZA()()())}let It=(()=>{class i{constructor(){this.isMaster=!0,this.contentList=[],this.accordionTitle="",this.propagate=new t.vpe}ngOnChanges(){null!=this.parents&&null!=this.children&&null!=this.others&&this.separatingRelationships()}ngOnInit(){this.separatingRelationships()}separatingRelationships(){this.children=new Array,this.parents=new Array,this.others=new Array;for(let n of this.contentList)switch(n.type){case"parent":this.parents.push(n);break;case"child":this.children.push(n);break;default:this.others.push(n)}}onPropagate(){this.contentList&&this.contentList.length&&this.propagate.emit(this.contentList)}chageHere(){}getPropagateRelationships(n){n&&n.length&&this.propagate.emit(n)}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-disambiguate-relationships"]],inputs:{isMaster:"isMaster",contentList:"contentList",accordionTitle:"accordionTitle"},outputs:{propagate:"propagate"},features:[t.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["class","static-mat-accordion",4,"ngIf"],[1,"static-mat-accordion"],["accordionTitle","Padres",3,"isMaster","contentList","propagate"],["accordionTitle","Hijas",3,"isMaster","contentList","propagate"],["accordionTitle","Otro tipo de relaci\xf3n",3,"isMaster","contentList","propagate"],["mat-button","","aria-label","Incluir todos los elementos","matTooltip","Agregar todos los elementos a la organizacion principal",3,"click"],["color","warn"],[1,"text-muted","text-through"]],template:function(a,o){1&a&&(t.YNc(0,At,10,7,"mat-accordion",0),t.YNc(1,Ft,7,0,"mat-accordion",1)),2&a&&(t.Q6J("ngIf",o.contentList&&o.contentList.length),t.xp6(1),t.Q6J("ngIf",!o.contentList||0==o.contentList.length))},dependencies:[C.O5,N.lW,q.gM,z.Hw,D.hX,M.pp,M.ib,M.yz,M.yK,Ot],styles:[".text-muted[_ngcontent-%COMP%]{color:#0000008a;padding-left:.2em}.text-through[_ngcontent-%COMP%]{text-decoration:line-through}"]})}return i})();function Mt(i,c){if(1&i&&(t.TgZ(0,"mat-card-title"),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Oqu(n.cardTitle)}}function Jt(i,c){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const n=c.$implicit;t.xp6(1),t.hij(" ",n," ")}}function Et(i,c){if(1&i&&(t.TgZ(0,"mat-card-subtitle"),t.YNc(1,Jt,2,1,"div",2),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.cardSubtitles)}}let Nt=(()=>{class i{constructor(){this.isMaster=!0,this.cardTitle=null,this.cardSubtitles=null,this.cardContent=null}ngOnInit(){}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-disambiguate-card-field"]],inputs:{isMaster:"isMaster",cardTitle:"cardTitle",cardSubtitles:"cardSubtitles",cardContent:"cardContent"},decls:6,vars:3,consts:[["aria-label","Muestra la organizaci\xf3n seleccionada"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header"),t.YNc(2,Mt,2,1,"mat-card-title",1),t.YNc(3,Et,2,1,"mat-card-subtitle",1),t.qZA(),t.TgZ(4,"mat-card-content"),t._uU(5),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("ngIf",o.cardTitle),t.xp6(1),t.Q6J("ngIf",o.cardSubtitles),t.xp6(2),t.hij(" ",o.cardContent," "))},dependencies:[C.sg,C.O5,O.a8,O.dn,O.dk,O.$j,O.n5]})}return i})();function kt(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onPropagate(o.contentList))}),t.TgZ(1,"mat-icon",5),t._uU(2,"merge_type_left"),t.qZA()()}}function Qt(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.onPropagate([o]))}),t.TgZ(1,"mat-icon",9),t._uU(2,"merge_type"),t.qZA()()}}function St(i,c){if(1&i&&(t.TgZ(0,"mat-list-item",6),t._uU(1),t.YNc(2,Qt,3,0,"button",7),t.qZA()),2&i){const n=c.$implicit,a=t.oxw(2);t.xp6(1),t.AsE(" ",n[a.idName]," : ",n[a.valueName]," "),t.xp6(1),t.Q6J("ngIf",!a.isMaster)}}function Ut(i,c){1&i&&(t.TgZ(0,"mat-card-footer"),t._uU(1," \xa0 \xa0 "),t.qZA())}function qt(i,c){if(1&i&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-subtitle"),t._uU(3),t.YNc(4,kt,3,0,"button",1),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"mat-list",2),t.YNc(7,St,3,3,"mat-list-item",3),t.qZA()(),t.YNc(8,Ut,2,0,"mat-card-footer",0),t.qZA()),2&i){const n=t.oxw();t.xp6(3),t.hij(" ",n.chipsTitle," "),t.xp6(1),t.Q6J("ngIf",!n.isMaster),t.xp6(3),t.Q6J("ngForOf",n.contentList),t.xp6(1),t.Q6J("ngIf",n.isMaster)}}function zt(i,c){1&i&&(t.TgZ(0,"mat-card-footer"),t._uU(1," \xa0 \xa0 "),t.qZA())}function Dt(i,c){if(1&i&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-subtitle"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"mat-label",10),t._uU(6,"Vac\xedo"),t.qZA()(),t.YNc(7,zt,2,0,"mat-card-footer",0),t.qZA()),2&i){const n=t.oxw();t.xp6(3),t.Oqu(n.chipsTitle),t.xp6(4),t.Q6J("ngIf",n.isMaster)}}let Lt=(()=>{class i{constructor(){this.isMaster=!0,this.chipsTitle=null,this.subtitlesList=null,this.contentList=null,this.idName=null,this.valueName=null,this.propagate=new t.vpe}ngOnInit(){}onPropagate(n){if(this.propagate.emit(n),!this.isMaster){let a=this.contentList.filter(o=>(n.forEach(d=>{if(o==d)return!1}),!0));this.contentList=a}}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-disambiguate-card-chips-field"]],inputs:{isMaster:"isMaster",chipsTitle:"chipsTitle",subtitlesList:"subtitlesList",contentList:"contentList",idName:"idName",valueName:"valueName"},outputs:{propagate:"propagate"},decls:2,vars:2,consts:[[4,"ngIf"],["mat-button","","aria-label","Incluir todos los elementos","matTooltip","Agregar todos a la organizacion principal",3,"click",4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],["mat-button","","aria-label","Incluir todos los elementos","matTooltip","Agregar todos a la organizacion principal",3,"click"],["color","warn"],["role","listitem"],["mat-button","","aria-label","Incluir a la lista principal","matTooltip","Agregar a la organizacion principal",3,"click",4,"ngIf"],["mat-button","","aria-label","Incluir a la lista principal","matTooltip","Agregar a la organizacion principal",3,"click"],["color","primary"],[1,"text-muted","text-through"]],template:function(a,o){1&a&&(t.YNc(0,qt,9,4,"mat-card",0),t.YNc(1,Dt,8,2,"mat-card",0)),2&a&&(t.Q6J("ngIf",o.contentList&&o.contentList.length),t.xp6(1),t.Q6J("ngIf",!o.contentList||0==o.contentList.length))},dependencies:[C.sg,C.O5,N.lW,q.gM,z.Hw,O.a8,O.dn,O.rt,O.dk,O.$j,D.hX,H.i$,H.Tg],styles:[".text-muted[_ngcontent-%COMP%]{color:#0000008a;padding-left:.2em}.text-through[_ngcontent-%COMP%]{text-decoration:line-through}"]})}return i})();var bt=g(2557);function Pt(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"mat-panel-title")(1,"button",2),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onPropagate(o.contentList))}),t.TgZ(2,"mat-icon",3),t._uU(3,"merge_type_left"),t.qZA()()()}}function Yt(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.onPropagate([o]))}),t.TgZ(1,"mat-icon",6),t._uU(2,"merge_type"),t.qZA()()}}function Rt(i,c){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-chip-option"),t._uU(2),t.qZA(),t.YNc(3,Yt,3,0,"button",4),t.BQk()),2&i){const n=c.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(n),t.xp6(1),t.Q6J("ngIf",!a.isMaster)}}function Gt(i,c){if(1&i&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA(),t.YNc(4,Pt,4,0,"mat-panel-title",0),t.qZA(),t.TgZ(5,"mat-chip-listbox"),t.YNc(6,Rt,4,2,"ng-container",1),t.qZA()()),2&i){const n=t.oxw();t.xp6(3),t.hij(" ",n.accordionChipsTitle," "),t.xp6(1),t.Q6J("ngIf",!n.isMaster),t.xp6(2),t.Q6J("ngForOf",n.contentList)}}function Bt(i,c){if(1&i&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-label",7),t._uU(5,"Vac\xedo"),t.qZA()()),2&i){const n=t.oxw();t.xp6(3),t.hij(" ",n.accordionChipsTitle," ")}}let Ht=(()=>{class i{constructor(){this.isMaster=!0,this.accordionChipsTitle=null,this.contentList=null,this.propagate=new t.vpe}ngOnInit(){}onPropagate(n){this.propagate.emit(n)}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-disambiguate-accord-chips-field"]],inputs:{isMaster:"isMaster",accordionChipsTitle:"accordionChipsTitle",contentList:"contentList"},outputs:{propagate:"propagate"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-button","","aria-label","Incluir todos los elementos","matTooltip","Agregar todos los elementos a la organizacion principal",3,"click"],["color","warn"],["mat-button","","aria-label","Incluir otro elemento  a la organizacion principal","matTooltip","Agregar elemento a la organizacion principal",3,"click",4,"ngIf"],["mat-button","","aria-label","Incluir otro elemento  a la organizacion principal","matTooltip","Agregar elemento a la organizacion principal",3,"click"],["color","primary"],[1,"text-muted","text-through"]],template:function(a,o){1&a&&(t.YNc(0,Gt,7,3,"mat-expansion-panel",0),t.YNc(1,Bt,6,1,"mat-expansion-panel",0)),2&a&&(t.Q6J("ngIf",o.contentList&&o.contentList.length),t.xp6(1),t.Q6J("ngIf",!o.contentList||0==o.contentList.length))},dependencies:[C.sg,C.O5,N.lW,q.gM,z.Hw,D.hX,bt.z2,bt.iO,M.ib,M.yz,M.yK],styles:[".text-muted[_ngcontent-%COMP%]{color:#0000008a;padding-left:.2em}.text-through[_ngcontent-%COMP%]{text-decoration:line-through}"]})}return i})();function Vt(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",10),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.previousOrg())}),t.TgZ(2,"mat-icon"),t._uU(3,"navigate_before"),t.qZA()(),t.TgZ(4,"button",11),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.nextOrg())}),t.TgZ(5,"mat-icon"),t._uU(6,"navigate_next"),t.qZA()(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("disabled",!n.canGoPrevius()),t.xp6(3),t.Q6J("disabled",!n.canGoNext())}}const vt=function(i,c){return[i,c]};function jt(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-card-field",12),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("cardTitle",n.masterOrganization.name)("cardSubtitles",t.WLB(2,vt,"UUID Organizaci\xf3n:"+n.masterOrganization.id,n.masterOrganization.status))}}function Kt(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-card-field",12),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("cardTitle",n.selectedsecundaryOrganization.name)("cardSubtitles",t.WLB(2,vt,"UUID Organizaci\xf3n:"+n.selectedsecundaryOrganization.id,n.selectedsecundaryOrganization.status))}}function $t(i,c){1&i&&t._UZ(0,"hr",13)}function _e(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-card-chips-field",14),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("contentList",n.masterOrganization.identifiers)}}function he(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-card-chips-field",15),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeIdentifiers(o,d.selectedsecundaryOrganization))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("contentList",n.selectedsecundaryOrganization.identifiers)}}function dt(i,c){1&i&&t._UZ(0,"hr",13)}function Wt(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-accord-chips-field",16),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("contentList",n.masterOrganization.acronyms)}}function Xt(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-accord-chips-field",17),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeAcronyms(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("contentList",n.selectedsecundaryOrganization.acronyms)}}function te(i,c){1&i&&t._UZ(0,"hr",13)}function ee(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-accord-chips-field",18),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("contentList",n.masterOrganization.aliases)}}function ne(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-accord-chips-field",19),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeAliases(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("contentList",n.selectedsecundaryOrganization.aliases)}}function fe(i,c){1&i&&t._UZ(0,"hr",13)}function j(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-accord-chips-field",20),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("contentList",n.masterOrganization.types)}}function ie(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-accord-chips-field",21),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeTypes(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("contentList",n.selectedsecundaryOrganization.types)}}function Ct(i,c){1&i&&t._UZ(0,"hr",13)}function p(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-text-field",22),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("textContent",n.masterOrganization.established)}}function h(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-text-field",23),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeEstablished(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("textContent",n.selectedsecundaryOrganization.established)}}function r(i,c){1&i&&t._UZ(0,"hr",13)}function l(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-text-field",24),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("textContent",n.masterOrganization.onei_registry)}}function s(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-text-field",25),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeOnei(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("textContent",n.selectedsecundaryOrganization.onei_registry)}}function _(i,c){1&i&&t._UZ(0,"hr",13)}function E(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-text-field",26),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("textContent",n.masterOrganization.wikipedia_url)}}function K(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-text-field",27),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeWikipedia_url(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("textContent",n.selectedsecundaryOrganization.wikipedia_url)}}function ae(i,c){1&i&&t._UZ(0,"hr",13)}function Me(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-text-field",28),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("textContent",n.masterOrganization.email_address)}}function Je(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-text-field",29),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeEmail_address(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("textContent",n.selectedsecundaryOrganization.email_address)}}function Ee(i,c){1&i&&t._UZ(0,"hr",13)}function Ne(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-relationships",30),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("contentList",n.masterOrganization.relationships)}}function ke(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-relationships",31),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeRelationships(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("contentList",n.selectedsecundaryOrganization.relationships)}}function Qe(i,c){1&i&&t._UZ(0,"hr",13)}function Se(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"app-disambiguate-accord-chips-field",32),t.BQk()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("contentList",n.masterOrganization.links)}}function Ue(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-disambiguate-accord-chips-field",33),t.NdJ("propagate",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.mergeLinks(o))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("isMaster",!1)("contentList",n.selectedsecundaryOrganization.links)}}function qe(i,c){1&i&&(t.TgZ(0,"mat-card",34)(1,"mat-card-content")(2,"h1"),t._uU(3,"Este componente necesita datos de otras organizaciones."),t.qZA()()())}function ze(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"div",4)(1,"mat-toolbar")(2,"mat-toolbar-row",5)(3,"div")(4,"mat-slide-toggle",6),t.NdJ("change",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.changingShowSecundaries())}),t._uU(5," Organizaciones an\xe1logas "),t.qZA(),t.YNc(6,Vt,7,2,"ng-container",7),t.qZA()()(),t.TgZ(7,"div",8),t.YNc(8,jt,2,5,"ng-container",7),t.YNc(9,Kt,2,5,"ng-container",7),t.qZA(),t.YNc(10,$t,1,0,"hr",9),t.TgZ(11,"div",8),t.YNc(12,_e,2,1,"ng-container",7),t.YNc(13,he,2,2,"ng-container",7),t.qZA(),t.YNc(14,dt,1,0,"hr",9),t.TgZ(15,"div",8),t.YNc(16,Wt,2,1,"ng-container",7),t.YNc(17,Xt,2,2,"ng-container",7),t.qZA(),t.YNc(18,te,1,0,"hr",9),t.TgZ(19,"div",8),t.YNc(20,ee,2,1,"ng-container",7),t.YNc(21,ne,2,2,"ng-container",7),t.qZA(),t.YNc(22,fe,1,0,"hr",9),t.TgZ(23,"div",8),t.YNc(24,j,2,1,"ng-container",7),t.YNc(25,ie,2,2,"ng-container",7),t.qZA(),t.YNc(26,Ct,1,0,"hr",9),t.TgZ(27,"div",8),t.YNc(28,p,2,1,"ng-container",7),t.YNc(29,h,2,2,"ng-container",7),t.qZA(),t.YNc(30,r,1,0,"hr",9),t.TgZ(31,"div",8),t.YNc(32,l,2,1,"ng-container",7),t.YNc(33,s,2,2,"ng-container",7),t.qZA(),t.YNc(34,_,1,0,"hr",9),t.TgZ(35,"div",8),t.YNc(36,E,2,1,"ng-container",7),t.YNc(37,K,2,2,"ng-container",7),t.qZA(),t.YNc(38,ae,1,0,"hr",9),t.TgZ(39,"div",8),t.YNc(40,Me,2,1,"ng-container",7),t.YNc(41,Je,2,2,"ng-container",7),t.qZA(),t.YNc(42,Ee,1,0,"hr",9),t.TgZ(43,"div",8),t.YNc(44,Ne,2,1,"ng-container",7),t.YNc(45,ke,2,2,"ng-container",7),t.qZA(),t.YNc(46,Qe,1,0,"hr",9),t.TgZ(47,"div",8),t.YNc(48,Se,2,1,"ng-container",7),t.YNc(49,Ue,2,2,"ng-container",7),t.qZA(),t.YNc(50,qe,4,0,"mat-card",3),t.qZA()}if(2&i){const n=t.oxw();t.xp6(6),t.Q6J("ngIf",n.showSecundaries&&n.secundariesOrganizations&&n.secundariesOrganizations.length>1),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngClass.xs","displayblock"),t.xp6(1),t.Q6J("ngIf",n.masterOrganization),t.xp6(1),t.Q6J("ngIf",n.showSecundaries),t.xp6(1),t.Q6J("ngIf",!n.secundariesOrganizations)}}function De(i,c){1&i&&(t.TgZ(0,"mat-card",34)(1,"mat-card-content")(2,"h1"),t._uU(3,"No se encontraron los datos de las organziaciones para desambiguar"),t.qZA()()())}const xe=".rieles[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:nowrap;justify-content:space-between start}.displayblock[_ngcontent-%COMP%]{display:block!important}.floating-container[_ngcontent-%COMP%]{width:90px;height:240px;position:absolute;right:0;bottom:0}.botonF1[_ngcontent-%COMP%]{border-radius:100%;right:0;bottom:0;position:fixed;margin-right:16px;margin-bottom:16px;border:none;outline:none;color:#fff;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;transition:.3s}span[_ngcontent-%COMP%]{transition:.5s}.botonF1[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{transform:rotate(360deg)}.botonF1[_ngcontent-%COMP%]:active{transform:scale(1.1)}.btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:100%;border:none;color:#fff;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;font-size:28px;outline:none;position:absolute;right:0;bottom:0;margin-right:26px;transform:scale(0)}.botonF2[_ngcontent-%COMP%]{background:#2196F3;margin-bottom:85px;transition:.5s}.botonF3[_ngcontent-%COMP%]{background:#673AB7;margin-bottom:130px;transition:.7s}.botonF4[_ngcontent-%COMP%]{background:#009688;margin-bottom:175px;transition:.9s}.botonF5[_ngcontent-%COMP%]{background:#FF5722;margin-bottom:220px;transition:.99s}.animacionVer[_ngcontent-%COMP%]{transform:scale(1)}";let Le=(()=>{class i{constructor(n,a,o){this._snackBar=n,this._orgService=a,this._dialog=o,this.showSecundaries=!1}ngOnInit(){this.isDisabledNavigatePrevious=!0,this.isDisabledNavigateNext=!1,this.masterOrganization&&this.secundariesOrganizations&&this.secundariesOrganizations.length>0&&(this.posSecundaryOrg=0,this.SelectSecundaryOrganization())}ngOnChanges(){this.masterOrganization&&console.log("changes ",this.masterOrganization.relationships)}loaded(){return this.masterOrganization&&this.secundariesOrganizations&&this.secundariesOrganizations.length>0}changingShowSecundaries(){this.showSecundaries||(this.posSecundaryOrg=0,this.SelectSecundaryOrganization()),this.showSecundaries=!this.showSecundaries}changingSecundaryPos(n){n>0&&(n<this.posSecundaryOrg||n==this.secundariesOrganizations.length)&&(this.posSecundaryOrg=this.posSecundaryOrg-1),this.SelectSecundaryOrganization()}canGoNext(){return this.posSecundaryOrg<this.secundariesOrganizations.length-1}canGoPrevius(){return this.posSecundaryOrg>0}nextOrg(){this.isDisabledNavigatePrevious=!1,this.posSecundaryOrg<this.secundariesOrganizations.length-1?(this.isDisabledNavigateNext=!1,this.posSecundaryOrg++,this.SelectSecundaryOrganization()):this.posSecundaryOrg==this.secundariesOrganizations.length-1&&(this.isDisabledNavigateNext=!0,new u.pF$(this._snackBar).showMessage(u.GL1.OK,"No hay m\xe1s versiones para mostrar"))}previousOrg(){this.isDisabledNavigateNext=!1,this.posSecundaryOrg>0?(this.isDisabledNavigatePrevious=!1,this.posSecundaryOrg--,this.SelectSecundaryOrganization()):0==this.posSecundaryOrg&&(this.isDisabledNavigatePrevious=!0,new u.pF$(this._snackBar).showMessage(u.GL1.OK,"No hay m\xe1s organizaciones para mostrar"))}SelectSecundaryOrganization(){this.secundariesOrganizations.length>=0&&this.posSecundaryOrg>=0&&this.posSecundaryOrg<this.secundariesOrganizations.length&&(new u._OH,this.selectedsecundaryOrganization=this.secundariesOrganizations[this.posSecundaryOrg])}mergeIdentifiers(n,a){var o=this.masterOrganization.identifiers,d=n.filter(y=>!o.some(S=>S.value==y.value));console.log("merging pids: ",o,d),d&&d.length>0?this.masterOrganization.identifiers=o.concat(d):new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"Ya existen en la organizaci\xf3n principal")}mergeAcronyms(n){var a=this.masterOrganization.acronyms,o=n.filter(d=>!a.some(y=>y==d));o&&o.length>0?this.masterOrganization.acronyms=a.concat(o):new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"Ya existen en la organizaci\xf3n principal")}mergeAliases(n){var a=this.masterOrganization.aliases,o=n.filter(d=>!a.some(y=>y==d));o&&o.length>0?this.masterOrganization.aliases=a.concat(o):new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"Ya existen en la organizaci\xf3n principal")}mergeTypes(n){console.log(this.masterOrganization);var a=this.masterOrganization.types,o=n.filter(d=>!a.some(y=>y==d));o&&o.length>0?this.masterOrganization.types=a.concat(o):new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"Ya existen en la organizaci\xf3n principal")}mergeEstablished(n){n&&n!==this.masterOrganization.established?this.masterOrganization.established=n:new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"El a\xf1o es coincidente con el de la organziaci\xf3n principal")}mergeOnei(n){n&&n!==this.masterOrganization.onei_registry?this.masterOrganization.onei_registry=n:new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"El a\xf1o es coincidente con el de la organziaci\xf3n principal")}mergeWikipedia_url(n){n&&n!==this.masterOrganization.wikipedia_url?this.masterOrganization.wikipedia_url=n:new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"La URL es coincidente con el de la organziaci\xf3n principal")}mergeEmail_address(n){n&&n!==this.masterOrganization.email_address?this.masterOrganization.email_address=n:new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"El correo electr\xf3nico es coincidente con el de la organziaci\xf3n principal")}mergeRelationships(n){if(null!=n){var a=new u.cpi;a.deepcopy(this.masterOrganization);var o=new Array;for(let V of n){var d=V.identifiers;let ge=!0;for(let pt=0;pt<a.relationships.length;pt++){var y=a.relationships[pt].identifiers,S=d.filter(ue=>!y.some(qa=>qa.value==ue.value));S&&0!=S.length?S.length<d.length&&(ge=!1,a.relationships[pt].identifiers=y.concat(S),a.relationships[pt].type!==V.type&&new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"Se encontraron relaciones entre organizaciones con tipos diferentes de relaci\xf3n, se mantiene el tipo registrado en la organziaci\xf3n principal."),pt=a.relationships.length):(ge=!1,pt=a.relationships.length,new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"Organizaci\xf3n principal ya tiene registrada la relaci\xf3n."))}ge&&o.push(V)}this.masterOrganization.relationships=o.concat(a.relationships)}}mergeLinks(n){var a=this.masterOrganization.links,o=n.filter(d=>!a.some(y=>y==d));o&&o.length>0?this.masterOrganization.links=a.concat(o):new u.pF$(this._snackBar).showMessage(u.GL1.serverError,"Ya existen en la organizaci\xf3n principal")}openHelpStep3(){this._dialog.open(Pe,{width:"80%"})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(R.ux),t.Y36(P.Q),t.Y36(Q.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-disambiguation"]],inputs:{masterOrganization:"masterOrganization",secundariesOrganizations:"secundariesOrganizations",posSecundaryOrg:"posSecundaryOrg",showSecundaries:"showSecundaries"},features:[t.TTD],decls:6,vars:2,consts:[["fxLayout","row wrap","style","margin: 1em;",4,"ngIf"],[1,"floating-container"],["mat-mini-fab","","color","warn","matTooltip","\xbfC\xf3mo usar metadatos de las organizaciones an\xe1logas?","aria-label","Ayuda para usar metadatos de las organizaciones an\xe1logas",1,"botonF1",3,"click"],["style","margin: 1em;",4,"ngIf"],["fxLayout","row wrap",2,"margin","1em"],["fxLayoutGap","1em","fxLayoutAlign","end center"],["matTooltip","Mostrar organizaciones an\xe1logas","color","primary",3,"change"],[4,"ngIf"],["fxLAyout","row","fxLayoutAlign","space-between start","fxFlexFill","","fxLayout.xs","column",3,"ngClass.xs"],["width","70%","size","8px","color","primary","fxHide","","fxShow.xs","",4,"ngIf"],["mat-button","","aria-label","Organizaci\xf3n Anterior","matTooltip","Organizaci\xf3n Anterior",3,"disabled","click"],["mat-button","","aria-label","Pr\xf3xima Organizaci\xf3n","matTooltip","Pr\xf3xima Organizaci\xf3n",3,"disabled","click"],["fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"cardTitle","cardSubtitles"],["width","70%","size","8px","color","primary","fxHide","","fxShow.xs",""],["chipsTitle","Identificadores","idName","idtype","valueName","value","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"contentList"],["chipsTitle","Identificadores","idName","idtype","valueName","value","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","contentList","propagate"],["accordionChipsTitle","Acr\xf3nimos con que se conoce la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"contentList"],["accordionChipsTitle","Acr\xf3nimos con que se conoce la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","contentList","propagate"],["accordionChipsTitle","Otros nombres con los que se conoce la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"contentList"],["accordionChipsTitle","Otros nombres con los que se conoce la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","contentList","propagate"],["accordionChipsTitle","Tipos que describen a la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"contentList"],["accordionChipsTitle","Tipos que describen a la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","contentList","propagate"],["textLabel","A\xf1o de fundada la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"textContent"],["textLabel","A\xf1o de fundada la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","textContent","propagate"],["textLabel","A\xf1o de alta en ONEI","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"textContent"],["textLabel","A\xf1o de alta en ONEI","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","textContent","propagate"],["textLabel","URL de la p\xe1gina de Wikipedia de la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"textContent"],["textLabel","URL de la p\xe1gina de Wikipedia de la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","textContent","propagate"],["textLabel","Correo electr\xf3nico de contacto de la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"textContent"],["textLabel","Correo electr\xf3nico de contacto de la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","textContent","propagate"],["fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"contentList"],["fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","contentList","propagate"],["accordionChipsTitle","Enlaces conocidos de la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"contentList"],["accordionChipsTitle","Enlaces conocidos de la Organizaci\xf3n","fxFlex","1 2 calc(15em + 20px)",2,"margin",".5em",3,"isMaster","contentList","propagate"],[2,"margin","1em"]],template:function(a,o){1&a&&(t.YNc(0,ze,51,45,"div",0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.openHelpStep3()}),t.TgZ(3,"mat-icon"),t._uU(4,"help"),t.qZA()()(),t.YNc(5,De,4,0,"mat-card",3)),2&a&&(t.Q6J("ngIf",o.loaded()),t.xp6(5),t.Q6J("ngIf",!o.loaded()))},dependencies:[C.O5,N.lW,N.nh,$.Ye,$.rD,q.gM,z.Hw,O.a8,O.dn,ot.Rr,Z.xw,Z.SQ,Z.Wh,Z.s9,Z.yH,G.b8,G.oO,L,It,Nt,Lt,Ht],styles:[xe]})}return i})(),Pe=(()=>{class i{constructor(n){this.dialogRef=n}onNoClick(){this.dialogRef.close()}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(Q.so))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["disambiguate-step3-help"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["markdown","",3,"src"],["mat-dialog-actions","","align","end"],["mat-button","","cdkFocusInitial","","color","primary",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0),t._uU(1," Ayuda para la desambiguaci\xf3n de metadatos "),t.qZA(),t.TgZ(2,"div",1),t._UZ(3,"div",2),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return o.onNoClick()}),t._uU(6,"Cerrar"),t.qZA()()),2&a&&(t.xp6(3),t.Q6J("src","/assets/markdown/organizaciones/help.step3.disambiguation.md"))},dependencies:[N.lW,Q.uh,Q.xY,Q.H8,tt.lF],styles:[xe]})}return i})();function Ye(i,c){if(1&i&&t._UZ(0,"org-view-relationship",9),2&i){const n=t.oxw(2).index,a=t.oxw();t.Q6J("value",a.value[n])}}function Re(i,c){if(1&i&&t._UZ(0,"org-view-address",9),2&i){const n=t.oxw(2).index,a=t.oxw();t.Q6J("value",a.value[n])}}function Ge(i,c){if(1&i&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA()(),t.ynx(4,7),t.YNc(5,Ye,1,1,"org-view-relationship",8),t.YNc(6,Re,1,1,"org-view-address",8),t.BQk(),t.qZA()),2&i){const n=t.oxw().$implicit,a=t.oxw();t.xp6(3),t.hij(" ",n," "),t.xp6(1),t.Q6J("ngSwitch",a.orgViewAccordionType),t.xp6(1),t.Q6J("ngSwitchCase",a.orgViewAccordion_Type.Relationships),t.xp6(1),t.Q6J("ngSwitchCase",a.orgViewAccordion_Type.Addresses)}}function Be(i,c){if(1&i&&(t.ynx(0),t.YNc(1,Ge,7,4,"mat-expansion-panel",6),t.BQk()),2&i){const n=c.index,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.panelHasElement(n))}}var yt=function(i){return i.Relationships="Relaci\xf3n",i.Addresses="Direcci\xf3n",i}(yt||{});let be=(()=>{class i{constructor(){this.orgViewAccordion_Type=yt,this.appearance="outline",this.desc=void 0,this.value=[],this.orgViewAccordionType=yt.Relationships,this.panelsTitle=[]}ngOnInit(){}get getAccordion(){return this._accordion}panelHasElement(n){return this.orgViewAccordionType!==this.orgViewAccordion_Type.Relationships||this.value[n].links.length}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["org-view-accordion"]],viewQuery:function(a,o){if(1&a&&t.Gf(M.pp,7),2&a){let d;t.iGM(d=t.CRH())&&(o._accordion=d.first)}},inputs:{appearance:"appearance",desc:"desc",value:"value",orgViewAccordionType:"orgViewAccordionType",panelsTitle:"panelsTitle"},decls:10,vars:3,consts:[[1,"static-accordion-fieldset"],[1,"static-accordion-fieldset-legend"],[1,"static-accordion-buttons"],["mat-raised-button","","color","primary",3,"click"],["multi","",1,"static-mat-accordion"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngSwitch"],[3,"value",4,"ngSwitchCase"],[3,"value"]],template:function(a,o){1&a&&(t.TgZ(0,"fieldset",0)(1,"legend",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"button",3),t.NdJ("click",function(){return o.getAccordion.openAll()}),t._uU(5,"Expandir Todo"),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return o.getAccordion.closeAll()}),t._uU(7,"Colapsar Todo"),t.qZA()(),t.TgZ(8,"mat-accordion",4),t.YNc(9,Be,2,1,"ng-container",5),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(o.desc),t.xp6(6),t.uIk("aria-label",o.desc),t.xp6(1),t.Q6J("ngForOf",o.panelsTitle))},styles:[".static-accordion-fieldset[_ngcontent-%COMP%]{width:auto;margin:-4px 0 24px;padding:0 10px 14px;cursor:default;background-color:#fff;border:solid 1px rgba(0,0,0,.12);border-radius:4px}.static-accordion-fieldset-legend[_ngcontent-%COMP%]{padding:0 4px;background-color:#fff;color:#0009;font-size:10px}.static-accordion-buttons[_ngcontent-%COMP%]{margin:20px 0}button[_ngcontent-%COMP%]{margin-right:10px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none;border:solid 1px rgb(234,234,234)}.mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expansion-panel-spacing):not(:first-of-type){margin:-1px 0 0}  div.mat-expansion-panel-body{padding:0}"]})}return i})();function He(i,c){if(1&i&&t._UZ(0,"static-text",4),2&i){const n=t.oxw();t.Q6J("desc","Identificador GeoNames")("value",n.value.id)}}function Ve(i,c){if(1&i&&t._UZ(0,"static-text",4),2&i){const n=t.oxw();t.Q6J("desc","Nombre de la ciudad")("value",n.value.city)}}const _t=function(){return["property","value"]},ht=function(){return["Property","Value"]};function je(i,c){if(1&i&&t._UZ(0,"static-table",5),2&i){const n=t.oxw();t.Q6J("desc","geonames_admin1")("value",n.getGeoNamesAdmin1)("columnsObjectProperty",t.DdM(4,_t))("columnsHeaderText",t.DdM(5,ht))}}function Ke(i,c){if(1&i&&t._UZ(0,"static-table",5),2&i){const n=t.oxw();t.Q6J("desc","geonames_admin2")("value",n.getGeoNamesAdmin2)("columnsObjectProperty",t.DdM(4,_t))("columnsHeaderText",t.DdM(5,ht))}}function $e(i,c){if(1&i&&t._UZ(0,"static-table",5),2&i){const n=t.oxw();t.Q6J("desc","nuts_level1")("value",n.getNutsLevel1)("columnsObjectProperty",t.DdM(4,_t))("columnsHeaderText",t.DdM(5,ht))}}function We(i,c){if(1&i&&t._UZ(0,"static-table",5),2&i){const n=t.oxw();t.Q6J("desc","nuts_level2")("value",n.getNutsLevel2)("columnsObjectProperty",t.DdM(4,_t))("columnsHeaderText",t.DdM(5,ht))}}function Xe(i,c){if(1&i&&t._UZ(0,"static-table",5),2&i){const n=t.oxw();t.Q6J("desc","nuts_level3")("value",n.getNutsLevel3)("columnsObjectProperty",t.DdM(4,_t))("columnsHeaderText",t.DdM(5,ht))}}let tn=(()=>{class i{constructor(){this.appearance="outline",this.desc=void 0,this.value=void 0,this._geonames_admin1=[],this._geonames_admin2=[],this._nuts_level1=[],this._nuts_level2=[],this._nuts_level3=[]}ngOnInit(){this.value&&(this.value.geonames_admin1&&this._createValueAsArray(this.value.geonames_admin1,this._geonames_admin1),this.value.geonames_admin2&&this._createValueAsArray(this.value.geonames_admin2,this._geonames_admin2),this.value.nuts_level1&&this._createValueAsArray(this.value.nuts_level1,this._nuts_level1),this.value.nuts_level2&&this._createValueAsArray(this.value.nuts_level2,this._nuts_level2),this.value.nuts_level3&&this._createValueAsArray(this.value.nuts_level3,this._nuts_level3))}_createValueAsArray(n,a){Object.keys(n).forEach(o=>{a.push({property:o,value:n[o]})})}get getGeoNamesAdmin1(){return this._geonames_admin1}get getGeoNamesAdmin2(){return this._geonames_admin2}get getNutsLevel1(){return this._nuts_level1}get getNutsLevel2(){return this._nuts_level2}get getNutsLevel3(){return this._nuts_level3}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["org-view-geo-names-city"]],inputs:{appearance:"appearance",desc:"desc",value:"value"},decls:10,vars:8,consts:[[1,"static-geo-names-city-fieldset"],[1,"static-geo-names-city-fieldset-legend"],[3,"desc","value",4,"ngIf"],[3,"desc","value","columnsObjectProperty","columnsHeaderText",4,"ngIf"],[3,"desc","value"],[3,"desc","value","columnsObjectProperty","columnsHeaderText"]],template:function(a,o){1&a&&(t.TgZ(0,"fieldset",0)(1,"legend",1),t._uU(2),t.qZA(),t.YNc(3,He,1,2,"static-text",2),t.YNc(4,Ve,1,2,"static-text",2),t.YNc(5,je,1,6,"static-table",3),t.YNc(6,Ke,1,6,"static-table",3),t.YNc(7,$e,1,6,"static-table",3),t.YNc(8,We,1,6,"static-table",3),t.YNc(9,Xe,1,6,"static-table",3),t.qZA()),2&a&&(t.xp6(2),t.Oqu(o.desc),t.xp6(1),t.Q6J("ngIf",o.value.id),t.xp6(1),t.Q6J("ngIf",o.value.city),t.xp6(1),t.Q6J("ngIf",o.value.geonames_admin1),t.xp6(1),t.Q6J("ngIf",o.value.geonames_admin2),t.xp6(1),t.Q6J("ngIf",o.value.nuts_level1),t.xp6(1),t.Q6J("ngIf",o.value.nuts_level2),t.xp6(1),t.Q6J("ngIf",o.value.nuts_level3))},dependencies:[C.O5,u.b_,u.d33],styles:[".static-geo-names-city-fieldset[_ngcontent-%COMP%]{width:auto;margin:-4px 0 24px;padding:14px 10px;cursor:default;background-color:#fff;border:solid 1px rgba(0,0,0,.12);border-radius:4px}.static-geo-names-city-fieldset-legend[_ngcontent-%COMP%]{padding:0 4px;background-color:#fff;color:#0009;font-size:10px}"]})}return i})();function en(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Nombre de la ciudad")("value",n.value.city)}}function nn(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Nombre del municipio")("value",n.value.municipality)}}function an(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Nombre del pa\xeds")("value",n.value.country)}}function on(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","C\xf3digo ISO 3166-1 alpha-2 del pa\xeds")("value",n.value.country_code)}}function rn(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Latitud (coordenadas geogr\xe1ficas)")("value",n.value.lat)}}function sn(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Longitud (coordenadas geogr\xe1ficas)")("value",n.value.lng)}}function cn(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Primera l\xednea de la direcci\xf3n")("value",n.value.line_1)}}function ln(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Segunda l\xednea de la direcci\xf3n")("value",n.value.line_2)}}function pn(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Tercera l\xednea de la direcci\xf3n")("value",n.value.line_3)}}function dn(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","C\xf3digo postal")("value",n.value.postcode)}}function mn(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Especifica si esta direcci\xf3n identifica la direcci\xf3n principal")("value",n.value.primary.toString())}}function gn(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","Nombre del estado/regi\xf3n")("value",n.value.state)}}function un(i,c){if(1&i&&t._UZ(0,"static-text",1),2&i){const n=t.oxw();t.Q6J("desc","C\xf3digo ISO 3166-2 del estado/regi\xf3n")("value",n.value.state_code)}}function _n(i,c){if(1&i&&t._UZ(0,"org-view-geo-names-city",1),2&i){const n=t.oxw();t.Q6J("desc","Datos GeoNames enlazados")("value",n.value.geonames_city)}}let hn=(()=>{class i{constructor(){this.value=void 0}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["org-view-address"]],inputs:{value:"value"},decls:14,vars:14,consts:[[3,"desc","value",4,"ngIf"],[3,"desc","value"]],template:function(a,o){1&a&&(t.YNc(0,en,1,2,"static-text",0),t.YNc(1,nn,1,2,"static-text",0),t.YNc(2,an,1,2,"static-text",0),t.YNc(3,on,1,2,"static-text",0),t.YNc(4,rn,1,2,"static-text",0),t.YNc(5,sn,1,2,"static-text",0),t.YNc(6,cn,1,2,"static-text",0),t.YNc(7,ln,1,2,"static-text",0),t.YNc(8,pn,1,2,"static-text",0),t.YNc(9,dn,1,2,"static-text",0),t.YNc(10,mn,1,2,"static-text",0),t.YNc(11,gn,1,2,"static-text",0),t.YNc(12,un,1,2,"static-text",0),t.YNc(13,_n,1,2,"org-view-geo-names-city",0)),2&a&&(t.Q6J("ngIf",o.value.city),t.xp6(1),t.Q6J("ngIf",o.value.municipality),t.xp6(1),t.Q6J("ngIf",o.value.country),t.xp6(1),t.Q6J("ngIf",o.value.country_code),t.xp6(1),t.Q6J("ngIf",o.value.lat),t.xp6(1),t.Q6J("ngIf",o.value.lng),t.xp6(1),t.Q6J("ngIf",o.value.line_1),t.xp6(1),t.Q6J("ngIf",o.value.line_2),t.xp6(1),t.Q6J("ngIf",o.value.line_3),t.xp6(1),t.Q6J("ngIf",o.value.postcode),t.xp6(1),t.Q6J("ngIf",null!=o.value.primary),t.xp6(1),t.Q6J("ngIf",o.value.state),t.xp6(1),t.Q6J("ngIf",o.value.state_code),t.xp6(1),t.Q6J("ngIf",o.value.geonames_city))},dependencies:[C.O5,u.d33,tn]})}return i})();var J=g(2787);const fn=function(){return{"line-height":"initial",padding:"10px 16px"}};function xn(i,c){if(1&i&&(t.TgZ(0,"a",1),t._uU(1),t.qZA()),2&i){const n=c.$implicit;t.Q6J("routerLink",n.url)("ngStyle",t.DdM(3,fn)),t.xp6(1),t.hij(" ",n.name,"\n")}}let bn=(()=>{class i{constructor(){this.value=void 0}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["org-view-relationship"]],inputs:{value:"value"},decls:1,vars:1,consts:[["mat-button","","class","aling-left","color","warn",3,"routerLink","ngStyle",4,"ngFor","ngForOf"],["mat-button","","color","warn",1,"aling-left",3,"routerLink","ngStyle"]],template:function(a,o){1&a&&t.YNc(0,xn,2,4,"a",0),2&a&&t.Q6J("ngForOf",o.value.links)},dependencies:[C.sg,C.PC,N.zs,G.Zl,J.rH],styles:[".aling-left[_ngcontent-%COMP%]{text-align:left;white-space:normal!important}"]})}return i})();function vn(i,c){if(1&i&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.hij(" Estatus de la organizaci\xf3n: ",n.org.status," ")}}const Cn=function(i,c){return[i,c,"view"]};function yn(i,c){if(1&i&&(t.TgZ(0,"a",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const n=t.oxw(2);t.Q6J("routerLink",t.WLB(4,Cn,n._env.organizations,n.org.redirect.value)),t.xp6(1),t.hij(" ",t.lcZ(2,2,"REDIRECTION_LINK")," ")}}function wn(i,c){if(1&i&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2),t.qZA(),t.TgZ(3,"span",5),t._uU(4),t.qZA(),t.TgZ(5,"span",6),t._uU(6," Tipo: Organizaci\xf3n "),t.qZA(),t.YNc(7,vn,2,1,"span",7),t.YNc(8,yn,3,7,"a",8),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.hij(" ",n.org.name,""),t.xp6(2),t.hij(" SceibaID: ",n.org.id," "),t.xp6(3),t.Q6J("ngIf",n.org.status),t.xp6(1),t.Q6J("ngIf",n.org.redirect)}}const Tn=function(){return["idtype","value"]},On=function(){return["Identifier type","Identifier value"]};function Zn(i,c){if(1&i&&t._UZ(0,"static-table",13),2&i){const n=t.oxw(3);t.Q6J("desc","Lista de los identificadores de la organizaci\xf3n")("value",n.org.identifiers)("columnsObjectProperty",t.DdM(4,Tn))("columnsHeaderText",t.DdM(5,On))}}function An(i,c){if(1&i&&t._UZ(0,"static-chips",14),2&i){const n=t.oxw(3);t.Q6J("desc","Lista de otros nombres con los que se conoce la organizaci\xf3n")("value",n.org.aliases)}}function Fn(i,c){if(1&i&&t._UZ(0,"static-chips",14),2&i){const n=t.oxw(3);t.Q6J("desc","Lista de los acr\xf3nimos con que se conoce la organizaci\xf3n")("value",n.org.acronyms)}}function In(i,c){if(1&i&&t._UZ(0,"static-chips",14),2&i){const n=t.oxw(3);t.Q6J("desc","Lista de los tipos que describen la organizaci\xf3n")("value",n.org.types)}}function Mn(i,c){if(1&i&&t._UZ(0,"static-text",14),2&i){const n=t.oxw(3);t.Q6J("desc","URL de la p\xe1gina de Wikipedia de la organizaci\xf3n")("value",n.org.wikipedia_url)}}function Jn(i,c){if(1&i&&t._UZ(0,"static-text",14),2&i){const n=t.oxw(3);t.Q6J("desc","Correo electr\xf3nico de contacto de la organizaci\xf3n")("value",n.org.email_address)}}function En(i,c){if(1&i&&t._UZ(0,"static-text",14),2&i){const n=t.oxw(3);t.Q6J("desc","A\xf1o de fundada la organizaci\xf3n")("value",n.org.established)}}function Nn(i,c){if(1&i&&t._UZ(0,"static-text",14),2&i){const n=t.oxw(3);t.Q6J("desc","N\xfamero de registro en la ONEI")("value",n.org.onei_registry)}}function kn(i,c){if(1&i&&t._UZ(0,"static-chips",14),2&i){const n=t.oxw(3);t.Q6J("desc","Lista de los enlaces conocidos de la organizaci\xf3n")("value",n.org.links)}}const Qn=function(){return["label","iso639"]},Sn=function(){return["Institute name in a language variant","ISO-639-1 language code"]};function Un(i,c){if(1&i&&t._UZ(0,"static-table",13),2&i){const n=t.oxw(3);t.Q6J("desc","Nombre de la organizaci\xf3n en diferentes lenguajes")("value",n.org.labels)("columnsObjectProperty",t.DdM(4,Qn))("columnsHeaderText",t.DdM(5,Sn))}}function qn(i,c){if(1&i&&t._UZ(0,"org-view-accordion",15),2&i){const n=t.oxw(3);t.Q6J("desc","Relaciones con otras organizaciones")("value",n.getValue_Relationships)("orgViewAccordionType",n.orgViewAccordionType.Relationships)("panelsTitle",n.getPanelsTitle_Relationships)}}function zn(i,c){if(1&i&&t._UZ(0,"org-view-accordion",15),2&i){const n=t.oxw(3);t.Q6J("desc","Direcciones conocidas de la organizaci\xf3n")("value",n.getValue_Addresses)("orgViewAccordionType",n.orgViewAccordionType.Addresses)("panelsTitle",n.getPanelsTitle_Addresses)}}function Dn(i,c){if(1&i&&(t.TgZ(0,"mat-card-content"),t.YNc(1,Zn,1,6,"static-table",10),t.YNc(2,An,1,2,"static-chips",11),t.YNc(3,Fn,1,2,"static-chips",11),t.YNc(4,In,1,2,"static-chips",11),t.YNc(5,Mn,1,2,"static-text",11),t.YNc(6,Jn,1,2,"static-text",11),t.YNc(7,En,1,2,"static-text",11),t.YNc(8,Nn,1,2,"static-text",11),t.YNc(9,kn,1,2,"static-chips",11),t.YNc(10,Un,1,6,"static-table",10),t.YNc(11,qn,1,4,"org-view-accordion",12),t.YNc(12,zn,1,4,"org-view-accordion",12),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.org.identifiers&&n.org.identifiers.length),t.xp6(1),t.Q6J("ngIf",n.org.aliases&&n.org.aliases.length),t.xp6(1),t.Q6J("ngIf",n.org.acronyms&&n.org.acronyms.length),t.xp6(1),t.Q6J("ngIf",n.org.types&&n.org.types.length),t.xp6(1),t.Q6J("ngIf",n.org.wikipedia_url),t.xp6(1),t.Q6J("ngIf",n.org.email_address),t.xp6(1),t.Q6J("ngIf",n.org.established),t.xp6(1),t.Q6J("ngIf",n.org.onei_registry),t.xp6(1),t.Q6J("ngIf",n.org.links&&n.org.links.length),t.xp6(1),t.Q6J("ngIf",n.org.labels&&n.org.labels.length),t.xp6(1),t.Q6J("ngIf",n.org.relationships&&n.org.relationships.length),t.xp6(1),t.Q6J("ngIf",n.org.addresses&&n.org.addresses.length)}}function Ln(i,c){if(1&i&&(t.TgZ(0,"mat-card"),t.YNc(1,Dn,13,12,"mat-card-content",2),t.qZA()),2&i){const n=t.oxw();t.uIk("aria-label","Muestra la organizaci\xf3n seleccionada"),t.xp6(1),t.Q6J("ngIf",n.showContent)}}const Pn=function(){return{width:"100%",height:"auto",padding:"16px","min-height":"56px"}};let ve=(()=>{class i{constructor(n){this._env=n,this.showContent=!0,this.orgViewAccordionType=yt,this.org=void 0}ngOnInit(){let n=new u.cpi;n.deepcopy(this.org),this.org=n,this.org.relationships.sort((a,o)=>a.label.localeCompare(o.label)),this._panelsTitle_Relationships=["Organizaciones Padres","Organizaciones Hijas","Organizaciones Relacionadas"],this._relationshipsValue=this._createRelationshipsValue(),this._addressesValue=this._createAddressesValue(),this._panelsTitle_Addresses=this._createPanelsTitle_Addresses()}ngOnChanges(){this.ngOnInit()}_createPanelsTitle_Generic(n,a){let o=[];for(let d=0;d<a;)o.push(`${n} (${++d}) of (${a})`);return o}_createPanelsTitle_Addresses(){let n=[],a=this._addressesValue.length;for(let o=0;o<a;o++)n.push(`${this._addressesValue[o].city} | ${this._addressesValue[o].country} ${this._addressesValue[o].primary?"(Principal)":""}`);return n}_createRelationshipsValue(){let o,n=[],a=-1;for(o of this._panelsTitle_Relationships)n.push({links:[]});if(this.org.relationships)for(o of this.org.relationships){switch(o.type){case"parent":a=0;break;case"child":a=1;break;default:a=2}n[a].links.push({url:this._env.organizations+"/"+o.id+"/view",name:o.label})}return n}_createAddressesValue(){let n=[],a=[];for(let o of this.org.addresses)o.primary?n.push(o):a.push(o);return n.concat(a)}get getPanelsTitle_Relationships(){return this._panelsTitle_Relationships}get getValue_Relationships(){return this._relationshipsValue}get getPanelsTitle_Addresses(){return this._panelsTitle_Addresses}get getValue_Addresses(){return this._addressesValue}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.qAh))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["org-view"]],inputs:{org:"org",showContent:"showContent"},features:[t.TTD],decls:3,vars:4,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center",3,"ngStyle"],["fxLayout","column wrap","style","padding: 0px 16px; white-space: normal",4,"ngIf"],[4,"ngIf"],["fxLayout","column wrap",2,"padding","0px 16px","white-space","normal"],[1,"mat-headline-6"],["color","primary",1,"mat-caption"],[1,"mat-caption"],["class","mat-caption",4,"ngIf"],["class","mat-caption","style","cursor: pointer",3,"routerLink",4,"ngIf"],[1,"mat-caption",2,"cursor","pointer",3,"routerLink"],[3,"desc","value","columnsObjectProperty","columnsHeaderText",4,"ngIf"],[3,"desc","value",4,"ngIf"],[3,"desc","value","orgViewAccordionType","panelsTitle",4,"ngIf"],[3,"desc","value","columnsObjectProperty","columnsHeaderText"],[3,"desc","value"],[3,"desc","value","orgViewAccordionType","panelsTitle"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-toolbar",0),t.YNc(1,wn,9,4,"div",1),t.qZA(),t.YNc(2,Ln,2,2,"mat-card",2)),2&a&&(t.Q6J("ngStyle",t.DdM(3,Pn)),t.xp6(1),t.Q6J("ngIf",o.org),t.xp6(1),t.Q6J("ngIf",o.org))},dependencies:[C.O5,C.PC,$.Ye,O.a8,O.dn,u.F0R,u.b_,u.d33,Z.xw,Z.Wh,G.Zl,J.rH,be,U.X$],styles:[".cursor-default[_ngcontent-%COMP%]{cursor:default}.title-padding[_ngcontent-%COMP%]{padding:0 0 0 .1em}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:40%}"]})}return i})();var Ce=g(8180),ye=g(7398);let we=(()=>{class i{constructor(n,a,o){this.oauthStorage=n,this._router=a,this._snackBar=o}canActivate(n,a){let o=new st(this.oauthStorage);return!(!o.hasPermissions("curator")&&!o.hasPermissions("admin")&&(this._router.navigate(["/"]),new u.pF$(this._snackBar).showMessage(u.GL1.OK,"Usted no tiene los permisos para acceder"),1))}static#t=this.\u0275fac=function(a){return new(a||i)(t.LFG(k.Hy),t.LFG(J.F0),t.LFG(R.ux))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),oe=(()=>{class i{constructor(n,a,o){this.oauthStorage=n,this._router=a,this._snackBar=o}canActivate(n,a){return!!new st(this.oauthStorage).hasPermissions("admin")||(this._router.navigate(["/"]),new u.pF$(this._snackBar).showMessage(u.GL1.OK,"Usted no tiene los permisos para acceder"),!1)}static#t=this.\u0275fac=function(a){return new(a||i)(t.LFG(k.Hy),t.LFG(J.F0),t.LFG(R.ux))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})();class st{constructor(c){this.oauthStorage=c}hasPermissions(c){if(this.oauthStorage.getItem("roles")&&this.oauthStorage.getItem("roles").length>0){const n=this.oauthStorage.getItem("roles").split(",");for(const a in n)if(n[a]==c)return!0}return!1}}var Yn=g(8645);let Te=(()=>{class i{constructor(){this.errorSubject=new Yn.x}sendErrors(n){this.errorSubject.next(n)}clearErrors(){this.errorSubject.next(null)}getErrors(){return this.errorSubject.asObservable()}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),re=(()=>{class i{constructor(n,a){this.router=n,this.service=a}resolve(n,a){let o=n.paramMap.get("uuid");return this.service.getOrganizationById(o).pipe((0,Ce.q)(1),(0,ye.U)(d=>{if(d)return console.log(d),d;this.router.navigate(["/"])}))}static#t=this.\u0275fac=function(a){return new(a||i)(t.LFG(J.F0),t.LFG(P.Q))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rn=(()=>{class i{constructor(n,a,o,d){this.oauthStorage=n,this.router=a,this.service=o,this.errorService=d}resolve(n,a){let d,o=n.paramMap.get("uuid");return d=this.hasCurationPermission?this.service.getOrganizationById(o):this.service.getActiveOrganizationById(o),d.pipe((0,Ce.q)(1),(0,ye.U)(y=>{if(y){if(console.log(y),!y.ERROR)return y;console.log("Error desde el backend, ",y.ERROR),this.errorService.sendErrors({title:"Error desde el servidor",status:"402",message:y.ERROR}),this.router.navigate(["error"])}else console.log("Esto es cuando no hay hit")}))}get hasCurationPermission(){let n=new st(this.oauthStorage);return!(!n.hasPermissions("curator")&&!n.hasPermissions("admin"))}static#t=this.\u0275fac=function(a){return new(a||i)(t.LFG(k.Hy),t.LFG(J.F0),t.LFG(P.Q),t.LFG(Te))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gn=(()=>{class i{constructor(){this.title="",this.text=""}ngOnInit(){}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-card-svg"]],inputs:{title:"title",text:"text"},decls:7,vars:2,consts:[[1,"card-svg"],[1,"card-svg-content"],[1,"mat-h2",2,"text-align","center"],[1,"mat-h3",2,"text-align","center","padding","1em"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p",2)(3,"strong"),t._uU(4),t.qZA()(),t.TgZ(5,"p",3),t._uU(6),t.qZA()()()),2&a&&(t.xp6(4),t.Oqu(o.title),t.xp6(2),t.hij(" ",o.text," "))},styles:[".card-svg[_ngcontent-%COMP%]{position:relative;width:18em;margin:3em;border-radius:55px;box-shadow:24px 18px 24px 14px #00000012,5px 5px 19px 2px #00000017,0 0 #00000029;background-image:url(/assets/icons/getwaves.io.card.svg);background-repeat:no-repeat;background-position-y:bottom;background-size:30em}.card-svg[_ngcontent-%COMP%]   .card-svg-content[_ngcontent-%COMP%]{padding:16px 16px 5em}"]})}return i})();function Bn(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const d=t.CHM(n).index,y=t.oxw();return t.KtG(y.selectedPos=d)}),t.TgZ(1,"div",7),t._UZ(2,"img",8),t.TgZ(3,"span",9),t._uU(4),t.qZA()()()}if(2&i){const n=c.$implicit;t.xp6(2),t.s9C("src",n.icon,t.LSH),t.s9C("alt",n.label),t.xp6(2),t.Oqu(n.label)}}const Oe=function(){return{width:"95%"}};function Hn(i,c){if(1&i&&(t.TgZ(0,"p",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const n=t.oxw();t.Q6J("ngStyle.xs",t.DdM(4,Oe)),t.xp6(1),t.hij(" ",t.lcZ(2,2,n.info[n.selectedPos].text)," ")}}const Vn=function(){return{width:"70%"}},jn=function(){return{width:"90%"}},Kn=function(){return{width:"85%"}};let $n=(()=>{class i{constructor(n){this._transServ=n,this.title="",this.info=[],this.selectedPos=-1}ngOnInit(){this.info&&(this.selectedPos=0)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(U.sK))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-card-item-info"]],inputs:{title:"title",info:"info"},decls:7,vars:11,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"w-100",2,"margin-top","2em"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","space-around center","fxlayoutGap","25px",1,"card-info-container","w-50",3,"ngStyle.md","ngStyle.sm","ngStyle.xs"],[2,"width","100%","text-align","center"],[3,"ngStyle.xs"],["mat-list-item","","style","margin: 16px 0; display: flex; align-items: center;",3,"click",4,"ngFor","ngForOf"],["class","mat-h3 w-50",3,"ngStyle.xs",4,"ngIf"],["mat-list-item","",2,"margin","16px 0","display","flex","align-items","center",3,"click"],[2,"display","flex","align-items","center"],["width","40px","height","40px","matListAvatar","",2,"overflow","hidden","border-radius","100%",3,"src","alt"],[2,"margin-left","10px"],[1,"mat-h3","w-50",3,"ngStyle.xs"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"mat-action-list",3),t.YNc(5,Bn,5,3,"button",4),t.qZA(),t.YNc(6,Hn,3,5,"p",5),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("ngStyle.md",t.DdM(7,Vn))("ngStyle.sm",t.DdM(8,jn))("ngStyle.xs",t.DdM(9,Kn)),t.xp6(2),t.Oqu(o.title),t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(10,Oe)),t.xp6(1),t.Q6J("ngForOf",o.info),t.xp6(1),t.Q6J("ngIf",-1!=o.selectedPos))},dependencies:[C.sg,C.O5,H.lT,H.Tg,Z.xw,Z.Wh,G.Zl,U.X$],styles:[".w-100[_ngcontent-%COMP%]{width:100%}.w-50[_ngcontent-%COMP%]{width:50%}.card-info-container[_ngcontent-%COMP%]{border-radius:10px 80px;padding:1em;background:whitesmoke;box-shadow:4px 4px 8px #00000014}.card-info-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:16px;background:lavender;border-radius:6px}"]})}return i})();function Wn(i,c){if(1&i&&t._UZ(0,"ngx-charts-pie-chart",30),2&i){const n=t.oxw();t.Q6J("view",n.view)("scheme",n.colorScheme)("results",n.homeCharts.total)("gradient",n.gradient)("legend",n.showLegend)("legendPosition",n.legendPosition)("labels",n.showLabels)("doughnut",n.isDoughnut)}}function Xn(i,c){if(1&i&&t._UZ(0,"ngx-charts-bar-vertical",31),2&i){const n=t.oxw();t.Q6J("view",n.barView)("scheme",n.colorScheme)("results",n.homeCharts.type)("gradient",n.gradient)("legend",n.showLegend)("legendPosition",n.legendPosition)("xAxisLabel","")("yAxisLabel","")}}const ti=function(){return{width:"90%","margin-left":"1em","padding-top":"60px"}},ei=function(){return{width:"70%"}},ni=function(i){return[i,"contact"]},se=function(){return{width:"100%"}},ii=function(){return{"padding-bottom":"-40px"}};let ai=(()=>{class i{constructor(n,a,o,d,y,S,V){this.environment=n,this.router=a,this.activatedRoute=o,this._cuorService=d,this.httpClient=y,this.metadata=S,this.transServ=V,this.organizationsTotal=0,this.cubanOrganizationTotal=0,this.cubanOrganizations=void 0,this.homeCharts={type:[],total:[]},this.loadCharts=!1,this.view=[300,300],this.barView=[340,300],this.gradient=!1,this.showLegend=!0,this.showLabels=!1,this.isDoughnut=!1,this.legendPosition="below",this.colorScheme={domain:["#A9A9A9","#85E96E","#E3E96E","#E9AC6E","#E96E70","#E96EB6","#AE6EE9","#6F6EE9","#6EBBE9","#6EE9B5"]},this.showXAxis=!1,this.showYAxis=!1,this.harvesterInfo=[],this.homeCards=[],this.env=this.environment}ngOnInit(){this.harvesterInfo=[{label:"ONEI",icon:"assets/images/logo_onei.jpg",text:"CARD_ITEM_INFO_HARV_INFO_TEXT_1"},{label:"GRID",icon:"assets/images/grid.jpg",text:"CARD_ITEM_INFO_HARV_INFO_TEXT_2"},{label:"Wikidata",icon:"assets/images/wikidatawiki.png",text:"CARD_ITEM_INFO_HARV_INFO_TEXT_3"}],this.httpClient.get("assets/home-texts/es.json").subscribe(n=>{console.log(n),this.homeCards=n.cards,this.harvesterInfo=n.harvesterInfo,this.apiText=n.apiText}),console.log("fffff",this.harvesterInfo),this._cuorService.getOrganizations(null).subscribe({next:n=>{this.organizationsTotal=n.hits.total,this.cubanOrganizations=n.hits.hits.map(a=>a.metadata),console.log("orgs===",n.hits.hits.map(a=>a.metadata)),n.aggregations.country.buckets.forEach(a=>{a.key.localeCompare("Cuba")||(this.cubanOrganizationTotal=a.doc_count)}),n.aggregations.types.buckets.forEach(a=>{this.homeCharts.type.push({name:a.key,value:a.doc_count})}),this.homeCharts.total=[{name:"Internacionales",value:n.hits.total-this.cubanOrganizationTotal},{name:"Cubanas",value:this.cubanOrganizationTotal}],this.loadCharts=!0}})}queryChange(n){this.router.navigate(["search"],{relativeTo:this.activatedRoute,queryParams:{q:n,status:"active"},queryParamsHandling:""})}goAbout(){this.router.navigate(["about"],{relativeTo:this.activatedRoute,queryParams:{q:event,status:"active"},queryParamsHandling:""})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.qAh),t.Y36(J.F0),t.Y36(J.gz),t.Y36(P.Q),t.Y36(m.eN),t.Y36(u.Doh),t.Y36(U.sK))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],decls:68,vars:75,consts:[["fxLayout","column","fxLayoutAlign","center center"],["fxLayoutAlign","center center",1,"w-100","bg-primary-color"],[1,"pt-2em","pb-2em","ph-10"],[1,"mat-display-2",2,"margin","0","text-align","center","color","white"],["fxLayout","row","fxLayoutAlign","center center",1,"w-100"],[1,"w-80",2,"margin","1em 0"],[1,"w-100",3,"buttonColor","query","queryChange"],[1,"w-70",2,"margin-top","0.5em","margin-left","4em",3,"ngStyle.xs"],["markdown","",1,"mat-h2","text-format",3,"src"],["fxLayout","row","fxLayoutAlign","start",1,"w-100","pt-20"],["mat-raised-button","","color","primary",3,"click"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","center end",1,"w-100"],[3,"title","text"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","end center","fxLayoutGap","10%","fxLayoutGap.md","6%","fxLayoutGap.xs","16px",1,"w-100"],[1,"w-50","mat-h3",2,"margin-left","4em",3,"ngStyle.xs"],[1,"sceiba-a",3,"routerLink"],[1,"buble",3,"ngStyle.xs"],[1,"mat-h1"],["src","assets/icons/buble.svg","alt","",2,"width","18em",3,"ngStyle.xs"],[1,"w-100",3,"title","info"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","center center","fxLayoutGap","10%",2,"padding-top","4em","min-height","70vh"],["class","home-charts","style","margin-left: 2.5em; min-height: 400px",3,"view","scheme","results","gradient","legend","legendPosition","labels","doughnut",4,"ngIf"],["class","home-charts","style","margin-left: 2.5em; min-height: 450px",3,"view","scheme","results","gradient","legend","legendPosition","xAxisLabel","yAxisLabel",4,"ngIf"],[1,"prefooter",3,"ngStyle.xs"],[2,"width","32%","min-width","22em"],[1,"info-card"],["src","assets/icons/sceiba.svg","alt",""],[1,"mat-h3"],["src","assets/images/tocororo.png","alt",""],[2,"width","50%","margin-bottom","0px","padding","16px",3,"ngStyle.xs"],[1,"home-charts",2,"margin-left","2.5em","min-height","400px",3,"view","scheme","results","gradient","legend","legendPosition","labels","doughnut"],[1,"home-charts",2,"margin-left","2.5em","min-height","450px",3,"view","scheme","results","gradient","legend","legendPosition","xAxisLabel","yAxisLabel"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"toco-search-query-input",6),t.NdJ("queryChange",function(y){return o.queryChange(y)}),t.qZA()()(),t.TgZ(9,"div",7),t._UZ(10,"div",8),t.TgZ(11,"div",9)(12,"button",10),t.NdJ("click",function(){return o.goAbout()}),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"div",11),t._UZ(16,"app-card-svg",12),t.ALo(17,"translate"),t.ALo(18,"translate"),t._UZ(19,"app-card-svg",12),t.ALo(20,"translate"),t.ALo(21,"translate"),t._UZ(22,"app-card-svg",12),t.ALo(23,"translate"),t.ALo(24,"translate"),t.qZA(),t._UZ(25,"br")(26,"br"),t.TgZ(27,"div",13)(28,"p",14),t._uU(29),t.ALo(30,"translate"),t.TgZ(31,"a",15),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div",16)(37,"h1",17),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"img",18),t.qZA()(),t._UZ(41,"app-card-item-info",19),t.ALo(42,"translate"),t.TgZ(43,"div",20),t.YNc(44,Wn,1,8,"ngx-charts-pie-chart",21),t.YNc(45,Xn,1,8,"ngx-charts-bar-vertical",22),t.qZA(),t.TgZ(46,"div",23)(47,"div",24)(48,"div",25),t._UZ(49,"img",26),t.TgZ(50,"p",27),t._uU(51),t.ALo(52,"translate"),t.qZA()(),t.TgZ(53,"div",25),t._UZ(54,"img",28),t.TgZ(55,"p",27),t._uU(56),t.ALo(57,"translate"),t.qZA()()(),t.TgZ(58,"div",29)(59,"p",27),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"p",27),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"p",27),t._uU(66),t.ALo(67,"translate"),t.qZA()()()()),2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,31,"SCEIBA_ORGANIZACIONES_SUB")," "),t.xp6(4),t.Q6J("buttonColor","primary")("query",""),t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(67,ti)),t.xp6(1),t.Q6J("src","/assets/markdown/organizaciones/home-about."+("es"==o.transServ.currentLang?"es.md":"en.md")),t.xp6(3),t.hij(" ",t.lcZ(14,33,"CONOZCA_DE_NOS")," "),t.xp6(3),t.Q6J("title",t.lcZ(17,35,"CARD_SVG_TITLE_1"))("text",t.lcZ(18,37,"CARD_SVG_TEXT_1")),t.xp6(3),t.Q6J("title",t.lcZ(20,39,"CARD_SVG_TITLE_2"))("text",t.lcZ(21,41,"CARD_SVG_TEXT_2")),t.xp6(3),t.Q6J("title",t.lcZ(23,43,"CARD_SVG_TITLE_3"))("text",t.lcZ(24,45,"CARD_SVG_TEXT_3")),t.xp6(6),t.Q6J("ngStyle.xs",t.DdM(68,ei)),t.xp6(1),t.hij(" ",t.lcZ(30,47,"SERVICIOS_DE_INTERC_1")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(69,ni,o.env.organizations)),t.xp6(1),t.Oqu(t.lcZ(33,49,"SERVICIOS_DE_INTERC_2")),t.xp6(2),t.hij(" ",t.lcZ(35,51,"SERVICIOS_DE_INTERC_3")," "),t.xp6(2),t.Q6J("ngStyle.xs",t.DdM(71,se)),t.xp6(2),t.Oqu(t.lcZ(39,53,"SERVICIOS_DE_INTERC_4")),t.xp6(2),t.Q6J("ngStyle.xs",t.DdM(72,se)),t.xp6(1),t.Q6J("title",t.lcZ(42,55,"CARD_ITEM_INFO_HARV_TITLE"))("info",o.harvesterInfo),t.xp6(3),t.Q6J("ngIf",o.loadCharts),t.xp6(1),t.Q6J("ngIf",o.loadCharts),t.xp6(1),t.Q6J("ngStyle.xs",t.DdM(73,ii)),t.xp6(5),t.Oqu(t.lcZ(52,57,"DEFINICION_SCEIBA")),t.xp6(5),t.Oqu(t.lcZ(57,59,"DEFINICION_TOCORORO")),t.xp6(2),t.Q6J("ngStyle.xs",t.DdM(74,se)),t.xp6(2),t.Oqu(t.lcZ(61,61,"EXPLICACION_1")),t.xp6(3),t.Oqu(t.lcZ(64,63,"EXPLICACION_2")),t.xp6(3),t.Oqu(t.lcZ(67,65,"EXPLICACION_3")))},dependencies:[C.O5,X.K$,X.JU,N.lW,Z.xw,Z.SQ,Z.Wh,G.Zl,J.rH,u.d1Z,tt.lF,Gn,$n,U.X$],styles:[".w-100[_ngcontent-%COMP%]{width:100%}.w-70[_ngcontent-%COMP%]{width:70%}.w-50[_ngcontent-%COMP%]{width:50%}.buble[_ngcontent-%COMP%]{position:relative}.buble[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;text-align:center;right:130px;top:35px;background:white;border-radius:10px;padding:11px;box-shadow:3px 4px 8px 3px #0006,8px 10px 16px 6px #00000030,0 0 #00000042}.card-triangle[_ngcontent-%COMP%]{position:relative;width:25%;margin:1em 40px 1em 1em;padding:16px;border-style:solid;border-radius:6px}.triangle-right[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-top:75px solid transparent;border-bottom:75px solid transparent;right:-28px;top:0}@media (max-width: 599px){.triangle-right[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-top:160px solid transparent;border-bottom:160px solid transparent;bottom:-176px;right:47%;top:auto;transform:rotate(90deg)}}.prefooter[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;flex-wrap:wrap}.prefooter[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{position:relative;margin:76px 16px 16px;padding:16px;border-radius:6px;background-color:#f5f5f5;box-shadow:5px 5px 7px #efefef}.prefooter[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:-60px;left:8px;width:130px;padding:4px;background:whitesmoke;border-radius:50%}.prefooter[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 146px}.main-sceiba[_ngcontent-%COMP%]{background-image:url(/assets/icons/sceiba.top.svg);background-repeat:no-repeat;background-position:center top;background-size:contain;-webkit-backdrop-size:contain;-moz-background-size:contain;-o-background-size:contain}.a-grey[_ngcontent-%COMP%]{color:#000;text-decoration:none}.a-grey[_ngcontent-%COMP%]:hover{text-decoration:underline}.pt-5[_ngcontent-%COMP%]{padding-top:5px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-2em[_ngcontent-%COMP%]{padding-top:2em}.pb-20[_ngcontent-%COMP%]{padding-bottom:20px}.pb-2em[_ngcontent-%COMP%]{padding-bottom:2em}.ph-10[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.ph-30[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.w-20[_ngcontent-%COMP%]{width:25%;min-width:15em}.w-70[_ngcontent-%COMP%]{width:70%;min-width:15em}.w-80[_ngcontent-%COMP%]{width:80%;min-width:15em}.w-100[_ngcontent-%COMP%]{width:100%;min-width:15em}.text-center[_ngcontent-%COMP%]{text-align:center}.text-xxl[_ngcontent-%COMP%]{font-size:9vw}.text-xl[_ngcontent-%COMP%]{font-size:5vw}.text-m[_ngcontent-%COMP%]{font-size:4vw}.text-s[_ngcontent-%COMP%]{font-size:2.2vw}.text-xs[_ngcontent-%COMP%]{font-size:1.8vw}.right-stats[_ngcontent-%COMP%]{min-width:11em;padding:0 16px;margin:1em 0}.line-vertical[_ngcontent-%COMP%]{width:60%;border-left:solid 2px grey;align-self:normal!important;padding:16px}.aling-center[_ngcontent-%COMP%]{margin:.5em;max-width:8em;text-align:center}.w-img[_ngcontent-%COMP%]{width:100px;border-radius:50%}.mySlides[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{min-height:300px;position:relative;margin:0;padding-left:10px;padding-right:10px}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.65);color:#fff;padding:16px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:medium}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:40%;width:20px;height:20px;padding:16px;margin-top:-22px;color:#fff;transition:.6s ease;border-radius:50%}.next[_ngcontent-%COMP%]{right:0}.prev[_ngcontent-%COMP%]:hover, .next[_ngcontent-%COMP%]:hover{background-color:#000c}.text[_ngcontent-%COMP%]{color:#007f3f;font-size:xx-large;padding:10px 50px;text-align:center}.numbertext[_ngcontent-%COMP%]{color:#f2f2f2;font-size:12px;padding:8px 12px;position:absolute;top:0}.dot[_ngcontent-%COMP%]{cursor:pointer;height:15px;width:15px;margin:0 2px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color .6s ease}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{background-color:#717171}.fade[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_fade;-webkit-animation-duration:1.5s;animation-name:_ngcontent-%COMP%_fade;animation-duration:1.5s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.4}to{opacity:1}}@media (max-width: 650px){.text[_ngcontent-%COMP%]{font-size:medium}}@media only screen and (max-width: 667px){.text[_ngcontent-%COMP%]{bottom:40px}.container[_ngcontent-%COMP%]{min-height:150px}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{top:40%}.main-sceiba[_ngcontent-%COMP%]{background-image:url(/assets/icons/sceiba.top.xs.svg)}}.card3-header-image[_ngcontent-%COMP%]{background-image:url(/assets/images/proximamente/folder1.png);background-size:cover}.bgtranparent[_ngcontent-%COMP%]{background-color:#fffc}.cards-nexts[_ngcontent-%COMP%]{padding-top:20px;align-items:end;margin-right:0!important}.product1-image[_ngcontent-%COMP%], .product2-image[_ngcontent-%COMP%], .product3-image[_ngcontent-%COMP%], .product4-image[_ngcontent-%COMP%], .card1-header-image[_ngcontent-%COMP%], .card2-header-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/faro_neg.png);background-size:cover;width:50px;height:50px;border-radius:0}.card1-header-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/community-group-.svg)}.card2-header-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/chart_icon.svg)}.product2-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/map-location.svg)}.product3-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/brain_human_ideas.svg)}.product4-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/identificador_MES.png)}.white-title[_ngcontent-%COMP%]{color:#fff;font-size:x-large;text-align:center}"]})}return i})();var ce=g(2032);const oi=["inputElement"];function ri(i,c){if(1&i&&(t.TgZ(0,"mat-label"),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Oqu(n.label)}}const si=function(i){return{width:i,"min-width":"15em"}};let ci=(()=>{class i{constructor(){this.file=new t.vpe}ngOnInit(){null==this.placeholder&&(this.placeholder="Click para seleccionar un fichero"),null==this.width&&(this.width="100%"),null==this.accept&&(this.accept=".json"),null==this.enctype&&(this.enctype="multipart/form-data"),null==this.control&&(this.control=new x.p4)}handleFileInput(n){n&&n.item(0)?(this.placeholder=n.item(0).name,this.control.setValue(n.item(0)),this.file.emit(n.item(0))):(this.placeholder="Click para seleccionar un fichero",this.control.setValue(null),this.file.emit(null))}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-input-file"]],viewQuery:function(a,o){if(1&a&&t.Gf(oi,7),2&a){let d;t.iGM(d=t.CRH())&&(o.inputElement=d.first)}},inputs:{accept:"accept",enctype:"enctype",control:"control",placeholder:"placeholder",width:"width",label:"label"},outputs:{file:"file"},decls:7,vars:6,consts:[["appearance","outline",3,"ngStyle"],[4,"ngIf"],["matInput","","readonly","",3,"ngModel","ngModelChange"],["matSuffix",""],["id","inputElement","type","file","enctype","multipart/form-data",3,"accept","change"],["inputElement",""]],template:function(a,o){1&a&&(t.TgZ(0,"mat-form-field",0),t.YNc(1,ri,2,1,"mat-label",1),t.TgZ(2,"input",2),t.NdJ("ngModelChange",function(y){return o.placeholder=y}),t.qZA(),t.TgZ(3,"mat-icon",3),t._uU(4,"file_upload"),t.qZA(),t.TgZ(5,"input",4,5),t.NdJ("change",function(y){return o.handleFileInput(y.target.files)}),t.qZA()()),2&a&&(t.Q6J("ngStyle",t.VKq(4,si,o.width)),t.xp6(1),t.Q6J("ngIf",o.label),t.xp6(1),t.Q6J("ngModel",o.placeholder),t.xp6(3),t.s9C("accept",o.accept))},dependencies:[C.O5,C.PC,z.Hw,ce.Nt,D.KE,D.hX,D.R9,x.Fj,x.JJ,x.On,G.Zl],styles:["#inputElement[_ngcontent-%COMP%]{position:absolute;z-index:9;opacity:0;height:35px;width:35px;right:-28px;top:1px;cursor:pointer}"]})}return i})(),li=(()=>{class i{constructor(n,a,o){this.orgservice=n,this._builder=a,this._snackbar=o}ngOnInit(){this.importFormGroup=this._builder.group({grid:new x.p4(null,this.isFile),C_orga:new x.p4(null,this.isFile),C_Uniones:new x.p4(null,this.isFile),RE0420:new x.p4(null,this.isFile),CNOA0420:new x.p4(null,this.isFile),ME0420:new x.p4(null,this.isFile),dpa:new x.p4(null,this.isFile)})}isFile(n){return n.value instanceof File?null:{invalid:"El valor no es un fichero"}}import(){if(console.log(this.importFormGroup),this.importFormGroup.valid){const n=new FormData;n.append("grid",this.importFormGroup.value.grid,this.importFormGroup.value.grid.name),n.append("C_orga",this.importFormGroup.value.C_orga,this.importFormGroup.value.C_orga.name),n.append("C_Uniones",this.importFormGroup.value.C_Uniones,this.importFormGroup.value.C_Uniones.name),n.append("RE0420",this.importFormGroup.value.RE0420,this.importFormGroup.value.RE0420.name),n.append("CNOA0420",this.importFormGroup.value.CNOA0420,this.importFormGroup.value.CNOA0420.name),n.append("ME0420",this.importFormGroup.value.ME0420,this.importFormGroup.value.ME0420.name),n.append("dpa",this.importFormGroup.value.dpa,this.importFormGroup.value.dpa.name),this.orgservice.fileUpload(n).subscribe({next:a=>{console.log(a)}})}else new u.pF$(this._snackbar).showMessage(u.GL1.OK,"Debe importar todos los ficheros")}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(P.Q),t.Y36(x.QS),t.Y36(R.ux))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-import"]],decls:15,vars:21,consts:[["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","space-between center",2,"height","80px","padding","0 16px"],[1,"mat-h2"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","space-between center"],[1,"input-width",3,"label","accept","control"],["align","start"],["mat-stroked-button","","color","primary",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"Importar ficheros de GRID y la ONEI"),t.qZA()(),t.TgZ(3,"mat-card")(4,"mat-card-content",2),t._UZ(5,"app-input-file",3)(6,"app-input-file",3)(7,"app-input-file",3)(8,"app-input-file",3)(9,"app-input-file",3)(10,"app-input-file",3)(11,"app-input-file",3),t.qZA(),t.TgZ(12,"mat-card-actions",4)(13,"button",5),t.NdJ("click",function(){return o.import()}),t._uU(14,"Importar"),t.qZA()()()),2&a&&(t.xp6(5),t.Q6J("label","Fichero de GRID")("accept",".json")("control",o.importFormGroup.controls.grid),t.xp6(1),t.Q6J("label","Fichero de la ONEI con organismos superiores (C_orga)")("accept",".xlsx")("control",o.importFormGroup.controls.C_orga),t.xp6(1),t.Q6J("label","Fichero de la ONEI con organismos (C_Uniones)")("accept",".xlsx")("control",o.importFormGroup.controls.C_Uniones),t.xp6(1),t.Q6J("label","Fichero de la ONEI con Organismos (RE0420)")("accept",".xlsx")("control",o.importFormGroup.controls.RE0420),t.xp6(1),t.Q6J("label","Fichero de la ONEI con Organismos (CNOA0420)")("accept",".xlsx")("control",o.importFormGroup.controls.CNOA0420),t.xp6(1),t.Q6J("label","Fichero de la ONEI con Organismos (ME0420)")("accept",".xlsx")("control",o.importFormGroup.controls.ME0420),t.xp6(1),t.Q6J("label","Fichero de la ONEI con Organismos (dpa.json)")("accept",".json")("control",o.importFormGroup.controls.dpa))},dependencies:[N.lW,O.a8,O.hq,O.dn,Z.xw,Z.Wh,ci],styles:["#inputElement[_ngcontent-%COMP%]{position:absolute;z-index:9;opacity:0;height:35px;width:35px;right:-35px;top:2px;cursor:pointer}.input-width[_ngcontent-%COMP%]{width:49.5%}@media (max-width: 599px){.input-width[_ngcontent-%COMP%]{width:100%}}"]})}return i})(),pi=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-notifications"]],decls:0,vars:0,template:function(a,o){}})}return i})();const di=["orgeditform"];function mi(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",11),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.update(!0))}),t._uU(2," Guardar "),t.qZA(),t.TgZ(3,"button",12),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.update())}),t._uU(4," Guardar y seguir editando "),t.qZA(),t.BQk()}}function gi(i,c){1&i&&(t.TgZ(0,"button",13),t._uU(1,"Guardar"),t.qZA(),t.TgZ(2,"button",14),t._uU(3," Guardar y seguir editando "),t.qZA())}function ui(i,c){if(1&i&&(t.ynx(0),t.YNc(1,mi,5,0,"ng-container",8),t.YNc(2,gi,4,0,"ng-template",null,10,t.W1O),t.BQk()),2&i){const n=t.MAs(3),a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.isValidForm())("ngIfElse",n)}}function _i(i,c){1&i&&t.GkF(0)}function hi(i,c){1&i&&(t.TgZ(0,"button",13),t._uU(1," Guardar y enviar solicitud "),t.qZA())}function fi(i,c){if(1&i){const n=t.EpF();t.YNc(0,_i,1,0,"ng-container",8),t.YNc(1,hi,2,0,"ng-template",null,10,t.W1O),t.TgZ(3,"button",11),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.update(!0))}),t._uU(4," Guardar y enviar solicitud "),t.qZA()}if(2&i){const n=t.MAs(2),a=t.oxw();t.Q6J("ngIf",a.isValidForm())("ngIfElse",n)}}const xi=function(i,c){return[i,c,"view"]};let Ze=(()=>{class i{constructor(n,a,o,d,y,S){this._env=n,this._activatedRoute=a,this._dialog=o,this._snackBar=d,this._router=y,this._orgService=S,this.loading=!0,this.env=this._env}ngOnInit(){this._activatedRoute.url.subscribe(n=>{this.pathname=n[1].path}),this._activatedRoute.data.subscribe(n=>{this.org=new u.cpi,this.org.deepcopy(n.org.metadata),this.loading=!1})}update(n=!1){this.loading=!0,this._orgEditForm.fillObjectControls();let a=new u.cpi;console.log(this._orgEditForm.orgFormGroup.value),a.deepcopy(this._orgEditForm.orgFormGroup.value),a.name=this._orgEditForm.orgFormGroup.controls.name.value,console.log(a),this._orgService.editOrganization(a).subscribe({next:o=>{console.log("Comprobando result",o),new u.pF$(null,this._dialog).showMessage(u.GL1.OK,"La Organizaci\xf3n fue modificada correctamente",u.PWx.dialog,"Operaci\xf3n exitosa","50%"),this.loading=!1,n&&this._router.navigate([this.env.organizations,this.org.id,"view"])},error:o=>{console.log(o),new u.pF$(this._snackBar).showMessage(u.GL1.serverError,o.message),this.loading=!1},complete:()=>this.loading=!1})}isValidForm(){try{return this._orgEditForm.isValidForm()}catch(n){console.log(n)}return!1}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.qAh),t.Y36(J.gz),t.Y36(Q.uw),t.Y36(R.ux),t.Y36(J.F0),t.Y36(P.Q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-org-edit"]],viewQuery:function(a,o){if(1&a&&t.Gf(di,5),2&a){let d;t.iGM(d=t.CRH())&&(o._orgEditForm=d.first)}},inputs:{loading:"loading"},decls:15,vars:10,consts:[[3,"loading"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","start center",2,"height","80px","padding","0 16px"],["mat-button","","matTooltip","Ver la Organizaci\xf3n",3,"routerLink"],[1,"mat-18"],[1,"mat-h2",2,"margin","0"],[3,"org","loading"],["orgeditform",""],["align","start"],[4,"ngIf","ngIfElse"],["containerRequestChanges",""],["templateButtonUpdate",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary","disabled",""],["mat-raised-button","","color","accent","disabled",""]],template:function(a,o){if(1&a&&(t._UZ(0,"toco-progress",0),t.TgZ(1,"div",1)(2,"button",2)(3,"mat-icon",3),t._uU(4,"visibility"),t.qZA()(),t.TgZ(5,"span",4),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card")(8,"mat-card-content"),t._UZ(9,"org-edit-form",5,6),t.qZA(),t.TgZ(11,"mat-card-actions",7),t.YNc(12,ui,4,2,"ng-container",8),t.YNc(13,fi,5,2,"ng-template",null,9,t.W1O),t.qZA()()),2&a){const d=t.MAs(14);t.Q6J("loading",o.loading),t.xp6(2),t.Q6J("routerLink",t.WLB(7,xi,o.env.organizations,o.org.id)),t.xp6(4),t.hij("Editando: ",o.org.name,""),t.xp6(3),t.Q6J("org",o.org)("loading",o.loading),t.xp6(3),t.Q6J("ngIf","edit"===o.pathname)("ngIfElse",d)}},dependencies:[C.O5,N.lW,q.gM,z.Hw,O.a8,O.hq,O.dn,u.t15,Z.xw,Z.Wh,J.rH,et.Ge],styles:[".w-100{width:100%}.w-50{width:49%}.w-45{width:45%}.mb-2{margin-bottom:2em}.mat-list-item-content{width:100%;justify-content:space-between}\n"],encapsulation:2})}return i})();const bi=["orgeditform"];function vi(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",11),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.update(!0))}),t._uU(2,"Guardar cambios"),t.qZA(),t.TgZ(3,"button",12),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.update())}),t._uU(4,"Marcar como atendida"),t.qZA(),t.BQk()}}function Ci(i,c){1&i&&(t.TgZ(0,"button",13),t._uU(1,"Guardar cambios"),t.qZA(),t.TgZ(2,"button",13),t._uU(3,"Marcar como atendida"),t.qZA())}function yi(i,c){if(1&i&&(t.ynx(0),t.YNc(1,vi,5,0,"ng-container",8),t.YNc(2,Ci,4,0,"ng-template",null,10,t.W1O),t.BQk()),2&i){const n=t.MAs(3),a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.isValidForm())("ngIfElse",n)}}function wi(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",14),t._uU(1,"Atender solicitud"),t.qZA(),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.openCommentDialog())}),t._uU(3,"Rechazar solicitud"),t.qZA()}}const Ti=function(i,c){return[i,c,"view"]};let Oi=(()=>{class i{constructor(n,a,o,d,y,S,V){this._env=n,this._activatedRoute=a,this._dialog=o,this._snackBar=d,this._router=y,this._orgService=S,this.dialog=V,this.loading=!0,this.env=this._env}ngOnInit(){this._activatedRoute.data.subscribe(n=>{this.org=new u.cpi,this.org.deepcopy(n.org.metadata),this.loading=!1})}openCommentDialog(){this.dialog.open(Zi,{width:"60%",data:{comment:this.comment}}).afterClosed().subscribe(a=>{console.log("The dialog was closed",a),this.comment=a})}update(n=!1){this.loading=!0,this._orgEditForm.fillObjectControls();const a=new u.cpi;a.deepcopy(this._orgEditForm.orgFormGroup.value),a.name=this._orgEditForm.orgFormGroup.controls.name.value,this._orgService.editOrganization(a).subscribe({next:o=>{console.log(o.metadata);const d=new u.cpi;d.deepcopy(o.metadata),this.org=d,this._orgEditForm.orgFormGroup.patchValue(this.org),this._orgEditForm.initData(),new u.pF$(null,this._dialog).showMessage(u.GL1.OK,"La Organizaci\xf3n fue modificada correctamente",u.PWx.dialog,"Operaci\xf3n exitosa","50%"),n&&this._router.navigate(["/"+this.org.id+"/view"])},error:o=>{console.log(o),new u.pF$(this._snackBar).showMessage(u.GL1.OK,o.message),this.loading=!1},complete:()=>this.loading=!1})}isValidForm(){try{return this._orgEditForm.isValidForm()}catch(n){console.log(n)}return!1}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.qAh),t.Y36(J.gz),t.Y36(Q.uw),t.Y36(R.ux),t.Y36(J.F0),t.Y36(P.Q),t.Y36(Q.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-org-reviewer"]],viewQuery:function(a,o){if(1&a&&t.Gf(bi,5),2&a){let d;t.iGM(d=t.CRH())&&(o._orgEditForm=d.first)}},inputs:{loading:"loading"},decls:15,vars:11,consts:[[3,"loading"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","start center",2,"height","80px","padding","0 16px"],["mat-button","","matTooltip","Ver la Organizaci\xf3n",3,"routerLink"],[1,"mat-18"],[1,"mat-h2",2,"margin","0"],[3,"org","loading","editDisabled"],["orgeditform",""],["align","start"],[4,"ngIf","ngIfElse"],["containerReviewChanges",""],["templateButtonUpdate",""],["mat-raised-button","","color","primary","matTooltip","Guardar cambios y seguir editando",3,"click"],["mat-raised-button","","color","accent","matTooltip","Una vez marcada como atendida no podran realizarse m\xe1s cambios",3,"click"],["mat-raised-button","","color","accent","disabled",""],["mat-raised-button","","color","primary"],["mat-raised-button","","color","primary",3,"click"]],template:function(a,o){if(1&a&&(t._UZ(0,"toco-progress",0),t.TgZ(1,"div",1)(2,"button",2)(3,"mat-icon",3),t._uU(4,"visibility"),t.qZA()(),t.TgZ(5,"span",4),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card")(8,"mat-card-content"),t._UZ(9,"org-edit-form",5,6),t.qZA(),t.TgZ(11,"mat-card-actions",7),t.YNc(12,yi,4,2,"ng-container",8),t.YNc(13,wi,4,0,"ng-template",null,9,t.W1O),t.qZA()()),2&a){const d=t.MAs(14);t.Q6J("loading",o.loading),t.xp6(2),t.Q6J("routerLink",t.WLB(8,Ti,o.env.organizations,o.org.id)),t.xp6(4),t.hij("Solicitud de cambios en los metadatos para: ",o.org.name,""),t.xp6(3),t.Q6J("org",o.org)("loading",o.loading)("editDisabled",!0),t.xp6(3),t.Q6J("ngIf",!1)("ngIfElse",d)}},dependencies:[C.O5,N.lW,q.gM,z.Hw,O.a8,O.hq,O.dn,u.t15,Z.xw,Z.Wh,J.rH,et.Ge]})}return i})(),Zi=(()=>{class i{constructor(n,a){this.dialogRef=n,this.data=a}onNoClick(){this.dialogRef.close()}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(Q.so),t.Y36(Q.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["comment-dialog"]],decls:12,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"h1",0),t._uU(1,"Por favor escriba un comentario donde explique porque fue rechazada la solicitud "),t.qZA(),t.TgZ(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),t._uU(5,"Comentario"),t.qZA(),t.TgZ(6,"textarea",3),t.NdJ("ngModelChange",function(y){return o.data.comment=y}),t.qZA()()(),t.TgZ(7,"div",4)(8,"button",5),t._uU(9,"Enviar"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.onNoClick()}),t._uU(11,"Cancelar"),t.qZA()()),2&a&&(t.xp6(6),t.Q6J("ngModel",o.data.comment),t.xp6(2),t.Q6J("mat-dialog-close",o.data.comment))},dependencies:[N.lW,ce.Nt,D.KE,D.hX,Q.ZT,Q.uh,Q.xY,Q.H8,x.Fj,x.JJ,x.On],encapsulation:2})}return i})();var Ai=g(6593),Fi=g(5986);function Ii(i,c){1&i&&t._UZ(0,"div")}function Mi(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.changeView())}),t.TgZ(1,"mat-icon",8),t._uU(2,"exit_to_app"),t.qZA()()}}const Ji=function(i,c){return[i,c,"edit"]};function Ei(i,c){if(1&i&&(t.TgZ(0,"button",11)(1,"mat-icon",8),t._uU(2,"mode_edit"),t.qZA()()),2&i){const n=t.oxw(2);t.Q6J("routerLink",t.WLB(1,Ji,n.env.organizations,n.org.id))}}function Ni(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.changeView())}),t._UZ(1,"mat-icon",13),t.qZA()}}function ki(i,c){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ei,3,4,"button",9),t.qZA(),t.TgZ(2,"div"),t.YNc(3,Ni,2,0,"button",10),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.hasPermission),t.xp6(2),t.Q6J("ngIf","true")}}function Qi(i,c){1&i&&t._UZ(0,"div")}function Si(i,c){if(1&i&&t._UZ(0,"wiki-org-employes-profile",14),2&i){const n=t.oxw();t.Q6J("data_viewer",n.data)}}function Ui(i,c){if(1&i&&(t.TgZ(0,"mat-form-field",26)(1,"mat-label"),t._uU(2,"Descripci\xf3n"),t.qZA(),t.TgZ(3,"textarea",27),t._uU(4,"          "),t.qZA(),t.TgZ(5,"button",28),t._uU(6,"Enviar"),t.qZA()()),2&i){const n=t.oxw(3);t.xp6(5),t.Q6J("disabled",!n.form.valid)}}function qi(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"div")(1,"toco-org-search",29),t.NdJ("selectedOrg",function(o){t.CHM(n);const d=t.oxw(3);return t.KtG(d.receivingMaster(o))})("keyup",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.loading=!0)}),t.qZA(),t.TgZ(2,"mat-form-field",26)(3,"mat-label"),t._uU(4,"Descripci\xf3n"),t.qZA(),t.TgZ(5,"textarea",30),t._uU(6,"          "),t.qZA(),t.TgZ(7,"button",28),t._uU(8,"Enviar"),t.qZA()()()}if(2&i){const n=t.oxw(3);t.xp6(1),t.Q6J("orgFilter",n.orgFilter)("label","Organizaci\xf3n que se considera duplicado")("cleaning","false")("appearance","outline"),t.xp6(6),t.Q6J("disabled",!n.form.valid)}}function zi(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"section",18)(1,"div",19)(2,"span",20),t._uU(3,"report_problem"),t.qZA(),t.TgZ(4,"h2"),t._uU(5,"Reportar anomal\xedas o posibles duplicados: "),t.qZA()(),t.TgZ(6,"div",21)(7,"mat-checkbox",22),t.NdJ("change",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.onAnomalyChange(o))}),t._uU(8,"Anomal\xeda"),t.qZA(),t.TgZ(9,"mat-checkbox",22),t.NdJ("change",function(o){t.CHM(n);const d=t.oxw(2);return t.KtG(d.onDuplicateChange(o))}),t._uU(10,"Posible duplicado"),t.qZA()(),t.TgZ(11,"form",23),t.NdJ("ngSubmit",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onSubmitReport())}),t.YNc(12,Ui,7,1,"mat-form-field",24),t.YNc(13,qi,9,5,"div",25),t.qZA()()}if(2&i){const n=t.oxw(2);t.xp6(7),t.Q6J("checked",n.isAnomaly),t.xp6(2),t.Q6J("checked",n.isDuplicate),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("ngIf",!0===n.isAnomaly),t.xp6(1),t.Q6J("ngIf",!0===n.isDuplicate)}}function Di(i,c){if(1&i&&(t.TgZ(0,"div",15),t._UZ(1,"org-view",16),t.YNc(2,zi,14,5,"section",17),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("org",n.org),t.xp6(1),t.Q6J("ngIf",!n.user)}}let Li=(()=>{class i{constructor(n,a,o,d,y,S,V){this._env=n,this._activatedRoute=a,this.router=o,this.iconRegistry=d,this.sanitizer=y,this.metadata=S,this.oauthStorage=V,this.org=null,this.isAnomaly=!0,this.isDuplicate=!1,this.orgFilter=[{type:"country",value:"Cuba"},{type:"status",value:"active"}],this.form=new x.nJ({anomalyDescription:new x.p4("",x.kI.required),duplicateDescription:new x.p4("")}),this.loading=!0,this.view_type=!0,this.data="",this.identifiers=[],this.env=this._env}ngOnInit(){this.iconRegistry.addSvgIcon("wikidata",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/icons/Wikidata-logo.svg")),this._activatedRoute.data.subscribe(n=>{this.org=n.org.metadata,this.loading=!1,this.identifiers=n.org.metadata.identifiers.map(a=>[{text:a.idtype,style:"text"},{text:a.value,style:"text"}])}),this._activatedRoute.data.subscribe(n=>{this.metadata.meta.updateTag({name:"DC.title",content:this.org.name}),this.metadata.meta.updateTag({name:"description",content:"Metadatos de organizaci\xf3n en Sistema de identificaci\xf3n de Organizaciones Cubanas"}),this.metadata.meta.updateTag({name:"generator",content:"Sceiba en Organizaciones Cubanas Proyecto Vlir Joint"}),this.metadata.meta.updateTag({name:"keywords",content:"Sceiba, organizaciones, identificaci\xf3n persistente, Cuba"}),this.metadata.meta.updateTag({name:"robots",content:"index,follow"}),console.log("entrando en metadata")})}receivingMaster(n){this.loading=!1,this.masterOrganization=new u.cpi,this.masterOrganization.deepcopy(n),this.masterFormControl.setValue(n)}get hasPermission(){const n=new st(this.oauthStorage);return!(!n.hasPermissions("curator")&&!n.hasPermissions("admin"))}showWikidataButton(){return!!this.org&&void 0!==this.org.identifiers.find(n=>"wkdata"===n.idtype)}changeView(){this.view_type=!this.view_type,this.showWikidata()}showWikidata(){this.data={QID:this.org.identifiers.find(n=>"wkdata"===n.idtype).value,label:this.org.labels.find(n=>"es"===n.iso639).label,lang:this.org.labels.find(n=>"es"===n.iso639).iso639},console.log(this.data)}onAnomalyChange(n){this.isAnomaly=n.checked,this.isDuplicate=!n.checked}onDuplicateChange(n){this.isDuplicate=n.checked,this.isAnomaly=!n.checked}onSubmitReport(){console.log("date===",new Date),console.log("appHost===",`${this.env.appHost}/${this.org.id}/view`),this.isAnomaly&&console.log("anomalyDescription===",this.form.get("anomalyDescription").value),this.isDuplicate&&console.log("duplicateDescription===",this.form.get("duplicateDescription").value)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.qAh),t.Y36(J.gz),t.Y36(J.F0),t.Y36(z.jv),t.Y36(Ai.H7),t.Y36(u.Doh),t.Y36(k.Hy))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-org-view"]],decls:12,vars:7,consts:[[3,"loading"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","space-between center",2,"height","80px","padding","0 16px"],[4,"ngIf","ngIfThen","ngIfElse"],["view_wikidata_button",""],["view_cuor_button",""],["view_wikidata",""],["view_cuor",""],["mat-button","","matTooltip","Regresar",3,"click"],[1,"mat-18"],["mat-button","","matTooltip","Editar la Organizaci\xf3n",3,"routerLink",4,"ngIf"],["mat-button","","matTooltip","Ver informaci\xf3n de Wikidata",3,"click",4,"ngIf"],["mat-button","","matTooltip","Editar la Organizaci\xf3n",3,"routerLink"],["mat-button","","matTooltip","Ver informaci\xf3n de Wikidata",3,"click"],["svgIcon","wikidata",1,"mat-18"],[3,"data_viewer"],["id","content"],[3,"org"],["class","form-container",4,"ngIf"],[1,"form-container"],[2,"display","flex","align-items","center"],[1,"material-icons",2,"margin-right","10px","color","orange","font-size","30px"],[2,"display","flex","align-items","center","padding","0 30px","font-size","16px"],[2,"margin","0 10px",3,"checked","change"],[3,"formGroup","ngSubmit"],["style","width: 100%; margin-left: 30px; padding-top: 10px","appearance","outline",4,"ngIf"],[4,"ngIf"],["appearance","outline",2,"width","100%","margin-left","30px","padding-top","10px"],["matInput","","placeholder","Describa la anomal\xeda que desea reportar aqu\xed","formControlName","anomalyDescription","rows","10",2,"font-size","16px"],["type","submit","mat-raised-button","",3,"disabled"],[2,"margin-left","30px",3,"orgFilter","label","cleaning","appearance","selectedOrg","keyup"],["matInput","","placeholder","Describa la organizaci\xf3n duplicada aqu\xed (opcional)","formControlName","duplicateDescription","rows","10",2,"font-size","16px"]],template:function(a,o){if(1&a&&(t._UZ(0,"toco-progress",0),t.TgZ(1,"div",1),t.YNc(2,Ii,1,0,"div",2),t.YNc(3,Mi,3,0,"ng-template",null,3,t.W1O),t.YNc(5,ki,4,2,"ng-template",null,4,t.W1O),t.qZA(),t.YNc(7,Qi,1,0,"div",2),t.YNc(8,Si,1,1,"ng-template",null,5,t.W1O),t.YNc(10,Di,3,2,"ng-template",null,6,t.W1O)),2&a){const d=t.MAs(4),y=t.MAs(6),S=t.MAs(9),V=t.MAs(11);t.Q6J("loading",!o.org),t.xp6(2),t.Q6J("ngIf",o.view_type)("ngIfThen",y)("ngIfElse",d),t.xp6(5),t.Q6J("ngIf",o.view_type)("ngIfThen",V)("ngIfElse",S)}},dependencies:[C.O5,N.lW,q.gM,z.Hw,ce.Nt,D.KE,D.hX,Fi.oG,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,u.t15,u.d9g,Z.xw,Z.Wh,J.rH,ve],styles:[".request-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;padding:20px;margin:30px 0 30px 8px;border-radius:15px;width:41%;background-color:#e9e9e9;font-size:16px}.request-header[_ngcontent-%COMP%]{display:flex;align-items:center;color:orange;padding:0 16px;margin-bottom:15px}@media (max-width: 780px){.request-container[_ngcontent-%COMP%]{width:90%;padding:10px;margin-left:8px}}"]})}return i})();var ct=g(5313),Pi=g(6676),le=g(1476);function Yi(i,c){if(1&i&&(t.TgZ(0,"th",9),t._uU(1),t.qZA()),2&i){const n=t.oxw(),a=n.$implicit,o=n.index,d=t.oxw();t.Q6J("id",a+"-th"),t.xp6(1),t.hij(" ",d.columnsLabels[o]," ")}}function Ri(i,c){1&i&&(t.ynx(0),t.TgZ(1,"div",12)(2,"button",13)(3,"mat-icon",14),t._uU(4,"visibility"),t.qZA()(),t.TgZ(5,"button",15)(6,"mat-icon",14),t._uU(7,"fact_check"),t.qZA()(),t.TgZ(8,"button",16)(9,"mat-icon",14),t._uU(10,"cancel_presentation"),t.qZA()()(),t.BQk())}function Gi(i,c){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const n=t.oxw().$implicit,a=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.moment(n[a]).format("ll")," ")}}function Bi(i,c){if(1&i&&(t.TgZ(0,"td",10),t.YNc(1,Ri,11,0,"ng-container",11),t.YNc(2,Gi,2,1,"span",11),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&i){const n=c.$implicit,a=t.oxw().$implicit;t.Q6J("id",a+"-td"),t.xp6(1),t.Q6J("ngIf","action"===a),t.xp6(1),t.Q6J("ngIf","createdAt"===a),t.xp6(2),t.hij(" ",n[a]," ")}}function Hi(i,c){1&i&&t._UZ(0,"td",17)}function Vi(i,c){1&i&&(t.ynx(0,5),t.YNc(1,Yi,2,2,"th",6),t.YNc(2,Bi,5,4,"td",7),t.YNc(3,Hi,1,0,"td",8),t.BQk()),2&i&&t.s9C("matColumnDef",c.$implicit)}function ji(i,c){1&i&&(t.TgZ(0,"div",18)(1,"mat-icon",19),t._uU(2,"receipt_long"),t.qZA(),t.TgZ(3,"h1",20),t._uU(4,"SIN SOLICITUDES"),t.qZA()())}const Ki=function(){return{padding:"2em 1em 0 1em",overflow:"auto"}};let $i=(()=>{class i{constructor(){this.dataSource=new ct.by,this.columnsToDisplay=["description","classification","emiter","createdAt","actions"],this.columnsLabels=["Organizaci\xf3n","Curador","Solicitante","Creada",""],this.moment=Pi,this.pageSizeOptions=[5,10,15,20]}ngOnInit(){}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-request-changes-list"]],viewQuery:function(a,o){if(1&a&&t.Gf(le.NW,7),2&a){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first)}},decls:5,vars:8,consts:[[3,"ngStyle"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["class","empty-requests-container",4,"ngIf"],[3,"length","pageSize","pageSizeOptions"],[3,"matColumnDef"],["mat-header-cell","",3,"id",4,"matHeaderCellDef"],["class","element-row-header","mat-cell","",3,"id",4,"matCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",3,"id"],["mat-cell","",1,"element-row-header",3,"id"],[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between"],["mat-button","","color","primary","matTooltip","Ver detalles"],[1,"mat-16"],["mat-button","","color","primary","matTooltip","Marcar como acepatada"],["mat-button","","disabled","","color","primary","matTooltip","Marcar como rechazada"],["mat-cell",""],[1,"empty-requests-container"],[1,"empty-requests-icon"],[2,"color","grey"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"table",1),t.YNc(2,Vi,4,1,"ng-container",2),t.qZA(),t.YNc(3,ji,5,0,"div",3),t._UZ(4,"mat-paginator",4),t.qZA()),2&a&&(t.Q6J("ngStyle",t.DdM(7,Ki)),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(1),t.Q6J("ngForOf",o.columnsToDisplay),t.xp6(1),t.Q6J("ngIf",0===o.paginator.length),t.xp6(1),t.Q6J("length",o.paginator.length)("pageSize",o.paginator.pageSize)("pageSizeOptions",o.pageSizeOptions))},dependencies:[C.sg,C.O5,C.PC,N.lW,q.gM,z.Hw,ct.BZ,ct.fO,ct.w1,ct.Dz,ct.ge,ct.ev,le.NW,Z.xw,Z.Wh,G.Zl],styles:[".empty-requests-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px}.empty-requests-icon[_ngcontent-%COMP%]{color:gray;font-size:6em;height:100px;width:100px}"]})}return i})();var lt=g(6825),pe=g(2651),de=g(1596),Ae=function(i){return i.polar="Polar",i.verticalBar="Vertical Bar",i.pieGrid="Pie Grid",i.gauge="Gauge",i}(Ae||{}),Wi=g(1994),Xi=g(2066);const ta=function(i,c){return[i,c,"edit"]};function ea(i,c){if(1&i&&(t.TgZ(0,"span",11)(1,"mat-icon",12),t._uU(2,"mode_edit"),t.qZA()()),2&i){const n=t.oxw().$implicit,a=t.oxw(2);t.Q6J("routerLink",t.WLB(1,ta,a.env.organizations,n.metadata.id))}}function na(i,c){if(1&i&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(1),t.hij("Fundada en: ",n.metadata.established,"")}}function ia(i,c){1&i&&(t.ynx(0),t._uU(1," | "),t.BQk())}function aa(i,c){if(1&i&&(t.TgZ(0,"li",16),t._uU(1),t.YNc(2,ia,2,0,"ng-container",17),t.qZA()),2&i){const n=c.$implicit,a=c.index,o=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n," "),t.xp6(1),t.Q6J("ngIf",a<o.metadata.types.length-1)}}function oa(i,c){if(1&i&&(t.TgZ(0,"ul",14)(1,"span"),t._uU(2,"Tipos:"),t.qZA(),t.YNc(3,aa,3,2,"li",15),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",n.metadata.types)}}function ra(i,c){1&i&&(t.ynx(0),t._uU(1," | "),t.BQk())}function sa(i,c){if(1&i&&(t.TgZ(0,"li",16),t._uU(1),t.YNc(2,ra,2,0,"ng-container",17),t.qZA()),2&i){const n=c.$implicit,a=c.index,o=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n," "),t.xp6(1),t.Q6J("ngIf",a<o.metadata.acronyms.length-1)}}function ca(i,c){if(1&i&&(t.TgZ(0,"ul",14)(1,"span"),t._uU(2,"Acr\xf3nimos:"),t.qZA(),t.YNc(3,sa,3,2,"li",15),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",n.metadata.acronyms)}}function la(i,c){1&i&&(t.ynx(0),t._uU(1," | "),t.BQk())}function pa(i,c){if(1&i&&(t.TgZ(0,"li",16),t._uU(1),t.YNc(2,la,2,0,"ng-container",17),t.qZA()),2&i){const n=c.$implicit,a=c.index,o=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n," "),t.xp6(1),t.Q6J("ngIf",a<o.metadata.aliases.length-1)}}function da(i,c){if(1&i&&(t.TgZ(0,"ul",14)(1,"span"),t._uU(2,"Conocida como:"),t.qZA(),t.YNc(3,pa,3,2,"li",15),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",n.metadata.aliases)}}function ma(i,c){1&i&&(t.ynx(0),t._uU(1," | "),t.BQk())}function ga(i,c){if(1&i&&(t.TgZ(0,"li",16),t._uU(1),t.YNc(2,ma,2,0,"ng-container",17),t.qZA()),2&i){const n=c.$implicit,a=c.index,o=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",n.idtype,": ",n.value," "),t.xp6(1),t.Q6J("ngIf",a<o.metadata.identifiers.length-1)}}function ua(i,c){if(1&i&&(t.TgZ(0,"ul",14)(1,"span"),t._uU(2,"Identificadores:"),t.qZA(),t.YNc(3,ga,3,3,"li",15),t.qZA()),2&i){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",n.metadata.identifiers)}}function _a(i,c){1&i&&t._UZ(0,"hr",18)}const ha=function(){return{margin:"1em 8px"}},fa=function(i,c){return[i,c,"view"]};function xa(i,c){if(1&i&&(t.TgZ(0,"div",4)(1,"h2"),t.YNc(2,ea,3,4,"span",5),t.TgZ(3,"a",6),t._uU(4),t.qZA()(),t.TgZ(5,"span",7),t._uU(6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.YNc(9,na,2,1,"span",8),t.YNc(10,oa,4,1,"ul",9),t.YNc(11,ca,4,1,"ul",9),t.YNc(12,da,4,1,"ul",9),t.YNc(13,ua,4,1,"ul",9),t.YNc(14,_a,1,0,"hr",10),t.qZA()),2&i){const n=c.$implicit,a=c.index,o=t.oxw(2);t.Q6J("ngStyle",t.DdM(12,ha)),t.xp6(2),t.Q6J("ngIf",o.hasPermission),t.xp6(1),t.Q6J("routerLink",t.WLB(13,fa,o.env.organizations,n.metadata.id)),t.xp6(1),t.hij(" ",n.metadata.name," "),t.xp6(2),t.hij(" SceibaID: ",n.metadata.id," "),t.xp6(2),t.hij(" status: ",n.metadata.status," "),t.xp6(1),t.Q6J("ngIf",-1!=n.metadata.established),t.xp6(1),t.Q6J("ngIf",n.metadata.types&&n.metadata.types.length>0),t.xp6(1),t.Q6J("ngIf",n.metadata.acronyms&&n.metadata.acronyms.length>0),t.xp6(1),t.Q6J("ngIf",n.metadata.aliases&&n.metadata.aliases.length>0),t.xp6(1),t.Q6J("ngIf",n.metadata.identifiers&&n.metadata.identifiers.length>0),t.xp6(1),t.Q6J("ngIf",a<o.hitList.hits.length-1)}}function ba(i,c){if(1&i&&(t.TgZ(0,"mat-card",2),t._UZ(1,"mat-card-header"),t.TgZ(2,"mat-card-content"),t.YNc(3,xa,15,16,"div",3),t.qZA()()),2&i){const n=t.oxw();t.xp6(3),t.Q6J("ngForOf",n.hitList.hits)}}function va(i,c){1&i&&(t.TgZ(0,"mat-card")(1,"mat-card-content")(2,"h2"),t._uU(3,"No hay resultados para su b\xfasqueda..."),t.qZA()()())}let Ca=(()=>{class i{constructor(n,a){this.oauthStorage=n,this._env=a,this.pdfType="list",this.env=this._env}ngOnInit(){}get hasPermission(){let n=new st(this.oauthStorage);return!(!n.hasPermissions("curator")&&!n.hasPermissions("admin"))}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(k.Hy),t.Y36(u.qAh))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["organization-search-list"]],inputs:{hitList:"hitList"},decls:3,vars:2,consts:[["class","mat-elevation-z0",4,"ngIf","ngIfElse"],["templateNotInfo",""],[1,"mat-elevation-z0"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["mat-button","","matTooltip","Editar la Organizaci\xf3n",3,"routerLink",4,"ngIf"],[2,"cursor","pointer",3,"routerLink"],["color","primary",1,"mat-caption"],["class","p-40",4,"ngIf"],["fxLayout","row wrap",4,"ngIf"],["class","hr-grey-ligth",4,"ngIf"],["mat-button","","matTooltip","Editar la Organizaci\xf3n",3,"routerLink"],[1,"mat-18"],[1,"p-40"],["fxLayout","row wrap"],["class","li-margin-style",4,"ngFor","ngForOf"],[1,"li-margin-style"],[4,"ngIf"],[1,"hr-grey-ligth"]],template:function(a,o){if(1&a&&(t.YNc(0,ba,4,1,"mat-card",0),t.YNc(1,va,4,0,"ng-template",null,1,t.W1O)),2&a){const d=t.MAs(2);t.Q6J("ngIf",o.hitList&&o.hitList.hits.length>0)("ngIfElse",d)}},dependencies:[C.sg,C.O5,C.PC,q.gM,z.Hw,O.a8,O.dn,O.dk,Z.xw,G.Zl,J.rH],styles:[".p-40[_ngcontent-%COMP%]{padding-left:40px}.li-margin-style[_ngcontent-%COMP%]{margin:0 8px;list-style:none}.hr-grey-ligth[_ngcontent-%COMP%]{border-color:#fff3}"]})}return i})();function ya(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"button",10),t.NdJ("click",function(){t.CHM(n),t.oxw();const o=t.MAs(7);return t.KtG(o.toggle())}),t.TgZ(3,"mat-icon"),t._uU(4,"filter_list"),t.qZA()(),t.TgZ(5,"sceiba-ui-search-query-input",11),t.NdJ("queryChange",function(o){t.CHM(n);const d=t.oxw();return t.KtG(d.queryChange(o))}),t.qZA()()()}if(2&i){const n=t.oxw();t.xp6(5),t.Q6J("query",n.query)}}function wa(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"seiba-ui-search-aggregations",12),t.NdJ("keySelect",function(o){t.CHM(n);const d=t.oxw();return t.KtG(d.aggrChange(o))})("moreKeys",function(o){t.CHM(n);const d=t.oxw();return t.KtG(d.moreKeyClick(o))}),t.qZA()}if(2&i){const n=t.oxw();t.Q6J("aggregations",n.sr.aggregations)("selectedAggr",n.aggrsSelection)}}function Ta(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"div",8),t._UZ(1,"organization-search-list",13),t.TgZ(2,"mat-paginator",14),t.NdJ("page",function(o){t.CHM(n);const d=t.oxw();return t.KtG(d.pageChange(o))}),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(1),t.Q6J("hitList",n.sr.hits),t.xp6(1),t.Q6J("length",n.sr.hits.total)("pageSize",n.pageSize)("pageIndex",n.pageIndex)("pageSizeOptions",n.pageSizeOptions)}}let Oa=(()=>{class i{changeLayoutPosition(n){this.currentlayout=this.layoutPosition[n]}constructor(n,a,o,d){this._cuorService=n,this.activatedRoute=a,this._searchService=o,this.router=d,this.search_type=!0,this.layoutPosition=[{name:"Derecha",layout:"row-reverse",aling:"center baseline",width:"22"},{name:"Izquierda",layout:"row",aling:"center baseline",width:"22"},{name:"Arriba",layout:"column",aling:"center center",width:"90"},{name:"Abajo",layout:"column-reverse",aling:"center center",width:"90"}],this.currentlayout=this.layoutPosition[0],this.pageSize=5,this.pageIndex=0,this.pageSizeOptions=[5,15,25,50,100],this.query="",this.aggrsSelection={},this.loading=!0,this.chartType=Ae,this.currentChartType=this.chartType.polar}onResize(n){this.drawer&&(this.drawer.mode=(0,de.tq)()?"over":"side",(0,de.K1)()||(this.drawer.opened=!(0,de.aZ)()))}ngAfterViewInit(){this.onResize(null)}ngOnInit(){this.query="",this.activatedRoute.queryParamMap.subscribe({next:n=>{this.defaultQueryParams(n),this.aggrsSelection={};for(let a=0;a<n.keys.length;a++){const o=n.keys[a];switch(o){case"size":this.pageSize=Number.parseInt(n.get(o));break;case"page":this.pageIndex=Number.parseInt(n.get(o));break;case"q":this.query=n.get(o);break;default:this.aggrsSelection.hasOwnProperty(o)||(this.aggrsSelection[o]=[]),this.aggrsSelection[o].push(n.get(o))}}this.aggrsSelection.country=["Cuba"],this.updateFetchParams(),this.fetchSearchRequest()},error:n=>{},complete:()=>{}})}defaultQueryParams(n){n.hasOwnProperty("q")||(this.query=""),n.hasOwnProperty("size")||(this.pageSize=5),n.hasOwnProperty("page")||(this.pageIndex=0)}changeView(){this.search_type=!this.search_type}updateFetchParams(){this.params=new m.LE,this.params=this.params.set("size",this.pageSize.toString(10)),this.params=this.params.set("page",(this.pageIndex+1).toString(10)),this.params=this.params.set("q",this.query);for(const n in this.aggrsSelection)this.aggrsSelection[n].forEach(a=>{"country"!=n&&(this.params=this.params.set(n,a))});this.params=this.params.set("country","Cuba")}fetchSearchRequest(){this._cuorService.getOrganizations(this.params).subscribe({next:n=>{this.sr=n,this.sr.aggregations.country.disabled=!0,console.log(this.sr),this.aggr_keys=[{value:this.sr.aggregations.state,key:"Provincia"},{value:this.sr.aggregations.status,key:"Estado"},{value:this.sr.aggregations.types,key:"Tipo"},{value:this.sr.aggregations.country,key:"Pais"}]},error:n=>{console.log("ERROPR")},complete:()=>{console.log("END..."),this.loading=!1}})}pageChange(n){this.pageSize=n.pageSize,this.pageIndex=n.pageIndex,this.updateQueryParams()}aggrChange(n){this.aggrsSelection=n,this.updateQueryParams()}queryChange(n){this.query!=n&&(this.query=n,this.pageSize=5,this.pageIndex=0,this.updateQueryParams())}updateQueryParams(){this.loading=!0,this.queryParams={},this.queryParams.size=this.pageSize.toString(10),this.queryParams.page=this.pageIndex.toString(10),this.queryParams.q=this.query;for(const n in this.aggrsSelection)this.aggrsSelection[n].forEach(a=>{this.queryParams[n]=a});this.navigationExtras={relativeTo:this.activatedRoute,queryParams:this.queryParams,queryParamsHandling:""},this.router.navigate(["."],this.navigationExtras)}moreKeyClick(n){let a=this.sr.aggregations[n].buckets.length,d=[];for(const S in this.aggrsSelection)d.push({key:S,value:this.aggrsSelection[S]});this._searchService.getAggregationTerms({index:"organizations",filters:d,agg:{filter:n,size:a+5}}).subscribe({next:S=>{S.status==u.Mxn.SUCCESS&&(this.sr.aggregations[n].buckets=S.data.terms)},error:S=>{},complete:()=>{}})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(P.Q),t.Y36(J.gz),t.Y36(u.oDG),t.Y36(J.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["organization-search"]],viewQuery:function(a,o){if(1&a&&t.Gf(pe.jA,5),2&a){let d;t.iGM(d=t.CRH())&&(o.drawer=d.first)}},hostBindings:function(a,o){1&a&&t.NdJ("resize",function(y){return o.onResize(y)},!1,t.Jf7)},decls:10,vars:4,consts:[["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","space-between center",2,"height","80px","padding","0 16px"],[1,"mat-h2"],[3,"loading"],["class","m-1",4,"ngIf"],["autosize","",2,"background-color","white"],["position","start"],["drawer",""],[3,"aggregations","selectedAggr","keySelect","moreKeys",4,"ngIf"],[1,"m-1"],["fxLayout","row nowrap","fxLayoutAlign","space-between center","fxLayout.xs","column"],["mat-icon-button","","matTooltip","Filtros avanzados",3,"click"],[1,"p-1",2,"width","100%",3,"query","queryChange"],[3,"aggregations","selectedAggr","keySelect","moreKeys"],[3,"hitList"],[3,"length","pageSize","pageIndex","pageSizeOptions","page"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"B\xfasqueda"),t.qZA()(),t._UZ(3,"toco-progress",2),t.YNc(4,ya,6,1,"div",3),t.TgZ(5,"mat-drawer-container",4)(6,"mat-drawer",5,6),t.YNc(8,wa,1,2,"seiba-ui-search-aggregations",7),t.qZA(),t.YNc(9,Ta,3,5,"div",3),t.qZA()),2&a&&(t.xp6(3),t.Q6J("loading",o.loading),t.xp6(1),t.Q6J("ngIf",o.sr),t.xp6(4),t.Q6J("ngIf",o.sr),t.xp6(1),t.Q6J("ngIf",o.sr))},dependencies:[C.O5,N.RK,q.gM,z.Hw,pe.jA,pe.kh,le.NW,u.t15,Z.xw,Z.Wh,Wi.Y,Xi.v,Ca],styles:[".mat-card-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:40px}.mat-card-margin[_ngcontent-%COMP%]{margin:0 10px}"],data:{animation:[(0,lt.X$)("detailExpand",[(0,lt.SB)("collapsed",(0,lt.oB)({height:"0px",minHeight:"0",display:"none"})),(0,lt.SB)("expanded",(0,lt.oB)({height:"*"})),(0,lt.eR)("expanded <=> collapsed",(0,lt.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return i})();var Za=g(3815);function Aa(i,c){if(1&i&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Oqu(n.title)}}function Fa(i,c){if(1&i&&(t.TgZ(0,"h2"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,n.status))}}function Ia(i,c){if(1&i&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.hij(" ",n.message," ")}}function Ma(i,c){1&i&&(t.TgZ(0,"p",9),t._uU(1," Ha ocurrido un error inesperado, contacte a los administradores del sistema y describa lo sucedido. Prontamente ser\xe1 atendido. Muchas gracias y perdone las molestias que pueda ocasionar este error. "),t.qZA())}const me=function(){return{width:"100%"}},Ja=function(i){return[i,""]};let Ea=(()=>{class i{constructor(n,a,o){this.environment=n,this.router=a,this.errorService=o,this.env=this.environment,this.subscription=this.errorService.getErrors().subscribe(d=>{console.log(" antes de comprobar ",d),d?(this.title=d.title,this.status=d.status,this.message=d.message,console.log("error entrado a ver si llega ",this.title,this.status,this.message)):this.router.navigate(["/"])})}ngOnDestroy(){this.subscription.unsubscribe(),this.router.navigate(["/"])}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.qAh),t.Y36(J.F0),t.Y36(Te))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-error-page"]],inputs:{title:"title",status:"status",message:"message"},decls:22,vars:13,consts:[[2,"margin","2em","text-align","center"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","end center",1,"w-100"],[1,"w-50",3,"ngStyle.xs"],[1,"sceiba-a",3,"routerLink"],[4,"ngIf"],["src","assets/images/svg/404-error-3060993.svg","alt","Ha ocurrido un error",2,"width","50%","margin-bottom","-20px","padding","16px",3,"ngStyle.xs"],["href","https://pixabay.com/es/users/cripi-1028451/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=3060993"],["href","https://pixabay.com/es/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=3060993"],["class","mat-h3",4,"ngIf"],[1,"mat-h3"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Ha ocurrido un error."),t.qZA(),t.TgZ(3,"div",1)(4,"div",2)(5,"a",3),t.YNc(6,Aa,2,1,"h3",4),t.TgZ(7,"h2"),t._uU(8,"Regresar Inicio"),t.qZA(),t._UZ(9,"img",5),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"small"),t._uU(12," Imagen de "),t.TgZ(13,"a",6),t._uU(14,"Christelle Olivier"),t.qZA(),t._uU(15," en "),t.TgZ(16,"a",7),t._uU(17,"Pixabay"),t.qZA()()(),t.TgZ(18,"div",2),t.YNc(19,Fa,3,3,"h2",4),t.YNc(20,Ia,2,1,"p",8),t.YNc(21,Ma,2,0,"p",8),t.qZA()()()),2&a&&(t.xp6(4),t.Q6J("ngStyle.xs",t.DdM(8,me)),t.xp6(1),t.Q6J("routerLink",t.VKq(9,Ja,o.env.organizations)),t.xp6(1),t.Q6J("ngIf",o.title),t.xp6(3),t.Q6J("ngStyle.xs",t.DdM(11,me)),t.xp6(9),t.Q6J("ngStyle.xs",t.DdM(12,me)),t.xp6(1),t.Q6J("ngIf",o.status),t.xp6(1),t.Q6J("ngIf",o.message),t.xp6(1),t.Q6J("ngIf",!o.message))},dependencies:[C.O5,Z.xw,Z.Wh,G.Zl,J.rH,U.X$],styles:[".w-100[_ngcontent-%COMP%]{width:100%}.w-50[_ngcontent-%COMP%]{width:50%}"]})}return i})();var Na=g(8606);const ka=function(){return{width:"95%"}};let Fe=(()=>{class i{constructor(n,a,o){this.oauthStorage=n,this.environment=a,this.headerService=o,this.env=a}ngOnInit(){this.extraUser=[{nameTranslate:"DES_ORGANIZACIONES",icon:"mode_edit",href:`${this.environment.organizations}/disambiguate`,useRouterLink:!0,disabled:this.hasPermission},{nameTranslate:"IMPORT",icon:"file_upload",href:`${this.environment.organizations}/import`,useRouterLink:!0,disabled:this.hasPermissionAdmin}],this._subMenus=[{nameTranslate:"TOCO_SEARCH_SEARCH.SPAN_SEARCH_LABEL",useRouterLink:!0,href:this.environment.organizations+"/search"}],this.headerService.setHeaderData({icon:"/assets/icons/apps/organizaciones.svg",iconLabel:"ORGANIZACIONES",iconAlt:"ORGANIZACIONES",iconRoute:this.env.organizations,secondaryMenuElements:this._subMenus,extraMenuAuthenticatedUser:this.extraUser})}get hasPermission(){let n=new st(this.oauthStorage);return!(n.hasPermissions("curator")||n.hasPermissions("admin"))}get hasPermissionAdmin(){return!new st(this.oauthStorage).hasPermissions("admin")}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(k.Hy),t.Y36(u.qAh),t.Y36(Na.r))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["sceiba-ui-organizations-root"]],decls:4,vars:2,consts:[[1,"bg-primary-color",2,"height","100px","width","100%","height","200px","background","linear-gradient(to right, #007e3e, #373131)"],["fxLayout","row","fxLayoutAlign","center center",2,"border-radius","40px 40px 0 0"],[2,"margin-top","-170px","width","95%","background-color","white","border-radius","0px 0px 0 0","box-shadow","0px 5px 15px rgb(0, 0, 0, 0.088)",3,"ngStyle.xs"]],template:function(a,o){1&a&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"router-outlet"),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("ngStyle.xs",t.DdM(1,ka)))},dependencies:[Z.xw,Z.Wh,G.Zl,J.lC],styles:[".color-white[_ngcontent-%COMP%]{color:#fff!important;text-emphasis:white;text-decoration:none!important}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;min-height:64px}.w-90[_ngcontent-%COMP%]{width:90%}.apps[_ngcontent-%COMP%]{margin:.5em}.apps[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.MES[_ngcontent-%COMP%]{width:190px!important}.triangle[_ngcontent-%COMP%]{position:relative;width:0;height:0;border-top:0px solid transparent;border-left:80px solid #dd2c00;border-bottom:80px solid transparent;margin-left:-16px}.triangle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:23px;top:11px;color:#fff;transform:rotate(-45deg)}.center-elements[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: 490px){.center-elements[_ngcontent-%COMP%]{width:100%}}"]})}return i})();const Qa=[{path:"",component:Fe,children:[{path:":uuid/view",component:Li,resolve:{org:Rn}},{path:":uuid/edit",component:Ze,resolve:{org:re}},{path:":uuid/request-changes",component:Ze,resolve:{org:re}},{path:":uuid/review-changes",component:Oi,resolve:{org:re}},{path:"requests-list",component:$i},{path:"search",component:Oa},{path:"disambiguate",loadChildren:()=>g.e(69).then(g.bind(g,5173)).then(i=>i.DisambiguateModule),canActivate:[u.FY,we,oe]},{path:"import",component:li,canActivate:[u.FY,oe]},{path:"error",component:Ea},{path:"",component:ai},{path:"wiki-organizations",component:B.m},{path:"notifications",component:pi},{path:"**",component:Za.S}]}];let Sa=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({providers:[P.K,we,oe],imports:[J.Bz.forChild(Qa),J.Bz]})}return i})();var ft=g(8257);function Ie(i){return new I.w(i,"./assets/i18n/",".json")}let Ua=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i,bootstrap:[Fe]});static#n=this.\u0275inj=t.cJS({providers:[u.oDG,u.eY8,P.Q,{provide:u.qAh,useValue:F.N},{provide:k.Hy,useFactory:u.$wE}],imports:[X.a4,C.ez,A.f,U.aw.forChild({loader:{provide:U.Zw,useFactory:Ie,deps:[m.eN]}}),x.UX,u.IR2,u.pNY,u.nzq,u.TY2,x.u5,e.o9,Sa,u.t8n,tt.JP.forRoot({loader:m.eN}),at.C]})}return i})();t.B6R(be,function(){return[C.sg,C.O5,C.RF,C.n9,N.lW,M.pp,M.ib,M.yz,M.yK,hn,bn]},[]),t.B6R(B.m,function(){return[C.sg,C.O5,N.lW,q.gM,z.Hw,D.hX,M.pp,M.ib,M.yz,ft.C0,ft.VY,ft.Vq,ft.Ic,ft.fd,u.t15,Z.xw,Z.Wh,ve,Le,et.Ge]},[])},2728:(wt,it,g)=>{g.d(it,{K:()=>X,Q:()=>e});var m=g(9862),x=g(8645),U=g(5879),I=g(3887),C=g(2787);let e=(()=>{class k{constructor(A,F,u){this.http=A,this.handler=F,this.environment=u,this.prefix="organizations",this.httpOptions={headers:new m.WM({"Content-Type":"application/json",Authorization:"Bearer "})},this.iso639=[{label:"ab",value:"Abkhaz"},{label:"hy",value:"Armenio"},{label:"eu",value:"Vasco"},{label:"bg",value:"B\xfalgaro"},{label:"ca",value:"Catal\xe1n"},{label:"ce",value:"Chechenio"},{label:"ny",value:"Chichewa o Chewa o Nyanja"},{label:"zh",value:"Chino"},{label:"en",value:"Ingl\xe9s"},{label:"eo",value:"Esperanto"},{label:"es",value:"Espa\xf1ol (o Castellano)"},{label:"he",value:"Hebreo (moderno)"},{label:"hi",value:"Hindi"},{label:"la",value:"Latin"},{label:"no",value:"Noruego"},{label:"cu",value:"Antiguo eslavo eclesi\xe1stico o Iglesia eslava o eslavo eclesi\xe1stico o antiguo B\xfalgaro o Esclavo viejo"}],this.dpa=[{name:"Pinar del R\xedo",iso:"CU-01",dpa:"21",municipalities:[{dpa:"2101",name:"Sandino"},{dpa:"2102",name:"Mantua"},{dpa:"2103",name:"Minas de Matahambre"},{dpa:"2104",name:"Vi\xf1ales"},{dpa:"2105",name:"La Palma"},{dpa:"2106",name:"Los Palacios"},{dpa:"2107",name:"Consolaci\xf3n del Sur"},{dpa:"2108",name:"Pinar del R\xedo"},{dpa:"2109",name:"San Luis"},{dpa:"2110",name:"San Juan y Mart\xednez"},{dpa:"2111",name:"Guane"}]},{name:"Artemisa",iso:"CU-15",dpa:"22",municipalities:[{dpa:"2201",name:"Bah\xeda Honda"},{dpa:"2202",name:"Mariel"},{dpa:"2203",name:"Guanajay"},{dpa:"2204",name:"Caimito"},{dpa:"2205",name:"Bauta"},{dpa:"2206",name:"San Antonio de los Ba\xf1os"},{dpa:"2207",name:"G\xfcira de Melena"},{dpa:"2208",name:"Alqu\xedzar"},{dpa:"2209",name:"Artemisa"},{dpa:"2210",name:"Candelaria"},{dpa:"2211",name:"San Crist\xf3bal"}]},{name:"La Habana",iso:"CU-03",dpa:"23",municipalities:[{dpa:"2301",name:"Playa"},{dpa:"2302",name:"Plaza de la Revoluci\xf3n"},{dpa:"2303",name:"Centro Habana"},{dpa:"2304",name:"La Habana Vieja"},{dpa:"2305",name:"Regla"},{dpa:"2306",name:"Habana del Este"},{dpa:"2307",name:"Guanabacoa"},{dpa:"2308",name:"San Miguel del Padr\xf3n"},{dpa:"2309",name:"Diez de Octubre"},{dpa:"2310",name:"Cerro"},{dpa:"2311",name:"Marianao"},{dpa:"2312",name:"La Lisa"},{dpa:"2313",name:"Boyeros"},{dpa:"2314",name:"Arroyo Naranjo"},{dpa:"2315",name:"Cotorro"}]},{name:"Mayabeque",iso:"CU-16",dpa:"24",municipalities:[{dpa:"2401",name:"Bejucal"},{dpa:"2402",name:"San Jos\xe9 de Las Lajas"},{dpa:"2403",name:"Jaruco"},{dpa:"2404",name:"Santa Cruz del Norte"},{dpa:"2405",name:"Madruga"},{dpa:"2406",name:"Nueva Paz"},{dpa:"2407",name:"San Nicol\xe1s"},{dpa:"2408",name:"G\xfcines"},{dpa:"2409",name:"Melena del Sur"},{dpa:"2410",name:"Bataban\xf3"},{dpa:"2411",name:"Quivic\xe1n"}]},{name:"Matanzas",iso:"CU-04",dpa:"25",municipalities:[{dpa:"2501",name:"Matanzas"},{dpa:"2502",name:"C\xe1rdenas"},{dpa:"2503",name:"Mart\xed"},{dpa:"2504",name:"Col\xf3n"},{dpa:"2505",name:"Perico"},{dpa:"2506",name:"Jovellanos"},{dpa:"2507",name:"Pedro Betancourt"},{dpa:"2508",name:"Limonar"},{dpa:"2509",name:"Uni\xf3n de Reyes"},{dpa:"2510",name:"Ci\xe9naga de Zapata"},{dpa:"2511",name:"Jag\xfcey Grande"},{dpa:"2512",name:"Calimete"},{dpa:"2513",name:"Los Arabos"}]},{name:"Villa Clara",iso:"CU-05",dpa:"26",municipalities:[{dpa:"2601",name:"Corralillo"},{dpa:"2602",name:"Quemado de G\xfcines"},{dpa:"2603",name:"Sagua la Grande"},{dpa:"2604",name:"Encrucijada"},{dpa:"2605",name:"Camajuan\xed"},{dpa:"2606",name:"Caibari\xe9n"},{dpa:"2607",name:"Remedios"},{dpa:"2608",name:"Placetas"},{dpa:"2609",name:"Santa Clara"},{dpa:"2610",name:"Cifuentes"},{dpa:"2611",name:"Santo Domingo"},{dpa:"2612",name:"Ranchuelo"},{dpa:"2613",name:"Manicaragua"}]},{name:"Cienfuegos",iso:"CU-06",dpa:"27",municipalities:[{dpa:"2701",name:"Aguada de Pasajeros"},{dpa:"2702",name:"Rodas"},{dpa:"2703",name:"Palmira"},{dpa:"2704",name:"Lajas"},{dpa:"2705",name:"Cruces"},{dpa:"2706",name:"Cumanayagua"},{dpa:"2707",name:"Cienfuegos"},{dpa:"2708",name:"Abreus"}]},{name:"Sancti Sp\xedritus",iso:"CU-07",dpa:"28",municipalities:[{dpa:"2801",name:"Jaguajay"},{dpa:"2802",name:"Jatibonico"},{dpa:"2803",name:"Taguasco"},{dpa:"2804",name:"Cabaigu\xe1n"},{dpa:"2805",name:"Fomento"},{dpa:"2806",name:"Trinidad"},{dpa:"2807",name:"Sancti Spiritus"},{dpa:"2808",name:"La Sierpe"}]},{name:"Ciego de \xc1vila",iso:"CU-08",dpa:"29",municipalities:[{dpa:"2901",name:"Chambas"},{dpa:"2902",name:"Mor\xf3n"},{dpa:"2903",name:"Bolivia"},{dpa:"2904",name:"Primero de Enero"},{dpa:"2905",name:"Ciro Redondo"},{dpa:"2906",name:"Florencia"},{dpa:"2907",name:"Majagua"},{dpa:"2908",name:"Ciego de \xc1vila"},{dpa:"2909",name:"Venezuela"},{dpa:"2910",name:"Baragua"}]},{name:"Camag\xfcey",iso:"CU-09",dpa:"30",municipalities:[{dpa:"3001",name:"Carlos Manuel de C\xe9spedes"},{dpa:"3002",name:"Esmeralda"},{dpa:"3003",name:"Sierra de Cubitas"},{dpa:"3004",name:"Minas"},{dpa:"3005",name:"Nuevitas"},{dpa:"3006",name:"Gu\xe1imaro"},{dpa:"3007",name:"Sibanic\xfa"},{dpa:"3008",name:"Camag\xfcey"},{dpa:"3009",name:"Florida"},{dpa:"3010",name:"Vertientes"},{dpa:"3011",name:"Jimaguay\xfa"},{dpa:"3012",name:"Najasa"},{dpa:"3013",name:"Santa Cruz del Sur"}]},{name:"Las Tunas",iso:"CU-10",dpa:"31",municipalities:[{dpa:"3101",name:"Manat\xed"},{dpa:"3102",name:"Puerto Padre"},{dpa:"3103",name:"Jes\xfas Men\xe9ndez"},{dpa:"3104",name:"Majibacoa"},{dpa:"3105",name:"Las Tunas"},{dpa:"3106",name:"Jobabo"},{dpa:"3107",name:"Colombia"},{dpa:"3108",name:"Amancio"}]},{name:"Holgu\xedn",iso:"CU-11",dpa:"32",municipalities:[{dpa:"3201",name:"Gibara"},{dpa:"3202",name:"Rafael Freyre"},{dpa:"3203",name:"Banes"},{dpa:"3204",name:"Antilla"},{dpa:"3205",name:"Baguanos"},{dpa:"3206",name:"Holgu\xedn"},{dpa:"3207",name:"Calixto Garc\xeda"},{dpa:"3208",name:"Cacocum"},{dpa:"3209",name:"Urbano Noris"},{dpa:"3210",name:"Cueto"},{dpa:"3211",name:"Mayar\xed"},{dpa:"3212",name:"Franl Pa\xeds"},{dpa:"3213",name:"Sagua de T\xe1namo"},{dpa:"3214",name:"Moa"}]},{name:"Granma",iso:"CU-12",dpa:"33",municipalities:[{dpa:"3301",name:"R\xedo Cauto"},{dpa:"3302",name:"Cauto Cristo"},{dpa:"3303",name:"Jiguan\xed"},{dpa:"3304",name:"Bayamo"},{dpa:"3305",name:"Yara"},{dpa:"3306",name:"Manzanillo"},{dpa:"3307",name:"Campechuela"},{dpa:"3308",name:"Media Luna"},{dpa:"3309",name:"Niquero"},{dpa:"3310",name:"Pil\xf3n"},{dpa:"3311",name:"Bartolom\xe9 Mas\xf3"},{dpa:"3312",name:"Buey Arriba"},{dpa:"3313",name:"Guisa"}]},{name:"Santiago de Cuba",iso:"CU-13",dpa:"34",municipalities:[{dpa:"3401",name:"Contramaestre"},{dpa:"3402",name:"Mella"},{dpa:"3403",name:"San Luis"},{dpa:"3404",name:"Segundo Frente"},{dpa:"3405",name:"Songo - La Maya"},{dpa:"3406",name:"Santiago de Cuba"},{dpa:"3407",name:"Palma Soriano"},{dpa:"3408",name:"Tercer Frente"},{dpa:"3409",name:"Guam\xe1"}]},{name:"Guant\xe1namo",iso:"CU-14",dpa:"35",municipalities:[{dpa:"3501",name:"El Salvador"},{dpa:"3502",name:"Manuel Tames"},{dpa:"3503",name:"Yateras"},{dpa:"3504",name:"Baracoa"},{dpa:"3505",name:"Mais\xed"},{dpa:"3506",name:"Im\xedas"},{dpa:"3507",name:"San Antonio del Sur"},{dpa:"3508",name:"Caimanera"},{dpa:"3509",name:"Guant\xe1namo"},{dpa:"3510",name:"Niceto P\xe9rez"}]},{name:"Isla de la Juventud",iso:"CU-99",dpa:"4001"}],this.newHttp=new m.eN(F)}getISO639(){return this.iso639}getDPA(){return this.dpa}editOrganization(A){const F=A.entitystringify();console.log("payload",F),console.log("edit service org ",A);let at=this.http.post(this.environment.cuorApi+this.prefix+"/"+A.id+"/curate",F,this.httpOptions);return console.log("API response:",at),at}fileUpload(A){const F=this.environment.cuorHost+"import";return new m.WM({"Content-Type":"application/x-www-form-urlencoded"}),this.httpOptions.headers.set("Authorization","Bearer "+localStorage.getItem("access_token")),this.httpOptions.headers.set("Content-Type","application/x-www-form-urlencoded"),this.newHttp.post(F,A)}getOrganizations(A){return this.http.get(this.environment.sceibaApi+"search/organizations/",{params:A})}getActiveOrganizationById(A){return this.newHttp.get(this.environment.sceibaApi+"organizations/active/"+A)}getOrganizationById(A){return this.newHttp.get(this.environment.sceibaApi+"pid/organization/"+A)}static#t=this.\u0275fac=function(F){return new(F||k)(U.LFG(m.eN),U.LFG(m.jN),U.LFG(I.qAh))};static#e=this.\u0275prov=U.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})(),X=(()=>{class k{constructor(A,F,u){this.http=A,this._router=F,this.environment=u,this.authenticationSubject=new x.x,this.authenticationSubjectObservable=this.authenticationSubject.asObservable()}getUserLogin(){this.http.get(this.environment.cuorApi+"me").subscribe(A=>{this.user=A,this.loginChange()},A=>{this.user=null,this.loginChange()},()=>{})}loginChange(){this.authenticationSubject.next(this.user)}getUserInfo(){}canActivate(A,F){return null!=this.user||(this._router.navigate(["/"]),!1)}static#t=this.\u0275fac=function(F){return new(F||k)(U.LFG(m.eN),U.LFG(C.F0),U.LFG(I.qAh))};static#e=this.\u0275prov=U.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},8028:(wt,it,g)=>{g.d(it,{m:()=>gt,x:()=>rt});var m=g(6223),x=g(7700),U=g(8566),I=g(3887),C=g(8916),e=g(5879),X=g(6890),k=g(2728),tt=g(2787),A=g(6814),F=g(2296),u=g(617),at=g(2557),P=g(3814),et=g(8217);const B=["orgeditcomp"],t=["stepper"],R=["disambiguatecomp"];function Q(T,Y){1&T&&e._uU(0,"Seleccione una Organizaci\xf3n")}function N(T,Y){if(1&T&&e._UZ(0,"org-view",20),2&T){const f=e.oxw();e.Q6J("org",f.masterOrganization)}}function $(T,Y){1&T&&e._uU(0,"Seleccione organizaciones an\xe1logas")}function q(T,Y){if(1&T){const f=e.EpF();e.TgZ(0,"mat-expansion-panel",21),e.NdJ("opened",function(){const w=e.CHM(f).index,L=e.oxw();return e.KtG(L.setStep(w))}),e.TgZ(1,"mat-expansion-panel-header")(2,"div",22)(3,"mat-label")(4,"strong"),e._uU(5),e.qZA()(),e.TgZ(6,"button",23),e.NdJ("click",function(){const w=e.CHM(f).index,L=e.oxw();return e.KtG(L.deleteSecundaryOrg(w))}),e.TgZ(7,"mat-icon",24),e._uU(8,"delete"),e.qZA()()()(),e._UZ(9,"org-view",20),e.qZA()}if(2&T){const f=Y.$implicit,v=Y.index,b=e.oxw();e.Q6J("expanded",b.step===v),e.xp6(5),e.Oqu(f.name),e.xp6(4),e.Q6J("org",f)}}function z(T,Y){1&T&&e._uU(0,"Desambiguar metadatos")}function O(T,Y){1&T&&e._uU(0,"Editar y/o Finalizar")}function ot(T,Y){if(1&T&&e._UZ(0,"org-edit-form",25,26),2&T){const f=e.oxw();e.Q6J("org",f.masterOrganization)("loading","false")}}function Z(T,Y){if(1&T){const f=e.EpF();e.ynx(0),e.TgZ(1,"button",27),e.NdJ("click",function(){e.CHM(f);const b=e.oxw();return e.KtG(b.goDisambiguate(!0))}),e._uU(2," Finalizar "),e.qZA(),e.TgZ(3,"button",28),e.NdJ("click",function(){e.CHM(f);const b=e.oxw();return e.KtG(b.goDisambiguate())}),e._uU(4," Guardar y seguir desambiguando "),e.qZA(),e.BQk()}}function G(T,Y){if(1&T){const f=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(f);const b=e.oxw();return e.KtG(b.goDisambiguate(!0))}),e._uU(1," Finalizar "),e.qZA(),e.TgZ(2,"button",30),e.NdJ("click",function(){e.CHM(f);const b=e.oxw();return e.KtG(b.goDisambiguate())}),e._uU(3," Guardar y seguir desambiguando "),e.qZA()}}function D(T,Y){if(1&T&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&T){const f=Y.$implicit;e.xp6(1),e.Oqu(f.name)}}function mt(T,Y){if(1&T&&(e.ynx(0),e.YNc(1,D,2,1,"mat-chip",8),e.BQk()),2&T){const f=e.oxw();e.xp6(1),e.Q6J("ngForOf",f.orgs)}}let gt=(()=>{class T{constructor(f,v,b,w,L,M,H,nt){this._formBuilder=f,this._snackBar=v,this._dialog=b,this._orgService=w,this._router=L,this.activatedRoute=M,this.metadata=H,this.dialog=nt,this.showSecundaries=!1,this.step=-1,this.orgFilter=[{type:"country",value:"Cuba"},{type:"status",value:"active"}],this.loading=!1}initFields(){this.secundariesOrganizations=new Array,this.orgMasterCtrl=new m.p4("",m.kI.required),this.masterFormControl=new m.p4(null,m.kI.required),this.secundaryFormGroup=this._formBuilder.group({analogas:this.addItemsFormArray(null)})}ngOnInit(){this.initFields(),this.activatedRoute.data.subscribe(f=>{this.masterOrganization&&(this.metadata.meta.updateTag({name:"DC.title",content:this.masterOrganization.name}),this.metadata.meta.updateTag({name:"description",content:"Desambiguando organizaciones: "+this.masterOrganization.name}),this.metadata.meta.updateTag({name:"generator",content:"Sceiba en Proyecto Vlir Joint"}),this.metadata.meta.updateTag({name:"keywords",content:"Sceiba, organizaciones, identificaci\xf3n persistente, Cuba"}),this.metadata.meta.updateTag({name:"robots",content:"index,nofollow"}))})}setStep(f){this.step=f}nextStep(){this.step<this.secundariesOrganizations.length?this.step++:this.step=0}prevStep(){this.step>0?this.step--:this.step=this.secundariesOrganizations.length-1}addItemsFormArray(f){let v=this._formBuilder.array([],[m.kI.required,m.kI.minLength(1)]);if((0,U.o8)(f))v.push(this._formBuilder.group({id:new m.p4("",m.kI.required),name:new m.p4("",m.kI.required)}));else for(const b in f)v.push(this._formBuilder.group({id:new m.p4(b.id),name:new m.p4(b.name)}));return v}addMaster(){this.dialog.open(rt,{width:"90%",height:"90%",data:{cuban:!0,multiple:!1,selectOrg:f=>{console.log("closed searc"),this.receivingMaster(f)}}})}receivingMaster(f){f.length>0&&(this.loading=!1,this.masterOrganization=new I.cpi,this.masterOrganization.deepcopy(f[0]),this.masterFormControl.setValue(f[0]))}addSecundaries(){this.dialog.open(rt,{width:"90%",height:"90%",data:{cuban:!0,multiple:!0,selectOrg:f=>{console.log("closed searc"),this.receivingSecundaries(f)}}})}receivingSecundaries(f){this.secundariesOrganizations=[],f.forEach(v=>{const b=new I.pF$(this._snackBar);v.id==this.masterOrganization.id?b.showMessage(I.GL1.OK,v.name+" Ya esta organizaci\xf3n fue seleccionada como principal."):this.secundariesOrganizations.some(w=>w.id==v.id)?b.showMessage(I.GL1.OK,v.name+" Ya existe la organizaci\xf3n como an\xe1loga."):(this.secundariesOrganizations.push(v),this.addSecundaryOrgControl(v))}),this.loading=!1}addSecundaryOrgControl(f){this.secundaryFormGroup.get("analogas").push(this._formBuilder.group({id:new m.p4(f.id),name:new m.p4(f.name)}))}deleteSecundaryOrg(f){this._dialog.open(C.HI,{width:"60%",data:{label:this.secundaryFormGroup.get("analogas").value[f].name}}).afterClosed().subscribe(b=>{b&&(this.secundariesOrganizations.splice(f,1),this.secundaryFormGroup.get("analogas").removeAt(f),this._disambiguateComp.changingSecundaryPos(f))})}goDisambiguate(f=!1){const v=new I.cpi;this._orgEdit.fillObjectControls(),v.deepcopy(this._orgEdit.orgFormGroup.value),v.status="active",v.name=this._orgEdit.orgFormGroup.controls.name.value;let b=!1;console.log("go disambiguate ",v,this.secundariesOrganizations),this._orgService.editOrganization(v).subscribe({next:w=>{console.log("resul del subscribe a editorg",w),w.SUCCES?b=!0:w.ERROR&&(console.log("hubo un error",w.ERROR),new I.pF$(this._snackBar).showMessage(I.GL1.serverError,w.ERROR))},error:w=>{console.log(w),new I.pF$(this._snackBar).showMessage(I.GL1.serverError,w.message)}}),this.secundariesOrganizations.forEach(w=>{w.status="redirected",w.redirect=new I.l_F,w.redirect.idtype="orgid",w.redirect.value=this.masterOrganization.id;var M=[],H=!0;w.identifiers.forEach(W=>{H=!0,this.masterOrganization.identifiers.forEach(ut=>{W.value==ut.value&&(H=!1)}),H&&M.push(W)}),w.identifiers=M;let nt=new I.cpi;nt.deepcopy(w),console.log("*******************************************************************************secundary org enviada",nt),this._orgService.editOrganization(nt).subscribe({next:W=>{console.log("sec org ",W),b=!0},error:W=>{console.log("reconnect",W)}})}),b&&new I.pF$(this._snackBar).showMessage(I.GL1.OK,"Su realiz\xf3 la desambiguaci\xf3n correctamente"),this._resetStepper(),f?this._router.navigate(["/"]):(this._resetStepper(),this.initFields())}changingStep(f){if(3==f.selectedIndex&&2==f.previouslySelectedIndex){let v=new I.cpi;v.deepcopy(this.masterOrganization),this.masterOrganization=v}if(2==f.selectedIndex&&3==f.previouslySelectedIndex){let v=new I.cpi;v.deepcopy(this._orgEdit.orgFormGroup.value),this.masterOrganization=v}}_resetStepper(){this.masterOrganization=void 0,this.showSecundaries=!1,this.myStepper.reset(),this.ngOnInit()}isValidForm(){try{if(this.masterOrganization)return this._orgEdit.isValidForm()}catch(f){console.log(f)}return!1}static#t=this.\u0275fac=function(v){return new(v||T)(e.Y36(m.QS),e.Y36(X.ux),e.Y36(x.uw),e.Y36(k.Q),e.Y36(tt.F0),e.Y36(tt.gz),e.Y36(I.Doh),e.Y36(x.uw))};static#e=this.\u0275cmp=e.Xpm({type:T,selectors:[["app-disambiguate"]],viewQuery:function(v,b){if(1&v&&(e.Gf(B,5),e.Gf(t,5),e.Gf(R,5)),2&v){let w;e.iGM(w=e.CRH())&&(b._orgEdit=w.first),e.iGM(w=e.CRH())&&(b.myStepper=w.first),e.iGM(w=e.CRH())&&(b._disambiguateComp=w.first)}},decls:43,vars:11,consts:[["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","space-between center",2,"height","80px","padding","0 16px"],[1,"mat-h2"],[3,"loading"],["linear","",3,"selectionChange"],["stepper",""],[3,"stepControl"],["matStepLabel",""],["mat-raised-button","",3,"click"],[3,"org",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","end center"],["mat-raised-button","","color","primary","matStepperNext",""],["hideToggle","",3,"expanded","opened",4,"ngFor","ngForOf"],["mat-raised-button","","matStepperPrevious","","color","accent",1,"mt-1","mx-1"],["mat-raised-button","","matStepperNext","","color","primary",1,"mt-1","mx-1"],[3,"masterOrganization","secundariesOrganizations","showSecundaries"],["disambiguatecomp",""],[3,"org","loading",4,"ngIf"],["mat-raised-button","","color","accent","matStepperPrevious","",1,"mt-1","mx-1"],[4,"ngIf","ngIfElse"],["templateButtonUpdate",""],[3,"org"],["hideToggle","",3,"expanded","opened"],["fxLAyout","row","fxLayoutAlign","space-between center",2,"width","100%"],["mat-button","","matTooltip","Eliminar",3,"click"],["color","warn"],[3,"org","loading"],["orgeditcomp",""],["mat-raised-button","","color","primary",1,"mt-1","mx-1",3,"click"],["mat-stroked-button","","color","primary",1,"mt-1","mx-1",3,"click"],["mat-raised-button","","color","primary","disabled","",1,"mt-1","mx-1",3,"click"],["mat-stroked-button","","color","primary","disabled","",1,"mt-1","mx-1",3,"click"]],template:function(v,b){if(1&v&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Desambiguaci\xf3n"),e.qZA()(),e._UZ(3,"toco-progress",2),e.TgZ(4,"mat-horizontal-stepper",3,4),e.NdJ("selectionChange",function(L){return b.changingStep(L)}),e.TgZ(6,"mat-step",5),e.YNc(7,Q,1,0,"ng-template",6),e.TgZ(8,"button",7),e.NdJ("click",function(){return b.addMaster()}),e._uU(9,"Buscar Organizaci\xf3n"),e.qZA(),e.YNc(10,N,1,1,"org-view",8),e.TgZ(11,"div",9)(12,"button",10),e._uU(13," Siguiente "),e.qZA()()(),e.TgZ(14,"mat-step",5),e.YNc(15,$,1,0,"ng-template",6),e.TgZ(16,"button",7),e.NdJ("click",function(){return b.addSecundaries()}),e._uU(17," Buscar organizaciones "),e.qZA(),e.TgZ(18,"mat-accordion"),e.YNc(19,q,10,3,"mat-expansion-panel",11),e.qZA(),e.TgZ(20,"div",9)(21,"button",12),e._uU(22," Anterior "),e.qZA(),e.TgZ(23,"button",13),e._uU(24," Siguiente "),e.qZA()()(),e.TgZ(25,"mat-step"),e.YNc(26,z,1,0,"ng-template",6),e._UZ(27,"app-disambiguation",14,15),e.TgZ(29,"div",9)(30,"button",12),e._uU(31," Anterior "),e.qZA(),e.TgZ(32,"button",13),e._uU(33," Siguiente "),e.qZA()()(),e.TgZ(34,"mat-step"),e.YNc(35,O,1,0,"ng-template",6),e.YNc(36,ot,2,2,"org-edit-form",16),e.TgZ(37,"div",9)(38,"button",17),e._uU(39," Anterior "),e.qZA(),e.YNc(40,Z,5,0,"ng-container",18),e.YNc(41,G,4,0,"ng-template",null,19,e.W1O),e.qZA()()()),2&v){const w=e.MAs(42);e.xp6(3),e.Q6J("loading",b.loading),e.xp6(3),e.Q6J("stepControl",b.masterFormControl),e.xp6(4),e.Q6J("ngIf",b.masterOrganization),e.xp6(4),e.Q6J("stepControl",b.secundaryFormGroup),e.xp6(5),e.Q6J("ngForOf",b.secundariesOrganizations),e.xp6(8),e.Q6J("masterOrganization",b.masterOrganization)("secundariesOrganizations",b.secundariesOrganizations)("showSecundaries",b.showSecundaries),e.xp6(9),e.Q6J("ngIf",b.masterOrganization),e.xp6(4),e.Q6J("ngIf",b.isValidForm())("ngIfElse",w)}},styles:[".mt-1[_ngcontent-%COMP%]{margin-top:1em!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:2em}.mx-1[_ngcontent-%COMP%]{margin-left:.5em!important;margin-right:.5em!important}"]})}return T})(),rt=(()=>{class T{constructor(f,v){this.dialogRef=f,this.data=v,this.roles=[{label:"Principal",value:"MAIN"},{label:"Colaborador",value:"COLABORATOR"}],this.role=null,this.cuban=!0,this.multiple=!1}ngOnInit(){this.cuban=this.data.cuban,this.multiple=this.data.multiple}onNoClick(){this.dialogRef.close()}selectedOrg(f){this.orgs=f,console.log(this.orgs)}ok(){this.data.selectOrg(this.orgs),this.dialogRef.close()}static#t=this.\u0275fac=function(v){return new(v||T)(e.Y36(x.so),e.Y36(x.WI))};static#e=this.\u0275cmp=e.Xpm({type:T,selectors:[["org-desambiguate-select-dialog"]],decls:12,vars:5,consts:[["mat-button-fab","",2,"right","0px","margin","5px","position","fixed",3,"click"],["mat-dialog-title",""],["mat-dialog-content","",1,"height-auto"],[3,"multipleSelection","showActions","filterCuban","showTitle","selectedOrgEmiter"],["mat-dialog-actions","","fxLayout","row wrap"],["fxLayout","row wrap",2,"margin","10px"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[4,"ngFor","ngForOf"]],template:function(v,b){1&v&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return b.dialogRef.close()}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()(),e.TgZ(3,"h2",1),e._uU(4,"Seleccionar Organizaci\xf3n"),e.qZA(),e.TgZ(5,"div",2)(6,"sceiba-ui-search-select-org",3),e.NdJ("selectedOrgEmiter",function(L){return b.selectedOrg(L)}),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5),e.YNc(9,mt,2,1,"ng-container",6),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return b.ok()}),e._uU(11,"OK"),e.qZA()()),2&v&&(e.xp6(6),e.Q6J("multipleSelection",b.multiple)("showActions",!1)("filterCuban",b.cuban)("showTitle",!1),e.xp6(3),e.Q6J("ngIf",b.orgs&&b.orgs.length>0))},dependencies:[A.sg,A.O5,F.lW,u.Hw,x.uh,x.xY,x.H8,at.HS,P.xw,et.Q],encapsulation:2})}return T})()},8916:(wt,it,g)=>{g.d(it,{Ge:()=>ne,HI:()=>j});var m=g(6223),x=g(7700),U=g(8566),I=g(3887),C=g(8028),e=g(5879),X=g(2787),k=g(6890),tt=g(2728),A=g(6814),F=g(2296),u=g(2596),at=g(617),P=g(5195),et=g(2032),B=g(4170),t=g(8525),R=g(3680),Q=g(3305),N=g(9038),$=g(3814),q=g(7509),z=g(3445),O=g(8034),ot=g(6676);const Z=function(){return{width:"100%"}},G={parse:{dateInput:"YYYY"},display:{dateInput:"YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let D=(()=>{class p{get max(){return this._max?this._max.year():void 0}set max(r){if(r){const l=ot(r);this._max=l.isValid()?l:void 0}}get min(){return this._min?this._min.year():void 0}set min(r){if(r){const l=ot("number"==typeof r?[r,0,1]:r);this._min=l.isValid()?l:void 0}}constructor(){this.jpCustomFormFieldClass="",this.label="",this.disabled=!1,this.touchUi=!1,this._inputCtrl=new m.p4,this.onChange=r=>{},this.onTouched=()=>{},this._takeFocusAway=r=>{}}ngAfterViewInit(){}ngOnInit(){}writeValue(r){const l=ot(r.toString(),"YYYY");l.isValid()&&this._inputCtrl.setValue(l.set({date:1}),{emitEvent:!0})}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this._picker&&this._picker.disabled&&(this._picker.disabled=!!r),r?this._inputCtrl.disable():this._inputCtrl.enable()}_yearSelectedHandler(r,l){l.close(),this._isYearEnabled(r.year())&&(this._inputCtrl.setValue(r,{emitEvent:!0}),this.onChange(r.year()),this.onTouched())}_openDatepickerOnClick(r){r.opened||r.open()}_isYearEnabled(r){return!(null==r||this._max&&r>this._max.year()||this._min&&r<this._min.year())}static#t=this.\u0275fac=function(l){return new(l||p)};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["cuor-datepicker-year"]],viewQuery:function(l,s){if(1&l&&e.Gf(O.Mq,5),2&l){let _;e.iGM(_=e.CRH())&&(s._picker=_.first)}},inputs:{jpCustomFormFieldClass:"jpCustomFormFieldClass",label:"label",disabled:"disabled",max:"max",min:"min",touchUi:"touchUi"},features:[e._Bn([{provide:R.Ad,useValue:"pt"},{provide:R._A,useClass:z.t7,deps:[R.Ad]},{provide:R.sG,useValue:G},{provide:m.JU,useExisting:(0,e.Gpc)(()=>p),multi:!0}])],decls:7,vars:12,consts:[["appearance","outline",3,"ngClass","ngStyle"],["matInput","","readonly","",3,"formControl","matDatepicker","max","min","value","click","keydown.arrowdown","keydown.enter"],["panelClass","jp-year-picker","startView","multi-year",3,"touchUi","disabled","closed","yearSelected"],["datepicker",""],["matSuffix","",3,"for"]],template:function(l,s){if(1&l){const _=e.EpF();e.TgZ(0,"mat-form-field",0)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",1),e.NdJ("click",function(){e.CHM(_);const K=e.MAs(5);return e.KtG(s._openDatepickerOnClick(K))})("keydown.arrowdown",function(){e.CHM(_);const K=e.MAs(5);return e.KtG(s._openDatepickerOnClick(K))})("keydown.enter",function(){e.CHM(_);const K=e.MAs(5);return e.KtG(s._openDatepickerOnClick(K))}),e.qZA(),e.TgZ(4,"mat-datepicker",2,3),e.NdJ("closed",function(){e.CHM(_);const K=e.MAs(5);return e.KtG(s._takeFocusAway(K))})("yearSelected",function(K){e.CHM(_);const ae=e.MAs(5);return e.KtG(s._yearSelectedHandler(K,ae))}),e.qZA(),e._UZ(6,"mat-datepicker-toggle",4),e.qZA()}if(2&l){const _=e.MAs(5);e.Q6J("ngClass",s.jpCustomFormFieldClass)("ngStyle",e.DdM(11,Z)),e.xp6(2),e.Oqu(s.label),e.xp6(1),e.Q6J("formControl",s._inputCtrl)("matDatepicker",_)("max",s._max)("min",s._min)("value",s._inputCtrl.value),e.xp6(1),e.Q6J("touchUi",s.touchUi)("disabled",s.disabled),e.xp6(2),e.Q6J("for",_)}},dependencies:[A.mk,A.PC,et.Nt,B.KE,B.hX,B.R9,O.Mq,O.hl,O.nW,m.Fj,m.JJ,m.oH,q.oO,q.Zl]})}return p})();var mt=g(5986);function gt(p,h){if(1&p&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&p){const r=h.$implicit;e.Q6J("value",r.iso),e.xp6(1),e.hij(" ",r.name,"")}}function rt(p,h){if(1&p&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&p){const r=h.$implicit;e.Q6J("value",r.dpa),e.xp6(1),e.Oqu(r.name)}}let T=(()=>{class p{constructor(r,l){this._formBuilder=r,this._orgService=l,this.dpa=[],this.municipalities=[],this.postalRegExpression="\\d{5}([-]\\d{4})?",this.coordinatesRegExpression="^[+-]?([1-8]?\\d(\\.\\d+)?|90(\\.0+)?,\\s*[-+]?(180(\\.0+)?|((1]0-7]\\d)|([1-9]?\\d))(\\.\\d+)?)$",this.addressEmiter=new e.vpe(!0)}ngOnInit(){if(this.dpa=this._orgService.getDPA(),null==this.address)this.address=new I.kLt,this.address.country="Cuba",this.address.country_code="CU";else if(this.address.state){const r=this.dpa.find(l=>l.iso==this.address.state_code);null!=r&&(this.municipalities=r.municipalities,console.log("minicipalities --------\x3e>>> ",this.municipalities))}this.autocompleteFormControl=new m.p4(""),this.formGroup=this._formBuilder.group({city:new m.p4(this.address.city),country:new m.p4(this.address.country),country_code:new m.p4(this.address.country_code),lat:new m.p4(this.address.lat),lng:new m.p4(this.address.lng),line_1:new m.p4(this.address.line_1),line_2:new m.p4(this.address.line_2),line_3:new m.p4(this.address.line_3),postcode:new m.p4(this.address.postcode,m.kI.pattern(this.postalRegExpression)),primary:new m.p4(this.address.primary),state:new m.p4(this.address.state),state_code:new m.p4(this.address.state_code),municipality:new m.p4(this.address.municipality),municipality_dpa:new m.p4(this.address.municipality_dpa)}),console.log("Form group address: ",this.formGroup),this.formGroup.valueChanges.subscribe({next:()=>{this.formGroup.valid&&this.addressEmiter.emit(this.formGroup)}}),this.formGroup.controls.state_code.valueChanges.subscribe({next:r=>{const l=this.dpa.find(s=>s.iso==r);null!=l&&(this.formGroup.controls.state.setValue(l.name),this.municipalities=l.municipalities),(null==l||null==l.municipalities)&&(this.formGroup.controls.line_1.setValue(""),this.formGroup.controls.line_2.setValue(""))}}),this.formGroup.controls.municipality_dpa.valueChanges.subscribe({next:r=>{for(let l=0;l<this.municipalities.length;l++)this.municipalities[l].dpa==r&&(this.formGroup.controls.municipality.setValue(this.municipalities[l].name),l=this.municipalities.length)}})}static#t=this.\u0275fac=function(l){return new(l||p)(e.Y36(m.QS),e.Y36(tt.Q))};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-address"]],inputs:{address:"address"},outputs:{addressEmiter:"addressEmiter"},decls:49,vars:15,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center",3,"formGroup"],["appearance","outline",1,"w-70"],["matInput","","placeholder","Escriba el nombre del Pa\xeds","formControlName","country","readonly","",3,"value"],["appearance","outline",1,"w-25"],["matInput","","placeholder","Escriba el C\xf3digo del Pa\xeds","formControlName","country_code","readonly","",3,"value"],["appearance","outline",1,"w-100"],["placeholder","Seleccione la provincia","formControlName","state_code",1,"w-100",3,"value"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Seleccione el municipio","formControlName","municipality_dpa",1,"w-100",3,"value"],["matInput","","placeholder","Escriba el nombre de la ciudad... ","formControlName","city",3,"value"],["matInput","","placeholder","Escriba el #, calle, edificio, apartamento... ","formControlName","line_1",3,"value"],["matInput","","placeholder","Escriba los entre calles","formControlName","line_2",3,"value"],["matInput","","placeholder","Escriba datos adicionales de la direcci\xf3n","formControlName","line_3",3,"value"],["matInput","","type","number","placeholder","Escriba la latitud","formControlName","lat",3,"value"],["matInput","","type","number","placeholder","Escriba la longitud","formControlName","lng",3,"value"],["matInput","","placeholder","Escriba el c\xf3digo postal","formControlName","postcode",3,"value"],["formControlName","primary",3,"value"],[3,"value"]],template:function(l,s){1&l&&(e.TgZ(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Pa\xeds"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e.TgZ(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"C\xf3digo del Pa\xeds"),e.qZA(),e._UZ(8,"input",4),e.qZA(),e.TgZ(9,"mat-form-field",5)(10,"mat-label"),e._uU(11,"Provincia"),e.qZA(),e.TgZ(12,"mat-select",6),e.YNc(13,gt,2,2,"mat-option",7),e.qZA()(),e.TgZ(14,"mat-form-field",5)(15,"mat-label"),e._uU(16,"Municipio"),e.qZA(),e.TgZ(17,"mat-select",8),e.YNc(18,rt,2,2,"mat-option",7),e.qZA()(),e.TgZ(19,"mat-form-field",5)(20,"mat-label"),e._uU(21,"Ciudad"),e.qZA(),e._UZ(22,"input",9),e.qZA(),e.TgZ(23,"mat-form-field",5)(24,"mat-label"),e._uU(25,"Reparto, calle, edificio, n\xfamero..."),e.qZA(),e._UZ(26,"input",10),e.qZA(),e.TgZ(27,"mat-form-field",5)(28,"mat-label"),e._uU(29,"Entre calles"),e.qZA(),e._UZ(30,"input",11),e.qZA(),e.TgZ(31,"mat-form-field",5)(32,"mat-label"),e._uU(33,"Adicionales"),e.qZA(),e._UZ(34,"input",12),e.qZA(),e.TgZ(35,"mat-form-field",5)(36,"mat-label"),e._uU(37,"Latitud"),e.qZA(),e._UZ(38,"input",13),e.qZA(),e.TgZ(39,"mat-form-field",5)(40,"mat-label"),e._uU(41,"Longitud"),e.qZA(),e._UZ(42,"input",14),e.qZA(),e.TgZ(43,"mat-form-field",5)(44,"mat-label"),e._uU(45,"C\xf3digo postal"),e.qZA(),e._UZ(46,"input",15),e.qZA(),e.TgZ(47,"mat-checkbox",16),e._uU(48,"Es la direcci\xf3n principal"),e.qZA()()),2&l&&(e.Q6J("formGroup",s.formGroup),e.xp6(4),e.Q6J("value",s.formGroup.controls.country.value),e.xp6(4),e.Q6J("value",s.formGroup.controls.country_code.value),e.xp6(4),e.Q6J("value",s.formGroup.controls.state_code.value),e.xp6(1),e.Q6J("ngForOf",s.dpa),e.xp6(4),e.Q6J("value",s.formGroup.controls.municipality_dpa.value),e.xp6(1),e.Q6J("ngForOf",s.municipalities),e.xp6(4),e.Q6J("value",s.formGroup.controls.city.value),e.xp6(4),e.Q6J("value",s.formGroup.controls.line_1.value),e.xp6(4),e.Q6J("value",s.formGroup.controls.line_2.value),e.xp6(4),e.Q6J("value",s.formGroup.controls.line_3.value),e.xp6(4),e.Q6J("value",s.formGroup.controls.lat.value),e.xp6(4),e.Q6J("value",s.formGroup.controls.lng.value),e.xp6(4),e.Q6J("value",s.formGroup.controls.postcode.value),e.xp6(1),e.Q6J("value",s.formGroup.controls.primary.value))},dependencies:[A.sg,et.Nt,B.KE,B.hX,mt.oG,t.gD,R.ey,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.sg,m.u,$.xw,$.Wh],styles:[".w-25[_ngcontent-%COMP%]{width:25%}.w-70[_ngcontent-%COMP%]{width:70%}"]})}return p})();function f(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw();e.xp6(2),e.Oqu(r.indicator)}}function v(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw();e.xp6(2),e.Oqu(r.indicator)}}function b(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw();e.xp6(2),e.Oqu(r.indicator)}}function w(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw();e.xp6(2),e.Oqu(r.indicator)}}function L(p,h){1&p&&(e.TgZ(0,"mat-error"),e._uU(1," Por favor entre un correo v\xe1lido "),e.qZA())}function M(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw();e.xp6(2),e.Oqu(r.indicator)}}function H(p,h){if(1&p&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&p){const r=h.$implicit;e.Q6J("value",r.idtype),e.xp6(1),e.hij(" ",r.value,"")}}function nt(p,h){if(1&p){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",40),e.NdJ("click",function(){e.CHM(r);const s=e.oxw().index,_=e.oxw();return e.KtG(_.deleteidentifiers(s))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()(),e.BQk()}if(2&p){const r=e.oxw(2);e.xp6(1),e.Q6J("disabled",r.editDisabled)}}function W(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(r);const s=e.oxw().index,_=e.oxw();return e.KtG(_.reportIdentifiersError(s))}),e.TgZ(1,"mat-icon"),e._uU(2,"error"),e.qZA()()}}function ut(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}const xt=function(){return{marginBottom:"24px"}};function Tt(p,h){if(1&p&&(e.TgZ(0,"div",31)(1,"div",32)(2,"mat-form-field",33)(3,"mat-select",34),e.YNc(4,H,2,2,"mat-option",35),e.qZA()(),e.TgZ(5,"mat-form-field",33),e._UZ(6,"input",36),e.qZA(),e.YNc(7,nt,4,1,"ng-container",37),e.YNc(8,W,3,0,"ng-template",null,38,e.W1O),e.qZA(),e.YNc(10,ut,3,1,"div",5),e.qZA()),2&p){const r=h.$implicit,l=h.index,s=e.MAs(9),_=e.oxw();e.Q6J("ngStyle",e.DdM(14,xt)),e.xp6(1),e.ekj("my-outline",!1)("indicator-outline","review-changes"===_.pathname),e.Q6J("formGroup",_.identifiersControl.controls[l]),e.xp6(2),e.Q6J("value",r.value.idtype)("disabled",_.editDisabled),e.xp6(1),e.Q6J("ngForOf",_.selectOptionsIdType),e.xp6(2),e.Q6J("value",r.value.value)("readonly",_.editDisabled),e.xp6(1),e.Q6J("ngIf",_.identifierCanBeDeleted(r.value.idtype))("ngIfElse",s),e.xp6(3),e.Q6J("ngIf","review-changes"===_.pathname)}}function Ot(p,h){if(1&p&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&p){const r=h.$implicit;e.Q6J("value",r.label),e.xp6(1),e.hij(" ",r.value,"")}}function Zt(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function At(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"mat-form-field",33)(3,"mat-select",42),e.YNc(4,Ot,2,2,"mat-option",35),e.qZA()(),e.TgZ(5,"mat-form-field",33),e._UZ(6,"input",43),e.qZA(),e.TgZ(7,"button",40),e.NdJ("click",function(){const _=e.CHM(r).index,E=e.oxw();return e.KtG(E.deleteLabels(_))}),e.TgZ(8,"mat-icon"),e._uU(9,"delete"),e.qZA()()(),e.YNc(10,Zt,3,1,"div",5),e.qZA()}if(2&p){const r=h.$implicit,l=h.index,s=e.oxw();e.Q6J("ngStyle",e.DdM(13,xt)),e.xp6(1),e.ekj("my-outline",!0)("indicator-outline","review-changes"===s.pathname),e.Q6J("formGroup",s.labelsControl.controls[l]),e.xp6(2),e.Q6J("value",r.value.iso639)("disabled",s.editDisabled),e.xp6(1),e.Q6J("ngForOf",s.iso639),e.xp6(2),e.Q6J("value",r.value.label)("readonly",s.editDisabled),e.xp6(1),e.Q6J("disabled",s.editDisabled),e.xp6(3),e.Q6J("ngIf","review-changes"===s.pathname)}}function Ft(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function It(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"mat-form-field",6)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",44),e.TgZ(6,"button",40),e.NdJ("click",function(){const _=e.CHM(r).index,E=e.oxw();return e.KtG(E.deleteAcronyms(_))}),e.TgZ(7,"mat-icon"),e._uU(8,"delete"),e.qZA()()(),e.YNc(9,Ft,3,1,"div",5),e.qZA()()}if(2&p){const r=h.$implicit,l=h.index,s=e.oxw();e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(3),e.hij("Acr\xf3nimo ",l+1,""),e.xp6(1),e.Q6J("value",r)("formControlName",l)("readonly",s.editDisabled),e.xp6(1),e.Q6J("disabled",s.editDisabled),e.xp6(3),e.Q6J("ngIf","review-changes"===s.pathname)}}function Mt(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function Jt(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"mat-form-field",6)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",45),e.TgZ(6,"button",40),e.NdJ("click",function(){const _=e.CHM(r).index,E=e.oxw();return e.KtG(E.deleteAliases(_))}),e.TgZ(7,"mat-icon"),e._uU(8,"delete"),e.qZA()()(),e.YNc(9,Mt,3,1,"div",5),e.qZA()()}if(2&p){const r=h.$implicit,l=h.index,s=e.oxw();e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(3),e.hij("Alias ",l+1,""),e.xp6(1),e.Q6J("value",r)("formControlName",l)("readonly",s.editDisabled),e.xp6(1),e.Q6J("disabled",s.editDisabled),e.xp6(3),e.Q6J("ngIf","review-changes"===s.pathname)}}function Et(p,h){if(1&p&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&p){const r=h.$implicit;e.Q6J("value",r.value),e.xp6(1),e.hij("",r.label," ")}}function Nt(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function kt(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"div",46)(1,"div",1)(2,"div",47)(3,"mat-form-field",6)(4,"mat-label"),e._uU(5),e.qZA(),e.TgZ(6,"mat-select",48,49),e.YNc(8,Et,2,2,"mat-option",35),e.qZA()(),e.TgZ(9,"button",50),e.NdJ("click",function(){const _=e.CHM(r).index,E=e.oxw();return e.KtG(E.deleteTypes(_))}),e.TgZ(10,"mat-icon"),e._uU(11,"delete"),e.qZA()()(),e.YNc(12,Nt,3,1,"div",5),e.qZA()()}if(2&p){const r=h.$implicit,l=h.index,s=e.oxw();e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(4),e.hij("Tipo ",l+1,""),e.xp6(1),e.Q6J("value",r)("formControlName",l)("disabled",s.editDisabled),e.xp6(2),e.Q6J("ngForOf",s.selectOptions),e.xp6(1),e.Q6J("disabled",s.editDisabled),e.xp6(3),e.Q6J("ngIf","review-changes"===s.pathname)}}function Qt(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"mat-list-item",52)(1,"span",53),e._uU(2),e.qZA(),e.TgZ(3,"span",54),e._uU(4),e.qZA(),e.TgZ(5,"button",40),e.NdJ("click",function(){e.CHM(r);const s=e.oxw().index,_=e.oxw();return e.KtG(_.deleteRelationship(s))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA()()()}if(2&p){const r=e.oxw().$implicit,l=e.oxw();e.xp6(2),e.hij("",r.value.label," - "),e.xp6(2),e.hij(" ID: ",r.value.id," "),e.xp6(1),e.Q6J("disabled",l.editDisabled)}}function St(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function Ut(p,h){if(1&p&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,Qt,8,3,"mat-list-item",51),e.YNc(3,St,3,1,"div",5),e.qZA(),e.BQk()),2&p){const r=h.$implicit,l=e.oxw();e.xp6(1),e.ekj("indicator-list-container","review-changes"===l.pathname),e.xp6(1),e.Q6J("ngIf",l.orgRelationships.PARENT.value==r.value.type),e.xp6(1),e.Q6J("ngIf","review-changes"===l.pathname)}}function qt(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"mat-list-item",52)(1,"span",53),e._uU(2),e.qZA(),e.TgZ(3,"span",54),e._uU(4),e.qZA(),e.TgZ(5,"button",40),e.NdJ("click",function(){e.CHM(r);const s=e.oxw().index,_=e.oxw();return e.KtG(_.deleteRelationship(s))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA()()()}if(2&p){const r=e.oxw().$implicit,l=e.oxw();e.xp6(2),e.hij("",r.value.label," - "),e.xp6(2),e.hij(" ID: ",r.value.id," "),e.xp6(1),e.Q6J("disabled",l.editDisabled)}}function zt(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function Dt(p,h){if(1&p&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,qt,8,3,"mat-list-item",51),e.YNc(3,zt,3,1,"div",5),e.qZA(),e.BQk()),2&p){const r=h.$implicit,l=e.oxw();e.xp6(1),e.ekj("indicator-list-container","review-changes"===l.pathname),e.xp6(1),e.Q6J("ngIf",l.orgRelationships.CHILD.value==r.value.type),e.xp6(1),e.Q6J("ngIf","review-changes"===l.pathname)}}function Lt(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"mat-list-item",52)(1,"span",53),e._uU(2),e.qZA(),e.TgZ(3,"span",54),e._uU(4),e.qZA(),e.TgZ(5,"button",40),e.NdJ("click",function(){e.CHM(r);const s=e.oxw().index,_=e.oxw();return e.KtG(_.deleteRelationship(s))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA()()()}if(2&p){const r=e.oxw().$implicit,l=e.oxw();e.xp6(2),e.hij("",r.value.label," - "),e.xp6(2),e.hij(" ID: ",r.value.id," "),e.xp6(1),e.Q6J("disabled",l.editDisabled)}}function bt(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function Pt(p,h){if(1&p&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,Lt,8,3,"mat-list-item",51),e.YNc(3,bt,3,1,"div",5),e.qZA(),e.BQk()),2&p){const r=h.$implicit,l=e.oxw();e.xp6(1),e.ekj("indicator-list-container","review-changes"===l.pathname),e.xp6(1),e.Q6J("ngIf",l.orgRelationships.RELATED.value==r.value.type||l.orgRelationships.OTHER.value==r.value.type),e.xp6(1),e.Q6J("ngIf","review-changes"===l.pathname)}}function Yt(p,h){1&p&&(e.TgZ(0,"mat-error"),e._uU(1," Por favor entre una url v\xe1lida "),e.qZA())}function Rt(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw();e.xp6(2),e.Oqu(r.indicator)}}function Gt(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function Bt(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"mat-form-field",6)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",55),e.TgZ(6,"button",40),e.NdJ("click",function(){const _=e.CHM(r).index,E=e.oxw();return e.KtG(E.deletelinks(_))}),e.TgZ(7,"mat-icon"),e._uU(8,"delete"),e.qZA()()(),e.YNc(9,Gt,3,1,"div",5),e.qZA()()}if(2&p){const r=h.$implicit,l=h.index,s=e.oxw();e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(3),e.hij("Link ",l+1,""),e.xp6(1),e.Q6J("value",r)("formControlName",l)("readonly",s.editDisabled),e.xp6(1),e.Q6J("disabled",s.editDisabled),e.xp6(3),e.Q6J("ngIf","review-changes"===s.pathname)}}function Ht(p,h){if(1&p&&(e.ynx(0),e._uU(1),e.BQk()),2&p){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r.country," ")}}function Vt(p,h){if(1&p&&(e.ynx(0),e._uU(1),e.BQk()),2&p){const r=e.oxw().$implicit;e.xp6(1),e.hij(" , ",r.state," ")}}function vt(p,h){if(1&p&&(e.ynx(0),e._uU(1),e.BQk()),2&p){const r=e.oxw().$implicit;e.xp6(1),e.hij(" , ",r.municipality," ")}}function jt(p,h){if(1&p&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&p){const r=e.oxw(2);e.xp6(2),e.Oqu(r.indicator)}}function Kt(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",56)(2,"mat-list-item",57)(3,"div"),e.YNc(4,Ht,2,1,"ng-container",11),e.YNc(5,Vt,2,1,"ng-container",11),e.YNc(6,vt,2,1,"ng-container",11),e.qZA(),e.TgZ(7,"div")(8,"button",58),e.NdJ("click",function(){const _=e.CHM(r).index,E=e.oxw();return e.KtG(E.editaddress(_))}),e.TgZ(9,"mat-icon"),e._uU(10,"mode_edit"),e.qZA()(),e.TgZ(11,"button",59),e.NdJ("click",function(){const _=e.CHM(r).index,E=e.oxw();return e.KtG(E.deleteaddress(_))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA()()()(),e.YNc(14,jt,3,1,"div",5),e.qZA()()}if(2&p){const r=h.$implicit,l=e.oxw();e.xp6(1),e.ekj("indicator-list-container","review-changes"===l.pathname),e.xp6(3),e.Q6J("ngIf",r.country),e.xp6(1),e.Q6J("ngIf",r.state),e.xp6(1),e.Q6J("ngIf",r.municipality),e.xp6(2),e.Q6J("disabled",l.editDisabled),e.xp6(3),e.Q6J("disabled",l.editDisabled),e.xp6(3),e.Q6J("ngIf","review-changes"===l.pathname)}}const $t=function(){return{borderColor:"orange"}},dt=".w-100[_ngcontent-%COMP%]{width:100%}.w-50[_ngcontent-%COMP%]{width:49%}.w-45[_ngcontent-%COMP%]{width:45%}.mb-2[_ngcontent-%COMP%]{margin-bottom:2em}.mat-list-item-content[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.indicator-container[_ngcontent-%COMP%]{width:100%;padding-bottom:18px;margin:.25em 0}.indicator-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{color:orange}.indicator-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding:0;margin:0}.indicator-list-container[_ngcontent-%COMP%]{width:100%;padding-bottom:18px;margin:.25em 0}.indicator-list-container[_ngcontent-%COMP%]     .mat-list-item{border:1px solid orange;border-radius:5px}.indicator-list-container[_ngcontent-%COMP%]     .mat-list-item-content{width:100%!important;justify-content:space-between}.indicator-list-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding:0;margin:0}.indicator-outline[_ngcontent-%COMP%]{border:2px solid orange;border-radius:4px;padding:8px 8px 0;margin-bottom:0}.indicator[_ngcontent-%COMP%]{margin-left:10px;padding:8px;background-color:orange;width:8%;text-align:center;border-radius:0 0 10px 10px;font-size:12px;font-weight:600}";function Wt(p,h){1&p&&(e.TgZ(0,"h1",6),e._uU(1," Editar la direcci\xf3n "),e.qZA())}function Xt(p,h){1&p&&(e.TgZ(0,"h1",6),e._uU(1," Adicionar nueva direcci\xf3n "),e.qZA())}function te(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(r);const s=e.oxw();return e.KtG(s.saveData())}),e._uU(1," Adicionar "),e.qZA()}2&p&&e.Q6J("mat-dialog-close",!0)}function ee(p,h){if(1&p){const r=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(r);const s=e.oxw();return e.KtG(s.saveData())}),e._uU(1," Guardar "),e.qZA()}2&p&&e.Q6J("mat-dialog-close",!0)}let ne=(()=>{class p{constructor(r,l,s,_,E){this._activatedRoute=r,this._formBuilder=l,this._dialog=s,this._snackBar=_,this._orgService=E,this.loading=!0,this.editDisabled=!1,this.indicator="Nuevos cambios",this.orgFormGroup=this._formBuilder.group({id:""},[]),this.selectOptions=[{label:"Educaci\xf3n",value:"Education"},{label:"Salud",value:"Healthcare"},{label:"Compa\xf1\xeda",value:"Company"},{label:"Archivo",value:"Archive"},{label:"Sin fines de Lucro",value:"Nonprofit"},{label:"Gobierno",value:"Government"},{label:"Instalaci\xf3n",value:"Facility"},{label:"Otra",value:"Other"}],this.idtypes=["grid","wkdata","ror","isni","fudref","orgref","reup","orgaid"],this.selectOptionsIdType=[],this.orgRelationships=I.vd7,this.urlRegExpression="(https?://)?([\\da-z@:%=?$#._+~#=.-]+)\\.([a-z@:%=?$#._+~#=.]{2,6})[/\\w\\da-z@:%=?$#._+~#= .-]*/?",this.today=Date.now(),this.dateMin=new Date(1900),this.labelsControl=this._formBuilder.array([]),this.addressesControl=this._formBuilder.array([]),this.identifiersControl=this._formBuilder.array([]),this.relationshipsControl=this._formBuilder.array([])}copyOrg(){let r=new I.cpi;r.deepcopy(this.org),this.org=r,this.org.relationships.sort((l,s)=>l.label.localeCompare(s.label))}ngOnInit(){this._activatedRoute.url.subscribe(r=>{r&&r.length>1&&(this.pathname=r[1].path)}),this.copyOrg(),this.initData(),this.loading=!1,console.log("init before date inic ",this.org),this.org.established&&(this.setDateYearMin(this.org.established),console.log("onei ",this.dateMin)),this.iso639=this._orgService.getISO639();for(let r of this.idtypes)this.selectOptionsIdType.push({idtype:r,value:r})}ngOnChanges(){this.copyOrg(),this.initData(),this.loading=!1}setDateYearMin(r){this.dateMin.setFullYear(r)}identifierCanBeDeleted(r){return"reup"!=r}reportIdentifiersError(r){}initData(){this.org&&(this.orgFormGroup=this._formBuilder.group({id:new m.p4(this.org.id,m.kI.required),acronyms:this.addItemsFormArray(this.org.acronyms),aliases:this.addItemsFormArray(this.org.aliases),established:new m.p4(this.org.established,m.kI.required),onei_registry:new m.p4(this.org.onei_registry),identifiers:this.addItemsFormArrayIdentifiers(this.org.identifiers),labels:this.addItemsFormArrayLabels(this.org.labels),name:new m.p4({value:this.org.name,disabled:!0},m.kI.required),relationships:this.addItemsFormArrayRelationships(this.org.relationships),status:new m.p4(this.org.status?this.org.status:""),types:this.addItemsFormArray(this.org.types),addresses:this.addItemsFormArrayAddresses(this.org.addresses),wikipedia_url:new m.p4(this.org.wikipedia_url,[m.kI.nullValidator,m.kI.pattern(this.urlRegExpression)]),email_address:new m.p4(this.org.email_address,[m.kI.nullValidator,m.kI.email]),ip_addresses:this.addItemsFormArray(this.org.ip_addresses),links:this.addItemsFormArray(this.org.links,this.urlRegExpression)}),this.identifiersControl=this.addItemsFormArrayIdentifiers(this.org.identifiers),this.labelsControl=this.addItemsFormArrayLabels(this.org.labels),this.relationshipsControl=this.addItemsFormArrayRelationships(this.org.relationships),this.addressesControl=this.addItemsFormArrayAddresses(this.org.addresses))}fillObjectControls(){this.orgFormGroup.setControl("identifiers",this.identifiersControl),this.orgFormGroup.setControl("labels",this.labelsControl)}editInputName(){this._dialog.open(ie,{width:"40%",data:{label:this.orgFormGroup.controls.name.value}}).afterClosed().subscribe(l=>{l&&this.orgFormGroup.setControl("name",new m.p4(this.orgFormGroup.controls.name.value,m.kI.required))})}addAcronyms(){this.org.acronyms.push(""),this.orgFormGroup.get("acronyms").push(this._formBuilder.control(""))}deleteAcronyms(r){this._dialog.open(j,{width:"40%",data:{label:this.orgFormGroup.get("acronyms").value[r]}}).afterClosed().subscribe(s=>{s&&(this.org.acronyms.splice(r,1),this.orgFormGroup.get("acronyms").removeAt(r))})}addItemsFormArray(r,l=""){let s=this._formBuilder.array([]);if((0,U.o8)(r))s.push(this._formBuilder.control("",m.kI.pattern(l)));else for(const _ in r)s.push(this._formBuilder.control(r[_],m.kI.pattern(l)));return s}addlinks(){this.org.links.push(""),this.orgFormGroup.get("links").push(this._formBuilder.control("",m.kI.pattern(this.urlRegExpression)))}deletelinks(r){this._dialog.open(j,{width:"40%",data:{label:this.orgFormGroup.get("links").value[r]}}).afterClosed().subscribe(s=>{s&&(this.org.links.splice(r,1),this.orgFormGroup.get("links").removeAt(r))})}addAliases(){this.org.aliases.push(""),this.orgFormGroup.get("aliases").push(this._formBuilder.control(""))}deleteAliases(r){this._dialog.open(j,{width:"40%",data:{label:this.orgFormGroup.get("aliases").value[r]}}).afterClosed().subscribe(s=>{s&&(this.org.aliases.splice(r,1),this.orgFormGroup.get("aliases").removeAt(r))})}addTypes(){this.org.types.push(""),this.orgFormGroup.get("types").push(this._formBuilder.control(""))}deleteTypes(r){this._dialog.open(j,{width:"40%",data:{label:this.orgFormGroup.get("types").value[r]}}).afterClosed().subscribe(s=>{s&&(this.org.types.splice(r,1),this.orgFormGroup.get("types").removeAt(r))})}typeSelectChanges(r){console.log("typeSelectChanges",r)}addLabels(){this.org.labels.push(new I._4d),this.orgFormGroup.get("labels").push(this._formBuilder.group({label:new m.p4(""),iso639:new m.p4("")})),this.labelsControl.push(this._formBuilder.group({label:new m.p4(""),iso639:new m.p4("")}))}deleteLabels(r){this._dialog.open(j,{width:"40%",data:{label:this.labelsControl.value[r].iso639+": "+this.labelsControl.value[r].label}}).afterClosed().subscribe(s=>{s&&(this.org.labels.splice(r,1),this.orgFormGroup.get("labels").removeAt(r),this.labelsControl.removeAt(r))})}addItemsFormArrayLabels(r){let l=this._formBuilder.array([]);for(const s in r)l.push(this._formBuilder.group({label:new m.p4(r[s].label),iso639:new m.p4(r[s].iso639)}));return l}addaddress(){const r=this._dialog.open(Ct,{width:"60%",data:{}});r.afterClosed().subscribe({next:l=>{l&&r.componentInstance.data.address&&(this.org.addresses.push(r.componentInstance.data.address.value),this.org.addresses[this.org.addresses.length-1].primary&&this.changeAddresPrimary(this.org.addresses.length-1),this.orgFormGroup.setControl("addresses",this.addItemsFormArrayAddresses(this.org.addresses)),this.addressesControl=this.addItemsFormArrayAddresses(this.org.addresses))}})}editaddress(r){const l=this._dialog.open(Ct,{width:"60%",data:{address:this.orgFormGroup.get("addresses").value[r]}});l.afterClosed().subscribe(s=>{s&&(this.org.addresses[r]=l.componentInstance.data.address.value,this.org.addresses[r].primary&&this.changeAddresPrimary(r),this.orgFormGroup.setControl("addresses",this.addItemsFormArrayAddresses(this.org.addresses)),this.addressesControl=this.addItemsFormArrayAddresses(this.org.addresses))})}deleteaddress(r){this._dialog.open(j,{width:"40%",data:{label:this.addressesControl.value[r].line_2+", "+this.addressesControl.value[r].line_1+", "+this.addressesControl.value[r].city+"..."}}).afterClosed().subscribe(s=>{s&&(this.org.addresses.splice(r,1),this.orgFormGroup.get("addresses").removeAt(r),this.addressesControl.removeAt(r))})}addItemsFormArrayAddresses(r){let l=this._formBuilder.array([]);for(const s in r)l.push(this._formBuilder.group({city:new m.p4(r[s].city),country:new m.p4(r[s].country),country_code:new m.p4(r[s].country_code),lat:new m.p4(r[s].lat),lng:new m.p4(r[s].lng),line_1:new m.p4(r[s].line_1),line_2:new m.p4(r[s].line_2),line_3:new m.p4(r[s].line_3),postcode:new m.p4(r[s].postcode),primary:new m.p4(r[s].primary),state:new m.p4(r[s].state),state_code:new m.p4(r[s].state_code),municipality:new m.p4(r[s].municipality),municipality_dpa:new m.p4(r[s].municipality_dpa)}));return l}changeAddresPrimary(r){for(let l=0;l<this.org.addresses.length;l++)l!=r&&(this.org.addresses[l].primary=!1)}addIdentifiers(){this.org.identifiers.push(new I.xbm),this.orgFormGroup.get("identifiers").push(this._formBuilder.group({idtype:new m.p4(""),value:new m.p4("")})),this.identifiersControl.push(this._formBuilder.group({idtype:new m.p4(""),value:new m.p4("")}))}deleteidentifiers(r){this._dialog.open(j,{width:"40%",data:{label:this.identifiersControl.value[r].idtype+": "+this.identifiersControl.value[r].value}}).afterClosed().subscribe(s=>{s&&(this.org.identifiers.splice(r,1),this.orgFormGroup.get("identifiers").removeAt(r),this.identifiersControl.removeAt(r))})}addItemsFormArrayIdentifiers(r){let l=this._formBuilder.array([]);for(const s in r)l.push(this._formBuilder.group({idtype:new m.p4(r[s].idtype),value:new m.p4(r[s].value)}));return l}addItemsFormArrayRelationships(r){let l=this._formBuilder.array([]);for(const s in r)l.push(this._formBuilder.group({id:new m.p4(r[s].id),identifiers:this.addItemsFormArrayIdentifiers(r[s].identifiers),label:new m.p4(r[s].label),type:new m.p4(r[s].type)}));return l}deleteRelationship(r){this._dialog.open(j,{width:"40%",data:{label:this.relationshipsControl.value[r].label,id:this.relationshipsControl.value[r].id}}).afterClosed().subscribe(s=>{s&&(this.org.relationships.splice(r,1),this.orgFormGroup.get("relationships").removeAt(r),this.relationshipsControl.removeAt(r))})}addToRelationship(r){this._dialog.open(C.x,{width:"90%",height:"90%",data:{cuban:!0,multiple:!0,selectOrg:l=>{console.log("closed searc"),l.forEach(s=>{let _=new I.WX1;_.id=s.id,_.label=s.name,_.identifiers=s.identifiers,_.type=r,this.org.relationships.push(_)}),this.org.relationships.sort((s,_)=>s.label.localeCompare(_.label)),this.orgFormGroup.setControl("relationships",this.addItemsFormArrayRelationships(this.org.relationships)),this.relationshipsControl=this.addItemsFormArrayRelationships(this.org.relationships)}}})}isValidForm(){try{return this.orgFormGroup.valid}catch(r){console.log(r)}return!1}getOrgFromForm(){return this.fillObjectControls(),this.orgFormGroup.value}static#t=this.\u0275fac=function(l){return new(l||p)(e.Y36(X.gz),e.Y36(m.QS),e.Y36(x.uw),e.Y36(k.ux),e.Y36(tt.Q))};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["org-edit-form"]],inputs:{org:"org",loading:"loading",editDisabled:"editDisabled"},features:[e.TTD],decls:127,vars:63,consts:[[3,"formGroup"],[1,"w-100"],["appearance","outline",1,"w-100",3,"ngStyle"],["matInput","","placeholder","Escriba el nombre de la Organizaci\xf3n","formControlName","name",3,"value","disabled"],["mat-button","","matSuffix","","mat-button","","aria-label","Editar nombre",3,"disabled","click"],["class","indicator",4,"ngIf"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Estatus de la Organizaci\xf3n","disabled","",3,"value"],[3,"formControl","label","touchUi","max","disabled"],[3,"formControl","label","touchUi","min","max","disabled"],["matInput","","type","email","placeholder","Correo electr\xf3nico de la Organizaci\xf3n","formControlName","email_address",3,"value","readonly"],[4,"ngIf"],[1,"mb-2"],["formArrayName","identifiers"],[3,"ngStyle",4,"ngFor","ngForOf"],["align","end"],["mat-stroked-button","","color","primary",3,"disabled","click"],["formArrayName","labels"],["formArrayName","acronyms"],[4,"ngFor","ngForOf"],["formArrayName","aliases"],["formArrayName","types"],["class","w-100 mt-2","fxLayout","column",4,"ngFor","ngForOf"],[3,"multi"],["role","list"],[1,"w-100",2,"margin-top","2em !important"],["matInput","","type","url","placeholder","URL de wikipedia de la Organizaci\xf3n","formControlName","wikipedia_url",3,"value","readonly"],["formArrayName","links"],["formArrayName","addresses"],["class","w-100",4,"ngFor","ngForOf"],[1,"indicator"],[3,"ngStyle"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100",3,"formGroup"],[1,"w-45"],["placeholder","Seleccione el tipo","formControlName","idtype",1,"w-100",3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Valor","formControlName","value",3,"value","readonly"],[4,"ngIf","ngIfElse"],["templateReportError",""],[3,"value"],["mat-button","","matSuffix","","matTooltip","Eliminar","matTooltipClass","tooltip-red",1,"mat-18",3,"disabled","click"],["mat-button","","matSuffix","","matTooltip","Reportar error","matTooltipClass","tooltip-red",1,"mat-18",3,"click"],["placeholder","Seleccione el iso639","formControlName","iso639",1,"w-100",3,"value","disabled"],["matInput","","placeholder","Label","formControlName","label",3,"value","readonly"],["matInput","","placeholder","Acr\xf3nimo de la Organizaci\xf3n",3,"value","formControlName","readonly"],["matInput","","placeholder","Alias de la Organizaci\xf3n",3,"value","formControlName","readonly"],["fxLayout","column",1,"w-100","mt-2"],["fxLayout","row nowrap"],["placeholder","Seleccione el tipo de Organizaci\xf3n",3,"value","formControlName","disabled"],["typeSelect",""],["mat-button","","matSuffix","","matTooltip","Eliminar","matTooltipClass","tooltip-red",1,"mat-18",2,"margin-left","-39px","top","8px",3,"disabled","click"],["role","listitem",4,"ngIf"],["role","listitem"],[1,"mat-headline-12"],[1,"mat-caption"],["matInput","","type","url","placeholder","Links de la Organizaci\xf3n",3,"value","formControlName","readonly"],["fxLayout","column",1,"w-100"],["mat-list-item","","fxLayout","row wrap","fxLayoutAlign","space-between",1,"mat-list-option","w-100"],["mat-button","","matSuffix","","matTooltip","Click para Editar",1,"mat-18",3,"disabled","click"],["mat-button","","matSuffix","","matTooltip","Click para Eliminar","matTooltipClass","tooltip-red",1,"mat-18",3,"disabled","click"]],template:function(l,s){1&l&&(e.TgZ(0,"form",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4,"Nombre"),e.qZA(),e._UZ(5,"input",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return s.editInputName()}),e.TgZ(7,"mat-icon"),e._uU(8,"mode_edit"),e.qZA()()(),e.YNc(9,f,3,1,"div",5),e.qZA(),e.TgZ(10,"div",1)(11,"mat-form-field",6)(12,"mat-label"),e._uU(13,"Estatus"),e.qZA(),e._UZ(14,"input",7),e.qZA(),e.YNc(15,v,3,1,"div",5),e.qZA(),e.TgZ(16,"div",1),e._UZ(17,"cuor-datepicker-year",8),e.YNc(18,b,3,1,"div",5),e.qZA(),e.TgZ(19,"div",1),e._UZ(20,"cuor-datepicker-year",9),e.YNc(21,w,3,1,"div",5),e.qZA(),e.TgZ(22,"div",1)(23,"mat-form-field",6)(24,"mat-label"),e._uU(25,"Correo electr\xf3nico"),e.qZA(),e._UZ(26,"input",10),e.YNc(27,L,2,0,"mat-error",11),e.qZA(),e.YNc(28,M,3,1,"div",5),e.qZA(),e.TgZ(29,"mat-card",12)(30,"mat-card-content",13)(31,"p")(32,"mat-label"),e._uU(33,"Identificadores"),e.qZA()(),e.YNc(34,Tt,11,15,"div",14),e.qZA(),e.TgZ(35,"mat-card-actions",15)(36,"button",16),e.NdJ("click",function(){return s.addIdentifiers()}),e._uU(37," Adicionar "),e.qZA()()(),e.TgZ(38,"mat-card",12)(39,"mat-card-content",17)(40,"p")(41,"mat-label"),e._uU(42,"Labels"),e.qZA()(),e.YNc(43,At,11,14,"div",14),e.qZA(),e.TgZ(44,"mat-card-actions",15)(45,"button",16),e.NdJ("click",function(){return s.addLabels()}),e._uU(46," Adicionar "),e.qZA()()(),e.TgZ(47,"mat-card",12)(48,"mat-card-content",18)(49,"mat-label"),e._uU(50,"Acr\xf3nimos"),e.qZA(),e.YNc(51,It,10,8,"div",19),e.qZA(),e.TgZ(52,"mat-card-actions",15)(53,"button",16),e.NdJ("click",function(){return s.addAcronyms()}),e._uU(54," Adicionar "),e.qZA()()(),e.TgZ(55,"mat-card",12)(56,"mat-card-content",20)(57,"mat-label"),e._uU(58,"Alias"),e.qZA(),e.YNc(59,Jt,10,8,"div",19),e.qZA(),e.TgZ(60,"mat-card-actions",15)(61,"button",16),e.NdJ("click",function(){return s.addAliases()}),e._uU(62," Adicionar "),e.qZA()()(),e.TgZ(63,"mat-card",12)(64,"mat-card-content",21)(65,"mat-label"),e._uU(66,"Tipos"),e.qZA(),e.YNc(67,kt,13,9,"div",22),e.qZA(),e.TgZ(68,"mat-card-actions",15)(69,"button",16),e.NdJ("click",function(){return s.addTypes()}),e._uU(70," Adicionar "),e.qZA()()(),e.TgZ(71,"mat-accordion",23)(72,"mat-expansion-panel")(73,"mat-expansion-panel-header")(74,"mat-panel-title"),e._uU(75," Organizaciones Padres "),e.qZA(),e._UZ(76,"mat-panel-description"),e.qZA(),e.TgZ(77,"mat-list",24),e.YNc(78,Ut,4,4,"ng-container",19),e.qZA(),e.TgZ(79,"mat-action-row")(80,"button",16),e.NdJ("click",function(){return s.addToRelationship(s.orgRelationships.PARENT.value)}),e._uU(81," Adicionar "),e.qZA()()(),e.TgZ(82,"mat-expansion-panel")(83,"mat-expansion-panel-header")(84,"mat-panel-title"),e._uU(85," Organizaciones Hijas "),e.qZA(),e._UZ(86,"mat-panel-description"),e.qZA(),e.TgZ(87,"mat-list",24),e.YNc(88,Dt,4,4,"ng-container",19),e.qZA(),e.TgZ(89,"mat-action-row")(90,"button",16),e.NdJ("click",function(){return s.addToRelationship(s.orgRelationships.CHILD.value)}),e._uU(91," Adicionar "),e.qZA()()(),e.TgZ(92,"mat-expansion-panel")(93,"mat-expansion-panel-header")(94,"mat-panel-title"),e._uU(95," Organizaciones Relacionadas "),e.qZA(),e.TgZ(96,"mat-panel-description"),e._uU(97,"Relaci\xf3n en lo econ\xf3mico, intelectual, colaboraci\xf3n o proyectos en com\xfan, clientes, proveedores entre otros. "),e.qZA()(),e.TgZ(98,"mat-list",24),e.YNc(99,Pt,4,4,"ng-container",19),e.qZA(),e.TgZ(100,"mat-action-row")(101,"button",16),e.NdJ("click",function(){return s.addToRelationship(s.orgRelationships.RELATED.value)}),e._uU(102," Adicionar "),e.qZA()()()(),e.TgZ(103,"div",25)(104,"mat-form-field",6)(105,"mat-label"),e._uU(106,"URL de Wikipedia"),e.qZA(),e._UZ(107,"input",26),e.YNc(108,Yt,2,0,"mat-error",11),e.qZA(),e.YNc(109,Rt,3,1,"div",5),e.qZA(),e.TgZ(110,"mat-card",12)(111,"mat-card-content",27)(112,"mat-label"),e._uU(113,"Links"),e.qZA(),e.YNc(114,Bt,10,8,"div",19),e.qZA(),e.TgZ(115,"mat-card-actions",15)(116,"button",16),e.NdJ("click",function(){return s.addlinks()}),e._uU(117," Adicionar "),e.qZA()()(),e.TgZ(118,"mat-card",12)(119,"mat-card-content",28)(120,"mat-label"),e._uU(121,"Direcciones"),e.qZA(),e.TgZ(122,"mat-list"),e.YNc(123,Kt,15,8,"div",29),e.qZA()(),e.TgZ(124,"mat-card-actions",15)(125,"button",16),e.NdJ("click",function(){return s.addaddress()}),e._uU(126," Adicionar "),e.qZA()()()()),2&l&&(e.Q6J("formGroup",s.orgFormGroup),e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(1),e.Q6J("ngStyle",e.DdM(62,$t)),e.xp6(3),e.Q6J("value",s.org.name)("disabled",s.editDisabled),e.xp6(1),e.Q6J("disabled",s.editDisabled),e.xp6(3),e.Q6J("ngIf","review-changes"===s.pathname),e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(4),e.Q6J("value",s.org.status),e.xp6(1),e.Q6J("ngIf","review-changes"===s.pathname),e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(1),e.Q6J("formControl",s.orgFormGroup.controls.established)("label","Fundada en")("touchUi",!1)("max",s.today)("disabled",s.editDisabled),e.xp6(1),e.Q6J("ngIf","review-changes"===s.pathname),e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(1),e.Q6J("formControl",s.orgFormGroup.controls.onei_registry)("label","Alta en la ONEI")("touchUi",!1)("min",s.dateMin)("max",s.today)("disabled",s.editDisabled),e.xp6(1),e.Q6J("ngIf","review-changes"===s.pathname),e.xp6(1),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(4),e.Q6J("value",s.org.email_address)("readonly",s.editDisabled),e.xp6(1),e.Q6J("ngIf",s.orgFormGroup.hasError("email_address")),e.xp6(1),e.Q6J("ngIf","review-changes"===s.pathname),e.xp6(6),e.Q6J("ngForOf",s.identifiersControl.controls),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(7),e.Q6J("ngForOf",s.labelsControl.controls),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(6),e.Q6J("ngForOf",s.org.acronyms),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(6),e.Q6J("ngForOf",s.org.aliases),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(6),e.Q6J("ngForOf",s.org.types),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(2),e.Q6J("multi","true"),e.xp6(7),e.Q6J("ngForOf",s.relationshipsControl.controls),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(8),e.Q6J("ngForOf",s.relationshipsControl.controls),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(9),e.Q6J("ngForOf",s.relationshipsControl.controls),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(2),e.ekj("indicator-container","review-changes"===s.pathname),e.xp6(4),e.Q6J("value",s.org.wikipedia_url)("readonly",s.editDisabled),e.xp6(1),e.Q6J("ngIf",s.orgFormGroup.hasError("wikipedia_url")),e.xp6(1),e.Q6J("ngIf","review-changes"===s.pathname),e.xp6(5),e.Q6J("ngForOf",s.org.links),e.xp6(2),e.Q6J("disabled",s.editDisabled),e.xp6(7),e.Q6J("ngForOf",s.org.addresses),e.xp6(2),e.Q6J("disabled",s.editDisabled))},dependencies:[A.sg,A.O5,A.PC,F.lW,u.gM,at.Hw,P.a8,P.hq,P.dn,et.Nt,B.KE,B.hX,B.TO,B.R9,t.gD,R.ey,Q.pp,Q.ib,Q.VG,Q.yz,Q.yK,Q.u4,N.i$,N.Tg,m._Y,m.Fj,m.JJ,m.JL,m.oH,m.sg,m.u,m.CE,$.xw,$.Wh,q.Zl,D],styles:[dt]})}return p})(),j=(()=>{class p{constructor(r,l){this.dialogRef=r,this.data=l}onNoClick(){this.dialogRef.close()}static#t=this.\u0275fac=function(l){return new(l||p)(e.Y36(x.so),e.Y36(x.WI))};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["org-delete-confirm-dialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"mat-headline-12"],[1,"mat-caption"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","","color","warn",3,"mat-dialog-close"]],template:function(l,s){1&l&&(e.TgZ(0,"h1",0),e._uU(1,"Est\xe1 usted seguro que desea eliminar a"),e.qZA(),e.TgZ(2,"div",1)(3,"span",2),e._uU(4),e.qZA(),e.TgZ(5,"span",3),e._uU(6),e.qZA()(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return s.onNoClick()}),e._uU(9,"Cancelar"),e.qZA(),e.TgZ(10,"button",6),e._uU(11," Eliminar "),e.qZA()()),2&l&&(e.xp6(4),e.hij("",s.data.label," - "),e.xp6(2),e.hij(" ID: ",s.data.id," "),e.xp6(4),e.Q6J("mat-dialog-close",!0))},dependencies:[F.lW,x.ZT,x.uh,x.xY,x.H8],styles:[dt]})}return p})(),ie=(()=>{class p{constructor(r,l){this.dialogRef=r,this.data=l}onNoClick(){this.dialogRef.close()}static#t=this.\u0275fac=function(l){return new(l||p)(e.Y36(x.so),e.Y36(x.WI))};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["org-info-confirm-dialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","","color","primary",3,"mat-dialog-close"]],template:function(l,s){1&l&&(e.TgZ(0,"h1",0),e._uU(1,"Est\xe1 usted seguro que desea modificar a"),e.qZA(),e.TgZ(2,"div",1),e._uU(3),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return s.onNoClick()}),e._uU(6,"Cancelar"),e.qZA(),e.TgZ(7,"button",4),e._uU(8," Modificar "),e.qZA()()),2&l&&(e.xp6(3),e.hij(" ",s.data.label," "),e.xp6(4),e.Q6J("mat-dialog-close",!0))},dependencies:[F.lW,x.ZT,x.uh,x.xY,x.H8],styles:[dt]})}return p})(),Ct=(()=>{class p{constructor(r,l,s){this.dialogRef=r,this.data=l,this._dialog=s}addAddress(r){this.temporalAddress=r}onNoClick(){this.dialogRef.close()}saveData(){this.data.address=this.temporalAddress}deleteaddress(r){this._dialog.open(j,{width:"40%",data:{label:""}}).afterClosed().subscribe(s=>{})}static#t=this.\u0275fac=function(l){return new(l||p)(e.Y36(x.so),e.Y36(x.WI),e.Y36(x.uw))};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["org-edit-address-dialog"]],decls:9,vars:5,consts:[["mat-dialog-title","",4,"ngIf"],["mat-dialog-content",""],[3,"address","addressEmiter"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","","color","primary",3,"mat-dialog-close","click",4,"ngIf"],["mat-dialog-title",""],["mat-button","","cdkFocusInitial","","color","primary",3,"mat-dialog-close","click"]],template:function(l,s){1&l&&(e.YNc(0,Wt,2,0,"h1",0),e.YNc(1,Xt,2,0,"h1",0),e.TgZ(2,"div",1)(3,"app-edit-address",2),e.NdJ("addressEmiter",function(E){return s.addAddress(E)}),e.qZA()(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return s.onNoClick()}),e._uU(6,"Cancelar"),e.qZA(),e.YNc(7,te,2,1,"button",5),e.YNc(8,ee,2,1,"button",5),e.qZA()),2&l&&(e.Q6J("ngIf",null!=s.data.address),e.xp6(1),e.Q6J("ngIf",null==s.data.address),e.xp6(2),e.Q6J("address",s.data.address),e.xp6(4),e.Q6J("ngIf",null==s.data.address),e.xp6(1),e.Q6J("ngIf",null!=s.data.address))},dependencies:[A.O5,F.lW,x.ZT,x.uh,x.xY,x.H8,T],styles:[dt]})}return p})()}}]);