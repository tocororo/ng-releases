"use strict";(self.webpackChunksceiba_ui=self.webpackChunksceiba_ui||[]).push([[173],{3532:(G,u,a)=>{a.r(u),a.d(u,{SolurcesAppModule:()=>D,createTranslateLoader:()=>M});var x=a(9862),b=a(1447),w=a(6223),g=a(9515),y=a(5061),d=a(8751),f=a(4611),i=a(3887),l=a(6814),C=a(1884),S=a(6208),A=a(553),p=a(2787),R=a(3815),v=a(2822),t=a(5879),E=a(2296),r=a(3814),m=a(7509);const _=function(){return{width:"90%","margin-left":"1em","padding-top":"60px"}},T=function(n){return[n,"sources"]};let L=(()=>{class n{constructor(e,s,o){this.environment=e,this.metadata=s,this.transServ=o,this.env=this.environment}ngOnInit(){this.metadata.setStandardMeta("Catalog Sceiba","Sceiba Catalog")}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(i.qAh),t.Y36(i.Doh),t.Y36(g.sK))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["catalog-home"]],decls:12,vars:12,consts:[["fxLayout","column","fxLayoutAlign","center center"],["fxLayoutAlign","center center",1,"w-100","bg-primary-color"],[1,"pt-2em","pb-2em","ph-10"],[1,"mat-display-2",2,"margin","0","text-align","center","color","white"],[1,"w-70",2,"margin-top","0.5em","margin-left","4em",3,"ngStyle.xs"],["markdown","",1,"mat-h2","text-format",2,"margin","2em",3,"src"],[2,"margin","2em"],["mat-raised-button","","color","primary",3,"routerLink"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4),t._UZ(7,"div",5),t.TgZ(8,"div",6)(9,"button",7),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()),2&s&&(t.xp6(4),t.hij(" ",t.lcZ(5,5,"SCEIBA_CATALOGO_SUB")," "),t.xp6(2),t.Q6J("ngStyle.xs",t.DdM(9,_)),t.xp6(1),t.Q6J("src","assets/markdown/catalog/home.catalog."+o.transServ.currentLang+".md"),t.xp6(2),t.Q6J("routerLink",t.VKq(10,T,o.env.catalog)),t.xp6(1),t.hij(" ",t.lcZ(11,7,"EXPLORE_CATALOG")," "))},dependencies:[E.lW,p.rH,r.xw,r.Wh,m.Zl,f.lF,g.X$],styles:[".w-card[_ngcontent-%COMP%], .w-60[_ngcontent-%COMP%]{min-width:15em!important;width:auto;margin:2em}.m-1[_ngcontent-%COMP%]{margin:1em}.w-60[_ngcontent-%COMP%]{width:60%}.mat-image-in-card[_ngcontent-%COMP%]{width:100%!important;min-width:15em;max-width:30em;height:auto;max-height:15em}.mat-card-with-img[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.main-sceiba[_ngcontent-%COMP%]{background-image:url(/assets/icons/sceiba.top.svg);background-repeat:no-repeat;background-position:center top;background-size:contain;-webkit-backdrop-size:contain;-moz-background-size:contain;-o-background-size:contain}.main-title[_ngcontent-%COMP%]{margin:0}.text-get-started[_ngcontent-%COMP%]{font-size:x-large;text-align:center;margin-right:2em}.button-get-started[_ngcontent-%COMP%]{height:2em;font-size:24px;line-height:46px}.a-grey[_ngcontent-%COMP%]{color:#000;text-decoration:none}.a-grey[_ngcontent-%COMP%]:hover{text-decoration:underline}.pt-5[_ngcontent-%COMP%]{padding-top:5px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pt-30[_ngcontent-%COMP%]{padding-top:30px}.pt-50[_ngcontent-%COMP%]{padding-top:50px}.pt-2em[_ngcontent-%COMP%]{padding-top:2em}.pb-20[_ngcontent-%COMP%]{padding-bottom:20px}.pb-2em[_ngcontent-%COMP%]{padding-bottom:2em}.pb-1em[_ngcontent-%COMP%]{padding-bottom:1em}.ph-10[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.ph-30[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.w-20[_ngcontent-%COMP%]{width:25%;min-width:15em}.w-50[_ngcontent-%COMP%]{width:50%;min-width:15em}.w-70[_ngcontent-%COMP%]{width:70%;min-width:15em}.w-80[_ngcontent-%COMP%]{width:80%;min-width:15em}.w-100[_ngcontent-%COMP%]{width:100%;min-width:15em}.text-center[_ngcontent-%COMP%]{text-align:center}.text-xxl[_ngcontent-%COMP%]{font-size:9vw}.text-xl[_ngcontent-%COMP%]{font-size:5vw}.text-m[_ngcontent-%COMP%]{font-size:4vw}.text-s[_ngcontent-%COMP%]{font-size:2.2vw}.text-xs[_ngcontent-%COMP%]{font-size:1.8vw}.right-stats[_ngcontent-%COMP%]{min-width:11em;padding:0 16px;margin:1em 0}.line-vertical[_ngcontent-%COMP%]{width:60%;border-left:solid 2px grey;align-self:normal!important;padding:16px}.aling-center[_ngcontent-%COMP%]{margin:.5em;max-width:8em;text-align:center}.w-img[_ngcontent-%COMP%]{width:100px;border-radius:50%}.mySlides[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{min-height:300px;position:relative;margin:0;padding-left:10px;padding-right:10px}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.65);color:#fff;padding:16px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:medium}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:40%;width:20px;height:20px;padding:16px;margin-top:-22px;color:#fff;transition:.6s ease;border-radius:50%}.next[_ngcontent-%COMP%]{right:0}.prev[_ngcontent-%COMP%]:hover, .next[_ngcontent-%COMP%]:hover{background-color:#000c}.text[_ngcontent-%COMP%]{color:#007f3f;font-size:xx-large;padding:10px 50px;text-align:center}.numbertext[_ngcontent-%COMP%]{color:#f2f2f2;font-size:12px;padding:8px 12px;position:absolute;top:0}.dot[_ngcontent-%COMP%]{cursor:pointer;height:15px;width:15px;margin:0 2px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color .6s ease}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{background-color:#717171}.fade[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_fade;-webkit-animation-duration:1.5s;animation-name:_ngcontent-%COMP%_fade;animation-duration:1.5s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.4}to{opacity:1}}@media (max-width: 650px){.text[_ngcontent-%COMP%]{font-size:medium}}@media only screen and (max-width: 667px){.text[_ngcontent-%COMP%]{bottom:40px}.container[_ngcontent-%COMP%]{min-height:150px}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{top:40%}.main-sceiba[_ngcontent-%COMP%]{background-image:url(/assets/icons/sceiba.top.xs.svg)}}.card1-header-image[_ngcontent-%COMP%]{background-image:url(/assets/images/proximamente/people1.png);background-size:cover}.card2-header-image[_ngcontent-%COMP%]{background-image:url(/assets/images/proximamente/evaluation2.png);background-size:cover}.card3-header-image[_ngcontent-%COMP%]{background-image:url(/assets/images/proximamente/folder1.png);background-size:cover}.bgtranparent[_ngcontent-%COMP%]{background-color:#fffc}.cards-nexts[_ngcontent-%COMP%]{padding-top:20px;align-items:end;margin-right:0!important}.product1-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/catalog.svg);background-size:cover}.product2-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/organizacion.svg);background-size:cover}.product3-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/vocabs.svg);background-size:cover}.product4-image[_ngcontent-%COMP%]{background-image:url(/assets/icons/mes.svg);background-size:cover}.white-title[_ngcontent-%COMP%]{color:#fff;font-size:x-large;text-align:center}"]})}return n})();var h=a(5195),O=a(9038);function z(n,c){1&n&&(t.ynx(0),t.TgZ(1,"h1"),t._uU(2,"ERROR"),t.qZA(),t.BQk())}function Z(n,c){if(1&n&&(t.TgZ(0,"a",9),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function I(n,c){if(1&n&&t._UZ(0,"ngx-charts-pie-grid",10),2&n){const e=t.oxw(2);t.Q6J("view",e.view)("scheme",e.colorScheme)("results",e.homeCharts.types)}}function U(n,c){if(1&n&&t._UZ(0,"ngx-charts-bar-horizontal",11),2&n){const e=t.oxw(2);t.Q6J("view",e.view)("scheme",e.colorScheme)("results",e.homeCharts.indexes)("gradient",e.gradient)("legend",e.showLegend)("legendPosition",e.legendPosition)}}function J(n,c){if(1&n&&t._UZ(0,"ngx-charts-pie-chart",11),2&n){const e=t.oxw(2);t.Q6J("view",e.view)("scheme",e.colorScheme)("results",e.homeCharts.subjects)("gradient",e.gradient)("legend",e.showLegend)("legendPosition",e.legendPosition)}}const N=function(){return{margin:"2em","min-height":"160px"}};function Y(n,c){if(1&n&&(t.ynx(0),t.TgZ(1,"section",2)(2,"mat-card",3)(3,"mat-card-title-group")(4,"mat-card-title"),t._uU(5,"\xdaltimos Ingresos"),t.qZA()(),t.TgZ(6,"mat-card-content")(7,"mat-nav-list",4),t.YNc(8,Z,2,1,"a",5),t.qZA()()(),t.TgZ(9,"div",6),t.YNc(10,I,1,3,"ngx-charts-pie-grid",7),t.YNc(11,U,1,6,"ngx-charts-bar-horizontal",8),t.YNc(12,J,1,6,"ngx-charts-pie-chart",8),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.DdM(5,N)),t.xp6(6),t.Q6J("ngForOf",e.stats.last_sources),t.xp6(2),t.Q6J("ngIf",e.loadCharts),t.xp6(1),t.Q6J("ngIf",e.loadCharts),t.xp6(1),t.Q6J("ngIf",e.loadCharts)}}let Q=(()=>{class n{constructor(e){this.sourceServiceNoAuth=e,this.homeCharts={types:[],subjects:[],indexes:[]},this.stats=null,this.error=!1,this.loadCharts=!1,this.view=[700,300],this.barView=[340,300],this.gradient=!1,this.showLegend=!0,this.showLabels=!0,this.isDoughnut=!0,this.legendPosition="below",this.colorScheme={domain:["#A9A9A9","#85E96E","#E3E96E","#E9AC6E","#E96E70","#E96EB6","#AE6EE9","#6F6EE9","#6EBBE9","#6EE9B5"]}}ngOnInit(){this.lastSources=new Array,this.init()}init(){this.sourceServiceNoAuth.getSourcesStats(null).subscribe(e=>{if(e&&e.status==i.Mxn.SUCCESS){this.stats=e.data.aggr;let s=[];this.stats.source_types.forEach(o=>{o.source_type==i.rRR.JOURNAL.value&&(o.label=i.rRR.JOURNAL.label,s.push(o)),o.source_type==i.rRR.STUDENT.value&&(o.label=i.rRR.STUDENT.label,s.push(o)),o.source_type==i.rRR.POPULARIZATION.value&&(o.label=i.rRR.POPULARIZATION.label,s.push(o)),o.source_type==i.rRR.REPOSITORY.value&&(o.label=i.rRR.REPOSITORY.label,s.push(o)),o.source_type==i.rRR.SERIAL.value&&(o.label=i.rRR.SERIAL.label,s.push(o)),o.source_type==i.rRR.WEBSITE.value&&(o.label=i.rRR.WEBSITE.label,s.push(o)),o.source_type==i.rRR.OTHER.value&&(o.label=i.rRR.OTHER.label,s.push(o)),o.source_count&&0!=o.source_count&&this.homeCharts.types.push({name:o.label,value:o.source_count})}),this.stats.indexes.forEach(o=>{this.homeCharts.indexes.push({name:o.description,value:o.source_count?o.source_count:0})}),this.stats.subjects.forEach(o=>{this.homeCharts.subjects.push({name:o.description,value:o.source_count?o.source_count:0})}),this.stats.source_types=s,console.log(this.stats),this.loadCharts=!0}},e=>{console.log("error: "+e+"."),this.error=!0},()=>{console.log("complete")})}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(i.isv))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["catalog-statistics"]],decls:3,vars:4,consts:[[3,"loading","position"],[4,"ngIf"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","center center","fxLayoutGap","2em",2,"padding","1em"],[1,"w-card",3,"ngStyle"],["dense",""],["mat-list-item","",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","center center","fxLayoutGap","10%",2,"padding-top","4em"],["style","margin-left: 2.5em",3,"view","scheme","results",4,"ngIf"],["style","margin-left: 2.5em",3,"view","scheme","results","gradient","legend","legendPosition",4,"ngIf"],["mat-list-item",""],[2,"margin-left","2.5em",3,"view","scheme","results"],[2,"margin-left","2.5em",3,"view","scheme","results","gradient","legend","legendPosition"]],template:function(s,o){1&s&&(t._UZ(0,"toco-progress",0),t.YNc(1,z,3,0,"ng-container",1),t.YNc(2,Y,13,6,"ng-container",1)),2&s&&(t.Q6J("loading",!o.stats&&!o.error)("position","absolute"),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",o.stats))},dependencies:[l.sg,l.O5,l.PC,h.a8,h.dn,h.n5,h.C1,O.Hk,O.Tg,d.$e,d.JU,d.Nm,i.t15,r.xw,r.SQ,r.Wh,m.Zl]})}return n})();var F=a(6658),B=a(8606);const k=function(){return{width:"95%"}};let P=(()=>{class n{constructor(e,s,o){this.environment=e,this.oauthStorage=s,this.headerService=o}ngOnInit(){this.env=this.environment,this.extraUser=[{nameTranslate:"CATALOG_PERMISSIONS",icon:"vpn_key",href:this.environment.catalog+"/permissions",useRouterLink:!0,disabled:this.notAuthenticated}],this._subMenus=[{nameTranslate:"TOCO_SEARCH_SEARCH.SPAN_SEARCH_LABEL",useRouterLink:!0,href:this.environment.catalog+"/sources"}],this.headerService.setHeaderData({icon:"/assets/icons/apps/catalog.svg",iconLabel:"SCEIBA_CATALOGO",iconAlt:"SCEIBA_CATALOGO",iconRoute:this.env.catalog,secondaryMenuElements:this._subMenus,extraMenuAuthenticatedUser:this.extraUser})}get notAuthenticated(){return null==JSON.parse(this.oauthStorage.getItem(i.FGX))}ngOnDestroy(){}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(i.qAh),t.Y36(C.Hy),t.Y36(B.r))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["sceiba-ui-sources-root"]],decls:4,vars:2,consts:[[1,"bg-primary-color",2,"height","100px","width","100%","height","200px","background","linear-gradient(to right, #007e3e, #373131)"],["fxLayout","row","fxLayoutAlign","center center",2,"border-radius","40px 40px 0 0"],[2,"margin-top","-170px","width","95%","background-color","white","border-radius","0px 0px 0 0","box-shadow","0px 5px 15px rgb(0, 0, 0, 0.088)",3,"ngStyle.xs"]],template:function(s,o){1&s&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"router-outlet"),t.qZA()()),2&s&&(t.xp6(2),t.Q6J("ngStyle.xs",t.DdM(1,k)))},dependencies:[p.lC,r.xw,r.Wh,m.Zl],styles:[".color-white[_ngcontent-%COMP%]{color:#fff!important;text-emphasis:white;text-decoration:none!important}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;min-height:64px}.w-90[_ngcontent-%COMP%]{width:90%}.apps[_ngcontent-%COMP%]{margin:.5em;display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#000;font-size:smaller}.apps[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55px;height:55px}.MES[_ngcontent-%COMP%]{width:190px!important}.triangle[_ngcontent-%COMP%]{position:relative;width:0;height:0;border-top:0px solid transparent;border-left:80px solid #dd2c00;border-bottom:80px solid transparent;margin-left:-16px}.triangle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:23px;top:11px;color:#fff;transform:rotate(-45deg)}.menu-full[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap}.font-bold[_ngcontent-%COMP%]{font-weight:700}.center-elements[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: 490px){.center-elements[_ngcontent-%COMP%]{width:100%}}"]})}return n})();const H=[{path:"",component:P,children:[{path:"sources",loadChildren:()=>Promise.all([a.e(382),a.e(217),a.e(496)]).then(a.bind(a,2496)).then(n=>n.CatalogModule)},{path:"permissions",loadChildren:()=>Promise.all([a.e(797),a.e(341)]).then(a.bind(a,797)).then(n=>n.PermissionsModule),canActivate:[i.FY]},{path:"harvester",loadChildren:()=>a.e(895).then(a.bind(a,1895)).then(n=>n.HarvesterModule),canActivate:[i.FY]},{path:"userprofile",component:F.t,canActivate:[i.FY]},{path:"notifications",component:i.ZPP,canActivate:[i.FY]},{path:"statistics",component:Q},{path:"",component:L},{path:"**",component:R.S}]}];let j=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({providers:[v.U,v.M],imports:[p.Bz.forChild(H),p.Bz]})}return n})();function M(n){return new y.w(n,"./assets/i18n/",".json")}let D=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275mod=t.oAB({type:n,bootstrap:[P]});static#e=this.\u0275inj=t.cJS({providers:[i.oDG,i.tkg,i.isv,i.iw$,i.X4d,i.eY8,{provide:C.Hy,useFactory:i.$wE},i.JFf,{provide:i.qAh,useValue:A.N}],imports:[l.ez,S.f,d.a4,g.aw.forChild({loader:{provide:g.Zw,useFactory:M,deps:[x.eN]}}),w.UX,j,i.PQW,i.TY2,i.nzq,i.IR2,b.o9,f.JP.forRoot({loader:x.eN})]})}return n})()}}]);